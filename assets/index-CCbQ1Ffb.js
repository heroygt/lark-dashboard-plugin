(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var GI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yn(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var pve={exports:{}},R$={},gve={exports:{}},Fi={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dP=Symbol.for("react.element"),J2e=Symbol.for("react.portal"),eLe=Symbol.for("react.fragment"),tLe=Symbol.for("react.strict_mode"),nLe=Symbol.for("react.profiler"),iLe=Symbol.for("react.provider"),rLe=Symbol.for("react.context"),sLe=Symbol.for("react.forward_ref"),aLe=Symbol.for("react.suspense"),oLe=Symbol.for("react.memo"),lLe=Symbol.for("react.lazy"),lte=Symbol.iterator;function uLe(n){return n===null||typeof n!="object"?null:(n=lte&&n[lte]||n["@@iterator"],typeof n=="function"?n:null)}var mve={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vve=Object.assign,yve={};function JC(n,e,t){this.props=n,this.context=e,this.refs=yve,this.updater=t||mve}JC.prototype.isReactComponent={};JC.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};JC.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function _ve(){}_ve.prototype=JC.prototype;function eK(n,e,t){this.props=n,this.context=e,this.refs=yve,this.updater=t||mve}var tK=eK.prototype=new _ve;tK.constructor=eK;vve(tK,JC.prototype);tK.isPureReactComponent=!0;var ute=Array.isArray,bve=Object.prototype.hasOwnProperty,nK={current:null},Sve={key:!0,ref:!0,__self:!0,__source:!0};function xve(n,e,t){var i,r={},s=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)bve.call(e,i)&&!Sve.hasOwnProperty(i)&&(r[i]=e[i]);var o=arguments.length-2;if(o===1)r.children=t;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];r.children=l}if(n&&n.defaultProps)for(i in o=n.defaultProps,o)r[i]===void 0&&(r[i]=o[i]);return{$$typeof:dP,type:n,key:s,ref:a,props:r,_owner:nK.current}}function cLe(n,e){return{$$typeof:dP,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function iK(n){return typeof n=="object"&&n!==null&&n.$$typeof===dP}function dLe(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var cte=/\/+/g;function G3(n,e){return typeof n=="object"&&n!==null&&n.key!=null?dLe(""+n.key):e.toString(36)}function XD(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case dP:case J2e:a=!0}}if(a)return a=n,r=r(a),n=i===""?"."+G3(a,0):i,ute(r)?(t="",n!=null&&(t=n.replace(cte,"$&/")+"/"),XD(r,e,t,"",function(u){return u})):r!=null&&(iK(r)&&(r=cLe(r,t+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(cte,"$&/")+"/")+n)),e.push(r)),1;if(a=0,i=i===""?".":i+":",ute(n))for(var o=0;o<n.length;o++){s=n[o];var l=i+G3(s,o);a+=XD(s,e,t,l,r)}else if(l=uLe(n),typeof l=="function")for(n=l.call(n),o=0;!(s=n.next()).done;)s=s.value,l=i+G3(s,o++),a+=XD(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function YI(n,e,t){if(n==null)return n;var i=[],r=0;return XD(n,i,"","",function(s){return e.call(t,s,r++)}),i}function hLe(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Iu={current:null},qD={transition:null},fLe={ReactCurrentDispatcher:Iu,ReactCurrentBatchConfig:qD,ReactCurrentOwner:nK};function wve(){throw Error("act(...) is not supported in production builds of React.")}Fi.Children={map:YI,forEach:function(n,e,t){YI(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return YI(n,function(){e++}),e},toArray:function(n){return YI(n,function(e){return e})||[]},only:function(n){if(!iK(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Fi.Component=JC;Fi.Fragment=eLe;Fi.Profiler=nLe;Fi.PureComponent=eK;Fi.StrictMode=tLe;Fi.Suspense=aLe;Fi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fLe;Fi.act=wve;Fi.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=vve({},n.props),r=n.key,s=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=nK.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var o=n.type.defaultProps;for(l in e)bve.call(e,l)&&!Sve.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];i.children=o}return{$$typeof:dP,type:n.type,key:r,ref:s,props:i,_owner:a}};Fi.createContext=function(n){return n={$$typeof:rLe,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:iLe,_context:n},n.Consumer=n};Fi.createElement=xve;Fi.createFactory=function(n){var e=xve.bind(null,n);return e.type=n,e};Fi.createRef=function(){return{current:null}};Fi.forwardRef=function(n){return{$$typeof:sLe,render:n}};Fi.isValidElement=iK;Fi.lazy=function(n){return{$$typeof:lLe,_payload:{_status:-1,_result:n},_init:hLe}};Fi.memo=function(n,e){return{$$typeof:oLe,type:n,compare:e===void 0?null:e}};Fi.startTransition=function(n){var e=qD.transition;qD.transition={};try{n()}finally{qD.transition=e}};Fi.unstable_act=wve;Fi.useCallback=function(n,e){return Iu.current.useCallback(n,e)};Fi.useContext=function(n){return Iu.current.useContext(n)};Fi.useDebugValue=function(){};Fi.useDeferredValue=function(n){return Iu.current.useDeferredValue(n)};Fi.useEffect=function(n,e){return Iu.current.useEffect(n,e)};Fi.useId=function(){return Iu.current.useId()};Fi.useImperativeHandle=function(n,e,t){return Iu.current.useImperativeHandle(n,e,t)};Fi.useInsertionEffect=function(n,e){return Iu.current.useInsertionEffect(n,e)};Fi.useLayoutEffect=function(n,e){return Iu.current.useLayoutEffect(n,e)};Fi.useMemo=function(n,e){return Iu.current.useMemo(n,e)};Fi.useReducer=function(n,e,t){return Iu.current.useReducer(n,e,t)};Fi.useRef=function(n){return Iu.current.useRef(n)};Fi.useState=function(n){return Iu.current.useState(n)};Fi.useSyncExternalStore=function(n,e,t){return Iu.current.useSyncExternalStore(n,e,t)};Fi.useTransition=function(){return Iu.current.useTransition()};Fi.version="18.3.1";gve.exports=Fi;var q=gve.exports;const M=yn(q);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pLe=q,gLe=Symbol.for("react.element"),mLe=Symbol.for("react.fragment"),vLe=Object.prototype.hasOwnProperty,yLe=pLe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_Le={key:!0,ref:!0,__self:!0,__source:!0};function Cve(n,e,t){var i,r={},s=null,a=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)vLe.call(e,i)&&!_Le.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:gLe,type:n,key:s,ref:a,props:r,_owner:yLe.current}}R$.Fragment=mLe;R$.jsx=Cve;R$.jsxs=Cve;pve.exports=R$;var _e=pve.exports,AW={},Tve={exports:{}},ld={},Eve={exports:{}},Ave={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(N,V){var H=N.length;N.push(V);e:for(;0<H;){var K=H-1>>>1,U=N[K];if(0<r(U,V))N[K]=V,N[H]=U,H=K;else break e}}function t(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var V=N[0],H=N.pop();if(H!==V){N[0]=H;e:for(var K=0,U=N.length,X=U>>>1;K<X;){var Z=2*(K+1)-1,Q=N[Z],se=Z+1,ae=N[se];if(0>r(Q,H))se<U&&0>r(ae,Q)?(N[K]=ae,N[se]=H,K=se):(N[K]=Q,N[Z]=H,K=Z);else if(se<U&&0>r(ae,H))N[K]=ae,N[se]=H,K=se;else break e}}return V}function r(N,V){var H=N.sortIndex-V.sortIndex;return H!==0?H:N.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,d=null,h=3,f=!1,p=!1,g=!1,m=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(N){for(var V=t(u);V!==null;){if(V.callback===null)i(u);else if(V.startTime<=N)i(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=t(u)}}function x(N){if(g=!1,y(N),!p)if(t(l)!==null)p=!0,$(w);else{var V=t(u);V!==null&&z(x,V.startTime-N)}}function w(N,V){p=!1,g&&(g=!1,v(A),A=-1),f=!0;var H=h;try{for(y(V),d=t(l);d!==null&&(!(d.expirationTime>V)||N&&!I());){var K=d.callback;if(typeof K=="function"){d.callback=null,h=d.priorityLevel;var U=K(d.expirationTime<=V);V=n.unstable_now(),typeof U=="function"?d.callback=U:d===t(l)&&i(l),y(V)}else i(l);d=t(l)}if(d!==null)var X=!0;else{var Z=t(u);Z!==null&&z(x,Z.startTime-V),X=!1}return X}finally{d=null,h=H,f=!1}}var T=!1,E=null,A=-1,k=5,P=-1;function I(){return!(n.unstable_now()-P<k)}function D(){if(E!==null){var N=n.unstable_now();P=N;var V=!0;try{V=E(!0,N)}finally{V?L():(T=!1,E=null)}}else T=!1}var L;if(typeof _=="function")L=function(){_(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,F=B.port2;B.port1.onmessage=D,L=function(){F.postMessage(null)}}else L=function(){m(D,0)};function $(N){E=N,T||(T=!0,L())}function z(N,V){A=m(function(){N(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){p||f||(p=!0,$(w))},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(N){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var H=h;h=V;try{return N()}finally{h=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(N,V){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var H=h;h=N;try{return V()}finally{h=H}},n.unstable_scheduleCallback=function(N,V,H){var K=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?K+H:K):H=K,N){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=H+U,N={id:c++,callback:V,priorityLevel:N,startTime:H,expirationTime:U,sortIndex:-1},H>K?(N.sortIndex=H,e(u,N),t(l)===null&&N===t(u)&&(g?(v(A),A=-1):g=!0,z(x,H-K))):(N.sortIndex=U,e(l,N),p||f||(p=!0,$(w))),N},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(N){var V=h;return function(){var H=h;h=V;try{return N.apply(this,arguments)}finally{h=H}}}})(Ave);Eve.exports=Ave;var bLe=Eve.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SLe=q,ed=bLe;function _t(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kve=new Set,fk={};function O0(n,e){Qw(n,e),Qw(n+"Capture",e)}function Qw(n,e){for(fk[n]=e,n=0;n<e.length;n++)kve.add(e[n])}var km=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kW=Object.prototype.hasOwnProperty,xLe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dte={},hte={};function wLe(n){return kW.call(hte,n)?!0:kW.call(dte,n)?!1:xLe.test(n)?hte[n]=!0:(dte[n]=!0,!1)}function CLe(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function TLe(n,e,t,i){if(e===null||typeof e>"u"||CLe(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ru(n,e,t,i,r,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var fl={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){fl[n]=new Ru(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];fl[e]=new Ru(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){fl[n]=new Ru(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){fl[n]=new Ru(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){fl[n]=new Ru(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){fl[n]=new Ru(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){fl[n]=new Ru(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){fl[n]=new Ru(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){fl[n]=new Ru(n,5,!1,n.toLowerCase(),null,!1,!1)});var rK=/[\-:]([a-z])/g;function sK(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(rK,sK);fl[e]=new Ru(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(rK,sK);fl[e]=new Ru(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(rK,sK);fl[e]=new Ru(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){fl[n]=new Ru(n,1,!1,n.toLowerCase(),null,!1,!1)});fl.xlinkHref=new Ru("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){fl[n]=new Ru(n,1,!1,n.toLowerCase(),null,!0,!0)});function aK(n,e,t,i){var r=fl.hasOwnProperty(e)?fl[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(TLe(e,t,r,i)&&(t=null),i||r===null?wLe(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var Vm=SLe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,KI=Symbol.for("react.element"),Ax=Symbol.for("react.portal"),kx=Symbol.for("react.fragment"),oK=Symbol.for("react.strict_mode"),OW=Symbol.for("react.profiler"),Ove=Symbol.for("react.provider"),Pve=Symbol.for("react.context"),lK=Symbol.for("react.forward_ref"),PW=Symbol.for("react.suspense"),MW=Symbol.for("react.suspense_list"),uK=Symbol.for("react.memo"),jv=Symbol.for("react.lazy"),Mve=Symbol.for("react.offscreen"),fte=Symbol.iterator;function kT(n){return n===null||typeof n!="object"?null:(n=fte&&n[fte]||n["@@iterator"],typeof n=="function"?n:null)}var ra=Object.assign,Y3;function bE(n){if(Y3===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Y3=e&&e[1]||""}return`
`+Y3+n}var K3=!1;function X3(n,e){if(!n||K3)return"";K3=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){i=u}n.call(e.prototype)}else{try{throw Error()}catch(u){i=u}n()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),s=i.stack.split(`
`),a=r.length-1,o=s.length-1;1<=a&&0<=o&&r[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(r[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||r[a]!==s[o]){var l=`
`+r[a].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=a&&0<=o);break}}}finally{K3=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?bE(n):""}function ELe(n){switch(n.tag){case 5:return bE(n.type);case 16:return bE("Lazy");case 13:return bE("Suspense");case 19:return bE("SuspenseList");case 0:case 2:case 15:return n=X3(n.type,!1),n;case 11:return n=X3(n.type.render,!1),n;case 1:return n=X3(n.type,!0),n;default:return""}}function IW(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case kx:return"Fragment";case Ax:return"Portal";case OW:return"Profiler";case oK:return"StrictMode";case PW:return"Suspense";case MW:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Pve:return(n.displayName||"Context")+".Consumer";case Ove:return(n._context.displayName||"Context")+".Provider";case lK:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case uK:return e=n.displayName||null,e!==null?e:IW(n.type)||"Memo";case jv:e=n._payload,n=n._init;try{return IW(n(e))}catch{}}return null}function ALe(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return IW(e);case 8:return e===oK?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function My(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ive(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kLe(n){var e=Ive(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function XI(n){n._valueTracker||(n._valueTracker=kLe(n))}function Rve(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=Ive(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function tL(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function RW(n,e){var t=e.checked;return ra({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function pte(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=My(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Dve(n,e){e=e.checked,e!=null&&aK(n,"checked",e,!1)}function DW(n,e){Dve(n,e);var t=My(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?LW(n,e.type,t):e.hasOwnProperty("defaultValue")&&LW(n,e.type,My(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function gte(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function LW(n,e,t){(e!=="number"||tL(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var SE=Array.isArray;function _w(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+My(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function FW(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(_t(91));return ra({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function mte(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(_t(92));if(SE(t)){if(1<t.length)throw Error(_t(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:My(t)}}function Lve(n,e){var t=My(e.value),i=My(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function vte(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function Fve(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function BW(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?Fve(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var qI,Bve=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(qI=qI||document.createElement("div"),qI.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qI.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function pk(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var YE={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},OLe=["Webkit","ms","Moz","O"];Object.keys(YE).forEach(function(n){OLe.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),YE[e]=YE[n]})});function $ve(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||YE.hasOwnProperty(n)&&YE[n]?(""+e).trim():e+"px"}function Nve(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=$ve(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var PLe=ra({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $W(n,e){if(e){if(PLe[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(_t(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(_t(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(_t(61))}if(e.style!=null&&typeof e.style!="object")throw Error(_t(62))}}function NW(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jW=null;function cK(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var zW=null,bw=null,Sw=null;function yte(n){if(n=pP(n)){if(typeof zW!="function")throw Error(_t(280));var e=n.stateNode;e&&(e=$$(e),zW(n.stateNode,n.type,e))}}function jve(n){bw?Sw?Sw.push(n):Sw=[n]:bw=n}function zve(){if(bw){var n=bw,e=Sw;if(Sw=bw=null,yte(n),e)for(n=0;n<e.length;n++)yte(e[n])}}function Hve(n,e){return n(e)}function Vve(){}var q3=!1;function Wve(n,e,t){if(q3)return n(e,t);q3=!0;try{return Hve(n,e,t)}finally{q3=!1,(bw!==null||Sw!==null)&&(Vve(),zve())}}function gk(n,e){var t=n.stateNode;if(t===null)return null;var i=$$(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(_t(231,e,typeof t));return t}var HW=!1;if(km)try{var OT={};Object.defineProperty(OT,"passive",{get:function(){HW=!0}}),window.addEventListener("test",OT,OT),window.removeEventListener("test",OT,OT)}catch{HW=!1}function MLe(n,e,t,i,r,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(c){this.onError(c)}}var KE=!1,nL=null,iL=!1,VW=null,ILe={onError:function(n){KE=!0,nL=n}};function RLe(n,e,t,i,r,s,a,o,l){KE=!1,nL=null,MLe.apply(ILe,arguments)}function DLe(n,e,t,i,r,s,a,o,l){if(RLe.apply(this,arguments),KE){if(KE){var u=nL;KE=!1,nL=null}else throw Error(_t(198));iL||(iL=!0,VW=u)}}function P0(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function Uve(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function _te(n){if(P0(n)!==n)throw Error(_t(188))}function LLe(n){var e=n.alternate;if(!e){if(e=P0(n),e===null)throw Error(_t(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return _te(r),n;if(s===i)return _te(r),e;s=s.sibling}throw Error(_t(188))}if(t.return!==i.return)t=r,i=s;else{for(var a=!1,o=r.child;o;){if(o===t){a=!0,t=r,i=s;break}if(o===i){a=!0,i=r,t=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===t){a=!0,t=s,i=r;break}if(o===i){a=!0,i=s,t=r;break}o=o.sibling}if(!a)throw Error(_t(189))}}if(t.alternate!==i)throw Error(_t(190))}if(t.tag!==3)throw Error(_t(188));return t.stateNode.current===t?n:e}function Gve(n){return n=LLe(n),n!==null?Yve(n):null}function Yve(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=Yve(n);if(e!==null)return e;n=n.sibling}return null}var Kve=ed.unstable_scheduleCallback,bte=ed.unstable_cancelCallback,FLe=ed.unstable_shouldYield,BLe=ed.unstable_requestPaint,La=ed.unstable_now,$Le=ed.unstable_getCurrentPriorityLevel,dK=ed.unstable_ImmediatePriority,Xve=ed.unstable_UserBlockingPriority,rL=ed.unstable_NormalPriority,NLe=ed.unstable_LowPriority,qve=ed.unstable_IdlePriority,D$=null,Zp=null;function jLe(n){if(Zp&&typeof Zp.onCommitFiberRoot=="function")try{Zp.onCommitFiberRoot(D$,n,void 0,(n.current.flags&128)===128)}catch{}}var xf=Math.clz32?Math.clz32:VLe,zLe=Math.log,HLe=Math.LN2;function VLe(n){return n>>>=0,n===0?32:31-(zLe(n)/HLe|0)|0}var ZI=64,QI=4194304;function xE(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function sL(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,a=t&268435455;if(a!==0){var o=a&~r;o!==0?i=xE(o):(s&=a,s!==0&&(i=xE(s)))}else a=t&~r,a!==0?i=xE(a):s!==0&&(i=xE(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-xf(e),r=1<<t,i|=n[t],e&=~r;return i}function WLe(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ULe(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var a=31-xf(s),o=1<<a,l=r[a];l===-1?(!(o&t)||o&i)&&(r[a]=WLe(o,e)):l<=e&&(n.expiredLanes|=o),s&=~o}}function WW(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Zve(){var n=ZI;return ZI<<=1,!(ZI&4194240)&&(ZI=64),n}function Z3(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function hP(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-xf(e),n[e]=t}function GLe(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-xf(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function hK(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-xf(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var Ur=0;function Qve(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Jve,fK,eye,tye,nye,UW=!1,JI=[],yy=null,_y=null,by=null,mk=new Map,vk=new Map,Xv=[],YLe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ste(n,e){switch(n){case"focusin":case"focusout":yy=null;break;case"dragenter":case"dragleave":_y=null;break;case"mouseover":case"mouseout":by=null;break;case"pointerover":case"pointerout":mk.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vk.delete(e.pointerId)}}function PT(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=pP(e),e!==null&&fK(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function KLe(n,e,t,i,r){switch(e){case"focusin":return yy=PT(yy,n,e,t,i,r),!0;case"dragenter":return _y=PT(_y,n,e,t,i,r),!0;case"mouseover":return by=PT(by,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return mk.set(s,PT(mk.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,vk.set(s,PT(vk.get(s)||null,n,e,t,i,r)),!0}return!1}function iye(n){var e=vb(n.target);if(e!==null){var t=P0(e);if(t!==null){if(e=t.tag,e===13){if(e=Uve(t),e!==null){n.blockedOn=e,nye(n.priority,function(){eye(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ZD(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=GW(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);jW=i,t.target.dispatchEvent(i),jW=null}else return e=pP(t),e!==null&&fK(e),n.blockedOn=t,!1;e.shift()}return!0}function xte(n,e,t){ZD(n)&&t.delete(e)}function XLe(){UW=!1,yy!==null&&ZD(yy)&&(yy=null),_y!==null&&ZD(_y)&&(_y=null),by!==null&&ZD(by)&&(by=null),mk.forEach(xte),vk.forEach(xte)}function MT(n,e){n.blockedOn===e&&(n.blockedOn=null,UW||(UW=!0,ed.unstable_scheduleCallback(ed.unstable_NormalPriority,XLe)))}function yk(n){function e(r){return MT(r,n)}if(0<JI.length){MT(JI[0],n);for(var t=1;t<JI.length;t++){var i=JI[t];i.blockedOn===n&&(i.blockedOn=null)}}for(yy!==null&&MT(yy,n),_y!==null&&MT(_y,n),by!==null&&MT(by,n),mk.forEach(e),vk.forEach(e),t=0;t<Xv.length;t++)i=Xv[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<Xv.length&&(t=Xv[0],t.blockedOn===null);)iye(t),t.blockedOn===null&&Xv.shift()}var xw=Vm.ReactCurrentBatchConfig,aL=!0;function qLe(n,e,t,i){var r=Ur,s=xw.transition;xw.transition=null;try{Ur=1,pK(n,e,t,i)}finally{Ur=r,xw.transition=s}}function ZLe(n,e,t,i){var r=Ur,s=xw.transition;xw.transition=null;try{Ur=4,pK(n,e,t,i)}finally{Ur=r,xw.transition=s}}function pK(n,e,t,i){if(aL){var r=GW(n,e,t,i);if(r===null)o5(n,e,i,oL,t),Ste(n,i);else if(KLe(r,n,e,t,i))i.stopPropagation();else if(Ste(n,i),e&4&&-1<YLe.indexOf(n)){for(;r!==null;){var s=pP(r);if(s!==null&&Jve(s),s=GW(n,e,t,i),s===null&&o5(n,e,i,oL,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else o5(n,e,i,null,t)}}var oL=null;function GW(n,e,t,i){if(oL=null,n=cK(i),n=vb(n),n!==null)if(e=P0(n),e===null)n=null;else if(t=e.tag,t===13){if(n=Uve(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return oL=n,null}function rye(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($Le()){case dK:return 1;case Xve:return 4;case rL:case NLe:return 16;case qve:return 536870912;default:return 16}default:return 16}}var ty=null,gK=null,QD=null;function sye(){if(QD)return QD;var n,e=gK,t=e.length,i,r="value"in ty?ty.value:ty.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var a=t-n;for(i=1;i<=a&&e[t-i]===r[s-i];i++);return QD=r.slice(n,1<i?1-i:void 0)}function JD(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function eR(){return!0}function wte(){return!1}function ud(n){function e(t,i,r,s,a){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in n)n.hasOwnProperty(o)&&(t=n[o],this[o]=t?t(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?eR:wte,this.isPropagationStopped=wte,this}return ra(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=eR)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=eR)},persist:function(){},isPersistent:eR}),e}var e1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mK=ud(e1),fP=ra({},e1,{view:0,detail:0}),QLe=ud(fP),Q3,J3,IT,L$=ra({},fP,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vK,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==IT&&(IT&&n.type==="mousemove"?(Q3=n.screenX-IT.screenX,J3=n.screenY-IT.screenY):J3=Q3=0,IT=n),Q3)},movementY:function(n){return"movementY"in n?n.movementY:J3}}),Cte=ud(L$),JLe=ra({},L$,{dataTransfer:0}),eFe=ud(JLe),tFe=ra({},fP,{relatedTarget:0}),e5=ud(tFe),nFe=ra({},e1,{animationName:0,elapsedTime:0,pseudoElement:0}),iFe=ud(nFe),rFe=ra({},e1,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),sFe=ud(rFe),aFe=ra({},e1,{data:0}),Tte=ud(aFe),oFe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lFe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uFe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cFe(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=uFe[n])?!!e[n]:!1}function vK(){return cFe}var dFe=ra({},fP,{key:function(n){if(n.key){var e=oFe[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=JD(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?lFe[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vK,charCode:function(n){return n.type==="keypress"?JD(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?JD(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),hFe=ud(dFe),fFe=ra({},L$,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ete=ud(fFe),pFe=ra({},fP,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vK}),gFe=ud(pFe),mFe=ra({},e1,{propertyName:0,elapsedTime:0,pseudoElement:0}),vFe=ud(mFe),yFe=ra({},L$,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),_Fe=ud(yFe),bFe=[9,13,27,32],yK=km&&"CompositionEvent"in window,XE=null;km&&"documentMode"in document&&(XE=document.documentMode);var SFe=km&&"TextEvent"in window&&!XE,aye=km&&(!yK||XE&&8<XE&&11>=XE),Ate=" ",kte=!1;function oye(n,e){switch(n){case"keyup":return bFe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lye(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ox=!1;function xFe(n,e){switch(n){case"compositionend":return lye(e);case"keypress":return e.which!==32?null:(kte=!0,Ate);case"textInput":return n=e.data,n===Ate&&kte?null:n;default:return null}}function wFe(n,e){if(Ox)return n==="compositionend"||!yK&&oye(n,e)?(n=sye(),QD=gK=ty=null,Ox=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return aye&&e.locale!=="ko"?null:e.data;default:return null}}var CFe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ote(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!CFe[n.type]:e==="textarea"}function uye(n,e,t,i){jve(i),e=lL(e,"onChange"),0<e.length&&(t=new mK("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var qE=null,_k=null;function TFe(n){bye(n,0)}function F$(n){var e=Ix(n);if(Rve(e))return n}function EFe(n,e){if(n==="change")return e}var cye=!1;if(km){var t5;if(km){var n5="oninput"in document;if(!n5){var Pte=document.createElement("div");Pte.setAttribute("oninput","return;"),n5=typeof Pte.oninput=="function"}t5=n5}else t5=!1;cye=t5&&(!document.documentMode||9<document.documentMode)}function Mte(){qE&&(qE.detachEvent("onpropertychange",dye),_k=qE=null)}function dye(n){if(n.propertyName==="value"&&F$(_k)){var e=[];uye(e,_k,n,cK(n)),Wve(TFe,e)}}function AFe(n,e,t){n==="focusin"?(Mte(),qE=e,_k=t,qE.attachEvent("onpropertychange",dye)):n==="focusout"&&Mte()}function kFe(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return F$(_k)}function OFe(n,e){if(n==="click")return F$(e)}function PFe(n,e){if(n==="input"||n==="change")return F$(e)}function MFe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var kf=typeof Object.is=="function"?Object.is:MFe;function bk(n,e){if(kf(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!kW.call(e,r)||!kf(n[r],e[r]))return!1}return!0}function Ite(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Rte(n,e){var t=Ite(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Ite(t)}}function hye(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?hye(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function fye(){for(var n=window,e=tL();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=tL(n.document)}return e}function _K(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function IFe(n){var e=fye(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&hye(t.ownerDocument.documentElement,t)){if(i!==null&&_K(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=Rte(t,s);var a=Rte(t,i);r&&a&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var RFe=km&&"documentMode"in document&&11>=document.documentMode,Px=null,YW=null,ZE=null,KW=!1;function Dte(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;KW||Px==null||Px!==tL(i)||(i=Px,"selectionStart"in i&&_K(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ZE&&bk(ZE,i)||(ZE=i,i=lL(YW,"onSelect"),0<i.length&&(e=new mK("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Px)))}function tR(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Mx={animationend:tR("Animation","AnimationEnd"),animationiteration:tR("Animation","AnimationIteration"),animationstart:tR("Animation","AnimationStart"),transitionend:tR("Transition","TransitionEnd")},i5={},pye={};km&&(pye=document.createElement("div").style,"AnimationEvent"in window||(delete Mx.animationend.animation,delete Mx.animationiteration.animation,delete Mx.animationstart.animation),"TransitionEvent"in window||delete Mx.transitionend.transition);function B$(n){if(i5[n])return i5[n];if(!Mx[n])return n;var e=Mx[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in pye)return i5[n]=e[t];return n}var gye=B$("animationend"),mye=B$("animationiteration"),vye=B$("animationstart"),yye=B$("transitionend"),_ye=new Map,Lte="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Uy(n,e){_ye.set(n,e),O0(e,[n])}for(var r5=0;r5<Lte.length;r5++){var s5=Lte[r5],DFe=s5.toLowerCase(),LFe=s5[0].toUpperCase()+s5.slice(1);Uy(DFe,"on"+LFe)}Uy(gye,"onAnimationEnd");Uy(mye,"onAnimationIteration");Uy(vye,"onAnimationStart");Uy("dblclick","onDoubleClick");Uy("focusin","onFocus");Uy("focusout","onBlur");Uy(yye,"onTransitionEnd");Qw("onMouseEnter",["mouseout","mouseover"]);Qw("onMouseLeave",["mouseout","mouseover"]);Qw("onPointerEnter",["pointerout","pointerover"]);Qw("onPointerLeave",["pointerout","pointerover"]);O0("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));O0("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));O0("onBeforeInput",["compositionend","keypress","textInput","paste"]);O0("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));O0("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));O0("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wE="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FFe=new Set("cancel close invalid load scroll toggle".split(" ").concat(wE));function Fte(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,DLe(i,e,void 0,n),n.currentTarget=null}function bye(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var o=i[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&r.isPropagationStopped())break e;Fte(r,o,u),s=l}else for(a=0;a<i.length;a++){if(o=i[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&r.isPropagationStopped())break e;Fte(r,o,u),s=l}}}if(iL)throw n=VW,iL=!1,VW=null,n}function xs(n,e){var t=e[JW];t===void 0&&(t=e[JW]=new Set);var i=n+"__bubble";t.has(i)||(Sye(e,n,2,!1),t.add(i))}function a5(n,e,t){var i=0;e&&(i|=4),Sye(t,n,i,e)}var nR="_reactListening"+Math.random().toString(36).slice(2);function Sk(n){if(!n[nR]){n[nR]=!0,kve.forEach(function(t){t!=="selectionchange"&&(FFe.has(t)||a5(t,!1,n),a5(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[nR]||(e[nR]=!0,a5("selectionchange",!1,e))}}function Sye(n,e,t,i){switch(rye(e)){case 1:var r=qLe;break;case 4:r=ZLe;break;default:r=pK}t=r.bind(null,e,t,n),r=void 0,!HW||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function o5(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var o=i.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(a===4)for(a=i.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;a=a.return}for(;o!==null;){if(a=vb(o),a===null)return;if(l=a.tag,l===5||l===6){i=s=a;continue e}o=o.parentNode}}i=i.return}Wve(function(){var u=s,c=cK(t),d=[];e:{var h=_ye.get(n);if(h!==void 0){var f=mK,p=n;switch(n){case"keypress":if(JD(t)===0)break e;case"keydown":case"keyup":f=hFe;break;case"focusin":p="focus",f=e5;break;case"focusout":p="blur",f=e5;break;case"beforeblur":case"afterblur":f=e5;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Cte;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=eFe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=gFe;break;case gye:case mye:case vye:f=iFe;break;case yye:f=vFe;break;case"scroll":f=QLe;break;case"wheel":f=_Fe;break;case"copy":case"cut":case"paste":f=sFe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Ete}var g=(e&4)!==0,m=!g&&n==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var _=u,y;_!==null;){y=_;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,v!==null&&(x=gk(_,v),x!=null&&g.push(xk(_,x,y)))),m)break;_=_.return}0<g.length&&(h=new f(h,p,null,t,c),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=n==="mouseover"||n==="pointerover",f=n==="mouseout"||n==="pointerout",h&&t!==jW&&(p=t.relatedTarget||t.fromElement)&&(vb(p)||p[Om]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=t.relatedTarget||t.toElement,f=u,p=p?vb(p):null,p!==null&&(m=P0(p),p!==m||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(g=Cte,x="onMouseLeave",v="onMouseEnter",_="mouse",(n==="pointerout"||n==="pointerover")&&(g=Ete,x="onPointerLeave",v="onPointerEnter",_="pointer"),m=f==null?h:Ix(f),y=p==null?h:Ix(p),h=new g(x,_+"leave",f,t,c),h.target=m,h.relatedTarget=y,x=null,vb(c)===u&&(g=new g(v,_+"enter",p,t,c),g.target=y,g.relatedTarget=m,x=g),m=x,f&&p)t:{for(g=f,v=p,_=0,y=g;y;y=OS(y))_++;for(y=0,x=v;x;x=OS(x))y++;for(;0<_-y;)g=OS(g),_--;for(;0<y-_;)v=OS(v),y--;for(;_--;){if(g===v||v!==null&&g===v.alternate)break t;g=OS(g),v=OS(v)}g=null}else g=null;f!==null&&Bte(d,h,f,g,!1),p!==null&&m!==null&&Bte(d,m,p,g,!0)}}e:{if(h=u?Ix(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var w=EFe;else if(Ote(h))if(cye)w=PFe;else{w=kFe;var T=AFe}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=OFe);if(w&&(w=w(n,u))){uye(d,w,t,c);break e}T&&T(n,h,u),n==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&LW(h,"number",h.value)}switch(T=u?Ix(u):window,n){case"focusin":(Ote(T)||T.contentEditable==="true")&&(Px=T,YW=u,ZE=null);break;case"focusout":ZE=YW=Px=null;break;case"mousedown":KW=!0;break;case"contextmenu":case"mouseup":case"dragend":KW=!1,Dte(d,t,c);break;case"selectionchange":if(RFe)break;case"keydown":case"keyup":Dte(d,t,c)}var E;if(yK)e:{switch(n){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Ox?oye(n,t)&&(A="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(A="onCompositionStart");A&&(aye&&t.locale!=="ko"&&(Ox||A!=="onCompositionStart"?A==="onCompositionEnd"&&Ox&&(E=sye()):(ty=c,gK="value"in ty?ty.value:ty.textContent,Ox=!0)),T=lL(u,A),0<T.length&&(A=new Tte(A,n,null,t,c),d.push({event:A,listeners:T}),E?A.data=E:(E=lye(t),E!==null&&(A.data=E)))),(E=SFe?xFe(n,t):wFe(n,t))&&(u=lL(u,"onBeforeInput"),0<u.length&&(c=new Tte("onBeforeInput","beforeinput",null,t,c),d.push({event:c,listeners:u}),c.data=E))}bye(d,e)})}function xk(n,e,t){return{instance:n,listener:e,currentTarget:t}}function lL(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=gk(n,t),s!=null&&i.unshift(xk(n,s,r)),s=gk(n,e),s!=null&&i.push(xk(n,s,r))),n=n.return}return i}function OS(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Bte(n,e,t,i,r){for(var s=e._reactName,a=[];t!==null&&t!==i;){var o=t,l=o.alternate,u=o.stateNode;if(l!==null&&l===i)break;o.tag===5&&u!==null&&(o=u,r?(l=gk(t,s),l!=null&&a.unshift(xk(t,l,o))):r||(l=gk(t,s),l!=null&&a.push(xk(t,l,o)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var BFe=/\r\n?/g,$Fe=/\u0000|\uFFFD/g;function $te(n){return(typeof n=="string"?n:""+n).replace(BFe,`
`).replace($Fe,"")}function iR(n,e,t){if(e=$te(e),$te(n)!==e&&t)throw Error(_t(425))}function uL(){}var XW=null,qW=null;function ZW(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var QW=typeof setTimeout=="function"?setTimeout:void 0,NFe=typeof clearTimeout=="function"?clearTimeout:void 0,Nte=typeof Promise=="function"?Promise:void 0,jFe=typeof queueMicrotask=="function"?queueMicrotask:typeof Nte<"u"?function(n){return Nte.resolve(null).then(n).catch(zFe)}:QW;function zFe(n){setTimeout(function(){throw n})}function l5(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),yk(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);yk(e)}function Sy(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function jte(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var t1=Math.random().toString(36).slice(2),Cp="__reactFiber$"+t1,wk="__reactProps$"+t1,Om="__reactContainer$"+t1,JW="__reactEvents$"+t1,HFe="__reactListeners$"+t1,VFe="__reactHandles$"+t1;function vb(n){var e=n[Cp];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Om]||t[Cp]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=jte(n);n!==null;){if(t=n[Cp])return t;n=jte(n)}return e}n=t,t=n.parentNode}return null}function pP(n){return n=n[Cp]||n[Om],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ix(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(_t(33))}function $$(n){return n[wk]||null}var eU=[],Rx=-1;function Gy(n){return{current:n}}function Es(n){0>Rx||(n.current=eU[Rx],eU[Rx]=null,Rx--)}function hs(n,e){Rx++,eU[Rx]=n.current,n.current=e}var Iy={},Yl=Gy(Iy),cc=Gy(!1),n0=Iy;function Jw(n,e){var t=n.type.contextTypes;if(!t)return Iy;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function dc(n){return n=n.childContextTypes,n!=null}function cL(){Es(cc),Es(Yl)}function zte(n,e,t){if(Yl.current!==Iy)throw Error(_t(168));hs(Yl,e),hs(cc,t)}function xye(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(_t(108,ALe(n)||"Unknown",r));return ra({},t,i)}function dL(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Iy,n0=Yl.current,hs(Yl,n),hs(cc,cc.current),!0}function Hte(n,e,t){var i=n.stateNode;if(!i)throw Error(_t(169));t?(n=xye(n,e,n0),i.__reactInternalMemoizedMergedChildContext=n,Es(cc),Es(Yl),hs(Yl,n)):Es(cc),hs(cc,t)}var Zg=null,N$=!1,u5=!1;function wye(n){Zg===null?Zg=[n]:Zg.push(n)}function WFe(n){N$=!0,wye(n)}function Yy(){if(!u5&&Zg!==null){u5=!0;var n=0,e=Ur;try{var t=Zg;for(Ur=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}Zg=null,N$=!1}catch(r){throw Zg!==null&&(Zg=Zg.slice(n+1)),Kve(dK,Yy),r}finally{Ur=e,u5=!1}}return null}var Dx=[],Lx=0,hL=null,fL=0,Yd=[],Kd=0,i0=null,om=1,lm="";function Z_(n,e){Dx[Lx++]=fL,Dx[Lx++]=hL,hL=n,fL=e}function Cye(n,e,t){Yd[Kd++]=om,Yd[Kd++]=lm,Yd[Kd++]=i0,i0=n;var i=om;n=lm;var r=32-xf(i)-1;i&=~(1<<r),t+=1;var s=32-xf(e)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,om=1<<32-xf(e)+r|t<<r|i,lm=s+n}else om=1<<s|t<<r|i,lm=n}function bK(n){n.return!==null&&(Z_(n,1),Cye(n,1,0))}function SK(n){for(;n===hL;)hL=Dx[--Lx],Dx[Lx]=null,fL=Dx[--Lx],Dx[Lx]=null;for(;n===i0;)i0=Yd[--Kd],Yd[Kd]=null,lm=Yd[--Kd],Yd[Kd]=null,om=Yd[--Kd],Yd[Kd]=null}var Zc=null,Gc=null,$s=!1,sf=null;function Tye(n,e){var t=ih(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function Vte(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Zc=n,Gc=Sy(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Zc=n,Gc=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=i0!==null?{id:om,overflow:lm}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=ih(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Zc=n,Gc=null,!0):!1;default:return!1}}function tU(n){return(n.mode&1)!==0&&(n.flags&128)===0}function nU(n){if($s){var e=Gc;if(e){var t=e;if(!Vte(n,e)){if(tU(n))throw Error(_t(418));e=Sy(t.nextSibling);var i=Zc;e&&Vte(n,e)?Tye(i,t):(n.flags=n.flags&-4097|2,$s=!1,Zc=n)}}else{if(tU(n))throw Error(_t(418));n.flags=n.flags&-4097|2,$s=!1,Zc=n}}}function Wte(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Zc=n}function rR(n){if(n!==Zc)return!1;if(!$s)return Wte(n),$s=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!ZW(n.type,n.memoizedProps)),e&&(e=Gc)){if(tU(n))throw Eye(),Error(_t(418));for(;e;)Tye(n,e),e=Sy(e.nextSibling)}if(Wte(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(_t(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Gc=Sy(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Gc=null}}else Gc=Zc?Sy(n.stateNode.nextSibling):null;return!0}function Eye(){for(var n=Gc;n;)n=Sy(n.nextSibling)}function eC(){Gc=Zc=null,$s=!1}function xK(n){sf===null?sf=[n]:sf.push(n)}var UFe=Vm.ReactCurrentBatchConfig;function RT(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(_t(309));var i=t.stateNode}if(!i)throw Error(_t(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=r.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof n!="string")throw Error(_t(284));if(!t._owner)throw Error(_t(290,n))}return n}function sR(n,e){throw n=Object.prototype.toString.call(e),Error(_t(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Ute(n){var e=n._init;return e(n._payload)}function Aye(n){function e(v,_){if(n){var y=v.deletions;y===null?(v.deletions=[_],v.flags|=16):y.push(_)}}function t(v,_){if(!n)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function i(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function r(v,_){return v=Ty(v,_),v.index=0,v.sibling=null,v}function s(v,_,y){return v.index=y,n?(y=v.alternate,y!==null?(y=y.index,y<_?(v.flags|=2,_):y):(v.flags|=2,_)):(v.flags|=1048576,_)}function a(v){return n&&v.alternate===null&&(v.flags|=2),v}function o(v,_,y,x){return _===null||_.tag!==6?(_=m5(y,v.mode,x),_.return=v,_):(_=r(_,y),_.return=v,_)}function l(v,_,y,x){var w=y.type;return w===kx?c(v,_,y.props.children,x,y.key):_!==null&&(_.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===jv&&Ute(w)===_.type)?(x=r(_,y.props),x.ref=RT(v,_,y),x.return=v,x):(x=a2(y.type,y.key,y.props,null,v.mode,x),x.ref=RT(v,_,y),x.return=v,x)}function u(v,_,y,x){return _===null||_.tag!==4||_.stateNode.containerInfo!==y.containerInfo||_.stateNode.implementation!==y.implementation?(_=v5(y,v.mode,x),_.return=v,_):(_=r(_,y.children||[]),_.return=v,_)}function c(v,_,y,x,w){return _===null||_.tag!==7?(_=zb(y,v.mode,x,w),_.return=v,_):(_=r(_,y),_.return=v,_)}function d(v,_,y){if(typeof _=="string"&&_!==""||typeof _=="number")return _=m5(""+_,v.mode,y),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case KI:return y=a2(_.type,_.key,_.props,null,v.mode,y),y.ref=RT(v,null,_),y.return=v,y;case Ax:return _=v5(_,v.mode,y),_.return=v,_;case jv:var x=_._init;return d(v,x(_._payload),y)}if(SE(_)||kT(_))return _=zb(_,v.mode,y,null),_.return=v,_;sR(v,_)}return null}function h(v,_,y,x){var w=_!==null?_.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return w!==null?null:o(v,_,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case KI:return y.key===w?l(v,_,y,x):null;case Ax:return y.key===w?u(v,_,y,x):null;case jv:return w=y._init,h(v,_,w(y._payload),x)}if(SE(y)||kT(y))return w!==null?null:c(v,_,y,x,null);sR(v,y)}return null}function f(v,_,y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(y)||null,o(_,v,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case KI:return v=v.get(x.key===null?y:x.key)||null,l(_,v,x,w);case Ax:return v=v.get(x.key===null?y:x.key)||null,u(_,v,x,w);case jv:var T=x._init;return f(v,_,y,T(x._payload),w)}if(SE(x)||kT(x))return v=v.get(y)||null,c(_,v,x,w,null);sR(_,x)}return null}function p(v,_,y,x){for(var w=null,T=null,E=_,A=_=0,k=null;E!==null&&A<y.length;A++){E.index>A?(k=E,E=null):k=E.sibling;var P=h(v,E,y[A],x);if(P===null){E===null&&(E=k);break}n&&E&&P.alternate===null&&e(v,E),_=s(P,_,A),T===null?w=P:T.sibling=P,T=P,E=k}if(A===y.length)return t(v,E),$s&&Z_(v,A),w;if(E===null){for(;A<y.length;A++)E=d(v,y[A],x),E!==null&&(_=s(E,_,A),T===null?w=E:T.sibling=E,T=E);return $s&&Z_(v,A),w}for(E=i(v,E);A<y.length;A++)k=f(E,v,A,y[A],x),k!==null&&(n&&k.alternate!==null&&E.delete(k.key===null?A:k.key),_=s(k,_,A),T===null?w=k:T.sibling=k,T=k);return n&&E.forEach(function(I){return e(v,I)}),$s&&Z_(v,A),w}function g(v,_,y,x){var w=kT(y);if(typeof w!="function")throw Error(_t(150));if(y=w.call(y),y==null)throw Error(_t(151));for(var T=w=null,E=_,A=_=0,k=null,P=y.next();E!==null&&!P.done;A++,P=y.next()){E.index>A?(k=E,E=null):k=E.sibling;var I=h(v,E,P.value,x);if(I===null){E===null&&(E=k);break}n&&E&&I.alternate===null&&e(v,E),_=s(I,_,A),T===null?w=I:T.sibling=I,T=I,E=k}if(P.done)return t(v,E),$s&&Z_(v,A),w;if(E===null){for(;!P.done;A++,P=y.next())P=d(v,P.value,x),P!==null&&(_=s(P,_,A),T===null?w=P:T.sibling=P,T=P);return $s&&Z_(v,A),w}for(E=i(v,E);!P.done;A++,P=y.next())P=f(E,v,A,P.value,x),P!==null&&(n&&P.alternate!==null&&E.delete(P.key===null?A:P.key),_=s(P,_,A),T===null?w=P:T.sibling=P,T=P);return n&&E.forEach(function(D){return e(v,D)}),$s&&Z_(v,A),w}function m(v,_,y,x){if(typeof y=="object"&&y!==null&&y.type===kx&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case KI:e:{for(var w=y.key,T=_;T!==null;){if(T.key===w){if(w=y.type,w===kx){if(T.tag===7){t(v,T.sibling),_=r(T,y.props.children),_.return=v,v=_;break e}}else if(T.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===jv&&Ute(w)===T.type){t(v,T.sibling),_=r(T,y.props),_.ref=RT(v,T,y),_.return=v,v=_;break e}t(v,T);break}else e(v,T);T=T.sibling}y.type===kx?(_=zb(y.props.children,v.mode,x,y.key),_.return=v,v=_):(x=a2(y.type,y.key,y.props,null,v.mode,x),x.ref=RT(v,_,y),x.return=v,v=x)}return a(v);case Ax:e:{for(T=y.key;_!==null;){if(_.key===T)if(_.tag===4&&_.stateNode.containerInfo===y.containerInfo&&_.stateNode.implementation===y.implementation){t(v,_.sibling),_=r(_,y.children||[]),_.return=v,v=_;break e}else{t(v,_);break}else e(v,_);_=_.sibling}_=v5(y,v.mode,x),_.return=v,v=_}return a(v);case jv:return T=y._init,m(v,_,T(y._payload),x)}if(SE(y))return p(v,_,y,x);if(kT(y))return g(v,_,y,x);sR(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,_!==null&&_.tag===6?(t(v,_.sibling),_=r(_,y),_.return=v,v=_):(t(v,_),_=m5(y,v.mode,x),_.return=v,v=_),a(v)):t(v,_)}return m}var tC=Aye(!0),kye=Aye(!1),pL=Gy(null),gL=null,Fx=null,wK=null;function CK(){wK=Fx=gL=null}function TK(n){var e=pL.current;Es(pL),n._currentValue=e}function iU(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function ww(n,e){gL=n,wK=Fx=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(oc=!0),n.firstContext=null)}function vh(n){var e=n._currentValue;if(wK!==n)if(n={context:n,memoizedValue:e,next:null},Fx===null){if(gL===null)throw Error(_t(308));Fx=n,gL.dependencies={lanes:0,firstContext:n}}else Fx=Fx.next=n;return e}var yb=null;function EK(n){yb===null?yb=[n]:yb.push(n)}function Oye(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,EK(e)):(t.next=r.next,r.next=t),e.interleaved=t,Pm(n,i)}function Pm(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var zv=!1;function AK(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pye(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function bm(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function xy(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,or&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Pm(n,t)}return r=i.interleaved,r===null?(e.next=e,EK(i)):(e.next=r.next,r.next=e),i.interleaved=e,Pm(n,t)}function e2(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,hK(n,t)}}function Gte(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=a:s=s.next=a,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function mL(n,e,t,i){var r=n.updateQueue;zv=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var c=n.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;a=0,c=u=l=null,o=s;do{var h=o.lane,f=o.eventTime;if((i&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=n,g=o;switch(h=e,f=t,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=ra({},d,h);break e;case 2:zv=!0}}o.callback!==null&&o.lane!==0&&(n.flags|=64,h=r.effects,h===null?r.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,a|=h;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;h=o,o=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(!0);if(c===null&&(l=d),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,e=r.shared.interleaved,e!==null){r=e;do a|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);s0|=a,n.lanes=a,n.memoizedState=d}}function Yte(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(_t(191,r));r.call(i)}}}var gP={},Qp=Gy(gP),Ck=Gy(gP),Tk=Gy(gP);function _b(n){if(n===gP)throw Error(_t(174));return n}function kK(n,e){switch(hs(Tk,e),hs(Ck,n),hs(Qp,gP),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:BW(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=BW(e,n)}Es(Qp),hs(Qp,e)}function nC(){Es(Qp),Es(Ck),Es(Tk)}function Mye(n){_b(Tk.current);var e=_b(Qp.current),t=BW(e,n.type);e!==t&&(hs(Ck,n),hs(Qp,t))}function OK(n){Ck.current===n&&(Es(Qp),Es(Ck))}var Js=Gy(0);function vL(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var c5=[];function PK(){for(var n=0;n<c5.length;n++)c5[n]._workInProgressVersionPrimary=null;c5.length=0}var t2=Vm.ReactCurrentDispatcher,d5=Vm.ReactCurrentBatchConfig,r0=0,na=null,yo=null,No=null,yL=!1,QE=!1,Ek=0,GFe=0;function Ml(){throw Error(_t(321))}function MK(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!kf(n[t],e[t]))return!1;return!0}function IK(n,e,t,i,r,s){if(r0=s,na=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,t2.current=n===null||n.memoizedState===null?qFe:ZFe,n=t(i,r),QE){s=0;do{if(QE=!1,Ek=0,25<=s)throw Error(_t(301));s+=1,No=yo=null,e.updateQueue=null,t2.current=QFe,n=t(i,r)}while(QE)}if(t2.current=_L,e=yo!==null&&yo.next!==null,r0=0,No=yo=na=null,yL=!1,e)throw Error(_t(300));return n}function RK(){var n=Ek!==0;return Ek=0,n}function pp(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return No===null?na.memoizedState=No=n:No=No.next=n,No}function yh(){if(yo===null){var n=na.alternate;n=n!==null?n.memoizedState:null}else n=yo.next;var e=No===null?na.memoizedState:No.next;if(e!==null)No=e,yo=n;else{if(n===null)throw Error(_t(310));yo=n,n={memoizedState:yo.memoizedState,baseState:yo.baseState,baseQueue:yo.baseQueue,queue:yo.queue,next:null},No===null?na.memoizedState=No=n:No=No.next=n}return No}function Ak(n,e){return typeof e=="function"?e(n):e}function h5(n){var e=yh(),t=e.queue;if(t===null)throw Error(_t(311));t.lastRenderedReducer=n;var i=yo,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var o=a=null,l=null,u=s;do{var c=u.lane;if((r0&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:n(i,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,a=i):l=l.next=d,na.lanes|=c,s0|=c}u=u.next}while(u!==null&&u!==s);l===null?a=i:l.next=o,kf(i,e.memoizedState)||(oc=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,na.lanes|=s,s0|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function f5(n){var e=yh(),t=e.queue;if(t===null)throw Error(_t(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var a=r=r.next;do s=n(s,a.action),a=a.next;while(a!==r);kf(s,e.memoizedState)||(oc=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function Iye(){}function Rye(n,e){var t=na,i=yh(),r=e(),s=!kf(i.memoizedState,r);if(s&&(i.memoizedState=r,oc=!0),i=i.queue,DK(Fye.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||No!==null&&No.memoizedState.tag&1){if(t.flags|=2048,kk(9,Lye.bind(null,t,i,r,e),void 0,null),Yo===null)throw Error(_t(349));r0&30||Dye(t,e,r)}return r}function Dye(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=na.updateQueue,e===null?(e={lastEffect:null,stores:null},na.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function Lye(n,e,t,i){e.value=t,e.getSnapshot=i,Bye(e)&&$ye(n)}function Fye(n,e,t){return t(function(){Bye(e)&&$ye(n)})}function Bye(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!kf(n,t)}catch{return!0}}function $ye(n){var e=Pm(n,1);e!==null&&wf(e,n,1,-1)}function Kte(n){var e=pp();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ak,lastRenderedState:n},e.queue=n,n=n.dispatch=XFe.bind(null,na,n),[e.memoizedState,n]}function kk(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=na.updateQueue,e===null?(e={lastEffect:null,stores:null},na.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function Nye(){return yh().memoizedState}function n2(n,e,t,i){var r=pp();na.flags|=n,r.memoizedState=kk(1|e,t,void 0,i===void 0?null:i)}function j$(n,e,t,i){var r=yh();i=i===void 0?null:i;var s=void 0;if(yo!==null){var a=yo.memoizedState;if(s=a.destroy,i!==null&&MK(i,a.deps)){r.memoizedState=kk(e,t,s,i);return}}na.flags|=n,r.memoizedState=kk(1|e,t,s,i)}function Xte(n,e){return n2(8390656,8,n,e)}function DK(n,e){return j$(2048,8,n,e)}function jye(n,e){return j$(4,2,n,e)}function zye(n,e){return j$(4,4,n,e)}function Hye(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function Vye(n,e,t){return t=t!=null?t.concat([n]):null,j$(4,4,Hye.bind(null,e,n),t)}function LK(){}function Wye(n,e){var t=yh();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&MK(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function Uye(n,e){var t=yh();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&MK(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function Gye(n,e,t){return r0&21?(kf(t,e)||(t=Zve(),na.lanes|=t,s0|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,oc=!0),n.memoizedState=t)}function YFe(n,e){var t=Ur;Ur=t!==0&&4>t?t:4,n(!0);var i=d5.transition;d5.transition={};try{n(!1),e()}finally{Ur=t,d5.transition=i}}function Yye(){return yh().memoizedState}function KFe(n,e,t){var i=Cy(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},Kye(n))Xye(e,t);else if(t=Oye(n,e,t,i),t!==null){var r=Tu();wf(t,n,i,r),qye(t,e,i)}}function XFe(n,e,t){var i=Cy(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(Kye(n))Xye(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,t);if(r.hasEagerState=!0,r.eagerState=o,kf(o,a)){var l=e.interleaved;l===null?(r.next=r,EK(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=Oye(n,e,r,i),t!==null&&(r=Tu(),wf(t,n,i,r),qye(t,e,i))}}function Kye(n){var e=n.alternate;return n===na||e!==null&&e===na}function Xye(n,e){QE=yL=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function qye(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,hK(n,t)}}var _L={readContext:vh,useCallback:Ml,useContext:Ml,useEffect:Ml,useImperativeHandle:Ml,useInsertionEffect:Ml,useLayoutEffect:Ml,useMemo:Ml,useReducer:Ml,useRef:Ml,useState:Ml,useDebugValue:Ml,useDeferredValue:Ml,useTransition:Ml,useMutableSource:Ml,useSyncExternalStore:Ml,useId:Ml,unstable_isNewReconciler:!1},qFe={readContext:vh,useCallback:function(n,e){return pp().memoizedState=[n,e===void 0?null:e],n},useContext:vh,useEffect:Xte,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,n2(4194308,4,Hye.bind(null,e,n),t)},useLayoutEffect:function(n,e){return n2(4194308,4,n,e)},useInsertionEffect:function(n,e){return n2(4,2,n,e)},useMemo:function(n,e){var t=pp();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=pp();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=KFe.bind(null,na,n),[i.memoizedState,n]},useRef:function(n){var e=pp();return n={current:n},e.memoizedState=n},useState:Kte,useDebugValue:LK,useDeferredValue:function(n){return pp().memoizedState=n},useTransition:function(){var n=Kte(!1),e=n[0];return n=YFe.bind(null,n[1]),pp().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=na,r=pp();if($s){if(t===void 0)throw Error(_t(407));t=t()}else{if(t=e(),Yo===null)throw Error(_t(349));r0&30||Dye(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,Xte(Fye.bind(null,i,s,n),[n]),i.flags|=2048,kk(9,Lye.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=pp(),e=Yo.identifierPrefix;if($s){var t=lm,i=om;t=(i&~(1<<32-xf(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=Ek++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=GFe++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},ZFe={readContext:vh,useCallback:Wye,useContext:vh,useEffect:DK,useImperativeHandle:Vye,useInsertionEffect:jye,useLayoutEffect:zye,useMemo:Uye,useReducer:h5,useRef:Nye,useState:function(){return h5(Ak)},useDebugValue:LK,useDeferredValue:function(n){var e=yh();return Gye(e,yo.memoizedState,n)},useTransition:function(){var n=h5(Ak)[0],e=yh().memoizedState;return[n,e]},useMutableSource:Iye,useSyncExternalStore:Rye,useId:Yye,unstable_isNewReconciler:!1},QFe={readContext:vh,useCallback:Wye,useContext:vh,useEffect:DK,useImperativeHandle:Vye,useInsertionEffect:jye,useLayoutEffect:zye,useMemo:Uye,useReducer:f5,useRef:Nye,useState:function(){return f5(Ak)},useDebugValue:LK,useDeferredValue:function(n){var e=yh();return yo===null?e.memoizedState=n:Gye(e,yo.memoizedState,n)},useTransition:function(){var n=f5(Ak)[0],e=yh().memoizedState;return[n,e]},useMutableSource:Iye,useSyncExternalStore:Rye,useId:Yye,unstable_isNewReconciler:!1};function Jh(n,e){if(n&&n.defaultProps){e=ra({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function rU(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:ra({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var z$={isMounted:function(n){return(n=n._reactInternals)?P0(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=Tu(),r=Cy(n),s=bm(i,r);s.payload=e,t!=null&&(s.callback=t),e=xy(n,s,r),e!==null&&(wf(e,n,r,i),e2(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=Tu(),r=Cy(n),s=bm(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=xy(n,s,r),e!==null&&(wf(e,n,r,i),e2(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Tu(),i=Cy(n),r=bm(t,i);r.tag=2,e!=null&&(r.callback=e),e=xy(n,r,i),e!==null&&(wf(e,n,i,t),e2(e,n,i))}};function qte(n,e,t,i,r,s,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!bk(t,i)||!bk(r,s):!0}function Zye(n,e,t){var i=!1,r=Iy,s=e.contextType;return typeof s=="object"&&s!==null?s=vh(s):(r=dc(e)?n0:Yl.current,i=e.contextTypes,s=(i=i!=null)?Jw(n,r):Iy),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=z$,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function Zte(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&z$.enqueueReplaceState(e,e.state,null)}function sU(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},AK(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=vh(s):(s=dc(e)?n0:Yl.current,r.context=Jw(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(rU(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&z$.enqueueReplaceState(r,r.state,null),mL(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function iC(n,e){try{var t="",i=e;do t+=ELe(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function p5(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function aU(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var JFe=typeof WeakMap=="function"?WeakMap:Map;function Qye(n,e,t){t=bm(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){SL||(SL=!0,mU=i),aU(n,e)},t}function Jye(n,e,t){t=bm(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){aU(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){aU(n,e),typeof i!="function"&&(wy===null?wy=new Set([this]):wy.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function Qte(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new JFe;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=fBe.bind(null,n,e,t),e.then(n,n))}function Jte(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function ene(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=bm(-1,1),e.tag=2,xy(t,e,1))),t.lanes|=1),n)}var eBe=Vm.ReactCurrentOwner,oc=!1;function yu(n,e,t,i){e.child=n===null?kye(e,null,t,i):tC(e,n.child,t,i)}function tne(n,e,t,i,r){t=t.render;var s=e.ref;return ww(e,r),i=IK(n,e,t,i,s,r),t=RK(),n!==null&&!oc?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Mm(n,e,r)):($s&&t&&bK(e),e.flags|=1,yu(n,e,i,r),e.child)}function nne(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!VK(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,e_e(n,e,s,i,r)):(n=a2(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var a=s.memoizedProps;if(t=t.compare,t=t!==null?t:bk,t(a,i)&&n.ref===e.ref)return Mm(n,e,r)}return e.flags|=1,n=Ty(s,i),n.ref=e.ref,n.return=e,e.child=n}function e_e(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(bk(s,i)&&n.ref===e.ref)if(oc=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(oc=!0);else return e.lanes=n.lanes,Mm(n,e,r)}return oU(n,e,t,i,r)}function t_e(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},hs($x,Vc),Vc|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,hs($x,Vc),Vc|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,hs($x,Vc),Vc|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,hs($x,Vc),Vc|=i;return yu(n,e,r,t),e.child}function n_e(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function oU(n,e,t,i,r){var s=dc(t)?n0:Yl.current;return s=Jw(e,s),ww(e,r),t=IK(n,e,t,i,s,r),i=RK(),n!==null&&!oc?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Mm(n,e,r)):($s&&i&&bK(e),e.flags|=1,yu(n,e,t,r),e.child)}function ine(n,e,t,i,r){if(dc(t)){var s=!0;dL(e)}else s=!1;if(ww(e,r),e.stateNode===null)i2(n,e),Zye(e,t,i),sU(e,t,i,r),i=!0;else if(n===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=t.contextType;typeof u=="object"&&u!==null?u=vh(u):(u=dc(t)?n0:Yl.current,u=Jw(e,u));var c=t.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==i||l!==u)&&Zte(e,a,i,u),zv=!1;var h=e.memoizedState;a.state=h,mL(e,i,a,r),l=e.memoizedState,o!==i||h!==l||cc.current||zv?(typeof c=="function"&&(rU(e,t,c,i),l=e.memoizedState),(o=zv||qte(e,t,o,i,h,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),a.props=i,a.state=l,a.context=u,i=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,Pye(n,e),o=e.memoizedProps,u=e.type===e.elementType?o:Jh(e.type,o),a.props=u,d=e.pendingProps,h=a.context,l=t.contextType,typeof l=="object"&&l!==null?l=vh(l):(l=dc(t)?n0:Yl.current,l=Jw(e,l));var f=t.getDerivedStateFromProps;(c=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||h!==l)&&Zte(e,a,i,l),zv=!1,h=e.memoizedState,a.state=h,mL(e,i,a,r);var p=e.memoizedState;o!==d||h!==p||cc.current||zv?(typeof f=="function"&&(rU(e,t,f,i),p=e.memoizedState),(u=zv||qte(e,t,u,i,h,p,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,p,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,p,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),a.props=i,a.state=p,a.context=l,i=u):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),i=!1)}return lU(n,e,t,i,s,r)}function lU(n,e,t,i,r,s){n_e(n,e);var a=(e.flags&128)!==0;if(!i&&!a)return r&&Hte(e,t,!1),Mm(n,e,s);i=e.stateNode,eBe.current=e;var o=a&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&a?(e.child=tC(e,n.child,null,s),e.child=tC(e,null,o,s)):yu(n,e,o,s),e.memoizedState=i.state,r&&Hte(e,t,!0),e.child}function i_e(n){var e=n.stateNode;e.pendingContext?zte(n,e.pendingContext,e.pendingContext!==e.context):e.context&&zte(n,e.context,!1),kK(n,e.containerInfo)}function rne(n,e,t,i,r){return eC(),xK(r),e.flags|=256,yu(n,e,t,i),e.child}var uU={dehydrated:null,treeContext:null,retryLane:0};function cU(n){return{baseLanes:n,cachePool:null,transitions:null}}function r_e(n,e,t){var i=e.pendingProps,r=Js.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=n!==null&&n.memoizedState===null?!1:(r&2)!==0),o?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),hs(Js,r&1),n===null)return nU(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,n=i.fallback,s?(i=e.mode,s=e.child,a={mode:"hidden",children:a},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=W$(a,i,0,null),n=zb(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=cU(t),e.memoizedState=uU,n):FK(e,a));if(r=n.memoizedState,r!==null&&(o=r.dehydrated,o!==null))return tBe(n,e,a,i,o,r,t);if(s){s=i.fallback,a=e.mode,r=n.child,o=r.sibling;var l={mode:"hidden",children:i.children};return!(a&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Ty(r,l),i.subtreeFlags=r.subtreeFlags&14680064),o!==null?s=Ty(o,s):(s=zb(s,a,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,a=n.child.memoizedState,a=a===null?cU(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=n.childLanes&~t,e.memoizedState=uU,i}return s=n.child,n=s.sibling,i=Ty(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function FK(n,e){return e=W$({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function aR(n,e,t,i){return i!==null&&xK(i),tC(e,n.child,null,t),n=FK(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function tBe(n,e,t,i,r,s,a){if(t)return e.flags&256?(e.flags&=-257,i=p5(Error(_t(422))),aR(n,e,a,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=W$({mode:"visible",children:i.children},r,0,null),s=zb(s,r,a,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&tC(e,n.child,null,a),e.child.memoizedState=cU(a),e.memoizedState=uU,s);if(!(e.mode&1))return aR(n,e,a,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var o=i.dgst;return i=o,s=Error(_t(419)),i=p5(s,i,void 0),aR(n,e,a,i)}if(o=(a&n.childLanes)!==0,oc||o){if(i=Yo,i!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|a)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Pm(n,r),wf(i,n,r,-1))}return HK(),i=p5(Error(_t(421))),aR(n,e,a,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=pBe.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,Gc=Sy(r.nextSibling),Zc=e,$s=!0,sf=null,n!==null&&(Yd[Kd++]=om,Yd[Kd++]=lm,Yd[Kd++]=i0,om=n.id,lm=n.overflow,i0=e),e=FK(e,i.children),e.flags|=4096,e)}function sne(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),iU(n.return,e,t)}function g5(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function s_e(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(yu(n,e,i.children,t),i=Js.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&sne(n,t,e);else if(n.tag===19)sne(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(hs(Js,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&vL(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),g5(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&vL(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}g5(e,!0,t,null,s);break;case"together":g5(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function i2(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Mm(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),s0|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(_t(153));if(e.child!==null){for(n=e.child,t=Ty(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Ty(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function nBe(n,e,t){switch(e.tag){case 3:i_e(e),eC();break;case 5:Mye(e);break;case 1:dc(e.type)&&dL(e);break;case 4:kK(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;hs(pL,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(hs(Js,Js.current&1),e.flags|=128,null):t&e.child.childLanes?r_e(n,e,t):(hs(Js,Js.current&1),n=Mm(n,e,t),n!==null?n.sibling:null);hs(Js,Js.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return s_e(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),hs(Js,Js.current),i)break;return null;case 22:case 23:return e.lanes=0,t_e(n,e,t)}return Mm(n,e,t)}var a_e,dU,o_e,l_e;a_e=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};dU=function(){};o_e=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,_b(Qp.current);var s=null;switch(t){case"input":r=RW(n,r),i=RW(n,i),s=[];break;case"select":r=ra({},r,{value:void 0}),i=ra({},i,{value:void 0}),s=[];break;case"textarea":r=FW(n,r),i=FW(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=uL)}$W(t,i);var a;t=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var o=r[u];for(a in o)o.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fk.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var l=i[u];if(o=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(t||(t={}),t[a]=l[a])}else t||(s||(s=[]),s.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fk.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&xs("scroll",n),s||o===l||(s=[])):(s=s||[]).push(u,l))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};l_e=function(n,e,t,i){t!==i&&(e.flags|=4)};function DT(n,e){if(!$s)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Il(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function iBe(n,e,t){var i=e.pendingProps;switch(SK(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Il(e),null;case 1:return dc(e.type)&&cL(),Il(e),null;case 3:return i=e.stateNode,nC(),Es(cc),Es(Yl),PK(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(rR(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,sf!==null&&(_U(sf),sf=null))),dU(n,e),Il(e),null;case 5:OK(e);var r=_b(Tk.current);if(t=e.type,n!==null&&e.stateNode!=null)o_e(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(_t(166));return Il(e),null}if(n=_b(Qp.current),rR(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[Cp]=e,i[wk]=s,n=(e.mode&1)!==0,t){case"dialog":xs("cancel",i),xs("close",i);break;case"iframe":case"object":case"embed":xs("load",i);break;case"video":case"audio":for(r=0;r<wE.length;r++)xs(wE[r],i);break;case"source":xs("error",i);break;case"img":case"image":case"link":xs("error",i),xs("load",i);break;case"details":xs("toggle",i);break;case"input":pte(i,s),xs("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},xs("invalid",i);break;case"textarea":mte(i,s),xs("invalid",i)}$W(t,s),r=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?i.textContent!==o&&(s.suppressHydrationWarning!==!0&&iR(i.textContent,o,n),r=["children",o]):typeof o=="number"&&i.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&iR(i.textContent,o,n),r=["children",""+o]):fk.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&xs("scroll",i)}switch(t){case"input":XI(i),gte(i,s,!0);break;case"textarea":XI(i),vte(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=uL)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Fve(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=a.createElement(t,{is:i.is}):(n=a.createElement(t),t==="select"&&(a=n,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):n=a.createElementNS(n,t),n[Cp]=e,n[wk]=i,a_e(n,e,!1,!1),e.stateNode=n;e:{switch(a=NW(t,i),t){case"dialog":xs("cancel",n),xs("close",n),r=i;break;case"iframe":case"object":case"embed":xs("load",n),r=i;break;case"video":case"audio":for(r=0;r<wE.length;r++)xs(wE[r],n);r=i;break;case"source":xs("error",n),r=i;break;case"img":case"image":case"link":xs("error",n),xs("load",n),r=i;break;case"details":xs("toggle",n),r=i;break;case"input":pte(n,i),r=RW(n,i),xs("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=ra({},i,{value:void 0}),xs("invalid",n);break;case"textarea":mte(n,i),r=FW(n,i),xs("invalid",n);break;default:r=i}$W(t,r),o=r;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?Nve(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Bve(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&pk(n,l):typeof l=="number"&&pk(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(fk.hasOwnProperty(s)?l!=null&&s==="onScroll"&&xs("scroll",n):l!=null&&aK(n,s,l,a))}switch(t){case"input":XI(n),gte(n,i,!1);break;case"textarea":XI(n),vte(n);break;case"option":i.value!=null&&n.setAttribute("value",""+My(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?_w(n,!!i.multiple,s,!1):i.defaultValue!=null&&_w(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=uL)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Il(e),null;case 6:if(n&&e.stateNode!=null)l_e(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(_t(166));if(t=_b(Tk.current),_b(Qp.current),rR(e)){if(i=e.stateNode,t=e.memoizedProps,i[Cp]=e,(s=i.nodeValue!==t)&&(n=Zc,n!==null))switch(n.tag){case 3:iR(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&iR(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[Cp]=e,e.stateNode=i}return Il(e),null;case 13:if(Es(Js),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if($s&&Gc!==null&&e.mode&1&&!(e.flags&128))Eye(),eC(),e.flags|=98560,s=!1;else if(s=rR(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(_t(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(_t(317));s[Cp]=e}else eC(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Il(e),s=!1}else sf!==null&&(_U(sf),sf=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||Js.current&1?So===0&&(So=3):HK())),e.updateQueue!==null&&(e.flags|=4),Il(e),null);case 4:return nC(),dU(n,e),n===null&&Sk(e.stateNode.containerInfo),Il(e),null;case 10:return TK(e.type._context),Il(e),null;case 17:return dc(e.type)&&cL(),Il(e),null;case 19:if(Es(Js),s=e.memoizedState,s===null)return Il(e),null;if(i=(e.flags&128)!==0,a=s.rendering,a===null)if(i)DT(s,!1);else{if(So!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=vL(n),a!==null){for(e.flags|=128,DT(s,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,n=a.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return hs(Js,Js.current&1|2),e.child}n=n.sibling}s.tail!==null&&La()>rC&&(e.flags|=128,i=!0,DT(s,!1),e.lanes=4194304)}else{if(!i)if(n=vL(a),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),DT(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!$s)return Il(e),null}else 2*La()-s.renderingStartTime>rC&&t!==1073741824&&(e.flags|=128,i=!0,DT(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(t=s.last,t!==null?t.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=La(),e.sibling=null,t=Js.current,hs(Js,i?t&1|2:t&1),e):(Il(e),null);case 22:case 23:return zK(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Vc&1073741824&&(Il(e),e.subtreeFlags&6&&(e.flags|=8192)):Il(e),null;case 24:return null;case 25:return null}throw Error(_t(156,e.tag))}function rBe(n,e){switch(SK(e),e.tag){case 1:return dc(e.type)&&cL(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return nC(),Es(cc),Es(Yl),PK(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return OK(e),null;case 13:if(Es(Js),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(_t(340));eC()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Es(Js),null;case 4:return nC(),null;case 10:return TK(e.type._context),null;case 22:case 23:return zK(),null;case 24:return null;default:return null}}var oR=!1,Hl=!1,sBe=typeof WeakSet=="function"?WeakSet:Set,nn=null;function Bx(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){fa(n,e,i)}else t.current=null}function hU(n,e,t){try{t()}catch(i){fa(n,e,i)}}var ane=!1;function aBe(n,e){if(XW=aL,n=fye(),_K(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var a=0,o=-1,l=-1,u=0,c=0,d=n,h=null;t:for(;;){for(var f;d!==t||r!==0&&d.nodeType!==3||(o=a+r),d!==s||i!==0&&d.nodeType!==3||(l=a+i),d.nodeType===3&&(a+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===n)break t;if(h===t&&++u===r&&(o=a),h===s&&++c===i&&(l=a),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}t=o===-1||l===-1?null:{start:o,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(qW={focusedElem:n,selectionRange:t},aL=!1,nn=e;nn!==null;)if(e=nn,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,nn=n;else for(;nn!==null;){e=nn;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,m=p.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:Jh(e.type,g),m);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_t(163))}}catch(x){fa(e,e.return,x)}if(n=e.sibling,n!==null){n.return=e.return,nn=n;break}nn=e.return}return p=ane,ane=!1,p}function JE(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&hU(e,t,s)}r=r.next}while(r!==i)}}function H$(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function fU(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function u_e(n){var e=n.alternate;e!==null&&(n.alternate=null,u_e(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Cp],delete e[wk],delete e[JW],delete e[HFe],delete e[VFe])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function c_e(n){return n.tag===5||n.tag===3||n.tag===4}function one(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||c_e(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function pU(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=uL));else if(i!==4&&(n=n.child,n!==null))for(pU(n,e,t),n=n.sibling;n!==null;)pU(n,e,t),n=n.sibling}function gU(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(gU(n,e,t),n=n.sibling;n!==null;)gU(n,e,t),n=n.sibling}var al=null,ef=!1;function gv(n,e,t){for(t=t.child;t!==null;)d_e(n,e,t),t=t.sibling}function d_e(n,e,t){if(Zp&&typeof Zp.onCommitFiberUnmount=="function")try{Zp.onCommitFiberUnmount(D$,t)}catch{}switch(t.tag){case 5:Hl||Bx(t,e);case 6:var i=al,r=ef;al=null,gv(n,e,t),al=i,ef=r,al!==null&&(ef?(n=al,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):al.removeChild(t.stateNode));break;case 18:al!==null&&(ef?(n=al,t=t.stateNode,n.nodeType===8?l5(n.parentNode,t):n.nodeType===1&&l5(n,t),yk(n)):l5(al,t.stateNode));break;case 4:i=al,r=ef,al=t.stateNode.containerInfo,ef=!0,gv(n,e,t),al=i,ef=r;break;case 0:case 11:case 14:case 15:if(!Hl&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&hU(t,e,a),r=r.next}while(r!==i)}gv(n,e,t);break;case 1:if(!Hl&&(Bx(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(o){fa(t,e,o)}gv(n,e,t);break;case 21:gv(n,e,t);break;case 22:t.mode&1?(Hl=(i=Hl)||t.memoizedState!==null,gv(n,e,t),Hl=i):gv(n,e,t);break;default:gv(n,e,t)}}function lne(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new sBe),e.forEach(function(i){var r=gBe.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function Hh(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:al=o.stateNode,ef=!1;break e;case 3:al=o.stateNode.containerInfo,ef=!0;break e;case 4:al=o.stateNode.containerInfo,ef=!0;break e}o=o.return}if(al===null)throw Error(_t(160));d_e(s,a,r),al=null,ef=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){fa(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)h_e(e,n),e=e.sibling}function h_e(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Hh(e,n),qf(n),i&4){try{JE(3,n,n.return),H$(3,n)}catch(g){fa(n,n.return,g)}try{JE(5,n,n.return)}catch(g){fa(n,n.return,g)}}break;case 1:Hh(e,n),qf(n),i&512&&t!==null&&Bx(t,t.return);break;case 5:if(Hh(e,n),qf(n),i&512&&t!==null&&Bx(t,t.return),n.flags&32){var r=n.stateNode;try{pk(r,"")}catch(g){fa(n,n.return,g)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,a=t!==null?t.memoizedProps:s,o=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Dve(r,s),NW(o,a);var u=NW(o,s);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?Nve(r,d):c==="dangerouslySetInnerHTML"?Bve(r,d):c==="children"?pk(r,d):aK(r,c,d,u)}switch(o){case"input":DW(r,s);break;case"textarea":Lve(r,s);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?_w(r,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?_w(r,!!s.multiple,s.defaultValue,!0):_w(r,!!s.multiple,s.multiple?[]:"",!1))}r[wk]=s}catch(g){fa(n,n.return,g)}}break;case 6:if(Hh(e,n),qf(n),i&4){if(n.stateNode===null)throw Error(_t(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(g){fa(n,n.return,g)}}break;case 3:if(Hh(e,n),qf(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{yk(e.containerInfo)}catch(g){fa(n,n.return,g)}break;case 4:Hh(e,n),qf(n);break;case 13:Hh(e,n),qf(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(NK=La())),i&4&&lne(n);break;case 22:if(c=t!==null&&t.memoizedState!==null,n.mode&1?(Hl=(u=Hl)||c,Hh(e,n),Hl=u):Hh(e,n),qf(n),i&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!c&&n.mode&1)for(nn=n,c=n.child;c!==null;){for(d=nn=c;nn!==null;){switch(h=nn,f=h.child,h.tag){case 0:case 11:case 14:case 15:JE(4,h,h.return);break;case 1:Bx(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){i=h,t=h.return;try{e=i,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){fa(i,t,g)}}break;case 5:Bx(h,h.return);break;case 22:if(h.memoizedState!==null){cne(d);continue}}f!==null?(f.return=h,nn=f):cne(d)}c=c.sibling}e:for(c=null,d=n;;){if(d.tag===5){if(c===null){c=d;try{r=d.stateNode,u?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=$ve("display",a))}catch(g){fa(n,n.return,g)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){fa(n,n.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Hh(e,n),qf(n),i&4&&lne(n);break;case 21:break;default:Hh(e,n),qf(n)}}function qf(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(c_e(t)){var i=t;break e}t=t.return}throw Error(_t(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(pk(r,""),i.flags&=-33);var s=one(n);gU(n,s,r);break;case 3:case 4:var a=i.stateNode.containerInfo,o=one(n);pU(n,o,a);break;default:throw Error(_t(161))}}catch(l){fa(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function oBe(n,e,t){nn=n,f_e(n)}function f_e(n,e,t){for(var i=(n.mode&1)!==0;nn!==null;){var r=nn,s=r.child;if(r.tag===22&&i){var a=r.memoizedState!==null||oR;if(!a){var o=r.alternate,l=o!==null&&o.memoizedState!==null||Hl;o=oR;var u=Hl;if(oR=a,(Hl=l)&&!u)for(nn=r;nn!==null;)a=nn,l=a.child,a.tag===22&&a.memoizedState!==null?dne(r):l!==null?(l.return=a,nn=l):dne(r);for(;s!==null;)nn=s,f_e(s),s=s.sibling;nn=r,oR=o,Hl=u}une(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,nn=s):une(n)}}function une(n){for(;nn!==null;){var e=nn;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Hl||H$(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Hl)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Jh(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Yte(e,s,i);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}Yte(e,a,t)}break;case 5:var o=e.stateNode;if(t===null&&e.flags&4){t=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&yk(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_t(163))}Hl||e.flags&512&&fU(e)}catch(h){fa(e,e.return,h)}}if(e===n){nn=null;break}if(t=e.sibling,t!==null){t.return=e.return,nn=t;break}nn=e.return}}function cne(n){for(;nn!==null;){var e=nn;if(e===n){nn=null;break}var t=e.sibling;if(t!==null){t.return=e.return,nn=t;break}nn=e.return}}function dne(n){for(;nn!==null;){var e=nn;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{H$(4,e)}catch(l){fa(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){fa(e,r,l)}}var s=e.return;try{fU(e)}catch(l){fa(e,s,l)}break;case 5:var a=e.return;try{fU(e)}catch(l){fa(e,a,l)}}}catch(l){fa(e,e.return,l)}if(e===n){nn=null;break}var o=e.sibling;if(o!==null){o.return=e.return,nn=o;break}nn=e.return}}var lBe=Math.ceil,bL=Vm.ReactCurrentDispatcher,BK=Vm.ReactCurrentOwner,ch=Vm.ReactCurrentBatchConfig,or=0,Yo=null,ro=null,hl=0,Vc=0,$x=Gy(0),So=0,Ok=null,s0=0,V$=0,$K=0,eA=null,ic=null,NK=0,rC=1/0,Wg=null,SL=!1,mU=null,wy=null,lR=!1,ny=null,xL=0,tA=0,vU=null,r2=-1,s2=0;function Tu(){return or&6?La():r2!==-1?r2:r2=La()}function Cy(n){return n.mode&1?or&2&&hl!==0?hl&-hl:UFe.transition!==null?(s2===0&&(s2=Zve()),s2):(n=Ur,n!==0||(n=window.event,n=n===void 0?16:rye(n.type)),n):1}function wf(n,e,t,i){if(50<tA)throw tA=0,vU=null,Error(_t(185));hP(n,t,i),(!(or&2)||n!==Yo)&&(n===Yo&&(!(or&2)&&(V$|=t),So===4&&qv(n,hl)),hc(n,i),t===1&&or===0&&!(e.mode&1)&&(rC=La()+500,N$&&Yy()))}function hc(n,e){var t=n.callbackNode;ULe(n,e);var i=sL(n,n===Yo?hl:0);if(i===0)t!==null&&bte(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&bte(t),e===1)n.tag===0?WFe(hne.bind(null,n)):wye(hne.bind(null,n)),jFe(function(){!(or&6)&&Yy()}),t=null;else{switch(Qve(i)){case 1:t=dK;break;case 4:t=Xve;break;case 16:t=rL;break;case 536870912:t=qve;break;default:t=rL}t=S_e(t,p_e.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function p_e(n,e){if(r2=-1,s2=0,or&6)throw Error(_t(327));var t=n.callbackNode;if(Cw()&&n.callbackNode!==t)return null;var i=sL(n,n===Yo?hl:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=wL(n,i);else{e=i;var r=or;or|=2;var s=m_e();(Yo!==n||hl!==e)&&(Wg=null,rC=La()+500,jb(n,e));do try{dBe();break}catch(o){g_e(n,o)}while(!0);CK(),bL.current=s,or=r,ro!==null?e=0:(Yo=null,hl=0,e=So)}if(e!==0){if(e===2&&(r=WW(n),r!==0&&(i=r,e=yU(n,r))),e===1)throw t=Ok,jb(n,0),qv(n,i),hc(n,La()),t;if(e===6)qv(n,i);else{if(r=n.current.alternate,!(i&30)&&!uBe(r)&&(e=wL(n,i),e===2&&(s=WW(n),s!==0&&(i=s,e=yU(n,s))),e===1))throw t=Ok,jb(n,0),qv(n,i),hc(n,La()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(_t(345));case 2:Q_(n,ic,Wg);break;case 3:if(qv(n,i),(i&130023424)===i&&(e=NK+500-La(),10<e)){if(sL(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){Tu(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=QW(Q_.bind(null,n,ic,Wg),e);break}Q_(n,ic,Wg);break;case 4:if(qv(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var a=31-xf(i);s=1<<a,a=e[a],a>r&&(r=a),i&=~s}if(i=r,i=La()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*lBe(i/1960))-i,10<i){n.timeoutHandle=QW(Q_.bind(null,n,ic,Wg),i);break}Q_(n,ic,Wg);break;case 5:Q_(n,ic,Wg);break;default:throw Error(_t(329))}}}return hc(n,La()),n.callbackNode===t?p_e.bind(null,n):null}function yU(n,e){var t=eA;return n.current.memoizedState.isDehydrated&&(jb(n,e).flags|=256),n=wL(n,e),n!==2&&(e=ic,ic=t,e!==null&&_U(e)),n}function _U(n){ic===null?ic=n:ic.push.apply(ic,n)}function uBe(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!kf(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qv(n,e){for(e&=~$K,e&=~V$,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-xf(e),i=1<<t;n[t]=-1,e&=~i}}function hne(n){if(or&6)throw Error(_t(327));Cw();var e=sL(n,0);if(!(e&1))return hc(n,La()),null;var t=wL(n,e);if(n.tag!==0&&t===2){var i=WW(n);i!==0&&(e=i,t=yU(n,i))}if(t===1)throw t=Ok,jb(n,0),qv(n,e),hc(n,La()),t;if(t===6)throw Error(_t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Q_(n,ic,Wg),hc(n,La()),null}function jK(n,e){var t=or;or|=1;try{return n(e)}finally{or=t,or===0&&(rC=La()+500,N$&&Yy())}}function a0(n){ny!==null&&ny.tag===0&&!(or&6)&&Cw();var e=or;or|=1;var t=ch.transition,i=Ur;try{if(ch.transition=null,Ur=1,n)return n()}finally{Ur=i,ch.transition=t,or=e,!(or&6)&&Yy()}}function zK(){Vc=$x.current,Es($x)}function jb(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,NFe(t)),ro!==null)for(t=ro.return;t!==null;){var i=t;switch(SK(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&cL();break;case 3:nC(),Es(cc),Es(Yl),PK();break;case 5:OK(i);break;case 4:nC();break;case 13:Es(Js);break;case 19:Es(Js);break;case 10:TK(i.type._context);break;case 22:case 23:zK()}t=t.return}if(Yo=n,ro=n=Ty(n.current,null),hl=Vc=e,So=0,Ok=null,$K=V$=s0=0,ic=eA=null,yb!==null){for(e=0;e<yb.length;e++)if(t=yb[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var a=s.next;s.next=r,i.next=a}t.pending=i}yb=null}return n}function g_e(n,e){do{var t=ro;try{if(CK(),t2.current=_L,yL){for(var i=na.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}yL=!1}if(r0=0,No=yo=na=null,QE=!1,Ek=0,BK.current=null,t===null||t.return===null){So=1,Ok=e,ro=null;break}e:{var s=n,a=t.return,o=t,l=e;if(e=hl,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=Jte(a);if(f!==null){f.flags&=-257,ene(f,a,o,s,e),f.mode&1&&Qte(s,u,e),e=f,l=u;var p=e.updateQueue;if(p===null){var g=new Set;g.add(l),e.updateQueue=g}else p.add(l);break e}else{if(!(e&1)){Qte(s,u,e),HK();break e}l=Error(_t(426))}}else if($s&&o.mode&1){var m=Jte(a);if(m!==null){!(m.flags&65536)&&(m.flags|=256),ene(m,a,o,s,e),xK(iC(l,o));break e}}s=l=iC(l,o),So!==4&&(So=2),eA===null?eA=[s]:eA.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=Qye(s,l,e);Gte(s,v);break e;case 1:o=l;var _=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(wy===null||!wy.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=Jye(s,o,e);Gte(s,x);break e}}s=s.return}while(s!==null)}y_e(t)}catch(w){e=w,ro===t&&t!==null&&(ro=t=t.return);continue}break}while(!0)}function m_e(){var n=bL.current;return bL.current=_L,n===null?_L:n}function HK(){(So===0||So===3||So===2)&&(So=4),Yo===null||!(s0&268435455)&&!(V$&268435455)||qv(Yo,hl)}function wL(n,e){var t=or;or|=2;var i=m_e();(Yo!==n||hl!==e)&&(Wg=null,jb(n,e));do try{cBe();break}catch(r){g_e(n,r)}while(!0);if(CK(),or=t,bL.current=i,ro!==null)throw Error(_t(261));return Yo=null,hl=0,So}function cBe(){for(;ro!==null;)v_e(ro)}function dBe(){for(;ro!==null&&!FLe();)v_e(ro)}function v_e(n){var e=b_e(n.alternate,n,Vc);n.memoizedProps=n.pendingProps,e===null?y_e(n):ro=e,BK.current=null}function y_e(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=rBe(t,e),t!==null){t.flags&=32767,ro=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{So=6,ro=null;return}}else if(t=iBe(t,e,Vc),t!==null){ro=t;return}if(e=e.sibling,e!==null){ro=e;return}ro=e=n}while(e!==null);So===0&&(So=5)}function Q_(n,e,t){var i=Ur,r=ch.transition;try{ch.transition=null,Ur=1,hBe(n,e,t,i)}finally{ch.transition=r,Ur=i}return null}function hBe(n,e,t,i){do Cw();while(ny!==null);if(or&6)throw Error(_t(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(_t(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(GLe(n,s),n===Yo&&(ro=Yo=null,hl=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||lR||(lR=!0,S_e(rL,function(){return Cw(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=ch.transition,ch.transition=null;var a=Ur;Ur=1;var o=or;or|=4,BK.current=null,aBe(n,t),h_e(t,n),IFe(qW),aL=!!XW,qW=XW=null,n.current=t,oBe(t),BLe(),or=o,Ur=a,ch.transition=s}else n.current=t;if(lR&&(lR=!1,ny=n,xL=r),s=n.pendingLanes,s===0&&(wy=null),jLe(t.stateNode),hc(n,La()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(SL)throw SL=!1,n=mU,mU=null,n;return xL&1&&n.tag!==0&&Cw(),s=n.pendingLanes,s&1?n===vU?tA++:(tA=0,vU=n):tA=0,Yy(),null}function Cw(){if(ny!==null){var n=Qve(xL),e=ch.transition,t=Ur;try{if(ch.transition=null,Ur=16>n?16:n,ny===null)var i=!1;else{if(n=ny,ny=null,xL=0,or&6)throw Error(_t(331));var r=or;for(or|=4,nn=n.current;nn!==null;){var s=nn,a=s.child;if(nn.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(nn=u;nn!==null;){var c=nn;switch(c.tag){case 0:case 11:case 15:JE(8,c,s)}var d=c.child;if(d!==null)d.return=c,nn=d;else for(;nn!==null;){c=nn;var h=c.sibling,f=c.return;if(u_e(c),c===u){nn=null;break}if(h!==null){h.return=f,nn=h;break}nn=f}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(g!==null)}}nn=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,nn=a;else e:for(;nn!==null;){if(s=nn,s.flags&2048)switch(s.tag){case 0:case 11:case 15:JE(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,nn=v;break e}nn=s.return}}var _=n.current;for(nn=_;nn!==null;){a=nn;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,nn=y;else e:for(a=_;nn!==null;){if(o=nn,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:H$(9,o)}}catch(w){fa(o,o.return,w)}if(o===a){nn=null;break e}var x=o.sibling;if(x!==null){x.return=o.return,nn=x;break e}nn=o.return}}if(or=r,Yy(),Zp&&typeof Zp.onPostCommitFiberRoot=="function")try{Zp.onPostCommitFiberRoot(D$,n)}catch{}i=!0}return i}finally{Ur=t,ch.transition=e}}return!1}function fne(n,e,t){e=iC(t,e),e=Qye(n,e,1),n=xy(n,e,1),e=Tu(),n!==null&&(hP(n,1,e),hc(n,e))}function fa(n,e,t){if(n.tag===3)fne(n,n,t);else for(;e!==null;){if(e.tag===3){fne(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(wy===null||!wy.has(i))){n=iC(t,n),n=Jye(e,n,1),e=xy(e,n,1),n=Tu(),e!==null&&(hP(e,1,n),hc(e,n));break}}e=e.return}}function fBe(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=Tu(),n.pingedLanes|=n.suspendedLanes&t,Yo===n&&(hl&t)===t&&(So===4||So===3&&(hl&130023424)===hl&&500>La()-NK?jb(n,0):$K|=t),hc(n,e)}function __e(n,e){e===0&&(n.mode&1?(e=QI,QI<<=1,!(QI&130023424)&&(QI=4194304)):e=1);var t=Tu();n=Pm(n,e),n!==null&&(hP(n,e,t),hc(n,t))}function pBe(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),__e(n,t)}function gBe(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(_t(314))}i!==null&&i.delete(e),__e(n,t)}var b_e;b_e=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||cc.current)oc=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return oc=!1,nBe(n,e,t);oc=!!(n.flags&131072)}else oc=!1,$s&&e.flags&1048576&&Cye(e,fL,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;i2(n,e),n=e.pendingProps;var r=Jw(e,Yl.current);ww(e,t),r=IK(null,e,i,n,r,t);var s=RK();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dc(i)?(s=!0,dL(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,AK(e),r.updater=z$,e.stateNode=r,r._reactInternals=e,sU(e,i,n,t),e=lU(null,e,i,!0,s,t)):(e.tag=0,$s&&s&&bK(e),yu(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(i2(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=vBe(i),n=Jh(i,n),r){case 0:e=oU(null,e,i,n,t);break e;case 1:e=ine(null,e,i,n,t);break e;case 11:e=tne(null,e,i,n,t);break e;case 14:e=nne(null,e,i,Jh(i.type,n),t);break e}throw Error(_t(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Jh(i,r),oU(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Jh(i,r),ine(n,e,i,r,t);case 3:e:{if(i_e(e),n===null)throw Error(_t(387));i=e.pendingProps,s=e.memoizedState,r=s.element,Pye(n,e),mL(e,i,null,t);var a=e.memoizedState;if(i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=iC(Error(_t(423)),e),e=rne(n,e,i,t,r);break e}else if(i!==r){r=iC(Error(_t(424)),e),e=rne(n,e,i,t,r);break e}else for(Gc=Sy(e.stateNode.containerInfo.firstChild),Zc=e,$s=!0,sf=null,t=kye(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(eC(),i===r){e=Mm(n,e,t);break e}yu(n,e,i,t)}e=e.child}return e;case 5:return Mye(e),n===null&&nU(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,a=r.children,ZW(i,r)?a=null:s!==null&&ZW(i,s)&&(e.flags|=32),n_e(n,e),yu(n,e,a,t),e.child;case 6:return n===null&&nU(e),null;case 13:return r_e(n,e,t);case 4:return kK(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=tC(e,null,i,t):yu(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Jh(i,r),tne(n,e,i,r,t);case 7:return yu(n,e,e.pendingProps,t),e.child;case 8:return yu(n,e,e.pendingProps.children,t),e.child;case 12:return yu(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,a=r.value,hs(pL,i._currentValue),i._currentValue=a,s!==null)if(kf(s.value,a)){if(s.children===r.children&&!cc.current){e=Mm(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=bm(-1,t&-t),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),iU(s.return,t,e),o.lanes|=t;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(_t(341));a.lanes|=t,o=a.alternate,o!==null&&(o.lanes|=t),iU(a,t,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}yu(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,ww(e,t),r=vh(r),i=i(r),e.flags|=1,yu(n,e,i,t),e.child;case 14:return i=e.type,r=Jh(i,e.pendingProps),r=Jh(i.type,r),nne(n,e,i,r,t);case 15:return e_e(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Jh(i,r),i2(n,e),e.tag=1,dc(i)?(n=!0,dL(e)):n=!1,ww(e,t),Zye(e,i,r),sU(e,i,r,t),lU(null,e,i,!0,n,t);case 19:return s_e(n,e,t);case 22:return t_e(n,e,t)}throw Error(_t(156,e.tag))};function S_e(n,e){return Kve(n,e)}function mBe(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ih(n,e,t,i){return new mBe(n,e,t,i)}function VK(n){return n=n.prototype,!(!n||!n.isReactComponent)}function vBe(n){if(typeof n=="function")return VK(n)?1:0;if(n!=null){if(n=n.$$typeof,n===lK)return 11;if(n===uK)return 14}return 2}function Ty(n,e){var t=n.alternate;return t===null?(t=ih(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function a2(n,e,t,i,r,s){var a=2;if(i=n,typeof n=="function")VK(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case kx:return zb(t.children,r,s,e);case oK:a=8,r|=8;break;case OW:return n=ih(12,t,e,r|2),n.elementType=OW,n.lanes=s,n;case PW:return n=ih(13,t,e,r),n.elementType=PW,n.lanes=s,n;case MW:return n=ih(19,t,e,r),n.elementType=MW,n.lanes=s,n;case Mve:return W$(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Ove:a=10;break e;case Pve:a=9;break e;case lK:a=11;break e;case uK:a=14;break e;case jv:a=16,i=null;break e}throw Error(_t(130,n==null?n:typeof n,""))}return e=ih(a,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function zb(n,e,t,i){return n=ih(7,n,i,e),n.lanes=t,n}function W$(n,e,t,i){return n=ih(22,n,i,e),n.elementType=Mve,n.lanes=t,n.stateNode={isHidden:!1},n}function m5(n,e,t){return n=ih(6,n,null,e),n.lanes=t,n}function v5(n,e,t){return e=ih(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function yBe(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Z3(0),this.expirationTimes=Z3(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Z3(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function WK(n,e,t,i,r,s,a,o,l){return n=new yBe(n,e,t,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ih(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},AK(s),n}function _Be(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ax,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function x_e(n){if(!n)return Iy;n=n._reactInternals;e:{if(P0(n)!==n||n.tag!==1)throw Error(_t(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dc(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(_t(171))}if(n.tag===1){var t=n.type;if(dc(t))return xye(n,t,e)}return e}function w_e(n,e,t,i,r,s,a,o,l){return n=WK(t,i,!0,n,r,s,a,o,l),n.context=x_e(null),t=n.current,i=Tu(),r=Cy(t),s=bm(i,r),s.callback=e??null,xy(t,s,r),n.current.lanes=r,hP(n,r,i),hc(n,i),n}function U$(n,e,t,i){var r=e.current,s=Tu(),a=Cy(r);return t=x_e(t),e.context===null?e.context=t:e.pendingContext=t,e=bm(s,a),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=xy(r,e,a),n!==null&&(wf(n,r,a,s),e2(n,r,a)),a}function CL(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function pne(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function UK(n,e){pne(n,e),(n=n.alternate)&&pne(n,e)}function bBe(){return null}var C_e=typeof reportError=="function"?reportError:function(n){console.error(n)};function GK(n){this._internalRoot=n}G$.prototype.render=GK.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(_t(409));U$(n,e,null,null)};G$.prototype.unmount=GK.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;a0(function(){U$(null,n,null,null)}),e[Om]=null}};function G$(n){this._internalRoot=n}G$.prototype.unstable_scheduleHydration=function(n){if(n){var e=tye();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Xv.length&&e!==0&&e<Xv[t].priority;t++);Xv.splice(t,0,n),t===0&&iye(n)}};function YK(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Y$(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function gne(){}function SBe(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var u=CL(a);s.call(u)}}var a=w_e(e,i,n,0,null,!1,!1,"",gne);return n._reactRootContainer=a,n[Om]=a.current,Sk(n.nodeType===8?n.parentNode:n),a0(),a}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var o=i;i=function(){var u=CL(l);o.call(u)}}var l=WK(n,0,!1,null,null,!1,!1,"",gne);return n._reactRootContainer=l,n[Om]=l.current,Sk(n.nodeType===8?n.parentNode:n),a0(function(){U$(e,l,t,i)}),l}function K$(n,e,t,i,r){var s=t._reactRootContainer;if(s){var a=s;if(typeof r=="function"){var o=r;r=function(){var l=CL(a);o.call(l)}}U$(e,a,n,r)}else a=SBe(t,e,n,r,i);return CL(a)}Jve=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=xE(e.pendingLanes);t!==0&&(hK(e,t|1),hc(e,La()),!(or&6)&&(rC=La()+500,Yy()))}break;case 13:a0(function(){var i=Pm(n,1);if(i!==null){var r=Tu();wf(i,n,1,r)}}),UK(n,1)}};fK=function(n){if(n.tag===13){var e=Pm(n,134217728);if(e!==null){var t=Tu();wf(e,n,134217728,t)}UK(n,134217728)}};eye=function(n){if(n.tag===13){var e=Cy(n),t=Pm(n,e);if(t!==null){var i=Tu();wf(t,n,e,i)}UK(n,e)}};tye=function(){return Ur};nye=function(n,e){var t=Ur;try{return Ur=n,e()}finally{Ur=t}};zW=function(n,e,t){switch(e){case"input":if(DW(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=$$(i);if(!r)throw Error(_t(90));Rve(i),DW(i,r)}}}break;case"textarea":Lve(n,t);break;case"select":e=t.value,e!=null&&_w(n,!!t.multiple,e,!1)}};Hve=jK;Vve=a0;var xBe={usingClientEntryPoint:!1,Events:[pP,Ix,$$,jve,zve,jK]},LT={findFiberByHostInstance:vb,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wBe={bundleType:LT.bundleType,version:LT.version,rendererPackageName:LT.rendererPackageName,rendererConfig:LT.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vm.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Gve(n),n===null?null:n.stateNode},findFiberByHostInstance:LT.findFiberByHostInstance||bBe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uR=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uR.isDisabled&&uR.supportsFiber)try{D$=uR.inject(wBe),Zp=uR}catch{}}ld.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xBe;ld.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!YK(e))throw Error(_t(200));return _Be(n,e,null,t)};ld.createRoot=function(n,e){if(!YK(n))throw Error(_t(299));var t=!1,i="",r=C_e;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=WK(n,1,!1,null,null,t,!1,i,r),n[Om]=e.current,Sk(n.nodeType===8?n.parentNode:n),new GK(e)};ld.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(_t(188)):(n=Object.keys(n).join(","),Error(_t(268,n)));return n=Gve(e),n=n===null?null:n.stateNode,n};ld.flushSync=function(n){return a0(n)};ld.hydrate=function(n,e,t){if(!Y$(e))throw Error(_t(200));return K$(null,n,e,!0,t)};ld.hydrateRoot=function(n,e,t){if(!YK(n))throw Error(_t(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",a=C_e;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=w_e(e,null,n,1,t??null,r,!1,s,a),n[Om]=e.current,Sk(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new G$(e)};ld.render=function(n,e,t){if(!Y$(e))throw Error(_t(200));return K$(null,n,e,!1,t)};ld.unmountComponentAtNode=function(n){if(!Y$(n))throw Error(_t(40));return n._reactRootContainer?(a0(function(){K$(null,null,n,!1,function(){n._reactRootContainer=null,n[Om]=null})}),!0):!1};ld.unstable_batchedUpdates=jK;ld.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!Y$(t))throw Error(_t(200));if(n==null||n._reactInternals===void 0)throw Error(_t(38));return K$(n,e,t,!1,i)};ld.version="18.3.1-next-f1338f8080-20240426";function T_e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(T_e)}catch(n){console.error(n)}}T_e(),Tve.exports=ld;var Yc=Tve.exports;const nA=yn(Yc);var mne=Yc;AW.createRoot=mne.createRoot,AW.hydrateRoot=mne.hydrateRoot;var CBe=typeof global=="object"&&global&&global.Object===Object&&global,TBe=CBe,EBe=typeof self=="object"&&self&&self.Object===Object&&self,ABe=TBe||EBe||Function("return this")(),KK=ABe,kBe=KK.Symbol,sC=kBe,E_e=Object.prototype,OBe=E_e.hasOwnProperty,PBe=E_e.toString,FT=sC?sC.toStringTag:void 0;function MBe(n){var e=OBe.call(n,FT),t=n[FT];try{n[FT]=void 0;var i=!0}catch{}var r=PBe.call(n);return i&&(e?n[FT]=t:delete n[FT]),r}var IBe=MBe,RBe=Object.prototype,DBe=RBe.toString;function LBe(n){return DBe.call(n)}var FBe=LBe,BBe="[object Null]",$Be="[object Undefined]",vne=sC?sC.toStringTag:void 0;function NBe(n){return n==null?n===void 0?$Be:BBe:vne&&vne in Object(n)?IBe(n):FBe(n)}var mP=NBe;function jBe(n){return n!=null&&typeof n=="object"}var X$=jBe,zBe="[object Symbol]";function HBe(n){return typeof n=="symbol"||X$(n)&&mP(n)==zBe}var XK=HBe;function VBe(n,e){for(var t=-1,i=n==null?0:n.length,r=Array(i);++t<i;)r[t]=e(n[t],t,n);return r}var WBe=VBe,UBe=Array.isArray,ug=UBe,yne=sC?sC.prototype:void 0,_ne=yne?yne.toString:void 0;function A_e(n){if(typeof n=="string")return n;if(ug(n))return WBe(n,A_e)+"";if(XK(n))return _ne?_ne.call(n):"";var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}var GBe=A_e;function YBe(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var Wm=YBe,KBe="[object AsyncFunction]",XBe="[object Function]",qBe="[object GeneratorFunction]",ZBe="[object Proxy]";function QBe(n){if(!Wm(n))return!1;var e=mP(n);return e==XBe||e==qBe||e==KBe||e==ZBe}var JBe=QBe,e$e=KK["__core-js_shared__"],y5=e$e,bne=function(){var n=/[^.]+$/.exec(y5&&y5.keys&&y5.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function t$e(n){return!!bne&&bne in n}var n$e=t$e,i$e=Function.prototype,r$e=i$e.toString;function s$e(n){if(n!=null){try{return r$e.call(n)}catch{}try{return n+""}catch{}}return""}var a$e=s$e,o$e=/[\\^$.*+?()[\]{}|]/g,l$e=/^\[object .+?Constructor\]$/,u$e=Function.prototype,c$e=Object.prototype,d$e=u$e.toString,h$e=c$e.hasOwnProperty,f$e=RegExp("^"+d$e.call(h$e).replace(o$e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p$e(n){if(!Wm(n)||n$e(n))return!1;var e=JBe(n)?f$e:l$e;return e.test(a$e(n))}var g$e=p$e;function m$e(n,e){return n==null?void 0:n[e]}var v$e=m$e;function y$e(n,e){var t=v$e(n,e);return g$e(t)?t:void 0}var k_e=y$e;function _$e(n,e){return n===e||n!==n&&e!==e}var b$e=_$e,S$e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,x$e=/^\w*$/;function w$e(n,e){if(ug(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||XK(n)?!0:x$e.test(n)||!S$e.test(n)||e!=null&&n in Object(e)}var C$e=w$e,T$e=k_e(Object,"create"),Pk=T$e;function E$e(){this.__data__=Pk?Pk(null):{},this.size=0}var A$e=E$e;function k$e(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var O$e=k$e,P$e="__lodash_hash_undefined__",M$e=Object.prototype,I$e=M$e.hasOwnProperty;function R$e(n){var e=this.__data__;if(Pk){var t=e[n];return t===P$e?void 0:t}return I$e.call(e,n)?e[n]:void 0}var D$e=R$e,L$e=Object.prototype,F$e=L$e.hasOwnProperty;function B$e(n){var e=this.__data__;return Pk?e[n]!==void 0:F$e.call(e,n)}var $$e=B$e,N$e="__lodash_hash_undefined__";function j$e(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Pk&&e===void 0?N$e:e,this}var z$e=j$e;function n1(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}n1.prototype.clear=A$e;n1.prototype.delete=O$e;n1.prototype.get=D$e;n1.prototype.has=$$e;n1.prototype.set=z$e;var Sne=n1;function H$e(){this.__data__=[],this.size=0}var V$e=H$e;function W$e(n,e){for(var t=n.length;t--;)if(b$e(n[t][0],e))return t;return-1}var q$=W$e,U$e=Array.prototype,G$e=U$e.splice;function Y$e(n){var e=this.__data__,t=q$(e,n);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():G$e.call(e,t,1),--this.size,!0}var K$e=Y$e;function X$e(n){var e=this.__data__,t=q$(e,n);return t<0?void 0:e[t][1]}var q$e=X$e;function Z$e(n){return q$(this.__data__,n)>-1}var Q$e=Z$e;function J$e(n,e){var t=this.__data__,i=q$(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this}var eNe=J$e;function i1(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}i1.prototype.clear=V$e;i1.prototype.delete=K$e;i1.prototype.get=q$e;i1.prototype.has=Q$e;i1.prototype.set=eNe;var tNe=i1,nNe=k_e(KK,"Map"),iNe=nNe;function rNe(){this.size=0,this.__data__={hash:new Sne,map:new(iNe||tNe),string:new Sne}}var sNe=rNe;function aNe(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var oNe=aNe;function lNe(n,e){var t=n.__data__;return oNe(e)?t[typeof e=="string"?"string":"hash"]:t.map}var Z$=lNe;function uNe(n){var e=Z$(this,n).delete(n);return this.size-=e?1:0,e}var cNe=uNe;function dNe(n){return Z$(this,n).get(n)}var hNe=dNe;function fNe(n){return Z$(this,n).has(n)}var pNe=fNe;function gNe(n,e){var t=Z$(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this}var mNe=gNe;function r1(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}r1.prototype.clear=sNe;r1.prototype.delete=cNe;r1.prototype.get=hNe;r1.prototype.has=pNe;r1.prototype.set=mNe;var O_e=r1,vNe="Expected a function";function qK(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(vNe);var t=function(){var i=arguments,r=e?e.apply(this,i):i[0],s=t.cache;if(s.has(r))return s.get(r);var a=n.apply(this,i);return t.cache=s.set(r,a)||s,a};return t.cache=new(qK.Cache||O_e),t}qK.Cache=O_e;var yNe=qK,_Ne=500;function bNe(n){var e=yNe(n,function(i){return t.size===_Ne&&t.clear(),i}),t=e.cache;return e}var SNe=bNe,xNe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wNe=/\\(\\)?/g,CNe=SNe(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(xNe,function(t,i,r,s){e.push(r?s.replace(wNe,"$1"):i||t)}),e}),TNe=CNe;function ENe(n){return n==null?"":GBe(n)}var P_e=ENe;function ANe(n,e){return ug(n)?n:C$e(n,e)?[n]:TNe(P_e(n))}var kNe=ANe;function ONe(n){if(typeof n=="string"||XK(n))return n;var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}var PNe=ONe;function MNe(n,e){e=kNe(e,n);for(var t=0,i=e.length;n!=null&&t<i;)n=n[PNe(e[t++])];return t&&t==i?n:void 0}var INe=MNe;function RNe(n,e,t){var i=n==null?void 0:INe(n,e);return i===void 0?t:i}var to=RNe,DNe="[object String]";function LNe(n){return typeof n=="string"||!ug(n)&&X$(n)&&mP(n)==DNe}var Ia=LNe,FNe="[object Boolean]";function BNe(n){return n===!0||n===!1||X$(n)&&mP(n)==FNe}var $Ne=BNe,NNe="[object Number]";function jNe(n){return typeof n=="number"||X$(n)&&mP(n)==NNe}var zNe=jNe,HNe=0;function VNe(n){var e=++HNe;return P_e(n)+e}var xne=VNe,wne=(n,e,t)=>new Promise((i,r)=>{var s=l=>{try{o(t.next(l))}catch(u){r(u)}},a=l=>{try{o(t.throw(l))}catch(u){r(u)}},o=l=>l.done?i(l.value):Promise.resolve(l.value).then(s,a);o((t=t.apply(n,e)).next())}),Cne=class{constructor(n){this._target=n}sendMsg(n){if(!this._target)throw new Error("target window is not found");this._target.postMessage(n,"*")}listenMsg(n){this._eventHandler=n,typeof window<"u"&&window.addEventListener("message",n)}destroy(){typeof window<"u"&&window.removeEventListener("message",this._eventHandler)}},M_e=class{constructor(n,e){n==="host"?this.channelManager=new Cne(e):n==="client"&&(this.channelManager=new Cne(window==null?void 0:window.parent))}static createInstance(n,e){return new M_e(n,e)}sendMsg(n){var e;(e=this.channelManager)==null||e.sendMsg(n)}listenMsg(n){var e;(e=this.channelManager)==null||e.listenMsg(n)}destroy(){var n;(n=this.channelManager)==null||n.destroy()}},WNe=class{constructor(e){if(this.hostOrigin=e,this.resultMap=new Map,this._msgChannel=null,this._eventMap=new Map,this._handshakeRetryTimes=0,this._handshakeStatus=0,this._prefixId="",this.allowedHostOrigin=["*"],this.hostOrigin=e,typeof window>"u"||window.parent===window){this._handshakeStatus=2;return}this._msgChannel=M_e.createInstance("client"),this.listeningHostMsg(),this.startHandshake()}sendProactiveHandshakeMsg(){var e;(e=this._msgChannel)==null||e.sendMsg({id:xne("handshake-"),type:"handshake",payload:{proactive:!0}})}_initHandshake(){this._handshakeRetryTimes=0,clearTimeout(this._handshakeTimeout),this._handshakeStatus=0,this._handshakePromise=new Promise((e,t)=>{this._handshakeResolve=e,setTimeout(()=>this.retryHandshake(t),2e3)})}startHandshake(){this._initHandshake(),this._handshakePromise.then(()=>{this._handshakeStatus=1}).catch(e=>{this._handshakeStatus=2,console.error("client handshake error : ",e)}),this.sendProactiveHandshakeMsg()}retryHandshake(e){this._handshakeStatus===0&&(this._handshakeRetryTimes<5?(this.sendProactiveHandshakeMsg(),this._handshakeRetryTimes++,this._handshakeTimeout=setTimeout(()=>this.retryHandshake(e),2e3+2**this._handshakeRetryTimes)):e("time out"))}updateInvokeId(){this._invokeId=xne(`${this._prefixId}-invoke-`)}get allowedAnyOrigin(){return this.allowedHostOrigin.includes("*")}handleChannelMessage(e){let{origin:t,data:i}=e;if(!this.allowedHostOrigin.includes(t)&&!this.allowedAnyOrigin)return;let{type:r}=i;r==="callback"?this.handleHostCallback(i):r==="handshake"?this.handleHandshakeCallback(i):r==="event"&&this.handleEventCallback(i)}handleHostCallback(e){let{id:t,payload:i}=e,r=this.resultMap.get(t);r&&r(i.res)}handleHandshakeCallback(e){let{id:t,payload:i}=e;this._prefixId=i==null?void 0:i.prefixId,this._handshakeResolve(),this.sendMsg2Host({id:t,type:"handshake",payload:{proactive:!1,info:{isHandshakeSuccess:!0}}})}handleEventCallback(e){return wne(this,null,function*(){var t;yield this._handshakePromise;let{payload:i}=e,{eventName:r,params:s}=i;((t=this._eventMap.get(r))!=null?t:[]).forEach(a=>{a({data:s})})})}listeningHostMsg(){var e;(e=this._msgChannel)==null||e.listenMsg(this.handleChannelMessage.bind(this))}sendMsg2Host(e){var t;(t=this._msgChannel)==null||t.sendMsg(e)}invokeApi(e,t){return wne(this,null,function*(){return yield this._handshakePromise,this._invokeId||this.updateInvokeId(),this.sendMsg2Host({type:"invoke",id:this._invokeId,payload:{key:e,params:t,prefixId:this._prefixId}}),new Promise(i=>{this.resultMap.set(this._invokeId,i),this.updateInvokeId()})})}subscribeEvent(e,t){var i;let r=(i=this._eventMap.get(e))!=null?i:[];r.push(t),this._eventMap.set(e,r)}unsubscribeEvent(e,t){var i;let r=(i=this._eventMap.get(e))!=null?i:[],s=r.indexOf(t);s!==-1&&r.splice(s,1)}},UNe=(n=>(n.PENDING="pending",n.LOADING="loading",n.LOADED="loaded",n.ERROR="error",n))(UNe||{}),GNe=(n=>(n.IFRAME_LOAD_TIME_OUT="iframe load time out",n.IFRAME_LOAD_ERROR="iframe load error",n.NOT_ALLOWED_URL="not allowed url",n.HANDSHAKE_TIME_OUT="handshake time out",n))(GNe||{}),_5=null,YNe=()=>(_5||(_5=new WNe),_5);/*! Bundled license information:

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/const KNe="modulepreload",XNe=function(n){return"/lark-dashboard-plugin/"+n},Tne={},qNe=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=Promise.allSettled(t.map(l=>{if(l=XNe(l),l in Tne)return;Tne[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":KNe,u||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),u)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return r.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};var Mc={},ZNe=Object.create,vP=Object.defineProperty,QNe=Object.defineProperties,I_e=Object.getOwnPropertyDescriptor,JNe=Object.getOwnPropertyDescriptors,eje=Object.getOwnPropertyNames,TL=Object.getOwnPropertySymbols,R_e=Object.getPrototypeOf,ZK=Object.prototype.hasOwnProperty,D_e=Object.prototype.propertyIsEnumerable,tje=Reflect.get,Ene=(n,e,t)=>e in n?vP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,On=(n,e)=>{for(var t in e||(e={}))ZK.call(e,t)&&Ene(n,t,e[t]);if(TL)for(var t of TL(e))D_e.call(e,t)&&Ene(n,t,e[t]);return n},pi=(n,e)=>QNe(n,JNe(e)),up=(n,e)=>{var t={};for(var i in n)ZK.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&TL)for(var i of TL(n))e.indexOf(i)<0&&D_e.call(n,i)&&(t[i]=n[i]);return t},Wn=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),nje=(n,e)=>{for(var t in e)vP(n,t,{get:e[t],enumerable:!0})},ije=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of eje(e))!ZK.call(n,r)&&r!==t&&vP(n,r,{get:()=>e[r],enumerable:!(i=I_e(e,r))||i.enumerable});return n},ie=(n,e,t)=>(t=n!=null?ZNe(R_e(n)):{},ije(e||!n||!n.__esModule?vP(t,"default",{value:n,enumerable:!0}):t,n)),Le=(n,e,t,i)=>{for(var r=i>1?void 0:i?I_e(e,t):e,s=n.length-1,a;s>=0;s--)(a=n[s])&&(r=(i?a(e,t,r):a(r))||r);return i&&r&&vP(e,t,r),r},J_=(n,e,t)=>tje(R_e(n),t,e),pe=(n,e,t)=>new Promise((i,r)=>{var s=l=>{try{o(t.next(l))}catch(u){r(u)}},a=l=>{try{o(t.throw(l))}catch(u){r(u)}},o=l=>l.done?i(l.value):Promise.resolve(l.value).then(s,a);o((t=t.apply(n,e)).next())}),rje=Wn(n=>{var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;function f(U){return U===null||typeof U!="object"?null:(U=h&&U[h]||U["@@iterator"],typeof U=="function"?U:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(U,X,Z){this.props=U,this.context=X,this.refs=m,this.updater=Z||p}v.prototype.isReactComponent={},v.prototype.setState=function(U,X){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,X,"setState")},v.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function _(){}_.prototype=v.prototype;function y(U,X,Z){this.props=U,this.context=X,this.refs=m,this.updater=Z||p}var x=y.prototype=new _;x.constructor=y,g(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,T=Object.prototype.hasOwnProperty,E={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function k(U,X,Z){var Q,se={},ae=null,ue=null;if(X!=null)for(Q in X.ref!==void 0&&(ue=X.ref),X.key!==void 0&&(ae=""+X.key),X)T.call(X,Q)&&!A.hasOwnProperty(Q)&&(se[Q]=X[Q]);var oe=arguments.length-2;if(oe===1)se.children=Z;else if(1<oe){for(var re=Array(oe),fe=0;fe<oe;fe++)re[fe]=arguments[fe+2];se.children=re}if(U&&U.defaultProps)for(Q in oe=U.defaultProps,oe)se[Q]===void 0&&(se[Q]=oe[Q]);return{$$typeof:e,type:U,key:ae,ref:ue,props:se,_owner:E.current}}function P(U,X){return{$$typeof:e,type:U.type,key:X,ref:U.ref,props:U.props,_owner:U._owner}}function I(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function D(U){var X={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(Z){return X[Z]})}var L=/\/+/g;function B(U,X){return typeof U=="object"&&U!==null&&U.key!=null?D(""+U.key):X.toString(36)}function F(U,X,Z,Q,se){var ae=typeof U;(ae==="undefined"||ae==="boolean")&&(U=null);var ue=!1;if(U===null)ue=!0;else switch(ae){case"string":case"number":ue=!0;break;case"object":switch(U.$$typeof){case e:case t:ue=!0}}if(ue)return ue=U,se=se(ue),U=Q===""?"."+B(ue,0):Q,w(se)?(Z="",U!=null&&(Z=U.replace(L,"$&/")+"/"),F(se,X,Z,"",function(fe){return fe})):se!=null&&(I(se)&&(se=P(se,Z+(!se.key||ue&&ue.key===se.key?"":(""+se.key).replace(L,"$&/")+"/")+U)),X.push(se)),1;if(ue=0,Q=Q===""?".":Q+":",w(U))for(var oe=0;oe<U.length;oe++){ae=U[oe];var re=Q+B(ae,oe);ue+=F(ae,X,Z,re,se)}else if(re=f(U),typeof re=="function")for(U=re.call(U),oe=0;!(ae=U.next()).done;)ae=ae.value,re=Q+B(ae,oe++),ue+=F(ae,X,Z,re,se);else if(ae==="object")throw X=String(U),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return ue}function $(U,X,Z){if(U==null)return U;var Q=[],se=0;return F(U,Q,"","",function(ae){return X.call(Z,ae,se++)}),Q}function z(U){if(U._status===-1){var X=U._result;X=X(),X.then(function(Z){(U._status===0||U._status===-1)&&(U._status=1,U._result=Z)},function(Z){(U._status===0||U._status===-1)&&(U._status=2,U._result=Z)}),U._status===-1&&(U._status=0,U._result=X)}if(U._status===1)return U._result.default;throw U._result}var N={current:null},V={transition:null},H={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:V,ReactCurrentOwner:E};function K(){throw Error("act(...) is not supported in production builds of React.")}n.Children={map:$,forEach:function(U,X,Z){$(U,function(){X.apply(this,arguments)},Z)},count:function(U){var X=0;return $(U,function(){X++}),X},toArray:function(U){return $(U,function(X){return X})||[]},only:function(U){if(!I(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},n.Component=v,n.Fragment=i,n.Profiler=s,n.PureComponent=y,n.StrictMode=r,n.Suspense=u,n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,n.act=K,n.cloneElement=function(U,X,Z){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Q=g({},U.props),se=U.key,ae=U.ref,ue=U._owner;if(X!=null){if(X.ref!==void 0&&(ae=X.ref,ue=E.current),X.key!==void 0&&(se=""+X.key),U.type&&U.type.defaultProps)var oe=U.type.defaultProps;for(re in X)T.call(X,re)&&!A.hasOwnProperty(re)&&(Q[re]=X[re]===void 0&&oe!==void 0?oe[re]:X[re])}var re=arguments.length-2;if(re===1)Q.children=Z;else if(1<re){oe=Array(re);for(var fe=0;fe<re;fe++)oe[fe]=arguments[fe+2];Q.children=oe}return{$$typeof:e,type:U.type,key:se,ref:ae,props:Q,_owner:ue}},n.createContext=function(U){return U={$$typeof:o,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},n.createElement=k,n.createFactory=function(U){var X=k.bind(null,U);return X.type=U,X},n.createRef=function(){return{current:null}},n.forwardRef=function(U){return{$$typeof:l,render:U}},n.isValidElement=I,n.lazy=function(U){return{$$typeof:d,_payload:{_status:-1,_result:U},_init:z}},n.memo=function(U,X){return{$$typeof:c,type:U,compare:X===void 0?null:X}},n.startTransition=function(U){var X=V.transition;V.transition={};try{U()}finally{V.transition=X}},n.unstable_act=K,n.useCallback=function(U,X){return N.current.useCallback(U,X)},n.useContext=function(U){return N.current.useContext(U)},n.useDebugValue=function(){},n.useDeferredValue=function(U){return N.current.useDeferredValue(U)},n.useEffect=function(U,X){return N.current.useEffect(U,X)},n.useId=function(){return N.current.useId()},n.useImperativeHandle=function(U,X,Z){return N.current.useImperativeHandle(U,X,Z)},n.useInsertionEffect=function(U,X){return N.current.useInsertionEffect(U,X)},n.useLayoutEffect=function(U,X){return N.current.useLayoutEffect(U,X)},n.useMemo=function(U,X){return N.current.useMemo(U,X)},n.useReducer=function(U,X,Z){return N.current.useReducer(U,X,Z)},n.useRef=function(U){return N.current.useRef(U)},n.useState=function(U){return N.current.useState(U)},n.useSyncExternalStore=function(U,X,Z){return N.current.useSyncExternalStore(U,X,Z)},n.useTransition=function(){return N.current.useTransition()},n.version="18.3.1"}),de=Wn((n,e)=>{e.exports=rje()}),sje=Wn((n,e)=>{(function(t,i){typeof n=="object"&&typeof e<"u"?e.exports=i(de()):typeof define=="function"&&define.amd?define(["react"],i):(t=t||self,t.styled=i(t.React))})(n,function(t){var i=typeof process<"u"&&typeof Mc<"u"&&(Mc.REACT_APP_SC_ATTR||Mc.SC_ATTR)||"data-styled",r="active",s="data-styled-version",a="6.1.19",o=`/*!sc*/
`,l=typeof window<"u"&&typeof document<"u",u=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&typeof Mc<"u"&&typeof Mc.REACT_APP_SC_DISABLE_SPEEDY<"u"&&Mc.REACT_APP_SC_DISABLE_SPEEDY!==""?Mc.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Mc.REACT_APP_SC_DISABLE_SPEEDY:!(typeof process<"u"&&typeof Mc<"u"&&typeof Mc.SC_DISABLE_SPEEDY<"u"&&Mc.SC_DISABLE_SPEEDY!=="")||Mc.SC_DISABLE_SPEEDY!=="false"&&Mc.SC_DISABLE_SPEEDY),c={},d=function(){return d=Object.assign||function(G){for(var te,ce=1,ge=arguments.length;ce<ge;ce++){te=arguments[ce];for(var Ie in te)Object.prototype.hasOwnProperty.call(te,Ie)&&(G[Ie]=te[Ie])}return G},d.apply(this,arguments)};function h(G,te,ce){if(ce||arguments.length===2)for(var ge=0,Ie=te.length,at;ge<Ie;ge++)(at||!(ge in te))&&(at||(at=Array.prototype.slice.call(te,0,ge)),at[ge]=te[ge]);return G.concat(at||Array.prototype.slice.call(te))}typeof SuppressedError=="function"&&SuppressedError;var f=Object.freeze([]),p=Object.freeze({});function g(G,te){Object.defineProperty(G,"toString",{value:te})}var m={1:`Cannot create styled-component for component: %s.

`,2:`Can't collect styles once you've consumed a \`ServerStyleSheet\`'s styles! \`ServerStyleSheet\` is a one off instance for each server-side render cycle.

- Are you trying to reuse it across renders?
- Are you accidentally calling collectStyles twice?

`,3:`Streaming SSR is only supported in a Node.js environment; Please do not try to call this method in the browser.

`,4:`The \`StyleSheetManager\` expects a valid target or sheet prop!

- Does this error occur on the client and is your target falsy?
- Does this error occur on the server and is the sheet falsy?

`,5:`The clone method cannot be used on the client!

- Are you running in a client-like environment on the server?
- Are you trying to run SSR on the client?

`,6:`Trying to insert a new style tag, but the given Node is unmounted!

- Are you using a custom target that isn't mounted?
- Does your document not have a valid head element?
- Have you accidentally removed a style tag manually?

`,7:'ThemeProvider: Please return an object from your "theme" prop function, e.g.\n\n```js\ntheme={() => ({})}\n```\n\n',8:`ThemeProvider: Please make your "theme" prop an object.

`,9:"Missing document `<head>`\n\n",10:`Cannot find a StyleSheet instance. Usually this happens if there are multiple copies of styled-components loaded at once. Check out this issue for how to troubleshoot and fix the common cases where this situation can happen: https://github.com/styled-components/styled-components/issues/1941#issuecomment-417862021

`,11:`_This error was replaced with a dev-time warning, it will be deleted for v4 final._ [createGlobalStyle] received children which will not be rendered. Please use the component without passing children elements.

`,12:"It seems you are interpolating a keyframe declaration (%s) into an untagged string. This was supported in styled-components v3, but is not longer supported in v4 as keyframes are now injected on-demand. Please wrap your string in the css\\`\\` helper which ensures the styles are injected correctly. See https://www.styled-components.com/docs/api#css\n\n",13:`%s is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.

`,14:`ThemeProvider: "theme" prop is required.

`,15:"A stylis plugin has been supplied that is not named. We need a name for each plugin to be able to prevent styling collisions between different stylis configurations within the same app. Before you pass your plugin to `<StyleSheetManager stylisPlugins={[]}>`, please make sure each plugin is uniquely-named, e.g.\n\n```js\nObject.defineProperty(importedPlugin, 'name', { value: 'some-unique-name' });\n```\n\n",16:`Reached the limit of how many styled components may be created at group %s.
You may only create up to 1,073,741,824 components. If you're creating components dynamically,
as for instance in your render method then you may be running into this limitation.

`,17:`CSSStyleSheet could not be found on HTMLStyleElement.
Has styled-components' style tag been unmounted or altered by another script?
`,18:"ThemeProvider: Please make sure your useTheme hook is within a `<ThemeProvider>`"},v=m;function _(){for(var G=[],te=0;te<arguments.length;te++)G[te]=arguments[te];for(var ce=G[0],ge=[],Ie=1,at=G.length;Ie<at;Ie+=1)ge.push(G[Ie]);return ge.forEach(function(Ot){ce=ce.replace(/%[a-z]/,Ot)}),ce}function y(G){for(var te=[],ce=1;ce<arguments.length;ce++)te[ce-1]=arguments[ce];return new Error(_.apply(void 0,h([v[G]],te,!1)).trim())}var x=function(G){return new T(G)},w=512,T=function(){function G(te){this.groupSizes=new Uint32Array(w),this.length=w,this.tag=te}return G.prototype.indexOfGroup=function(te){for(var ce=0,ge=0;ge<te;ge++)ce+=this.groupSizes[ge];return ce},G.prototype.insertRules=function(te,ce){if(te>=this.groupSizes.length){for(var ge=this.groupSizes,Ie=ge.length,at=Ie;te>=at;)if(at<<=1,at<0)throw y(16,"".concat(te));this.groupSizes=new Uint32Array(at),this.groupSizes.set(ge),this.length=at;for(var Ot=Ie;Ot<at;Ot++)this.groupSizes[Ot]=0}for(var Vt=this.indexOfGroup(te+1),Ot=0,Ut=ce.length;Ot<Ut;Ot++)this.tag.insertRule(Vt,ce[Ot])&&(this.groupSizes[te]++,Vt++)},G.prototype.clearGroup=function(te){if(te<this.length){var ce=this.groupSizes[te],ge=this.indexOfGroup(te),Ie=ge+ce;this.groupSizes[te]=0;for(var at=ge;at<Ie;at++)this.tag.deleteRule(ge)}},G.prototype.getGroup=function(te){var ce="";if(te>=this.length||this.groupSizes[te]===0)return ce;for(var ge=this.groupSizes[te],Ie=this.indexOfGroup(te),at=Ie+ge,Ot=Ie;Ot<at;Ot++)ce+="".concat(this.tag.getRule(Ot)).concat(o);return ce},G}(),E=1<<30,A=new Map,k=new Map,P=1,I=function(G){if(A.has(G))return A.get(G);for(;k.has(P);)P++;var te=P++;if((te|0)<0||te>E)throw y(16,"".concat(te));return A.set(G,te),k.set(te,G),te},D=function(G){return k.get(G)},L=function(G,te){P=te+1,A.set(G,te),k.set(te,G)},B="style[".concat(i,"][").concat(s,'="').concat(a,'"]'),F=new RegExp("^".concat(i,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),$=function(G){for(var te=G.getTag(),ce=te.length,ge="",Ie=function(Ot){var Vt=D(Ot);if(Vt===void 0)return"continue";var Ut=G.names.get(Vt),In=te.getGroup(Ot);if(Ut===void 0||!Ut.size||In.length===0)return"continue";var di="".concat(i,".g").concat(Ot,'[id="').concat(Vt,'"]'),Zn="";Ut!==void 0&&Ut.forEach(function(nr){nr.length>0&&(Zn+="".concat(nr,","))}),ge+="".concat(In).concat(di,'{content:"').concat(Zn,'"}').concat(o)},at=0;at<ce;at++)Ie(at);return ge},z=function(G,te,ce){for(var ge=ce.split(","),Ie,at=0,Ot=ge.length;at<Ot;at++)(Ie=ge[at])&&G.registerName(te,Ie)},N=function(G,te){for(var ce,ge=((ce=te.textContent)!==null&&ce!==void 0?ce:"").split(o),Ie=[],at=0,Ot=ge.length;at<Ot;at++){var Vt=ge[at].trim();if(Vt){var Ut=Vt.match(F);if(Ut){var In=parseInt(Ut[1],10)|0,di=Ut[2];In!==0&&(L(di,In),z(G,di,Ut[3]),G.getTag().insertRules(In,Ie)),Ie.length=0}else Ie.push(Vt)}}},V=function(G){for(var te=document.querySelectorAll(B),ce=0,ge=te.length;ce<ge;ce++){var Ie=te[ce];Ie&&Ie.getAttribute(i)!==r&&(N(G,Ie),Ie.parentNode&&Ie.parentNode.removeChild(Ie))}};function H(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var K=function(G){var te=Array.from(G.querySelectorAll("style[".concat(i,"]")));return te[te.length-1]},U=function(G){var te=document.head,ce=G||te,ge=document.createElement("style"),Ie=K(ce),at=Ie!==void 0?Ie.nextSibling:null;ge.setAttribute(i,r),ge.setAttribute(s,a);var Ot=H();return Ot&&ge.setAttribute("nonce",Ot),ce.insertBefore(ge,at),ge},X=function(G){if(G.sheet)return G.sheet;for(var te=document.styleSheets,ce=0,ge=te.length;ce<ge;ce++){var Ie=te[ce];if(Ie.ownerNode===G)return Ie}throw y(17)},Z=function(G){var te=G.isServer,ce=G.useCSSOMInjection,ge=G.target;return te?new ae(ge):ce?new Q(ge):new se(ge)},Q=function(){function G(te){this.element=U(te),this.element.appendChild(document.createTextNode("")),this.sheet=X(this.element),this.length=0}return G.prototype.insertRule=function(te,ce){try{return this.sheet.insertRule(ce,te),this.length++,!0}catch{return!1}},G.prototype.deleteRule=function(te){this.sheet.deleteRule(te),this.length--},G.prototype.getRule=function(te){var ce=this.sheet.cssRules[te];return ce&&ce.cssText?ce.cssText:""},G}(),se=function(){function G(te){this.element=U(te),this.nodes=this.element.childNodes,this.length=0}return G.prototype.insertRule=function(te,ce){if(te<=this.length&&te>=0){var ge=document.createTextNode(ce),Ie=this.nodes[te];return this.element.insertBefore(ge,Ie||null),this.length++,!0}else return!1},G.prototype.deleteRule=function(te){this.element.removeChild(this.nodes[te]),this.length--},G.prototype.getRule=function(te){return te<this.length?this.nodes[te].textContent:""},G}(),ae=function(){function G(te){this.rules=[],this.length=0}return G.prototype.insertRule=function(te,ce){return te<=this.length?(this.rules.splice(te,0,ce),this.length++,!0):!1},G.prototype.deleteRule=function(te){this.rules.splice(te,1),this.length--},G.prototype.getRule=function(te){return te<this.length?this.rules[te]:""},G}(),ue=l,oe={isServer:!l,useCSSOMInjection:!u},re=function(){function G(te,ce,ge){te===void 0&&(te=p),ce===void 0&&(ce={});var Ie=this;this.options=d(d({},oe),te),this.gs=ce,this.names=new Map(ge),this.server=!!te.isServer,!this.server&&l&&ue&&(ue=!1,V(this)),g(this,function(){return $(Ie)})}return G.registerId=function(te){return I(te)},G.prototype.rehydrate=function(){!this.server&&l&&V(this)},G.prototype.reconstructWithOptions=function(te,ce){return ce===void 0&&(ce=!0),new G(d(d({},this.options),te),this.gs,ce&&this.names||void 0)},G.prototype.allocateGSInstance=function(te){return this.gs[te]=(this.gs[te]||0)+1},G.prototype.getTag=function(){return this.tag||(this.tag=x(Z(this.options)))},G.prototype.hasNameForId=function(te,ce){return this.names.has(te)&&this.names.get(te).has(ce)},G.prototype.registerName=function(te,ce){if(I(te),this.names.has(te))this.names.get(te).add(ce);else{var ge=new Set;ge.add(ce),this.names.set(te,ge)}},G.prototype.insertRules=function(te,ce,ge){this.registerName(te,ce),this.getTag().insertRules(I(te),ge)},G.prototype.clearNames=function(te){this.names.has(te)&&this.names.get(te).clear()},G.prototype.clearRules=function(te){this.getTag().clearGroup(I(te)),this.clearNames(te)},G.prototype.clearTag=function(){this.tag=void 0},G}(),fe=function(G,te,ce,ge){var Ie=void 0;if(Ie!==void 0)return!!Ie;if(G===te)return!0;if(typeof G!="object"||!G||typeof te!="object"||!te)return!1;var at=Object.keys(G),Ot=Object.keys(te);if(at.length!==Ot.length)return!1;for(var Vt=Object.prototype.hasOwnProperty.bind(te),Ut=0;Ut<at.length;Ut++){var In=at[Ut];if(!Vt(In))return!1;var di=G[In],Zn=te[In];if(Ie=void 0,Ie===!1||Ie===void 0&&di!==Zn)return!1}return!0},ve="-ms-",xe="-moz-",ye="-webkit-",Ee="comm",Se="rule",Fe="decl",Ge="@import",Pe="@keyframes",je="@layer",qe=Math.abs,ot=String.fromCharCode,$e=Object.assign;function et(G,te){return dt(G,0)^45?(((te<<2^dt(G,0))<<2^dt(G,1))<<2^dt(G,2))<<2^dt(G,3):0}function Mt(G){return G.trim()}function Ct(G,te){return(G=te.exec(G))?G[0]:G}function tt(G,te,ce){return G.replace(te,ce)}function xt(G,te,ce){return G.indexOf(te,ce)}function dt(G,te){return G.charCodeAt(te)|0}function bt(G,te,ce){return G.slice(te,ce)}function rt(G){return G.length}function Dt(G){return G.length}function Je(G,te){return te.push(G),G}function At(G,te){return G.map(te).join("")}function Ft(G,te){return G.filter(function(ce){return!Ct(ce,te)})}var on=1,Wt=1,Cn=0,gn=0,Ln=0,gi="";function ut(G,te,ce,ge,Ie,at,Ot,Vt){return{value:G,root:te,parent:ce,type:ge,props:Ie,children:at,line:on,column:Wt,length:Ot,return:"",siblings:Vt}}function gt(G,te){return $e(ut("",null,null,"",null,null,0,G.siblings),G,{length:-G.length},te)}function ct(G){for(;G.root;)G=gt(G.root,{children:[G]});Je(G,G.siblings)}function en(){return Ln}function Bt(){return Ln=gn>0?dt(gi,--gn):0,Wt--,Ln===10&&(Wt=1,on--),Ln}function Qt(){return Ln=gn<Cn?dt(gi,gn++):0,Wt++,Ln===10&&(Wt=1,on++),Ln}function kn(){return dt(gi,gn)}function jt(){return gn}function Ht(G,te){return bt(gi,G,te)}function kt(G){switch(G){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ze(G){return on=Wt=1,Cn=rt(gi=G),gn=0,[]}function Ue(G){return gi="",G}function ze(G){return Mt(Ht(gn-1,Tt(G===91?G+2:G===40?G+1:G)))}function it(G){for(;(Ln=kn())&&Ln<33;)Qt();return kt(G)>2||kt(Ln)>3?"":" "}function St(G,te){for(;--te&&Qt()&&!(Ln<48||Ln>102||Ln>57&&Ln<65||Ln>70&&Ln<97););return Ht(G,jt()+(te<6&&kn()==32&&Qt()==32))}function Tt(G){for(;Qt();)switch(Ln){case G:return gn;case 34:case 39:G!==34&&G!==39&&Tt(Ln);break;case 40:G===41&&Tt(G);break;case 92:Qt();break}return gn}function $n(G,te){for(;Qt()&&G+Ln!==57&&!(G+Ln===84&&kn()===47););return"/*"+Ht(te,gn-1)+"*"+ot(G===47?G:Qt())}function bi(G){for(;!kt(kn());)Qt();return Ht(G,gn)}function ti(G){return Ue(Si("",null,null,null,[""],G=Ze(G),0,[0],G))}function Si(G,te,ce,ge,Ie,at,Ot,Vt,Ut){for(var In=0,di=0,Zn=Ot,nr=0,ii=0,Ar=0,ir=1,kr=1,Ps=1,Br=0,Cr="",Ac=Ie,co=at,ho=ge,Or=Cr;kr;)switch(Ar=Br,Br=Qt()){case 40:if(Ar!=108&&dt(Or,Zn-1)==58){xt(Or+=tt(ze(Br),"&","&\f"),"&\f",qe(In?Vt[In-1]:0))!=-1&&(Ps=-1);break}case 34:case 39:case 91:Or+=ze(Br);break;case 9:case 10:case 13:case 32:Or+=it(Ar);break;case 92:Or+=St(jt()-1,7);continue;case 47:switch(kn()){case 42:case 47:Je(wr($n(Qt(),jt()),te,ce,Ut),Ut);break;default:Or+="/"}break;case 123*ir:Vt[In++]=rt(Or)*Ps;case 125*ir:case 59:case 0:switch(Br){case 0:case 125:kr=0;case 59+di:Ps==-1&&(Or=tt(Or,/\f/g,"")),ii>0&&rt(Or)-Zn&&Je(ii>32?as(Or+";",ge,ce,Zn-1,Ut):as(tt(Or," ","")+";",ge,ce,Zn-2,Ut),Ut);break;case 59:Or+=";";default:if(Je(ho=Bi(Or,te,ce,In,di,Ie,Vt,Cr,Ac=[],co=[],Zn,at),at),Br===123)if(di===0)Si(Or,te,ho,ho,Ac,at,Zn,Vt,co);else switch(nr===99&&dt(Or,3)===110?100:nr){case 100:case 108:case 109:case 115:Si(G,ho,ho,ge&&Je(Bi(G,ho,ho,0,0,Ie,Vt,Cr,Ie,Ac=[],Zn,co),co),Ie,co,Zn,Vt,ge?Ac:co);break;default:Si(Or,ho,ho,ho,[""],co,0,Vt,co)}}In=di=ii=0,ir=Ps=1,Cr=Or="",Zn=Ot;break;case 58:Zn=1+rt(Or),ii=Ar;default:if(ir<1){if(Br==123)--ir;else if(Br==125&&ir++==0&&Bt()==125)continue}switch(Or+=ot(Br),Br*ir){case 38:Ps=di>0?1:(Or+="\f",-1);break;case 44:Vt[In++]=(rt(Or)-1)*Ps,Ps=1;break;case 64:kn()===45&&(Or+=ze(Qt())),nr=kn(),di=Zn=rt(Cr=Or+=bi(jt())),Br++;break;case 45:Ar===45&&rt(Or)==2&&(ir=0)}}return at}function Bi(G,te,ce,ge,Ie,at,Ot,Vt,Ut,In,di,Zn){for(var nr=Ie-1,ii=Ie===0?at:[""],Ar=Dt(ii),ir=0,kr=0,Ps=0;ir<ge;++ir)for(var Br=0,Cr=bt(G,nr+1,nr=qe(kr=Ot[ir])),Ac=G;Br<Ar;++Br)(Ac=Mt(kr>0?ii[Br]+" "+Cr:tt(Cr,/&\f/g,ii[Br])))&&(Ut[Ps++]=Ac);return ut(G,te,ce,Ie===0?Se:Vt,Ut,In,di,Zn)}function wr(G,te,ce,ge){return ut(G,te,ce,Ee,ot(en()),bt(G,2,-2),0,ge)}function as(G,te,ce,ge,Ie){return ut(G,te,ce,Fe,bt(G,0,ge),bt(G,ge+1,-1),ge,Ie)}function vs(G,te,ce){switch(et(G,te)){case 5103:return ye+"print-"+G+G;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ye+G+G;case 4789:return xe+G+G;case 5349:case 4246:case 4810:case 6968:case 2756:return ye+G+xe+G+ve+G+G;case 5936:switch(dt(G,te+11)){case 114:return ye+G+ve+tt(G,/[svh]\w+-[tblr]{2}/,"tb")+G;case 108:return ye+G+ve+tt(G,/[svh]\w+-[tblr]{2}/,"tb-rl")+G;case 45:return ye+G+ve+tt(G,/[svh]\w+-[tblr]{2}/,"lr")+G}case 6828:case 4268:case 2903:return ye+G+ve+G+G;case 6165:return ye+G+ve+"flex-"+G+G;case 5187:return ye+G+tt(G,/(\w+).+(:[^]+)/,ye+"box-$1$2"+ve+"flex-$1$2")+G;case 5443:return ye+G+ve+"flex-item-"+tt(G,/flex-|-self/g,"")+(Ct(G,/flex-|baseline/)?"":ve+"grid-row-"+tt(G,/flex-|-self/g,""))+G;case 4675:return ye+G+ve+"flex-line-pack"+tt(G,/align-content|flex-|-self/g,"")+G;case 5548:return ye+G+ve+tt(G,"shrink","negative")+G;case 5292:return ye+G+ve+tt(G,"basis","preferred-size")+G;case 6060:return ye+"box-"+tt(G,"-grow","")+ye+G+ve+tt(G,"grow","positive")+G;case 4554:return ye+tt(G,/([^-])(transform)/g,"$1"+ye+"$2")+G;case 6187:return tt(tt(tt(G,/(zoom-|grab)/,ye+"$1"),/(image-set)/,ye+"$1"),G,"")+G;case 5495:case 3959:return tt(G,/(image-set\([^]*)/,ye+"$1$`$1");case 4968:return tt(tt(G,/(.+:)(flex-)?(.*)/,ye+"box-pack:$3"+ve+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ye+G+G;case 4200:if(!Ct(G,/flex-|baseline/))return ve+"grid-column-align"+bt(G,te)+G;break;case 2592:case 3360:return ve+tt(G,"template-","")+G;case 4384:case 3616:return ce&&ce.some(function(ge,Ie){return te=Ie,Ct(ge.props,/grid-\w+-end/)})?~xt(G+(ce=ce[te].value),"span",0)?G:ve+tt(G,"-start","")+G+ve+"grid-row-span:"+(~xt(ce,"span",0)?Ct(ce,/\d+/):+Ct(ce,/\d+/)-+Ct(G,/\d+/))+";":ve+tt(G,"-start","")+G;case 4896:case 4128:return ce&&ce.some(function(ge){return Ct(ge.props,/grid-\w+-start/)})?G:ve+tt(tt(G,"-end","-span"),"span ","")+G;case 4095:case 3583:case 4068:case 2532:return tt(G,/(.+)-inline(.+)/,ye+"$1$2")+G;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(rt(G)-1-te>6)switch(dt(G,te+1)){case 109:if(dt(G,te+4)!==45)break;case 102:return tt(G,/(.+:)(.+)-([^]+)/,"$1"+ye+"$2-$3$1"+xe+(dt(G,te+3)==108?"$3":"$2-$3"))+G;case 115:return~xt(G,"stretch",0)?vs(tt(G,"stretch","fill-available"),te,ce)+G:G}break;case 5152:case 5920:return tt(G,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(ge,Ie,at,Ot,Vt,Ut,In){return ve+Ie+":"+at+In+(Ot?ve+Ie+"-span:"+(Vt?Ut:+Ut-+at)+In:"")+G});case 4949:if(dt(G,te+6)===121)return tt(G,":",":"+ye)+G;break;case 6444:switch(dt(G,dt(G,14)===45?18:11)){case 120:return tt(G,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+ye+(dt(G,14)===45?"inline-":"")+"box$3$1"+ye+"$2$3$1"+ve+"$2box$3")+G;case 100:return tt(G,":",":"+ve)+G}break;case 5719:case 2647:case 2135:case 3927:case 2391:return tt(G,"scroll-","scroll-snap-")+G}return G}function es(G,te){for(var ce="",ge=0;ge<G.length;ge++)ce+=te(G[ge],ge,G,te)||"";return ce}function Sl(G,te,ce,ge){switch(G.type){case je:if(G.children.length)break;case Ge:case Fe:return G.return=G.return||G.value;case Ee:return"";case Pe:return G.return=G.value+"{"+es(G.children,ge)+"}";case Se:if(!rt(G.value=G.props.join(",")))return""}return rt(ce=es(G.children,ge))?G.return=G.value+"{"+ce+"}":""}function yt(G){var te=Dt(G);return function(ce,ge,Ie,at){for(var Ot="",Vt=0;Vt<te;Vt++)Ot+=G[Vt](ce,ge,Ie,at)||"";return Ot}}function Yt(G){return function(te){te.root||(te=te.return)&&G(te)}}function ci(G,te,ce,ge){if(G.length>-1&&!G.return)switch(G.type){case Fe:G.return=vs(G.value,G.length,ce);return;case Pe:return es([gt(G,{value:tt(G.value,"@","@"+ye)})],ge);case Se:if(G.length)return At(ce=G.props,function(Ie){switch(Ct(Ie,ge=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ct(gt(G,{props:[tt(Ie,/:(read-\w+)/,":"+xe+"$1")]})),ct(gt(G,{props:[Ie]})),$e(G,{props:Ft(ce,ge)});break;case"::placeholder":ct(gt(G,{props:[tt(Ie,/:(plac\w+)/,":"+ye+"input-$1")]})),ct(gt(G,{props:[tt(Ie,/:(plac\w+)/,":"+xe+"$1")]})),ct(gt(G,{props:[tt(Ie,/:(plac\w+)/,ve+"input-$1")]})),ct(gt(G,{props:[Ie]})),$e(G,{props:Ft(ce,ge)});break}return""})}}var tr=5381,Sn=function(G,te){for(var ce=te.length;ce;)G=G*33^te.charCodeAt(--ce);return G},eu=function(G){return Sn(tr,G)},ao=/&/g,tu=/^\s*\/\/.*$/gm;function xl(G,te){return G.map(function(ce){return ce.type==="rule"&&(ce.value="".concat(te," ").concat(ce.value),ce.value=ce.value.replaceAll(",",",".concat(te," ")),ce.props=ce.props.map(function(ge){return"".concat(te," ").concat(ge)})),Array.isArray(ce.children)&&ce.type!=="@keyframes"&&(ce.children=xl(ce.children,te)),ce})}function Oo(G){var te=G===void 0?p:G,ce=te.options,ge=ce===void 0?p:ce,Ie=te.plugins,at=Ie===void 0?f:Ie,Ot,Vt,Ut,In=function(ii,Ar,ir){return ir.startsWith(Vt)&&ir.endsWith(Vt)&&ir.replaceAll(Vt,"").length>0?".".concat(Ot):ii},di=function(ii){ii.type===Se&&ii.value.includes("&")&&(ii.props[0]=ii.props[0].replace(ao,Vt).replace(Ut,In))},Zn=at.slice();Zn.push(di),ge.prefix&&Zn.push(ci),Zn.push(Sl);var nr=function(ii,Ar,ir,kr){Ar===void 0&&(Ar=""),ir===void 0&&(ir=""),kr===void 0&&(kr="&"),Ot=kr,Vt=Ar,Ut=new RegExp("\\".concat(Vt,"\\b"),"g");var Ps=ii.replace(tu,""),Br=ti(ir||Ar?"".concat(ir," ").concat(Ar," { ").concat(Ps," }"):Ps);ge.namespace&&(Br=xl(Br,ge.namespace));var Cr=[];return es(Br,yt(Zn.concat(Yt(function(Ac){return Cr.push(Ac)})))),Cr};return nr.hash=at.length?at.reduce(function(ii,Ar){return Ar.name||y(15),Sn(ii,Ar.name)},tr).toString():"",nr}var oo=new re,Zo=Oo(),os=t.createContext({shouldForwardProp:void 0,styleSheet:oo,stylis:Zo}),Lh=os.Consumer,Ws=t.createContext(void 0);function Ga(){return t.useContext(os)}function nu(G){var te=t.useState(G.stylisPlugins),ce=te[0],ge=te[1],Ie=Ga().styleSheet,at=t.useMemo(function(){var Ut=Ie;return G.sheet?Ut=G.sheet:G.target&&(Ut=Ut.reconstructWithOptions({target:G.target},!1)),G.disableCSSOMInjection&&(Ut=Ut.reconstructWithOptions({useCSSOMInjection:!1})),Ut},[G.disableCSSOMInjection,G.sheet,G.target,Ie]),Ot=t.useMemo(function(){return Oo({options:{namespace:G.namespace,prefix:G.enableVendorPrefixes},plugins:ce})},[G.enableVendorPrefixes,G.namespace,ce]);t.useEffect(function(){fe(ce,G.stylisPlugins)||ge(G.stylisPlugins)},[G.stylisPlugins]);var Vt=t.useMemo(function(){return{shouldForwardProp:G.shouldForwardProp,styleSheet:at,stylis:Ot}},[G.shouldForwardProp,at,Ot]);return t.createElement(os.Provider,{value:Vt},t.createElement(Ws.Provider,{value:Ot},G.children))}var wl=function(){function G(te,ce){var ge=this;this.inject=function(Ie,at){at===void 0&&(at=Zo);var Ot=ge.name+at.hash;Ie.hasNameForId(ge.id,Ot)||Ie.insertRules(ge.id,Ot,at(ge.rules,Ot,"@keyframes"))},this.name=te,this.id="sc-keyframes-".concat(te),this.rules=ce,g(this,function(){throw y(12,String(ge.name))})}return G.prototype.getName=function(te){return te===void 0&&(te=Zo),this.name+te.hash},G}(),Qo={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function iu(G,te){return te==null||typeof te=="boolean"||te===""?"":typeof te=="number"&&te!==0&&!(G in Qo)&&!G.startsWith("--")?"".concat(te,"px"):String(te).trim()}function Po(G){return typeof G=="string"&&G||G.displayName||G.name||"Component"}var sn=function(G){return G>="A"&&G<="Z"};function zi(G){for(var te="",ce=0;ce<G.length;ce++){var ge=G[ce];if(ce===1&&ge==="-"&&G[0]==="-")return G;sn(ge)?te+="-"+ge.toLowerCase():te+=ge}return te.startsWith("ms-")?"-"+te:te}function Lr(G){return typeof G=="function"}function Ki(G){return G!==null&&typeof G=="object"&&G.constructor.name===Object.name&&!("props"in G&&G.$$typeof)}function ys(G){return Lr(G)&&!(G.prototype&&G.prototype.isReactComponent)}function Us(G){return typeof G=="object"&&"styledComponentId"in G}var Gs=function(G){return G==null||G===!1||G===""},Cl=function(G){var te=[];for(var ce in G){var ge=G[ce];!G.hasOwnProperty(ce)||Gs(ge)||(Array.isArray(ge)&&ge.isCss||Lr(ge)?te.push("".concat(zi(ce),":"),ge,";"):Ki(ge)?te.push.apply(te,h(h(["".concat(ce," {")],Cl(ge),!1),["}"],!1)):te.push("".concat(zi(ce),": ").concat(iu(ce,ge),";")))}return te};function ks(G,te,ce,ge){if(Gs(G))return[];if(Us(G))return[".".concat(G.styledComponentId)];if(Lr(G))if(ys(G)&&te){var Ie=G(te);return typeof Ie=="object"&&!Array.isArray(Ie)&&!(Ie instanceof wl)&&!Ki(Ie)&&Ie!==null&&console.error("".concat(Po(G)," is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.")),ks(Ie,te,ce,ge)}else return[G];return G instanceof wl?ce?(G.inject(ce,ge),[G.getName(ge)]):[G]:Ki(G)?Cl(G):Array.isArray(G)?ni(G,function(at){return ks(at,te,ce,ge)}):[G.toString()]}function ni(G,te){return Array.prototype.concat.apply(f,G.map(te))}function Cc(G){for(var te=0;te<G.length;te+=1){var ce=G[te];if(Lr(ce)&&!Us(ce))return!1}return!0}function lo(G,te){return G&&te?"".concat(G," ").concat(te):G||te||""}function Ya(G,te){if(G.length===0)return"";for(var ce=G[0],ge=1;ge<G.length;ge++)ce+=te?te+G[ge]:G[ge];return ce}var zf=function(){function G(te,ce){this.rules=te,this.componentId=ce,this.isStatic=Cc(te),re.registerId(this.componentId+1)}return G.prototype.createStyles=function(te,ce,ge,Ie){var at=Ya(ks(this.rules,ce,ge,Ie)),Ot=Ie(at,""),Vt=this.componentId+te;ge.insertRules(Vt,Vt,Ot)},G.prototype.removeStyles=function(te,ce){ce.clearRules(this.componentId+te)},G.prototype.renderStyles=function(te,ce,ge,Ie){te>2&&re.registerId(this.componentId+te),this.removeStyles(te,ge),this.createStyles(te,ce,ge,Ie)},G}(),ru=t.createContext(void 0),Jo=ru.Consumer;function md(G,te){if(!G)throw y(14);if(Lr(G)){var ce=G,ge=ce(te);if(ge===null||Array.isArray(ge)||typeof ge!="object")throw y(7);return ge}if(Array.isArray(G)||typeof G!="object")throw y(8);return te?d(d({},te),G):G}function su(){var G=t.useContext(ru);if(!G)throw y(18);return G}function Tl(G){var te=t.useContext(ru),ce=t.useMemo(function(){return md(G.theme,te)},[G.theme,te]);return G.children?t.createElement(ru.Provider,{value:ce},G.children):null}var Ka=/invalid hook call/i,uo=new Set,Tc=function(G,te){{var ce=te?' with the id of "'.concat(te,'"'):"",ge="The component ".concat(G).concat(ce,` has been created dynamically.
`)+`You may see this warning because you've called styled inside another component.
To resolve this only create new StyledComponents outside of any render method and function component.
See https://styled-components.com/docs/basics#define-styled-components-outside-of-the-render-method for more info.
`,Ie=console.error;try{var at=!0;console.error=function(Ot){for(var Vt=[],Ut=1;Ut<arguments.length;Ut++)Vt[Ut-1]=arguments[Ut];Ka.test(Ot)?(at=!1,uo.delete(ge)):Ie.apply(void 0,h([Ot],Vt,!1))},t.useRef(),at&&!uo.has(ge)&&(console.warn(ge),uo.add(ge))}catch(Ot){Ka.test(Ot.message)&&uo.delete(ge)}finally{console.error=Ie}}};function Ec(G,te,ce){return ce===void 0&&(ce=p),G.theme!==ce.theme&&G.theme||te||ce.theme}var $u=/(a)(d)/gi,Hf=52,$t=function(G){return String.fromCharCode(G+(G>25?39:97))};function Gn(G){var te="",ce;for(ce=Math.abs(G);ce>Hf;ce=ce/Hf|0)te=$t(ce%Hf)+te;return($t(ce%Hf)+te).replace($u,"$1-$2")}function Os(G){return Gn(eu(G)>>>0)}function Ys(G,te){for(var ce=[G[0]],ge=0,Ie=te.length;ge<Ie;ge+=1)ce.push(te[ge],G[ge+1]);return ce}var Fr=function(G){return Object.assign(G,{isCss:!0})};function vd(G){for(var te=[],ce=1;ce<arguments.length;ce++)te[ce-1]=arguments[ce];if(Lr(G)||Ki(G)){var ge=G;return Fr(ks(Ys(f,h([ge],te,!0))))}var Ie=G;return te.length===0&&Ie.length===1&&typeof Ie[0]=="string"?ks(Ie):Fr(ks(Ys(Ie,te)))}function h_(G){for(var te=[],ce=1;ce<arguments.length;ce++)te[ce-1]=arguments[ce];var ge=vd.apply(void 0,h([G],te,!1)),Ie="sc-global-".concat(Os(JSON.stringify(ge))),at=new zf(ge,Ie);Tc(Ie);var Ot=function(Ut){var In=Ga(),di=t.useContext(ru),Zn=t.useRef(In.styleSheet.allocateGSInstance(Ie)),nr=Zn.current;return t.Children.count(Ut.children)&&console.warn("The global style component ".concat(Ie," was given child JSX. createGlobalStyle does not render children.")),ge.some(function(ii){return typeof ii=="string"&&ii.indexOf("@import")!==-1})&&console.warn("Please do not use @import CSS syntax in createGlobalStyle at this time, as the CSSOM APIs we use in production do not handle it well. Instead, we recommend using a library such as react-helmet to inject a typical <link> meta tag to the stylesheet, or simply embedding it manually in your index.html <head> section for a simpler app."),In.styleSheet.server&&Vt(nr,Ut,In.styleSheet,di,In.stylis),t.useLayoutEffect(function(){if(!In.styleSheet.server)return Vt(nr,Ut,In.styleSheet,di,In.stylis),function(){return at.removeStyles(nr,In.styleSheet)}},[nr,Ut,In.styleSheet,di,In.stylis]),null};function Vt(Ut,In,di,Zn,nr){if(at.isStatic)at.renderStyles(Ut,c,di,nr);else{var ii=d(d({},In),{theme:Ec(In,Zn,Ot.defaultProps)});at.renderStyles(Ut,ii,di,nr)}}return t.memo(Ot)}function Vf(G){for(var te=[],ce=1;ce<arguments.length;ce++)te[ce-1]=arguments[ce];typeof navigator<"u"&&navigator.product==="ReactNative"&&console.warn("`keyframes` cannot be used on ReactNative, only on the web. To do animation in ReactNative please use Animated.");var ge=Ya(vd.apply(void 0,h([G],te,!1))),Ie=Os(ge);return new wl(Ie,ge)}var au,wg=typeof Symbol=="function"&&Symbol.for,f_=wg?Symbol.for("react.memo"):60115,vH=wg?Symbol.for("react.forward_ref"):60112,yH={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},J1={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},nS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},iS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},WM=(au={},au[vH]=nS,au[f_]=iS,au);function Wf(G){var te="type"in G&&G.type.$$typeof;return te===f_}function rS(G){return Wf(G)?iS:"$$typeof"in G?WM[G.$$typeof]:yH}var sS=Object.defineProperty,UM=Object.getOwnPropertyNames,p_=Object.getOwnPropertySymbols,aS=Object.getOwnPropertyDescriptor,GM=Object.getPrototypeOf,El=Object.prototype;function Uf(G,te,ce){if(typeof te!="string"){if(El){var ge=GM(te);ge&&ge!==El&&Uf(G,ge,ce)}var Ie=UM(te);p_&&(Ie=Ie.concat(p_(te)));for(var at=rS(G),Ot=rS(te),Vt=0;Vt<Ie.length;++Vt){var Ut=Ie[Vt];if(!(Ut in J1)&&!(ce&&ce[Ut])&&!(Ot&&Ut in Ot)&&!(at&&Ut in at)){var In=aS(te,Ut);try{sS(G,Ut,In)}catch{}}}}return G}function eT(G){var te=t.forwardRef(function(ce,ge){var Ie=t.useContext(ru),at=Ec(ce,Ie,G.defaultProps);return at===void 0&&console.warn('[withTheme] You are not using a ThemeProvider nor passing a theme prop or a theme in defaultProps in component class "'.concat(Po(G),'"')),t.createElement(G,d({},ce,{theme:at,ref:ge}))});return te.displayName="WithTheme(".concat(Po(G),")"),Uf(te,G)}var g_=function(){function G(){var te=this;this._emitSheetCSS=function(){var ce=te.instance.toString();if(!ce)return"";var ge=H(),Ie=[ge&&'nonce="'.concat(ge,'"'),"".concat(i,'="true"'),"".concat(s,'="').concat(a,'"')],at=Ya(Ie.filter(Boolean)," ");return"<style ".concat(at,">").concat(ce,"</style>")},this.getStyleTags=function(){if(te.sealed)throw y(2);return te._emitSheetCSS()},this.getStyleElement=function(){var ce;if(te.sealed)throw y(2);var ge=te.instance.toString();if(!ge)return[];var Ie=(ce={},ce[i]="",ce[s]=a,ce.dangerouslySetInnerHTML={__html:ge},ce),at=H();return at&&(Ie.nonce=at),[t.createElement("style",d({},Ie,{key:"sc-0-0"}))]},this.seal=function(){te.sealed=!0},this.instance=new re({isServer:!0}),this.sealed=!1}return G.prototype.collectStyles=function(te){if(this.sealed)throw y(2);return t.createElement(nu,{sheet:this.instance},te)},G.prototype.interleaveWithNodeStream=function(te){throw y(3)},G}(),_H={StyleSheet:re,mainSheet:oo};typeof navigator<"u"&&navigator.product==="ReactNative"&&console.warn(`It looks like you've imported 'styled-components' on React Native.
Perhaps you're looking to import 'styled-components/native'?
Read more about this at https://www.styled-components.com/docs/basics#react-native`);var ev="__sc-".concat(i,"__");typeof window<"u"&&(window[ev]||(window[ev]=0),window[ev]===1&&console.warn(`It looks like there are several instances of 'styled-components' initialized in this application. This may cause dynamic styles to not render properly, errors during the rehydration process, a missing theme prop, and makes your application bigger without good reason.

See https://s-c.sh/2BAXzed for more info.`),window[ev]+=1);var oS=Object.freeze({__proto__:null,ServerStyleSheet:g_,StyleSheetConsumer:Lh,StyleSheetContext:os,StyleSheetManager:nu,ThemeConsumer:Jo,ThemeContext:ru,ThemeProvider:Tl,__PRIVATE__:_H,createGlobalStyle:h_,css:vd,isStyledComponent:Us,keyframes:Vf,useTheme:su,version:a,withTheme:eT});function m_(G){var te=Object.create(null);return function(ce){return te[ce]===void 0&&(te[ce]=G(ce)),te[ce]}}var lS=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,YM=m_(function(G){return lS.test(G)||G.charCodeAt(0)===111&&G.charCodeAt(1)===110&&G.charCodeAt(2)<91}),KM=200,bH=function(G,te){var ce={},ge=!1;return function(Ie){if(!ge&&(ce[Ie]=!0,Object.keys(ce).length>=KM)){var at=te?' with the id of "'.concat(te,'"'):"";console.warn("Over ".concat(KM," classes were generated for component ").concat(G).concat(at,`.
`)+`Consider using the attrs method, together with a style object for frequently changed styles.
Example:
  const Component = styled.div.attrs(props => ({
    style: {
      background: props.background,
    },
  }))\`width: 100%;\`

  <Component />`),ge=!0,ce={}}}},SH=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],v_=new Set(SH),xH=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,wH=/(^-|-$)/g;function XM(G){return G.replace(xH,"-").replace(wH,"")}function tT(G){return typeof G=="string"&&G.charAt(0)===G.charAt(0).toLowerCase()}function CH(G){return tT(G)?"styled.".concat(G):"Styled(".concat(Po(G),")")}function uS(G,te,ce){if(ce===void 0&&(ce=!1),!ce&&!Ki(G)&&!Array.isArray(G))return te;if(Array.isArray(te))for(var ge=0;ge<te.length;ge++)G[ge]=uS(G[ge],te[ge]);else if(Ki(te))for(var ge in te)G[ge]=uS(G[ge],te[ge]);return G}function TH(G){for(var te=[],ce=1;ce<arguments.length;ce++)te[ce-1]=arguments[ce];for(var ge=0,Ie=te;ge<Ie.length;ge++){var at=Ie[ge];uS(G,at,!0)}return G}var EH=eu(a),AH=function(){function G(te,ce,ge){this.rules=te,this.staticRulesId="",this.isStatic=!1,this.componentId=ce,this.baseHash=Sn(EH,ce),this.baseStyle=ge,re.registerId(ce)}return G.prototype.generateAndInjectStyles=function(te,ce,ge){var Ie=this.baseStyle?this.baseStyle.generateAndInjectStyles(te,ce,ge):"";if(this.isStatic&&!ge.hash)if(this.staticRulesId&&ce.hasNameForId(this.componentId,this.staticRulesId))Ie=lo(Ie,this.staticRulesId);else{var at=Ya(ks(this.rules,te,ce,ge)),Ot=Gn(Sn(this.baseHash,at)>>>0);if(!ce.hasNameForId(this.componentId,Ot)){var Vt=ge(at,".".concat(Ot),void 0,this.componentId);ce.insertRules(this.componentId,Ot,Vt)}Ie=lo(Ie,Ot),this.staticRulesId=Ot}else{for(var Ut=Sn(this.baseHash,ge.hash),In="",di=0;di<this.rules.length;di++){var Zn=this.rules[di];if(typeof Zn=="string")In+=Zn,Ut=Sn(Ut,Zn);else if(Zn){var nr=Ya(ks(Zn,te,ce,ge));Ut=Sn(Ut,nr+di),In+=nr}}if(In){var ii=Gn(Ut>>>0);ce.hasNameForId(this.componentId,ii)||ce.insertRules(this.componentId,ii,ge(In,".".concat(ii),void 0,this.componentId)),Ie=lo(Ie,ii)}}return Ie},G}(),nT={};function iT(G,te){var ce=typeof G!="string"?"sc":XM(G);nT[ce]=(nT[ce]||0)+1;var ge="".concat(ce,"-").concat(Os(a+ce+nT[ce]));return te?"".concat(te,"-").concat(ge):ge}function kH(G,te){var ce=Ga(),ge=G.generateAndInjectStyles(te,ce.styleSheet,ce.stylis);return t.useDebugValue(ge),ge}function OH(G,te,ce){for(var ge=d(d({},te),{className:void 0,theme:ce}),Ie,at=0;at<G.length;at+=1){Ie=G[at];var Ot=Lr(Ie)?Ie(ge):Ie;for(var Vt in Ot)ge[Vt]=Vt==="className"?lo(ge[Vt],Ot[Vt]):Vt==="style"?d(d({},ge[Vt]),Ot[Vt]):Ot[Vt]}return te.className&&(ge.className=lo(ge.className,te.className)),ge}var qM=new Set;function ZM(G,te,ce){var ge=G.attrs,Ie=G.componentStyle,at=G.defaultProps,Ot=G.foldedComponentIds,Vt=G.styledComponentId,Ut=G.target,In=t.useContext(ru),di=Ga(),Zn=G.shouldForwardProp||di.shouldForwardProp;t.useDebugValue(Vt);var nr=Ec(te,In,at)||p,ii=OH(ge,te,nr),Ar=ii.as||Ut,ir={};for(var kr in ii)ii[kr]===void 0||kr[0]==="$"||kr==="as"||kr==="theme"&&ii.theme===nr||(kr==="forwardedAs"?ir.as=ii.forwardedAs:(!Zn||Zn(kr,Ar))&&(ir[kr]=ii[kr],!Zn&&!YM(kr)&&!qM.has(kr)&&v_.has(Ar)&&(qM.add(kr),console.warn('styled-components: it looks like an unknown prop "'.concat(kr,'" is being sent through to the DOM, which will likely trigger a React console error. If you would like automatic filtering of unknown props, you can opt-into that behavior via `<StyleSheetManager shouldForwardProp={...}>` (connect an API like `@emotion/is-prop-valid`) or consider using transient props (`$` prefix for automatic filtering.)')))));var Ps=kH(Ie,ii);G.warnTooManyClasses&&G.warnTooManyClasses(Ps);var Br=lo(Ot,Vt);return Ps&&(Br+=" "+Ps),ii.className&&(Br+=" "+ii.className),ir[tT(Ar)&&!v_.has(Ar)?"class":"className"]=Br,ce&&(ir.ref=ce),t.createElement(Ar,ir)}function PH(G,te,ce){var ge=Us(G),Ie=G,at=!tT(G),Ot=te.attrs,Vt=Ot===void 0?f:Ot,Ut=te.componentId,In=Ut===void 0?iT(te.displayName,te.parentComponentId):Ut,di=te.displayName,Zn=di===void 0?CH(G):di,nr=te.displayName&&te.componentId?"".concat(XM(te.displayName),"-").concat(te.componentId):te.componentId||In,ii=ge&&Ie.attrs?Ie.attrs.concat(Vt).filter(Boolean):Vt,Ar=te.shouldForwardProp;if(ge&&Ie.shouldForwardProp){var ir=Ie.shouldForwardProp;if(te.shouldForwardProp){var kr=te.shouldForwardProp;Ar=function(co,ho){return ir(co,ho)&&kr(co,ho)}}else Ar=ir}var Ps=new AH(ce,nr,ge?Ie.componentStyle:void 0);function Br(co,ho){return ZM(Cr,co,ho)}Br.displayName=Zn;var Cr=t.forwardRef(Br);if(Cr.attrs=ii,Cr.componentStyle=Ps,Cr.displayName=Zn,Cr.shouldForwardProp=Ar,Cr.foldedComponentIds=ge?lo(Ie.foldedComponentIds,Ie.styledComponentId):"",Cr.styledComponentId=nr,Cr.target=ge?Ie.target:G,Object.defineProperty(Cr,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(co){this._foldedDefaultProps=ge?TH({},Ie.defaultProps,co):co}}),Tc(Zn,nr),Cr.warnTooManyClasses=bH(Zn,nr),g(Cr,function(){return".".concat(Cr.styledComponentId)}),at){var Ac=G;Uf(Cr,Ac,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0})}return Cr}function rT(G,te,ce){if(ce===void 0&&(ce=p),!te)throw y(1,te);var ge=function(Ie){for(var at=[],Ot=1;Ot<arguments.length;Ot++)at[Ot-1]=arguments[Ot];return G(te,ce,vd.apply(void 0,h([Ie],at,!1)))};return ge.attrs=function(Ie){return rT(G,te,d(d({},ce),{attrs:Array.prototype.concat(ce.attrs,Ie).filter(Boolean)}))},ge.withConfig=function(Ie){return rT(G,te,d(d({},ce),Ie))},ge}var QM=function(G){return rT(PH,G)},sT=QM;v_.forEach(function(G){sT[G]=QM(G)});for(var JM in oS)sT[JM]=oS[JM];return sT})}),aje=Wn(n=>{var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen"),g;g=Symbol.for("react.module.reference");function m(v){if(typeof v=="object"&&v!==null){var _=v.$$typeof;switch(_){case e:switch(v=v.type,v){case i:case s:case r:case c:case d:return v;default:switch(v=v&&v.$$typeof,v){case l:case o:case u:case f:case h:case a:return v;default:return _}}case t:return _}}}n.ContextConsumer=o,n.ContextProvider=a,n.Element=e,n.ForwardRef=u,n.Fragment=i,n.Lazy=f,n.Memo=h,n.Portal=t,n.Profiler=s,n.StrictMode=r,n.Suspense=c,n.SuspenseList=d,n.isAsyncMode=function(){return!1},n.isConcurrentMode=function(){return!1},n.isContextConsumer=function(v){return m(v)===o},n.isContextProvider=function(v){return m(v)===a},n.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===e},n.isForwardRef=function(v){return m(v)===u},n.isFragment=function(v){return m(v)===i},n.isLazy=function(v){return m(v)===f},n.isMemo=function(v){return m(v)===h},n.isPortal=function(v){return m(v)===t},n.isProfiler=function(v){return m(v)===s},n.isStrictMode=function(v){return m(v)===r},n.isSuspense=function(v){return m(v)===c},n.isSuspenseList=function(v){return m(v)===d},n.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===i||v===s||v===r||v===c||v===d||v===p||typeof v=="object"&&v!==null&&(v.$$typeof===f||v.$$typeof===h||v.$$typeof===a||v.$$typeof===o||v.$$typeof===u||v.$$typeof===g||v.getModuleId!==void 0)},n.typeOf=m}),oje=Wn((n,e)=>{e.exports=aje()});/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.production.min.js:
  (**
   * @license React
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/function lje(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var td=lje,uje=Array.isArray,cg=uje,cje=typeof global=="object"&&global&&global.Object===Object&&global,dje=cje,hje=typeof self=="object"&&self&&self.Object===Object&&self,fje=dje||hje||Function("return this")(),Q$=fje,pje=Q$.Symbol,aC=pje,L_e=Object.prototype,gje=L_e.hasOwnProperty,mje=L_e.toString,BT=aC?aC.toStringTag:void 0;function vje(n){var e=gje.call(n,BT),t=n[BT];try{n[BT]=void 0;var i=!0}catch{}var r=mje.call(n);return i&&(e?n[BT]=t:delete n[BT]),r}var yje=vje,_je=Object.prototype,bje=_je.toString;function Sje(n){return bje.call(n)}var xje=Sje,wje="[object Null]",Cje="[object Undefined]",Ane=aC?aC.toStringTag:void 0;function Tje(n){return n==null?n===void 0?Cje:wje:Ane&&Ane in Object(n)?yje(n):xje(n)}var yP=Tje;function Eje(n){return n!=null&&typeof n=="object"}var J$=Eje,Aje="[object Symbol]";function kje(n){return typeof n=="symbol"||J$(n)&&yP(n)==Aje}var eN=kje,Oje=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pje=/^\w*$/;function Mje(n,e){if(cg(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||eN(n)?!0:Pje.test(n)||!Oje.test(n)||e!=null&&n in Object(e)}var Ije=Mje,Rje="[object AsyncFunction]",Dje="[object Function]",Lje="[object GeneratorFunction]",Fje="[object Proxy]";function Bje(n){if(!td(n))return!1;var e=yP(n);return e==Dje||e==Lje||e==Rje||e==Fje}var $je=Bje,Nje=Q$["__core-js_shared__"],b5=Nje,kne=function(){var n=/[^.]+$/.exec(b5&&b5.keys&&b5.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function jje(n){return!!kne&&kne in n}var zje=jje,Hje=Function.prototype,Vje=Hje.toString;function Wje(n){if(n!=null){try{return Vje.call(n)}catch{}try{return n+""}catch{}}return""}var Uje=Wje,Gje=/[\\^$.*+?()[\]{}|]/g,Yje=/^\[object .+?Constructor\]$/,Kje=Function.prototype,Xje=Object.prototype,qje=Kje.toString,Zje=Xje.hasOwnProperty,Qje=RegExp("^"+qje.call(Zje).replace(Gje,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Jje(n){if(!td(n)||zje(n))return!1;var e=$je(n)?Qje:Yje;return e.test(Uje(n))}var eze=Jje;function tze(n,e){return n==null?void 0:n[e]}var nze=tze;function ize(n,e){var t=nze(n,e);return eze(t)?t:void 0}var F_e=ize,rze=F_e(Object,"create"),Mk=rze;function sze(){this.__data__=Mk?Mk(null):{},this.size=0}var aze=sze;function oze(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var lze=oze,uze="__lodash_hash_undefined__",cze=Object.prototype,dze=cze.hasOwnProperty;function hze(n){var e=this.__data__;if(Mk){var t=e[n];return t===uze?void 0:t}return dze.call(e,n)?e[n]:void 0}var fze=hze,pze=Object.prototype,gze=pze.hasOwnProperty;function mze(n){var e=this.__data__;return Mk?e[n]!==void 0:gze.call(e,n)}var vze=mze,yze="__lodash_hash_undefined__";function _ze(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Mk&&e===void 0?yze:e,this}var bze=_ze;function s1(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}s1.prototype.clear=aze;s1.prototype.delete=lze;s1.prototype.get=fze;s1.prototype.has=vze;s1.prototype.set=bze;var One=s1;function Sze(){this.__data__=[],this.size=0}var xze=Sze;function wze(n,e){return n===e||n!==n&&e!==e}var Cze=wze;function Tze(n,e){for(var t=n.length;t--;)if(Cze(n[t][0],e))return t;return-1}var tN=Tze,Eze=Array.prototype,Aze=Eze.splice;function kze(n){var e=this.__data__,t=tN(e,n);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():Aze.call(e,t,1),--this.size,!0}var Oze=kze;function Pze(n){var e=this.__data__,t=tN(e,n);return t<0?void 0:e[t][1]}var Mze=Pze;function Ize(n){return tN(this.__data__,n)>-1}var Rze=Ize;function Dze(n,e){var t=this.__data__,i=tN(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this}var Lze=Dze;function a1(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}a1.prototype.clear=xze;a1.prototype.delete=Oze;a1.prototype.get=Mze;a1.prototype.has=Rze;a1.prototype.set=Lze;var Fze=a1,Bze=F_e(Q$,"Map"),$ze=Bze;function Nze(){this.size=0,this.__data__={hash:new One,map:new($ze||Fze),string:new One}}var jze=Nze;function zze(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var Hze=zze;function Vze(n,e){var t=n.__data__;return Hze(e)?t[typeof e=="string"?"string":"hash"]:t.map}var nN=Vze;function Wze(n){var e=nN(this,n).delete(n);return this.size-=e?1:0,e}var Uze=Wze;function Gze(n){return nN(this,n).get(n)}var Yze=Gze;function Kze(n){return nN(this,n).has(n)}var Xze=Kze;function qze(n,e){var t=nN(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this}var Zze=qze;function o1(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}o1.prototype.clear=jze;o1.prototype.delete=Uze;o1.prototype.get=Yze;o1.prototype.has=Xze;o1.prototype.set=Zze;var B_e=o1,Qze="Expected a function";function QK(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(Qze);var t=function(){var i=arguments,r=e?e.apply(this,i):i[0],s=t.cache;if(s.has(r))return s.get(r);var a=n.apply(this,i);return t.cache=s.set(r,a)||s,a};return t.cache=new(QK.Cache||B_e),t}QK.Cache=B_e;var Jze=QK,eHe=500;function tHe(n){var e=Jze(n,function(i){return t.size===eHe&&t.clear(),i}),t=e.cache;return e}var nHe=tHe,iHe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rHe=/\\(\\)?/g,sHe=nHe(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(iHe,function(t,i,r,s){e.push(r?s.replace(rHe,"$1"):i||t)}),e}),aHe=sHe;function oHe(n,e){for(var t=-1,i=n==null?0:n.length,r=Array(i);++t<i;)r[t]=e(n[t],t,n);return r}var lHe=oHe,Pne=aC?aC.prototype:void 0,Mne=Pne?Pne.toString:void 0;function $_e(n){if(typeof n=="string")return n;if(cg(n))return lHe(n,$_e)+"";if(eN(n))return Mne?Mne.call(n):"";var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}var uHe=$_e;function cHe(n){return n==null?"":uHe(n)}var JK=cHe;function dHe(n,e){return cg(n)?n:Ije(n,e)?[n]:aHe(JK(n))}var hHe=dHe;function fHe(n){if(typeof n=="string"||eN(n))return n;var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}var pHe=fHe;function gHe(n,e){e=hHe(e,n);for(var t=0,i=e.length;n!=null&&t<i;)n=n[pHe(e[t++])];return t&&t==i?n:void 0}var mHe=gHe;function vHe(n,e,t){var i=n==null?void 0:mHe(n,e);return i===void 0?t:i}var Ra=vHe,yHe=function(){return Q$.Date.now()},S5=yHe,_He=/\s/;function bHe(n){for(var e=n.length;e--&&_He.test(n.charAt(e)););return e}var SHe=bHe,xHe=/^\s+/;function wHe(n){return n&&n.slice(0,SHe(n)+1).replace(xHe,"")}var CHe=wHe,Ine=NaN,THe=/^[-+]0x[0-9a-f]+$/i,EHe=/^0b[01]+$/i,AHe=/^0o[0-7]+$/i,kHe=parseInt;function OHe(n){if(typeof n=="number")return n;if(eN(n))return Ine;if(td(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=td(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=CHe(n);var t=EHe.test(n);return t||AHe.test(n)?kHe(n.slice(2),t?2:8):THe.test(n)?Ine:+n}var Rne=OHe,PHe="Expected a function",MHe=Math.max,IHe=Math.min;function RHe(n,e,t){var i,r,s,a,o,l,u=0,c=!1,d=!1,h=!0;if(typeof n!="function")throw new TypeError(PHe);e=Rne(e)||0,td(t)&&(c=!!t.leading,d="maxWait"in t,s=d?MHe(Rne(t.maxWait)||0,e):s,h="trailing"in t?!!t.trailing:h);function f(T){var E=i,A=r;return i=r=void 0,u=T,a=n.apply(A,E),a}function p(T){return u=T,o=setTimeout(v,e),c?f(T):a}function g(T){var E=T-l,A=T-u,k=e-E;return d?IHe(k,s-A):k}function m(T){var E=T-l,A=T-u;return l===void 0||E>=e||E<0||d&&A>=s}function v(){var T=S5();if(m(T))return _(T);o=setTimeout(v,g(T))}function _(T){return o=void 0,h&&i?f(T):(i=r=void 0,a)}function y(){o!==void 0&&clearTimeout(o),u=0,i=l=r=o=void 0}function x(){return o===void 0?a:_(S5())}function w(){var T=S5(),E=m(T);if(i=arguments,r=this,l=T,E){if(o===void 0)return p(l);if(d)return clearTimeout(o),o=setTimeout(v,e),f(l)}return o===void 0&&(o=setTimeout(v,e)),a}return w.cancel=y,w.flush=x,w}var DHe=RHe,LHe="[object String]";function FHe(n){return typeof n=="string"||!cg(n)&&J$(n)&&yP(n)==LHe}var qr=FHe,BHe="[object Number]";function $He(n){return typeof n=="number"||J$(n)&&yP(n)==BHe}var N_e=$He;function NHe(n,e,t,i){var r=-1,s=n==null?0:n.length;for(i&&s&&(t=n[++r]);++r<s;)t=e(t,n[r],r,n);return t}var jHe=NHe;function zHe(n){return function(e){return n==null?void 0:n[e]}}var HHe=zHe,VHe={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},WHe=HHe(VHe),UHe=WHe,GHe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,YHe="\\u0300-\\u036f",KHe="\\ufe20-\\ufe2f",XHe="\\u20d0-\\u20ff",qHe=YHe+KHe+XHe,ZHe="["+qHe+"]",QHe=RegExp(ZHe,"g");function JHe(n){return n=JK(n),n&&n.replace(GHe,UHe).replace(QHe,"")}var e3e=JHe,t3e=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function n3e(n){return n.match(t3e)||[]}var i3e=n3e,r3e=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function s3e(n){return r3e.test(n)}var a3e=s3e,j_e="\\ud800-\\udfff",o3e="\\u0300-\\u036f",l3e="\\ufe20-\\ufe2f",u3e="\\u20d0-\\u20ff",c3e=o3e+l3e+u3e,z_e="\\u2700-\\u27bf",H_e="a-z\\xdf-\\xf6\\xf8-\\xff",d3e="\\xac\\xb1\\xd7\\xf7",h3e="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",f3e="\\u2000-\\u206f",p3e=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",V_e="A-Z\\xc0-\\xd6\\xd8-\\xde",g3e="\\ufe0e\\ufe0f",W_e=d3e+h3e+f3e+p3e,U_e="[']",Dne="["+W_e+"]",m3e="["+c3e+"]",G_e="\\d+",v3e="["+z_e+"]",Y_e="["+H_e+"]",K_e="[^"+j_e+W_e+G_e+z_e+H_e+V_e+"]",y3e="\\ud83c[\\udffb-\\udfff]",_3e="(?:"+m3e+"|"+y3e+")",b3e="[^"+j_e+"]",X_e="(?:\\ud83c[\\udde6-\\uddff]){2}",q_e="[\\ud800-\\udbff][\\udc00-\\udfff]",fx="["+V_e+"]",S3e="\\u200d",Lne="(?:"+Y_e+"|"+K_e+")",x3e="(?:"+fx+"|"+K_e+")",Fne="(?:"+U_e+"(?:d|ll|m|re|s|t|ve))?",Bne="(?:"+U_e+"(?:D|LL|M|RE|S|T|VE))?",Z_e=_3e+"?",Q_e="["+g3e+"]?",w3e="(?:"+S3e+"(?:"+[b3e,X_e,q_e].join("|")+")"+Q_e+Z_e+")*",C3e="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",T3e="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",E3e=Q_e+Z_e+w3e,A3e="(?:"+[v3e,X_e,q_e].join("|")+")"+E3e,k3e=RegExp([fx+"?"+Y_e+"+"+Fne+"(?="+[Dne,fx,"$"].join("|")+")",x3e+"+"+Bne+"(?="+[Dne,fx+Lne,"$"].join("|")+")",fx+"?"+Lne+"+"+Fne,fx+"+"+Bne,T3e,C3e,G_e,A3e].join("|"),"g");function O3e(n){return n.match(k3e)||[]}var P3e=O3e;function M3e(n,e,t){return n=JK(n),e=t?void 0:e,e===void 0?a3e(n)?P3e(n):i3e(n):n.match(e)||[]}var I3e=M3e,R3e="[']",D3e=RegExp(R3e,"g");function L3e(n){return function(e){return jHe(I3e(e3e(e).replace(D3e,"")),n,"")}}var F3e=L3e,B3e="[object Boolean]";function $3e(n){return n===!0||n===!1||J$(n)&&yP(n)==B3e}var N3e=$3e,j3e=F3e(function(n,e,t){return n+(t?" ":"")+e.toLowerCase()}),cR=j3e,J_e=Object.defineProperty,$ne=Object.getOwnPropertySymbols,z3e=Object.prototype.hasOwnProperty,H3e=Object.prototype.propertyIsEnumerable,Nne=(n,e,t)=>e in n?J_e(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Zf=(n,e)=>{for(var t in e||(e={}))z3e.call(e,t)&&Nne(n,t,e[t]);if($ne)for(var t of $ne(e))H3e.call(e,t)&&Nne(n,t,e[t]);return n},V3e=(n,e)=>{for(var t in e)J_e(n,t,{get:e[t],enumerable:!0})},ebe=(n=>(n.CALCULATING="calculating",n.COMPLETED="completed",n))(ebe||{}),_P=(n=>(n.Text="text",n.Url="url",n.Mention="mention",n))(_P||{}),W3e=(n=>(n[n.User=0]="User",n[n.Doc=1]="Doc",n[n.Folder=2]="Folder",n[n.Sheet=3]="Sheet",n[n.SheetDoc=4]="SheetDoc",n[n.Chat=5]="Chat",n[n.Bitable=8]="Bitable",n[n.Mindnote=11]="Mindnote",n[n.Box=12]="Box",n[n.Slide=15]="Slide",n[n.Wiki=16]="Wiki",n[n.Docx=22]="Docx",n[n.Slides=30]="Slides",n[n.Bitable_Ind=108]="Bitable_Ind",n))(W3e||{}),px=(n=>(n.TableAdd="TableAdd",n.TableDelete="TableDelete",n.SelectionChange="SelectionChange",n.PermissionChange="PermissionChange",n.UploadStatusChange="UploadStatusChange",n))(px||{}),eb=(n=>(n.FieldAdd="FieldAdd",n.FieldDelete="FieldDelete",n.FieldModify="FieldModify",n.RecordAdd="RecordAdd",n.RecordModify="RecordModify",n.RecordDelete="RecordDelete",n))(eb||{}),bU=(n=>(n.DataChange="DataChange",n.ThemeChange="ThemeChange",n))(bU||{}),tbe=(n=>(n.FetchDebugShortcut="FetchDebugShortcut",n))(tbe||{}),o2=(n=>(n.DataChange="DataChange",n.ConfigChange="ConfigChange",n.ThemeChange="ThemeChange",n))(o2||{}),vn=(n=>(n[n.NotSupport=0]="NotSupport",n[n.Text=1]="Text",n[n.Number=2]="Number",n[n.SingleSelect=3]="SingleSelect",n[n.MultiSelect=4]="MultiSelect",n[n.DateTime=5]="DateTime",n[n.Checkbox=7]="Checkbox",n[n.User=11]="User",n[n.Phone=13]="Phone",n[n.Url=15]="Url",n[n.Attachment=17]="Attachment",n[n.SingleLink=18]="SingleLink",n[n.Lookup=19]="Lookup",n[n.Formula=20]="Formula",n[n.DuplexLink=21]="DuplexLink",n[n.Location=22]="Location",n[n.GroupChat=23]="GroupChat",n[n.Object=25]="Object",n[n.Denied=403]="Denied",n[n.CreatedTime=1001]="CreatedTime",n[n.ModifiedTime=1002]="ModifiedTime",n[n.CreatedUser=1003]="CreatedUser",n[n.ModifiedUser=1004]="ModifiedUser",n[n.AutoNumber=1005]="AutoNumber",n[n.Barcode=99001]="Barcode",n[n.Progress=99002]="Progress",n[n.Currency=99003]="Currency",n[n.Rating=99004]="Rating",n[n.Email=99005]="Email",n))(vn||{}),Um=(n=>(n[n.NotSupport=0]="NotSupport",n[n.Grid=1]="Grid",n[n.Kanban=2]="Kanban",n[n.Form=3]="Form",n[n.Gallery=4]="Gallery",n[n.Gantt=5]="Gantt",n[n.Hierarchy=6]="Hierarchy",n[n.Calendar=7]="Calendar",n[n.WidgetView=100]="WidgetView",n))(Um||{}),U3e=(n=>(n.NotSupport="NotSupport",n.Text="Text",n.Number="Number",n.Progress="Progress",n.Currency="Currency",n.Rating="Rating",n.Stage="Stage",n.SingleSelect="SingleSelect",n.MultiSelect="MultiSelect",n.DateTime="DateTime",n.Checkbox="Checkbox",n.User="User",n.GroupChat="GroupChat",n.Phone="Phone",n.Url="Url",n.Attachment="Attachment",n.SingleLink="SingleLink",n.Lookup="Lookup",n.Formula="Formula",n.DuplexLink="DuplexLink",n.Location="Location",n.Barcode="Barcode",n.Denied="Denied",n.CreatedTime="CreatedTime",n.ModifiedTime="ModifiedTime",n.CreatedUser="CreatedUser",n.ModifiedUser="ModifiedUser",n.AutoNumber="AutoNumber",n.Button="Button",n.Email="Email",n.Object="Object",n))(U3e||{}),G3e=(n=>(n[n.Pending=1]="Pending",n[n.Inflight=2]="Inflight",n[n.Success=3]="Success",n[n.Error=4]="Error",n[n.Paused=5]="Paused",n))(G3e||{}),Y3e=(n=>(n.ONLY_MOBILE="ONLY_MOBILE",n.NOT_LIMIT="NOT_LIMIT",n))(Y3e||{}),K3e=(n=>(n.INTEGER="0",n.DIGITAL_ROUNDED_1="0.0",n.DIGITAL_ROUNDED_2="0.00",n.DIGITAL_ROUNDED_3="0.000",n.DIGITAL_ROUNDED_4="0.0000",n.DIGITAL_THOUSANDS="1,000",n.DIGITAL_THOUSANDS_DECIMALS="1,000.00",n.PERCENTAGE_ROUNDED="0%",n.PERCENTAGE="0.00%",n))(K3e||{}),X3e=(n=>(n.CYN_ROUNDED="#,##0",n.CYN="#,##0.00",n.DOLLAR_ROUNDED="$#,##0",n.DOLLAR="$#,##0.00",n))(X3e||{}),q3e=(n=>(n.DATE_YMD_WITH_SLASH="yyyy/MM/dd",n.DATE_TIME="yyyy/MM/dd HH:mm",n.DATE_TIME_WITH_HYPHEN="yyyy-MM-dd HH:mm",n.DATE_YMD_WITH_HYPHEN="yyyy-MM-dd",n.DATE_MD_WITH_HYPHEN="MM-dd",n.DATE_MMDD_WITH_SLASH="MM/dd/yyyy",n.DATE_DDMM_WITH_SLASH="dd/MM/yyyy",n))(q3e||{}),Z3e=(n=>(n.CNY="CNY",n.USD="USD",n.EUR="EUR",n.GBP="GBP",n.AED="AED",n.AUD="AUD",n.BRL="BRL",n.CAD="CAD",n.CHF="CHF",n.HKD="HKD",n.INR="INR",n.IDR="IDR",n.JPY="JPY",n.KRW="KRW",n.MOP="MOP",n.MXN="MXN",n.MYR="MYR",n.PHP="PHP",n.PLN="PLN",n.RUB="RUB",n.SGD="SGD",n.THB="THB",n.TRY="TRY",n.TWD="TWD",n.VND="VND",n))(Z3e||{}),Q3e=(n=>(n.STAR="star",n.HEART="heart",n.THUMBSUP="thumbsup",n.FIRE="fire",n.SMILE="smile",n.LIGHTNING="lightning",n.FLOWER="flower",n.NUMBER="number",n))(Q3e||{}),J3e=(n=>(n[n.Low=120]="Low",n[n.Mid=360]="Mid",n[n.HIGH=720]="HIGH",n[n.MAX=1280]="MAX",n))(J3e||{}),e5e=(n=>(n.SUM="SUM",n.AVERAGE="AVERAGE",n.MAX="MAX",n.MIN="MIN",n))(e5e||{}),e9=(n=>(n.ALL="ALL",n.ALL_INCLUDE_ARCHIVE="ALL_INCLUDE_ARCHIVE",n.VIEW="VIEW",n.CUSTOM="CUSTOM",n))(e9||{}),t5e=(n=>(n[n.ASCENDING=1]="ASCENDING",n[n.DESCENDING=2]="DESCENDING",n))(t5e||{}),n5e=(n=>(n.VALUE="VALUE",n.VIEW="VIEW",n.GROUP="GROUP",n))(n5e||{}),bP=class{withContext(n){return Object.create(this,{context:{value:n,writable:!1}})}getContext(){var n;return(n=this.context)!=null?n:[]}},i5e=(n=>(n.LIGHT="LIGHT",n.DARK="DARK",n))(i5e||{}),r5e=(n=>(n[n.Short=1]="Short",n[n.Medium=2]="Medium",n[n.Tall=3]="Tall",n[n.ExtraTall=4]="ExtraTall",n))(r5e||{}),nbe=(n=>(n.Enabled="Enabled",n.Disabled="Disabled",n))(nbe||{}),ibe=(n=>(n.NoCopyPermission="no_copy_permission",n))(ibe||{}),s5e=(n=>(n.info="info",n.success="success",n.warning="warning",n.error="error",n.loading="loading",n))(s5e||{}),gx=(n=>(n.Create="Create",n.Config="Config",n.View="View",n.FullScreen="FullScreen",n))(gx||{}),a5e=(n=>(n[n.ASCENDING=1]="ASCENDING",n[n.DESCENDING=2]="DESCENDING",n))(a5e||{}),o5e=(n=>(n.ENUMERATED="enumerated",n.INTEGRATED="integrated",n))(o5e||{}),l5e=(n=>(n[n.STATIC=0]="STATIC",n[n.DYNAMIC=1]="DYNAMIC",n))(l5e||{}),u5e=(n=>(n.Today="Today",n.Tomorrow="Tomorrow",n.Yesterday="Yesterday",n.TheLastWeek="TheLastWeek",n.TheNextWeek="TheNextWeek",n.TheLastMonth="TheLastMonth",n.TheNextMonth="TheNextMonth",n.CurrentWeek="CurrentWeek",n.LastWeek="LastWeek",n.CurrentMonth="CurrentMonth",n.LastMonth="LastMonth",n))(u5e||{}),c5e=(n=>(n.Is="is",n.IsNot="isNot",n.Contains="contains",n.DoesNotContain="doesNotContain",n.IsEmpty="isEmpty",n.IsNotEmpty="isNotEmpty",n.IsGreater="isGreater",n.IsGreaterEqual="isGreaterEqual",n.IsLess="isLess",n.IsLessEqual="isLessEqual",n))(c5e||{}),d5e=(n=>(n.And="and",n.Or="or",n))(d5e||{}),CE=(n=>(n.AddCondition="AddCondition",n.DeleteCondition="DeleteCondition",n.UpdateCondition="UpdateCondition",n.SetConjunction="SetConjunction",n))(CE||{}),h5e=(n=>(n.Base="Base",n.Table="Table",n.View="View",n.Record="Record",n.Field="Field",n.Cell="Cell",n))(h5e||{}),SU=(n=>(n.Visible="visible",n.Editable="editable",n.Addable="addable",n.Deletable="deletable",n.Copyable="copyable",n.Movable="movable",n.Printable="printable",n.Manageable="manageable",n.Submittable="submittable",n))(SU||{}),t9="BaseEvent",f5e="BridgeEvent",p5e="DashboardEvent",g5e="UIEvent",jne=n=>`${t9}_${n}`,zne=(n,e)=>`${t9}_tableId_${n}_${e}`,Hne=(n,e,t)=>`${t9}_tableId_${n}_fieldId_${e}_${t}`,Vne=n=>`${f5e}_${n}`,Wne=n=>`${p5e}_${n}`,Une=n=>`${g5e}_${n}`;function m5e(n,e){return`bitable.${n}_${e}`}var nd={};V3e(nd,{isAttachment:()=>rbe,isAttachments:()=>b5e,isAutoNumber:()=>C5e,isCheckbox:()=>x5e,isEmpty:()=>E5e,isGroupChat:()=>obe,isGroupChats:()=>P5e,isLink:()=>O5e,isLocation:()=>_5e,isMultiSelect:()=>T5e,isNumber:()=>n9,isPhone:()=>w5e,isSegmentItem:()=>abe,isSegments:()=>k5e,isSingleSelect:()=>sbe,isTimestamp:()=>S5e,isUsers:()=>y5e});function v5e(n){if(!td(n))return!1;let e=Ra(n,"id");return qr(e)&&e.startsWith("ou_")}function y5e(n){return cg(n)?n.every(v5e):!1}function _5e(n){return td(n)?qr(Ra(n,"address"))&&qr(Ra(n,"adname"))&&qr(Ra(n,"cityname"))&&qr(Ra(n,"fullAddress"))&&qr(Ra(n,"location"))&&qr(Ra(n,"name"))&&qr(Ra(n,"pname")):!1}function rbe(n){return td(n)?qr(Ra(n,"name"))&&n9(Ra(n,"size"))&&qr(Ra(n,"token"))&&qr(Ra(n,"type")):!1}function b5e(n){return cg(n)?n.every(rbe):!1}function S5e(n){return n9(n)}function x5e(n){return N3e(n)}function w5e(n){return qr(n)}function C5e(n){return qr(n)||qr(n==null?void 0:n.value)}function n9(n){return N_e(n)}function sbe(n){return td(n)?qr(Ra(n,"id"))&&qr(Ra(n,"text")):!1}function T5e(n){return cg(n)?n.every(sbe):!1}function E5e(n){return n===null}var A5e=new Set(Object.values(_P));function abe(n){if(!td(n))return!1;let e=Ra(n,"type"),t=Ra(n,"text");return!qr(e)||!qr(t)?!1:A5e.has(e)}function k5e(n){return cg(n)?n.every(abe):!1}function O5e(n){return td(n)?cg(Ra(n,"recordIds"))&&qr(Ra(n,"tableId")):!1}function obe(n){if(!td(n))return!1;let e=Ra(n,"id"),t=Ra(n,"name");return qr(e)&&e.startsWith("oc_")&&qr(t)}function P5e(n){return cg(n)?n.every(e=>obe(e)):!1}var nc={Unknown:10,Base:11,Table:12,Field:13,Record:14,View:15,Cell:16,Dashboard:17},iA={Action:89,ViewWidget:96,ItemWidget:97,Widget:98,Unknown:99},Iv={UnSupportedType:991,ParameterException:992,LowerLimitExceeded:993,UpperLimitExceeded:994,NameRepeated:995,NotSupported:996,PermissionDenied:997,NotFound:998,Unknown:999},l2={HostNotRegistered:997,NotFound:998,Unknown:999},i9={[nc.Base]:Zf({},Iv),[nc.Table]:Zf({NotLoaded:1,LastTableDeleteForbidden:2},Iv),[nc.Field]:Zf({NotMatch:1,LocationInfoException:20},Iv),[nc.Record]:Zf({SingleRecordOperationLimitExceeded:1},Iv),[nc.Cell]:Zf({},Iv),[nc.View]:Zf({LastViewDeleteForbidden:1,FilterInfoError:2},Iv),[nc.Dashboard]:Zf({DataConditionFormatError:1},Iv),[iA.ItemWidget]:Zf({},l2),[iA.Action]:Zf({},l2),[iA.ViewWidget]:Zf({},l2)},M5e={},I5e=(n=>(n[n.TableNotLoadedError=10212001]="TableNotLoadedError",n[n.LastTableDeleteForbiddenError=10212002]="LastTableDeleteForbiddenError",n[n.TableParamExceptionError=10212992]="TableParamExceptionError",n[n.TableNameRepeatedError=10212995]="TableNameRepeatedError",n[n.TablePermissionDeniedError=10212997]="TablePermissionDeniedError",n[n.TableNotFoundError=10212998]="TableNotFoundError",n[n.TableUnknownError=10212999]="TableUnknownError",n[n.FieldTypeUnSupportedError=10213991]="FieldTypeUnSupportedError",n[n.FieldNameRepeatedError=10213995]="FieldNameRepeatedError",n[n.FieldPermissionDeniedError=10213997]="FieldPermissionDeniedError",n[n.FieldNotFoundError=10213998]="FieldNotFoundError",n[n.FieldUnknownError=10213999]="FieldUnknownError",n[n.SingleRecordOperationLimitExceeded=10214001]="SingleRecordOperationLimitExceeded",n[n.RecordPermissionDeniedError=10214997]="RecordPermissionDeniedError",n[n.RecordNotFoundError=10214998]="RecordNotFoundError",n[n.RecordUnknownError=10214999]="RecordUnknownError",n[n.LastViewDeleteForbiddenError=10215001]="LastViewDeleteForbiddenError",n[n.ViewTypeUnSupportedError=10215991]="ViewTypeUnSupportedError",n[n.ViewNameRepeatedError=10215995]="ViewNameRepeatedError",n[n.ViewPermissionDeniedError=10215997]="ViewPermissionDeniedError",n[n.ViewNotFoundError=10215998]="ViewNotFoundError",n[n.ViewUnknownError=10215999]="ViewUnknownError",n[n.CellPermissionDeniedError=10216997]="CellPermissionDeniedError",n[n.CellUnknownError=10216999]="CellUnknownError",n[n.DashDataConditionFormatError=10217001]="DashDataConditionFormatError",n[n.DashPermissionDeniedError=10217997]="DashPermissionDeniedError",n[n.DashDataSizeExceededError=10217994]="DashDataSizeExceededError",n[n.DashUnknownError=10217999]="DashUnknownError",n))(I5e||{}),lbe="bte";function R5e(n,e){return 102e5+n%100*1e3+e%1e3}var Gne=function(){return Object.entries(nc).reduce((n,[e,t])=>(n[t]=e,n),{})}(),Yne=function(){return Object.entries(iA).reduce((n,[e,t])=>(n[t]=e,n),{})}(),Kne=function(){return Object.entries(Iv).reduce((n,[e,t])=>(n[t]=e,n),{})}();function D5e(n,e){var t;let i=(t=M5e[n])==null?void 0:t[e];if(!i){if(n in Gne){let r=cR(Gne[n]),s=cR(Kne[e]||"unknown error");i=`${r} ${s}`}else if(n in Yne){let r=cR(Yne[n]),s=cR(Kne[e]||"unknown error");i=`${r} ${s}`}}return i||"unknown error"}var iN=class extends Error{constructor(n,e,t){let i=R5e(n,e);t=t??D5e(n,e),super(t),this.code=i}toJSON(){return{e:lbe,msg:this.message,message:this.message,code:this.code}}},dR=class extends iN{constructor(){super(nc.Table,i9[nc.Table].NotFound,"table not found error")}},Xne=class extends iN{constructor(){super(nc.Field,i9[nc.Field].NotFound,"field not found error")}},qne=class extends iN{constructor(){super(nc.View,i9[nc.View].NotFound,"view not found error")}};function L5e(n){return td(n)&&Ra(n,"e")===lbe}var F5e=class{constructor(){this._promise=new Promise((n,e)=>{this._resolve=n,this._reject=e})}get promise(){return this._promise}resolve(n){var e;return(e=this._resolve)==null?void 0:e.call(this,n)}reject(n){var e;return(e=this._reject)==null?void 0:e.call(this,n)}},B5e=class{constructor(n){this.config=n,this.requestQueue=new Set,this.debounceRun=DHe(()=>this.runImmediate(),n.debounce)}request(n){let e={key:n,deferred:new F5e};return this.requestQueue.add(e),this.requestQueue.size===this.config.maxRequestCount?this.runImmediate():this.debounceRun(),e.deferred.promise}runImmediate(){return pe(this,null,function*(){this.debounceRun.cancel();let n=Array.from(this.requestQueue);this.requestQueue.clear();try{(yield this.config.batchRequestFn(n.map(e=>e.key))).forEach((e,t)=>n[t].deferred.resolve(e))}catch(e){n.forEach(t=>t.deferred.reject(e))}})}},ube=new Map;function Ke(n=0,e=1){return function(t,i,r){let s=t.getModuleName();ube.set(m5e(s,i),{prototype:t,methodName:i,descriptor:r,requestContext:{c:t.getContext(),p:Array.from(arguments),debounce:n,maxRequestCount:e}})}}function $5e(n){ube.forEach((e,t)=>{let{prototype:i,descriptor:r,methodName:s,requestContext:a}=e,{debounce:o,maxRequestCount:l}=a,u=new B5e({debounce:o,maxRequestCount:l,batchRequestFn:c=>n.invokeApi(t,c)});r.value=function(){return pe(this,arguments,function*(){let c=yield u.request({c:this.getContext(),p:Array.from(arguments),t:Date.now()});if(L5e(c)){let d=new Error,h=c,f=up(h,["e"]);throw Object.assign(d,f),d}return c})},r.configurable=!1,r.writable=!1,Object.defineProperty(i,s,r)})}var Xe=class extends iN{constructor(){super(iA.Unknown,l2.HostNotRegistered,"not registered")}},xU=class extends bP{getModuleName(){return"WidgetView"}getFilterInfo(){return pe(this,null,function*(){throw new Xe})}setFilter(n,e){return pe(this,null,function*(){throw new Xe})}};Le([Ke()],xU.prototype,"getFilterInfo",1),Le([Ke()],xU.prototype,"setFilter",1);var N5e=class extends xU{addFilterCondition(n){return pe(this,null,function*(){return yield this.setFilter(CE.AddCondition,n)})}deleteFilterCondition(n){return pe(this,null,function*(){return yield this.setFilter(CE.DeleteCondition,n)})}updateFilterCondition(n){return pe(this,null,function*(){return yield this.setFilter(CE.UpdateCondition,n)})}setFilterConjunction(n){return pe(this,null,function*(){return yield this.setFilter(CE.SetConjunction,n)})}},wU=class extends bP{getModuleName(){return"WidgetView"}getGroupInfo(){return pe(this,null,function*(){throw new Xe})}setGroupInfo(n){return pe(this,null,function*(){throw new Xe})}};Le([Ke()],wU.prototype,"getGroupInfo",1),Le([Ke()],wU.prototype,"setGroupInfo",1);var j5e=class extends wU{addGroup(n){return pe(this,null,function*(){let e=yield this.getGroupInfo();return yield this.setGroupInfo(e.concat(n))})}deleteGroup(n){return pe(this,null,function*(){let e=typeof n=="string"?n:n.fieldId,t=yield this.getGroupInfo();return yield this.setGroupInfo(t.filter(i=>i.fieldId!==e))})}updateGroup(n){return pe(this,null,function*(){let e=yield this.getGroupInfo(),t=e.findIndex(i=>i.fieldId===n.fieldId);return t<0?!1:(e.splice(t,1,n),this.setGroupInfo(e))})}},u2=class extends bP{getModuleName(){return"WidgetView"}getSortInfo(){return pe(this,null,function*(){throw new Xe})}setSortInfo(n){return pe(this,null,function*(){throw new Xe})}setAutoSort(n){return pe(this,null,function*(){throw new Xe})}};Le([Ke()],u2.prototype,"getSortInfo",1),Le([Ke()],u2.prototype,"setSortInfo",1),Le([Ke()],u2.prototype,"setAutoSort",1);var z5e=class extends u2{addSort(n){return pe(this,null,function*(){let e=yield this.getSortInfo();return yield this.setSortInfo(e.concat(n))})}deleteSort(n){return pe(this,null,function*(){let e=typeof n=="string"?n:n.fieldId,t=yield this.getSortInfo();return yield this.setSortInfo(t.filter(i=>i.fieldId!==e))})}updateSort(n){return pe(this,null,function*(){let e=yield this.getSortInfo(),t=e.findIndex(i=>i.fieldId===n.fieldId);return t<0?!1:(e.splice(t,1,n),this.setSortInfo(e))})}},H5e=class{constructor(n){this.map=new Map,this.client=n}add(n,e,t){var i;let r=(i=this.map.get(n))!=null?i:0;return r===0&&(t==null||t()),this.client.subscribeEvent(n,e),this.map.set(n,r+1),r+1}del(n,e,t){var i;let r=(i=this.map.get(n))!=null?i:0;return r===0?(console.warn(`${n}: event ref count is 0, the event may have been unregistered.`),0):(this.client.unsubscribeEvent(n,e),r===1?(t==null||t(),this.map.delete(n),0):(this.map.set(n,r-1),r-1))}},Ky=class extends bP{constructor(n){super(),this.client=n,this.eventRefCount=new H5e(n)}},Fd=class extends Ky{get id(){return this.getContext()[1]}get tableId(){return this.getContext()[0]}getModuleName(){return"WidgetView"}getName(){return pe(this,null,function*(){throw new Xe})}getType(){return pe(this,null,function*(){throw new Xe})}getMeta(){return pe(this,null,function*(){throw new Xe})}getFieldMetaList(){return pe(this,null,function*(){throw new Xe})}getVisibleRecordIdList(){return pe(this,null,function*(){throw new Xe})}getVisibleRecordIdListByPage(n){return pe(this,null,function*(){throw new Xe})}getVisibleFieldIdList(){return pe(this,null,function*(){throw new Xe})}applySetting(){return pe(this,null,function*(){throw new Xe})}setFieldVisibility(n,e){return pe(this,null,function*(){throw new Xe})}toggleViewSharing(n){return pe(this,null,function*(){throw new Xe})}getSharingMeta(){return pe(this,null,function*(){throw new Xe})}};Le([Ke(5,10)],Fd.prototype,"getName",1),Le([Ke(5,10)],Fd.prototype,"getType",1),Le([Ke(5,10)],Fd.prototype,"getMeta",1),Le([Ke()],Fd.prototype,"getFieldMetaList",1),Le([Ke()],Fd.prototype,"getVisibleRecordIdList",1),Le([Ke()],Fd.prototype,"getVisibleRecordIdListByPage",1),Le([Ke()],Fd.prototype,"getVisibleFieldIdList",1),Le([Ke()],Fd.prototype,"applySetting",1),Le([Ke()],Fd.prototype,"setFieldVisibility",1),Le([Ke()],Fd.prototype,"toggleViewSharing",1),Le([Ke()],Fd.prototype,"getSharingMeta",1);var M0=class extends Fd{constructor(n,e,t){super(e),this.table=n,this.dep=t}hideField(n){return pe(this,null,function*(){return yield this.setFieldVisibility(n,!0)})}showField(n){return pe(this,null,function*(){return yield this.setFieldVisibility(n,!1)})}enableSharing(){return pe(this,null,function*(){return yield this.toggleViewSharing(!0)})}disableSharing(){return pe(this,null,function*(){return yield this.toggleViewSharing(!1)})}getSharingStatus(){return pe(this,null,function*(){let{status:n}=yield this.getSharingMeta();return n})}getShareLink(){return pe(this,null,function*(){let{status:n,shareLink:e}=yield this.getSharingMeta();if(n===nbe.Disabled)throw new Error("cannot get share link before enable view sharing.");return e})}getFieldList(){return pe(this,null,function*(){let n=yield this.getVisibleFieldIdList();return yield Promise.all(n.map(e=>this.table.getField(e)))})}};function I0(n){return e=>{r9.getInstance().register(n,e)}}var r9=class{constructor(){this.viewCtorCacheMap=new Map}static getInstance(){return this.instance||(this.instance=new r9),this.instance}register(n,e){this.viewCtorCacheMap.has(n)||this.viewCtorCacheMap.set(n,e)}getViewCtor(n){var e;return(e=this.viewCtorCacheMap.get(n))!=null?e:CU}},CU=class extends M0{getMeta(){return pe(this,null,function*(){let n=yield this.getName();return{id:this.id,name:n,type:Um.NotSupport,property:null}})}getFieldMetaList(){return pe(this,null,function*(){return[]})}getVisibleRecordIdList(){return pe(this,null,function*(){return[]})}getVisibleFieldIdList(){return pe(this,null,function*(){return[]})}applySetting(){return pe(this,null,function*(){})}setFieldVisibility(n,e){return pe(this,null,function*(){return!1})}};CU=Le([I0(Um.NotSupport)],CU);var Ri=class extends Ky{get id(){return this.getContext()[0]}getModuleName(){return"WidgetTable"}getRecordIdList(n,e){return pe(this,null,function*(){throw new Xe})}getRecordIdListByPage(n){return pe(this,null,function*(){throw new Xe})}getRecordById(n,e){return pe(this,null,function*(){throw new Xe})}getRecordsByIds(n,e){return pe(this,null,function*(){throw new Xe})}getRecords(n){return pe(this,null,function*(){throw new Xe})}getRecordsByPage(n){return pe(this,null,function*(){throw new Xe})}getName(){return pe(this,null,function*(){throw new Xe})}getMeta(){return pe(this,null,function*(){throw new Xe})}isViewExist(n){return pe(this,null,function*(){throw new Xe})}addView(n){return pe(this,null,function*(){throw new Xe})}setView(n,e){return pe(this,null,function*(){throw new Xe})}deleteView(n){return pe(this,null,function*(){throw new Xe})}getViewMetaById(n){return pe(this,null,function*(){throw new Xe})}getViewMetaList(){return pe(this,null,function*(){throw new Xe})}isFieldExist(n){return pe(this,null,function*(){throw new Xe})}getFieldMetaById(n){throw new Xe}getFieldMetaList(){return pe(this,null,function*(){throw new Xe})}getFieldIdByName(n){throw new Xe}getCellValue(n,e){return pe(this,null,function*(){throw new Xe})}setCellValue(n,e,t){return pe(this,null,function*(){throw new Xe})}registerTableEvent(n){return pe(this,null,function*(){throw new Xe})}unregisterTableEvent(n){return pe(this,null,function*(){throw new Xe})}getAttachmentUrl(n,e,t){return pe(this,null,function*(){throw new Xe})}getCellAttachmentUrls(n,e,t){return pe(this,null,function*(){throw new Xe})}getCellThumbnailUrls(n,e,t,i){return pe(this,null,function*(){throw new Xe})}addRecord(n){return pe(this,null,function*(){throw new Xe})}addRecords(n){return pe(this,null,function*(){throw new Xe})}getRecordShareLink(n){return pe(this,null,function*(){throw new Xe})}setRecord(n,e){return pe(this,null,function*(){throw new Xe})}setRecords(n){return pe(this,null,function*(){throw new Xe})}deleteRecord(n){return pe(this,null,function*(){throw new Xe})}deleteRecords(n){return pe(this,null,function*(){throw new Xe})}getCellString(n,e){return pe(this,null,function*(){throw new Xe})}addField(n){return pe(this,null,function*(){throw new Xe})}deleteField(n){return pe(this,null,function*(){throw new Xe})}setField(n,e){return pe(this,null,function*(){throw new Xe})}on(n,e){let[t]=this.getContext(),i=zne(t,n);this.eventRefCount.add(i,e,()=>this.registerTableEvent(n))}off(n,e){let[t]=this.getContext(),i=zne(t,n);this.eventRefCount.del(i,e,()=>this.unregisterTableEvent(n))}bind(n,e){return this.on(n,e),()=>this.off(n,e)}};Le([Ke(5,100)],Ri.prototype,"getRecordIdList",1),Le([Ke(5,100)],Ri.prototype,"getRecordIdListByPage",1),Le([Ke(5,1e3)],Ri.prototype,"getRecordById",1),Le([Ke(5,100)],Ri.prototype,"getRecordsByIds",1),Le([Ke(5,100)],Ri.prototype,"getRecords",1),Le([Ke(5,100)],Ri.prototype,"getRecordsByPage",1),Le([Ke(5,100)],Ri.prototype,"getName",1),Le([Ke(5,100)],Ri.prototype,"getMeta",1),Le([Ke(5,10)],Ri.prototype,"isViewExist",1),Le([Ke(5,100)],Ri.prototype,"addView",1),Le([Ke(5,100)],Ri.prototype,"setView",1),Le([Ke(5,100)],Ri.prototype,"deleteView",1),Le([Ke(5,100)],Ri.prototype,"getViewMetaById",1),Le([Ke(5,100)],Ri.prototype,"getViewMetaList",1),Le([Ke(5,10)],Ri.prototype,"isFieldExist",1),Le([Ke(5,100)],Ri.prototype,"getFieldMetaById",1),Le([Ke(5,100)],Ri.prototype,"getFieldMetaList",1),Le([Ke()],Ri.prototype,"getFieldIdByName",1),Le([Ke(5,1e3)],Ri.prototype,"getCellValue",1),Le([Ke(5,1e3)],Ri.prototype,"setCellValue",1),Le([Ke()],Ri.prototype,"registerTableEvent",1),Le([Ke()],Ri.prototype,"unregisterTableEvent",1),Le([Ke(5,100)],Ri.prototype,"getAttachmentUrl",1),Le([Ke(5,100)],Ri.prototype,"getCellAttachmentUrls",1),Le([Ke(5,100)],Ri.prototype,"getCellThumbnailUrls",1),Le([Ke(5,1e3)],Ri.prototype,"addRecord",1),Le([Ke(5,100)],Ri.prototype,"addRecords",1),Le([Ke(5,1e3)],Ri.prototype,"getRecordShareLink",1),Le([Ke(5,1e3)],Ri.prototype,"setRecord",1),Le([Ke(5,100)],Ri.prototype,"setRecords",1),Le([Ke(5,1e3)],Ri.prototype,"deleteRecord",1),Le([Ke(5,100)],Ri.prototype,"deleteRecords",1),Le([Ke(5,1e3)],Ri.prototype,"getCellString",1),Le([Ke(5,100)],Ri.prototype,"addField",1),Le([Ke(5,100)],Ri.prototype,"deleteField",1),Le([Ke(5,100)],Ri.prototype,"setField",1);var Ry=class{constructor(n,e,t,i,r){this.table=n,this.field=e,this.val=t,this.editable=i,this.record=r}setValue(n){return pe(this,null,function*(){if(!this.editable){console.warn(`can not edit ${this.field.id} ${yield this.field.getType()}`);return}let e=yield this.field.transform(n);if(this.val=e,this.record)return yield this.table.setCellValue(this.field.id,this.record.id,e);console.warn("This cell has not been inserted")})}getValue(){return pe(this,null,function*(){if(this.record){let n=yield this.table.getCellValue(this.field.id,this.record.id);return this.val=n,n}return this.val})}mountRecord(n){this.record=n}getFieldId(){return this.field.id}},TU=class{constructor(n,e){this.table=n,this.id=e}getCellList(){return pe(this,null,function*(){let n=[],e=yield this.table.getFieldMetaList();for(let t of e){let{id:i}=t,r=yield this.table.getField(i),s=yield this.table.getCellValue(i,this.id);n.push(new Ry(this.table,r,s,r.getEditable(),this))}return n})}getCellByField(n){return pe(this,null,function*(){let e=qr(n)?yield this.table.getField(n):n,t=yield this.table.getCellValue(e.id,this.id);return new Ry(this.table,e,t,e.getEditable(),this)})}},V5e=class{constructor(n,e,t){this.table=n,this.id=e,this.record=t}getCellList(){return pe(this,null,function*(){let n=[],e=yield this.table.getFieldMetaList();for(let t of e){let{id:i}=t,r=yield this.table.getFieldById(i),s=this.record.fields[i];n.push(new Ry(this.table,r,s,r.getEditable(),this))}return n})}getCellByField(n){return pe(this,null,function*(){let e=qr(n)?yield this.table.getField(n):n,t=this.record.fields[e.id];return new Ry(this.table,e,t,e.getEditable(),this)})}},W5e=class{constructor(n,e){this.table=n,this.recordList=e,Object.assign(this,{table:n,recordList:e}),this.recordMap=e.reduce((t,i)=>t.set(i.recordId,i),new Map),this.recordIdList=e.map(t=>t.recordId)}getRecordById(n){return new V5e(this.table,n,this.recordMap.get(n))}*[Symbol.iterator](){for(let n of this.recordIdList)yield this.getRecordById(n)}};function U5e(n,e){return e.filter(t=>t.id!==n&&t.name!==n)}function G5e(n,e,t){let i=t.findIndex(r=>r.id===n||r.name===n);return i!==-1?t.map((r,s)=>s===i?On(On({},r),e):r):[...t,{name:n,color:e.color}]}var EU=n=>qr(n)?n:n==null?void 0:n.id,cp=class extends Ky{get id(){return this.getContext()[1]}get tableId(){return this.getContext()[0]}getModuleName(){return"WidgetField"}on(n,e){let[t,i]=this.getContext();this.eventRefCount.add(Hne(t,i,n),e,()=>this.registerFieldEvent(n))}off(n,e){let[t,i]=this.getContext();this.eventRefCount.del(Hne(t,i,n),e,()=>this.unregisterFieldEvent(n))}bind(n,e){return this.on(n,e),()=>this.off(n,e)}getName(){return pe(this,null,function*(){throw new Xe})}getType(){return pe(this,null,function*(){throw new Xe})}getProxyType(){return pe(this,null,function*(){throw new Xe})}getCellString(n){return pe(this,null,function*(){throw new Xe})}getMeta(){return pe(this,null,function*(){throw new Xe})}registerFieldEvent(n){return pe(this,null,function*(){throw new Xe})}unregisterFieldEvent(n){return pe(this,null,function*(){throw new Xe})}getDependency(){return pe(this,null,function*(){throw new Xe})}getReverseDependency(){return pe(this,null,function*(){throw new Xe})}};Le([Ke(5,10)],cp.prototype,"getName",1),Le([Ke(5,10)],cp.prototype,"getType",1),Le([Ke(5,10)],cp.prototype,"getProxyType",1),Le([Ke(5,10)],cp.prototype,"getCellString",1),Le([Ke(5,10)],cp.prototype,"getMeta",1),Le([Ke()],cp.prototype,"registerFieldEvent",1),Le([Ke()],cp.prototype,"unregisterFieldEvent",1),Le([Ke()],cp.prototype,"getDependency",1),Le([Ke()],cp.prototype,"getReverseDependency",1);var Hs=class extends cp{constructor(n,e,t){super(t),this.base=n,this.table=e}setValue(n,e){return pe(this,null,function*(){let t=EU(n),i=yield this.transform(e);return yield this.table.setCellValue(this.id,t,i)})}getEditable(){return!0}getValue(n){return pe(this,null,function*(){let e=EU(n);return yield this.table.getCellValue(this.id,e)})}createCell(n){return pe(this,null,function*(){let e=yield this.transform(n);return new Ry(this.table,this,e,this.getEditable())})}getCell(n){return pe(this,null,function*(){let e=qr(n)?n:n.id,t=yield this.table.getCellValue(this.id,e),i=new TU(this.table,e);return new Ry(this.table,this,t,this.getEditable(),i)})}getFieldValueList(n,e){return pe(this,null,function*(){return(yield this.getFieldValueListByPage({pageToken:0,filter:n,sort:e})).fieldValues.map(t=>({record_id:t.recordId,value:t.value})).filter(({value:t})=>t!==null)})}getFieldValueListByPage(n){return pe(this,null,function*(){let e=yield this.table.getRecordsByPage(n),{records:t}=e,i=t.map(r=>{let s=r.fields[this.id];return{recordId:r.recordId,value:s}});return{total:e.total,hasMore:e.hasMore,pageToken:e.pageToken,fieldValues:i}})}getReverseDependencyFields(){return pe(this,null,function*(){let n=yield this.getReverseDependency();return Promise.all(n.map(e=>pe(this,[e],function*({tableId:t,fieldId:i}){return(yield this.base.getTableById(t)).getFieldById(i)})))})}},s9=class{static registerField(n,e){this.fieldMap.has(n)&&console.error("Field Manager Register Repeat Field",n,e),this.fieldMap.set(n,e)}static getFieldCtor(n){let e=this.fieldMap.get(n)||AU;if(!e)throw console.error("Field Manager Get Field Not Found",n),new Error("Field Manager Get Field Not Found");return e}};s9.fieldMap=new Map;function rs(n){return function(e){s9.registerField(n,e)}}var AU=class extends Hs{constructor(){super(...arguments),this.type=vn.NotSupport}transform(n){return n}};AU=Le([rs(vn.NotSupport)],AU);var Dl=class extends Ky{getModuleName(){return"WidgetBase"}isTableExist(n){return pe(this,null,function*(){throw new Xe})}addTable(n){throw new Xe}setTable(n,e){throw new Xe}deleteTable(n){throw new Xe}getTableMetaById(n){throw new Xe}getTableMetaList(){throw new Xe}getTableIdByName(n){throw new Xe}isEditable(){throw new Xe}getBasePermission(n){throw new Xe}getPermission(n){throw new Xe}registerBaseEvent(n){return pe(this,null,function*(){throw new Xe})}unregisterBaseEvent(n){return pe(this,null,function*(){throw new Xe})}getSelection(){throw new Xe}uploadFile(n){throw new Xe}batchUploadFile(n){throw new Xe}on(n,e){this.eventRefCount.add(jne(n),e,()=>this.registerBaseEvent(n))}off(n,e){this.eventRefCount.del(jne(n),e,()=>this.unregisterBaseEvent(n))}bind(n,e){return this.on(n,e),()=>this.off(n,e)}getBaseName(){throw new Xe}};Le([Ke(5,10)],Dl.prototype,"isTableExist",1),Le([Ke()],Dl.prototype,"addTable",1),Le([Ke()],Dl.prototype,"setTable",1),Le([Ke()],Dl.prototype,"deleteTable",1),Le([Ke()],Dl.prototype,"getTableMetaById",1),Le([Ke()],Dl.prototype,"getTableMetaList",1),Le([Ke()],Dl.prototype,"getTableIdByName",1),Le([Ke()],Dl.prototype,"isEditable",1),Le([Ke()],Dl.prototype,"getBasePermission",1),Le([Ke()],Dl.prototype,"getPermission",1),Le([Ke()],Dl.prototype,"registerBaseEvent",1),Le([Ke()],Dl.prototype,"unregisterBaseEvent",1),Le([Ke()],Dl.prototype,"getSelection",1),Le([Ke()],Dl.prototype,"uploadFile",1),Le([Ke()],Dl.prototype,"batchUploadFile",1);var cbe=class extends Dl{constructor(n,e){super(n),this.tableMapCache=new Map,this._token=e}get token(){return this._token}getTableIdList(){return pe(this,null,function*(){return(yield this.getTableMetaList()).map(n=>n.id)})}getTableList(){return pe(this,null,function*(){let n=yield this.getTableMetaList();return Promise.all(n.map(e=>this._getTable(e.id)))})}getTableByName(n){return pe(this,null,function*(){let e=yield this.getTableIdByName(n);if(!e)throw new dR;return yield this.getTableById(e)})}getTableById(n){return pe(this,null,function*(){if(!(yield this.isTableExist(n)))throw new dR;return this._getTable(n)})}_getTable(n){return pe(this,null,function*(){if(!(yield this.isTableExist(n)))throw new dR;if(this.tableMapCache.has(n))return this.tableMapCache.get(n);let e=new tb(this,this.client).withContext([n,this.token]);return this.tableMapCache.set(n,e),e})}getActiveTable(){return pe(this,null,function*(){let{tableId:n}=yield this.getSelection();if(!n)throw new dR;return yield this.getTableById(n)})}getTable(n){return pe(this,null,function*(){return yield Promise.any([this.getTableByName(n),this.getTableById(n)])})}onTableAdd(n){return this.bind(px.TableAdd,n)}onTableDelete(n){return this.bind(px.TableDelete,n)}onSelectionChange(n){return this.bind(px.SelectionChange,n)}onPermissionChange(n){return this.bind(px.PermissionChange,n)}onUploadStatusChange(n){return this.bind(px.UploadStatusChange,n)}},Zne=5,tb=class extends Ri{constructor(n,e){super(e),this.base=n,this.viewCache=new Map,this.fieldCache=new Map}_getField(n,e){return pe(this,null,function*(){if(!(yield this.isFieldExist(n)))throw new Xne;let[t]=this.getContext();if(this.fieldCache.has(n))return this.fieldCache.get(n);let i=yield this.getFieldMetaById(n),r=e??i.type,s=s9.getFieldCtor(r),a=new s(this.base,this,this.client).withContext([t,n,this.base.token]);return this.fieldCache.set(n,a),a})}getRecordList(n,e){return pe(this,null,function*(){return(yield this.getRecordListByPage({pageToken:0})).records})}getRecordListByPage(n){return pe(this,null,function*(){try{let e=yield this.getRecordsByPage(n),t=new W5e(this,e.records);return{pageToken:e.pageToken,hasMore:e.hasMore,total:e.total,records:t}}catch(e){console.error(e)}})}getFieldListByType(n){return pe(this,null,function*(){let e=yield this.getFieldMetaList(),t=[];for(let i of e)n===i.type&&t.push(this._getField(i.id,n));return yield Promise.all(t)})}getFieldByName(n){return pe(this,null,function*(){let e=yield this.getFieldIdByName(n);return this.getFieldById(e)})}getField(n){return pe(this,null,function*(){return yield Promise.any([this.getFieldById(n),this.getFieldByName(n)])})}getFieldById(n){return pe(this,null,function*(){if(yield this.isFieldExist(n))return this._getField(n);throw new Xne})}getFieldMetaListByType(n){return pe(this,null,function*(){return(yield this.getFieldMetaList()).filter(e=>e.type===n)})}getFieldList(){return pe(this,null,function*(){let n=yield this.getFieldMetaList(),e=[];for(let t of n)e.push(this._getField(t.id,t.type));return yield Promise.all(e)})}getViewById(n){return pe(this,null,function*(){if(!(yield this.isViewExist(n)))throw new qne;return yield this._getView(n)})}getActiveView(){return pe(this,null,function*(){let{viewId:n}=yield this.base.getSelection();return yield this.getViewById(n)})}_getView(n){return pe(this,null,function*(){if(!(yield this.isViewExist(n)))throw new qne;let[e]=this.getContext();if(this.viewCache.has(n))return this.viewCache.get(n);let{type:t}=yield this.getViewMetaById(n),i=r9.getInstance().getViewCtor(t),r=new N5e().withContext([e,n,this.base.token]),s=new j5e().withContext([e,n,this.base.token]),a=new z5e().withContext([e,n,this.base.token]),o=new i(this,this.client,{filter:r,group:s,sort:a}).withContext([e,n,this.base.token]);return this.viewCache.set(n,o),o})}getViewList(){return pe(this,null,function*(){let n=yield this.getViewMetaList(),e=[];for(let t of n)e.push(this._getView(t.id));return yield Promise.all(e)})}_transformCellToRecordVal(n){return pe(this,null,function*(){let e={fields:{}};for(let t of n)t.editable&&(e.fields[t.getFieldId()]=yield t.getValue());return e})}addRecordByCell(n){return pe(this,null,function*(){let e=yield this._transformCellToRecordVal(n),t=yield J_(tb.prototype,this,"addRecord").call(this,e);for(let i of n)i.mountRecord(new TU(this,t));return t})}addRecordsByCell(n){return pe(this,null,function*(){let e=[];for(let i of n)e.push(yield this._transformCellToRecordVal(i));let t=yield J_(tb.prototype,this,"addRecords").call(this,e);for(let[i,r]of n.entries())for(let s of r)s.mountRecord(new TU(this,t[i]));return t})}addRecord(n){return pe(this,null,function*(){return Array.isArray(n)?this.addRecordByCell(n):n instanceof Ry?this.addRecordByCell([n]):J_(tb.prototype,this,"addRecord").call(this,n)})}addRecords(n){return pe(this,null,function*(){return Array.isArray(n[0])?yield this.addRecordsByCell(n):n[0]instanceof Ry?yield this.addRecordsByCell([n]):yield J_(tb.prototype,this,"addRecords").call(this,n)})}deleteField(n){return pe(this,null,function*(){let e=qr(n)?n:n.id;return yield J_(tb.prototype,this,"deleteField").call(this,e)})}getFieldIdList(){return pe(this,null,function*(){return(yield this.getFieldMetaList()).map(n=>n.id)})}onFieldAdd(n){return this.bind(eb.FieldAdd,n)}onFieldDelete(n){return this.bind(eb.FieldDelete,n)}onFieldModify(n){return this.bind(eb.FieldModify,n)}onRecordAdd(n){return this.bind(eb.RecordAdd,n)}onRecordDelete(n){return this.bind(eb.RecordDelete,n)}onRecordModify(n){return this.bind(eb.RecordModify,n)}getCellAttachmentUrls(n,e,t){return pe(this,null,function*(){let i=[];for(let r=0;r<n.length;r+=Zne){let s=n.slice(r,r+Zne),a=yield J_(tb.prototype,this,"getCellAttachmentUrls").call(this,s,e,t);i.push(...a)}return i})}},kU=class extends Ky{getModuleName(){return"WidgetWorkspace"}getBaseList(n){return pe(this,null,function*(){throw new Xe})}getBitableReady(n){return pe(this,null,function*(){throw new Xe})}};Le([Ke(5,10)],kU.prototype,"getBaseList",1),Le([Ke()],kU.prototype,"getBitableReady",1);var Y5e=class extends kU{constructor(n){super(n),this.client=n,this.bitableContextCache=new Map}getBitable(n){return pe(this,null,function*(){if(!this.bitableContextCache.has(n)){if(!(yield this.getBitableReady(n)))return null;let e=this.genBitable(n);this.bitableContextCache.set(n,e)}return this.bitableContextCache.get(n)})}},jg=class extends M0{getSelectedRecordIdList(){return pe(this,null,function*(){throw new Xe})}getFieldWidth(n){return pe(this,null,function*(){throw new Xe})}setFieldWidth(n,e){return pe(this,null,function*(){throw new Xe})}getRowHeight(){return pe(this,null,function*(){throw new Xe})}setRowHeight(n){return pe(this,null,function*(){throw new Xe})}getChildRecordIdList(n){return pe(this,null,function*(){var e;let t=yield this.getChildRecordIdListByPage({pageToken:0,parentRecordId:n});return(e=t==null?void 0:t.recordIds)!=null?e:void 0})}getChildRecordIdListByPage(n){return pe(this,null,function*(){throw new Xe})}getSortInfo(){return this.dep.sort.getSortInfo()}setSortInfo(n){return this.dep.sort.setSortInfo(n)}deleteSort(n){return this.dep.sort.deleteSort(n)}addSort(n){return this.dep.sort.addSort(n)}updateSort(n){return this.dep.sort.updateSort(n)}setAutoSort(n){return this.dep.sort.setAutoSort(n)}getFilterInfo(){return this.dep.filter.getFilterInfo()}setFilter(n,e){return this.dep.filter.setFilter(n,e)}setFilterConjunction(n){return this.dep.filter.setFilterConjunction(n)}addFilterCondition(n){return this.dep.filter.addFilterCondition(n)}deleteFilterCondition(n){return this.dep.filter.deleteFilterCondition(n)}updateFilterCondition(n){return this.dep.filter.updateFilterCondition(n)}addGroup(n){return this.dep.group.addGroup(n)}deleteGroup(n){return this.dep.group.deleteGroup(n)}updateGroup(n){return this.dep.group.updateGroup(n)}getGroupInfo(){return this.dep.group.getGroupInfo()}setGroupInfo(n){return this.dep.group.setGroupInfo(n)}};Le([Ke()],jg.prototype,"getSelectedRecordIdList",1),Le([Ke()],jg.prototype,"getFieldWidth",1),Le([Ke()],jg.prototype,"setFieldWidth",1),Le([Ke()],jg.prototype,"getRowHeight",1),Le([Ke()],jg.prototype,"setRowHeight",1),Le([Ke()],jg.prototype,"getChildRecordIdListByPage",1),jg=Le([I0(Um.Grid)],jg);var OU=class extends M0{getFilterInfo(){return this.dep.filter.getFilterInfo()}setFilter(n,e){return this.dep.filter.setFilter(n,e)}setFilterConjunction(n){return this.dep.filter.setFilterConjunction(n)}addFilterCondition(n){return this.dep.filter.addFilterCondition(n)}deleteFilterCondition(n){return this.dep.filter.deleteFilterCondition(n)}updateFilterCondition(n){return this.dep.filter.updateFilterCondition(n)}getSortInfo(){return this.dep.sort.getSortInfo()}setSortInfo(n){return this.dep.sort.setSortInfo(n)}deleteSort(n){return this.dep.sort.deleteSort(n)}addSort(n){return this.dep.sort.addSort(n)}updateSort(n){return this.dep.sort.updateSort(n)}setAutoSort(n){return this.dep.sort.setAutoSort(n)}};OU=Le([I0(Um.Kanban)],OU);var PU=class extends M0{getFilterInfo(){return this.dep.filter.getFilterInfo()}setFilter(n,e){return this.dep.filter.setFilter(n,e)}setFilterConjunction(n){return this.dep.filter.setFilterConjunction(n)}addFilterCondition(n){return this.dep.filter.addFilterCondition(n)}deleteFilterCondition(n){return this.dep.filter.deleteFilterCondition(n)}updateFilterCondition(n){return this.dep.filter.updateFilterCondition(n)}};PU=Le([I0(Um.Calendar)],PU);var MU=class extends M0{};MU=Le([I0(Um.Form)],MU);var IU=class extends M0{getFilterInfo(){return this.dep.filter.getFilterInfo()}setFilter(n,e){return this.dep.filter.setFilter(n,e)}setFilterConjunction(n){return this.dep.filter.setFilterConjunction(n)}addFilterCondition(n){return this.dep.filter.addFilterCondition(n)}deleteFilterCondition(n){return this.dep.filter.deleteFilterCondition(n)}updateFilterCondition(n){return this.dep.filter.updateFilterCondition(n)}getSortInfo(){return this.dep.sort.getSortInfo()}setSortInfo(n){return this.dep.sort.setSortInfo(n)}deleteSort(n){return this.dep.sort.deleteSort(n)}addSort(n){return this.dep.sort.addSort(n)}updateSort(n){return this.dep.sort.updateSort(n)}setAutoSort(n){return this.dep.sort.setAutoSort(n)}};IU=Le([I0(Um.Gallery)],IU);var RU=class extends M0{getFilterInfo(){return this.dep.filter.getFilterInfo()}setFilter(n,e){return this.dep.filter.setFilter(n,e)}setFilterConjunction(n){return this.dep.filter.setFilterConjunction(n)}addFilterCondition(n){return this.dep.filter.addFilterCondition(n)}deleteFilterCondition(n){return this.dep.filter.deleteFilterCondition(n)}updateFilterCondition(n){return this.dep.filter.updateFilterCondition(n)}getSortInfo(){return this.dep.sort.getSortInfo()}setSortInfo(n){return this.dep.sort.setSortInfo(n)}deleteSort(n){return this.dep.sort.deleteSort(n)}addSort(n){return this.dep.sort.addSort(n)}updateSort(n){return this.dep.sort.updateSort(n)}setAutoSort(n){return this.dep.sort.setAutoSort(n)}addGroup(n){return this.dep.group.addGroup(n)}deleteGroup(n){return this.dep.group.deleteGroup(n)}updateGroup(n){return this.dep.group.updateGroup(n)}getGroupInfo(){return this.dep.group.getGroupInfo()}setGroupInfo(n){return this.dep.group.setGroupInfo(n)}};RU=Le([I0(Um.Gantt)],RU);var K5e={};nje(K5e,{isCalendarView:()=>q5e,isFormView:()=>eVe,isGalleryView:()=>Q5e,isGanttView:()=>J5e,isGridView:()=>X5e,isKabanView:()=>Z5e});function X5e(n){return n instanceof jg}function q5e(n){return n instanceof PU}function Z5e(n){return n instanceof OU}function Q5e(n){return n instanceof IU}function J5e(n){return n instanceof RU}function eVe(n){return n instanceof MU}var tVe=class{_getTableCacheId(n){return"table:"+n}_getViewCacheId(n,e){return"view:"+n+"-"+e}_getFieldCacheId(n,e){return"field:"+n+"-"+e}constructor(n){this.bitable=n,this.cache=new Map}getTable(n,e){let t=this._getTableCacheId(n);return(e||!this.cache.has(t))&&this.cache.set(t,this.bitable.base.getTableById(n).catch(()=>null)),this.cache.get(t)}getView(n,e,t){return pe(this,null,function*(){let i=this._getViewCacheId(n,e);if(t||!this.cache.has(i)){let r=yield this.getTable(e);this.cache.set(i,r.getViewById(n).catch(()=>null))}return this.cache.get(i)})}getField(n,e,t){return pe(this,null,function*(){let i=this._getFieldCacheId(n,e);if(t||!this.cache.has(i)){let r=yield this.getTable(e);this.cache.set(i,r.getFieldById(n).catch(()=>null))}return this.cache.get(i)})}};function hR(n){let{mode:e,multiple:t,tags:i}=n;return e??i?"tags":t?"multiple":void 0}function nVe(n,e,t){let i=t.value;return t.value=function(...r){let s=i.apply(this,r);return typeof s.default=="object"?s.default:s},t}var zt=Wn((n,e)=>{(function(){var t={}.hasOwnProperty;function i(){for(var a="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(a=s(a,r(l)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return i.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var o="";for(var l in a)t.call(a,l)&&a[l]&&(o=s(o,l));return o}function s(a,o){return o?a?a+" "+o:a+o:a}typeof e<"u"&&e.exports?(i.default=i,e.exports=i):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return i}):window.classNames=i})()}),iVe=Wn(n=>{function e(N,V){var H=N.length;N.push(V);e:for(;0<H;){var K=H-1>>>1,U=N[K];if(0<r(U,V))N[K]=V,N[H]=U,H=K;else break e}}function t(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var V=N[0],H=N.pop();if(H!==V){N[0]=H;e:for(var K=0,U=N.length,X=U>>>1;K<X;){var Z=2*(K+1)-1,Q=N[Z],se=Z+1,ae=N[se];if(0>r(Q,H))se<U&&0>r(ae,Q)?(N[K]=ae,N[se]=H,K=se):(N[K]=Q,N[Z]=H,K=Z);else if(se<U&&0>r(ae,H))N[K]=ae,N[se]=H,K=se;else break e}}return V}function r(N,V){var H=N.sortIndex-V.sortIndex;return H!==0?H:N.id-V.id}typeof performance=="object"&&typeof performance.now=="function"?(s=performance,n.unstable_now=function(){return s.now()}):(a=Date,o=a.now(),n.unstable_now=function(){return a.now()-o});var s,a,o,l=[],u=[],c=1,d=null,h=3,f=!1,p=!1,g=!1,m=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(N){for(var V=t(u);V!==null;){if(V.callback===null)i(u);else if(V.startTime<=N)i(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=t(u)}}function x(N){if(g=!1,y(N),!p)if(t(l)!==null)p=!0,$(w);else{var V=t(u);V!==null&&z(x,V.startTime-N)}}function w(N,V){p=!1,g&&(g=!1,v(A),A=-1),f=!0;var H=h;try{for(y(V),d=t(l);d!==null&&(!(d.expirationTime>V)||N&&!I());){var K=d.callback;if(typeof K=="function"){d.callback=null,h=d.priorityLevel;var U=K(d.expirationTime<=V);V=n.unstable_now(),typeof U=="function"?d.callback=U:d===t(l)&&i(l),y(V)}else i(l);d=t(l)}if(d!==null)var X=!0;else{var Z=t(u);Z!==null&&z(x,Z.startTime-V),X=!1}return X}finally{d=null,h=H,f=!1}}var T=!1,E=null,A=-1,k=5,P=-1;function I(){return!(n.unstable_now()-P<k)}function D(){if(E!==null){var N=n.unstable_now();P=N;var V=!0;try{V=E(!0,N)}finally{V?L():(T=!1,E=null)}}else T=!1}var L;typeof _=="function"?L=function(){_(D)}:typeof MessageChannel<"u"?(B=new MessageChannel,F=B.port2,B.port1.onmessage=D,L=function(){F.postMessage(null)}):L=function(){m(D,0)};var B,F;function $(N){E=N,T||(T=!0,L())}function z(N,V){A=m(function(){N(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){p||f||(p=!0,$(w))},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(N){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var H=h;h=V;try{return N()}finally{h=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(N,V){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var H=h;h=N;try{return V()}finally{h=H}},n.unstable_scheduleCallback=function(N,V,H){var K=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?K+H:K):H=K,N){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=H+U,N={id:c++,callback:V,priorityLevel:N,startTime:H,expirationTime:U,sortIndex:-1},H>K?(N.sortIndex=H,e(u,N),t(l)===null&&N===t(u)&&(g?(v(A),A=-1):g=!0,z(x,H-K))):(N.sortIndex=U,e(l,N),p||f||(p=!0,$(w))),N},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(N){var V=h;return function(){var H=h;h=V;try{return N.apply(this,arguments)}finally{h=H}}}}),rVe=Wn((n,e)=>{e.exports=iVe()}),sVe=Wn(n=>{var e=de(),t=rVe();function i(b){for(var C="https://reactjs.org/docs/error-decoder.html?invariant="+b,O=1;O<arguments.length;O++)C+="&args[]="+encodeURIComponent(arguments[O]);return"Minified React error #"+b+"; visit "+C+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(b,C){o(b,C),o(b+"Capture",C)}function o(b,C){for(s[b]=C,b=0;b<C.length;b++)r.add(C[b])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},h={};function f(b){return u.call(h,b)?!0:u.call(d,b)?!1:c.test(b)?h[b]=!0:(d[b]=!0,!1)}function p(b,C,O,R){if(O!==null&&O.type===0)return!1;switch(typeof C){case"function":case"symbol":return!0;case"boolean":return R?!1:O!==null?!O.acceptsBooleans:(b=b.toLowerCase().slice(0,5),b!=="data-"&&b!=="aria-");default:return!1}}function g(b,C,O,R){if(C===null||typeof C>"u"||p(b,C,O,R))return!0;if(R)return!1;if(O!==null)switch(O.type){case 3:return!C;case 4:return C===!1;case 5:return isNaN(C);case 6:return isNaN(C)||1>C}return!1}function m(b,C,O,R,j,W,ee){this.acceptsBooleans=C===2||C===3||C===4,this.attributeName=R,this.attributeNamespace=j,this.mustUseProperty=O,this.propertyName=b,this.type=C,this.sanitizeURL=W,this.removeEmptyString=ee}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(b){v[b]=new m(b,0,!1,b,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(b){var C=b[0];v[C]=new m(C,1,!1,b[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(b){v[b]=new m(b,2,!1,b.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(b){v[b]=new m(b,2,!1,b,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(b){v[b]=new m(b,3,!1,b.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(b){v[b]=new m(b,3,!0,b,null,!1,!1)}),["capture","download"].forEach(function(b){v[b]=new m(b,4,!1,b,null,!1,!1)}),["cols","rows","size","span"].forEach(function(b){v[b]=new m(b,6,!1,b,null,!1,!1)}),["rowSpan","start"].forEach(function(b){v[b]=new m(b,5,!1,b.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function y(b){return b[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(b){var C=b.replace(_,y);v[C]=new m(C,1,!1,b,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(b){var C=b.replace(_,y);v[C]=new m(C,1,!1,b,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(b){var C=b.replace(_,y);v[C]=new m(C,1,!1,b,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(b){v[b]=new m(b,1,!1,b.toLowerCase(),null,!1,!1)}),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(b){v[b]=new m(b,1,!1,b.toLowerCase(),null,!0,!0)});function x(b,C,O,R){var j=v.hasOwnProperty(C)?v[C]:null;(j!==null?j.type!==0:R||!(2<C.length)||C[0]!=="o"&&C[0]!=="O"||C[1]!=="n"&&C[1]!=="N")&&(g(C,O,j,R)&&(O=null),R||j===null?f(C)&&(O===null?b.removeAttribute(C):b.setAttribute(C,""+O)):j.mustUseProperty?b[j.propertyName]=O===null?j.type===3?!1:"":O:(C=j.attributeName,R=j.attributeNamespace,O===null?b.removeAttribute(C):(j=j.type,O=j===3||j===4&&O===!0?"":""+O,R?b.setAttributeNS(R,C,O):b.setAttribute(C,O))))}var w=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),D=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),N=Symbol.for("react.offscreen"),V=Symbol.iterator;function H(b){return b===null||typeof b!="object"?null:(b=V&&b[V]||b["@@iterator"],typeof b=="function"?b:null)}var K=Object.assign,U;function X(b){if(U===void 0)try{throw Error()}catch(O){var C=O.stack.trim().match(/\n( *(at )?)/);U=C&&C[1]||""}return`
`+U+b}var Z=!1;function Q(b,C){if(!b||Z)return"";Z=!0;var O=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(C)if(C=function(){throw Error()},Object.defineProperty(C.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(C,[])}catch(Ne){var R=Ne}Reflect.construct(b,[],C)}else{try{C.call()}catch(Ne){R=Ne}b.call(C.prototype)}else{try{throw Error()}catch(Ne){R=Ne}b()}}catch(Ne){if(Ne&&R&&typeof Ne.stack=="string"){for(var j=Ne.stack.split(`
`),W=R.stack.split(`
`),ee=j.length-1,he=W.length-1;1<=ee&&0<=he&&j[ee]!==W[he];)he--;for(;1<=ee&&0<=he;ee--,he--)if(j[ee]!==W[he]){if(ee!==1||he!==1)do if(ee--,he--,0>he||j[ee]!==W[he]){var we=`
`+j[ee].replace(" at new "," at ");return b.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",b.displayName)),we}while(1<=ee&&0<=he);break}}}finally{Z=!1,Error.prepareStackTrace=O}return(b=b?b.displayName||b.name:"")?X(b):""}function se(b){switch(b.tag){case 5:return X(b.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return b=Q(b.type,!1),b;case 11:return b=Q(b.type.render,!1),b;case 1:return b=Q(b.type,!0),b;default:return""}}function ae(b){if(b==null)return null;if(typeof b=="function")return b.displayName||b.name||null;if(typeof b=="string")return b;switch(b){case A:return"Fragment";case E:return"Portal";case P:return"Profiler";case k:return"StrictMode";case B:return"Suspense";case F:return"SuspenseList"}if(typeof b=="object")switch(b.$$typeof){case D:return(b.displayName||"Context")+".Consumer";case I:return(b._context.displayName||"Context")+".Provider";case L:var C=b.render;return b=b.displayName,b||(b=C.displayName||C.name||"",b=b!==""?"ForwardRef("+b+")":"ForwardRef"),b;case $:return C=b.displayName||null,C!==null?C:ae(b.type)||"Memo";case z:C=b._payload,b=b._init;try{return ae(b(C))}catch{}}return null}function ue(b){var C=b.type;switch(b.tag){case 24:return"Cache";case 9:return(C.displayName||"Context")+".Consumer";case 10:return(C._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return b=C.render,b=b.displayName||b.name||"",C.displayName||(b!==""?"ForwardRef("+b+")":"ForwardRef");case 7:return"Fragment";case 5:return C;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(C);case 8:return C===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof C=="function")return C.displayName||C.name||null;if(typeof C=="string")return C}return null}function oe(b){switch(typeof b){case"boolean":case"number":case"string":case"undefined":return b;case"object":return b;default:return""}}function re(b){var C=b.type;return(b=b.nodeName)&&b.toLowerCase()==="input"&&(C==="checkbox"||C==="radio")}function fe(b){var C=re(b)?"checked":"value",O=Object.getOwnPropertyDescriptor(b.constructor.prototype,C),R=""+b[C];if(!b.hasOwnProperty(C)&&typeof O<"u"&&typeof O.get=="function"&&typeof O.set=="function"){var j=O.get,W=O.set;return Object.defineProperty(b,C,{configurable:!0,get:function(){return j.call(this)},set:function(ee){R=""+ee,W.call(this,ee)}}),Object.defineProperty(b,C,{enumerable:O.enumerable}),{getValue:function(){return R},setValue:function(ee){R=""+ee},stopTracking:function(){b._valueTracker=null,delete b[C]}}}}function ve(b){b._valueTracker||(b._valueTracker=fe(b))}function xe(b){if(!b)return!1;var C=b._valueTracker;if(!C)return!0;var O=C.getValue(),R="";return b&&(R=re(b)?b.checked?"true":"false":b.value),b=R,b!==O?(C.setValue(b),!0):!1}function ye(b){if(b=b||(typeof document<"u"?document:void 0),typeof b>"u")return null;try{return b.activeElement||b.body}catch{return b.body}}function Ee(b,C){var O=C.checked;return K({},C,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:O??b._wrapperState.initialChecked})}function Se(b,C){var O=C.defaultValue==null?"":C.defaultValue,R=C.checked!=null?C.checked:C.defaultChecked;O=oe(C.value!=null?C.value:O),b._wrapperState={initialChecked:R,initialValue:O,controlled:C.type==="checkbox"||C.type==="radio"?C.checked!=null:C.value!=null}}function Fe(b,C){C=C.checked,C!=null&&x(b,"checked",C,!1)}function Ge(b,C){Fe(b,C);var O=oe(C.value),R=C.type;if(O!=null)R==="number"?(O===0&&b.value===""||b.value!=O)&&(b.value=""+O):b.value!==""+O&&(b.value=""+O);else if(R==="submit"||R==="reset"){b.removeAttribute("value");return}C.hasOwnProperty("value")?je(b,C.type,O):C.hasOwnProperty("defaultValue")&&je(b,C.type,oe(C.defaultValue)),C.checked==null&&C.defaultChecked!=null&&(b.defaultChecked=!!C.defaultChecked)}function Pe(b,C,O){if(C.hasOwnProperty("value")||C.hasOwnProperty("defaultValue")){var R=C.type;if(!(R!=="submit"&&R!=="reset"||C.value!==void 0&&C.value!==null))return;C=""+b._wrapperState.initialValue,O||C===b.value||(b.value=C),b.defaultValue=C}O=b.name,O!==""&&(b.name=""),b.defaultChecked=!!b._wrapperState.initialChecked,O!==""&&(b.name=O)}function je(b,C,O){(C!=="number"||ye(b.ownerDocument)!==b)&&(O==null?b.defaultValue=""+b._wrapperState.initialValue:b.defaultValue!==""+O&&(b.defaultValue=""+O))}var qe=Array.isArray;function ot(b,C,O,R){if(b=b.options,C){C={};for(var j=0;j<O.length;j++)C["$"+O[j]]=!0;for(O=0;O<b.length;O++)j=C.hasOwnProperty("$"+b[O].value),b[O].selected!==j&&(b[O].selected=j),j&&R&&(b[O].defaultSelected=!0)}else{for(O=""+oe(O),C=null,j=0;j<b.length;j++){if(b[j].value===O){b[j].selected=!0,R&&(b[j].defaultSelected=!0);return}C!==null||b[j].disabled||(C=b[j])}C!==null&&(C.selected=!0)}}function $e(b,C){if(C.dangerouslySetInnerHTML!=null)throw Error(i(91));return K({},C,{value:void 0,defaultValue:void 0,children:""+b._wrapperState.initialValue})}function et(b,C){var O=C.value;if(O==null){if(O=C.children,C=C.defaultValue,O!=null){if(C!=null)throw Error(i(92));if(qe(O)){if(1<O.length)throw Error(i(93));O=O[0]}C=O}C==null&&(C=""),O=C}b._wrapperState={initialValue:oe(O)}}function Mt(b,C){var O=oe(C.value),R=oe(C.defaultValue);O!=null&&(O=""+O,O!==b.value&&(b.value=O),C.defaultValue==null&&b.defaultValue!==O&&(b.defaultValue=O)),R!=null&&(b.defaultValue=""+R)}function Ct(b){var C=b.textContent;C===b._wrapperState.initialValue&&C!==""&&C!==null&&(b.value=C)}function tt(b){switch(b){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xt(b,C){return b==null||b==="http://www.w3.org/1999/xhtml"?tt(C):b==="http://www.w3.org/2000/svg"&&C==="foreignObject"?"http://www.w3.org/1999/xhtml":b}var dt,bt=function(b){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(C,O,R,j){MSApp.execUnsafeLocalFunction(function(){return b(C,O,R,j)})}:b}(function(b,C){if(b.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in b)b.innerHTML=C;else{for(dt=dt||document.createElement("div"),dt.innerHTML="<svg>"+C.valueOf().toString()+"</svg>",C=dt.firstChild;b.firstChild;)b.removeChild(b.firstChild);for(;C.firstChild;)b.appendChild(C.firstChild)}});function rt(b,C){if(C){var O=b.firstChild;if(O&&O===b.lastChild&&O.nodeType===3){O.nodeValue=C;return}}b.textContent=C}var Dt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Je=["Webkit","ms","Moz","O"];Object.keys(Dt).forEach(function(b){Je.forEach(function(C){C=C+b.charAt(0).toUpperCase()+b.substring(1),Dt[C]=Dt[b]})});function At(b,C,O){return C==null||typeof C=="boolean"||C===""?"":O||typeof C!="number"||C===0||Dt.hasOwnProperty(b)&&Dt[b]?(""+C).trim():C+"px"}function Ft(b,C){b=b.style;for(var O in C)if(C.hasOwnProperty(O)){var R=O.indexOf("--")===0,j=At(O,C[O],R);O==="float"&&(O="cssFloat"),R?b.setProperty(O,j):b[O]=j}}var on=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wt(b,C){if(C){if(on[b]&&(C.children!=null||C.dangerouslySetInnerHTML!=null))throw Error(i(137,b));if(C.dangerouslySetInnerHTML!=null){if(C.children!=null)throw Error(i(60));if(typeof C.dangerouslySetInnerHTML!="object"||!("__html"in C.dangerouslySetInnerHTML))throw Error(i(61))}if(C.style!=null&&typeof C.style!="object")throw Error(i(62))}}function Cn(b,C){if(b.indexOf("-")===-1)return typeof C.is=="string";switch(b){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gn=null;function Ln(b){return b=b.target||b.srcElement||window,b.correspondingUseElement&&(b=b.correspondingUseElement),b.nodeType===3?b.parentNode:b}var gi=null,ut=null,gt=null;function ct(b){if(b=hT(b)){if(typeof gi!="function")throw Error(i(280));var C=b.stateNode;C&&(C=lI(C),gi(b.stateNode,b.type,C))}}function en(b){ut?gt?gt.push(b):gt=[b]:ut=b}function Bt(){if(ut){var b=ut,C=gt;if(gt=ut=null,ct(b),C)for(b=0;b<C.length;b++)ct(C[b])}}function Qt(b,C){return b(C)}function kn(){}var jt=!1;function Ht(b,C,O){if(jt)return b(C,O);jt=!0;try{return Qt(b,C,O)}finally{jt=!1,(ut!==null||gt!==null)&&(kn(),Bt())}}function kt(b,C){var O=b.stateNode;if(O===null)return null;var R=lI(O);if(R===null)return null;O=R[C];e:switch(C){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(R=!R.disabled)||(b=b.type,R=!(b==="button"||b==="input"||b==="select"||b==="textarea")),b=!R;break e;default:b=!1}if(b)return null;if(O&&typeof O!="function")throw Error(i(231,C,typeof O));return O}var Ze=!1;if(l)try{Ue={},Object.defineProperty(Ue,"passive",{get:function(){Ze=!0}}),window.addEventListener("test",Ue,Ue),window.removeEventListener("test",Ue,Ue)}catch{Ze=!1}var Ue;function ze(b,C,O,R,j,W,ee,he,we){var Ne=Array.prototype.slice.call(arguments,3);try{C.apply(O,Ne)}catch(ft){this.onError(ft)}}var it=!1,St=null,Tt=!1,$n=null,bi={onError:function(b){it=!0,St=b}};function ti(b,C,O,R,j,W,ee,he,we){it=!1,St=null,ze.apply(bi,arguments)}function Si(b,C,O,R,j,W,ee,he,we){if(ti.apply(this,arguments),it){if(it){var Ne=St;it=!1,St=null}else throw Error(i(198));Tt||(Tt=!0,$n=Ne)}}function Bi(b){var C=b,O=b;if(b.alternate)for(;C.return;)C=C.return;else{b=C;do C=b,C.flags&4098&&(O=C.return),b=C.return;while(b)}return C.tag===3?O:null}function wr(b){if(b.tag===13){var C=b.memoizedState;if(C===null&&(b=b.alternate,b!==null&&(C=b.memoizedState)),C!==null)return C.dehydrated}return null}function as(b){if(Bi(b)!==b)throw Error(i(188))}function vs(b){var C=b.alternate;if(!C){if(C=Bi(b),C===null)throw Error(i(188));return C!==b?null:b}for(var O=b,R=C;;){var j=O.return;if(j===null)break;var W=j.alternate;if(W===null){if(R=j.return,R!==null){O=R;continue}break}if(j.child===W.child){for(W=j.child;W;){if(W===O)return as(j),b;if(W===R)return as(j),C;W=W.sibling}throw Error(i(188))}if(O.return!==R.return)O=j,R=W;else{for(var ee=!1,he=j.child;he;){if(he===O){ee=!0,O=j,R=W;break}if(he===R){ee=!0,R=j,O=W;break}he=he.sibling}if(!ee){for(he=W.child;he;){if(he===O){ee=!0,O=W,R=j;break}if(he===R){ee=!0,R=W,O=j;break}he=he.sibling}if(!ee)throw Error(i(189))}}if(O.alternate!==R)throw Error(i(190))}if(O.tag!==3)throw Error(i(188));return O.stateNode.current===O?b:C}function es(b){return b=vs(b),b!==null?Sl(b):null}function Sl(b){if(b.tag===5||b.tag===6)return b;for(b=b.child;b!==null;){var C=Sl(b);if(C!==null)return C;b=b.sibling}return null}var yt=t.unstable_scheduleCallback,Yt=t.unstable_cancelCallback,ci=t.unstable_shouldYield,tr=t.unstable_requestPaint,Sn=t.unstable_now,eu=t.unstable_getCurrentPriorityLevel,ao=t.unstable_ImmediatePriority,tu=t.unstable_UserBlockingPriority,xl=t.unstable_NormalPriority,Oo=t.unstable_LowPriority,oo=t.unstable_IdlePriority,Zo=null,os=null;function Lh(b){if(os&&typeof os.onCommitFiberRoot=="function")try{os.onCommitFiberRoot(Zo,b,void 0,(b.current.flags&128)===128)}catch{}}var Ws=Math.clz32?Math.clz32:wl,Ga=Math.log,nu=Math.LN2;function wl(b){return b>>>=0,b===0?32:31-(Ga(b)/nu|0)|0}var Qo=64,iu=4194304;function Po(b){switch(b&-b){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return b&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return b}}function sn(b,C){var O=b.pendingLanes;if(O===0)return 0;var R=0,j=b.suspendedLanes,W=b.pingedLanes,ee=O&268435455;if(ee!==0){var he=ee&~j;he!==0?R=Po(he):(W&=ee,W!==0&&(R=Po(W)))}else ee=O&~j,ee!==0?R=Po(ee):W!==0&&(R=Po(W));if(R===0)return 0;if(C!==0&&C!==R&&!(C&j)&&(j=R&-R,W=C&-C,j>=W||j===16&&(W&4194240)!==0))return C;if(R&4&&(R|=O&16),C=b.entangledLanes,C!==0)for(b=b.entanglements,C&=R;0<C;)O=31-Ws(C),j=1<<O,R|=b[O],C&=~j;return R}function zi(b,C){switch(b){case 1:case 2:case 4:return C+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return C+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lr(b,C){for(var O=b.suspendedLanes,R=b.pingedLanes,j=b.expirationTimes,W=b.pendingLanes;0<W;){var ee=31-Ws(W),he=1<<ee,we=j[ee];we===-1?(!(he&O)||he&R)&&(j[ee]=zi(he,C)):we<=C&&(b.expiredLanes|=he),W&=~he}}function Ki(b){return b=b.pendingLanes&-1073741825,b!==0?b:b&1073741824?1073741824:0}function ys(){var b=Qo;return Qo<<=1,!(Qo&4194240)&&(Qo=64),b}function Us(b){for(var C=[],O=0;31>O;O++)C.push(b);return C}function Gs(b,C,O){b.pendingLanes|=C,C!==536870912&&(b.suspendedLanes=0,b.pingedLanes=0),b=b.eventTimes,C=31-Ws(C),b[C]=O}function Cl(b,C){var O=b.pendingLanes&~C;b.pendingLanes=C,b.suspendedLanes=0,b.pingedLanes=0,b.expiredLanes&=C,b.mutableReadLanes&=C,b.entangledLanes&=C,C=b.entanglements;var R=b.eventTimes;for(b=b.expirationTimes;0<O;){var j=31-Ws(O),W=1<<j;C[j]=0,R[j]=-1,b[j]=-1,O&=~W}}function ks(b,C){var O=b.entangledLanes|=C;for(b=b.entanglements;O;){var R=31-Ws(O),j=1<<R;j&C|b[R]&C&&(b[R]|=C),O&=~j}}var ni=0;function Cc(b){return b&=-b,1<b?4<b?b&268435455?16:536870912:4:1}var lo,Ya,zf,ru,Jo,md=!1,su=[],Tl=null,Ka=null,uo=null,Tc=new Map,Ec=new Map,$u=[],Hf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $t(b,C){switch(b){case"focusin":case"focusout":Tl=null;break;case"dragenter":case"dragleave":Ka=null;break;case"mouseover":case"mouseout":uo=null;break;case"pointerover":case"pointerout":Tc.delete(C.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ec.delete(C.pointerId)}}function Gn(b,C,O,R,j,W){return b===null||b.nativeEvent!==W?(b={blockedOn:C,domEventName:O,eventSystemFlags:R,nativeEvent:W,targetContainers:[j]},C!==null&&(C=hT(C),C!==null&&Ya(C)),b):(b.eventSystemFlags|=R,C=b.targetContainers,j!==null&&C.indexOf(j)===-1&&C.push(j),b)}function Os(b,C,O,R,j){switch(C){case"focusin":return Tl=Gn(Tl,b,C,O,R,j),!0;case"dragenter":return Ka=Gn(Ka,b,C,O,R,j),!0;case"mouseover":return uo=Gn(uo,b,C,O,R,j),!0;case"pointerover":var W=j.pointerId;return Tc.set(W,Gn(Tc.get(W)||null,b,C,O,R,j)),!0;case"gotpointercapture":return W=j.pointerId,Ec.set(W,Gn(Ec.get(W)||null,b,C,O,R,j)),!0}return!1}function Ys(b){var C=y_(b.target);if(C!==null){var O=Bi(C);if(O!==null){if(C=O.tag,C===13){if(C=wr(O),C!==null){b.blockedOn=C,Jo(b.priority,function(){zf(O)});return}}else if(C===3&&O.stateNode.current.memoizedState.isDehydrated){b.blockedOn=O.tag===3?O.stateNode.containerInfo:null;return}}}b.blockedOn=null}function Fr(b){if(b.blockedOn!==null)return!1;for(var C=b.targetContainers;0<C.length;){var O=iS(b.domEventName,b.eventSystemFlags,C[0],b.nativeEvent);if(O===null){O=b.nativeEvent;var R=new O.constructor(O.type,O);gn=R,O.target.dispatchEvent(R),gn=null}else return C=hT(O),C!==null&&Ya(C),b.blockedOn=O,!1;C.shift()}return!0}function vd(b,C,O){Fr(b)&&O.delete(C)}function h_(){md=!1,Tl!==null&&Fr(Tl)&&(Tl=null),Ka!==null&&Fr(Ka)&&(Ka=null),uo!==null&&Fr(uo)&&(uo=null),Tc.forEach(vd),Ec.forEach(vd)}function Vf(b,C){b.blockedOn===C&&(b.blockedOn=null,md||(md=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,h_)))}function au(b){function C(j){return Vf(j,b)}if(0<su.length){Vf(su[0],b);for(var O=1;O<su.length;O++){var R=su[O];R.blockedOn===b&&(R.blockedOn=null)}}for(Tl!==null&&Vf(Tl,b),Ka!==null&&Vf(Ka,b),uo!==null&&Vf(uo,b),Tc.forEach(C),Ec.forEach(C),O=0;O<$u.length;O++)R=$u[O],R.blockedOn===b&&(R.blockedOn=null);for(;0<$u.length&&(O=$u[0],O.blockedOn===null);)Ys(O),O.blockedOn===null&&$u.shift()}var wg=w.ReactCurrentBatchConfig,f_=!0;function vH(b,C,O,R){var j=ni,W=wg.transition;wg.transition=null;try{ni=1,J1(b,C,O,R)}finally{ni=j,wg.transition=W}}function yH(b,C,O,R){var j=ni,W=wg.transition;wg.transition=null;try{ni=4,J1(b,C,O,R)}finally{ni=j,wg.transition=W}}function J1(b,C,O,R){if(f_){var j=iS(b,C,O,R);if(j===null)BH(b,C,R,nS,O),$t(b,R);else if(Os(j,b,C,O,R))R.stopPropagation();else if($t(b,R),C&4&&-1<Hf.indexOf(b)){for(;j!==null;){var W=hT(j);if(W!==null&&lo(W),W=iS(b,C,O,R),W===null&&BH(b,C,R,nS,O),W===j)break;j=W}j!==null&&R.stopPropagation()}else BH(b,C,R,null,O)}}var nS=null;function iS(b,C,O,R){if(nS=null,b=Ln(R),b=y_(b),b!==null)if(C=Bi(b),C===null)b=null;else if(O=C.tag,O===13){if(b=wr(C),b!==null)return b;b=null}else if(O===3){if(C.stateNode.current.memoizedState.isDehydrated)return C.tag===3?C.stateNode.containerInfo:null;b=null}else C!==b&&(b=null);return nS=b,null}function WM(b){switch(b){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eu()){case ao:return 1;case tu:return 4;case xl:case Oo:return 16;case oo:return 536870912;default:return 16}default:return 16}}var Wf=null,rS=null,sS=null;function UM(){if(sS)return sS;var b,C=rS,O=C.length,R,j="value"in Wf?Wf.value:Wf.textContent,W=j.length;for(b=0;b<O&&C[b]===j[b];b++);var ee=O-b;for(R=1;R<=ee&&C[O-R]===j[W-R];R++);return sS=j.slice(b,1<R?1-R:void 0)}function p_(b){var C=b.keyCode;return"charCode"in b?(b=b.charCode,b===0&&C===13&&(b=13)):b=C,b===10&&(b=13),32<=b||b===13?b:0}function aS(){return!0}function GM(){return!1}function El(b){function C(O,R,j,W,ee){this._reactName=O,this._targetInst=j,this.type=R,this.nativeEvent=W,this.target=ee,this.currentTarget=null;for(var he in b)b.hasOwnProperty(he)&&(O=b[he],this[he]=O?O(W):W[he]);return this.isDefaultPrevented=(W.defaultPrevented!=null?W.defaultPrevented:W.returnValue===!1)?aS:GM,this.isPropagationStopped=GM,this}return K(C.prototype,{preventDefault:function(){this.defaultPrevented=!0;var O=this.nativeEvent;O&&(O.preventDefault?O.preventDefault():typeof O.returnValue!="unknown"&&(O.returnValue=!1),this.isDefaultPrevented=aS)},stopPropagation:function(){var O=this.nativeEvent;O&&(O.stopPropagation?O.stopPropagation():typeof O.cancelBubble!="unknown"&&(O.cancelBubble=!0),this.isPropagationStopped=aS)},persist:function(){},isPersistent:aS}),C}var Uf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(b){return b.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eT=El(Uf),g_=K({},Uf,{view:0,detail:0}),_H=El(g_),ev,oS,m_,lS=K({},g_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iT,button:0,buttons:0,relatedTarget:function(b){return b.relatedTarget===void 0?b.fromElement===b.srcElement?b.toElement:b.fromElement:b.relatedTarget},movementX:function(b){return"movementX"in b?b.movementX:(b!==m_&&(m_&&b.type==="mousemove"?(ev=b.screenX-m_.screenX,oS=b.screenY-m_.screenY):oS=ev=0,m_=b),ev)},movementY:function(b){return"movementY"in b?b.movementY:oS}}),YM=El(lS),KM=K({},lS,{dataTransfer:0}),bH=El(KM),SH=K({},g_,{relatedTarget:0}),v_=El(SH),xH=K({},Uf,{animationName:0,elapsedTime:0,pseudoElement:0}),wH=El(xH),XM=K({},Uf,{clipboardData:function(b){return"clipboardData"in b?b.clipboardData:window.clipboardData}}),tT=El(XM),CH=K({},Uf,{data:0}),uS=El(CH),TH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nT(b){var C=this.nativeEvent;return C.getModifierState?C.getModifierState(b):(b=AH[b])?!!C[b]:!1}function iT(){return nT}var kH=K({},g_,{key:function(b){if(b.key){var C=TH[b.key]||b.key;if(C!=="Unidentified")return C}return b.type==="keypress"?(b=p_(b),b===13?"Enter":String.fromCharCode(b)):b.type==="keydown"||b.type==="keyup"?EH[b.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iT,charCode:function(b){return b.type==="keypress"?p_(b):0},keyCode:function(b){return b.type==="keydown"||b.type==="keyup"?b.keyCode:0},which:function(b){return b.type==="keypress"?p_(b):b.type==="keydown"||b.type==="keyup"?b.keyCode:0}}),OH=El(kH),qM=K({},lS,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ZM=El(qM),PH=K({},g_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iT}),rT=El(PH),QM=K({},Uf,{propertyName:0,elapsedTime:0,pseudoElement:0}),sT=El(QM),JM=K({},lS,{deltaX:function(b){return"deltaX"in b?b.deltaX:"wheelDeltaX"in b?-b.wheelDeltaX:0},deltaY:function(b){return"deltaY"in b?b.deltaY:"wheelDeltaY"in b?-b.wheelDeltaY:"wheelDelta"in b?-b.wheelDelta:0},deltaZ:0,deltaMode:0}),G=El(JM),te=[9,13,27,32],ce=l&&"CompositionEvent"in window,ge=null;l&&"documentMode"in document&&(ge=document.documentMode);var Ie=l&&"TextEvent"in window&&!ge,at=l&&(!ce||ge&&8<ge&&11>=ge),Ot=" ",Vt=!1;function Ut(b,C){switch(b){case"keyup":return te.indexOf(C.keyCode)!==-1;case"keydown":return C.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function In(b){return b=b.detail,typeof b=="object"&&"data"in b?b.data:null}var di=!1;function Zn(b,C){switch(b){case"compositionend":return In(C);case"keypress":return C.which!==32?null:(Vt=!0,Ot);case"textInput":return b=C.data,b===Ot&&Vt?null:b;default:return null}}function nr(b,C){if(di)return b==="compositionend"||!ce&&Ut(b,C)?(b=UM(),sS=rS=Wf=null,di=!1,b):null;switch(b){case"paste":return null;case"keypress":if(!(C.ctrlKey||C.altKey||C.metaKey)||C.ctrlKey&&C.altKey){if(C.char&&1<C.char.length)return C.char;if(C.which)return String.fromCharCode(C.which)}return null;case"compositionend":return at&&C.locale!=="ko"?null:C.data;default:return null}}var ii={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ar(b){var C=b&&b.nodeName&&b.nodeName.toLowerCase();return C==="input"?!!ii[b.type]:C==="textarea"}function ir(b,C,O,R){en(R),C=sI(C,"onChange"),0<C.length&&(O=new eT("onChange","change",null,O,R),b.push({event:O,listeners:C}))}var kr=null,Ps=null;function Br(b){wJ(b,0)}function Cr(b){var C=pS(b);if(xe(C))return b}function Ac(b,C){if(b==="change")return C}var co=!1;l&&(l?(Or="oninput"in document,Or||(MH=document.createElement("div"),MH.setAttribute("oninput","return;"),Or=typeof MH.oninput=="function"),ho=Or):ho=!1,co=ho&&(!document.documentMode||9<document.documentMode));var ho,Or,MH;function aJ(){kr&&(kr.detachEvent("onpropertychange",oJ),Ps=kr=null)}function oJ(b){if(b.propertyName==="value"&&Cr(Ps)){var C=[];ir(C,Ps,b,Ln(b)),Ht(Br,C)}}function i2e(b,C,O){b==="focusin"?(aJ(),kr=C,Ps=O,kr.attachEvent("onpropertychange",oJ)):b==="focusout"&&aJ()}function r2e(b){if(b==="selectionchange"||b==="keyup"||b==="keydown")return Cr(Ps)}function s2e(b,C){if(b==="click")return Cr(C)}function a2e(b,C){if(b==="input"||b==="change")return Cr(C)}function o2e(b,C){return b===C&&(b!==0||1/b===1/C)||b!==b&&C!==C}var Fh=typeof Object.is=="function"?Object.is:o2e;function aT(b,C){if(Fh(b,C))return!0;if(typeof b!="object"||b===null||typeof C!="object"||C===null)return!1;var O=Object.keys(b),R=Object.keys(C);if(O.length!==R.length)return!1;for(R=0;R<O.length;R++){var j=O[R];if(!u.call(C,j)||!Fh(b[j],C[j]))return!1}return!0}function lJ(b){for(;b&&b.firstChild;)b=b.firstChild;return b}function uJ(b,C){var O=lJ(b);b=0;for(var R;O;){if(O.nodeType===3){if(R=b+O.textContent.length,b<=C&&R>=C)return{node:O,offset:C-b};b=R}e:{for(;O;){if(O.nextSibling){O=O.nextSibling;break e}O=O.parentNode}O=void 0}O=lJ(O)}}function cJ(b,C){return b&&C?b===C?!0:b&&b.nodeType===3?!1:C&&C.nodeType===3?cJ(b,C.parentNode):"contains"in b?b.contains(C):b.compareDocumentPosition?!!(b.compareDocumentPosition(C)&16):!1:!1}function dJ(){for(var b=window,C=ye();C instanceof b.HTMLIFrameElement;){try{var O=typeof C.contentWindow.location.href=="string"}catch{O=!1}if(O)b=C.contentWindow;else break;C=ye(b.document)}return C}function IH(b){var C=b&&b.nodeName&&b.nodeName.toLowerCase();return C&&(C==="input"&&(b.type==="text"||b.type==="search"||b.type==="tel"||b.type==="url"||b.type==="password")||C==="textarea"||b.contentEditable==="true")}function l2e(b){var C=dJ(),O=b.focusedElem,R=b.selectionRange;if(C!==O&&O&&O.ownerDocument&&cJ(O.ownerDocument.documentElement,O)){if(R!==null&&IH(O)){if(C=R.start,b=R.end,b===void 0&&(b=C),"selectionStart"in O)O.selectionStart=C,O.selectionEnd=Math.min(b,O.value.length);else if(b=(C=O.ownerDocument||document)&&C.defaultView||window,b.getSelection){b=b.getSelection();var j=O.textContent.length,W=Math.min(R.start,j);R=R.end===void 0?W:Math.min(R.end,j),!b.extend&&W>R&&(j=R,R=W,W=j),j=uJ(O,W);var ee=uJ(O,R);j&&ee&&(b.rangeCount!==1||b.anchorNode!==j.node||b.anchorOffset!==j.offset||b.focusNode!==ee.node||b.focusOffset!==ee.offset)&&(C=C.createRange(),C.setStart(j.node,j.offset),b.removeAllRanges(),W>R?(b.addRange(C),b.extend(ee.node,ee.offset)):(C.setEnd(ee.node,ee.offset),b.addRange(C)))}}for(C=[],b=O;b=b.parentNode;)b.nodeType===1&&C.push({element:b,left:b.scrollLeft,top:b.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<C.length;O++)b=C[O],b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}var u2e=l&&"documentMode"in document&&11>=document.documentMode,cS=null,RH=null,oT=null,DH=!1;function hJ(b,C,O){var R=O.window===O?O.document:O.nodeType===9?O:O.ownerDocument;DH||cS==null||cS!==ye(R)||(R=cS,"selectionStart"in R&&IH(R)?R={start:R.selectionStart,end:R.selectionEnd}:(R=(R.ownerDocument&&R.ownerDocument.defaultView||window).getSelection(),R={anchorNode:R.anchorNode,anchorOffset:R.anchorOffset,focusNode:R.focusNode,focusOffset:R.focusOffset}),oT&&aT(oT,R)||(oT=R,R=sI(RH,"onSelect"),0<R.length&&(C=new eT("onSelect","select",null,C,O),b.push({event:C,listeners:R}),C.target=cS)))}function eI(b,C){var O={};return O[b.toLowerCase()]=C.toLowerCase(),O["Webkit"+b]="webkit"+C,O["Moz"+b]="moz"+C,O}var dS={animationend:eI("Animation","AnimationEnd"),animationiteration:eI("Animation","AnimationIteration"),animationstart:eI("Animation","AnimationStart"),transitionend:eI("Transition","TransitionEnd")},LH={},fJ={};l&&(fJ=document.createElement("div").style,"AnimationEvent"in window||(delete dS.animationend.animation,delete dS.animationiteration.animation,delete dS.animationstart.animation),"TransitionEvent"in window||delete dS.transitionend.transition);function tI(b){if(LH[b])return LH[b];if(!dS[b])return b;var C=dS[b],O;for(O in C)if(C.hasOwnProperty(O)&&O in fJ)return LH[b]=C[O];return b}var pJ=tI("animationend"),gJ=tI("animationiteration"),mJ=tI("animationstart"),vJ=tI("transitionend"),yJ=new Map,_J="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tv(b,C){yJ.set(b,C),a(C,[b])}for(iI=0;iI<_J.length;iI++)nI=_J[iI],bJ=nI.toLowerCase(),SJ=nI[0].toUpperCase()+nI.slice(1),tv(bJ,"on"+SJ);var nI,bJ,SJ,iI;tv(pJ,"onAnimationEnd"),tv(gJ,"onAnimationIteration"),tv(mJ,"onAnimationStart"),tv("dblclick","onDoubleClick"),tv("focusin","onFocus"),tv("focusout","onBlur"),tv(vJ,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lT="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c2e=new Set("cancel close invalid load scroll toggle".split(" ").concat(lT));function xJ(b,C,O){var R=b.type||"unknown-event";b.currentTarget=O,Si(R,C,void 0,b),b.currentTarget=null}function wJ(b,C){C=(C&4)!==0;for(var O=0;O<b.length;O++){var R=b[O],j=R.event;R=R.listeners;e:{var W=void 0;if(C)for(var ee=R.length-1;0<=ee;ee--){var he=R[ee],we=he.instance,Ne=he.currentTarget;if(he=he.listener,we!==W&&j.isPropagationStopped())break e;xJ(j,he,Ne),W=we}else for(ee=0;ee<R.length;ee++){if(he=R[ee],we=he.instance,Ne=he.currentTarget,he=he.listener,we!==W&&j.isPropagationStopped())break e;xJ(j,he,Ne),W=we}}}if(Tt)throw b=$n,Tt=!1,$n=null,b}function _s(b,C){var O=C[VH];O===void 0&&(O=C[VH]=new Set);var R=b+"__bubble";O.has(R)||(CJ(C,b,2,!1),O.add(R))}function FH(b,C,O){var R=0;C&&(R|=4),CJ(O,b,R,C)}var rI="_reactListening"+Math.random().toString(36).slice(2);function uT(b){if(!b[rI]){b[rI]=!0,r.forEach(function(O){O!=="selectionchange"&&(c2e.has(O)||FH(O,!1,b),FH(O,!0,b))});var C=b.nodeType===9?b:b.ownerDocument;C===null||C[rI]||(C[rI]=!0,FH("selectionchange",!1,C))}}function CJ(b,C,O,R){switch(WM(C)){case 1:var j=vH;break;case 4:j=yH;break;default:j=J1}O=j.bind(null,C,O,b),j=void 0,!Ze||C!=="touchstart"&&C!=="touchmove"&&C!=="wheel"||(j=!0),R?j!==void 0?b.addEventListener(C,O,{capture:!0,passive:j}):b.addEventListener(C,O,!0):j!==void 0?b.addEventListener(C,O,{passive:j}):b.addEventListener(C,O,!1)}function BH(b,C,O,R,j){var W=R;if(!(C&1)&&!(C&2)&&R!==null)e:for(;;){if(R===null)return;var ee=R.tag;if(ee===3||ee===4){var he=R.stateNode.containerInfo;if(he===j||he.nodeType===8&&he.parentNode===j)break;if(ee===4)for(ee=R.return;ee!==null;){var we=ee.tag;if((we===3||we===4)&&(we=ee.stateNode.containerInfo,we===j||we.nodeType===8&&we.parentNode===j))return;ee=ee.return}for(;he!==null;){if(ee=y_(he),ee===null)return;if(we=ee.tag,we===5||we===6){R=W=ee;continue e}he=he.parentNode}}R=R.return}Ht(function(){var Ne=W,ft=Ln(O),mt=[];e:{var ht=yJ.get(b);if(ht!==void 0){var Kt=eT,an=b;switch(b){case"keypress":if(p_(O)===0)break e;case"keydown":case"keyup":Kt=OH;break;case"focusin":an="focus",Kt=v_;break;case"focusout":an="blur",Kt=v_;break;case"beforeblur":case"afterblur":Kt=v_;break;case"click":if(O.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Kt=YM;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Kt=bH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Kt=rT;break;case pJ:case gJ:case mJ:Kt=wH;break;case vJ:Kt=sT;break;case"scroll":Kt=_H;break;case"wheel":Kt=G;break;case"copy":case"cut":case"paste":Kt=tT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Kt=ZM}var cn=(C&4)!==0,Ta=!cn&&b==="scroll",De=cn?ht!==null?ht+"Capture":null:ht;cn=[];for(var ke=Ne,Be;ke!==null;){Be=ke;var wt=Be.stateNode;if(Be.tag===5&&wt!==null&&(Be=wt,De!==null&&(wt=kt(ke,De),wt!=null&&cn.push(cT(ke,wt,Be)))),Ta)break;ke=ke.return}0<cn.length&&(ht=new Kt(ht,an,null,O,ft),mt.push({event:ht,listeners:cn}))}}if(!(C&7)){e:{if(ht=b==="mouseover"||b==="pointerover",Kt=b==="mouseout"||b==="pointerout",ht&&O!==gn&&(an=O.relatedTarget||O.fromElement)&&(y_(an)||an[Cg]))break e;if((Kt||ht)&&(ht=ft.window===ft?ft:(ht=ft.ownerDocument)?ht.defaultView||ht.parentWindow:window,Kt?(an=O.relatedTarget||O.toElement,Kt=Ne,an=an?y_(an):null,an!==null&&(Ta=Bi(an),an!==Ta||an.tag!==5&&an.tag!==6)&&(an=null)):(Kt=null,an=Ne),Kt!==an)){if(cn=YM,wt="onMouseLeave",De="onMouseEnter",ke="mouse",(b==="pointerout"||b==="pointerover")&&(cn=ZM,wt="onPointerLeave",De="onPointerEnter",ke="pointer"),Ta=Kt==null?ht:pS(Kt),Be=an==null?ht:pS(an),ht=new cn(wt,ke+"leave",Kt,O,ft),ht.target=Ta,ht.relatedTarget=Be,wt=null,y_(ft)===Ne&&(cn=new cn(De,ke+"enter",an,O,ft),cn.target=Be,cn.relatedTarget=Ta,wt=cn),Ta=wt,Kt&&an)t:{for(cn=Kt,De=an,ke=0,Be=cn;Be;Be=hS(Be))ke++;for(Be=0,wt=De;wt;wt=hS(wt))Be++;for(;0<ke-Be;)cn=hS(cn),ke--;for(;0<Be-ke;)De=hS(De),Be--;for(;ke--;){if(cn===De||De!==null&&cn===De.alternate)break t;cn=hS(cn),De=hS(De)}cn=null}else cn=null;Kt!==null&&TJ(mt,ht,Kt,cn,!1),an!==null&&Ta!==null&&TJ(mt,Ta,an,cn,!0)}}e:{if(ht=Ne?pS(Ne):window,Kt=ht.nodeName&&ht.nodeName.toLowerCase(),Kt==="select"||Kt==="input"&&ht.type==="file")var mn=Ac;else if(Ar(ht))if(co)mn=a2e;else{mn=r2e;var Rn=i2e}else(Kt=ht.nodeName)&&Kt.toLowerCase()==="input"&&(ht.type==="checkbox"||ht.type==="radio")&&(mn=s2e);if(mn&&(mn=mn(b,Ne))){ir(mt,mn,O,ft);break e}Rn&&Rn(b,ht,Ne),b==="focusout"&&(Rn=ht._wrapperState)&&Rn.controlled&&ht.type==="number"&&je(ht,"number",ht.value)}switch(Rn=Ne?pS(Ne):window,b){case"focusin":(Ar(Rn)||Rn.contentEditable==="true")&&(cS=Rn,RH=Ne,oT=null);break;case"focusout":oT=RH=cS=null;break;case"mousedown":DH=!0;break;case"contextmenu":case"mouseup":case"dragend":DH=!1,hJ(mt,O,ft);break;case"selectionchange":if(u2e)break;case"keydown":case"keyup":hJ(mt,O,ft)}var Dn;if(ce)e:{switch(b){case"compositionstart":var Un="onCompositionStart";break e;case"compositionend":Un="onCompositionEnd";break e;case"compositionupdate":Un="onCompositionUpdate";break e}Un=void 0}else di?Ut(b,O)&&(Un="onCompositionEnd"):b==="keydown"&&O.keyCode===229&&(Un="onCompositionStart");Un&&(at&&O.locale!=="ko"&&(di||Un!=="onCompositionStart"?Un==="onCompositionEnd"&&di&&(Dn=UM()):(Wf=ft,rS="value"in Wf?Wf.value:Wf.textContent,di=!0)),Rn=sI(Ne,Un),0<Rn.length&&(Un=new uS(Un,b,null,O,ft),mt.push({event:Un,listeners:Rn}),Dn?Un.data=Dn:(Dn=In(O),Dn!==null&&(Un.data=Dn)))),(Dn=Ie?Zn(b,O):nr(b,O))&&(Ne=sI(Ne,"onBeforeInput"),0<Ne.length&&(ft=new uS("onBeforeInput","beforeinput",null,O,ft),mt.push({event:ft,listeners:Ne}),ft.data=Dn))}wJ(mt,C)})}function cT(b,C,O){return{instance:b,listener:C,currentTarget:O}}function sI(b,C){for(var O=C+"Capture",R=[];b!==null;){var j=b,W=j.stateNode;j.tag===5&&W!==null&&(j=W,W=kt(b,O),W!=null&&R.unshift(cT(b,W,j)),W=kt(b,C),W!=null&&R.push(cT(b,W,j))),b=b.return}return R}function hS(b){if(b===null)return null;do b=b.return;while(b&&b.tag!==5);return b||null}function TJ(b,C,O,R,j){for(var W=C._reactName,ee=[];O!==null&&O!==R;){var he=O,we=he.alternate,Ne=he.stateNode;if(we!==null&&we===R)break;he.tag===5&&Ne!==null&&(he=Ne,j?(we=kt(O,W),we!=null&&ee.unshift(cT(O,we,he))):j||(we=kt(O,W),we!=null&&ee.push(cT(O,we,he)))),O=O.return}ee.length!==0&&b.push({event:C,listeners:ee})}var d2e=/\r\n?/g,h2e=/\u0000|\uFFFD/g;function EJ(b){return(typeof b=="string"?b:""+b).replace(d2e,`
`).replace(h2e,"")}function aI(b,C,O){if(C=EJ(C),EJ(b)!==C&&O)throw Error(i(425))}function oI(){}var $H=null,NH=null;function jH(b,C){return b==="textarea"||b==="noscript"||typeof C.children=="string"||typeof C.children=="number"||typeof C.dangerouslySetInnerHTML=="object"&&C.dangerouslySetInnerHTML!==null&&C.dangerouslySetInnerHTML.__html!=null}var zH=typeof setTimeout=="function"?setTimeout:void 0,f2e=typeof clearTimeout=="function"?clearTimeout:void 0,AJ=typeof Promise=="function"?Promise:void 0,p2e=typeof queueMicrotask=="function"?queueMicrotask:typeof AJ<"u"?function(b){return AJ.resolve(null).then(b).catch(g2e)}:zH;function g2e(b){setTimeout(function(){throw b})}function HH(b,C){var O=C,R=0;do{var j=O.nextSibling;if(b.removeChild(O),j&&j.nodeType===8)if(O=j.data,O==="/$"){if(R===0){b.removeChild(j),au(C);return}R--}else O!=="$"&&O!=="$?"&&O!=="$!"||R++;O=j}while(O);au(C)}function nv(b){for(;b!=null;b=b.nextSibling){var C=b.nodeType;if(C===1||C===3)break;if(C===8){if(C=b.data,C==="$"||C==="$!"||C==="$?")break;if(C==="/$")return null}}return b}function kJ(b){b=b.previousSibling;for(var C=0;b;){if(b.nodeType===8){var O=b.data;if(O==="$"||O==="$!"||O==="$?"){if(C===0)return b;C--}else O==="/$"&&C++}b=b.previousSibling}return null}var fS=Math.random().toString(36).slice(2),Gf="__reactFiber$"+fS,dT="__reactProps$"+fS,Cg="__reactContainer$"+fS,VH="__reactEvents$"+fS,m2e="__reactListeners$"+fS,v2e="__reactHandles$"+fS;function y_(b){var C=b[Gf];if(C)return C;for(var O=b.parentNode;O;){if(C=O[Cg]||O[Gf]){if(O=C.alternate,C.child!==null||O!==null&&O.child!==null)for(b=kJ(b);b!==null;){if(O=b[Gf])return O;b=kJ(b)}return C}b=O,O=b.parentNode}return null}function hT(b){return b=b[Gf]||b[Cg],!b||b.tag!==5&&b.tag!==6&&b.tag!==13&&b.tag!==3?null:b}function pS(b){if(b.tag===5||b.tag===6)return b.stateNode;throw Error(i(33))}function lI(b){return b[dT]||null}var WH=[],gS=-1;function iv(b){return{current:b}}function bs(b){0>gS||(b.current=WH[gS],WH[gS]=null,gS--)}function ls(b,C){gS++,WH[gS]=b.current,b.current=C}var rv={},Al=iv(rv),Nu=iv(!1),__=rv;function mS(b,C){var O=b.type.contextTypes;if(!O)return rv;var R=b.stateNode;if(R&&R.__reactInternalMemoizedUnmaskedChildContext===C)return R.__reactInternalMemoizedMaskedChildContext;var j={},W;for(W in O)j[W]=C[W];return R&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=C,b.__reactInternalMemoizedMaskedChildContext=j),j}function ju(b){return b=b.childContextTypes,b!=null}function uI(){bs(Nu),bs(Al)}function OJ(b,C,O){if(Al.current!==rv)throw Error(i(168));ls(Al,C),ls(Nu,O)}function PJ(b,C,O){var R=b.stateNode;if(C=C.childContextTypes,typeof R.getChildContext!="function")return O;R=R.getChildContext();for(var j in R)if(!(j in C))throw Error(i(108,ue(b)||"Unknown",j));return K({},O,R)}function cI(b){return b=(b=b.stateNode)&&b.__reactInternalMemoizedMergedChildContext||rv,__=Al.current,ls(Al,b),ls(Nu,Nu.current),!0}function MJ(b,C,O){var R=b.stateNode;if(!R)throw Error(i(169));O?(b=PJ(b,C,__),R.__reactInternalMemoizedMergedChildContext=b,bs(Nu),bs(Al),ls(Al,b)):bs(Nu),ls(Nu,O)}var Tg=null,dI=!1,UH=!1;function IJ(b){Tg===null?Tg=[b]:Tg.push(b)}function y2e(b){dI=!0,IJ(b)}function sv(){if(!UH&&Tg!==null){UH=!0;var b=0,C=ni;try{var O=Tg;for(ni=1;b<O.length;b++){var R=O[b];do R=R(!0);while(R!==null)}Tg=null,dI=!1}catch(j){throw Tg!==null&&(Tg=Tg.slice(b+1)),yt(ao,sv),j}finally{ni=C,UH=!1}}return null}var vS=[],yS=0,hI=null,fI=0,yd=[],_d=0,b_=null,Eg=1,Ag="";function S_(b,C){vS[yS++]=fI,vS[yS++]=hI,hI=b,fI=C}function RJ(b,C,O){yd[_d++]=Eg,yd[_d++]=Ag,yd[_d++]=b_,b_=b;var R=Eg;b=Ag;var j=32-Ws(R)-1;R&=~(1<<j),O+=1;var W=32-Ws(C)+j;if(30<W){var ee=j-j%5;W=(R&(1<<ee)-1).toString(32),R>>=ee,j-=ee,Eg=1<<32-Ws(C)+j|O<<j|R,Ag=W+b}else Eg=1<<W|O<<j|R,Ag=b}function GH(b){b.return!==null&&(S_(b,1),RJ(b,1,0))}function YH(b){for(;b===hI;)hI=vS[--yS],vS[yS]=null,fI=vS[--yS],vS[yS]=null;for(;b===b_;)b_=yd[--_d],yd[_d]=null,Ag=yd[--_d],yd[_d]=null,Eg=yd[--_d],yd[_d]=null}var kc=null,Oc=null,Ms=!1,Bh=null;function DJ(b,C){var O=wd(5,null,null,0);O.elementType="DELETED",O.stateNode=C,O.return=b,C=b.deletions,C===null?(b.deletions=[O],b.flags|=16):C.push(O)}function LJ(b,C){switch(b.tag){case 5:var O=b.type;return C=C.nodeType!==1||O.toLowerCase()!==C.nodeName.toLowerCase()?null:C,C!==null?(b.stateNode=C,kc=b,Oc=nv(C.firstChild),!0):!1;case 6:return C=b.pendingProps===""||C.nodeType!==3?null:C,C!==null?(b.stateNode=C,kc=b,Oc=null,!0):!1;case 13:return C=C.nodeType!==8?null:C,C!==null?(O=b_!==null?{id:Eg,overflow:Ag}:null,b.memoizedState={dehydrated:C,treeContext:O,retryLane:1073741824},O=wd(18,null,null,0),O.stateNode=C,O.return=b,b.child=O,kc=b,Oc=null,!0):!1;default:return!1}}function KH(b){return(b.mode&1)!==0&&(b.flags&128)===0}function XH(b){if(Ms){var C=Oc;if(C){var O=C;if(!LJ(b,C)){if(KH(b))throw Error(i(418));C=nv(O.nextSibling);var R=kc;C&&LJ(b,C)?DJ(R,O):(b.flags=b.flags&-4097|2,Ms=!1,kc=b)}}else{if(KH(b))throw Error(i(418));b.flags=b.flags&-4097|2,Ms=!1,kc=b}}}function FJ(b){for(b=b.return;b!==null&&b.tag!==5&&b.tag!==3&&b.tag!==13;)b=b.return;kc=b}function pI(b){if(b!==kc)return!1;if(!Ms)return FJ(b),Ms=!0,!1;var C;if((C=b.tag!==3)&&!(C=b.tag!==5)&&(C=b.type,C=C!=="head"&&C!=="body"&&!jH(b.type,b.memoizedProps)),C&&(C=Oc)){if(KH(b))throw BJ(),Error(i(418));for(;C;)DJ(b,C),C=nv(C.nextSibling)}if(FJ(b),b.tag===13){if(b=b.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(i(317));e:{for(b=b.nextSibling,C=0;b;){if(b.nodeType===8){var O=b.data;if(O==="/$"){if(C===0){Oc=nv(b.nextSibling);break e}C--}else O!=="$"&&O!=="$!"&&O!=="$?"||C++}b=b.nextSibling}Oc=null}}else Oc=kc?nv(b.stateNode.nextSibling):null;return!0}function BJ(){for(var b=Oc;b;)b=nv(b.nextSibling)}function _S(){Oc=kc=null,Ms=!1}function qH(b){Bh===null?Bh=[b]:Bh.push(b)}var _2e=w.ReactCurrentBatchConfig;function fT(b,C,O){if(b=O.ref,b!==null&&typeof b!="function"&&typeof b!="object"){if(O._owner){if(O=O._owner,O){if(O.tag!==1)throw Error(i(309));var R=O.stateNode}if(!R)throw Error(i(147,b));var j=R,W=""+b;return C!==null&&C.ref!==null&&typeof C.ref=="function"&&C.ref._stringRef===W?C.ref:(C=function(ee){var he=j.refs;ee===null?delete he[W]:he[W]=ee},C._stringRef=W,C)}if(typeof b!="string")throw Error(i(284));if(!O._owner)throw Error(i(290,b))}return b}function gI(b,C){throw b=Object.prototype.toString.call(C),Error(i(31,b==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":b))}function $J(b){var C=b._init;return C(b._payload)}function NJ(b){function C(De,ke){if(b){var Be=De.deletions;Be===null?(De.deletions=[ke],De.flags|=16):Be.push(ke)}}function O(De,ke){if(!b)return null;for(;ke!==null;)C(De,ke),ke=ke.sibling;return null}function R(De,ke){for(De=new Map;ke!==null;)ke.key!==null?De.set(ke.key,ke):De.set(ke.index,ke),ke=ke.sibling;return De}function j(De,ke){return De=fv(De,ke),De.index=0,De.sibling=null,De}function W(De,ke,Be){return De.index=Be,b?(Be=De.alternate,Be!==null?(Be=Be.index,Be<ke?(De.flags|=2,ke):Be):(De.flags|=2,ke)):(De.flags|=1048576,ke)}function ee(De){return b&&De.alternate===null&&(De.flags|=2),De}function he(De,ke,Be,wt){return ke===null||ke.tag!==6?(ke=j3(Be,De.mode,wt),ke.return=De,ke):(ke=j(ke,Be),ke.return=De,ke)}function we(De,ke,Be,wt){var mn=Be.type;return mn===A?ft(De,ke,Be.props.children,wt,Be.key):ke!==null&&(ke.elementType===mn||typeof mn=="object"&&mn!==null&&mn.$$typeof===z&&$J(mn)===ke.type)?(wt=j(ke,Be.props),wt.ref=fT(De,ke,Be),wt.return=De,wt):(wt=NI(Be.type,Be.key,Be.props,null,De.mode,wt),wt.ref=fT(De,ke,Be),wt.return=De,wt)}function Ne(De,ke,Be,wt){return ke===null||ke.tag!==4||ke.stateNode.containerInfo!==Be.containerInfo||ke.stateNode.implementation!==Be.implementation?(ke=z3(Be,De.mode,wt),ke.return=De,ke):(ke=j(ke,Be.children||[]),ke.return=De,ke)}function ft(De,ke,Be,wt,mn){return ke===null||ke.tag!==7?(ke=O_(Be,De.mode,wt,mn),ke.return=De,ke):(ke=j(ke,Be),ke.return=De,ke)}function mt(De,ke,Be){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return ke=j3(""+ke,De.mode,Be),ke.return=De,ke;if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case T:return Be=NI(ke.type,ke.key,ke.props,null,De.mode,Be),Be.ref=fT(De,null,ke),Be.return=De,Be;case E:return ke=z3(ke,De.mode,Be),ke.return=De,ke;case z:var wt=ke._init;return mt(De,wt(ke._payload),Be)}if(qe(ke)||H(ke))return ke=O_(ke,De.mode,Be,null),ke.return=De,ke;gI(De,ke)}return null}function ht(De,ke,Be,wt){var mn=ke!==null?ke.key:null;if(typeof Be=="string"&&Be!==""||typeof Be=="number")return mn!==null?null:he(De,ke,""+Be,wt);if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case T:return Be.key===mn?we(De,ke,Be,wt):null;case E:return Be.key===mn?Ne(De,ke,Be,wt):null;case z:return mn=Be._init,ht(De,ke,mn(Be._payload),wt)}if(qe(Be)||H(Be))return mn!==null?null:ft(De,ke,Be,wt,null);gI(De,Be)}return null}function Kt(De,ke,Be,wt,mn){if(typeof wt=="string"&&wt!==""||typeof wt=="number")return De=De.get(Be)||null,he(ke,De,""+wt,mn);if(typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case T:return De=De.get(wt.key===null?Be:wt.key)||null,we(ke,De,wt,mn);case E:return De=De.get(wt.key===null?Be:wt.key)||null,Ne(ke,De,wt,mn);case z:var Rn=wt._init;return Kt(De,ke,Be,Rn(wt._payload),mn)}if(qe(wt)||H(wt))return De=De.get(Be)||null,ft(ke,De,wt,mn,null);gI(ke,wt)}return null}function an(De,ke,Be,wt){for(var mn=null,Rn=null,Dn=ke,Un=ke=0,Ro=null;Dn!==null&&Un<Be.length;Un++){Dn.index>Un?(Ro=Dn,Dn=null):Ro=Dn.sibling;var dr=ht(De,Dn,Be[Un],wt);if(dr===null){Dn===null&&(Dn=Ro);break}b&&Dn&&dr.alternate===null&&C(De,Dn),ke=W(dr,ke,Un),Rn===null?mn=dr:Rn.sibling=dr,Rn=dr,Dn=Ro}if(Un===Be.length)return O(De,Dn),Ms&&S_(De,Un),mn;if(Dn===null){for(;Un<Be.length;Un++)Dn=mt(De,Be[Un],wt),Dn!==null&&(ke=W(Dn,ke,Un),Rn===null?mn=Dn:Rn.sibling=Dn,Rn=Dn);return Ms&&S_(De,Un),mn}for(Dn=R(De,Dn);Un<Be.length;Un++)Ro=Kt(Dn,De,Un,Be[Un],wt),Ro!==null&&(b&&Ro.alternate!==null&&Dn.delete(Ro.key===null?Un:Ro.key),ke=W(Ro,ke,Un),Rn===null?mn=Ro:Rn.sibling=Ro,Rn=Ro);return b&&Dn.forEach(function(pv){return C(De,pv)}),Ms&&S_(De,Un),mn}function cn(De,ke,Be,wt){var mn=H(Be);if(typeof mn!="function")throw Error(i(150));if(Be=mn.call(Be),Be==null)throw Error(i(151));for(var Rn=mn=null,Dn=ke,Un=ke=0,Ro=null,dr=Be.next();Dn!==null&&!dr.done;Un++,dr=Be.next()){Dn.index>Un?(Ro=Dn,Dn=null):Ro=Dn.sibling;var pv=ht(De,Dn,dr.value,wt);if(pv===null){Dn===null&&(Dn=Ro);break}b&&Dn&&pv.alternate===null&&C(De,Dn),ke=W(pv,ke,Un),Rn===null?mn=pv:Rn.sibling=pv,Rn=pv,Dn=Ro}if(dr.done)return O(De,Dn),Ms&&S_(De,Un),mn;if(Dn===null){for(;!dr.done;Un++,dr=Be.next())dr=mt(De,dr.value,wt),dr!==null&&(ke=W(dr,ke,Un),Rn===null?mn=dr:Rn.sibling=dr,Rn=dr);return Ms&&S_(De,Un),mn}for(Dn=R(De,Dn);!dr.done;Un++,dr=Be.next())dr=Kt(Dn,De,Un,dr.value,wt),dr!==null&&(b&&dr.alternate!==null&&Dn.delete(dr.key===null?Un:dr.key),ke=W(dr,ke,Un),Rn===null?mn=dr:Rn.sibling=dr,Rn=dr);return b&&Dn.forEach(function(Q2e){return C(De,Q2e)}),Ms&&S_(De,Un),mn}function Ta(De,ke,Be,wt){if(typeof Be=="object"&&Be!==null&&Be.type===A&&Be.key===null&&(Be=Be.props.children),typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case T:e:{for(var mn=Be.key,Rn=ke;Rn!==null;){if(Rn.key===mn){if(mn=Be.type,mn===A){if(Rn.tag===7){O(De,Rn.sibling),ke=j(Rn,Be.props.children),ke.return=De,De=ke;break e}}else if(Rn.elementType===mn||typeof mn=="object"&&mn!==null&&mn.$$typeof===z&&$J(mn)===Rn.type){O(De,Rn.sibling),ke=j(Rn,Be.props),ke.ref=fT(De,Rn,Be),ke.return=De,De=ke;break e}O(De,Rn);break}else C(De,Rn);Rn=Rn.sibling}Be.type===A?(ke=O_(Be.props.children,De.mode,wt,Be.key),ke.return=De,De=ke):(wt=NI(Be.type,Be.key,Be.props,null,De.mode,wt),wt.ref=fT(De,ke,Be),wt.return=De,De=wt)}return ee(De);case E:e:{for(Rn=Be.key;ke!==null;){if(ke.key===Rn)if(ke.tag===4&&ke.stateNode.containerInfo===Be.containerInfo&&ke.stateNode.implementation===Be.implementation){O(De,ke.sibling),ke=j(ke,Be.children||[]),ke.return=De,De=ke;break e}else{O(De,ke);break}else C(De,ke);ke=ke.sibling}ke=z3(Be,De.mode,wt),ke.return=De,De=ke}return ee(De);case z:return Rn=Be._init,Ta(De,ke,Rn(Be._payload),wt)}if(qe(Be))return an(De,ke,Be,wt);if(H(Be))return cn(De,ke,Be,wt);gI(De,Be)}return typeof Be=="string"&&Be!==""||typeof Be=="number"?(Be=""+Be,ke!==null&&ke.tag===6?(O(De,ke.sibling),ke=j(ke,Be),ke.return=De,De=ke):(O(De,ke),ke=j3(Be,De.mode,wt),ke.return=De,De=ke),ee(De)):O(De,ke)}return Ta}var bS=NJ(!0),jJ=NJ(!1),mI=iv(null),vI=null,SS=null,ZH=null;function QH(){ZH=SS=vI=null}function JH(b){var C=mI.current;bs(mI),b._currentValue=C}function e3(b,C,O){for(;b!==null;){var R=b.alternate;if((b.childLanes&C)!==C?(b.childLanes|=C,R!==null&&(R.childLanes|=C)):R!==null&&(R.childLanes&C)!==C&&(R.childLanes|=C),b===O)break;b=b.return}}function xS(b,C){vI=b,ZH=SS=null,b=b.dependencies,b!==null&&b.firstContext!==null&&(b.lanes&C&&(zu=!0),b.firstContext=null)}function bd(b){var C=b._currentValue;if(ZH!==b)if(b={context:b,memoizedValue:C,next:null},SS===null){if(vI===null)throw Error(i(308));SS=b,vI.dependencies={lanes:0,firstContext:b}}else SS=SS.next=b;return C}var x_=null;function t3(b){x_===null?x_=[b]:x_.push(b)}function zJ(b,C,O,R){var j=C.interleaved;return j===null?(O.next=O,t3(C)):(O.next=j.next,j.next=O),C.interleaved=O,kg(b,R)}function kg(b,C){b.lanes|=C;var O=b.alternate;for(O!==null&&(O.lanes|=C),O=b,b=b.return;b!==null;)b.childLanes|=C,O=b.alternate,O!==null&&(O.childLanes|=C),O=b,b=b.return;return O.tag===3?O.stateNode:null}var av=!1;function n3(b){b.updateQueue={baseState:b.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function HJ(b,C){b=b.updateQueue,C.updateQueue===b&&(C.updateQueue={baseState:b.baseState,firstBaseUpdate:b.firstBaseUpdate,lastBaseUpdate:b.lastBaseUpdate,shared:b.shared,effects:b.effects})}function Og(b,C){return{eventTime:b,lane:C,tag:0,payload:null,callback:null,next:null}}function ov(b,C,O){var R=b.updateQueue;if(R===null)return null;if(R=R.shared,rr&2){var j=R.pending;return j===null?C.next=C:(C.next=j.next,j.next=C),R.pending=C,kg(b,O)}return j=R.interleaved,j===null?(C.next=C,t3(R)):(C.next=j.next,j.next=C),R.interleaved=C,kg(b,O)}function yI(b,C,O){if(C=C.updateQueue,C!==null&&(C=C.shared,(O&4194240)!==0)){var R=C.lanes;R&=b.pendingLanes,O|=R,C.lanes=O,ks(b,O)}}function VJ(b,C){var O=b.updateQueue,R=b.alternate;if(R!==null&&(R=R.updateQueue,O===R)){var j=null,W=null;if(O=O.firstBaseUpdate,O!==null){do{var ee={eventTime:O.eventTime,lane:O.lane,tag:O.tag,payload:O.payload,callback:O.callback,next:null};W===null?j=W=ee:W=W.next=ee,O=O.next}while(O!==null);W===null?j=W=C:W=W.next=C}else j=W=C;O={baseState:R.baseState,firstBaseUpdate:j,lastBaseUpdate:W,shared:R.shared,effects:R.effects},b.updateQueue=O;return}b=O.lastBaseUpdate,b===null?O.firstBaseUpdate=C:b.next=C,O.lastBaseUpdate=C}function _I(b,C,O,R){var j=b.updateQueue;av=!1;var W=j.firstBaseUpdate,ee=j.lastBaseUpdate,he=j.shared.pending;if(he!==null){j.shared.pending=null;var we=he,Ne=we.next;we.next=null,ee===null?W=Ne:ee.next=Ne,ee=we;var ft=b.alternate;ft!==null&&(ft=ft.updateQueue,he=ft.lastBaseUpdate,he!==ee&&(he===null?ft.firstBaseUpdate=Ne:he.next=Ne,ft.lastBaseUpdate=we))}if(W!==null){var mt=j.baseState;ee=0,ft=Ne=we=null,he=W;do{var ht=he.lane,Kt=he.eventTime;if((R&ht)===ht){ft!==null&&(ft=ft.next={eventTime:Kt,lane:0,tag:he.tag,payload:he.payload,callback:he.callback,next:null});e:{var an=b,cn=he;switch(ht=C,Kt=O,cn.tag){case 1:if(an=cn.payload,typeof an=="function"){mt=an.call(Kt,mt,ht);break e}mt=an;break e;case 3:an.flags=an.flags&-65537|128;case 0:if(an=cn.payload,ht=typeof an=="function"?an.call(Kt,mt,ht):an,ht==null)break e;mt=K({},mt,ht);break e;case 2:av=!0}}he.callback!==null&&he.lane!==0&&(b.flags|=64,ht=j.effects,ht===null?j.effects=[he]:ht.push(he))}else Kt={eventTime:Kt,lane:ht,tag:he.tag,payload:he.payload,callback:he.callback,next:null},ft===null?(Ne=ft=Kt,we=mt):ft=ft.next=Kt,ee|=ht;if(he=he.next,he===null){if(he=j.shared.pending,he===null)break;ht=he,he=ht.next,ht.next=null,j.lastBaseUpdate=ht,j.shared.pending=null}}while(!0);if(ft===null&&(we=mt),j.baseState=we,j.firstBaseUpdate=Ne,j.lastBaseUpdate=ft,C=j.shared.interleaved,C!==null){j=C;do ee|=j.lane,j=j.next;while(j!==C)}else W===null&&(j.shared.lanes=0);T_|=ee,b.lanes=ee,b.memoizedState=mt}}function WJ(b,C,O){if(b=C.effects,C.effects=null,b!==null)for(C=0;C<b.length;C++){var R=b[C],j=R.callback;if(j!==null){if(R.callback=null,R=O,typeof j!="function")throw Error(i(191,j));j.call(R)}}}var pT={},Yf=iv(pT),gT=iv(pT),mT=iv(pT);function w_(b){if(b===pT)throw Error(i(174));return b}function i3(b,C){switch(ls(mT,C),ls(gT,b),ls(Yf,pT),b=C.nodeType,b){case 9:case 11:C=(C=C.documentElement)?C.namespaceURI:xt(null,"");break;default:b=b===8?C.parentNode:C,C=b.namespaceURI||null,b=b.tagName,C=xt(C,b)}bs(Yf),ls(Yf,C)}function wS(){bs(Yf),bs(gT),bs(mT)}function UJ(b){w_(mT.current);var C=w_(Yf.current),O=xt(C,b.type);C!==O&&(ls(gT,b),ls(Yf,O))}function r3(b){gT.current===b&&(bs(Yf),bs(gT))}var Ks=iv(0);function bI(b){for(var C=b;C!==null;){if(C.tag===13){var O=C.memoizedState;if(O!==null&&(O=O.dehydrated,O===null||O.data==="$?"||O.data==="$!"))return C}else if(C.tag===19&&C.memoizedProps.revealOrder!==void 0){if(C.flags&128)return C}else if(C.child!==null){C.child.return=C,C=C.child;continue}if(C===b)break;for(;C.sibling===null;){if(C.return===null||C.return===b)return null;C=C.return}C.sibling.return=C.return,C=C.sibling}return null}var s3=[];function a3(){for(var b=0;b<s3.length;b++)s3[b]._workInProgressVersionPrimary=null;s3.length=0}var SI=w.ReactCurrentDispatcher,o3=w.ReactCurrentBatchConfig,C_=0,Xs=null,fo=null,Mo=null,xI=!1,vT=!1,yT=0,b2e=0;function kl(){throw Error(i(321))}function l3(b,C){if(C===null)return!1;for(var O=0;O<C.length&&O<b.length;O++)if(!Fh(b[O],C[O]))return!1;return!0}function u3(b,C,O,R,j,W){if(C_=W,Xs=C,C.memoizedState=null,C.updateQueue=null,C.lanes=0,SI.current=b===null||b.memoizedState===null?C2e:T2e,b=O(R,j),vT){W=0;do{if(vT=!1,yT=0,25<=W)throw Error(i(301));W+=1,Mo=fo=null,C.updateQueue=null,SI.current=E2e,b=O(R,j)}while(vT)}if(SI.current=TI,C=fo!==null&&fo.next!==null,C_=0,Mo=fo=Xs=null,xI=!1,C)throw Error(i(300));return b}function c3(){var b=yT!==0;return yT=0,b}function Kf(){var b={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mo===null?Xs.memoizedState=Mo=b:Mo=Mo.next=b,Mo}function Sd(){if(fo===null){var b=Xs.alternate;b=b!==null?b.memoizedState:null}else b=fo.next;var C=Mo===null?Xs.memoizedState:Mo.next;if(C!==null)Mo=C,fo=b;else{if(b===null)throw Error(i(310));fo=b,b={memoizedState:fo.memoizedState,baseState:fo.baseState,baseQueue:fo.baseQueue,queue:fo.queue,next:null},Mo===null?Xs.memoizedState=Mo=b:Mo=Mo.next=b}return Mo}function _T(b,C){return typeof C=="function"?C(b):C}function d3(b){var C=Sd(),O=C.queue;if(O===null)throw Error(i(311));O.lastRenderedReducer=b;var R=fo,j=R.baseQueue,W=O.pending;if(W!==null){if(j!==null){var ee=j.next;j.next=W.next,W.next=ee}R.baseQueue=j=W,O.pending=null}if(j!==null){W=j.next,R=R.baseState;var he=ee=null,we=null,Ne=W;do{var ft=Ne.lane;if((C_&ft)===ft)we!==null&&(we=we.next={lane:0,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null}),R=Ne.hasEagerState?Ne.eagerState:b(R,Ne.action);else{var mt={lane:ft,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null};we===null?(he=we=mt,ee=R):we=we.next=mt,Xs.lanes|=ft,T_|=ft}Ne=Ne.next}while(Ne!==null&&Ne!==W);we===null?ee=R:we.next=he,Fh(R,C.memoizedState)||(zu=!0),C.memoizedState=R,C.baseState=ee,C.baseQueue=we,O.lastRenderedState=R}if(b=O.interleaved,b!==null){j=b;do W=j.lane,Xs.lanes|=W,T_|=W,j=j.next;while(j!==b)}else j===null&&(O.lanes=0);return[C.memoizedState,O.dispatch]}function h3(b){var C=Sd(),O=C.queue;if(O===null)throw Error(i(311));O.lastRenderedReducer=b;var R=O.dispatch,j=O.pending,W=C.memoizedState;if(j!==null){O.pending=null;var ee=j=j.next;do W=b(W,ee.action),ee=ee.next;while(ee!==j);Fh(W,C.memoizedState)||(zu=!0),C.memoizedState=W,C.baseQueue===null&&(C.baseState=W),O.lastRenderedState=W}return[W,R]}function GJ(){}function YJ(b,C){var O=Xs,R=Sd(),j=C(),W=!Fh(R.memoizedState,j);if(W&&(R.memoizedState=j,zu=!0),R=R.queue,f3(qJ.bind(null,O,R,b),[b]),R.getSnapshot!==C||W||Mo!==null&&Mo.memoizedState.tag&1){if(O.flags|=2048,bT(9,XJ.bind(null,O,R,j,C),void 0,null),Io===null)throw Error(i(349));C_&30||KJ(O,C,j)}return j}function KJ(b,C,O){b.flags|=16384,b={getSnapshot:C,value:O},C=Xs.updateQueue,C===null?(C={lastEffect:null,stores:null},Xs.updateQueue=C,C.stores=[b]):(O=C.stores,O===null?C.stores=[b]:O.push(b))}function XJ(b,C,O,R){C.value=O,C.getSnapshot=R,ZJ(C)&&QJ(b)}function qJ(b,C,O){return O(function(){ZJ(C)&&QJ(b)})}function ZJ(b){var C=b.getSnapshot;b=b.value;try{var O=C();return!Fh(b,O)}catch{return!0}}function QJ(b){var C=kg(b,1);C!==null&&zh(C,b,1,-1)}function JJ(b){var C=Kf();return typeof b=="function"&&(b=b()),C.memoizedState=C.baseState=b,b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_T,lastRenderedState:b},C.queue=b,b=b.dispatch=w2e.bind(null,Xs,b),[C.memoizedState,b]}function bT(b,C,O,R){return b={tag:b,create:C,destroy:O,deps:R,next:null},C=Xs.updateQueue,C===null?(C={lastEffect:null,stores:null},Xs.updateQueue=C,C.lastEffect=b.next=b):(O=C.lastEffect,O===null?C.lastEffect=b.next=b:(R=O.next,O.next=b,b.next=R,C.lastEffect=b)),b}function eee(){return Sd().memoizedState}function wI(b,C,O,R){var j=Kf();Xs.flags|=b,j.memoizedState=bT(1|C,O,void 0,R===void 0?null:R)}function CI(b,C,O,R){var j=Sd();R=R===void 0?null:R;var W=void 0;if(fo!==null){var ee=fo.memoizedState;if(W=ee.destroy,R!==null&&l3(R,ee.deps)){j.memoizedState=bT(C,O,W,R);return}}Xs.flags|=b,j.memoizedState=bT(1|C,O,W,R)}function tee(b,C){return wI(8390656,8,b,C)}function f3(b,C){return CI(2048,8,b,C)}function nee(b,C){return CI(4,2,b,C)}function iee(b,C){return CI(4,4,b,C)}function ree(b,C){if(typeof C=="function")return b=b(),C(b),function(){C(null)};if(C!=null)return b=b(),C.current=b,function(){C.current=null}}function see(b,C,O){return O=O!=null?O.concat([b]):null,CI(4,4,ree.bind(null,C,b),O)}function p3(){}function aee(b,C){var O=Sd();C=C===void 0?null:C;var R=O.memoizedState;return R!==null&&C!==null&&l3(C,R[1])?R[0]:(O.memoizedState=[b,C],b)}function oee(b,C){var O=Sd();C=C===void 0?null:C;var R=O.memoizedState;return R!==null&&C!==null&&l3(C,R[1])?R[0]:(b=b(),O.memoizedState=[b,C],b)}function lee(b,C,O){return C_&21?(Fh(O,C)||(O=ys(),Xs.lanes|=O,T_|=O,b.baseState=!0),C):(b.baseState&&(b.baseState=!1,zu=!0),b.memoizedState=O)}function S2e(b,C){var O=ni;ni=O!==0&&4>O?O:4,b(!0);var R=o3.transition;o3.transition={};try{b(!1),C()}finally{ni=O,o3.transition=R}}function uee(){return Sd().memoizedState}function x2e(b,C,O){var R=dv(b);if(O={lane:R,action:O,hasEagerState:!1,eagerState:null,next:null},cee(b))dee(C,O);else if(O=zJ(b,C,O,R),O!==null){var j=lu();zh(O,b,R,j),hee(O,C,R)}}function w2e(b,C,O){var R=dv(b),j={lane:R,action:O,hasEagerState:!1,eagerState:null,next:null};if(cee(b))dee(C,j);else{var W=b.alternate;if(b.lanes===0&&(W===null||W.lanes===0)&&(W=C.lastRenderedReducer,W!==null))try{var ee=C.lastRenderedState,he=W(ee,O);if(j.hasEagerState=!0,j.eagerState=he,Fh(he,ee)){var we=C.interleaved;we===null?(j.next=j,t3(C)):(j.next=we.next,we.next=j),C.interleaved=j;return}}catch{}finally{}O=zJ(b,C,j,R),O!==null&&(j=lu(),zh(O,b,R,j),hee(O,C,R))}}function cee(b){var C=b.alternate;return b===Xs||C!==null&&C===Xs}function dee(b,C){vT=xI=!0;var O=b.pending;O===null?C.next=C:(C.next=O.next,O.next=C),b.pending=C}function hee(b,C,O){if(O&4194240){var R=C.lanes;R&=b.pendingLanes,O|=R,C.lanes=O,ks(b,O)}}var TI={readContext:bd,useCallback:kl,useContext:kl,useEffect:kl,useImperativeHandle:kl,useInsertionEffect:kl,useLayoutEffect:kl,useMemo:kl,useReducer:kl,useRef:kl,useState:kl,useDebugValue:kl,useDeferredValue:kl,useTransition:kl,useMutableSource:kl,useSyncExternalStore:kl,useId:kl,unstable_isNewReconciler:!1},C2e={readContext:bd,useCallback:function(b,C){return Kf().memoizedState=[b,C===void 0?null:C],b},useContext:bd,useEffect:tee,useImperativeHandle:function(b,C,O){return O=O!=null?O.concat([b]):null,wI(4194308,4,ree.bind(null,C,b),O)},useLayoutEffect:function(b,C){return wI(4194308,4,b,C)},useInsertionEffect:function(b,C){return wI(4,2,b,C)},useMemo:function(b,C){var O=Kf();return C=C===void 0?null:C,b=b(),O.memoizedState=[b,C],b},useReducer:function(b,C,O){var R=Kf();return C=O!==void 0?O(C):C,R.memoizedState=R.baseState=C,b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:b,lastRenderedState:C},R.queue=b,b=b.dispatch=x2e.bind(null,Xs,b),[R.memoizedState,b]},useRef:function(b){var C=Kf();return b={current:b},C.memoizedState=b},useState:JJ,useDebugValue:p3,useDeferredValue:function(b){return Kf().memoizedState=b},useTransition:function(){var b=JJ(!1),C=b[0];return b=S2e.bind(null,b[1]),Kf().memoizedState=b,[C,b]},useMutableSource:function(){},useSyncExternalStore:function(b,C,O){var R=Xs,j=Kf();if(Ms){if(O===void 0)throw Error(i(407));O=O()}else{if(O=C(),Io===null)throw Error(i(349));C_&30||KJ(R,C,O)}j.memoizedState=O;var W={value:O,getSnapshot:C};return j.queue=W,tee(qJ.bind(null,R,W,b),[b]),R.flags|=2048,bT(9,XJ.bind(null,R,W,O,C),void 0,null),O},useId:function(){var b=Kf(),C=Io.identifierPrefix;if(Ms){var O=Ag,R=Eg;O=(R&~(1<<32-Ws(R)-1)).toString(32)+O,C=":"+C+"R"+O,O=yT++,0<O&&(C+="H"+O.toString(32)),C+=":"}else O=b2e++,C=":"+C+"r"+O.toString(32)+":";return b.memoizedState=C},unstable_isNewReconciler:!1},T2e={readContext:bd,useCallback:aee,useContext:bd,useEffect:f3,useImperativeHandle:see,useInsertionEffect:nee,useLayoutEffect:iee,useMemo:oee,useReducer:d3,useRef:eee,useState:function(){return d3(_T)},useDebugValue:p3,useDeferredValue:function(b){var C=Sd();return lee(C,fo.memoizedState,b)},useTransition:function(){var b=d3(_T)[0],C=Sd().memoizedState;return[b,C]},useMutableSource:GJ,useSyncExternalStore:YJ,useId:uee,unstable_isNewReconciler:!1},E2e={readContext:bd,useCallback:aee,useContext:bd,useEffect:f3,useImperativeHandle:see,useInsertionEffect:nee,useLayoutEffect:iee,useMemo:oee,useReducer:h3,useRef:eee,useState:function(){return h3(_T)},useDebugValue:p3,useDeferredValue:function(b){var C=Sd();return fo===null?C.memoizedState=b:lee(C,fo.memoizedState,b)},useTransition:function(){var b=h3(_T)[0],C=Sd().memoizedState;return[b,C]},useMutableSource:GJ,useSyncExternalStore:YJ,useId:uee,unstable_isNewReconciler:!1};function $h(b,C){if(b&&b.defaultProps){C=K({},C),b=b.defaultProps;for(var O in b)C[O]===void 0&&(C[O]=b[O]);return C}return C}function g3(b,C,O,R){C=b.memoizedState,O=O(R,C),O=O==null?C:K({},C,O),b.memoizedState=O,b.lanes===0&&(b.updateQueue.baseState=O)}var EI={isMounted:function(b){return(b=b._reactInternals)?Bi(b)===b:!1},enqueueSetState:function(b,C,O){b=b._reactInternals;var R=lu(),j=dv(b),W=Og(R,j);W.payload=C,O!=null&&(W.callback=O),C=ov(b,W,j),C!==null&&(zh(C,b,j,R),yI(C,b,j))},enqueueReplaceState:function(b,C,O){b=b._reactInternals;var R=lu(),j=dv(b),W=Og(R,j);W.tag=1,W.payload=C,O!=null&&(W.callback=O),C=ov(b,W,j),C!==null&&(zh(C,b,j,R),yI(C,b,j))},enqueueForceUpdate:function(b,C){b=b._reactInternals;var O=lu(),R=dv(b),j=Og(O,R);j.tag=2,C!=null&&(j.callback=C),C=ov(b,j,R),C!==null&&(zh(C,b,R,O),yI(C,b,R))}};function fee(b,C,O,R,j,W,ee){return b=b.stateNode,typeof b.shouldComponentUpdate=="function"?b.shouldComponentUpdate(R,W,ee):C.prototype&&C.prototype.isPureReactComponent?!aT(O,R)||!aT(j,W):!0}function pee(b,C,O){var R=!1,j=rv,W=C.contextType;return typeof W=="object"&&W!==null?W=bd(W):(j=ju(C)?__:Al.current,R=C.contextTypes,W=(R=R!=null)?mS(b,j):rv),C=new C(O,W),b.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=EI,b.stateNode=C,C._reactInternals=b,R&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=j,b.__reactInternalMemoizedMaskedChildContext=W),C}function gee(b,C,O,R){b=C.state,typeof C.componentWillReceiveProps=="function"&&C.componentWillReceiveProps(O,R),typeof C.UNSAFE_componentWillReceiveProps=="function"&&C.UNSAFE_componentWillReceiveProps(O,R),C.state!==b&&EI.enqueueReplaceState(C,C.state,null)}function m3(b,C,O,R){var j=b.stateNode;j.props=O,j.state=b.memoizedState,j.refs={},n3(b);var W=C.contextType;typeof W=="object"&&W!==null?j.context=bd(W):(W=ju(C)?__:Al.current,j.context=mS(b,W)),j.state=b.memoizedState,W=C.getDerivedStateFromProps,typeof W=="function"&&(g3(b,C,W,O),j.state=b.memoizedState),typeof C.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(C=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),C!==j.state&&EI.enqueueReplaceState(j,j.state,null),_I(b,O,j,R),j.state=b.memoizedState),typeof j.componentDidMount=="function"&&(b.flags|=4194308)}function CS(b,C){try{var O="",R=C;do O+=se(R),R=R.return;while(R);var j=O}catch(W){j=`
Error generating stack: `+W.message+`
`+W.stack}return{value:b,source:C,stack:j,digest:null}}function v3(b,C,O){return{value:b,source:null,stack:O??null,digest:C??null}}function y3(b,C){try{console.error(C.value)}catch(O){setTimeout(function(){throw O})}}var A2e=typeof WeakMap=="function"?WeakMap:Map;function mee(b,C,O){O=Og(-1,O),O.tag=3,O.payload={element:null};var R=C.value;return O.callback=function(){RI||(RI=!0,I3=R),y3(b,C)},O}function vee(b,C,O){O=Og(-1,O),O.tag=3;var R=b.type.getDerivedStateFromError;if(typeof R=="function"){var j=C.value;O.payload=function(){return R(j)},O.callback=function(){y3(b,C)}}var W=b.stateNode;return W!==null&&typeof W.componentDidCatch=="function"&&(O.callback=function(){y3(b,C),typeof R!="function"&&(uv===null?uv=new Set([this]):uv.add(this));var ee=C.stack;this.componentDidCatch(C.value,{componentStack:ee!==null?ee:""})}),O}function yee(b,C,O){var R=b.pingCache;if(R===null){R=b.pingCache=new A2e;var j=new Set;R.set(C,j)}else j=R.get(C),j===void 0&&(j=new Set,R.set(C,j));j.has(O)||(j.add(O),b=z2e.bind(null,b,C,O),C.then(b,b))}function _ee(b){do{var C;if((C=b.tag===13)&&(C=b.memoizedState,C=C!==null?C.dehydrated!==null:!0),C)return b;b=b.return}while(b!==null);return null}function bee(b,C,O,R,j){return b.mode&1?(b.flags|=65536,b.lanes=j,b):(b===C?b.flags|=65536:(b.flags|=128,O.flags|=131072,O.flags&=-52805,O.tag===1&&(O.alternate===null?O.tag=17:(C=Og(-1,1),C.tag=2,ov(O,C,1))),O.lanes|=1),b)}var k2e=w.ReactCurrentOwner,zu=!1;function ou(b,C,O,R){C.child=b===null?jJ(C,null,O,R):bS(C,b.child,O,R)}function See(b,C,O,R,j){O=O.render;var W=C.ref;return xS(C,j),R=u3(b,C,O,R,W,j),O=c3(),b!==null&&!zu?(C.updateQueue=b.updateQueue,C.flags&=-2053,b.lanes&=~j,Pg(b,C,j)):(Ms&&O&&GH(C),C.flags|=1,ou(b,C,R,j),C.child)}function xee(b,C,O,R,j){if(b===null){var W=O.type;return typeof W=="function"&&!N3(W)&&W.defaultProps===void 0&&O.compare===null&&O.defaultProps===void 0?(C.tag=15,C.type=W,wee(b,C,W,R,j)):(b=NI(O.type,null,R,C,C.mode,j),b.ref=C.ref,b.return=C,C.child=b)}if(W=b.child,!(b.lanes&j)){var ee=W.memoizedProps;if(O=O.compare,O=O!==null?O:aT,O(ee,R)&&b.ref===C.ref)return Pg(b,C,j)}return C.flags|=1,b=fv(W,R),b.ref=C.ref,b.return=C,C.child=b}function wee(b,C,O,R,j){if(b!==null){var W=b.memoizedProps;if(aT(W,R)&&b.ref===C.ref)if(zu=!1,C.pendingProps=R=W,(b.lanes&j)!==0)b.flags&131072&&(zu=!0);else return C.lanes=b.lanes,Pg(b,C,j)}return _3(b,C,O,R,j)}function Cee(b,C,O){var R=C.pendingProps,j=R.children,W=b!==null?b.memoizedState:null;if(R.mode==="hidden")if(!(C.mode&1))C.memoizedState={baseLanes:0,cachePool:null,transitions:null},ls(ES,Pc),Pc|=O;else{if(!(O&1073741824))return b=W!==null?W.baseLanes|O:O,C.lanes=C.childLanes=1073741824,C.memoizedState={baseLanes:b,cachePool:null,transitions:null},C.updateQueue=null,ls(ES,Pc),Pc|=b,null;C.memoizedState={baseLanes:0,cachePool:null,transitions:null},R=W!==null?W.baseLanes:O,ls(ES,Pc),Pc|=R}else W!==null?(R=W.baseLanes|O,C.memoizedState=null):R=O,ls(ES,Pc),Pc|=R;return ou(b,C,j,O),C.child}function Tee(b,C){var O=C.ref;(b===null&&O!==null||b!==null&&b.ref!==O)&&(C.flags|=512,C.flags|=2097152)}function _3(b,C,O,R,j){var W=ju(O)?__:Al.current;return W=mS(C,W),xS(C,j),O=u3(b,C,O,R,W,j),R=c3(),b!==null&&!zu?(C.updateQueue=b.updateQueue,C.flags&=-2053,b.lanes&=~j,Pg(b,C,j)):(Ms&&R&&GH(C),C.flags|=1,ou(b,C,O,j),C.child)}function Eee(b,C,O,R,j){if(ju(O)){var W=!0;cI(C)}else W=!1;if(xS(C,j),C.stateNode===null)kI(b,C),pee(C,O,R),m3(C,O,R,j),R=!0;else if(b===null){var ee=C.stateNode,he=C.memoizedProps;ee.props=he;var we=ee.context,Ne=O.contextType;typeof Ne=="object"&&Ne!==null?Ne=bd(Ne):(Ne=ju(O)?__:Al.current,Ne=mS(C,Ne));var ft=O.getDerivedStateFromProps,mt=typeof ft=="function"||typeof ee.getSnapshotBeforeUpdate=="function";mt||typeof ee.UNSAFE_componentWillReceiveProps!="function"&&typeof ee.componentWillReceiveProps!="function"||(he!==R||we!==Ne)&&gee(C,ee,R,Ne),av=!1;var ht=C.memoizedState;ee.state=ht,_I(C,R,ee,j),we=C.memoizedState,he!==R||ht!==we||Nu.current||av?(typeof ft=="function"&&(g3(C,O,ft,R),we=C.memoizedState),(he=av||fee(C,O,he,R,ht,we,Ne))?(mt||typeof ee.UNSAFE_componentWillMount!="function"&&typeof ee.componentWillMount!="function"||(typeof ee.componentWillMount=="function"&&ee.componentWillMount(),typeof ee.UNSAFE_componentWillMount=="function"&&ee.UNSAFE_componentWillMount()),typeof ee.componentDidMount=="function"&&(C.flags|=4194308)):(typeof ee.componentDidMount=="function"&&(C.flags|=4194308),C.memoizedProps=R,C.memoizedState=we),ee.props=R,ee.state=we,ee.context=Ne,R=he):(typeof ee.componentDidMount=="function"&&(C.flags|=4194308),R=!1)}else{ee=C.stateNode,HJ(b,C),he=C.memoizedProps,Ne=C.type===C.elementType?he:$h(C.type,he),ee.props=Ne,mt=C.pendingProps,ht=ee.context,we=O.contextType,typeof we=="object"&&we!==null?we=bd(we):(we=ju(O)?__:Al.current,we=mS(C,we));var Kt=O.getDerivedStateFromProps;(ft=typeof Kt=="function"||typeof ee.getSnapshotBeforeUpdate=="function")||typeof ee.UNSAFE_componentWillReceiveProps!="function"&&typeof ee.componentWillReceiveProps!="function"||(he!==mt||ht!==we)&&gee(C,ee,R,we),av=!1,ht=C.memoizedState,ee.state=ht,_I(C,R,ee,j);var an=C.memoizedState;he!==mt||ht!==an||Nu.current||av?(typeof Kt=="function"&&(g3(C,O,Kt,R),an=C.memoizedState),(Ne=av||fee(C,O,Ne,R,ht,an,we)||!1)?(ft||typeof ee.UNSAFE_componentWillUpdate!="function"&&typeof ee.componentWillUpdate!="function"||(typeof ee.componentWillUpdate=="function"&&ee.componentWillUpdate(R,an,we),typeof ee.UNSAFE_componentWillUpdate=="function"&&ee.UNSAFE_componentWillUpdate(R,an,we)),typeof ee.componentDidUpdate=="function"&&(C.flags|=4),typeof ee.getSnapshotBeforeUpdate=="function"&&(C.flags|=1024)):(typeof ee.componentDidUpdate!="function"||he===b.memoizedProps&&ht===b.memoizedState||(C.flags|=4),typeof ee.getSnapshotBeforeUpdate!="function"||he===b.memoizedProps&&ht===b.memoizedState||(C.flags|=1024),C.memoizedProps=R,C.memoizedState=an),ee.props=R,ee.state=an,ee.context=we,R=Ne):(typeof ee.componentDidUpdate!="function"||he===b.memoizedProps&&ht===b.memoizedState||(C.flags|=4),typeof ee.getSnapshotBeforeUpdate!="function"||he===b.memoizedProps&&ht===b.memoizedState||(C.flags|=1024),R=!1)}return b3(b,C,O,R,W,j)}function b3(b,C,O,R,j,W){Tee(b,C);var ee=(C.flags&128)!==0;if(!R&&!ee)return j&&MJ(C,O,!1),Pg(b,C,W);R=C.stateNode,k2e.current=C;var he=ee&&typeof O.getDerivedStateFromError!="function"?null:R.render();return C.flags|=1,b!==null&&ee?(C.child=bS(C,b.child,null,W),C.child=bS(C,null,he,W)):ou(b,C,he,W),C.memoizedState=R.state,j&&MJ(C,O,!0),C.child}function Aee(b){var C=b.stateNode;C.pendingContext?OJ(b,C.pendingContext,C.pendingContext!==C.context):C.context&&OJ(b,C.context,!1),i3(b,C.containerInfo)}function kee(b,C,O,R,j){return _S(),qH(j),C.flags|=256,ou(b,C,O,R),C.child}var S3={dehydrated:null,treeContext:null,retryLane:0};function x3(b){return{baseLanes:b,cachePool:null,transitions:null}}function Oee(b,C,O){var R=C.pendingProps,j=Ks.current,W=!1,ee=(C.flags&128)!==0,he;if((he=ee)||(he=b!==null&&b.memoizedState===null?!1:(j&2)!==0),he?(W=!0,C.flags&=-129):(b===null||b.memoizedState!==null)&&(j|=1),ls(Ks,j&1),b===null)return XH(C),b=C.memoizedState,b!==null&&(b=b.dehydrated,b!==null)?(C.mode&1?b.data==="$!"?C.lanes=8:C.lanes=1073741824:C.lanes=1,null):(ee=R.children,b=R.fallback,W?(R=C.mode,W=C.child,ee={mode:"hidden",children:ee},!(R&1)&&W!==null?(W.childLanes=0,W.pendingProps=ee):W=jI(ee,R,0,null),b=O_(b,R,O,null),W.return=C,b.return=C,W.sibling=b,C.child=W,C.child.memoizedState=x3(O),C.memoizedState=S3,b):w3(C,ee));if(j=b.memoizedState,j!==null&&(he=j.dehydrated,he!==null))return O2e(b,C,ee,R,he,j,O);if(W){W=R.fallback,ee=C.mode,j=b.child,he=j.sibling;var we={mode:"hidden",children:R.children};return!(ee&1)&&C.child!==j?(R=C.child,R.childLanes=0,R.pendingProps=we,C.deletions=null):(R=fv(j,we),R.subtreeFlags=j.subtreeFlags&14680064),he!==null?W=fv(he,W):(W=O_(W,ee,O,null),W.flags|=2),W.return=C,R.return=C,R.sibling=W,C.child=R,R=W,W=C.child,ee=b.child.memoizedState,ee=ee===null?x3(O):{baseLanes:ee.baseLanes|O,cachePool:null,transitions:ee.transitions},W.memoizedState=ee,W.childLanes=b.childLanes&~O,C.memoizedState=S3,R}return W=b.child,b=W.sibling,R=fv(W,{mode:"visible",children:R.children}),!(C.mode&1)&&(R.lanes=O),R.return=C,R.sibling=null,b!==null&&(O=C.deletions,O===null?(C.deletions=[b],C.flags|=16):O.push(b)),C.child=R,C.memoizedState=null,R}function w3(b,C){return C=jI({mode:"visible",children:C},b.mode,0,null),C.return=b,b.child=C}function AI(b,C,O,R){return R!==null&&qH(R),bS(C,b.child,null,O),b=w3(C,C.pendingProps.children),b.flags|=2,C.memoizedState=null,b}function O2e(b,C,O,R,j,W,ee){if(O)return C.flags&256?(C.flags&=-257,R=v3(Error(i(422))),AI(b,C,ee,R)):C.memoizedState!==null?(C.child=b.child,C.flags|=128,null):(W=R.fallback,j=C.mode,R=jI({mode:"visible",children:R.children},j,0,null),W=O_(W,j,ee,null),W.flags|=2,R.return=C,W.return=C,R.sibling=W,C.child=R,C.mode&1&&bS(C,b.child,null,ee),C.child.memoizedState=x3(ee),C.memoizedState=S3,W);if(!(C.mode&1))return AI(b,C,ee,null);if(j.data==="$!"){if(R=j.nextSibling&&j.nextSibling.dataset,R)var he=R.dgst;return R=he,W=Error(i(419)),R=v3(W,R,void 0),AI(b,C,ee,R)}if(he=(ee&b.childLanes)!==0,zu||he){if(R=Io,R!==null){switch(ee&-ee){case 4:j=2;break;case 16:j=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:j=32;break;case 536870912:j=268435456;break;default:j=0}j=j&(R.suspendedLanes|ee)?0:j,j!==0&&j!==W.retryLane&&(W.retryLane=j,kg(b,j),zh(R,b,j,-1))}return $3(),R=v3(Error(i(421))),AI(b,C,ee,R)}return j.data==="$?"?(C.flags|=128,C.child=b.child,C=H2e.bind(null,b),j._reactRetry=C,null):(b=W.treeContext,Oc=nv(j.nextSibling),kc=C,Ms=!0,Bh=null,b!==null&&(yd[_d++]=Eg,yd[_d++]=Ag,yd[_d++]=b_,Eg=b.id,Ag=b.overflow,b_=C),C=w3(C,R.children),C.flags|=4096,C)}function Pee(b,C,O){b.lanes|=C;var R=b.alternate;R!==null&&(R.lanes|=C),e3(b.return,C,O)}function C3(b,C,O,R,j){var W=b.memoizedState;W===null?b.memoizedState={isBackwards:C,rendering:null,renderingStartTime:0,last:R,tail:O,tailMode:j}:(W.isBackwards=C,W.rendering=null,W.renderingStartTime=0,W.last=R,W.tail=O,W.tailMode=j)}function Mee(b,C,O){var R=C.pendingProps,j=R.revealOrder,W=R.tail;if(ou(b,C,R.children,O),R=Ks.current,R&2)R=R&1|2,C.flags|=128;else{if(b!==null&&b.flags&128)e:for(b=C.child;b!==null;){if(b.tag===13)b.memoizedState!==null&&Pee(b,O,C);else if(b.tag===19)Pee(b,O,C);else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===C)break e;for(;b.sibling===null;){if(b.return===null||b.return===C)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}R&=1}if(ls(Ks,R),!(C.mode&1))C.memoizedState=null;else switch(j){case"forwards":for(O=C.child,j=null;O!==null;)b=O.alternate,b!==null&&bI(b)===null&&(j=O),O=O.sibling;O=j,O===null?(j=C.child,C.child=null):(j=O.sibling,O.sibling=null),C3(C,!1,j,O,W);break;case"backwards":for(O=null,j=C.child,C.child=null;j!==null;){if(b=j.alternate,b!==null&&bI(b)===null){C.child=j;break}b=j.sibling,j.sibling=O,O=j,j=b}C3(C,!0,O,null,W);break;case"together":C3(C,!1,null,null,void 0);break;default:C.memoizedState=null}return C.child}function kI(b,C){!(C.mode&1)&&b!==null&&(b.alternate=null,C.alternate=null,C.flags|=2)}function Pg(b,C,O){if(b!==null&&(C.dependencies=b.dependencies),T_|=C.lanes,!(O&C.childLanes))return null;if(b!==null&&C.child!==b.child)throw Error(i(153));if(C.child!==null){for(b=C.child,O=fv(b,b.pendingProps),C.child=O,O.return=C;b.sibling!==null;)b=b.sibling,O=O.sibling=fv(b,b.pendingProps),O.return=C;O.sibling=null}return C.child}function P2e(b,C,O){switch(C.tag){case 3:Aee(C),_S();break;case 5:UJ(C);break;case 1:ju(C.type)&&cI(C);break;case 4:i3(C,C.stateNode.containerInfo);break;case 10:var R=C.type._context,j=C.memoizedProps.value;ls(mI,R._currentValue),R._currentValue=j;break;case 13:if(R=C.memoizedState,R!==null)return R.dehydrated!==null?(ls(Ks,Ks.current&1),C.flags|=128,null):O&C.child.childLanes?Oee(b,C,O):(ls(Ks,Ks.current&1),b=Pg(b,C,O),b!==null?b.sibling:null);ls(Ks,Ks.current&1);break;case 19:if(R=(O&C.childLanes)!==0,b.flags&128){if(R)return Mee(b,C,O);C.flags|=128}if(j=C.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),ls(Ks,Ks.current),R)break;return null;case 22:case 23:return C.lanes=0,Cee(b,C,O)}return Pg(b,C,O)}var Iee,T3,Ree,Dee;Iee=function(b,C){for(var O=C.child;O!==null;){if(O.tag===5||O.tag===6)b.appendChild(O.stateNode);else if(O.tag!==4&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===C)break;for(;O.sibling===null;){if(O.return===null||O.return===C)return;O=O.return}O.sibling.return=O.return,O=O.sibling}},T3=function(){},Ree=function(b,C,O,R){var j=b.memoizedProps;if(j!==R){b=C.stateNode,w_(Yf.current);var W=null;switch(O){case"input":j=Ee(b,j),R=Ee(b,R),W=[];break;case"select":j=K({},j,{value:void 0}),R=K({},R,{value:void 0}),W=[];break;case"textarea":j=$e(b,j),R=$e(b,R),W=[];break;default:typeof j.onClick!="function"&&typeof R.onClick=="function"&&(b.onclick=oI)}Wt(O,R);var ee;O=null;for(Ne in j)if(!R.hasOwnProperty(Ne)&&j.hasOwnProperty(Ne)&&j[Ne]!=null)if(Ne==="style"){var he=j[Ne];for(ee in he)he.hasOwnProperty(ee)&&(O||(O={}),O[ee]="")}else Ne!=="dangerouslySetInnerHTML"&&Ne!=="children"&&Ne!=="suppressContentEditableWarning"&&Ne!=="suppressHydrationWarning"&&Ne!=="autoFocus"&&(s.hasOwnProperty(Ne)?W||(W=[]):(W=W||[]).push(Ne,null));for(Ne in R){var we=R[Ne];if(he=j!=null?j[Ne]:void 0,R.hasOwnProperty(Ne)&&we!==he&&(we!=null||he!=null))if(Ne==="style")if(he){for(ee in he)!he.hasOwnProperty(ee)||we&&we.hasOwnProperty(ee)||(O||(O={}),O[ee]="");for(ee in we)we.hasOwnProperty(ee)&&he[ee]!==we[ee]&&(O||(O={}),O[ee]=we[ee])}else O||(W||(W=[]),W.push(Ne,O)),O=we;else Ne==="dangerouslySetInnerHTML"?(we=we?we.__html:void 0,he=he?he.__html:void 0,we!=null&&he!==we&&(W=W||[]).push(Ne,we)):Ne==="children"?typeof we!="string"&&typeof we!="number"||(W=W||[]).push(Ne,""+we):Ne!=="suppressContentEditableWarning"&&Ne!=="suppressHydrationWarning"&&(s.hasOwnProperty(Ne)?(we!=null&&Ne==="onScroll"&&_s("scroll",b),W||he===we||(W=[])):(W=W||[]).push(Ne,we))}O&&(W=W||[]).push("style",O);var Ne=W;(C.updateQueue=Ne)&&(C.flags|=4)}},Dee=function(b,C,O,R){O!==R&&(C.flags|=4)};function ST(b,C){if(!Ms)switch(b.tailMode){case"hidden":C=b.tail;for(var O=null;C!==null;)C.alternate!==null&&(O=C),C=C.sibling;O===null?b.tail=null:O.sibling=null;break;case"collapsed":O=b.tail;for(var R=null;O!==null;)O.alternate!==null&&(R=O),O=O.sibling;R===null?C||b.tail===null?b.tail=null:b.tail.sibling=null:R.sibling=null}}function Ol(b){var C=b.alternate!==null&&b.alternate.child===b.child,O=0,R=0;if(C)for(var j=b.child;j!==null;)O|=j.lanes|j.childLanes,R|=j.subtreeFlags&14680064,R|=j.flags&14680064,j.return=b,j=j.sibling;else for(j=b.child;j!==null;)O|=j.lanes|j.childLanes,R|=j.subtreeFlags,R|=j.flags,j.return=b,j=j.sibling;return b.subtreeFlags|=R,b.childLanes=O,C}function M2e(b,C,O){var R=C.pendingProps;switch(YH(C),C.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ol(C),null;case 1:return ju(C.type)&&uI(),Ol(C),null;case 3:return R=C.stateNode,wS(),bs(Nu),bs(Al),a3(),R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(b===null||b.child===null)&&(pI(C)?C.flags|=4:b===null||b.memoizedState.isDehydrated&&!(C.flags&256)||(C.flags|=1024,Bh!==null&&(L3(Bh),Bh=null))),T3(b,C),Ol(C),null;case 5:r3(C);var j=w_(mT.current);if(O=C.type,b!==null&&C.stateNode!=null)Ree(b,C,O,R,j),b.ref!==C.ref&&(C.flags|=512,C.flags|=2097152);else{if(!R){if(C.stateNode===null)throw Error(i(166));return Ol(C),null}if(b=w_(Yf.current),pI(C)){R=C.stateNode,O=C.type;var W=C.memoizedProps;switch(R[Gf]=C,R[dT]=W,b=(C.mode&1)!==0,O){case"dialog":_s("cancel",R),_s("close",R);break;case"iframe":case"object":case"embed":_s("load",R);break;case"video":case"audio":for(j=0;j<lT.length;j++)_s(lT[j],R);break;case"source":_s("error",R);break;case"img":case"image":case"link":_s("error",R),_s("load",R);break;case"details":_s("toggle",R);break;case"input":Se(R,W),_s("invalid",R);break;case"select":R._wrapperState={wasMultiple:!!W.multiple},_s("invalid",R);break;case"textarea":et(R,W),_s("invalid",R)}Wt(O,W),j=null;for(var ee in W)if(W.hasOwnProperty(ee)){var he=W[ee];ee==="children"?typeof he=="string"?R.textContent!==he&&(W.suppressHydrationWarning!==!0&&aI(R.textContent,he,b),j=["children",he]):typeof he=="number"&&R.textContent!==""+he&&(W.suppressHydrationWarning!==!0&&aI(R.textContent,he,b),j=["children",""+he]):s.hasOwnProperty(ee)&&he!=null&&ee==="onScroll"&&_s("scroll",R)}switch(O){case"input":ve(R),Pe(R,W,!0);break;case"textarea":ve(R),Ct(R);break;case"select":case"option":break;default:typeof W.onClick=="function"&&(R.onclick=oI)}R=j,C.updateQueue=R,R!==null&&(C.flags|=4)}else{ee=j.nodeType===9?j:j.ownerDocument,b==="http://www.w3.org/1999/xhtml"&&(b=tt(O)),b==="http://www.w3.org/1999/xhtml"?O==="script"?(b=ee.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild)):typeof R.is=="string"?b=ee.createElement(O,{is:R.is}):(b=ee.createElement(O),O==="select"&&(ee=b,R.multiple?ee.multiple=!0:R.size&&(ee.size=R.size))):b=ee.createElementNS(b,O),b[Gf]=C,b[dT]=R,Iee(b,C,!1,!1),C.stateNode=b;e:{switch(ee=Cn(O,R),O){case"dialog":_s("cancel",b),_s("close",b),j=R;break;case"iframe":case"object":case"embed":_s("load",b),j=R;break;case"video":case"audio":for(j=0;j<lT.length;j++)_s(lT[j],b);j=R;break;case"source":_s("error",b),j=R;break;case"img":case"image":case"link":_s("error",b),_s("load",b),j=R;break;case"details":_s("toggle",b),j=R;break;case"input":Se(b,R),j=Ee(b,R),_s("invalid",b);break;case"option":j=R;break;case"select":b._wrapperState={wasMultiple:!!R.multiple},j=K({},R,{value:void 0}),_s("invalid",b);break;case"textarea":et(b,R),j=$e(b,R),_s("invalid",b);break;default:j=R}Wt(O,j),he=j;for(W in he)if(he.hasOwnProperty(W)){var we=he[W];W==="style"?Ft(b,we):W==="dangerouslySetInnerHTML"?(we=we?we.__html:void 0,we!=null&&bt(b,we)):W==="children"?typeof we=="string"?(O!=="textarea"||we!=="")&&rt(b,we):typeof we=="number"&&rt(b,""+we):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(s.hasOwnProperty(W)?we!=null&&W==="onScroll"&&_s("scroll",b):we!=null&&x(b,W,we,ee))}switch(O){case"input":ve(b),Pe(b,R,!1);break;case"textarea":ve(b),Ct(b);break;case"option":R.value!=null&&b.setAttribute("value",""+oe(R.value));break;case"select":b.multiple=!!R.multiple,W=R.value,W!=null?ot(b,!!R.multiple,W,!1):R.defaultValue!=null&&ot(b,!!R.multiple,R.defaultValue,!0);break;default:typeof j.onClick=="function"&&(b.onclick=oI)}switch(O){case"button":case"input":case"select":case"textarea":R=!!R.autoFocus;break e;case"img":R=!0;break e;default:R=!1}}R&&(C.flags|=4)}C.ref!==null&&(C.flags|=512,C.flags|=2097152)}return Ol(C),null;case 6:if(b&&C.stateNode!=null)Dee(b,C,b.memoizedProps,R);else{if(typeof R!="string"&&C.stateNode===null)throw Error(i(166));if(O=w_(mT.current),w_(Yf.current),pI(C)){if(R=C.stateNode,O=C.memoizedProps,R[Gf]=C,(W=R.nodeValue!==O)&&(b=kc,b!==null))switch(b.tag){case 3:aI(R.nodeValue,O,(b.mode&1)!==0);break;case 5:b.memoizedProps.suppressHydrationWarning!==!0&&aI(R.nodeValue,O,(b.mode&1)!==0)}W&&(C.flags|=4)}else R=(O.nodeType===9?O:O.ownerDocument).createTextNode(R),R[Gf]=C,C.stateNode=R}return Ol(C),null;case 13:if(bs(Ks),R=C.memoizedState,b===null||b.memoizedState!==null&&b.memoizedState.dehydrated!==null){if(Ms&&Oc!==null&&C.mode&1&&!(C.flags&128))BJ(),_S(),C.flags|=98560,W=!1;else if(W=pI(C),R!==null&&R.dehydrated!==null){if(b===null){if(!W)throw Error(i(318));if(W=C.memoizedState,W=W!==null?W.dehydrated:null,!W)throw Error(i(317));W[Gf]=C}else _S(),!(C.flags&128)&&(C.memoizedState=null),C.flags|=4;Ol(C),W=!1}else Bh!==null&&(L3(Bh),Bh=null),W=!0;if(!W)return C.flags&65536?C:null}return C.flags&128?(C.lanes=O,C):(R=R!==null,R!==(b!==null&&b.memoizedState!==null)&&R&&(C.child.flags|=8192,C.mode&1&&(b===null||Ks.current&1?po===0&&(po=3):$3())),C.updateQueue!==null&&(C.flags|=4),Ol(C),null);case 4:return wS(),T3(b,C),b===null&&uT(C.stateNode.containerInfo),Ol(C),null;case 10:return JH(C.type._context),Ol(C),null;case 17:return ju(C.type)&&uI(),Ol(C),null;case 19:if(bs(Ks),W=C.memoizedState,W===null)return Ol(C),null;if(R=(C.flags&128)!==0,ee=W.rendering,ee===null)if(R)ST(W,!1);else{if(po!==0||b!==null&&b.flags&128)for(b=C.child;b!==null;){if(ee=bI(b),ee!==null){for(C.flags|=128,ST(W,!1),R=ee.updateQueue,R!==null&&(C.updateQueue=R,C.flags|=4),C.subtreeFlags=0,R=O,O=C.child;O!==null;)W=O,b=R,W.flags&=14680066,ee=W.alternate,ee===null?(W.childLanes=0,W.lanes=b,W.child=null,W.subtreeFlags=0,W.memoizedProps=null,W.memoizedState=null,W.updateQueue=null,W.dependencies=null,W.stateNode=null):(W.childLanes=ee.childLanes,W.lanes=ee.lanes,W.child=ee.child,W.subtreeFlags=0,W.deletions=null,W.memoizedProps=ee.memoizedProps,W.memoizedState=ee.memoizedState,W.updateQueue=ee.updateQueue,W.type=ee.type,b=ee.dependencies,W.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),O=O.sibling;return ls(Ks,Ks.current&1|2),C.child}b=b.sibling}W.tail!==null&&Sn()>AS&&(C.flags|=128,R=!0,ST(W,!1),C.lanes=4194304)}else{if(!R)if(b=bI(ee),b!==null){if(C.flags|=128,R=!0,O=b.updateQueue,O!==null&&(C.updateQueue=O,C.flags|=4),ST(W,!0),W.tail===null&&W.tailMode==="hidden"&&!ee.alternate&&!Ms)return Ol(C),null}else 2*Sn()-W.renderingStartTime>AS&&O!==1073741824&&(C.flags|=128,R=!0,ST(W,!1),C.lanes=4194304);W.isBackwards?(ee.sibling=C.child,C.child=ee):(O=W.last,O!==null?O.sibling=ee:C.child=ee,W.last=ee)}return W.tail!==null?(C=W.tail,W.rendering=C,W.tail=C.sibling,W.renderingStartTime=Sn(),C.sibling=null,O=Ks.current,ls(Ks,R?O&1|2:O&1),C):(Ol(C),null);case 22:case 23:return B3(),R=C.memoizedState!==null,b!==null&&b.memoizedState!==null!==R&&(C.flags|=8192),R&&C.mode&1?Pc&1073741824&&(Ol(C),C.subtreeFlags&6&&(C.flags|=8192)):Ol(C),null;case 24:return null;case 25:return null}throw Error(i(156,C.tag))}function I2e(b,C){switch(YH(C),C.tag){case 1:return ju(C.type)&&uI(),b=C.flags,b&65536?(C.flags=b&-65537|128,C):null;case 3:return wS(),bs(Nu),bs(Al),a3(),b=C.flags,b&65536&&!(b&128)?(C.flags=b&-65537|128,C):null;case 5:return r3(C),null;case 13:if(bs(Ks),b=C.memoizedState,b!==null&&b.dehydrated!==null){if(C.alternate===null)throw Error(i(340));_S()}return b=C.flags,b&65536?(C.flags=b&-65537|128,C):null;case 19:return bs(Ks),null;case 4:return wS(),null;case 10:return JH(C.type._context),null;case 22:case 23:return B3(),null;case 24:return null;default:return null}}var OI=!1,Pl=!1,R2e=typeof WeakSet=="function"?WeakSet:Set,tn=null;function TS(b,C){var O=b.ref;if(O!==null)if(typeof O=="function")try{O(null)}catch(R){la(b,C,R)}else O.current=null}function Lee(b,C,O){try{O()}catch(R){la(b,C,R)}}var Fee=!1;function D2e(b,C){if($H=f_,b=dJ(),IH(b)){if("selectionStart"in b)var O={start:b.selectionStart,end:b.selectionEnd};else e:{O=(O=b.ownerDocument)&&O.defaultView||window;var R=O.getSelection&&O.getSelection();if(R&&R.rangeCount!==0){O=R.anchorNode;var j=R.anchorOffset,W=R.focusNode;R=R.focusOffset;try{O.nodeType,W.nodeType}catch{O=null;break e}var ee=0,he=-1,we=-1,Ne=0,ft=0,mt=b,ht=null;t:for(;;){for(var Kt;mt!==O||j!==0&&mt.nodeType!==3||(he=ee+j),mt!==W||R!==0&&mt.nodeType!==3||(we=ee+R),mt.nodeType===3&&(ee+=mt.nodeValue.length),(Kt=mt.firstChild)!==null;)ht=mt,mt=Kt;for(;;){if(mt===b)break t;if(ht===O&&++Ne===j&&(he=ee),ht===W&&++ft===R&&(we=ee),(Kt=mt.nextSibling)!==null)break;mt=ht,ht=mt.parentNode}mt=Kt}O=he===-1||we===-1?null:{start:he,end:we}}else O=null}O=O||{start:0,end:0}}else O=null;for(NH={focusedElem:b,selectionRange:O},f_=!1,tn=C;tn!==null;)if(C=tn,b=C.child,(C.subtreeFlags&1028)!==0&&b!==null)b.return=C,tn=b;else for(;tn!==null;){C=tn;try{var an=C.alternate;if(C.flags&1024)switch(C.tag){case 0:case 11:case 15:break;case 1:if(an!==null){var cn=an.memoizedProps,Ta=an.memoizedState,De=C.stateNode,ke=De.getSnapshotBeforeUpdate(C.elementType===C.type?cn:$h(C.type,cn),Ta);De.__reactInternalSnapshotBeforeUpdate=ke}break;case 3:var Be=C.stateNode.containerInfo;Be.nodeType===1?Be.textContent="":Be.nodeType===9&&Be.documentElement&&Be.removeChild(Be.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(wt){la(C,C.return,wt)}if(b=C.sibling,b!==null){b.return=C.return,tn=b;break}tn=C.return}return an=Fee,Fee=!1,an}function xT(b,C,O){var R=C.updateQueue;if(R=R!==null?R.lastEffect:null,R!==null){var j=R=R.next;do{if((j.tag&b)===b){var W=j.destroy;j.destroy=void 0,W!==void 0&&Lee(C,O,W)}j=j.next}while(j!==R)}}function PI(b,C){if(C=C.updateQueue,C=C!==null?C.lastEffect:null,C!==null){var O=C=C.next;do{if((O.tag&b)===b){var R=O.create;O.destroy=R()}O=O.next}while(O!==C)}}function E3(b){var C=b.ref;if(C!==null){var O=b.stateNode;switch(b.tag){case 5:b=O;break;default:b=O}typeof C=="function"?C(b):C.current=b}}function Bee(b){var C=b.alternate;C!==null&&(b.alternate=null,Bee(C)),b.child=null,b.deletions=null,b.sibling=null,b.tag===5&&(C=b.stateNode,C!==null&&(delete C[Gf],delete C[dT],delete C[VH],delete C[m2e],delete C[v2e])),b.stateNode=null,b.return=null,b.dependencies=null,b.memoizedProps=null,b.memoizedState=null,b.pendingProps=null,b.stateNode=null,b.updateQueue=null}function $ee(b){return b.tag===5||b.tag===3||b.tag===4}function Nee(b){e:for(;;){for(;b.sibling===null;){if(b.return===null||$ee(b.return))return null;b=b.return}for(b.sibling.return=b.return,b=b.sibling;b.tag!==5&&b.tag!==6&&b.tag!==18;){if(b.flags&2||b.child===null||b.tag===4)continue e;b.child.return=b,b=b.child}if(!(b.flags&2))return b.stateNode}}function A3(b,C,O){var R=b.tag;if(R===5||R===6)b=b.stateNode,C?O.nodeType===8?O.parentNode.insertBefore(b,C):O.insertBefore(b,C):(O.nodeType===8?(C=O.parentNode,C.insertBefore(b,O)):(C=O,C.appendChild(b)),O=O._reactRootContainer,O!=null||C.onclick!==null||(C.onclick=oI));else if(R!==4&&(b=b.child,b!==null))for(A3(b,C,O),b=b.sibling;b!==null;)A3(b,C,O),b=b.sibling}function k3(b,C,O){var R=b.tag;if(R===5||R===6)b=b.stateNode,C?O.insertBefore(b,C):O.appendChild(b);else if(R!==4&&(b=b.child,b!==null))for(k3(b,C,O),b=b.sibling;b!==null;)k3(b,C,O),b=b.sibling}var el=null,Nh=!1;function lv(b,C,O){for(O=O.child;O!==null;)jee(b,C,O),O=O.sibling}function jee(b,C,O){if(os&&typeof os.onCommitFiberUnmount=="function")try{os.onCommitFiberUnmount(Zo,O)}catch{}switch(O.tag){case 5:Pl||TS(O,C);case 6:var R=el,j=Nh;el=null,lv(b,C,O),el=R,Nh=j,el!==null&&(Nh?(b=el,O=O.stateNode,b.nodeType===8?b.parentNode.removeChild(O):b.removeChild(O)):el.removeChild(O.stateNode));break;case 18:el!==null&&(Nh?(b=el,O=O.stateNode,b.nodeType===8?HH(b.parentNode,O):b.nodeType===1&&HH(b,O),au(b)):HH(el,O.stateNode));break;case 4:R=el,j=Nh,el=O.stateNode.containerInfo,Nh=!0,lv(b,C,O),el=R,Nh=j;break;case 0:case 11:case 14:case 15:if(!Pl&&(R=O.updateQueue,R!==null&&(R=R.lastEffect,R!==null))){j=R=R.next;do{var W=j,ee=W.destroy;W=W.tag,ee!==void 0&&(W&2||W&4)&&Lee(O,C,ee),j=j.next}while(j!==R)}lv(b,C,O);break;case 1:if(!Pl&&(TS(O,C),R=O.stateNode,typeof R.componentWillUnmount=="function"))try{R.props=O.memoizedProps,R.state=O.memoizedState,R.componentWillUnmount()}catch(he){la(O,C,he)}lv(b,C,O);break;case 21:lv(b,C,O);break;case 22:O.mode&1?(Pl=(R=Pl)||O.memoizedState!==null,lv(b,C,O),Pl=R):lv(b,C,O);break;default:lv(b,C,O)}}function zee(b){var C=b.updateQueue;if(C!==null){b.updateQueue=null;var O=b.stateNode;O===null&&(O=b.stateNode=new R2e),C.forEach(function(R){var j=V2e.bind(null,b,R);O.has(R)||(O.add(R),R.then(j,j))})}}function jh(b,C){var O=C.deletions;if(O!==null)for(var R=0;R<O.length;R++){var j=O[R];try{var W=b,ee=C,he=ee;e:for(;he!==null;){switch(he.tag){case 5:el=he.stateNode,Nh=!1;break e;case 3:el=he.stateNode.containerInfo,Nh=!0;break e;case 4:el=he.stateNode.containerInfo,Nh=!0;break e}he=he.return}if(el===null)throw Error(i(160));jee(W,ee,j),el=null,Nh=!1;var we=j.alternate;we!==null&&(we.return=null),j.return=null}catch(Ne){la(j,C,Ne)}}if(C.subtreeFlags&12854)for(C=C.child;C!==null;)Hee(C,b),C=C.sibling}function Hee(b,C){var O=b.alternate,R=b.flags;switch(b.tag){case 0:case 11:case 14:case 15:if(jh(C,b),Xf(b),R&4){try{xT(3,b,b.return),PI(3,b)}catch(cn){la(b,b.return,cn)}try{xT(5,b,b.return)}catch(cn){la(b,b.return,cn)}}break;case 1:jh(C,b),Xf(b),R&512&&O!==null&&TS(O,O.return);break;case 5:if(jh(C,b),Xf(b),R&512&&O!==null&&TS(O,O.return),b.flags&32){var j=b.stateNode;try{rt(j,"")}catch(cn){la(b,b.return,cn)}}if(R&4&&(j=b.stateNode,j!=null)){var W=b.memoizedProps,ee=O!==null?O.memoizedProps:W,he=b.type,we=b.updateQueue;if(b.updateQueue=null,we!==null)try{he==="input"&&W.type==="radio"&&W.name!=null&&Fe(j,W),Cn(he,ee);var Ne=Cn(he,W);for(ee=0;ee<we.length;ee+=2){var ft=we[ee],mt=we[ee+1];ft==="style"?Ft(j,mt):ft==="dangerouslySetInnerHTML"?bt(j,mt):ft==="children"?rt(j,mt):x(j,ft,mt,Ne)}switch(he){case"input":Ge(j,W);break;case"textarea":Mt(j,W);break;case"select":var ht=j._wrapperState.wasMultiple;j._wrapperState.wasMultiple=!!W.multiple;var Kt=W.value;Kt!=null?ot(j,!!W.multiple,Kt,!1):ht!==!!W.multiple&&(W.defaultValue!=null?ot(j,!!W.multiple,W.defaultValue,!0):ot(j,!!W.multiple,W.multiple?[]:"",!1))}j[dT]=W}catch(cn){la(b,b.return,cn)}}break;case 6:if(jh(C,b),Xf(b),R&4){if(b.stateNode===null)throw Error(i(162));j=b.stateNode,W=b.memoizedProps;try{j.nodeValue=W}catch(cn){la(b,b.return,cn)}}break;case 3:if(jh(C,b),Xf(b),R&4&&O!==null&&O.memoizedState.isDehydrated)try{au(C.containerInfo)}catch(cn){la(b,b.return,cn)}break;case 4:jh(C,b),Xf(b);break;case 13:jh(C,b),Xf(b),j=b.child,j.flags&8192&&(W=j.memoizedState!==null,j.stateNode.isHidden=W,!W||j.alternate!==null&&j.alternate.memoizedState!==null||(M3=Sn())),R&4&&zee(b);break;case 22:if(ft=O!==null&&O.memoizedState!==null,b.mode&1?(Pl=(Ne=Pl)||ft,jh(C,b),Pl=Ne):jh(C,b),Xf(b),R&8192){if(Ne=b.memoizedState!==null,(b.stateNode.isHidden=Ne)&&!ft&&b.mode&1)for(tn=b,ft=b.child;ft!==null;){for(mt=tn=ft;tn!==null;){switch(ht=tn,Kt=ht.child,ht.tag){case 0:case 11:case 14:case 15:xT(4,ht,ht.return);break;case 1:TS(ht,ht.return);var an=ht.stateNode;if(typeof an.componentWillUnmount=="function"){R=ht,O=ht.return;try{C=R,an.props=C.memoizedProps,an.state=C.memoizedState,an.componentWillUnmount()}catch(cn){la(R,O,cn)}}break;case 5:TS(ht,ht.return);break;case 22:if(ht.memoizedState!==null){Uee(mt);continue}}Kt!==null?(Kt.return=ht,tn=Kt):Uee(mt)}ft=ft.sibling}e:for(ft=null,mt=b;;){if(mt.tag===5){if(ft===null){ft=mt;try{j=mt.stateNode,Ne?(W=j.style,typeof W.setProperty=="function"?W.setProperty("display","none","important"):W.display="none"):(he=mt.stateNode,we=mt.memoizedProps.style,ee=we!=null&&we.hasOwnProperty("display")?we.display:null,he.style.display=At("display",ee))}catch(cn){la(b,b.return,cn)}}}else if(mt.tag===6){if(ft===null)try{mt.stateNode.nodeValue=Ne?"":mt.memoizedProps}catch(cn){la(b,b.return,cn)}}else if((mt.tag!==22&&mt.tag!==23||mt.memoizedState===null||mt===b)&&mt.child!==null){mt.child.return=mt,mt=mt.child;continue}if(mt===b)break e;for(;mt.sibling===null;){if(mt.return===null||mt.return===b)break e;ft===mt&&(ft=null),mt=mt.return}ft===mt&&(ft=null),mt.sibling.return=mt.return,mt=mt.sibling}}break;case 19:jh(C,b),Xf(b),R&4&&zee(b);break;case 21:break;default:jh(C,b),Xf(b)}}function Xf(b){var C=b.flags;if(C&2){try{e:{for(var O=b.return;O!==null;){if($ee(O)){var R=O;break e}O=O.return}throw Error(i(160))}switch(R.tag){case 5:var j=R.stateNode;R.flags&32&&(rt(j,""),R.flags&=-33);var W=Nee(b);k3(b,W,j);break;case 3:case 4:var ee=R.stateNode.containerInfo,he=Nee(b);A3(b,he,ee);break;default:throw Error(i(161))}}catch(we){la(b,b.return,we)}b.flags&=-3}C&4096&&(b.flags&=-4097)}function L2e(b,C,O){tn=b,Vee(b)}function Vee(b,C,O){for(var R=(b.mode&1)!==0;tn!==null;){var j=tn,W=j.child;if(j.tag===22&&R){var ee=j.memoizedState!==null||OI;if(!ee){var he=j.alternate,we=he!==null&&he.memoizedState!==null||Pl;he=OI;var Ne=Pl;if(OI=ee,(Pl=we)&&!Ne)for(tn=j;tn!==null;)ee=tn,we=ee.child,ee.tag===22&&ee.memoizedState!==null?Gee(j):we!==null?(we.return=ee,tn=we):Gee(j);for(;W!==null;)tn=W,Vee(W),W=W.sibling;tn=j,OI=he,Pl=Ne}Wee(b)}else j.subtreeFlags&8772&&W!==null?(W.return=j,tn=W):Wee(b)}}function Wee(b){for(;tn!==null;){var C=tn;if(C.flags&8772){var O=C.alternate;try{if(C.flags&8772)switch(C.tag){case 0:case 11:case 15:Pl||PI(5,C);break;case 1:var R=C.stateNode;if(C.flags&4&&!Pl)if(O===null)R.componentDidMount();else{var j=C.elementType===C.type?O.memoizedProps:$h(C.type,O.memoizedProps);R.componentDidUpdate(j,O.memoizedState,R.__reactInternalSnapshotBeforeUpdate)}var W=C.updateQueue;W!==null&&WJ(C,W,R);break;case 3:var ee=C.updateQueue;if(ee!==null){if(O=null,C.child!==null)switch(C.child.tag){case 5:O=C.child.stateNode;break;case 1:O=C.child.stateNode}WJ(C,ee,O)}break;case 5:var he=C.stateNode;if(O===null&&C.flags&4){O=he;var we=C.memoizedProps;switch(C.type){case"button":case"input":case"select":case"textarea":we.autoFocus&&O.focus();break;case"img":we.src&&(O.src=we.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(C.memoizedState===null){var Ne=C.alternate;if(Ne!==null){var ft=Ne.memoizedState;if(ft!==null){var mt=ft.dehydrated;mt!==null&&au(mt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}Pl||C.flags&512&&E3(C)}catch(ht){la(C,C.return,ht)}}if(C===b){tn=null;break}if(O=C.sibling,O!==null){O.return=C.return,tn=O;break}tn=C.return}}function Uee(b){for(;tn!==null;){var C=tn;if(C===b){tn=null;break}var O=C.sibling;if(O!==null){O.return=C.return,tn=O;break}tn=C.return}}function Gee(b){for(;tn!==null;){var C=tn;try{switch(C.tag){case 0:case 11:case 15:var O=C.return;try{PI(4,C)}catch(we){la(C,O,we)}break;case 1:var R=C.stateNode;if(typeof R.componentDidMount=="function"){var j=C.return;try{R.componentDidMount()}catch(we){la(C,j,we)}}var W=C.return;try{E3(C)}catch(we){la(C,W,we)}break;case 5:var ee=C.return;try{E3(C)}catch(we){la(C,ee,we)}}}catch(we){la(C,C.return,we)}if(C===b){tn=null;break}var he=C.sibling;if(he!==null){he.return=C.return,tn=he;break}tn=C.return}}var F2e=Math.ceil,MI=w.ReactCurrentDispatcher,O3=w.ReactCurrentOwner,xd=w.ReactCurrentBatchConfig,rr=0,Io=null,Xa=null,tl=0,Pc=0,ES=iv(0),po=0,wT=null,T_=0,II=0,P3=0,CT=null,Hu=null,M3=0,AS=1/0,Mg=null,RI=!1,I3=null,uv=null,DI=!1,cv=null,LI=0,TT=0,R3=null,FI=-1,BI=0;function lu(){return rr&6?Sn():FI!==-1?FI:FI=Sn()}function dv(b){return b.mode&1?rr&2&&tl!==0?tl&-tl:_2e.transition!==null?(BI===0&&(BI=ys()),BI):(b=ni,b!==0||(b=window.event,b=b===void 0?16:WM(b.type)),b):1}function zh(b,C,O,R){if(50<TT)throw TT=0,R3=null,Error(i(185));Gs(b,O,R),(!(rr&2)||b!==Io)&&(b===Io&&(!(rr&2)&&(II|=O),po===4&&hv(b,tl)),Vu(b,R),O===1&&rr===0&&!(C.mode&1)&&(AS=Sn()+500,dI&&sv()))}function Vu(b,C){var O=b.callbackNode;Lr(b,C);var R=sn(b,b===Io?tl:0);if(R===0)O!==null&&Yt(O),b.callbackNode=null,b.callbackPriority=0;else if(C=R&-R,b.callbackPriority!==C){if(O!=null&&Yt(O),C===1)b.tag===0?y2e(Kee.bind(null,b)):IJ(Kee.bind(null,b)),p2e(function(){!(rr&6)&&sv()}),O=null;else{switch(Cc(R)){case 1:O=ao;break;case 4:O=tu;break;case 16:O=xl;break;case 536870912:O=oo;break;default:O=xl}O=nte(O,Yee.bind(null,b))}b.callbackPriority=C,b.callbackNode=O}}function Yee(b,C){if(FI=-1,BI=0,rr&6)throw Error(i(327));var O=b.callbackNode;if(kS()&&b.callbackNode!==O)return null;var R=sn(b,b===Io?tl:0);if(R===0)return null;if(R&30||R&b.expiredLanes||C)C=$I(b,R);else{C=R;var j=rr;rr|=2;var W=qee();(Io!==b||tl!==C)&&(Mg=null,AS=Sn()+500,A_(b,C));do try{N2e();break}catch(he){Xee(b,he)}while(!0);QH(),MI.current=W,rr=j,Xa!==null?C=0:(Io=null,tl=0,C=po)}if(C!==0){if(C===2&&(j=Ki(b),j!==0&&(R=j,C=D3(b,j))),C===1)throw O=wT,A_(b,0),hv(b,R),Vu(b,Sn()),O;if(C===6)hv(b,R);else{if(j=b.current.alternate,!(R&30)&&!B2e(j)&&(C=$I(b,R),C===2&&(W=Ki(b),W!==0&&(R=W,C=D3(b,W))),C===1))throw O=wT,A_(b,0),hv(b,R),Vu(b,Sn()),O;switch(b.finishedWork=j,b.finishedLanes=R,C){case 0:case 1:throw Error(i(345));case 2:k_(b,Hu,Mg);break;case 3:if(hv(b,R),(R&130023424)===R&&(C=M3+500-Sn(),10<C)){if(sn(b,0)!==0)break;if(j=b.suspendedLanes,(j&R)!==R){lu(),b.pingedLanes|=b.suspendedLanes&j;break}b.timeoutHandle=zH(k_.bind(null,b,Hu,Mg),C);break}k_(b,Hu,Mg);break;case 4:if(hv(b,R),(R&4194240)===R)break;for(C=b.eventTimes,j=-1;0<R;){var ee=31-Ws(R);W=1<<ee,ee=C[ee],ee>j&&(j=ee),R&=~W}if(R=j,R=Sn()-R,R=(120>R?120:480>R?480:1080>R?1080:1920>R?1920:3e3>R?3e3:4320>R?4320:1960*F2e(R/1960))-R,10<R){b.timeoutHandle=zH(k_.bind(null,b,Hu,Mg),R);break}k_(b,Hu,Mg);break;case 5:k_(b,Hu,Mg);break;default:throw Error(i(329))}}}return Vu(b,Sn()),b.callbackNode===O?Yee.bind(null,b):null}function D3(b,C){var O=CT;return b.current.memoizedState.isDehydrated&&(A_(b,C).flags|=256),b=$I(b,C),b!==2&&(C=Hu,Hu=O,C!==null&&L3(C)),b}function L3(b){Hu===null?Hu=b:Hu.push.apply(Hu,b)}function B2e(b){for(var C=b;;){if(C.flags&16384){var O=C.updateQueue;if(O!==null&&(O=O.stores,O!==null))for(var R=0;R<O.length;R++){var j=O[R],W=j.getSnapshot;j=j.value;try{if(!Fh(W(),j))return!1}catch{return!1}}}if(O=C.child,C.subtreeFlags&16384&&O!==null)O.return=C,C=O;else{if(C===b)break;for(;C.sibling===null;){if(C.return===null||C.return===b)return!0;C=C.return}C.sibling.return=C.return,C=C.sibling}}return!0}function hv(b,C){for(C&=~P3,C&=~II,b.suspendedLanes|=C,b.pingedLanes&=~C,b=b.expirationTimes;0<C;){var O=31-Ws(C),R=1<<O;b[O]=-1,C&=~R}}function Kee(b){if(rr&6)throw Error(i(327));kS();var C=sn(b,0);if(!(C&1))return Vu(b,Sn()),null;var O=$I(b,C);if(b.tag!==0&&O===2){var R=Ki(b);R!==0&&(C=R,O=D3(b,R))}if(O===1)throw O=wT,A_(b,0),hv(b,C),Vu(b,Sn()),O;if(O===6)throw Error(i(345));return b.finishedWork=b.current.alternate,b.finishedLanes=C,k_(b,Hu,Mg),Vu(b,Sn()),null}function F3(b,C){var O=rr;rr|=1;try{return b(C)}finally{rr=O,rr===0&&(AS=Sn()+500,dI&&sv())}}function E_(b){cv!==null&&cv.tag===0&&!(rr&6)&&kS();var C=rr;rr|=1;var O=xd.transition,R=ni;try{if(xd.transition=null,ni=1,b)return b()}finally{ni=R,xd.transition=O,rr=C,!(rr&6)&&sv()}}function B3(){Pc=ES.current,bs(ES)}function A_(b,C){b.finishedWork=null,b.finishedLanes=0;var O=b.timeoutHandle;if(O!==-1&&(b.timeoutHandle=-1,f2e(O)),Xa!==null)for(O=Xa.return;O!==null;){var R=O;switch(YH(R),R.tag){case 1:R=R.type.childContextTypes,R!=null&&uI();break;case 3:wS(),bs(Nu),bs(Al),a3();break;case 5:r3(R);break;case 4:wS();break;case 13:bs(Ks);break;case 19:bs(Ks);break;case 10:JH(R.type._context);break;case 22:case 23:B3()}O=O.return}if(Io=b,Xa=b=fv(b.current,null),tl=Pc=C,po=0,wT=null,P3=II=T_=0,Hu=CT=null,x_!==null){for(C=0;C<x_.length;C++)if(O=x_[C],R=O.interleaved,R!==null){O.interleaved=null;var j=R.next,W=O.pending;if(W!==null){var ee=W.next;W.next=j,R.next=ee}O.pending=R}x_=null}return b}function Xee(b,C){do{var O=Xa;try{if(QH(),SI.current=TI,xI){for(var R=Xs.memoizedState;R!==null;){var j=R.queue;j!==null&&(j.pending=null),R=R.next}xI=!1}if(C_=0,Mo=fo=Xs=null,vT=!1,yT=0,O3.current=null,O===null||O.return===null){po=1,wT=C,Xa=null;break}e:{var W=b,ee=O.return,he=O,we=C;if(C=tl,he.flags|=32768,we!==null&&typeof we=="object"&&typeof we.then=="function"){var Ne=we,ft=he,mt=ft.tag;if(!(ft.mode&1)&&(mt===0||mt===11||mt===15)){var ht=ft.alternate;ht?(ft.updateQueue=ht.updateQueue,ft.memoizedState=ht.memoizedState,ft.lanes=ht.lanes):(ft.updateQueue=null,ft.memoizedState=null)}var Kt=_ee(ee);if(Kt!==null){Kt.flags&=-257,bee(Kt,ee,he,W,C),Kt.mode&1&&yee(W,Ne,C),C=Kt,we=Ne;var an=C.updateQueue;if(an===null){var cn=new Set;cn.add(we),C.updateQueue=cn}else an.add(we);break e}else{if(!(C&1)){yee(W,Ne,C),$3();break e}we=Error(i(426))}}else if(Ms&&he.mode&1){var Ta=_ee(ee);if(Ta!==null){!(Ta.flags&65536)&&(Ta.flags|=256),bee(Ta,ee,he,W,C),qH(CS(we,he));break e}}W=we=CS(we,he),po!==4&&(po=2),CT===null?CT=[W]:CT.push(W),W=ee;do{switch(W.tag){case 3:W.flags|=65536,C&=-C,W.lanes|=C;var De=mee(W,we,C);VJ(W,De);break e;case 1:he=we;var ke=W.type,Be=W.stateNode;if(!(W.flags&128)&&(typeof ke.getDerivedStateFromError=="function"||Be!==null&&typeof Be.componentDidCatch=="function"&&(uv===null||!uv.has(Be)))){W.flags|=65536,C&=-C,W.lanes|=C;var wt=vee(W,he,C);VJ(W,wt);break e}}W=W.return}while(W!==null)}Qee(O)}catch(mn){C=mn,Xa===O&&O!==null&&(Xa=O=O.return);continue}break}while(!0)}function qee(){var b=MI.current;return MI.current=TI,b===null?TI:b}function $3(){(po===0||po===3||po===2)&&(po=4),Io===null||!(T_&268435455)&&!(II&268435455)||hv(Io,tl)}function $I(b,C){var O=rr;rr|=2;var R=qee();(Io!==b||tl!==C)&&(Mg=null,A_(b,C));do try{$2e();break}catch(j){Xee(b,j)}while(!0);if(QH(),rr=O,MI.current=R,Xa!==null)throw Error(i(261));return Io=null,tl=0,po}function $2e(){for(;Xa!==null;)Zee(Xa)}function N2e(){for(;Xa!==null&&!ci();)Zee(Xa)}function Zee(b){var C=tte(b.alternate,b,Pc);b.memoizedProps=b.pendingProps,C===null?Qee(b):Xa=C,O3.current=null}function Qee(b){var C=b;do{var O=C.alternate;if(b=C.return,C.flags&32768){if(O=I2e(O,C),O!==null){O.flags&=32767,Xa=O;return}if(b!==null)b.flags|=32768,b.subtreeFlags=0,b.deletions=null;else{po=6,Xa=null;return}}else if(O=M2e(O,C,Pc),O!==null){Xa=O;return}if(C=C.sibling,C!==null){Xa=C;return}Xa=C=b}while(C!==null);po===0&&(po=5)}function k_(b,C,O){var R=ni,j=xd.transition;try{xd.transition=null,ni=1,j2e(b,C,O,R)}finally{xd.transition=j,ni=R}return null}function j2e(b,C,O,R){do kS();while(cv!==null);if(rr&6)throw Error(i(327));O=b.finishedWork;var j=b.finishedLanes;if(O===null)return null;if(b.finishedWork=null,b.finishedLanes=0,O===b.current)throw Error(i(177));b.callbackNode=null,b.callbackPriority=0;var W=O.lanes|O.childLanes;if(Cl(b,W),b===Io&&(Xa=Io=null,tl=0),!(O.subtreeFlags&2064)&&!(O.flags&2064)||DI||(DI=!0,nte(xl,function(){return kS(),null})),W=(O.flags&15990)!==0,O.subtreeFlags&15990||W){W=xd.transition,xd.transition=null;var ee=ni;ni=1;var he=rr;rr|=4,O3.current=null,D2e(b,O),Hee(O,b),l2e(NH),f_=!!$H,NH=$H=null,b.current=O,L2e(O),tr(),rr=he,ni=ee,xd.transition=W}else b.current=O;if(DI&&(DI=!1,cv=b,LI=j),W=b.pendingLanes,W===0&&(uv=null),Lh(O.stateNode),Vu(b,Sn()),C!==null)for(R=b.onRecoverableError,O=0;O<C.length;O++)j=C[O],R(j.value,{componentStack:j.stack,digest:j.digest});if(RI)throw RI=!1,b=I3,I3=null,b;return LI&1&&b.tag!==0&&kS(),W=b.pendingLanes,W&1?b===R3?TT++:(TT=0,R3=b):TT=0,sv(),null}function kS(){if(cv!==null){var b=Cc(LI),C=xd.transition,O=ni;try{if(xd.transition=null,ni=16>b?16:b,cv===null)var R=!1;else{if(b=cv,cv=null,LI=0,rr&6)throw Error(i(331));var j=rr;for(rr|=4,tn=b.current;tn!==null;){var W=tn,ee=W.child;if(tn.flags&16){var he=W.deletions;if(he!==null){for(var we=0;we<he.length;we++){var Ne=he[we];for(tn=Ne;tn!==null;){var ft=tn;switch(ft.tag){case 0:case 11:case 15:xT(8,ft,W)}var mt=ft.child;if(mt!==null)mt.return=ft,tn=mt;else for(;tn!==null;){ft=tn;var ht=ft.sibling,Kt=ft.return;if(Bee(ft),ft===Ne){tn=null;break}if(ht!==null){ht.return=Kt,tn=ht;break}tn=Kt}}}var an=W.alternate;if(an!==null){var cn=an.child;if(cn!==null){an.child=null;do{var Ta=cn.sibling;cn.sibling=null,cn=Ta}while(cn!==null)}}tn=W}}if(W.subtreeFlags&2064&&ee!==null)ee.return=W,tn=ee;else e:for(;tn!==null;){if(W=tn,W.flags&2048)switch(W.tag){case 0:case 11:case 15:xT(9,W,W.return)}var De=W.sibling;if(De!==null){De.return=W.return,tn=De;break e}tn=W.return}}var ke=b.current;for(tn=ke;tn!==null;){ee=tn;var Be=ee.child;if(ee.subtreeFlags&2064&&Be!==null)Be.return=ee,tn=Be;else e:for(ee=ke;tn!==null;){if(he=tn,he.flags&2048)try{switch(he.tag){case 0:case 11:case 15:PI(9,he)}}catch(mn){la(he,he.return,mn)}if(he===ee){tn=null;break e}var wt=he.sibling;if(wt!==null){wt.return=he.return,tn=wt;break e}tn=he.return}}if(rr=j,sv(),os&&typeof os.onPostCommitFiberRoot=="function")try{os.onPostCommitFiberRoot(Zo,b)}catch{}R=!0}return R}finally{ni=O,xd.transition=C}}return!1}function Jee(b,C,O){C=CS(O,C),C=mee(b,C,1),b=ov(b,C,1),C=lu(),b!==null&&(Gs(b,1,C),Vu(b,C))}function la(b,C,O){if(b.tag===3)Jee(b,b,O);else for(;C!==null;){if(C.tag===3){Jee(C,b,O);break}else if(C.tag===1){var R=C.stateNode;if(typeof C.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(uv===null||!uv.has(R))){b=CS(O,b),b=vee(C,b,1),C=ov(C,b,1),b=lu(),C!==null&&(Gs(C,1,b),Vu(C,b));break}}C=C.return}}function z2e(b,C,O){var R=b.pingCache;R!==null&&R.delete(C),C=lu(),b.pingedLanes|=b.suspendedLanes&O,Io===b&&(tl&O)===O&&(po===4||po===3&&(tl&130023424)===tl&&500>Sn()-M3?A_(b,0):P3|=O),Vu(b,C)}function ete(b,C){C===0&&(b.mode&1?(C=iu,iu<<=1,!(iu&130023424)&&(iu=4194304)):C=1);var O=lu();b=kg(b,C),b!==null&&(Gs(b,C,O),Vu(b,O))}function H2e(b){var C=b.memoizedState,O=0;C!==null&&(O=C.retryLane),ete(b,O)}function V2e(b,C){var O=0;switch(b.tag){case 13:var R=b.stateNode,j=b.memoizedState;j!==null&&(O=j.retryLane);break;case 19:R=b.stateNode;break;default:throw Error(i(314))}R!==null&&R.delete(C),ete(b,O)}var tte;tte=function(b,C,O){if(b!==null)if(b.memoizedProps!==C.pendingProps||Nu.current)zu=!0;else{if(!(b.lanes&O)&&!(C.flags&128))return zu=!1,P2e(b,C,O);zu=!!(b.flags&131072)}else zu=!1,Ms&&C.flags&1048576&&RJ(C,fI,C.index);switch(C.lanes=0,C.tag){case 2:var R=C.type;kI(b,C),b=C.pendingProps;var j=mS(C,Al.current);xS(C,O),j=u3(null,C,R,b,j,O);var W=c3();return C.flags|=1,typeof j=="object"&&j!==null&&typeof j.render=="function"&&j.$$typeof===void 0?(C.tag=1,C.memoizedState=null,C.updateQueue=null,ju(R)?(W=!0,cI(C)):W=!1,C.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,n3(C),j.updater=EI,C.stateNode=j,j._reactInternals=C,m3(C,R,b,O),C=b3(null,C,R,!0,W,O)):(C.tag=0,Ms&&W&&GH(C),ou(null,C,j,O),C=C.child),C;case 16:R=C.elementType;e:{switch(kI(b,C),b=C.pendingProps,j=R._init,R=j(R._payload),C.type=R,j=C.tag=U2e(R),b=$h(R,b),j){case 0:C=_3(null,C,R,b,O);break e;case 1:C=Eee(null,C,R,b,O);break e;case 11:C=See(null,C,R,b,O);break e;case 14:C=xee(null,C,R,$h(R.type,b),O);break e}throw Error(i(306,R,""))}return C;case 0:return R=C.type,j=C.pendingProps,j=C.elementType===R?j:$h(R,j),_3(b,C,R,j,O);case 1:return R=C.type,j=C.pendingProps,j=C.elementType===R?j:$h(R,j),Eee(b,C,R,j,O);case 3:e:{if(Aee(C),b===null)throw Error(i(387));R=C.pendingProps,W=C.memoizedState,j=W.element,HJ(b,C),_I(C,R,null,O);var ee=C.memoizedState;if(R=ee.element,W.isDehydrated)if(W={element:R,isDehydrated:!1,cache:ee.cache,pendingSuspenseBoundaries:ee.pendingSuspenseBoundaries,transitions:ee.transitions},C.updateQueue.baseState=W,C.memoizedState=W,C.flags&256){j=CS(Error(i(423)),C),C=kee(b,C,R,O,j);break e}else if(R!==j){j=CS(Error(i(424)),C),C=kee(b,C,R,O,j);break e}else for(Oc=nv(C.stateNode.containerInfo.firstChild),kc=C,Ms=!0,Bh=null,O=jJ(C,null,R,O),C.child=O;O;)O.flags=O.flags&-3|4096,O=O.sibling;else{if(_S(),R===j){C=Pg(b,C,O);break e}ou(b,C,R,O)}C=C.child}return C;case 5:return UJ(C),b===null&&XH(C),R=C.type,j=C.pendingProps,W=b!==null?b.memoizedProps:null,ee=j.children,jH(R,j)?ee=null:W!==null&&jH(R,W)&&(C.flags|=32),Tee(b,C),ou(b,C,ee,O),C.child;case 6:return b===null&&XH(C),null;case 13:return Oee(b,C,O);case 4:return i3(C,C.stateNode.containerInfo),R=C.pendingProps,b===null?C.child=bS(C,null,R,O):ou(b,C,R,O),C.child;case 11:return R=C.type,j=C.pendingProps,j=C.elementType===R?j:$h(R,j),See(b,C,R,j,O);case 7:return ou(b,C,C.pendingProps,O),C.child;case 8:return ou(b,C,C.pendingProps.children,O),C.child;case 12:return ou(b,C,C.pendingProps.children,O),C.child;case 10:e:{if(R=C.type._context,j=C.pendingProps,W=C.memoizedProps,ee=j.value,ls(mI,R._currentValue),R._currentValue=ee,W!==null)if(Fh(W.value,ee)){if(W.children===j.children&&!Nu.current){C=Pg(b,C,O);break e}}else for(W=C.child,W!==null&&(W.return=C);W!==null;){var he=W.dependencies;if(he!==null){ee=W.child;for(var we=he.firstContext;we!==null;){if(we.context===R){if(W.tag===1){we=Og(-1,O&-O),we.tag=2;var Ne=W.updateQueue;if(Ne!==null){Ne=Ne.shared;var ft=Ne.pending;ft===null?we.next=we:(we.next=ft.next,ft.next=we),Ne.pending=we}}W.lanes|=O,we=W.alternate,we!==null&&(we.lanes|=O),e3(W.return,O,C),he.lanes|=O;break}we=we.next}}else if(W.tag===10)ee=W.type===C.type?null:W.child;else if(W.tag===18){if(ee=W.return,ee===null)throw Error(i(341));ee.lanes|=O,he=ee.alternate,he!==null&&(he.lanes|=O),e3(ee,O,C),ee=W.sibling}else ee=W.child;if(ee!==null)ee.return=W;else for(ee=W;ee!==null;){if(ee===C){ee=null;break}if(W=ee.sibling,W!==null){W.return=ee.return,ee=W;break}ee=ee.return}W=ee}ou(b,C,j.children,O),C=C.child}return C;case 9:return j=C.type,R=C.pendingProps.children,xS(C,O),j=bd(j),R=R(j),C.flags|=1,ou(b,C,R,O),C.child;case 14:return R=C.type,j=$h(R,C.pendingProps),j=$h(R.type,j),xee(b,C,R,j,O);case 15:return wee(b,C,C.type,C.pendingProps,O);case 17:return R=C.type,j=C.pendingProps,j=C.elementType===R?j:$h(R,j),kI(b,C),C.tag=1,ju(R)?(b=!0,cI(C)):b=!1,xS(C,O),pee(C,R,j),m3(C,R,j,O),b3(null,C,R,!0,b,O);case 19:return Mee(b,C,O);case 22:return Cee(b,C,O)}throw Error(i(156,C.tag))};function nte(b,C){return yt(b,C)}function W2e(b,C,O,R){this.tag=b,this.key=O,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=C,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wd(b,C,O,R){return new W2e(b,C,O,R)}function N3(b){return b=b.prototype,!(!b||!b.isReactComponent)}function U2e(b){if(typeof b=="function")return N3(b)?1:0;if(b!=null){if(b=b.$$typeof,b===L)return 11;if(b===$)return 14}return 2}function fv(b,C){var O=b.alternate;return O===null?(O=wd(b.tag,C,b.key,b.mode),O.elementType=b.elementType,O.type=b.type,O.stateNode=b.stateNode,O.alternate=b,b.alternate=O):(O.pendingProps=C,O.type=b.type,O.flags=0,O.subtreeFlags=0,O.deletions=null),O.flags=b.flags&14680064,O.childLanes=b.childLanes,O.lanes=b.lanes,O.child=b.child,O.memoizedProps=b.memoizedProps,O.memoizedState=b.memoizedState,O.updateQueue=b.updateQueue,C=b.dependencies,O.dependencies=C===null?null:{lanes:C.lanes,firstContext:C.firstContext},O.sibling=b.sibling,O.index=b.index,O.ref=b.ref,O}function NI(b,C,O,R,j,W){var ee=2;if(R=b,typeof b=="function")N3(b)&&(ee=1);else if(typeof b=="string")ee=5;else e:switch(b){case A:return O_(O.children,j,W,C);case k:ee=8,j|=8;break;case P:return b=wd(12,O,C,j|2),b.elementType=P,b.lanes=W,b;case B:return b=wd(13,O,C,j),b.elementType=B,b.lanes=W,b;case F:return b=wd(19,O,C,j),b.elementType=F,b.lanes=W,b;case N:return jI(O,j,W,C);default:if(typeof b=="object"&&b!==null)switch(b.$$typeof){case I:ee=10;break e;case D:ee=9;break e;case L:ee=11;break e;case $:ee=14;break e;case z:ee=16,R=null;break e}throw Error(i(130,b==null?b:typeof b,""))}return C=wd(ee,O,C,j),C.elementType=b,C.type=R,C.lanes=W,C}function O_(b,C,O,R){return b=wd(7,b,R,C),b.lanes=O,b}function jI(b,C,O,R){return b=wd(22,b,R,C),b.elementType=N,b.lanes=O,b.stateNode={isHidden:!1},b}function j3(b,C,O){return b=wd(6,b,null,C),b.lanes=O,b}function z3(b,C,O){return C=wd(4,b.children!==null?b.children:[],b.key,C),C.lanes=O,C.stateNode={containerInfo:b.containerInfo,pendingChildren:null,implementation:b.implementation},C}function G2e(b,C,O,R,j){this.tag=C,this.containerInfo=b,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Us(0),this.expirationTimes=Us(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Us(0),this.identifierPrefix=R,this.onRecoverableError=j,this.mutableSourceEagerHydrationData=null}function H3(b,C,O,R,j,W,ee,he,we){return b=new G2e(b,C,O,he,we),C===1?(C=1,W===!0&&(C|=8)):C=0,W=wd(3,null,null,C),b.current=W,W.stateNode=b,W.memoizedState={element:R,isDehydrated:O,cache:null,transitions:null,pendingSuspenseBoundaries:null},n3(W),b}function Y2e(b,C,O){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:R==null?null:""+R,children:b,containerInfo:C,implementation:O}}function ite(b){if(!b)return rv;b=b._reactInternals;e:{if(Bi(b)!==b||b.tag!==1)throw Error(i(170));var C=b;do{switch(C.tag){case 3:C=C.stateNode.context;break e;case 1:if(ju(C.type)){C=C.stateNode.__reactInternalMemoizedMergedChildContext;break e}}C=C.return}while(C!==null);throw Error(i(171))}if(b.tag===1){var O=b.type;if(ju(O))return PJ(b,O,C)}return C}function rte(b,C,O,R,j,W,ee,he,we){return b=H3(O,R,!0,b,j,W,ee,he,we),b.context=ite(null),O=b.current,R=lu(),j=dv(O),W=Og(R,j),W.callback=C??null,ov(O,W,j),b.current.lanes=j,Gs(b,j,R),Vu(b,R),b}function zI(b,C,O,R){var j=C.current,W=lu(),ee=dv(j);return O=ite(O),C.context===null?C.context=O:C.pendingContext=O,C=Og(W,ee),C.payload={element:b},R=R===void 0?null:R,R!==null&&(C.callback=R),b=ov(j,C,ee),b!==null&&(zh(b,j,ee,W),yI(b,j,ee)),ee}function HI(b){if(b=b.current,!b.child)return null;switch(b.child.tag){case 5:return b.child.stateNode;default:return b.child.stateNode}}function ste(b,C){if(b=b.memoizedState,b!==null&&b.dehydrated!==null){var O=b.retryLane;b.retryLane=O!==0&&O<C?O:C}}function V3(b,C){ste(b,C),(b=b.alternate)&&ste(b,C)}function K2e(){return null}var ate=typeof reportError=="function"?reportError:function(b){console.error(b)};function W3(b){this._internalRoot=b}VI.prototype.render=W3.prototype.render=function(b){var C=this._internalRoot;if(C===null)throw Error(i(409));zI(b,C,null,null)},VI.prototype.unmount=W3.prototype.unmount=function(){var b=this._internalRoot;if(b!==null){this._internalRoot=null;var C=b.containerInfo;E_(function(){zI(null,b,null,null)}),C[Cg]=null}};function VI(b){this._internalRoot=b}VI.prototype.unstable_scheduleHydration=function(b){if(b){var C=ru();b={blockedOn:null,target:b,priority:C};for(var O=0;O<$u.length&&C!==0&&C<$u[O].priority;O++);$u.splice(O,0,b),O===0&&Ys(b)}};function U3(b){return!(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)}function WI(b){return!(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11&&(b.nodeType!==8||b.nodeValue!==" react-mount-point-unstable "))}function ote(){}function X2e(b,C,O,R,j){if(j){if(typeof R=="function"){var W=R;R=function(){var Ne=HI(ee);W.call(Ne)}}var ee=rte(C,R,b,0,null,!1,!1,"",ote);return b._reactRootContainer=ee,b[Cg]=ee.current,uT(b.nodeType===8?b.parentNode:b),E_(),ee}for(;j=b.lastChild;)b.removeChild(j);if(typeof R=="function"){var he=R;R=function(){var Ne=HI(we);he.call(Ne)}}var we=H3(b,0,!1,null,null,!1,!1,"",ote);return b._reactRootContainer=we,b[Cg]=we.current,uT(b.nodeType===8?b.parentNode:b),E_(function(){zI(C,we,O,R)}),we}function UI(b,C,O,R,j){var W=O._reactRootContainer;if(W){var ee=W;if(typeof j=="function"){var he=j;j=function(){var we=HI(ee);he.call(we)}}zI(C,ee,b,j)}else ee=X2e(O,C,b,j,R);return HI(ee)}lo=function(b){switch(b.tag){case 3:var C=b.stateNode;if(C.current.memoizedState.isDehydrated){var O=Po(C.pendingLanes);O!==0&&(ks(C,O|1),Vu(C,Sn()),!(rr&6)&&(AS=Sn()+500,sv()))}break;case 13:E_(function(){var R=kg(b,1);if(R!==null){var j=lu();zh(R,b,1,j)}}),V3(b,1)}},Ya=function(b){if(b.tag===13){var C=kg(b,134217728);if(C!==null){var O=lu();zh(C,b,134217728,O)}V3(b,134217728)}},zf=function(b){if(b.tag===13){var C=dv(b),O=kg(b,C);if(O!==null){var R=lu();zh(O,b,C,R)}V3(b,C)}},ru=function(){return ni},Jo=function(b,C){var O=ni;try{return ni=b,C()}finally{ni=O}},gi=function(b,C,O){switch(C){case"input":if(Ge(b,O),C=O.name,O.type==="radio"&&C!=null){for(O=b;O.parentNode;)O=O.parentNode;for(O=O.querySelectorAll("input[name="+JSON.stringify(""+C)+'][type="radio"]'),C=0;C<O.length;C++){var R=O[C];if(R!==b&&R.form===b.form){var j=lI(R);if(!j)throw Error(i(90));xe(R),Ge(R,j)}}}break;case"textarea":Mt(b,O);break;case"select":C=O.value,C!=null&&ot(b,!!O.multiple,C,!1)}},Qt=F3,kn=E_;var q2e={usingClientEntryPoint:!1,Events:[hT,pS,lI,en,Bt,F3]},ET={findFiberByHostInstance:y_,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Z2e={bundleType:ET.bundleType,version:ET.version,rendererPackageName:ET.rendererPackageName,rendererConfig:ET.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(b){return b=es(b),b===null?null:b.stateNode},findFiberByHostInstance:ET.findFiberByHostInstance||K2e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(AT=__REACT_DEVTOOLS_GLOBAL_HOOK__,!AT.isDisabled&&AT.supportsFiber))try{Zo=AT.inject(Z2e),os=AT}catch{}var AT;n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q2e,n.createPortal=function(b,C){var O=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!U3(C))throw Error(i(200));return Y2e(b,C,null,O)},n.createRoot=function(b,C){if(!U3(b))throw Error(i(299));var O=!1,R="",j=ate;return C!=null&&(C.unstable_strictMode===!0&&(O=!0),C.identifierPrefix!==void 0&&(R=C.identifierPrefix),C.onRecoverableError!==void 0&&(j=C.onRecoverableError)),C=H3(b,1,!1,null,null,O,!1,R,j),b[Cg]=C.current,uT(b.nodeType===8?b.parentNode:b),new W3(C)},n.findDOMNode=function(b){if(b==null)return null;if(b.nodeType===1)return b;var C=b._reactInternals;if(C===void 0)throw typeof b.render=="function"?Error(i(188)):(b=Object.keys(b).join(","),Error(i(268,b)));return b=es(C),b=b===null?null:b.stateNode,b},n.flushSync=function(b){return E_(b)},n.hydrate=function(b,C,O){if(!WI(C))throw Error(i(200));return UI(null,b,C,!0,O)},n.hydrateRoot=function(b,C,O){if(!U3(b))throw Error(i(405));var R=O!=null&&O.hydratedSources||null,j=!1,W="",ee=ate;if(O!=null&&(O.unstable_strictMode===!0&&(j=!0),O.identifierPrefix!==void 0&&(W=O.identifierPrefix),O.onRecoverableError!==void 0&&(ee=O.onRecoverableError)),C=rte(C,null,b,1,O??null,j,!1,W,ee),b[Cg]=C.current,uT(b),R)for(b=0;b<R.length;b++)O=R[b],j=O._getVersion,j=j(O._source),C.mutableSourceEagerHydrationData==null?C.mutableSourceEagerHydrationData=[O,j]:C.mutableSourceEagerHydrationData.push(O,j);return new VI(C)},n.render=function(b,C,O){if(!WI(C))throw Error(i(200));return UI(null,b,C,!1,O)},n.unmountComponentAtNode=function(b){if(!WI(b))throw Error(i(40));return b._reactRootContainer?(E_(function(){UI(null,null,b,!1,function(){b._reactRootContainer=null,b[Cg]=null})}),!0):!1},n.unstable_batchedUpdates=F3,n.unstable_renderSubtreeIntoContainer=function(b,C,O,R){if(!WI(O))throw Error(i(200));if(b==null||b._reactInternals===void 0)throw Error(i(38));return UI(b,C,O,!1,R)},n.version="18.3.1-next-f1338f8080-20240426"}),Xy=Wn((n,e)=>{function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(i){console.error(i)}}t(),e.exports=sVe()}),aVe=Wn(n=>{var e=Xy();n.createRoot=e.createRoot,n.hydrateRoot=e.hydrateRoot}),vl=Wn((n,e)=>{function t(i){return i&&i.__esModule?i:{default:i}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}),oVe=Wn(n=>{Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={items_per_page:"/",jump_to:"",jump_to_confirm:"",page:"",prev_page:"",next_page:"",prev_5:" 5 ",next_5:" 5 ",prev_3:" 3 ",next_3:" 3 ",page_size:""};n.default=e}),dbe=Wn((n,e)=>{function t(i){"@babel/helpers - typeof";return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e.exports.__esModule=!0,e.exports.default=e.exports,t(i)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}),lVe=Wn((n,e)=>{var t=dbe().default;function i(r,s){if(t(r)!="object"||!r)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var o=a.call(r,s||"default");if(t(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(r)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}),uVe=Wn((n,e)=>{var t=dbe().default,i=lVe();function r(s){var a=i(s,"string");return t(a)=="symbol"?a:a+""}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}),cVe=Wn((n,e)=>{var t=uVe();function i(r,s,a){return(s=t(s))in r?Object.defineProperty(r,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[s]=a,r}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}),rN=Wn((n,e)=>{var t=cVe();function i(s,a){var o=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);a&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable})),o.push.apply(o,l)}return o}function r(s){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{};a%2?i(Object(o),!0).forEach(function(l){t(s,l,o[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(o,l))})}return s}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}),sN=Wn(n=>{Object.defineProperty(n,"__esModule",{value:!0}),n.commonLocale=void 0,n.commonLocale={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0}}),dVe=Wn(n=>{var e=vl().default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=e(rN()),i=sN(),r=(0,t.default)((0,t.default)({},i.commonLocale),{},{locale:"zh_CN",today:"",now:"",backToToday:"",ok:"",timeSelect:"",dateSelect:"",weekSelect:"",clear:"",week:"",month:"",year:"",previousMonth:" ()",nextMonth:" ()",monthSelect:"",yearSelect:"",decadeSelect:"",previousYear:" (Control)",nextYear:" (Control)",previousDecade:"",nextDecade:"",previousCentury:"",nextCentury:"",yearFormat:"YYYY",cellDateFormat:"D",monthBeforeYear:!1});n.default=r}),hbe=Wn(n=>{Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={placeholder:"",rangePlaceholder:["",""]};n.default=e}),fbe=Wn(n=>{var e=vl().default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=e(dVe()),i=e(hbe()),r={lang:Object.assign({placeholder:"",yearPlaceholder:"",quarterPlaceholder:"",monthPlaceholder:"",weekPlaceholder:"",rangePlaceholder:["",""],rangeYearPlaceholder:["",""],rangeMonthPlaceholder:["",""],rangeQuarterPlaceholder:["",""],rangeWeekPlaceholder:["",""]},t.default),timePickerLocale:Object.assign({},i.default)};r.lang.ok="",n.default=r}),hVe=Wn(n=>{var e=vl().default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=e(fbe());n.default=t.default}),fVe=Wn(n=>{var e=vl().default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=e(oVe()),i=e(hVe()),r=e(fbe()),s=e(hbe()),a="${label}${type}",o={locale:"zh-cn",Pagination:t.default,DatePicker:r.default,TimePicker:s.default,Calendar:i.default,global:{placeholder:"",close:""},Table:{filterTitle:"",filterConfirm:"",filterReset:"",filterEmptyText:"",filterCheckAll:"",filterSearchPlaceholder:"",emptyText:"",selectAll:"",selectInvert:"",selectNone:"",selectionAll:"",sortTitle:"",expand:"",collapse:"",triggerDesc:"",triggerAsc:"",cancelSort:""},Modal:{okText:"",cancelText:"",justOkText:""},Tour:{Next:"",Previous:"",Finish:""},Popconfirm:{cancelText:"",okText:""},Transfer:{titles:["",""],searchPlaceholder:"",itemUnit:"",itemsUnit:"",remove:"",selectCurrent:"",removeCurrent:"",selectAll:"",deselectAll:"",removeAll:"",selectInvert:""},Upload:{uploading:"",removeFile:"",uploadError:"",previewFile:"",downloadFile:""},Empty:{description:""},Icon:{icon:""},Text:{edit:"",copy:"",copied:"",expand:"",collapse:""},Form:{optional:"",defaultValidateMessages:{default:"${label}",required:"${label}",enum:"${label}[${enum}]",whitespace:"${label}",date:{format:"${label}",parse:"${label}",invalid:"${label}"},types:{string:a,method:a,array:a,object:a,number:a,date:a,boolean:a,integer:a,float:a,regexp:a,email:a,url:a,hex:a},string:{len:"${label}${len}",min:"${label}${min}",max:"${label}${max}",range:"${label}${min}-${max}"},number:{len:"${label}${len}",min:"${label}${min}",max:"${label}${max}",range:"${label}${min}-${max}"},array:{len:"${len}${label}",min:"${min}${label}",max:"${max}${label}",range:"${label}${min}-${max}"},pattern:{mismatch:"${label}${pattern}"}}},Image:{preview:""},QRCode:{expired:"",refresh:"",scanned:""},ColorPicker:{presetEmpty:"",transparent:"",singleColor:"",gradientColor:""}};n.default=o}),pVe=Wn((n,e)=>{e.exports=fVe()}),gVe=Wn(n=>{Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"};n.default=e}),mVe=Wn(n=>{var e=vl().default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=e(rN()),i=sN(),r=(0,t.default)((0,t.default)({},i.commonLocale),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",week:"Week",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"});n.default=r}),pbe=Wn(n=>{Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={placeholder:"Select time",rangePlaceholder:["Start time","End time"]};n.default=e}),gbe=Wn(n=>{var e=vl().default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=e(mVe()),i=e(pbe()),r={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},t.default),timePickerLocale:Object.assign({},i.default)};n.default=r}),vVe=Wn(n=>{var e=vl().default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=e(gbe());n.default=t.default}),yVe=Wn(n=>{var e=vl().default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=e(gVe()),i=e(vVe()),r=e(gbe()),s=e(pbe()),a="${label} is not a valid ${type}",o={locale:"en",Pagination:t.default,DatePicker:r.default,TimePicker:s.default,Calendar:i.default,global:{placeholder:"Please select",close:"Close"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckAll:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:a,method:a,array:a,object:a,number:a,date:a,boolean:a,integer:a,float:a,regexp:a,email:a,url:a,hex:a},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};n.default=o}),_Ve=Wn((n,e)=>{e.exports=yVe()}),bVe=Wn(n=>{Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={items_per_page:" / ",jump_to:"",jump_to_confirm:"",page:"",prev_page:"",next_page:"",prev_5:" 5",next_5:" 5",prev_3:" 3",next_3:" 3",page_size:""};n.default=e}),SVe=Wn(n=>{var e=vl().default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=e(rN()),i=sN(),r=(0,t.default)((0,t.default)({},i.commonLocale),{},{locale:"ja_JP",today:"",now:"",backToToday:"",ok:"",timeSelect:"",dateSelect:"",weekSelect:"",clear:"",week:"",month:"",year:"",previousMonth:" ()",nextMonth:" ()",monthSelect:"",yearSelect:"",decadeSelect:"",yearFormat:"YYYY",dateFormat:"YYYYMD",dateTimeFormat:"YYYYMD HHmmss",previousYear:" (Control)",nextYear:" (Control)",previousDecade:"",nextDecade:"",previousCentury:"",nextCentury:"",monthBeforeYear:!1});n.default=r}),mbe=Wn(n=>{Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={placeholder:"",rangePlaceholder:["",""]};n.default=e}),vbe=Wn(n=>{var e=vl().default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=e(SVe()),i=e(mbe()),r={lang:Object.assign({placeholder:"",yearPlaceholder:"",quarterPlaceholder:"",monthPlaceholder:"",weekPlaceholder:"",rangePlaceholder:["",""],rangeYearPlaceholder:["",""],rangeMonthPlaceholder:["",""],rangeQuarterPlaceholder:["",""],rangeWeekPlaceholder:["",""],shortWeekDays:["","","","","","",""],shortMonths:["1","2","3","4","5","6","7","8","9","10","11","12"]},t.default),timePickerLocale:Object.assign({},i.default)};n.default=r}),xVe=Wn(n=>{var e=vl().default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=e(vbe());n.default=t.default}),wVe=Wn(n=>{var e=vl().default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=e(bVe()),i=e(xVe()),r=e(vbe()),s=e(mbe()),a="${label}${type}",o={locale:"ja",Pagination:t.default,DatePicker:r.default,TimePicker:s.default,Calendar:i.default,global:{placeholder:"",close:""},Table:{filterTitle:"",filterConfirm:"OK",filterReset:"",filterEmptyText:"",filterCheckAll:"",filterSearchPlaceholder:"",emptyText:"",selectAll:"",selectInvert:"",selectNone:"",selectionAll:"",sortTitle:"",expand:"",collapse:"",triggerDesc:"",triggerAsc:"",cancelSort:""},Tour:{Next:"",Previous:"",Finish:""},Modal:{okText:"OK",cancelText:"",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:""},Transfer:{titles:["",""],searchPlaceholder:"",itemUnit:"",itemsUnit:"",remove:"",selectCurrent:"",removeCurrent:"",selectAll:"",deselectAll:"",removeAll:"",selectInvert:""},Upload:{uploading:"...",removeFile:"",uploadError:"",previewFile:"",downloadFile:""},Empty:{description:""},Icon:{icon:""},Text:{edit:"",copy:"",copied:"",expand:"",collapse:""},Form:{optional:"()",defaultValidateMessages:{default:"${label}",required:"${label}",enum:"${label}[${enum}]",whitespace:"${label}",date:{format:"${label}",parse:"${label}",invalid:"${label}"},types:{string:a,method:a,array:a,object:a,number:a,date:a,boolean:a,integer:a,float:a,regexp:a,email:a,url:a,hex:a},string:{len:"${label}${len}",min:"${label}${min}",max:"${label}${max}",range:"${label}${min}-${max}"},number:{len:"${label}${len}",min:"${label}${min}",max:"${label}${max}",range:"${label}${min}-${max}"},array:{len:"${label}${len}",min:"${label}${min}",max:"${label}${max}",range:"${label}${min}-${max}"},pattern:{mismatch:"${label}${pattern}"}}},Image:{preview:""},QRCode:{expired:"QR",refresh:"",scanned:""},ColorPicker:{presetEmpty:"",transparent:"",singleColor:"",gradientColor:""}};n.default=o}),CVe=Wn((n,e)=>{e.exports=wVe()}),ybe=Wn(n=>{Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={items_per_page:"/",jump_to:"",jump_to_confirm:"",page:"",prev_page:"",next_page:"",prev_5:" 5 ",next_5:" 5 ",prev_3:" 3 ",next_3:" 3 ",page_size:""};n.default=e}),TVe=Wn(n=>{var e=vl().default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=e(rN()),i=sN(),r=(0,t.default)((0,t.default)({},i.commonLocale),{},{locale:"zh_TW",today:"",now:"",backToToday:"",ok:"",timeSelect:"",dateSelect:"",weekSelect:"",clear:"",week:"",month:"",year:"",previousMonth:" ()",nextMonth:" ()",monthSelect:"",yearSelect:"",decadeSelect:"",yearFormat:"YYYY",dateFormat:"YYYYMD",dateTimeFormat:"YYYYMD HHmmss",previousYear:" (Control)",nextYear:" (Control)",previousDecade:"",nextDecade:"",previousCentury:"",nextCentury:"",cellDateFormat:"D",monthBeforeYear:!1});n.default=r}),a9=Wn(n=>{Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={placeholder:""};n.default=e}),o9=Wn(n=>{var e=vl().default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=e(TVe()),i=e(a9()),r={lang:Object.assign({placeholder:"",yearPlaceholder:"",quarterPlaceholder:"",monthPlaceholder:"",weekPlaceholder:"",rangePlaceholder:["",""],rangeYearPlaceholder:["",""],rangeMonthPlaceholder:["",""],rangeQuarterPlaceholder:["",""],rangeWeekPlaceholder:["",""]},t.default),timePickerLocale:Object.assign({},i.default)};r.lang.ok=" ",n.default=r}),_be=Wn(n=>{var e=vl().default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=e(o9());n.default=t.default}),EVe=Wn(n=>{var e=vl().default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=e(ybe()),i=e(_be()),r=e(o9()),s=e(a9()),a="${label}${type}",o={locale:"zh-hk",Pagination:t.default,DatePicker:r.default,TimePicker:s.default,Calendar:i.default,global:{placeholder:"",close:""},Table:{filterTitle:"",filterConfirm:"",filterReset:"",filterEmptyText:"",filterCheckAll:"",filterSearchPlaceholder:"",emptyText:"",selectAll:"",selectInvert:"",selectNone:"",selectionAll:"",sortTitle:"",expand:"",collapse:"",triggerDesc:"",triggerAsc:"",cancelSort:""},Modal:{okText:"",cancelText:"",justOkText:""},Tour:{Next:"",Previous:"",Finish:""},Popconfirm:{okText:"",cancelText:""},Transfer:{titles:["",""],searchPlaceholder:"",itemUnit:"",itemsUnit:"",remove:"",selectCurrent:"",removeCurrent:"",selectAll:"",removeAll:"",selectInvert:""},Upload:{uploading:"...",removeFile:"",uploadError:"",previewFile:"",downloadFile:""},Empty:{description:""},Icon:{icon:""},Text:{edit:"",copy:"",copied:"",expand:"",collapse:""},Form:{defaultValidateMessages:{default:"${label}",required:"${label}",enum:"${label}[${enum}]",whitespace:"${label}",date:{format:"${label}",parse:"${label}",invalid:"${label}"},types:{string:a,method:a,array:a,object:a,number:a,date:a,boolean:a,integer:a,float:a,regexp:a,email:a,url:a,hex:a},string:{len:"${label}${len}",min:"${label}${min}",max:"${label}${max}",range:"${label}${min}-${max}"},number:{len:"${label}${len}",min:"${label}${min}",max:"${label}${max}",range:"${label}${min}-${max}"},array:{len:"${len}${label}",min:"${min}${label}",max:"${max}${label}",range:"${label}${min}-${max}"},pattern:{mismatch:"${label}${pattern}"}}},Image:{preview:""},QRCode:{expired:"",refresh:"",scanned:""},ColorPicker:{presetEmpty:"",transparent:"",singleColor:"",gradientColor:""}};n.default=o}),AVe=Wn((n,e)=>{e.exports=EVe()}),kVe=Wn(n=>{var e=vl().default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=e(ybe()),i=e(_be()),r=e(o9()),s=e(a9()),a="${label}${type}",o={locale:"zh-tw",Pagination:t.default,DatePicker:r.default,TimePicker:s.default,Calendar:i.default,global:{placeholder:"",close:""},Table:{filterTitle:"",filterConfirm:"",filterReset:"",filterEmptyText:"",filterCheckAll:"",filterSearchPlaceholder:"",emptyText:"",selectAll:"",selectInvert:"",selectNone:"",selectionAll:"",sortTitle:"",expand:"",collapse:"",triggerDesc:"",triggerAsc:"",cancelSort:""},Modal:{okText:"",cancelText:"",justOkText:""},Tour:{Next:"",Previous:"",Finish:""},Popconfirm:{okText:"",cancelText:""},Transfer:{titles:["",""],searchPlaceholder:"",itemUnit:"",itemsUnit:"",remove:"",selectCurrent:"",removeCurrent:"",selectAll:"",removeAll:"",selectInvert:""},Upload:{uploading:"...",removeFile:"",uploadError:"",previewFile:"",downloadFile:""},Empty:{description:""},Icon:{icon:""},Text:{edit:"",copy:"",copied:"",expand:"",collapse:""},Form:{optional:"",defaultValidateMessages:{default:"${label}",required:"${label}",enum:"${label}[${enum}]",whitespace:"${label}",date:{format:"${label}",parse:"${label}",invalid:"${label}"},types:{string:a,method:a,array:a,object:a,number:a,date:a,boolean:a,integer:a,float:a,regexp:a,email:a,url:a,hex:a},string:{len:"${label}${len}",min:"${label}${min}",max:"${label}${max}",range:"${label}${min}-${max}"},number:{len:"${label}${len}",min:"${label}${min}",max:"${label}${max}",range:"${label}${min}-${max}"},array:{len:"${len}${label}",min:"${min}${label}",max:"${max}${label}",range:"${label}${min}-${max}"},pattern:{mismatch:"${label}${pattern}"}}},Image:{preview:""},QRCode:{expired:"",refresh:"",scanned:""},ColorPicker:{presetEmpty:"",transparent:"",singleColor:"",gradientColor:""}};n.default=o}),OVe=Wn((n,e)=>{e.exports=kVe()});function wn(){return wn=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},wn.apply(null,arguments)}var bbe=ie(de());function bn(n){"@babel/helpers - typeof";return bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bn(n)}var PVe=Symbol.for("react.element"),MVe=Symbol.for("react.transitional.element"),IVe=Symbol.for("react.fragment");function Sbe(n){return n&&bn(n)==="object"&&(n.$$typeof===PVe||n.$$typeof===MVe)&&n.type===IVe}var RVe=ie(de());function Dy(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[];return RVe.default.Children.forEach(n,function(i){i==null&&!e.keepEmpty||(Array.isArray(i)?t=t.concat(Dy(i)):Sbe(i)&&i.props?t=t.concat(Dy(i.props.children,e)):t.push(i))}),t}var DU={},DVe=function(n){};function LVe(n,e){}function FVe(n,e){}function BVe(){DU={}}function xbe(n,e,t){!e&&!DU[t]&&(n(!1,t),DU[t]=!0)}function aN(n,e){xbe(LVe,n,e)}function $Ve(n,e){xbe(FVe,n,e)}aN.preMessage=DVe;aN.resetWarned=BVe;aN.noteOnce=$Ve;var dh=aN;function NVe(n,e){if(bn(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(bn(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function wbe(n){var e=NVe(n,"string");return bn(e)=="symbol"?e:e+""}function me(n,e,t){return(e=wbe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Qne(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Te(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Qne(Object(t),!0).forEach(function(i){me(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Qne(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var jVe=ie(de()),Jne=ie(Xy());function Ik(n){return n instanceof HTMLElement||n instanceof SVGElement}function Cbe(n){return n&&bn(n)==="object"&&Ik(n.nativeElement)?n.nativeElement:Ik(n)?n:null}function c2(n){var e=Cbe(n);if(e)return e;if(n instanceof jVe.default.Component){var t;return(t=Jne.default.findDOMNode)===null||t===void 0?void 0:t.call(Jne.default,n)}return null}var Tbe=ie(de()),x5=ie(oje()),zVe=ie(de());function oN(n,e,t){var i=zVe.useRef({});return(!("value"in i.current)||t(i.current.condition,e))&&(i.current.value=n(),i.current.condition=e),i.current.value}var HVe=Number(Tbe.version.split(".")[0]),l9=function(n,e){typeof n=="function"?n(e):bn(n)==="object"&&n&&"current"in n&&(n.current=e)},Th=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var i=e.filter(Boolean);return i.length<=1?i[0]:function(r){e.forEach(function(s){l9(s,r)})}},SP=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return oN(function(){return Th.apply(void 0,e)},e,function(i,r){return i.length!==r.length||i.every(function(s,a){return s!==r[a]})})},l1=function(n){var e,t;if(!n)return!1;if(Ebe(n)&&HVe>=19)return!0;var i=(0,x5.isMemo)(n)?n.type.type:n.type;return!(typeof i=="function"&&!((e=i.prototype)!==null&&e!==void 0&&e.render)&&i.$$typeof!==x5.ForwardRef||typeof n=="function"&&!((t=n.prototype)!==null&&t!==void 0&&t.render)&&n.$$typeof!==x5.ForwardRef)};function Ebe(n){return(0,Tbe.isValidElement)(n)&&!Sbe(n)}var xP=function(n){if(n&&Ebe(n)){var e=n;return e.props.propertyIsEnumerable("ref")?e.props.ref:e.ref}return null},Bd=ie(de()),mx=ie(de()),LU=mx.createContext(null);function VVe(n){var e=n.children,t=n.onBatchResize,i=mx.useRef(0),r=mx.useRef([]),s=mx.useContext(LU),a=mx.useCallback(function(o,l,u){i.current+=1;var c=i.current;r.current.push({size:o,element:l,data:u}),Promise.resolve().then(function(){c===i.current&&(t==null||t(r.current),r.current=[])}),s==null||s(o,l,u)},[t,s]);return mx.createElement(LU.Provider,{value:a},e)}var Abe=function(){if(typeof Map<"u")return Map;function n(e,t){var i=-1;return e.some(function(r,s){return r[0]===t?(i=s,!0):!1}),i}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var i=n(this.__entries__,t),r=this.__entries__[i];return r&&r[1]},e.prototype.set=function(t,i){var r=n(this.__entries__,t);~r?this.__entries__[r][1]=i:this.__entries__.push([t,i])},e.prototype.delete=function(t){var i=this.__entries__,r=n(i,t);~r&&i.splice(r,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,i){i===void 0&&(i=null);for(var r=0,s=this.__entries__;r<s.length;r++){var a=s[r];t.call(i,a[1],a[0])}},e}()}(),FU=typeof window<"u"&&typeof document<"u"&&window.document===document,EL=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),WVe=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(EL):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),UVe=2;function GVe(n,e){var t=!1,i=!1,r=0;function s(){t&&(t=!1,n()),i&&o()}function a(){WVe(s)}function o(){var l=Date.now();if(t){if(l-r<UVe)return;i=!0}else t=!0,i=!1,setTimeout(a,e);r=l}return o}var YVe=20,KVe=["top","right","bottom","left","width","height","size","weight"],XVe=typeof MutationObserver<"u",qVe=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=GVe(this.refresh.bind(this),YVe)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,i=t.indexOf(e);~i&&t.splice(i,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!FU||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),XVe?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!FU||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,i=t===void 0?"":t,r=KVe.some(function(s){return!!~i.indexOf(s)});r&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),kbe=function(n,e){for(var t=0,i=Object.keys(e);t<i.length;t++){var r=i[t];Object.defineProperty(n,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return n},oC=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||EL},Obe=lN(0,0,0,0);function AL(n){return parseFloat(n)||0}function eie(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(i,r){var s=n["border-"+r+"-width"];return i+AL(s)},0)}function ZVe(n){for(var e=["top","right","bottom","left"],t={},i=0,r=e;i<r.length;i++){var s=r[i],a=n["padding-"+s];t[s]=AL(a)}return t}function QVe(n){var e=n.getBBox();return lN(0,0,e.width,e.height)}function JVe(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return Obe;var i=oC(n).getComputedStyle(n),r=ZVe(i),s=r.left+r.right,a=r.top+r.bottom,o=AL(i.width),l=AL(i.height);if(i.boxSizing==="border-box"&&(Math.round(o+s)!==e&&(o-=eie(i,"left","right")+s),Math.round(l+a)!==t&&(l-=eie(i,"top","bottom")+a)),!t4e(n)){var u=Math.round(o+s)-e,c=Math.round(l+a)-t;Math.abs(u)!==1&&(o-=u),Math.abs(c)!==1&&(l-=c)}return lN(r.left,r.top,o,l)}var e4e=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof oC(n).SVGGraphicsElement}:function(n){return n instanceof oC(n).SVGElement&&typeof n.getBBox=="function"}}();function t4e(n){return n===oC(n).document.documentElement}function n4e(n){return FU?e4e(n)?QVe(n):JVe(n):Obe}function i4e(n){var e=n.x,t=n.y,i=n.width,r=n.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(s.prototype);return kbe(a,{x:e,y:t,width:i,height:r,top:t,right:e+i,bottom:r+t,left:e}),a}function lN(n,e,t,i){return{x:n,y:e,width:t,height:i}}var r4e=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=lN(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=n4e(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),s4e=function(){function n(e,t){var i=i4e(t);kbe(this,{target:e,contentRect:i})}return n}(),a4e=function(){function n(e,t,i){if(this.activeObservations_=[],this.observations_=new Abe,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=i}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof oC(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new r4e(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof oC(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(i){return new s4e(i.target,i.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),Pbe=typeof WeakMap<"u"?new WeakMap:new Abe,Mbe=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=qVe.getInstance(),i=new a4e(e,t,this);Pbe.set(this,i)}return n}();["observe","unobserve","disconnect"].forEach(function(n){Mbe.prototype[n]=function(){var e;return(e=Pbe.get(this))[n].apply(e,arguments)}});var o4e=function(){return typeof EL.ResizeObserver<"u"?EL.ResizeObserver:Mbe}(),l4e=o4e,iy=new Map;function u4e(n){n.forEach(function(e){var t,i=e.target;(t=iy.get(i))===null||t===void 0||t.forEach(function(r){return r(i)})})}var Ibe=new l4e(u4e);function c4e(n,e){iy.has(n)||(iy.set(n,new Set),Ibe.observe(n)),iy.get(n).add(e)}function d4e(n,e){iy.has(n)&&(iy.get(n).delete(e),iy.get(n).size||(Ibe.unobserve(n),iy.delete(n)))}function Wa(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function tie(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,wbe(i.key),i)}}function Ua(n,e,t){return e&&tie(n.prototype,e),t&&tie(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Rk(n,e){return Rk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},Rk(n,e)}function qy(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Rk(n,e)}function Dk(n){return Dk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Dk(n)}function u9(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u9=function(){return!!n})()}function Ci(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function h4e(n,e){if(e&&(bn(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ci(n)}function Zy(n){var e=u9();return function(){var t,i=Dk(n);if(e){var r=Dk(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return h4e(this,t)}}var f4e=ie(de()),p4e=function(n){qy(t,n);var e=Zy(t);function t(){return Wa(this,t),e.apply(this,arguments)}return Ua(t,[{key:"render",value:function(){return this.props.children}}]),t}(f4e.Component);function g4e(n,e){var t=n.children,i=n.disabled,r=Bd.useRef(null),s=Bd.useRef(null),a=Bd.useContext(LU),o=typeof t=="function",l=o?t(r):t,u=Bd.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),c=!o&&Bd.isValidElement(l)&&l1(l),d=c?xP(l):null,h=SP(d,r),f=function(){var m;return c2(r.current)||(r.current&&bn(r.current)==="object"?c2((m=r.current)===null||m===void 0?void 0:m.nativeElement):null)||c2(s.current)};Bd.useImperativeHandle(e,function(){return f()});var p=Bd.useRef(n);p.current=n;var g=Bd.useCallback(function(m){var v=p.current,_=v.onResize,y=v.data,x=m.getBoundingClientRect(),w=x.width,T=x.height,E=m.offsetWidth,A=m.offsetHeight,k=Math.floor(w),P=Math.floor(T);if(u.current.width!==k||u.current.height!==P||u.current.offsetWidth!==E||u.current.offsetHeight!==A){var I={width:k,height:P,offsetWidth:E,offsetHeight:A};u.current=I;var D=E===Math.round(w)?w:E,L=A===Math.round(T)?T:A,B=Te(Te({},I),{},{offsetWidth:D,offsetHeight:L});a==null||a(B,m,y),_&&Promise.resolve().then(function(){_(B,m)})}},[]);return Bd.useEffect(function(){var m=f();return m&&!i&&c4e(m,g),function(){return d4e(m,g)}},[r.current,i]),Bd.createElement(p4e,{ref:s},c?Bd.cloneElement(l,{ref:h}):l)}var m4e=Bd.forwardRef(g4e),v4e=m4e,y4e="rc-observer-key";function _4e(n,e){var t=n.children,i=typeof t=="function"?[t]:Dy(t);return i.map(function(r,s){var a=(r==null?void 0:r.key)||"".concat(y4e,"-").concat(s);return bbe.createElement(v4e,wn({},n,{key:a,ref:s===0?e:void 0}),r)})}var Rbe=bbe.forwardRef(_4e);Rbe.Collection=VVe;var R0=Rbe;function BU(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function b4e(n){if(Array.isArray(n))return BU(n)}function Dbe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function c9(n,e){if(n){if(typeof n=="string")return BU(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?BU(n,e):void 0}}function S4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pt(n){return b4e(n)||Dbe(n)||c9(n)||S4e()}var Lbe=function(n){return+setTimeout(n,16)},Fbe=function(n){return clearTimeout(n)};typeof window<"u"&&"requestAnimationFrame"in window&&(Lbe=function(n){return window.requestAnimationFrame(n)},Fbe=function(n){return window.cancelAnimationFrame(n)});var nie=0,d9=new Map;function Bbe(n){d9.delete(n)}var $be=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;nie+=1;var t=nie;function i(r){if(r===0)Bbe(t),n();else{var s=Lbe(function(){i(r-1)});d9.set(t,s)}}return i(e),t};$be.cancel=function(n){var e=d9.get(n);return Bbe(n),Fbe(e)};var Zr=$be,qa=ie(de());function Nbe(n){if(Array.isArray(n))return n}function x4e(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,a,o=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(i=s.call(t)).done)&&(o.push(i.value),o.length!==e);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw r}}return o}}function jbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ve(n,e){return Nbe(n)||x4e(n,e)||c9(n,e)||jbe()}function w4e(n){for(var e=0,t,i=0,r=n.length;r>=4;++i,r-=4)t=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Lk=w4e;function pc(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function C4e(n,e){if(!n)return!1;if(n.contains)return n.contains(e);for(var t=e;t;){if(t===n)return!0;t=t.parentNode}return!1}var iie="data-rc-order",rie="data-rc-priority",T4e="rc-util-key",$U=new Map;function zbe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.mark;return e?e.startsWith("data-")?e:"data-".concat(e):T4e}function uN(n){if(n.attachTo)return n.attachTo;var e=document.querySelector("head");return e||document.body}function E4e(n){return n==="queue"?"prependQueue":n?"prepend":"append"}function h9(n){return Array.from(($U.get(n)||n).children).filter(function(e){return e.tagName==="STYLE"})}function Hbe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!pc())return null;var t=e.csp,i=e.prepend,r=e.priority,s=r===void 0?0:r,a=E4e(i),o=a==="prependQueue",l=document.createElement("style");l.setAttribute(iie,a),o&&s&&l.setAttribute(rie,"".concat(s)),t!=null&&t.nonce&&(l.nonce=t==null?void 0:t.nonce),l.innerHTML=n;var u=uN(e),c=u.firstChild;if(i){if(o){var d=(e.styles||h9(u)).filter(function(h){if(!["prepend","prependQueue"].includes(h.getAttribute(iie)))return!1;var f=Number(h.getAttribute(rie)||0);return s>=f});if(d.length)return u.insertBefore(l,d[d.length-1].nextSibling),l}u.insertBefore(l,c)}else u.appendChild(l);return l}function Vbe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=uN(e);return(e.styles||h9(t)).find(function(i){return i.getAttribute(zbe(e))===n})}function Fk(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=Vbe(n,e);if(t){var i=uN(e);i.removeChild(t)}}function A4e(n,e){var t=$U.get(n);if(!t||!C4e(document,t)){var i=Hbe("",e),r=i.parentNode;$U.set(n,r),n.removeChild(i)}}function Sm(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=uN(t),r=h9(i),s=Te(Te({},t),{},{styles:r});A4e(i,s);var a=Vbe(e,s);if(a){var o,l;if((o=s.csp)!==null&&o!==void 0&&o.nonce&&a.nonce!==((l=s.csp)===null||l===void 0?void 0:l.nonce)){var u;a.nonce=(u=s.csp)===null||u===void 0?void 0:u.nonce}return a.innerHTML!==n&&(a.innerHTML=n),a}var c=Hbe(n,s);return c.setAttribute(zbe(s),e),c}var k4e=ie(de());function O4e(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function Ji(n,e){if(n==null)return{};var t,i,r=O4e(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function P4e(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=new Set;function r(s,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=i.has(s);if(dh(!l,"Warning: There may be circular references"),l)return!1;if(s===a)return!0;if(t&&o>1)return!1;i.add(s);var u=o+1;if(Array.isArray(s)){if(!Array.isArray(a)||s.length!==a.length)return!1;for(var c=0;c<s.length;c++)if(!r(s[c],a[c],u))return!1;return!0}if(s&&a&&bn(s)==="object"&&bn(a)==="object"){var d=Object.keys(s);return d.length!==Object.keys(a).length?!1:d.every(function(h){return r(s[h],a[h],u)})}return!1}return r(n,e)}var NU=P4e,M4e=ie(de()),I4e="%";function jU(n){return n.join(I4e)}var R4e=function(){function n(e){Wa(this,n),me(this,"instanceId",void 0),me(this,"cache",new Map),me(this,"extracted",new Set),this.instanceId=e}return Ua(n,[{key:"get",value:function(e){return this.opGet(jU(e))}},{key:"opGet",value:function(e){return this.cache.get(e)||null}},{key:"update",value:function(e,t){return this.opUpdate(jU(e),t)}},{key:"opUpdate",value:function(e,t){var i=this.cache.get(e),r=t(i);r===null?this.cache.delete(e):this.cache.set(e,r)}}]),n}(),D4e=R4e,lC="data-token-hash",Cf="data-css-hash",ry="__cssinjs_instance__";function L4e(){var n=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(Cf,"]"))||[],t=document.head.firstChild;Array.from(e).forEach(function(r){r[ry]=r[ry]||n,r[ry]===n&&document.head.insertBefore(r,t)});var i={};Array.from(document.querySelectorAll("style[".concat(Cf,"]"))).forEach(function(r){var s=r.getAttribute(Cf);if(i[s]){if(r[ry]===n){var a;(a=r.parentNode)===null||a===void 0||a.removeChild(r)}}else i[s]=!0})}return new D4e(n)}var F4e=M4e.createContext({hashPriority:"low",cache:L4e(),defaultCache:!0}),wP=F4e;function B4e(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}var f9=function(){function n(){Wa(this,n),me(this,"cache",void 0),me(this,"keys",void 0),me(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return Ua(n,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(e){var t,i,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s={map:this.cache};return e.forEach(function(a){if(!s)s=void 0;else{var o;s=(o=s)===null||o===void 0||(o=o.map)===null||o===void 0?void 0:o.get(a)}}),(t=s)!==null&&t!==void 0&&t.value&&r&&(s.value[1]=this.cacheCallTimes++),(i=s)===null||i===void 0?void 0:i.value}},{key:"get",value:function(e){var t;return(t=this.internalGet(e,!0))===null||t===void 0?void 0:t[0]}},{key:"has",value:function(e){return!!this.internalGet(e)}},{key:"set",value:function(e,t){var i=this;if(!this.has(e)){if(this.size()+1>n.MAX_CACHE_SIZE+n.MAX_CACHE_OFFSET){var r=this.keys.reduce(function(l,u){var c=Ve(l,2),d=c[1];return i.internalGet(u)[1]<d?[u,i.internalGet(u)[1]]:l},[this.keys[0],this.cacheCallTimes]),s=Ve(r,1),a=s[0];this.delete(a)}this.keys.push(e)}var o=this.cache;e.forEach(function(l,u){if(u===e.length-1)o.set(l,{value:[t,i.cacheCallTimes++]});else{var c=o.get(l);c?c.map||(c.map=new Map):o.set(l,{map:new Map}),o=o.get(l).map}})}},{key:"deleteByPath",value:function(e,t){var i=e.get(t[0]);if(t.length===1){var r;return i.map?e.set(t[0],{map:i.map}):e.delete(t[0]),(r=i.value)===null||r===void 0?void 0:r[0]}var s=this.deleteByPath(i.map,t.slice(1));return(!i.map||i.map.size===0)&&!i.value&&e.delete(t[0]),s}},{key:"delete",value:function(e){if(this.has(e))return this.keys=this.keys.filter(function(t){return!B4e(t,e)}),this.deleteByPath(this.cache,e)}}]),n}();me(f9,"MAX_CACHE_SIZE",20);me(f9,"MAX_CACHE_OFFSET",5);var sie=0,Wbe=function(){function n(e){Wa(this,n),me(this,"derivatives",void 0),me(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=sie,e.length===0&&e.length>0,sie+=1}return Ua(n,[{key:"getDerivativeToken",value:function(e){return this.derivatives.reduce(function(t,i){return i(e,t)},void 0)}}]),n}(),w5=new f9;function zU(n){var e=Array.isArray(n)?n:[n];return w5.has(e)||w5.set(e,new Wbe(e)),w5.get(e)}var $4e=new WeakMap,C5={};function N4e(n,e){for(var t=$4e,i=0;i<e.length;i+=1){var r=e[i];t.has(r)||t.set(r,new WeakMap),t=t.get(r)}return t.has(C5)||t.set(C5,n()),t.get(C5)}var aie=new WeakMap;function rA(n){var e=aie.get(n)||"";return e||(Object.keys(n).forEach(function(t){var i=n[t];e+=t,i instanceof Wbe?e+=i.id:i&&bn(i)==="object"?e+=rA(i):e+=i}),e=Lk(e),aie.set(n,e)),e}function oie(n,e){return Lk("".concat(e,"_").concat(rA(n)))}var HU=pc();function Rt(n){return typeof n=="number"?"".concat(n,"px"):n}function kL(n,e,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(r)return n;var s=Te(Te({},i),{},me(me({},lC,e),Cf,t)),a=Object.keys(s).map(function(o){var l=s[o];return l?"".concat(o,'="').concat(l,'"'):null}).filter(function(o){return o}).join(" ");return"<style ".concat(a,">").concat(n,"</style>")}var d2=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(e?"".concat(e,"-"):"").concat(n).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},j4e=function(n,e,t){return Object.keys(n).length?".".concat(e).concat(t!=null&&t.scope?".".concat(t.scope):"","{").concat(Object.entries(n).map(function(i){var r=Ve(i,2),s=r[0],a=r[1];return"".concat(s,":").concat(a,";")}).join(""),"}"):""},Ube=function(n,e,t){var i={},r={};return Object.entries(n).forEach(function(s){var a,o,l=Ve(s,2),u=l[0],c=l[1];if(t!=null&&(a=t.preserve)!==null&&a!==void 0&&a[u])r[u]=c;else if((typeof c=="string"||typeof c=="number")&&!(t!=null&&(o=t.ignore)!==null&&o!==void 0&&o[u])){var d,h=d2(u,t==null?void 0:t.prefix);i[h]=typeof c=="number"&&!(t!=null&&(d=t.unitless)!==null&&d!==void 0&&d[u])?"".concat(c,"px"):String(c),r[u]="var(".concat(h,")")}}),[r,j4e(i,e,{scope:t==null?void 0:t.scope})]},lie=ie(de()),VU=ie(de()),uie=pc()?VU.useLayoutEffect:VU.useEffect,Gbe=function(n,e){var t=VU.useRef(!0);uie(function(){return n(t.current)},e),uie(function(){return t.current=!1,function(){t.current=!0}},[])},sA=function(n,e){Gbe(function(t){if(!t)return n()},e)},Vr=Gbe,Ybe=ie(de()),z4e=Te({},Ybe),cie=z4e.useInsertionEffect,H4e=function(n,e,t){Ybe.useMemo(n,t),Vr(function(){return e(!0)},t)},V4e=cie?function(n,e,t){return cie(function(){return n(),e()},t)}:H4e,W4e=V4e,Kbe=ie(de()),U4e=Te({},Kbe),G4e=U4e.useInsertionEffect,Y4e=function(n){var e=[],t=!1;function i(r){t||e.push(r)}return Kbe.useEffect(function(){return t=!1,function(){t=!0,e.length&&e.forEach(function(r){return r()})}},n),i},K4e=function(){return function(n){n()}},X4e=typeof G4e<"u"?Y4e:K4e,q4e=X4e;function p9(n,e,t,i,r){var s=lie.useContext(wP),a=s.cache,o=[n].concat(Pt(e)),l=jU(o),u=q4e([l]),c=function(f){a.opUpdate(l,function(p){var g=p||[void 0,void 0],m=Ve(g,2),v=m[0],_=v===void 0?0:v,y=m[1],x=y,w=x||t(),T=[_,w];return f?f(T):T})};lie.useMemo(function(){c()},[l]);var d=a.opGet(l),h=d[1];return W4e(function(){r==null||r(h)},function(f){return c(function(p){var g=Ve(p,2),m=g[0],v=g[1];return f&&m===0&&(r==null||r(h)),[m+1,v]}),function(){a.opUpdate(l,function(p){var g=p||[],m=Ve(g,2),v=m[0],_=v===void 0?0:v,y=m[1],x=_-1;return x===0?(u(function(){(f||!a.opGet(l))&&(i==null||i(y,!1))}),null):[_-1,y]})}},[l]),h}var Z4e={},Q4e="css",cb=new Map;function J4e(n){cb.set(n,(cb.get(n)||0)+1)}function eWe(n,e){if(typeof document<"u"){var t=document.querySelectorAll("style[".concat(lC,'="').concat(n,'"]'));t.forEach(function(i){if(i[ry]===e){var r;(r=i.parentNode)===null||r===void 0||r.removeChild(i)}})}}var tWe=0;function nWe(n,e){cb.set(n,(cb.get(n)||0)-1);var t=new Set;cb.forEach(function(i,r){i<=0&&t.add(r)}),cb.size-t.size>tWe&&t.forEach(function(i){eWe(i,e),cb.delete(i)})}var iWe=function(n,e,t,i){var r=t.getDerivativeToken(n),s=Te(Te({},r),e);return i&&(s=i(s)),s},Xbe="token";function rWe(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=(0,k4e.useContext)(wP),r=i.cache.instanceId,s=i.container,a=t.salt,o=a===void 0?"":a,l=t.override,u=l===void 0?Z4e:l,c=t.formatToken,d=t.getComputedToken,h=t.cssVar,f=N4e(function(){return Object.assign.apply(Object,[{}].concat(Pt(e)))},e),p=rA(f),g=rA(u),m=h?rA(h):"",v=p9(Xbe,[o,n.id,p,g,m],function(){var _,y=d?d(f,u,n):iWe(f,u,n,c),x=Te({},y),w="";if(h){var T=Ube(y,h.key,{prefix:h.prefix,ignore:h.ignore,unitless:h.unitless,preserve:h.preserve}),E=Ve(T,2);y=E[0],w=E[1]}var A=oie(y,o);y._tokenKey=A,x._tokenKey=oie(x,o);var k=(_=h==null?void 0:h.key)!==null&&_!==void 0?_:A;y._themeKey=k,J4e(k);var P="".concat(Q4e,"-").concat(Lk(A));return y._hashId=P,[y,P,x,w,(h==null?void 0:h.key)||""]},function(_){nWe(_[0]._themeKey,r)},function(_){var y=Ve(_,4),x=y[0],w=y[3];if(h&&w){var T=Sm(w,Lk("css-variables-".concat(x._themeKey)),{mark:Cf,prepend:"queue",attachTo:s,priority:-999});T[ry]=r,T.setAttribute(lC,x._themeKey)}});return v}var sWe=function(n,e,t){var i=Ve(n,5),r=i[2],s=i[3],a=i[4],o=t||{},l=o.plain;if(!s)return null;var u=r._tokenKey,c=-999,d={"data-rc-order":"prependQueue","data-rc-priority":"".concat(c)},h=kL(s,a,u,d,l);return[c,u,h]},aWe=ie(de()),$T=ie(de()),oWe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},lWe=oWe,qbe="comm",Zbe="rule",Qbe="decl",uWe="@import",cWe="@namespace",dWe="@keyframes",hWe="@layer",Jbe=Math.abs,g9=String.fromCharCode;function e0e(n){return n.trim()}function h2(n,e,t){return n.replace(e,t)}function fWe(n,e,t){return n.indexOf(e,t)}function Tw(n,e){return n.charCodeAt(e)|0}function uC(n,e,t){return n.slice(e,t)}function _p(n){return n.length}function pWe(n){return n.length}function fR(n,e){return e.push(n),n}var cN=1,cC=1,t0e=0,_h=0,no=0,u1="";function m9(n,e,t,i,r,s,a,o){return{value:n,root:e,parent:t,type:i,props:r,children:s,line:cN,column:cC,length:a,return:"",siblings:o}}function gWe(){return no}function mWe(){return no=_h>0?Tw(u1,--_h):0,cC--,no===10&&(cC=1,cN--),no}function Tf(){return no=_h<t0e?Tw(u1,_h++):0,cC++,no===10&&(cC=1,cN++),no}function sy(){return Tw(u1,_h)}function f2(){return _h}function dN(n,e){return uC(u1,n,e)}function Bk(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function vWe(n){return cN=cC=1,t0e=_p(u1=n),_h=0,[]}function yWe(n){return u1="",n}function T5(n){return e0e(dN(_h-1,WU(n===91?n+2:n===40?n+1:n)))}function _We(n){for(;(no=sy())&&no<33;)Tf();return Bk(n)>2||Bk(no)>3?"":" "}function bWe(n,e){for(;--e&&Tf()&&!(no<48||no>102||no>57&&no<65||no>70&&no<97););return dN(n,f2()+(e<6&&sy()==32&&Tf()==32))}function WU(n){for(;Tf();)switch(no){case n:return _h;case 34:case 39:n!==34&&n!==39&&WU(no);break;case 40:n===41&&WU(n);break;case 92:Tf();break}return _h}function SWe(n,e){for(;Tf()&&n+no!==57&&!(n+no===84&&sy()===47););return"/*"+dN(e,_h-1)+"*"+g9(n===47?n:Tf())}function xWe(n){for(;!Bk(sy());)Tf();return dN(n,_h)}function wWe(n){return yWe(p2("",null,null,null,[""],n=vWe(n),0,[0],n))}function p2(n,e,t,i,r,s,a,o,l){for(var u=0,c=0,d=a,h=0,f=0,p=0,g=1,m=1,v=1,_=0,y="",x=r,w=s,T=i,E=y;m;)switch(p=_,_=Tf()){case 40:if(p!=108&&Tw(E,d-1)==58){fWe(E+=h2(T5(_),"&","&\f"),"&\f",Jbe(u?o[u-1]:0))!=-1&&(v=-1);break}case 34:case 39:case 91:E+=T5(_);break;case 9:case 10:case 13:case 32:E+=_We(p);break;case 92:E+=bWe(f2()-1,7);continue;case 47:switch(sy()){case 42:case 47:fR(CWe(SWe(Tf(),f2()),e,t,l),l),(Bk(p||1)==5||Bk(sy()||1)==5)&&_p(E)&&uC(E,-1,void 0)!==" "&&(E+=" ");break;default:E+="/"}break;case 123*g:o[u++]=_p(E)*v;case 125*g:case 59:case 0:switch(_){case 0:case 125:m=0;case 59+c:v==-1&&(E=h2(E,/\f/g,"")),f>0&&(_p(E)-d||g===0&&p===47)&&fR(f>32?hie(E+";",i,t,d-1,l):hie(h2(E," ","")+";",i,t,d-2,l),l);break;case 59:E+=";";default:if(fR(T=die(E,e,t,u,c,r,o,y,x=[],w=[],d,s),s),_===123)if(c===0)p2(E,e,T,T,x,s,d,o,w);else{switch(h){case 99:if(Tw(E,3)===110)break;case 108:if(Tw(E,2)===97)break;default:c=0;case 100:case 109:case 115:}c?p2(n,T,T,i&&fR(die(n,T,T,0,0,r,o,y,r,x=[],d,w),w),r,w,d,o,i?x:w):p2(E,T,T,T,[""],w,0,o,w)}}u=c=f=0,g=v=1,y=E="",d=a;break;case 58:d=1+_p(E),f=p;default:if(g<1){if(_==123)--g;else if(_==125&&g++==0&&mWe()==125)continue}switch(E+=g9(_),_*g){case 38:v=c>0?1:(E+="\f",-1);break;case 44:o[u++]=(_p(E)-1)*v,v=1;break;case 64:sy()===45&&(E+=T5(Tf())),h=sy(),c=d=_p(y=E+=xWe(f2())),_++;break;case 45:p===45&&_p(E)==2&&(g=0)}}return s}function die(n,e,t,i,r,s,a,o,l,u,c,d){for(var h=r-1,f=r===0?s:[""],p=pWe(f),g=0,m=0,v=0;g<i;++g)for(var _=0,y=uC(n,h+1,h=Jbe(m=a[g])),x=n;_<p;++_)(x=e0e(m>0?f[_]+" "+y:h2(y,/&\f/g,f[_])))&&(l[v++]=x);return m9(n,e,t,r===0?Zbe:o,l,u,c,d)}function CWe(n,e,t,i){return m9(n,e,t,qbe,g9(gWe()),uC(n,2,-2),0,i)}function hie(n,e,t,i,r){return m9(n,e,t,Qbe,uC(n,0,i),uC(n,i+1,-1),i,r)}function UU(n,e){for(var t="",i=0;i<n.length;i++)t+=e(n[i],i,n,e)||"";return t}function TWe(n,e,t,i){switch(n.type){case hWe:if(n.children.length)break;case uWe:case cWe:case Qbe:return n.return=n.return||n.value;case qbe:return"";case dWe:return n.return=n.value+"{"+UU(n.children,i)+"}";case Zbe:if(!_p(n.value=n.props.join(",")))return""}return _p(t=UU(n.children,i))?n.return=n.value+"{"+t+"}":""}var fie="data-ant-cssinjs-cache-path",n0e="_FILE_STYLE__",Hb,i0e=!0;function EWe(){if(!Hb&&(Hb={},pc())){var n=document.createElement("div");n.className=fie,n.style.position="fixed",n.style.visibility="hidden",n.style.top="-9999px",document.body.appendChild(n);var e=getComputedStyle(n).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(r){var s=r.split(":"),a=Ve(s,2),o=a[0],l=a[1];Hb[o]=l});var t=document.querySelector("style[".concat(fie,"]"));if(t){var i;i0e=!1,(i=t.parentNode)===null||i===void 0||i.removeChild(t)}document.body.removeChild(n)}}function AWe(n){return EWe(),!!Hb[n]}function kWe(n){var e=Hb[n],t=null;if(e&&pc())if(i0e)t=n0e;else{var i=document.querySelector("style[".concat(Cf,'="').concat(Hb[n],'"]'));i?t=i.innerHTML:delete Hb[n]}return[t,e]}var OWe="_skip_check_",r0e="_multi_value_";function g2(n){var e=UU(wWe(n),TWe);return e.replace(/\{%%%\:[^;];}/g,";")}function PWe(n){return bn(n)==="object"&&n&&(OWe in n||r0e in n)}function pie(n,e,t){if(!e)return n;var i=".".concat(e),r=t==="low"?":where(".concat(i,")"):i,s=n.split(",").map(function(a){var o,l=a.trim().split(/\s+/),u=l[0]||"",c=((o=u.match(/^\w+/))===null||o===void 0?void 0:o[0])||"";return u="".concat(c).concat(r).concat(u.slice(c.length)),[u].concat(Pt(l.slice(1))).join(" ")});return s.join(",")}var MWe=function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},r=i.root,s=i.injectHash,a=i.parentSelectors,o=t.hashId,l=t.layer;t.path;var u=t.hashPriority,c=t.transformers,d=c===void 0?[]:c;t.linters;var h="",f={};function p(v){var _=v.getName(o);if(!f[_]){var y=n(v.style,t,{root:!1,parentSelectors:a}),x=Ve(y,1),w=x[0];f[_]="@keyframes ".concat(v.getName(o)).concat(w)}}function g(v){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return v.forEach(function(y){Array.isArray(y)?g(y,_):y&&_.push(y)}),_}var m=g(Array.isArray(e)?e:[e]);return m.forEach(function(v){var _=typeof v=="string"&&!r?{}:v;if(typeof _=="string")h+="".concat(_,`
`);else if(_._keyframe)p(_);else{var y=d.reduce(function(x,w){var T;return(w==null||(T=w.visit)===null||T===void 0?void 0:T.call(w,x))||x},_);Object.keys(y).forEach(function(x){var w=y[x];if(bn(w)==="object"&&w&&(x!=="animationName"||!w._keyframe)&&!PWe(w)){var T=!1,E=x.trim(),A=!1;(r||s)&&o?E.startsWith("@")?T=!0:E==="&"?E=pie("",o,u):E=pie(x,o,u):r&&!o&&(E==="&"||E==="")&&(E="",A=!0);var k=n(w,t,{root:A,injectHash:T,parentSelectors:[].concat(Pt(a),[E])}),P=Ve(k,2),I=P[0],D=P[1];f=Te(Te({},f),D),h+="".concat(E).concat(I)}else{let F=function($,z){var N=$.replace(/[A-Z]/g,function(H){return"-".concat(H.toLowerCase())}),V=z;!lWe[$]&&typeof V=="number"&&V!==0&&(V="".concat(V,"px")),$==="animationName"&&z!==null&&z!==void 0&&z._keyframe&&(p(z),V=z.getName(o)),h+="".concat(N,":").concat(V,";")};var L,B=(L=w==null?void 0:w.value)!==null&&L!==void 0?L:w;bn(w)==="object"&&w!==null&&w!==void 0&&w[r0e]&&Array.isArray(B)?B.forEach(function($){F(x,$)}):F(x,B)}})}}),r?l&&(h&&(h="@layer ".concat(l.name," {").concat(h,"}")),l.dependencies&&(f["@layer ".concat(l.name)]=l.dependencies.map(function(v){return"@layer ".concat(v,", ").concat(l.name,";")}).join(`
`))):h="{".concat(h,"}"),[h,f]};function s0e(n,e){return Lk("".concat(n.join("%")).concat(e))}function IWe(){return null}var a0e="style";function GU(n,e){var t=n.token,i=n.path,r=n.hashId,s=n.layer,a=n.nonce,o=n.clientOnly,l=n.order,u=l===void 0?0:l,c=$T.useContext(wP),d=c.autoClear;c.mock;var h=c.defaultCache,f=c.hashPriority,p=c.container,g=c.ssrInline,m=c.transformers,v=c.linters,_=c.cache,y=c.layer,x=t._tokenKey,w=[x];y&&w.push("layer"),w.push.apply(w,Pt(i));var T=HU,E=p9(a0e,w,function(){var D=w.join("|");if(AWe(D)){var L=kWe(D),B=Ve(L,2),F=B[0],$=B[1];if(F)return[F,x,$,{},o,u]}var z=e(),N=MWe(z,{hashId:r,hashPriority:f,layer:y?s:void 0,path:i.join("-"),transformers:m,linters:v}),V=Ve(N,2),H=V[0],K=V[1],U=g2(H),X=s0e(w,U);return[U,x,X,K,o,u]},function(D,L){var B=Ve(D,3),F=B[2];(L||d)&&HU&&Fk(F,{mark:Cf,attachTo:p})},function(D){var L=Ve(D,4),B=L[0];L[1];var F=L[2],$=L[3];if(T&&B!==n0e){var z={mark:Cf,prepend:y?!1:"queue",attachTo:p,priority:u},N=typeof a=="function"?a():a;N&&(z.csp={nonce:N});var V=[],H=[];Object.keys($).forEach(function(U){U.startsWith("@layer")?V.push(U):H.push(U)}),V.forEach(function(U){Sm(g2($[U]),"_layer-".concat(U),Te(Te({},z),{},{prepend:!0}))});var K=Sm(B,F,z);K[ry]=_.instanceId,K.setAttribute(lC,x),H.forEach(function(U){Sm(g2($[U]),"_effect-".concat(U),z)})}}),A=Ve(E,3),k=A[0],P=A[1],I=A[2];return function(D){var L;return!g||T||!h?L=$T.createElement(IWe,null):L=$T.createElement("style",wn({},me(me({},lC,P),Cf,I),{dangerouslySetInnerHTML:{__html:k}})),$T.createElement($T.Fragment,null,L,D)}}var RWe=function(n,e,t){var i=Ve(n,6),r=i[0],s=i[1],a=i[2],o=i[3],l=i[4],u=i[5],c=t||{},d=c.plain;if(l)return null;var h=r,f={"data-rc-order":"prependQueue","data-rc-priority":"".concat(u)};return h=kL(r,s,a,f,d),o&&Object.keys(o).forEach(function(p){if(!e[p]){e[p]=!0;var g=g2(o[p]),m=kL(g,s,"_effect-".concat(p),f,d);p.startsWith("@layer")?h=m+h:h+=m}}),[u,a,h]},o0e="cssVar",DWe=function(n,e){var t=n.key,i=n.prefix,r=n.unitless,s=n.ignore,a=n.token,o=n.scope,l=o===void 0?"":o,u=(0,aWe.useContext)(wP),c=u.cache.instanceId,d=u.container,h=a._tokenKey,f=[].concat(Pt(n.path),[t,l,h]),p=p9(o0e,f,function(){var g=e(),m=Ube(g,t,{prefix:i,unitless:r,ignore:s,scope:l}),v=Ve(m,2),_=v[0],y=v[1],x=s0e(f,y);return[_,y,x,t]},function(g){var m=Ve(g,3),v=m[2];HU&&Fk(v,{mark:Cf,attachTo:d})},function(g){var m=Ve(g,3),v=m[1],_=m[2];if(v){var y=Sm(v,_,{mark:Cf,prepend:"queue",attachTo:d,priority:-999});y[ry]=c,y.setAttribute(lC,t)}});return p},LWe=function(n,e,t){var i=Ve(n,4),r=i[1],s=i[2],a=i[3],o=t||{},l=o.plain;if(!r)return null;var u=-999,c={"data-rc-order":"prependQueue","data-rc-priority":"".concat(u)},d=kL(r,a,s,c,l);return[u,s,d]},FWe=DWe;me(me(me({},a0e,RWe),Xbe,sWe),o0e,LWe);var BWe=function(){function n(e,t){Wa(this,n),me(this,"name",void 0),me(this,"style",void 0),me(this,"_keyframe",!0),this.name=e,this.style=t}return Ua(n,[{key:"getName",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e?"".concat(e,"-").concat(this.name):this.name}}]),n}(),xr=BWe;function PS(n){return n.notSplit=!0,n}PS(["borderTop","borderBottom"]),PS(["borderTop"]),PS(["borderBottom"]),PS(["borderLeft","borderRight"]),PS(["borderLeft"]),PS(["borderRight"]);var $We=ie(de()),NWe=(0,$We.createContext)({}),v9=NWe;function l0e(n){return Nbe(n)||Dbe(n)||c9(n)||jbe()}function rh(n,e){for(var t=n,i=0;i<e.length;i+=1){if(t==null)return;t=t[e[i]]}return t}function u0e(n,e,t,i){if(!e.length)return t;var r=l0e(e),s=r[0],a=r.slice(1),o;return!n&&typeof s=="number"?o=[]:Array.isArray(n)?o=Pt(n):o=Te({},n),i&&t===void 0&&a.length===1?delete o[s][a[0]]:o[s]=u0e(o[s],a,t,i),o}function Hd(n,e,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&i&&t===void 0&&!rh(n,e.slice(0,-1))?n:u0e(n,e,t,i)}function jWe(n){return bn(n)==="object"&&n!==null&&Object.getPrototypeOf(n)===Object.prototype}function gie(n){return Array.isArray(n)?[]:{}}var zWe=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function Nx(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var i=gie(e[0]);return e.forEach(function(r){function s(a,o){var l=new Set(o),u=rh(r,a),c=Array.isArray(u);if(c||jWe(u)){if(!l.has(u)){l.add(u);var d=rh(i,a);c?i=Hd(i,a,[]):(!d||bn(d)!=="object")&&(i=Hd(i,a,gie(u))),zWe(u).forEach(function(h){s([].concat(Pt(a),[h]),l)})}}else i=Hd(i,a,u)}s([])}),i}var HWe=ie(de());function VWe(){}var WWe=HWe.createContext({}),hN=()=>{let n=()=>{};return n.deprecated=VWe,n},UWe=ie(de()),c0e=(0,UWe.createContext)(void 0),E5=ie(de()),GWe={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},YWe=GWe,KWe={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0},XWe=Te(Te({},KWe),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",week:"Week",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),qWe=XWe,ZWe={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},d0e=ZWe,QWe={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},qWe),timePickerLocale:Object.assign({},d0e)},h0e=QWe,JWe=h0e,Ic="${label} is not a valid ${type}",eUe={locale:"en",Pagination:YWe,DatePicker:h0e,TimePicker:d0e,Calendar:JWe,global:{placeholder:"Please select",close:"Close"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckAll:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Ic,method:Ic,array:Ic,object:Ic,number:Ic,date:Ic,boolean:Ic,integer:Ic,float:Ic,regexp:Ic,email:Ic,url:Ic,hex:Ic},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}},o0=eUe;Object.assign({},o0.Modal);var m2=[],mie=()=>m2.reduce((n,e)=>Object.assign(Object.assign({},n),e),o0.Modal);function tUe(n){if(n){let e=Object.assign({},n);return m2.push(e),mie(),()=>{m2=m2.filter(t=>t!==e),mie()}}Object.assign({},o0.Modal)}var nUe=ie(de()),iUe=(0,nUe.createContext)(void 0),y9=iUe,A5=ie(de()),rUe=(n,e)=>{let t=A5.useContext(y9),i=A5.useMemo(()=>{var s;let a=e||o0[n],o=(s=t==null?void 0:t[n])!==null&&s!==void 0?s:{};return Object.assign(Object.assign({},typeof a=="function"?a():a),o||{})},[n,e,t]),r=A5.useMemo(()=>{let s=t==null?void 0:t.locale;return t!=null&&t.exist&&!s?o0.locale:s},[t]);return[i,r]},fN=rUe,sUe="internalMark",aUe=n=>{let{locale:e={},children:t,_ANT_MARK__:i}=n;E5.useEffect(()=>tUe(e==null?void 0:e.Modal),[e]);let r=E5.useMemo(()=>Object.assign(Object.assign({},e),{exist:!0}),[e]);return E5.createElement(y9.Provider,{value:r},t)},oUe=aUe,lUe=ie(de()),f0e={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},uUe=Object.assign(Object.assign({},f0e),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),$k=uUe,Do=Math.round;function k5(n,e){let t=n.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],i=t.map(r=>parseFloat(r));for(let r=0;r<3;r+=1)i[r]=e(i[r]||0,t[r]||"",r);return t[3]?i[3]=t[3].includes("%")?i[3]/100:i[3]:i[3]=1,i}var vie=(n,e,t)=>t===0?n:n/100;function NT(n,e){let t=e||255;return n>t?t:n<0?0:n}var ns=class{constructor(n){me(this,"isValid",!0),me(this,"r",0),me(this,"g",0),me(this,"b",0),me(this,"a",1),me(this,"_h",void 0),me(this,"_s",void 0),me(this,"_l",void 0),me(this,"_v",void 0),me(this,"_max",void 0),me(this,"_min",void 0),me(this,"_brightness",void 0);function e(t){return t[0]in n&&t[1]in n&&t[2]in n}if(n)if(typeof n=="string"){let t=function(r){return i.startsWith(r)},i=n.trim();/^#?[A-F\d]{3,8}$/i.test(i)?this.fromHexString(i):t("rgb")?this.fromRgbString(i):t("hsl")?this.fromHslString(i):(t("hsv")||t("hsb"))&&this.fromHsvString(i)}else if(n instanceof ns)this.r=n.r,this.g=n.g,this.b=n.b,this.a=n.a,this._h=n._h,this._s=n._s,this._l=n._l,this._v=n._v;else if(e("rgb"))this.r=NT(n.r),this.g=NT(n.g),this.b=NT(n.b),this.a=typeof n.a=="number"?NT(n.a,1):1;else if(e("hsl"))this.fromHsl(n);else if(e("hsv"))this.fromHsv(n);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(n))}setR(n){return this._sc("r",n)}setG(n){return this._sc("g",n)}setB(n){return this._sc("b",n)}setA(n){return this._sc("a",n,1)}setHue(n){let e=this.toHsv();return e.h=n,this._c(e)}getLuminance(){function n(r){let s=r/255;return s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4)}let e=n(this.r),t=n(this.g),i=n(this.b);return .2126*e+.7152*t+.0722*i}getHue(){if(typeof this._h>"u"){let n=this.getMax()-this.getMin();n===0?this._h=0:this._h=Do(60*(this.r===this.getMax()?(this.g-this.b)/n+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/n+2:(this.r-this.g)/n+4))}return this._h}getSaturation(){if(typeof this._s>"u"){let n=this.getMax()-this.getMin();n===0?this._s=0:this._s=n/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(n=10){let e=this.getHue(),t=this.getSaturation(),i=this.getLightness()-n/100;return i<0&&(i=0),this._c({h:e,s:t,l:i,a:this.a})}lighten(n=10){let e=this.getHue(),t=this.getSaturation(),i=this.getLightness()+n/100;return i>1&&(i=1),this._c({h:e,s:t,l:i,a:this.a})}mix(n,e=50){let t=this._c(n),i=e/100,r=a=>(t[a]-this[a])*i+this[a],s={r:Do(r("r")),g:Do(r("g")),b:Do(r("b")),a:Do(r("a")*100)/100};return this._c(s)}tint(n=10){return this.mix({r:255,g:255,b:255,a:1},n)}shade(n=10){return this.mix({r:0,g:0,b:0,a:1},n)}onBackground(n){let e=this._c(n),t=this.a+e.a*(1-this.a),i=r=>Do((this[r]*this.a+e[r]*e.a*(1-this.a))/t);return this._c({r:i("r"),g:i("g"),b:i("b"),a:t})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(n){return this.r===n.r&&this.g===n.g&&this.b===n.b&&this.a===n.a}clone(){return this._c(this)}toHexString(){let n="#",e=(this.r||0).toString(16);n+=e.length===2?e:"0"+e;let t=(this.g||0).toString(16);n+=t.length===2?t:"0"+t;let i=(this.b||0).toString(16);if(n+=i.length===2?i:"0"+i,typeof this.a=="number"&&this.a>=0&&this.a<1){let r=Do(this.a*255).toString(16);n+=r.length===2?r:"0"+r}return n}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){let n=this.getHue(),e=Do(this.getSaturation()*100),t=Do(this.getLightness()*100);return this.a!==1?`hsla(${n},${e}%,${t}%,${this.a})`:`hsl(${n},${e}%,${t}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(n,e,t){let i=this.clone();return i[n]=NT(e,t),i}_c(n){return new this.constructor(n)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(n){let e=n.replace("#","");function t(i,r){return parseInt(e[i]+e[r||i],16)}e.length<6?(this.r=t(0),this.g=t(1),this.b=t(2),this.a=e[3]?t(3)/255:1):(this.r=t(0,1),this.g=t(2,3),this.b=t(4,5),this.a=e[6]?t(6,7)/255:1)}fromHsl({h:n,s:e,l:t,a:i}){if(this._h=n%360,this._s=e,this._l=t,this.a=typeof i=="number"?i:1,e<=0){let d=Do(t*255);this.r=d,this.g=d,this.b=d}let r=0,s=0,a=0,o=n/60,l=(1-Math.abs(2*t-1))*e,u=l*(1-Math.abs(o%2-1));o>=0&&o<1?(r=l,s=u):o>=1&&o<2?(r=u,s=l):o>=2&&o<3?(s=l,a=u):o>=3&&o<4?(s=u,a=l):o>=4&&o<5?(r=u,a=l):o>=5&&o<6&&(r=l,a=u);let c=t-l/2;this.r=Do((r+c)*255),this.g=Do((s+c)*255),this.b=Do((a+c)*255)}fromHsv({h:n,s:e,v:t,a:i}){this._h=n%360,this._s=e,this._v=t,this.a=typeof i=="number"?i:1;let r=Do(t*255);if(this.r=r,this.g=r,this.b=r,e<=0)return;let s=n/60,a=Math.floor(s),o=s-a,l=Do(t*(1-e)*255),u=Do(t*(1-e*o)*255),c=Do(t*(1-e*(1-o))*255);switch(a){case 0:this.g=c,this.b=l;break;case 1:this.r=u,this.b=l;break;case 2:this.r=l,this.b=c;break;case 3:this.r=l,this.g=u;break;case 4:this.r=c,this.g=l;break;case 5:default:this.g=l,this.b=u;break}}fromHsvString(n){let e=k5(n,vie);this.fromHsv({h:e[0],s:e[1],v:e[2],a:e[3]})}fromHslString(n){let e=k5(n,vie);this.fromHsl({h:e[0],s:e[1],l:e[2],a:e[3]})}fromRgbString(n){let e=k5(n,(t,i)=>i.includes("%")?Do(t/100*255):t);this.r=e[0],this.g=e[1],this.b=e[2],this.a=e[3]}},pR=2,yie=.16,cUe=.05,dUe=.05,hUe=.15,p0e=5,g0e=4,fUe=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function _ie(n,e,t){var i;return Math.round(n.h)>=60&&Math.round(n.h)<=240?i=t?Math.round(n.h)-pR*e:Math.round(n.h)+pR*e:i=t?Math.round(n.h)+pR*e:Math.round(n.h)-pR*e,i<0?i+=360:i>=360&&(i-=360),i}function bie(n,e,t){if(n.h===0&&n.s===0)return n.s;var i;return t?i=n.s-yie*e:e===g0e?i=n.s+yie:i=n.s+cUe*e,i>1&&(i=1),t&&e===p0e&&i>.1&&(i=.1),i<.06&&(i=.06),Math.round(i*100)/100}function Sie(n,e,t){var i;return t?i=n.v+dUe*e:i=n.v-hUe*e,i=Math.max(0,Math.min(1,i)),Math.round(i*100)/100}function Nk(n){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],i=new ns(n),r=i.toHsv(),s=p0e;s>0;s-=1){var a=new ns({h:_ie(r,s,!0),s:bie(r,s,!0),v:Sie(r,s,!0)});t.push(a)}t.push(i);for(var o=1;o<=g0e;o+=1){var l=new ns({h:_ie(r,o),s:bie(r,o),v:Sie(r,o)});t.push(l)}return e.theme==="dark"?fUe.map(function(u){var c=u.index,d=u.amount;return new ns(e.backgroundColor||"#141414").mix(t[c],d).toHexString()}):t.map(function(u){return u.toHexString()})}var O5={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},YU=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];YU.primary=YU[5];var KU=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];KU.primary=KU[5];var XU=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];XU.primary=XU[5];var qU=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];qU.primary=qU[5];var ZU=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];ZU.primary=ZU[5];var QU=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];QU.primary=QU[5];var JU=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];JU.primary=JU[5];var e6=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];e6.primary=e6[5];var OL=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];OL.primary=OL[5];var t6=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];t6.primary=t6[5];var n6=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];n6.primary=n6[5];var i6=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];i6.primary=i6[5];var r6=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];r6.primary=r6[5];var P5={red:YU,volcano:KU,orange:XU,gold:qU,yellow:ZU,lime:QU,green:JU,cyan:e6,blue:OL,geekblue:t6,purple:n6,magenta:i6,grey:r6};function pUe(n,{generateColorPalettes:e,generateNeutralColorPalettes:t}){let{colorSuccess:i,colorWarning:r,colorError:s,colorInfo:a,colorPrimary:o,colorBgBase:l,colorTextBase:u}=n,c=e(o),d=e(i),h=e(r),f=e(s),p=e(a),g=t(l,u),m=n.colorLink||n.colorInfo,v=e(m),_=new ns(f[1]).mix(new ns(f[3]),50).toHexString();return Object.assign(Object.assign({},g),{colorPrimaryBg:c[1],colorPrimaryBgHover:c[2],colorPrimaryBorder:c[3],colorPrimaryBorderHover:c[4],colorPrimaryHover:c[5],colorPrimary:c[6],colorPrimaryActive:c[7],colorPrimaryTextHover:c[8],colorPrimaryText:c[9],colorPrimaryTextActive:c[10],colorSuccessBg:d[1],colorSuccessBgHover:d[2],colorSuccessBorder:d[3],colorSuccessBorderHover:d[4],colorSuccessHover:d[4],colorSuccess:d[6],colorSuccessActive:d[7],colorSuccessTextHover:d[8],colorSuccessText:d[9],colorSuccessTextActive:d[10],colorErrorBg:f[1],colorErrorBgHover:f[2],colorErrorBgFilledHover:_,colorErrorBgActive:f[3],colorErrorBorder:f[3],colorErrorBorderHover:f[4],colorErrorHover:f[5],colorError:f[6],colorErrorActive:f[7],colorErrorTextHover:f[8],colorErrorText:f[9],colorErrorTextActive:f[10],colorWarningBg:h[1],colorWarningBgHover:h[2],colorWarningBorder:h[3],colorWarningBorderHover:h[4],colorWarningHover:h[4],colorWarning:h[6],colorWarningActive:h[7],colorWarningTextHover:h[8],colorWarningText:h[9],colorWarningTextActive:h[10],colorInfoBg:p[1],colorInfoBgHover:p[2],colorInfoBorder:p[3],colorInfoBorderHover:p[4],colorInfoHover:p[4],colorInfo:p[6],colorInfoActive:p[7],colorInfoTextHover:p[8],colorInfoText:p[9],colorInfoTextActive:p[10],colorLinkHover:v[4],colorLink:v[6],colorLinkActive:v[7],colorBgMask:new ns("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}var gUe=n=>{let e=n,t=n,i=n,r=n;return n<6&&n>=5?e=n+1:n<16&&n>=6?e=n+2:n>=16&&(e=16),n<7&&n>=5?t=4:n<8&&n>=7?t=5:n<14&&n>=8?t=6:n<16&&n>=14?t=7:n>=16&&(t=8),n<6&&n>=2?i=1:n>=6&&(i=2),n>4&&n<8?r=4:n>=8&&(r=6),{borderRadius:n,borderRadiusXS:i,borderRadiusSM:t,borderRadiusLG:e,borderRadiusOuter:r}},mUe=gUe;function vUe(n){let{motionUnit:e,motionBase:t,borderRadius:i,lineWidth:r}=n;return Object.assign({motionDurationFast:`${(t+e).toFixed(1)}s`,motionDurationMid:`${(t+e*2).toFixed(1)}s`,motionDurationSlow:`${(t+e*3).toFixed(1)}s`,lineWidthBold:r+1},mUe(i))}var yUe=n=>{let{controlHeight:e}=n;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}},_Ue=yUe;function v2(n){return(n+8)/n}function bUe(n){let e=Array.from({length:10}).map((t,i)=>{let r=i-1,s=n*Math.pow(Math.E,r/5),a=i>1?Math.floor(s):Math.ceil(s);return Math.floor(a/2)*2});return e[1]=n,e.map(t=>({size:t,lineHeight:v2(t)}))}var SUe=n=>{let e=bUe(n),t=e.map(c=>c.size),i=e.map(c=>c.lineHeight),r=t[1],s=t[0],a=t[2],o=i[1],l=i[0],u=i[2];return{fontSizeSM:s,fontSize:r,fontSizeLG:a,fontSizeXL:t[3],fontSizeHeading1:t[6],fontSizeHeading2:t[5],fontSizeHeading3:t[4],fontSizeHeading4:t[3],fontSizeHeading5:t[2],lineHeight:o,lineHeightLG:u,lineHeightSM:l,fontHeight:Math.round(o*r),fontHeightLG:Math.round(u*a),fontHeightSM:Math.round(l*s),lineHeightHeading1:i[6],lineHeightHeading2:i[5],lineHeightHeading3:i[4],lineHeightHeading4:i[3],lineHeightHeading5:i[2]}},xUe=SUe;function wUe(n){let{sizeUnit:e,sizeStep:t}=n;return{sizeXXL:e*(t+8),sizeXL:e*(t+4),sizeLG:e*(t+2),sizeMD:e*(t+1),sizeMS:e*t,size:e*t,sizeSM:e*(t-1),sizeXS:e*(t-2),sizeXXS:e*(t-3)}}var Cd=(n,e)=>new ns(n).setA(e).toRgbString(),jT=(n,e)=>new ns(n).darken(e).toHexString(),CUe=n=>{let e=Nk(n);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},TUe=(n,e)=>{let t=n||"#fff",i=e||"#000";return{colorBgBase:t,colorTextBase:i,colorText:Cd(i,.88),colorTextSecondary:Cd(i,.65),colorTextTertiary:Cd(i,.45),colorTextQuaternary:Cd(i,.25),colorFill:Cd(i,.15),colorFillSecondary:Cd(i,.06),colorFillTertiary:Cd(i,.04),colorFillQuaternary:Cd(i,.02),colorBgSolid:Cd(i,1),colorBgSolidHover:Cd(i,.75),colorBgSolidActive:Cd(i,.95),colorBgLayout:jT(t,4),colorBgContainer:jT(t,0),colorBgElevated:jT(t,0),colorBgSpotlight:Cd(i,.85),colorBgBlur:"transparent",colorBorder:jT(t,15),colorBorderSecondary:jT(t,6)}};function EUe(n){O5.pink=O5.magenta,P5.pink=P5.magenta;let e=Object.keys(f0e).map(t=>{let i=n[t]===O5[t]?P5[t]:Nk(n[t]);return Array.from({length:10},()=>1).reduce((r,s,a)=>(r[`${t}-${a+1}`]=i[a],r[`${t}${a+1}`]=i[a],r),{})}).reduce((t,i)=>(t=Object.assign(Object.assign({},t),i),t),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),e),pUe(n,{generateColorPalettes:CUe,generateNeutralColorPalettes:TUe})),xUe(n.fontSize)),wUe(n)),_Ue(n)),vUe(n))}var AUe=zU(EUe),m0e=AUe,s6={token:$k,override:{override:$k},hashed:!0},v0e=lUe.default.createContext(s6),y0e=ie(de()),jk="ant",pN="anticon",kUe=["outlined","borderless","filled","underlined"],OUe=(n,e)=>e||(n?`${jk}-${n}`:jk),er=y0e.createContext({getPrefixCls:OUe,iconPrefixCls:pN}),xie={};function Gm(n){let e=y0e.useContext(er),{getPrefixCls:t,direction:i,getPopupContainer:r}=e,s=e[n];return Object.assign(Object.assign({classNames:xie,styles:xie},s),{getPrefixCls:t,direction:i,getPopupContainer:r})}var PUe=`-ant-${Date.now()}-${Math.random()}`;function MUe(n,e){let t={},i=(s,a)=>{let o=s.clone();return o=(a==null?void 0:a(o))||o,o.toRgbString()},r=(s,a)=>{let o=new ns(s),l=Nk(o.toRgbString());t[`${a}-color`]=i(o),t[`${a}-color-disabled`]=l[1],t[`${a}-color-hover`]=l[4],t[`${a}-color-active`]=l[6],t[`${a}-color-outline`]=o.clone().setA(.2).toRgbString(),t[`${a}-color-deprecated-bg`]=l[0],t[`${a}-color-deprecated-border`]=l[2]};if(e.primaryColor){r(e.primaryColor,"primary");let s=new ns(e.primaryColor),a=Nk(s.toRgbString());a.forEach((l,u)=>{t[`primary-${u+1}`]=l}),t["primary-color-deprecated-l-35"]=i(s,l=>l.lighten(35)),t["primary-color-deprecated-l-20"]=i(s,l=>l.lighten(20)),t["primary-color-deprecated-t-20"]=i(s,l=>l.tint(20)),t["primary-color-deprecated-t-50"]=i(s,l=>l.tint(50)),t["primary-color-deprecated-f-12"]=i(s,l=>l.setA(l.a*.12));let o=new ns(a[0]);t["primary-color-active-deprecated-f-30"]=i(o,l=>l.setA(l.a*.3)),t["primary-color-active-deprecated-d-02"]=i(o,l=>l.darken(2))}return e.successColor&&r(e.successColor,"success"),e.warningColor&&r(e.warningColor,"warning"),e.errorColor&&r(e.errorColor,"error"),e.infoColor&&r(e.infoColor,"info"),`
  :root {
    ${Object.keys(t).map(s=>`--${n}-${s}: ${t[s]};`).join(`
`)}
  }
  `.trim()}function IUe(n,e){let t=MUe(n,e);pc()&&Sm(t,`${PUe}-dynamic-theme`)}var a6=ie(de()),o6=a6.createContext(!1),_0e=({children:n,disabled:e})=>{let t=a6.useContext(o6);return a6.createElement(o6.Provider,{value:e??t},n)},dg=o6,wie=ie(de()),l6=ie(de()),u6=l6.createContext(void 0),RUe=({children:n,size:e})=>{let t=l6.useContext(u6);return l6.createElement(u6.Provider,{value:e||t},n)},CP=u6;function DUe(){let n=(0,wie.useContext)(dg),e=(0,wie.useContext)(CP);return{componentDisabled:n,componentSize:e}}var LUe=DUe,M5=ie(de()),FUe=Ua(function n(){Wa(this,n)}),b0e=FUe,S0e="CALC_UNIT",BUe=new RegExp(S0e,"g");function I5(n){return typeof n=="number"?"".concat(n).concat(S0e):n}var $Ue=function(n){qy(t,n);var e=Zy(t);function t(i,r){var s;Wa(this,t),s=e.call(this),me(Ci(s),"result",""),me(Ci(s),"unitlessCssVar",void 0),me(Ci(s),"lowPriority",void 0);var a=bn(i);return s.unitlessCssVar=r,i instanceof t?s.result="(".concat(i.result,")"):a==="number"?s.result=I5(i):a==="string"&&(s.result=i),s}return Ua(t,[{key:"add",value:function(i){return i instanceof t?this.result="".concat(this.result," + ").concat(i.getResult()):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," + ").concat(I5(i))),this.lowPriority=!0,this}},{key:"sub",value:function(i){return i instanceof t?this.result="".concat(this.result," - ").concat(i.getResult()):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," - ").concat(I5(i))),this.lowPriority=!0,this}},{key:"mul",value:function(i){return this.lowPriority&&(this.result="(".concat(this.result,")")),i instanceof t?this.result="".concat(this.result," * ").concat(i.getResult(!0)):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," * ").concat(i)),this.lowPriority=!1,this}},{key:"div",value:function(i){return this.lowPriority&&(this.result="(".concat(this.result,")")),i instanceof t?this.result="".concat(this.result," / ").concat(i.getResult(!0)):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," / ").concat(i)),this.lowPriority=!1,this}},{key:"getResult",value:function(i){return this.lowPriority||i?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(i){var r=this,s=i||{},a=s.unit,o=!0;return typeof a=="boolean"?o=a:Array.from(this.unitlessCssVar).some(function(l){return r.result.includes(l)})&&(o=!1),this.result=this.result.replace(BUe,o?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),t}(b0e),NUe=function(n){qy(t,n);var e=Zy(t);function t(i){var r;return Wa(this,t),r=e.call(this),me(Ci(r),"result",0),i instanceof t?r.result=i.result:typeof i=="number"&&(r.result=i),r}return Ua(t,[{key:"add",value:function(i){return i instanceof t?this.result+=i.result:typeof i=="number"&&(this.result+=i),this}},{key:"sub",value:function(i){return i instanceof t?this.result-=i.result:typeof i=="number"&&(this.result-=i),this}},{key:"mul",value:function(i){return i instanceof t?this.result*=i.result:typeof i=="number"&&(this.result*=i),this}},{key:"div",value:function(i){return i instanceof t?this.result/=i.result:typeof i=="number"&&(this.result/=i),this}},{key:"equal",value:function(){return this.result}}]),t}(b0e),jUe=NUe,zUe=function(n,e){var t=n==="css"?$Ue:jUe;return function(i){return new t(i,e)}},HUe=zUe,VUe=function(n,e){return"".concat([e,n.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))},Cie=VUe,Tie=ie(de());function bo(n){var e=Tie.useRef();e.current=n;var t=Tie.useCallback(function(){for(var i,r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(i=e.current)===null||i===void 0?void 0:i.call.apply(i,[e].concat(s))},[]);return t}var R5=ie(de());function dC(n){var e=R5.useRef(!1),t=R5.useState(n),i=Ve(t,2),r=i[0],s=i[1];R5.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function a(o,l){l&&e.current||s(o)}return[r,a]}function D5(n){return n!==void 0}function ig(n,e){var t=e||{},i=t.defaultValue,r=t.value,s=t.onChange,a=t.postState,o=dC(function(){return D5(r)?r:D5(i)?typeof i=="function"?i():i:typeof n=="function"?n():n}),l=Ve(o,2),u=l[0],c=l[1],d=r!==void 0?r:u,h=a?a(d):d,f=bo(s),p=dC([d]),g=Ve(p,2),m=g[0],v=g[1];sA(function(){var y=m[0];u!==y&&f(u,y)},[m]),sA(function(){D5(r)||c(r)},[r]);var _=bo(function(y,x){c(y,x),v([d],x)});return[h,_]}function WUe(n,e,t,i){var r=Te({},e[n]);if(i!=null&&i.deprecatedTokens){var s=i.deprecatedTokens;s.forEach(function(o){var l=Ve(o,2),u=l[0],c=l[1];if(r!=null&&r[u]||r!=null&&r[c]){var d;(d=r[c])!==null&&d!==void 0||(r[c]=r==null?void 0:r[u])}})}var a=Te(Te({},t),r);return Object.keys(a).forEach(function(o){a[o]===e[o]&&delete a[o]}),a}var Eie=WUe,x0e=typeof CSSINJS_STATISTIC<"u",c6=!0;function Jr(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(!x0e)return Object.assign.apply(Object,[{}].concat(e));c6=!1;var i={};return e.forEach(function(r){if(bn(r)==="object"){var s=Object.keys(r);s.forEach(function(a){Object.defineProperty(i,a,{configurable:!0,enumerable:!0,get:function(){return r[a]}})})}}),c6=!0,i}var Aie={};function UUe(){}var GUe=function(n){var e,t=n,i=UUe;return x0e&&typeof Proxy<"u"&&(e=new Set,t=new Proxy(n,{get:function(r,s){if(c6){var a;(a=e)===null||a===void 0||a.add(s)}return r[s]}}),i=function(r,s){var a;Aie[r]={global:Array.from(e),component:Te(Te({},(a=Aie[r])===null||a===void 0?void 0:a.component),s)}}),{token:t,keys:e,flush:i}},YUe=GUe;function KUe(n,e,t){if(typeof t=="function"){var i;return t(Jr(e,(i=e[n])!==null&&i!==void 0?i:{}))}return t??{}}var kie=KUe;function XUe(n){return n==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return"max(".concat(t.map(function(r){return Rt(r)}).join(","),")")},min:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return"min(".concat(t.map(function(r){return Rt(r)}).join(","),")")}}}var qUe=XUe,ZUe=ie(de()),QUe=1e3*60*10,JUe=function(){function n(){Wa(this,n),me(this,"map",new Map),me(this,"objectIDMap",new WeakMap),me(this,"nextID",0),me(this,"lastAccessBeat",new Map),me(this,"accessBeat",0)}return Ua(n,[{key:"set",value:function(e,t){this.clear();var i=this.getCompositeKey(e);this.map.set(i,t),this.lastAccessBeat.set(i,Date.now())}},{key:"get",value:function(e){var t=this.getCompositeKey(e),i=this.map.get(t);return this.lastAccessBeat.set(t,Date.now()),this.accessBeat+=1,i}},{key:"getCompositeKey",value:function(e){var t=this,i=e.map(function(r){return r&&bn(r)==="object"?"obj_".concat(t.getObjectID(r)):"".concat(bn(r),"_").concat(r)});return i.join("|")}},{key:"getObjectID",value:function(e){if(this.objectIDMap.has(e))return this.objectIDMap.get(e);var t=this.nextID;return this.objectIDMap.set(e,t),this.nextID+=1,t}},{key:"clear",value:function(){var e=this;if(this.accessBeat>1e4){var t=Date.now();this.lastAccessBeat.forEach(function(i,r){t-i>QUe&&(e.map.delete(r),e.lastAccessBeat.delete(r))}),this.accessBeat=0}}}]),n}(),Oie=new JUe;function e6e(n,e){return ZUe.default.useMemo(function(){var t=Oie.get(e);if(t)return t;var i=n();return Oie.set(e,i),i},e)}var t6e=e6e,n6e=function(){return{}},i6e=n6e;function r6e(n){var e=n.useCSP,t=e===void 0?i6e:e,i=n.useToken,r=n.usePrefix,s=n.getResetStyles,a=n.getCommonStyle,o=n.getCompUnitless;function l(h,f,p,g){var m=Array.isArray(h)?h[0]:h;function v(A){return"".concat(String(m)).concat(A.slice(0,1).toUpperCase()).concat(A.slice(1))}var _=(g==null?void 0:g.unitless)||{},y=typeof o=="function"?o(h):{},x=Te(Te({},y),{},me({},v("zIndexPopup"),!0));Object.keys(_).forEach(function(A){x[v(A)]=_[A]});var w=Te(Te({},g),{},{unitless:x,prefixToken:v}),T=c(h,f,p,w),E=u(m,p,w);return function(A){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:A,P=T(A,k),I=Ve(P,2),D=I[1],L=E(k),B=Ve(L,2),F=B[0],$=B[1];return[F,D,$]}}function u(h,f,p){var g=p.unitless,m=p.injectStyle,v=m===void 0?!0:m,_=p.prefixToken,y=p.ignore,x=function(T){var E=T.rootCls,A=T.cssVar,k=A===void 0?{}:A,P=i(),I=P.realToken;return FWe({path:[h],prefix:k.prefix,key:k.key,unitless:g,ignore:y,token:I,scope:E},function(){var D=kie(h,I,f),L=Eie(h,I,D,{deprecatedTokens:p==null?void 0:p.deprecatedTokens});return Object.keys(D).forEach(function(B){L[_(B)]=L[B],delete L[B]}),L}),null},w=function(T){var E=i(),A=E.cssVar;return[function(k){return v&&A?M5.default.createElement(M5.default.Fragment,null,M5.default.createElement(x,{rootCls:T,cssVar:A,component:h}),k):k},A==null?void 0:A.key]};return w}function c(h,f,p){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},m=Array.isArray(h)?h:[h,h],v=Ve(m,1),_=v[0],y=m.join("-"),x=n.layer||{name:"antd"};return function(w){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:w,E=i(),A=E.theme,k=E.realToken,P=E.hashId,I=E.token,D=E.cssVar,L=r(),B=L.rootPrefixCls,F=L.iconPrefixCls,$=t(),z=D?"css":"js",N=t6e(function(){var Z=new Set;return D&&Object.keys(g.unitless||{}).forEach(function(Q){Z.add(d2(Q,D.prefix)),Z.add(d2(Q,Cie(_,D.prefix)))}),HUe(z,Z)},[z,_,D==null?void 0:D.prefix]),V=qUe(z),H=V.max,K=V.min,U={theme:A,token:I,hashId:P,nonce:function(){return $.nonce},clientOnly:g.clientOnly,layer:x,order:g.order||-999};typeof s=="function"&&GU(Te(Te({},U),{},{clientOnly:!1,path:["Shared",B]}),function(){return s(I,{prefix:{rootPrefixCls:B,iconPrefixCls:F},csp:$})});var X=GU(Te(Te({},U),{},{path:[y,w,F]}),function(){if(g.injectStyle===!1)return[];var Z=YUe(I),Q=Z.token,se=Z.flush,ae=kie(_,k,p),ue=".".concat(w),oe=Eie(_,k,ae,{deprecatedTokens:g.deprecatedTokens});D&&ae&&bn(ae)==="object"&&Object.keys(ae).forEach(function(xe){ae[xe]="var(".concat(d2(xe,Cie(_,D.prefix)),")")});var re=Jr(Q,{componentCls:ue,prefixCls:w,iconCls:".".concat(F),antCls:".".concat(B),calc:N,max:H,min:K},D?ae:oe),fe=f(re,{hashId:P,prefixCls:w,rootPrefixCls:B,iconPrefixCls:F});se(_,oe);var ve=typeof a=="function"?a(re,w,T,g.resetFont):null;return[g.resetStyle===!1?null:ve,fe]});return[X,P]}}function d(h,f,p){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},m=c(h,f,p,Te({resetStyle:!1,order:-998},g)),v=function(_){var y=_.prefixCls,x=_.rootCls,w=x===void 0?y:x;return m(y,w),null};return v}return{genStyleHooks:l,genSubStyleComponent:d,genComponentStyleHook:c}}var s6e=r6e,l0=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"],a6e=ie(de()),o6e="5.28.0",l6e=o6e;function L5(n){return n>=0&&n<=255}function u6e(n,e){let{r:t,g:i,b:r,a:s}=new ns(n).toRgb();if(s<1)return n;let{r:a,g:o,b:l}=new ns(e).toRgb();for(let u=.01;u<=1;u+=.01){let c=Math.round((t-a*(1-u))/u),d=Math.round((i-o*(1-u))/u),h=Math.round((r-l*(1-u))/u);if(L5(c)&&L5(d)&&L5(h))return new ns({r:c,g:d,b:h,a:Math.round(u*100)/100}).toRgbString()}return new ns({r:t,g:i,b:r,a:1}).toRgbString()}var TE=u6e,c6e=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function w0e(n){let{override:e}=n,t=c6e(n,["override"]),i=Object.assign({},e);Object.keys($k).forEach(d=>{delete i[d]});let r=Object.assign(Object.assign({},t),i),s=480,a=576,o=768,l=992,u=1200,c=1600;if(r.motion===!1){let d="0s";r.motionDurationFast=d,r.motionDurationMid=d,r.motionDurationSlow=d}return Object.assign(Object.assign(Object.assign({},r),{colorFillContent:r.colorFillSecondary,colorFillContentHover:r.colorFill,colorFillAlter:r.colorFillQuaternary,colorBgContainerDisabled:r.colorFillTertiary,colorBorderBg:r.colorBgContainer,colorSplit:TE(r.colorBorderSecondary,r.colorBgContainer),colorTextPlaceholder:r.colorTextQuaternary,colorTextDisabled:r.colorTextQuaternary,colorTextHeading:r.colorText,colorTextLabel:r.colorTextSecondary,colorTextDescription:r.colorTextTertiary,colorTextLightSolid:r.colorWhite,colorHighlight:r.colorError,colorBgTextHover:r.colorFillSecondary,colorBgTextActive:r.colorFill,colorIcon:r.colorTextTertiary,colorIconHover:r.colorText,colorErrorOutline:TE(r.colorErrorBg,r.colorBgContainer),colorWarningOutline:TE(r.colorWarningBg,r.colorBgContainer),fontSizeIcon:r.fontSizeSM,lineWidthFocus:r.lineWidth*3,lineWidth:r.lineWidth,controlOutlineWidth:r.lineWidth*2,controlInteractiveSize:r.controlHeight/2,controlItemBgHover:r.colorFillTertiary,controlItemBgActive:r.colorPrimaryBg,controlItemBgActiveHover:r.colorPrimaryBgHover,controlItemBgActiveDisabled:r.colorFill,controlTmpOutline:r.colorFillQuaternary,controlOutline:TE(r.colorPrimaryBg,r.colorBgContainer),lineType:r.lineType,borderRadius:r.borderRadius,borderRadiusXS:r.borderRadiusXS,borderRadiusSM:r.borderRadiusSM,borderRadiusLG:r.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:r.sizeXXS,paddingXS:r.sizeXS,paddingSM:r.sizeSM,padding:r.size,paddingMD:r.sizeMD,paddingLG:r.sizeLG,paddingXL:r.sizeXL,paddingContentHorizontalLG:r.sizeLG,paddingContentVerticalLG:r.sizeMS,paddingContentHorizontal:r.sizeMS,paddingContentVertical:r.sizeSM,paddingContentHorizontalSM:r.size,paddingContentVerticalSM:r.sizeXS,marginXXS:r.sizeXXS,marginXS:r.sizeXS,marginSM:r.sizeSM,margin:r.size,marginMD:r.sizeMD,marginLG:r.sizeLG,marginXL:r.sizeXL,marginXXL:r.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:s,screenXSMin:s,screenXSMax:a-1,screenSM:a,screenSMMin:a,screenSMMax:o-1,screenMD:o,screenMDMin:o,screenMDMax:l-1,screenLG:l,screenLGMin:l,screenLGMax:u-1,screenXL:u,screenXLMin:u,screenXLMax:c-1,screenXXL:c,screenXXLMin:c,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new ns("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new ns("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new ns("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),i)}var Pie=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t},C0e={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},d6e={motionBase:!0,motionUnit:!0},h6e={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},T0e=(n,e,t)=>{let i=t.getDerivativeToken(n),{override:r}=e,s=Pie(e,["override"]),a=Object.assign(Object.assign({},i),{override:r});return a=w0e(a),s&&Object.entries(s).forEach(([o,l])=>{let{theme:u}=l,c=Pie(l,["theme"]),d=c;u&&(d=T0e(Object.assign(Object.assign({},a),c),{override:c},u)),a[o]=d}),a};function Eh(){let{token:n,hashed:e,theme:t,override:i,cssVar:r}=a6e.default.useContext(v0e),s=`${l6e}-${e||""}`,a=t||m0e,[o,l,u]=rWe(a,[$k,n],{salt:s,override:i,getComputedToken:T0e,formatToken:w0e,cssVar:r&&{prefix:r.prefix,key:r.key,unitless:C0e,ignore:d6e,preserve:h6e}});return[a,u,e?l:"",o,r]}var Mie=ie(de()),d6={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},wo=(n,e=!1)=>({boxSizing:"border-box",margin:0,padding:0,color:n.colorText,fontSize:n.fontSize,lineHeight:n.lineHeight,listStyle:"none",fontFamily:e?"inherit":n.fontFamily}),TP=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),f6e=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),p6e=n=>({a:{color:n.colorLink,textDecoration:n.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${n.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:n.colorLinkHover},"&:active":{color:n.colorLinkActive},"&:active, &:hover":{textDecoration:n.linkHoverDecoration,outline:0},"&:focus":{textDecoration:n.linkFocusDecoration,outline:0},"&[disabled]":{color:n.colorTextDisabled,cursor:"not-allowed"}}}),g6e=(n,e,t,i)=>{let r=`[class^="${e}"], [class*=" ${e}"]`,s=t?`.${t}`:r,a={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}},o={};return i!==!1&&(o={fontFamily:n.fontFamily,fontSize:n.fontSize}),{[s]:Object.assign(Object.assign(Object.assign({},o),a),{[r]:a})}},gN=(n,e)=>({outline:`${Rt(n.lineWidthFocus)} solid ${n.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),m6e=(n,e)=>({"&:focus-visible":gN(n)}),E0e=n=>({[`.${n}`]:Object.assign(Object.assign({},TP()),{[`.${n} .${n}-icon`]:{display:"block"}})}),{genStyleHooks:yl,genComponentStyleHook:v6e,genSubStyleComponent:A0e}=s6e({usePrefix:()=>{let{getPrefixCls:n,iconPrefixCls:e}=(0,Mie.useContext)(er);return{rootPrefixCls:n(),iconPrefixCls:e}},useToken:()=>{let[n,e,t,i,r]=Eh();return{theme:n,realToken:e,hashId:t,token:i,cssVar:r}},useCSP:()=>{let{csp:n}=(0,Mie.useContext)(er);return n??{}},getResetStyles:(n,e)=>{var t;let i=p6e(n);return[i,{"&":i},E0e((t=e==null?void 0:e.prefix.iconPrefixCls)!==null&&t!==void 0?t:pN)]},getCommonStyle:g6e,getCompUnitless:()=>C0e});function y6e(n,e){return l0.reduce((t,i)=>{let r=n[`${i}1`],s=n[`${i}3`],a=n[`${i}6`],o=n[`${i}7`];return Object.assign(Object.assign({},t),e(i,{lightColor:r,lightBorderColor:s,darkColor:a,textColor:o}))},{})}var _6e=(n,e)=>{let[t,i]=Eh();return GU({token:i,hashId:"",path:["ant-design-icons",n],nonce:()=>e==null?void 0:e.nonce,layer:{name:"antd"}},()=>E0e(n))},b6e=_6e,S6e=ie(de()),x6e=Object.assign({},S6e),{useId:Iie}=x6e,w6e=()=>"",C6e=typeof Iie>"u"?w6e:Iie,T6e=C6e;function E6e(n,e,t){var i;hN();let r=n||{},s=r.inherit===!1||!e?Object.assign(Object.assign({},s6),{hashed:(i=e==null?void 0:e.hashed)!==null&&i!==void 0?i:s6.hashed,cssVar:e==null?void 0:e.cssVar}):e,a=T6e();return oN(()=>{var o,l;if(!n)return e;let u=Object.assign({},s.components);Object.keys(n.components||{}).forEach(h=>{u[h]=Object.assign(Object.assign({},u[h]),n.components[h])});let c=`css-var-${a.replace(/:/g,"")}`,d=((o=r.cssVar)!==null&&o!==void 0?o:s.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:t==null?void 0:t.prefixCls},typeof s.cssVar=="object"?s.cssVar:{}),typeof r.cssVar=="object"?r.cssVar:{}),{key:typeof r.cssVar=="object"&&((l=r.cssVar)===null||l===void 0?void 0:l.key)||c});return Object.assign(Object.assign(Object.assign({},s),r),{token:Object.assign(Object.assign({},s.token),r.token),components:u,cssVar:d})},[r,s],(o,l)=>o.some((u,c)=>{let d=l[c];return!NU(u,d,!0)}))}var EE=ie(de()),A6e=ie(zt()),P_=ie(de()),Rie=ie(de()),k0e=ie(de()),k6e=["children"],O0e=k0e.createContext({});function O6e(n){var e=n.children,t=Ji(n,k6e);return k0e.createElement(O0e.Provider,{value:t},e)}var P6e=ie(de()),M6e=function(n){qy(t,n);var e=Zy(t);function t(){return Wa(this,t),e.apply(this,arguments)}return Ua(t,[{key:"render",value:function(){return this.props.children}}]),t}(P6e.Component),I6e=M6e,Die=ie(de());function R6e(n){var e=Die.useReducer(function(o){return o+1},0),t=Ve(e,2),i=t[1],r=Die.useRef(n),s=bo(function(){return r.current}),a=bo(function(o){r.current=typeof o=="function"?o(r.current):o,i()});return[s,a]}var Lie=ie(de()),M_=ie(de()),Rv="none",gR="appear",mR="enter",vR="leave",Fie="none",tf="prepare",jx="start",zx="active",_9="end",P0e="prepared",D6e=ie(de()),L6e=ie(de());function Bie(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit".concat(n)]="webkit".concat(e),t["Moz".concat(n)]="moz".concat(e),t["ms".concat(n)]="MS".concat(e),t["O".concat(n)]="o".concat(e.toLowerCase()),t}function F6e(n,e){var t={animationend:Bie("Animation","AnimationEnd"),transitionend:Bie("Transition","TransitionEnd")};return n&&("AnimationEvent"in e||delete t.animationend.animation,"TransitionEvent"in e||delete t.transitionend.transition),t}var B6e=F6e(pc(),typeof window<"u"?window:{}),M0e={};pc()&&($ie=document.createElement("div"),M0e=$ie.style);var $ie,yR={};function I0e(n){if(yR[n])return yR[n];var e=B6e[n];if(e)for(var t=Object.keys(e),i=t.length,r=0;r<i;r+=1){var s=t[r];if(Object.prototype.hasOwnProperty.call(e,s)&&s in M0e)return yR[n]=e[s],yR[n]}return""}var R0e=I0e("animationend"),D0e=I0e("transitionend"),L0e=!!(R0e&&D0e),Nie=R0e||"animationend",jie=D0e||"transitionend";function zie(n,e){if(!n)return null;if(bn(n)==="object"){var t=e.replace(/-\w/g,function(i){return i[1].toUpperCase()});return n[t]}return"".concat(n,"-").concat(e)}var $6e=function(n){var e=(0,L6e.useRef)();function t(r){r&&(r.removeEventListener(jie,n),r.removeEventListener(Nie,n))}function i(r){e.current&&e.current!==r&&t(e.current),r&&r!==e.current&&(r.addEventListener(jie,n),r.addEventListener(Nie,n),e.current=r)}return D6e.useEffect(function(){return function(){t(e.current)}},[]),[i,t]},Hie=ie(de()),N6e=pc()?Hie.useLayoutEffect:Hie.useEffect,F0e=N6e,j6e=ie(de()),Vie=ie(de()),z6e=function(){var n=Vie.useRef(null);function e(){Zr.cancel(n.current)}function t(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var s=Zr(function(){r<=1?i({isCanceled:function(){return s!==n.current}}):t(i,r-1)});n.current=s}return Vie.useEffect(function(){return function(){e()}},[]),[t,e]},H6e=[tf,jx,zx,_9],V6e=[tf,P0e],B0e=!1,W6e=!0;function $0e(n){return n===zx||n===_9}var U6e=function(n,e,t){var i=dC(Fie),r=Ve(i,2),s=r[0],a=r[1],o=z6e(),l=Ve(o,2),u=l[0],c=l[1];function d(){a(tf,!0)}var h=e?V6e:H6e;return F0e(function(){if(s!==Fie&&s!==_9){var f=h.indexOf(s),p=h[f+1],g=t(s);g===B0e?a(p,!0):p&&u(function(m){function v(){m.isCanceled()||a(p,!0)}g===!0?v():Promise.resolve(g).then(v)})}},[n,s]),j6e.useEffect(function(){return function(){c()}},[]),[d,s]};function G6e(n,e,t,i){var r=i.motionEnter,s=r===void 0?!0:r,a=i.motionAppear,o=a===void 0?!0:a,l=i.motionLeave,u=l===void 0?!0:l,c=i.motionDeadline,d=i.motionLeaveImmediately,h=i.onAppearPrepare,f=i.onEnterPrepare,p=i.onLeavePrepare,g=i.onAppearStart,m=i.onEnterStart,v=i.onLeaveStart,_=i.onAppearActive,y=i.onEnterActive,x=i.onLeaveActive,w=i.onAppearEnd,T=i.onEnterEnd,E=i.onLeaveEnd,A=i.onVisibleChanged,k=dC(),P=Ve(k,2),I=P[0],D=P[1],L=R6e(Rv),B=Ve(L,2),F=B[0],$=B[1],z=dC(null),N=Ve(z,2),V=N[0],H=N[1],K=F(),U=(0,M_.useRef)(!1),X=(0,M_.useRef)(null);function Z(){return t()}var Q=(0,M_.useRef)(!1);function se(){$(Rv),H(null,!0)}var ae=bo(function(qe){var ot=F();if(ot!==Rv){var $e=Z();if(!(qe&&!qe.deadline&&qe.target!==$e)){var et=Q.current,Mt;ot===gR&&et?Mt=w==null?void 0:w($e,qe):ot===mR&&et?Mt=T==null?void 0:T($e,qe):ot===vR&&et&&(Mt=E==null?void 0:E($e,qe)),et&&Mt!==!1&&se()}}}),ue=$6e(ae),oe=Ve(ue,1),re=oe[0],fe=function(qe){switch(qe){case gR:return me(me(me({},tf,h),jx,g),zx,_);case mR:return me(me(me({},tf,f),jx,m),zx,y);case vR:return me(me(me({},tf,p),jx,v),zx,x);default:return{}}},ve=Lie.useMemo(function(){return fe(K)},[K]),xe=U6e(K,!n,function(qe){if(qe===tf){var ot=ve[tf];return ot?ot(Z()):B0e}if(Se in ve){var $e;H((($e=ve[Se])===null||$e===void 0?void 0:$e.call(ve,Z(),null))||null)}return Se===zx&&K!==Rv&&(re(Z()),c>0&&(clearTimeout(X.current),X.current=setTimeout(function(){ae({deadline:!0})},c))),Se===P0e&&se(),W6e}),ye=Ve(xe,2),Ee=ye[0],Se=ye[1],Fe=$0e(Se);Q.current=Fe;var Ge=(0,M_.useRef)(null);F0e(function(){if(!(U.current&&Ge.current===e)){D(e);var qe=U.current;U.current=!0;var ot;!qe&&e&&o&&(ot=gR),qe&&e&&s&&(ot=mR),(qe&&!e&&u||!qe&&d&&!e&&u)&&(ot=vR);var $e=fe(ot);ot&&(n||$e[tf])?($(ot),Ee()):$(Rv),Ge.current=e}},[e]),(0,M_.useEffect)(function(){(K===gR&&!o||K===mR&&!s||K===vR&&!u)&&$(Rv)},[o,s,u]),(0,M_.useEffect)(function(){return function(){U.current=!1,clearTimeout(X.current)}},[]);var Pe=Lie.useRef(!1);(0,M_.useEffect)(function(){I&&(Pe.current=!0),I!==void 0&&K===Rv&&((Pe.current||I)&&(A==null||A(I)),Pe.current=!0)},[I,K]);var je=V;return ve[tf]&&Se===jx&&(je=Te({transition:"none"},je)),[K,Se,je,I??e]}function Y6e(n){var e=n;bn(n)==="object"&&(e=n.transitionSupport);function t(r,s){return!!(r.motionName&&e&&s!==!1)}var i=P_.forwardRef(function(r,s){var a=r.visible,o=a===void 0?!0:a,l=r.removeOnLeave,u=l===void 0?!0:l,c=r.forceRender,d=r.children,h=r.motionName,f=r.leavedClassName,p=r.eventProps,g=P_.useContext(O0e),m=g.motion,v=t(r,m),_=(0,Rie.useRef)(),y=(0,Rie.useRef)();function x(){try{return _.current instanceof HTMLElement?_.current:c2(y.current)}catch{return null}}var w=G6e(v,o,x,r),T=Ve(w,4),E=T[0],A=T[1],k=T[2],P=T[3],I=P_.useRef(P);P&&(I.current=!0);var D=P_.useCallback(function(N){_.current=N,l9(s,N)},[s]),L,B=Te(Te({},p),{},{visible:o});if(!d)L=null;else if(E===Rv)P?L=d(Te({},B),D):!u&&I.current&&f?L=d(Te(Te({},B),{},{className:f}),D):c||!u&&!f?L=d(Te(Te({},B),{},{style:{display:"none"}}),D):L=null;else{var F;A===tf?F="prepare":$0e(A)?F="active":A===jx&&(F="start");var $=zie(h,"".concat(E,"-").concat(F));L=d(Te(Te({},B),{},{className:(0,A6e.default)(zie(h,E),me(me({},$,$&&F),h,typeof h=="string")),style:k}),D)}if(P_.isValidElement(L)&&l1(L)){var z=xP(L);z||(L=P_.cloneElement(L,{ref:D}))}return P_.createElement(I6e,{ref:y},L)});return i.displayName="CSSMotion",i}var N0e=Y6e(L0e),_R=ie(de()),h6="add",f6="keep",p6="remove",F5="removed";function K6e(n){var e;return n&&bn(n)==="object"&&"key"in n?e=n:e={key:n},Te(Te({},e),{},{key:String(e.key)})}function g6(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return n.map(K6e)}function X6e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=[],i=0,r=e.length,s=g6(n),a=g6(e);s.forEach(function(u){for(var c=!1,d=i;d<r;d+=1){var h=a[d];if(h.key===u.key){i<d&&(t=t.concat(a.slice(i,d).map(function(f){return Te(Te({},f),{},{status:h6})})),i=d),t.push(Te(Te({},h),{},{status:f6})),i+=1,c=!0;break}}c||t.push(Te(Te({},u),{},{status:p6}))}),i<r&&(t=t.concat(a.slice(i).map(function(u){return Te(Te({},u),{},{status:h6})})));var o={};t.forEach(function(u){var c=u.key;o[c]=(o[c]||0)+1});var l=Object.keys(o).filter(function(u){return o[u]>1});return l.forEach(function(u){t=t.filter(function(c){var d=c.key,h=c.status;return d!==u||h!==p6}),t.forEach(function(c){c.key===u&&(c.status=f6)})}),t}var q6e=["component","children","onVisibleChanged","onAllRemoved"],Z6e=["status"],Q6e=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function J6e(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N0e,t=function(i){qy(s,i);var r=Zy(s);function s(){var a;Wa(this,s);for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];return a=r.call.apply(r,[this].concat(l)),me(Ci(a),"state",{keyEntities:[]}),me(Ci(a),"removeKey",function(c){a.setState(function(d){var h=d.keyEntities.map(function(f){return f.key!==c?f:Te(Te({},f),{},{status:F5})});return{keyEntities:h}},function(){var d=a.state.keyEntities,h=d.filter(function(f){var p=f.status;return p!==F5}).length;h===0&&a.props.onAllRemoved&&a.props.onAllRemoved()})}),a}return Ua(s,[{key:"render",value:function(){var a=this,o=this.state.keyEntities,l=this.props,u=l.component,c=l.children,d=l.onVisibleChanged;l.onAllRemoved;var h=Ji(l,q6e),f=u||_R.Fragment,p={};return Q6e.forEach(function(g){p[g]=h[g],delete h[g]}),delete h.keys,_R.createElement(f,h,o.map(function(g,m){var v=g.status,_=Ji(g,Z6e),y=v===h6||v===f6;return _R.createElement(e,wn({},p,{key:_.key,visible:y,eventProps:_,onVisibleChanged:function(x){d==null||d(x,{key:_.key}),x||a.removeKey(_.key)}}),function(x,w){return c(Te(Te({},x),{},{index:m}),w)})}))}}],[{key:"getDerivedStateFromProps",value:function(a,o){var l=a.keys,u=o.keyEntities,c=g6(l),d=X6e(u,c);return{keyEntities:d.filter(function(h){var f=u.find(function(p){var g=p.key;return h.key===g});return!(f&&f.status===F5&&h.status===p6)})}}}]),s}(_R.Component);return me(t,"defaultProps",{component:"div"}),t}var j0e=J6e(L0e),EP=N0e,Wie=EE.createContext(!0);function eGe(n){let e=EE.useContext(Wie),{children:t}=n,[,i]=Eh(),{motion:r}=i,s=EE.useRef(!1);return s.current||(s.current=e!==r),s.current?EE.createElement(Wie.Provider,{value:r},EE.createElement(O6e,{motion:r},t)):t}ie(de());var tGe=()=>null,nGe=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t},iGe=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"],b9,z0e,H0e,V0e;function y2(){return b9||jk}function rGe(){return z0e||pN}function sGe(n){return Object.keys(n).some(e=>e.endsWith("Color"))}var aGe=n=>{let{prefixCls:e,iconPrefixCls:t,theme:i,holderRender:r}=n;e!==void 0&&(b9=e),t!==void 0&&(z0e=t),"holderRender"in n&&(V0e=r),i&&(sGe(i)?IUe(y2(),i):H0e=i)},oGe=()=>({getPrefixCls:(n,e)=>e||(n?`${y2()}-${n}`:y2()),getIconPrefixCls:rGe,getRootPrefixCls:()=>b9||y2(),getTheme:()=>H0e,holderRender:V0e}),lGe=n=>{let{children:e,csp:t,autoInsertSpaceInButton:i,alert:r,anchor:s,form:a,locale:o,componentSize:l,direction:u,space:c,splitter:d,virtual:h,dropdownMatchSelectWidth:f,popupMatchSelectWidth:p,popupOverflow:g,legacyLocale:m,parentContext:v,iconPrefixCls:_,theme:y,componentDisabled:x,segmented:w,statistic:T,spin:E,calendar:A,carousel:k,cascader:P,collapse:I,typography:D,checkbox:L,descriptions:B,divider:F,drawer:$,skeleton:z,steps:N,image:V,layout:H,list:K,mentions:U,modal:X,progress:Z,result:Q,slider:se,breadcrumb:ae,menu:ue,pagination:oe,input:re,textArea:fe,empty:ve,badge:xe,radio:ye,rate:Ee,switch:Se,transfer:Fe,avatar:Ge,message:Pe,tag:je,table:qe,card:ot,tabs:$e,timeline:et,timePicker:Mt,upload:Ct,notification:tt,tree:xt,colorPicker:dt,datePicker:bt,rangePicker:rt,flex:Dt,wave:Je,dropdown:At,warning:Ft,tour:on,tooltip:Wt,popover:Cn,popconfirm:gn,floatButton:Ln,floatButtonGroup:gi,variant:ut,inputNumber:gt,treeSelect:ct}=n,en=qa.useCallback((Tt,$n)=>{let{prefixCls:bi}=n;if($n)return $n;let ti=bi||v.getPrefixCls("");return Tt?`${ti}-${Tt}`:ti},[v.getPrefixCls,n.prefixCls]),Bt=_||v.iconPrefixCls||pN,Qt=t||v.csp;b6e(Bt,Qt);let kn=E6e(y,v.theme,{prefixCls:en("")}),jt={csp:Qt,autoInsertSpaceInButton:i,alert:r,anchor:s,locale:o||m,direction:u,space:c,splitter:d,virtual:h,popupMatchSelectWidth:p??f,popupOverflow:g,getPrefixCls:en,iconPrefixCls:Bt,theme:kn,segmented:w,statistic:T,spin:E,calendar:A,carousel:k,cascader:P,collapse:I,typography:D,checkbox:L,descriptions:B,divider:F,drawer:$,skeleton:z,steps:N,image:V,input:re,textArea:fe,layout:H,list:K,mentions:U,modal:X,progress:Z,result:Q,slider:se,breadcrumb:ae,menu:ue,pagination:oe,empty:ve,badge:xe,radio:ye,rate:Ee,switch:Se,transfer:Fe,avatar:Ge,message:Pe,tag:je,table:qe,card:ot,tabs:$e,timeline:et,timePicker:Mt,upload:Ct,notification:tt,tree:xt,colorPicker:dt,datePicker:bt,rangePicker:rt,flex:Dt,wave:Je,dropdown:At,warning:Ft,tour:on,tooltip:Wt,popover:Cn,popconfirm:gn,floatButton:Ln,floatButtonGroup:gi,variant:ut,inputNumber:gt,treeSelect:ct},Ht=Object.assign({},v);Object.keys(jt).forEach(Tt=>{jt[Tt]!==void 0&&(Ht[Tt]=jt[Tt])}),iGe.forEach(Tt=>{let $n=n[Tt];$n&&(Ht[Tt]=$n)}),typeof i<"u"&&(Ht.button=Object.assign({autoInsertSpace:i},Ht.button));let kt=oN(()=>Ht,Ht,(Tt,$n)=>{let bi=Object.keys(Tt),ti=Object.keys($n);return bi.length!==ti.length||bi.some(Si=>Tt[Si]!==$n[Si])}),{layer:Ze}=qa.useContext(wP),Ue=qa.useMemo(()=>({prefixCls:Bt,csp:Qt,layer:Ze?"antd":void 0}),[Bt,Qt,Ze]),ze=qa.createElement(qa.Fragment,null,qa.createElement(tGe,{dropdownMatchSelectWidth:f}),e),it=qa.useMemo(()=>{var Tt,$n,bi,ti;return Nx(((Tt=o0.Form)===null||Tt===void 0?void 0:Tt.defaultValidateMessages)||{},((bi=($n=kt.locale)===null||$n===void 0?void 0:$n.Form)===null||bi===void 0?void 0:bi.defaultValidateMessages)||{},((ti=kt.form)===null||ti===void 0?void 0:ti.validateMessages)||{},(a==null?void 0:a.validateMessages)||{})},[kt,a==null?void 0:a.validateMessages]);Object.keys(it).length>0&&(ze=qa.createElement(c0e.Provider,{value:it},ze)),o&&(ze=qa.createElement(oUe,{locale:o,_ANT_MARK__:sUe},ze)),ze=qa.createElement(v9.Provider,{value:Ue},ze),l&&(ze=qa.createElement(RUe,{size:l},ze)),ze=qa.createElement(eGe,null,ze);let St=qa.useMemo(()=>{let Tt=kn||{},{algorithm:$n,token:bi,components:ti,cssVar:Si}=Tt,Bi=nGe(Tt,["algorithm","token","components","cssVar"]),wr=$n&&(!Array.isArray($n)||$n.length>0)?zU($n):m0e,as={};Object.entries(ti||{}).forEach(([es,Sl])=>{let yt=Object.assign({},Sl);"algorithm"in yt&&(yt.algorithm===!0?yt.theme=wr:(Array.isArray(yt.algorithm)||typeof yt.algorithm=="function")&&(yt.theme=zU(yt.algorithm)),delete yt.algorithm),as[es]=yt});let vs=Object.assign(Object.assign({},$k),bi);return Object.assign(Object.assign({},Bi),{theme:wr,token:vs,components:as,override:Object.assign({override:vs},as),cssVar:Si})},[kn]);return y&&(ze=qa.createElement(v0e.Provider,{value:St},ze)),kt.warning&&(ze=qa.createElement(WWe.Provider,{value:kt.warning},ze)),x!==void 0&&(ze=qa.createElement(_0e,{disabled:x},ze)),qa.createElement(er.Provider,{value:kt},ze)},c1=n=>{let e=qa.useContext(er),t=qa.useContext(y9);return qa.createElement(lGe,Object.assign({parentContext:e,legacyLocale:t},n))};c1.ConfigContext=er;c1.SizeContext=CP;c1.config=aGe;c1.useConfig=LUe;Object.defineProperty(c1,"SizeContext",{get:()=>CP});var mN=c1,W0e=ie(de()),uGe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},cGe=uGe,bR=ie(de()),dGe=ie(zt()),hGe=ie(de());function U0e(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}function fGe(n){return U0e(n)instanceof ShadowRoot}function PL(n){return fGe(n)?U0e(n):null}var ML=ie(de());function pGe(n){return n.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function gGe(n,e){dh(n,"[@ant-design/icons] ".concat(e))}function Uie(n){return bn(n)==="object"&&typeof n.name=="string"&&typeof n.theme=="string"&&(bn(n.icon)==="object"||typeof n.icon=="function")}function Gie(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(n).reduce(function(e,t){var i=n[t];switch(t){case"class":e.className=i,delete e.class;break;default:delete e[t],e[pGe(t)]=i}return e},{})}function m6(n,e,t){return t?ML.default.createElement(n.tag,Te(Te({key:e},Gie(n.attrs)),t),(n.children||[]).map(function(i,r){return m6(i,"".concat(e,"-").concat(n.tag,"-").concat(r))})):ML.default.createElement(n.tag,Te({key:e},Gie(n.attrs)),(n.children||[]).map(function(i,r){return m6(i,"".concat(e,"-").concat(n.tag,"-").concat(r))}))}function G0e(n){return Nk(n)[0]}function Y0e(n){return n?Array.isArray(n)?n:[n]:[]}var mGe=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,vGe=function(n){var e=(0,ML.useContext)(v9),t=e.csp,i=e.prefixCls,r=e.layer,s=mGe;i&&(s=s.replace(/anticon/g,i)),r&&(s="@layer ".concat(r,` {
`).concat(s,`
}`)),(0,ML.useEffect)(function(){var a=n.current,o=PL(a);Sm(s,"@ant-design-icons",{prepend:!r,csp:t,attachTo:o})},[])},yGe=["icon","className","onClick","style","primaryColor","secondaryColor"],aA={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function _Ge(n){var e=n.primaryColor,t=n.secondaryColor;aA.primaryColor=e,aA.secondaryColor=t||G0e(e),aA.calculated=!!t}function bGe(){return Te({},aA)}var vN=function(n){var e=n.icon,t=n.className,i=n.onClick,r=n.style,s=n.primaryColor,a=n.secondaryColor,o=Ji(n,yGe),l=hGe.useRef(),u=aA;if(s&&(u={primaryColor:s,secondaryColor:a||G0e(s)}),vGe(l),gGe(Uie(e),"icon should be icon definiton, but got ".concat(e)),!Uie(e))return null;var c=e;return c&&typeof c.icon=="function"&&(c=Te(Te({},c),{},{icon:c.icon(u.primaryColor,u.secondaryColor)})),m6(c.icon,"svg-".concat(c.name),Te(Te({className:t,onClick:i,style:r,"data-icon":c.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},o),{},{ref:l}))};vN.displayName="IconReact";vN.getTwoToneColors=bGe;vN.setTwoToneColors=_Ge;var S9=vN;function K0e(n){var e=Y0e(n),t=Ve(e,2),i=t[0],r=t[1];return S9.setTwoToneColors({primaryColor:i,secondaryColor:r})}function SGe(){var n=S9.getTwoToneColors();return n.calculated?[n.primaryColor,n.secondaryColor]:n.primaryColor}var xGe=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];K0e(OL.primary);var yN=bR.forwardRef(function(n,e){var t=n.className,i=n.icon,r=n.spin,s=n.rotate,a=n.tabIndex,o=n.onClick,l=n.twoToneColor,u=Ji(n,xGe),c=bR.useContext(v9),d=c.prefixCls,h=d===void 0?"anticon":d,f=c.rootClassName,p=(0,dGe.default)(f,h,me(me({},"".concat(h,"-").concat(i.name),!!i.name),"".concat(h,"-spin"),!!r||i.name==="loading"),t),g=a;g===void 0&&o&&(g=-1);var m=s?{msTransform:"rotate(".concat(s,"deg)"),transform:"rotate(".concat(s,"deg)")}:void 0,v=Y0e(l),_=Ve(v,2),y=_[0],x=_[1];return bR.createElement("span",wn({role:"img","aria-label":i.name},u,{ref:e,tabIndex:g,onClick:o,className:p}),bR.createElement(S9,{icon:i,primaryColor:y,secondaryColor:x,style:m}))});yN.displayName="AntdIcon";yN.getTwoToneColor=SGe;yN.setTwoToneColor=K0e;var cd=yN,wGe=function(n,e){return W0e.createElement(cd,wn({},n,{ref:e,icon:cGe}))},CGe=W0e.forwardRef(wGe),X0e=CGe,q0e=ie(de()),TGe={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},EGe=TGe,AGe=function(n,e){return q0e.createElement(cd,wn({},n,{ref:e,icon:EGe}))},kGe=q0e.forwardRef(AGe),_N=kGe,Z0e=ie(de()),OGe={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},PGe=OGe,MGe=function(n,e){return Z0e.createElement(cd,wn({},n,{ref:e,icon:PGe}))},IGe=Z0e.forwardRef(MGe),Q0e=IGe,J0e=ie(de()),RGe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},DGe=RGe,LGe=function(n,e){return J0e.createElement(cd,wn({},n,{ref:e,icon:DGe}))},FGe=J0e.forwardRef(LGe),eSe=FGe,tSe=ie(de()),BGe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},$Ge=BGe,NGe=function(n,e){return tSe.createElement(cd,wn({},n,{ref:e,icon:$Ge}))},jGe=tSe.forwardRef(NGe),zGe=jGe,HGe=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,VGe=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,WGe="".concat(HGe," ").concat(VGe).split(/[\s\n]+/),UGe="aria-",GGe="data-";function Yie(n,e){return n.indexOf(e)===0}function u0(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t;e===!1?t={aria:!0,data:!0,attr:!0}:e===!0?t={aria:!0}:t=Te({},e);var i={};return Object.keys(n).forEach(function(r){(t.aria&&(r==="role"||Yie(r,UGe))||t.data&&Yie(r,GGe)||t.attr&&WGe.includes(r))&&(i[r]=n[r])}),i}var IL=ie(de());function nSe(n){return n&&IL.default.isValidElement(n)&&n.type===IL.default.Fragment}var YGe=(n,e,t)=>IL.default.isValidElement(n)?IL.default.cloneElement(n,typeof t=="function"?t(n.props||{}):t):e;function c0(n,e){return YGe(n,n,e)}var Kie=n=>typeof n=="object"&&n!=null&&n.nodeType===1,Xie=(n,e)=>(!e||n!=="hidden")&&n!=="visible"&&n!=="clip",SR=(n,e)=>{if(n.clientHeight<n.scrollHeight||n.clientWidth<n.scrollWidth){let t=getComputedStyle(n,null);return Xie(t.overflowY,e)||Xie(t.overflowX,e)||(i=>{let r=(s=>{if(!s.ownerDocument||!s.ownerDocument.defaultView)return null;try{return s.ownerDocument.defaultView.frameElement}catch{return null}})(i);return!!r&&(r.clientHeight<i.scrollHeight||r.clientWidth<i.scrollWidth)})(n)}return!1},xR=(n,e,t,i,r,s,a,o)=>s<n&&a>e||s>n&&a<e?0:s<=n&&o<=t||a>=e&&o>=t?s-n-i:a>e&&o<t||s<n&&o>t?a-e+r:0,KGe=n=>{let e=n.parentElement;return e??(n.getRootNode().host||null)},qie=(n,e)=>{var t,i,r,s;if(typeof document>"u")return[];let{scrollMode:a,block:o,inline:l,boundary:u,skipOverflowHiddenElements:c}=e,d=typeof u=="function"?u:$=>$!==u;if(!Kie(n))throw new TypeError("Invalid target");let h=document.scrollingElement||document.documentElement,f=[],p=n;for(;Kie(p)&&d(p);){if(p=KGe(p),p===h){f.push(p);break}p!=null&&p===document.body&&SR(p)&&!SR(document.documentElement)||p!=null&&SR(p,c)&&f.push(p)}let g=(i=(t=window.visualViewport)==null?void 0:t.width)!=null?i:innerWidth,m=(s=(r=window.visualViewport)==null?void 0:r.height)!=null?s:innerHeight,{scrollX:v,scrollY:_}=window,{height:y,width:x,top:w,right:T,bottom:E,left:A}=n.getBoundingClientRect(),{top:k,right:P,bottom:I,left:D}=($=>{let z=window.getComputedStyle($);return{top:parseFloat(z.scrollMarginTop)||0,right:parseFloat(z.scrollMarginRight)||0,bottom:parseFloat(z.scrollMarginBottom)||0,left:parseFloat(z.scrollMarginLeft)||0}})(n),L=o==="start"||o==="nearest"?w-k:o==="end"?E+I:w+y/2-k+I,B=l==="center"?A+x/2-D+P:l==="end"?T+P:A-D,F=[];for(let $=0;$<f.length;$++){let z=f[$],{height:N,width:V,top:H,right:K,bottom:U,left:X}=z.getBoundingClientRect();if(a==="if-needed"&&w>=0&&A>=0&&E<=m&&T<=g&&(z===h&&!SR(z)||w>=H&&E<=U&&A>=X&&T<=K))return F;let Z=getComputedStyle(z),Q=parseInt(Z.borderLeftWidth,10),se=parseInt(Z.borderTopWidth,10),ae=parseInt(Z.borderRightWidth,10),ue=parseInt(Z.borderBottomWidth,10),oe=0,re=0,fe="offsetWidth"in z?z.offsetWidth-z.clientWidth-Q-ae:0,ve="offsetHeight"in z?z.offsetHeight-z.clientHeight-se-ue:0,xe="offsetWidth"in z?z.offsetWidth===0?0:V/z.offsetWidth:0,ye="offsetHeight"in z?z.offsetHeight===0?0:N/z.offsetHeight:0;if(h===z)oe=o==="start"?L:o==="end"?L-m:o==="nearest"?xR(_,_+m,m,se,ue,_+L,_+L+y,y):L-m/2,re=l==="start"?B:l==="center"?B-g/2:l==="end"?B-g:xR(v,v+g,g,Q,ae,v+B,v+B+x,x),oe=Math.max(0,oe+_),re=Math.max(0,re+v);else{oe=o==="start"?L-H-se:o==="end"?L-U+ue+ve:o==="nearest"?xR(H,U,N,se,ue+ve,L,L+y,y):L-(H+N/2)+ve/2,re=l==="start"?B-X-Q:l==="center"?B-(X+V/2)+fe/2:l==="end"?B-K+ae+fe:xR(X,K,V,Q,ae+fe,B,B+x,x);let{scrollLeft:Ee,scrollTop:Se}=z;oe=ye===0?0:Math.max(0,Math.min(Se+oe/ye,z.scrollHeight-N/ye+ve)),re=xe===0?0:Math.max(0,Math.min(Ee+re/xe,z.scrollWidth-V/xe+fe)),L+=Se-oe,B+=Ee-re}F.push({el:z,top:oe,left:re})}return F},XGe=n=>n===!1?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&Object.keys(e).length!==0)(n)?n:{block:"start",inline:"nearest"};function qGe(n,e){if(!n.isConnected||!(r=>{let s=r;for(;s&&s.parentNode;){if(s.parentNode===document)return!0;s=s.parentNode instanceof ShadowRoot?s.parentNode.host:s.parentNode}return!1})(n))return;let t=(r=>{let s=window.getComputedStyle(r);return{top:parseFloat(s.scrollMarginTop)||0,right:parseFloat(s.scrollMarginRight)||0,bottom:parseFloat(s.scrollMarginBottom)||0,left:parseFloat(s.scrollMarginLeft)||0}})(n);if((r=>typeof r=="object"&&typeof r.behavior=="function")(e))return e.behavior(qie(n,e));let i=typeof e=="boolean"||e==null?void 0:e.behavior;for(let{el:r,top:s,left:a}of qie(n,XGe(e))){let o=s-t.top+t.bottom,l=a-t.left+t.right;r.scroll({top:o,left:l,behavior:i})}}var ZGe=n=>{let[,,,,e]=Eh();return e?`${n}-css-var`:""},dd=ZGe,lf=ie(de()),x9=ie(zt()),I_=ie(de()),Qf=ie(de()),QGe=ie(Xy()),Ig=ie(de()),B5=ie(zt()),JGe=ie(zt()),e8e={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,CAPS_LOCK:20,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,N:78,P:80,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,EQUALS:187,WIN_KEY:224},Jn=e8e,Vh=ie(de()),t8e=Vh.forwardRef(function(n,e){var t=n.prefixCls,i=n.style,r=n.className,s=n.duration,a=s===void 0?4.5:s,o=n.showProgress,l=n.pauseOnHover,u=l===void 0?!0:l,c=n.eventKey,d=n.content,h=n.closable,f=n.closeIcon,p=f===void 0?"x":f,g=n.props,m=n.onClick,v=n.onNoticeClose,_=n.times,y=n.hovering,x=Vh.useState(!1),w=Ve(x,2),T=w[0],E=w[1],A=Vh.useState(0),k=Ve(A,2),P=k[0],I=k[1],D=Vh.useState(0),L=Ve(D,2),B=L[0],F=L[1],$=y||T,z=a>0&&o,N=function(){v(c)},V=function(Z){(Z.key==="Enter"||Z.code==="Enter"||Z.keyCode===Jn.ENTER)&&N()};Vh.useEffect(function(){if(!$&&a>0){var Z=Date.now()-B,Q=setTimeout(function(){N()},a*1e3-B);return function(){u&&clearTimeout(Q),F(Date.now()-Z)}}},[a,$,_]),Vh.useEffect(function(){if(!$&&z&&(u||B===0)){var Z=performance.now(),Q,se=function ae(){cancelAnimationFrame(Q),Q=requestAnimationFrame(function(ue){var oe=ue+B-Z,re=Math.min(oe/(a*1e3),1);I(re*100),re<1&&ae()})};return se(),function(){u&&cancelAnimationFrame(Q)}}},[a,B,$,z,_]);var H=Vh.useMemo(function(){return bn(h)==="object"&&h!==null?h:h?{closeIcon:p}:{}},[h,p]),K=u0(H,!0),U=100-(!P||P<0?0:P>100?100:P),X="".concat(t,"-notice");return Vh.createElement("div",wn({},g,{ref:e,className:(0,JGe.default)(X,r,me({},"".concat(X,"-closable"),h)),style:i,onMouseEnter:function(Z){var Q;E(!0),g==null||(Q=g.onMouseEnter)===null||Q===void 0||Q.call(g,Z)},onMouseLeave:function(Z){var Q;E(!1),g==null||(Q=g.onMouseLeave)===null||Q===void 0||Q.call(g,Z)},onClick:m}),Vh.createElement("div",{className:"".concat(X,"-content")},d),h&&Vh.createElement("a",wn({tabIndex:0,className:"".concat(X,"-close"),onKeyDown:V,"aria-label":"Close"},K,{onClick:function(Z){Z.preventDefault(),Z.stopPropagation(),N()}}),H.closeIcon),z&&Vh.createElement("progress",{className:"".concat(X,"-progress"),max:"100",value:U},U+"%"))}),iSe=t8e,rSe=ie(de()),sSe=rSe.default.createContext({}),n8e=function(n){var e=n.children,t=n.classNames;return rSe.default.createElement(sSe.Provider,{value:{classNames:t}},e)},i8e=n8e,Zie=8,Qie=3,Jie=16,r8e=function(n){var e={offset:Zie,threshold:Qie,gap:Jie};if(n&&bn(n)==="object"){var t,i,r;e.offset=(t=n.offset)!==null&&t!==void 0?t:Zie,e.threshold=(i=n.threshold)!==null&&i!==void 0?i:Qie,e.gap=(r=n.gap)!==null&&r!==void 0?r:Jie}return[!!n,e]},s8e=r8e,a8e=["className","style","classNames","styles"],o8e=function(n){var e=n.configList,t=n.placement,i=n.prefixCls,r=n.className,s=n.style,a=n.motion,o=n.onAllNoticeRemoved,l=n.onNoticeClose,u=n.stack,c=(0,Ig.useContext)(sSe),d=c.classNames,h=(0,Ig.useRef)({}),f=(0,Ig.useState)(null),p=Ve(f,2),g=p[0],m=p[1],v=(0,Ig.useState)([]),_=Ve(v,2),y=_[0],x=_[1],w=e.map(function(F){return{config:F,key:String(F.key)}}),T=s8e(u),E=Ve(T,2),A=E[0],k=E[1],P=k.offset,I=k.threshold,D=k.gap,L=A&&(y.length>0||w.length<=I),B=typeof a=="function"?a(t):a;return(0,Ig.useEffect)(function(){A&&y.length>1&&x(function(F){return F.filter(function($){return w.some(function(z){var N=z.key;return $===N})})})},[y,w,A]),(0,Ig.useEffect)(function(){var F;if(A&&h.current[(F=w[w.length-1])===null||F===void 0?void 0:F.key]){var $;m(h.current[($=w[w.length-1])===null||$===void 0?void 0:$.key])}},[w,A]),Ig.default.createElement(j0e,wn({key:t,className:(0,B5.default)(i,"".concat(i,"-").concat(t),d==null?void 0:d.list,r,me(me({},"".concat(i,"-stack"),!!A),"".concat(i,"-stack-expanded"),L)),style:s,keys:w,motionAppear:!0},B,{onAllRemoved:function(){o(t)}}),function(F,$){var z=F.config,N=F.className,V=F.style,H=F.index,K=z,U=K.key,X=K.times,Z=String(U),Q=z,se=Q.className,ae=Q.style,ue=Q.classNames,oe=Q.styles,re=Ji(Q,a8e),fe=w.findIndex(function($e){return $e.key===Z}),ve={};if(A){var xe=w.length-1-(fe>-1?fe:H-1),ye=t==="top"||t==="bottom"?"-50%":"0";if(xe>0){var Ee,Se,Fe;ve.height=L?(Ee=h.current[Z])===null||Ee===void 0?void 0:Ee.offsetHeight:g==null?void 0:g.offsetHeight;for(var Ge=0,Pe=0;Pe<xe;Pe++){var je;Ge+=((je=h.current[w[w.length-1-Pe].key])===null||je===void 0?void 0:je.offsetHeight)+D}var qe=(L?Ge:xe*P)*(t.startsWith("top")?1:-1),ot=!L&&g!==null&&g!==void 0&&g.offsetWidth&&(Se=h.current[Z])!==null&&Se!==void 0&&Se.offsetWidth?((g==null?void 0:g.offsetWidth)-P*2*(xe<3?xe:3))/((Fe=h.current[Z])===null||Fe===void 0?void 0:Fe.offsetWidth):1;ve.transform="translate3d(".concat(ye,", ").concat(qe,"px, 0) scaleX(").concat(ot,")")}else ve.transform="translate3d(".concat(ye,", 0, 0)")}return Ig.default.createElement("div",{ref:$,className:(0,B5.default)("".concat(i,"-notice-wrapper"),N,ue==null?void 0:ue.wrapper),style:Te(Te(Te({},V),ve),oe==null?void 0:oe.wrapper),onMouseEnter:function(){return x(function($e){return $e.includes(Z)?$e:[].concat(Pt($e),[Z])})},onMouseLeave:function(){return x(function($e){return $e.filter(function(et){return et!==Z})})}},Ig.default.createElement(iSe,wn({},re,{ref:function($e){fe>-1?h.current[Z]=$e:delete h.current[Z]},prefixCls:i,classNames:ue,styles:oe,className:(0,B5.default)(se,d==null?void 0:d.notice),style:ae,times:X,key:U,eventKey:U,onNoticeClose:l,hovering:A&&y.length>0})))})},l8e=o8e,u8e=Qf.forwardRef(function(n,e){var t=n.prefixCls,i=t===void 0?"rc-notification":t,r=n.container,s=n.motion,a=n.maxCount,o=n.className,l=n.style,u=n.onAllRemoved,c=n.stack,d=n.renderNotifications,h=Qf.useState([]),f=Ve(h,2),p=f[0],g=f[1],m=function(A){var k,P=p.find(function(I){return I.key===A});P==null||(k=P.onClose)===null||k===void 0||k.call(P),g(function(I){return I.filter(function(D){return D.key!==A})})};Qf.useImperativeHandle(e,function(){return{open:function(A){g(function(k){var P=Pt(k),I=P.findIndex(function(B){return B.key===A.key}),D=Te({},A);if(I>=0){var L;D.times=(((L=k[I])===null||L===void 0?void 0:L.times)||0)+1,P[I]=D}else D.times=0,P.push(D);return a>0&&P.length>a&&(P=P.slice(-a)),P})},close:function(A){m(A)},destroy:function(){g([])}}});var v=Qf.useState({}),_=Ve(v,2),y=_[0],x=_[1];Qf.useEffect(function(){var A={};p.forEach(function(k){var P=k.placement,I=P===void 0?"topRight":P;I&&(A[I]=A[I]||[],A[I].push(k))}),Object.keys(y).forEach(function(k){A[k]=A[k]||[]}),x(A)},[p]);var w=function(A){x(function(k){var P=Te({},k),I=P[A]||[];return I.length||delete P[A],P})},T=Qf.useRef(!1);if(Qf.useEffect(function(){Object.keys(y).length>0?T.current=!0:T.current&&(u==null||u(),T.current=!1)},[y]),!r)return null;var E=Object.keys(y);return(0,QGe.createPortal)(Qf.createElement(Qf.Fragment,null,E.map(function(A){var k=y[A],P=Qf.createElement(l8e,{key:A,configList:k,placement:A,prefixCls:i,className:o==null?void 0:o(A),style:l==null?void 0:l(A),motion:s,onNoticeClose:m,onAllNoticeRemoved:w,stack:c});return d?d(P,{prefixCls:i,key:A}):P})),r)}),c8e=u8e,d8e=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],h8e=function(){return document.body},ere=0;function f8e(){for(var n={},e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.forEach(function(r){r&&Object.keys(r).forEach(function(s){var a=r[s];a!==void 0&&(n[s]=a)})}),n}function p8e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.getContainer,t=e===void 0?h8e:e,i=n.motion,r=n.prefixCls,s=n.maxCount,a=n.className,o=n.style,l=n.onAllRemoved,u=n.stack,c=n.renderNotifications,d=Ji(n,d8e),h=I_.useState(),f=Ve(h,2),p=f[0],g=f[1],m=I_.useRef(),v=I_.createElement(c8e,{container:p,ref:m,prefixCls:r,motion:i,maxCount:s,className:a,style:o,onAllRemoved:l,stack:u,renderNotifications:c}),_=I_.useState([]),y=Ve(_,2),x=y[0],w=y[1],T=bo(function(A){var k=f8e(d,A);(k.key===null||k.key===void 0)&&(k.key="rc-notification-".concat(ere),ere+=1),w(function(P){return[].concat(Pt(P),[{type:"open",config:k}])})}),E=I_.useMemo(function(){return{open:T,close:function(A){w(function(k){return[].concat(Pt(k),[{type:"close",key:A}])})},destroy:function(){w(function(A){return[].concat(Pt(A),[{type:"destroy"}])})}}},[]);return I_.useEffect(function(){g(t())}),I_.useEffect(function(){if(m.current&&x.length){x.forEach(function(P){switch(P.type){case"open":m.current.open(P.config);break;case"close":m.current.close(P.key);break;case"destroy":m.current.destroy();break}});var A,k;w(function(P){return(A!==P||!k)&&(A=P,k=P.filter(function(I){return!x.includes(I)})),k})}},[x]),[E,v]}var Tp=ie(de()),aSe=ie(de()),g8e={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},m8e=g8e,v8e=function(n,e){return aSe.createElement(cd,wn({},n,{ref:e,icon:m8e}))},y8e=aSe.forwardRef(v8e),bN=y8e,oSe=ie(zt()),_8e=ie(de()),b8e=()=>_8e.default.useReducer(n=>n+1,0),S8e=ie(de()),x8e=ie(de()),w8e=x8e.default.createContext(void 0),lSe=w8e,Dv=100,C8e=10,T8e=Dv*C8e,uSe={Modal:Dv,Drawer:Dv,Popover:Dv,Popconfirm:Dv,Tooltip:Dv,Tour:Dv,FloatButton:Dv},E8e={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function A8e(n){return n in uSe}var cSe=(n,e)=>{let[,t]=Eh(),i=S8e.default.useContext(lSe),r=A8e(n),s;if(e!==void 0)s=[e,e];else{let a=i??0;r?a+=(i?0:t.zIndexPopupBase)+uSe[n]:a+=E8e[n],s=[i===void 0?e:a,a]}return s},k8e=n=>{let{componentCls:e,iconCls:t,boxShadow:i,colorText:r,colorSuccess:s,colorError:a,colorWarning:o,colorInfo:l,fontSizeLG:u,motionEaseInOutCirc:c,motionDurationSlow:d,marginXS:h,paddingXS:f,borderRadiusLG:p,zIndexPopup:g,contentPadding:m,contentBg:v}=n,_=`${e}-notice`,y=new xr("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:f,transform:"translateY(0)",opacity:1}}),x=new xr("MessageMoveOut",{"0%":{maxHeight:n.height,padding:f,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),w={padding:f,textAlign:"center",[`${e}-custom-content`]:{display:"flex",alignItems:"center"},[`${e}-custom-content > ${t}`]:{marginInlineEnd:h,fontSize:u},[`${_}-content`]:{display:"inline-block",padding:m,background:v,borderRadius:p,boxShadow:i,pointerEvents:"all"},[`${e}-success > ${t}`]:{color:s},[`${e}-error > ${t}`]:{color:a},[`${e}-warning > ${t}`]:{color:o},[`${e}-info > ${t},
      ${e}-loading > ${t}`]:{color:l}};return[{[e]:Object.assign(Object.assign({},wo(n)),{color:r,position:"fixed",top:h,width:"100%",pointerEvents:"none",zIndex:g,[`${e}-move-up`]:{animationFillMode:"forwards"},[`
        ${e}-move-up-appear,
        ${e}-move-up-enter
      `]:{animationName:y,animationDuration:d,animationPlayState:"paused",animationTimingFunction:c},[`
        ${e}-move-up-appear${e}-move-up-appear-active,
        ${e}-move-up-enter${e}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${e}-move-up-leave`]:{animationName:x,animationDuration:d,animationPlayState:"paused",animationTimingFunction:c},[`${e}-move-up-leave${e}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[e]:{[`${_}-wrapper`]:Object.assign({},w)}},{[`${e}-notice-pure-panel`]:Object.assign(Object.assign({},w),{padding:0,textAlign:"start"})}]},O8e=n=>({zIndexPopup:n.zIndexPopupBase+T8e+10,contentBg:n.colorBgElevated,contentPadding:`${(n.controlHeightLG-n.fontSize*n.lineHeight)/2}px ${n.paddingSM}px`}),dSe=yl("Message",n=>{let e=Jr(n,{height:150});return k8e(e)},O8e),P8e=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t},M8e={info:Tp.createElement(zGe,null),success:Tp.createElement(X0e,null),error:Tp.createElement(_N,null),warning:Tp.createElement(eSe,null),loading:Tp.createElement(bN,null)},hSe=({prefixCls:n,type:e,icon:t,children:i})=>Tp.createElement("div",{className:(0,oSe.default)(`${n}-custom-content`,`${n}-${e}`)},t||M8e[e],Tp.createElement("span",null,i)),I8e=n=>{let{prefixCls:e,className:t,type:i,icon:r,content:s}=n,a=P8e(n,["prefixCls","className","type","icon","content"]),{getPrefixCls:o}=Tp.useContext(er),l=e||o("message"),u=dd(l),[c,d,h]=dSe(l,u);return c(Tp.createElement(iSe,Object.assign({},a,{prefixCls:l,className:(0,oSe.default)(t,d,`${l}-notice-pure-panel`,h,u),eventKey:"pure",duration:null,content:Tp.createElement(hSe,{prefixCls:l,type:i,icon:r},s)})))},R8e=I8e;function D8e(n,e){return{motionName:e??`${n}-move-up`}}function w9(n){let e,t=new Promise(r=>{e=n(()=>{r(!0)})}),i=()=>{e==null||e()};return i.then=(r,s)=>t.then(r,s),i.promise=t,i}var L8e=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t},F8e=8,B8e=3,$8e=({children:n,prefixCls:e})=>{let t=dd(e),[i,r,s]=dSe(e,t);return i(lf.createElement(i8e,{classNames:{list:(0,x9.default)(r,s,t)}},n))},N8e=(n,{prefixCls:e,key:t})=>lf.createElement($8e,{prefixCls:e,key:t},n),j8e=lf.forwardRef((n,e)=>{let{top:t,prefixCls:i,getContainer:r,maxCount:s,duration:a=B8e,rtl:o,transitionName:l,onAllRemoved:u}=n,{getPrefixCls:c,getPopupContainer:d,message:h,direction:f}=lf.useContext(er),p=i||c("message"),g=()=>({left:"50%",transform:"translateX(-50%)",top:t??F8e}),m=()=>(0,x9.default)({[`${p}-rtl`]:o??f==="rtl"}),v=()=>D8e(p,l),_=lf.createElement("span",{className:`${p}-close-x`},lf.createElement(Q0e,{className:`${p}-close-icon`})),[y,x]=p8e({prefixCls:p,style:g,className:m,motion:v,closable:!1,closeIcon:_,duration:a,getContainer:()=>(r==null?void 0:r())||(d==null?void 0:d())||document.body,maxCount:s,onAllRemoved:u,renderNotifications:N8e});return lf.useImperativeHandle(e,()=>Object.assign(Object.assign({},y),{prefixCls:p,message:h})),x}),tre=0;function fSe(n){let e=lf.useRef(null);return hN(),[lf.useMemo(()=>{let t=s=>{var a;(a=e.current)===null||a===void 0||a.close(s)},i=s=>{if(!e.current){let y=()=>{};return y.then=()=>{},y}let{open:a,prefixCls:o,message:l}=e.current,u=`${o}-notice`,{content:c,icon:d,type:h,key:f,className:p,style:g,onClose:m}=s,v=L8e(s,["content","icon","type","key","className","style","onClose"]),_=f;return _==null&&(tre+=1,_=`antd-message-${tre}`),w9(y=>(a(Object.assign(Object.assign({},v),{key:_,content:lf.createElement(hSe,{prefixCls:o,type:h,icon:d},c),placement:"top",className:(0,x9.default)(h&&`${u}-${h}`,p,l==null?void 0:l.className),style:Object.assign(Object.assign({},l==null?void 0:l.style),g),onClose:()=>{m==null||m(),y()}})),()=>{t(_)}))},r={open:i,destroy:s=>{var a;s!==void 0?t(s):(a=e.current)===null||a===void 0||a.destroy()}};return["info","success","warning","error","loading"].forEach(s=>{let a=(o,l,u)=>{let c;o&&typeof o=="object"&&"content"in o?c=o:c={content:o};let d,h;typeof l=="function"?h=l:(d=l,h=u);let f=Object.assign(Object.assign({onClose:h,duration:d},c),{type:s});return i(f)};r[s]=a}),r},[]),lf.createElement(j8e,Object.assign({key:"message-holder"},n,{ref:e}))]}function z8e(n){return fSe(n)}ie(de());ie(Xy());function pSe(n,e){this.v=n,this.k=e}function $l(n,e,t,i){var r=Object.defineProperty;try{r({},"",{})}catch{r=0}$l=function(s,a,o,l){function u(c,d){$l(s,c,function(h){return this._invoke(c,d,h)})}a?r?r(s,a,{value:o,enumerable:!l,configurable:!l,writable:!l}):s[a]=o:(u("next",0),u("throw",1),u("return",2))},$l(n,e,t,i)}function C9(){var n,e,t=typeof Symbol=="function"?Symbol:{},i=t.iterator||"@@iterator",r=t.toStringTag||"@@toStringTag";function s(f,p,g,m){var v=p&&p.prototype instanceof o?p:o,_=Object.create(v.prototype);return $l(_,"_invoke",function(y,x,w){var T,E,A,k=0,P=w||[],I=!1,D={p:0,n:0,v:n,a:L,f:L.bind(n,4),d:function(B,F){return T=B,E=0,A=n,D.n=F,a}};function L(B,F){for(E=B,A=F,e=0;!I&&k&&!$&&e<P.length;e++){var $,z=P[e],N=D.p,V=z[2];B>3?($=V===F)&&(A=z[(E=z[4])?5:(E=3,3)],z[4]=z[5]=n):z[0]<=N&&(($=B<2&&N<z[1])?(E=0,D.v=F,D.n=z[1]):N<V&&($=B<3||z[0]>F||F>V)&&(z[4]=B,z[5]=F,D.n=V,E=0))}if($||B>1)return a;throw I=!0,F}return function(B,F,$){if(k>1)throw TypeError("Generator is already running");for(I&&F===1&&L(F,$),E=F,A=$;(e=E<2?n:A)||!I;){T||(E?E<3?(E>1&&(D.n=-1),L(E,A)):D.n=A:D.v=A);try{if(k=2,T){if(E||(B="next"),e=T[B]){if(!(e=e.call(T,A)))throw TypeError("iterator result is not an object");if(!e.done)return e;A=e.value,E<2&&(E=0)}else E===1&&(e=T.return)&&e.call(T),E<2&&(A=TypeError("The iterator does not provide a '"+B+"' method"),E=1);T=n}else if((e=(I=D.n<0)?A:y.call(x,D))!==a)break}catch(z){T=n,E=1,A=z}finally{k=1}}return{value:e,done:I}}}(f,g,m),!0),_}var a={};function o(){}function l(){}function u(){}e=Object.getPrototypeOf;var c=[][i]?e(e([][i]())):($l(e={},i,function(){return this}),e),d=u.prototype=o.prototype=Object.create(c);function h(f){return Object.setPrototypeOf?Object.setPrototypeOf(f,u):(f.__proto__=u,$l(f,r,"GeneratorFunction")),f.prototype=Object.create(d),f}return l.prototype=u,$l(d,"constructor",u),$l(u,"constructor",l),l.displayName="GeneratorFunction",$l(u,r,"GeneratorFunction"),$l(d),$l(d,r,"Generator"),$l(d,i,function(){return this}),$l(d,"toString",function(){return"[object Generator]"}),(C9=function(){return{w:s,m:h}})()}function RL(n,e){function t(r,s,a,o){try{var l=n[r](s),u=l.value;return u instanceof pSe?e.resolve(u.v).then(function(c){t("next",c,a,o)},function(c){t("throw",c,a,o)}):e.resolve(u).then(function(c){l.value=c,a(l)},function(c){return t("throw",c,a,o)})}catch(c){o(c)}}var i;this.next||($l(RL.prototype),$l(RL.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),$l(this,"_invoke",function(r,s,a){function o(){return new e(function(l,u){t(r,a,l,u)})}return i=i?i.then(o,o):o()},!0)}function gSe(n,e,t,i,r){return new RL(C9().w(n,e,t,i),r||Promise)}function H8e(n,e,t,i,r){var s=gSe(n,e,t,i,r);return s.next().then(function(a){return a.done?a.value:s.next()})}function V8e(n){var e=Object(n),t=[];for(var i in e)t.unshift(i);return function r(){for(;t.length;)if((i=t.pop())in e)return r.value=i,r.done=!1,r;return r.done=!0,r}}function nre(n){if(n!=null){var e=n[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],t=0;if(e)return e.call(n);if(typeof n.next=="function")return n;if(!isNaN(n.length))return{next:function(){return n&&t>=n.length&&(n=void 0),{value:n&&n[t++],done:!n}}}}throw new TypeError(bn(n)+" is not iterable")}function Kl(){var n=C9(),e=n.m(Kl),t=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function i(a){var o=typeof a=="function"&&a.constructor;return!!o&&(o===t||(o.displayName||o.name)==="GeneratorFunction")}var r={throw:1,return:2,break:3,continue:3};function s(a){var o,l;return function(u){o||(o={stop:function(){return l(u.a,2)},catch:function(){return u.v},abrupt:function(c,d){return l(u.a,r[c],d)},delegateYield:function(c,d,h){return o.resultName=d,l(u.d,nre(c),h)},finish:function(c){return l(u.f,c)}},l=function(c,d,h){u.p=o.prev,u.n=o.next;try{return c(d,h)}finally{o.next=u.n}}),o.resultName&&(o[o.resultName]=u.v,o.resultName=void 0),o.sent=u.v,o.next=u.n;try{return a.call(this,o)}finally{u.p=o.prev,u.n=o.next}}}return(Kl=function(){return{wrap:function(a,o,l,u){return n.w(s(a),o,l,u&&u.reverse())},isGeneratorFunction:i,mark:n.m,awrap:function(a,o){return new pSe(a,o)},AsyncIterator:RL,async:function(a,o,l,u,c){return(i(o)?gSe:H8e)(s(a),o,l,u,c)},keys:V8e,values:nre}})()}function ire(n,e,t,i,r,s,a){try{var o=n[s](a),l=o.value}catch(u){return void t(u)}o.done?e(l):Promise.resolve(l).then(i,r)}function D0(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var s=n.apply(e,t);function a(l){ire(s,i,r,a,o,"next",l)}function o(l){ire(s,i,r,a,o,"throw",l)}a(void 0)})}}var W8e=ie(Xy()),AP=Te({},W8e),U8e=AP.version,rre=AP.render,G8e=AP.unmountComponentAtNode,SN;try{sre=Number((U8e||"").split(".")[0]),sre>=18&&(SN=AP.createRoot)}catch{}var sre;function are(n){var e=AP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&bn(e)==="object"&&(e.usingClientEntryPoint=n)}var DL="__rc_react_root__";function Y8e(n,e){are(!0);var t=e[DL]||SN(e);are(!1),t.render(n),e[DL]=t}function K8e(n,e){rre==null||rre(n,e)}function X8e(n,e){if(SN){Y8e(n,e);return}K8e(n,e)}function q8e(n){return v6.apply(this,arguments)}function v6(){return v6=D0(Kl().mark(function n(e){return Kl().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve().then(function(){var i;(i=e[DL])===null||i===void 0||i.unmount(),delete e[DL]}));case 1:case"end":return t.stop()}},n)})),v6.apply(this,arguments)}function Z8e(n){G8e(n)}function Q8e(n){return y6.apply(this,arguments)}function y6(){return y6=D0(Kl().mark(function n(e){return Kl().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(SN===void 0){t.next=2;break}return t.abrupt("return",q8e(e));case 2:Z8e(e);case 3:case"end":return t.stop()}},n)})),y6.apply(this,arguments)}var J8e=(n,e)=>(X8e(n,e),()=>Q8e(e)),eYe=J8e;function mSe(n){return eYe}var $5=()=>({height:0,opacity:0}),ore=n=>{let{scrollHeight:e}=n;return{height:e,opacity:1}},tYe=n=>({height:n?n.offsetHeight:0}),N5=(n,e)=>(e==null?void 0:e.deadline)===!0||e.propertyName==="height",nYe=(n=jk)=>({motionName:`${n}-motion-collapse`,onAppearStart:$5,onEnterStart:$5,onAppearActive:ore,onEnterActive:ore,onLeaveStart:tYe,onLeaveActive:$5,onAppearEnd:N5,onEnterEnd:N5,onLeaveEnd:N5,motionDeadline:500}),vSe=(n,e,t)=>t!==void 0?t:`${n}-${e}`,lre=nYe,ua=ie(de()),j5=ie(zt());function Qy(n,e){var t=Object.assign({},n);return Array.isArray(e)&&e.forEach(function(i){delete t[i]}),t}var wR=ie(de()),iYe=ie(zt()),T9=function(n){if(!n)return!1;if(n instanceof Element){if(n.offsetParent)return!0;if(n.getBBox){var e=n.getBBox(),t=e.width,i=e.height;if(t||i)return!0}if(n.getBoundingClientRect){var r=n.getBoundingClientRect(),s=r.width,a=r.height;if(s||a)return!0}}return!1},rYe=n=>{let{componentCls:e,colorPrimary:t}=n;return{[e]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${t})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${n.motionEaseOutCirc}`,`opacity 2s ${n.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${n.motionDurationSlow} ${n.motionEaseInOut}`,`opacity ${n.motionDurationSlow} ${n.motionEaseInOut}`].join(",")}}}}},sYe=v6e("Wave",rYe),ure=ie(de()),xN=`${jk}-wave-target`,Gu=ie(de()),aYe=ie(zt());function oYe(n){return n&&n!=="#fff"&&n!=="#ffffff"&&n!=="rgb(255, 255, 255)"&&n!=="rgba(255, 255, 255, 1)"&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&n!=="transparent"&&n!=="canvastext"}function lYe(n){var e;let{borderTopColor:t,borderColor:i,backgroundColor:r}=getComputedStyle(n);return(e=[t,i,r].find(oYe))!==null&&e!==void 0?e:null}function z5(n){return Number.isNaN(n)?0:n}var uYe=n=>{let{className:e,target:t,component:i,registerUnmount:r}=n,s=Gu.useRef(null),a=Gu.useRef(null);Gu.useEffect(()=>{a.current=r()},[]);let[o,l]=Gu.useState(null),[u,c]=Gu.useState([]),[d,h]=Gu.useState(0),[f,p]=Gu.useState(0),[g,m]=Gu.useState(0),[v,_]=Gu.useState(0),[y,x]=Gu.useState(!1),w={left:d,top:f,width:g,height:v,borderRadius:u.map(A=>`${A}px`).join(" ")};o&&(w["--wave-color"]=o);function T(){let A=getComputedStyle(t);l(lYe(t));let k=A.position==="static",{borderLeftWidth:P,borderTopWidth:I}=A;h(k?t.offsetLeft:z5(-Number.parseFloat(P))),p(k?t.offsetTop:z5(-Number.parseFloat(I))),m(t.offsetWidth),_(t.offsetHeight);let{borderTopLeftRadius:D,borderTopRightRadius:L,borderBottomLeftRadius:B,borderBottomRightRadius:F}=A;c([D,L,F,B].map($=>z5(Number.parseFloat($))))}if(Gu.useEffect(()=>{if(t){let A=Zr(()=>{T(),x(!0)}),k;return typeof ResizeObserver<"u"&&(k=new ResizeObserver(T),k.observe(t)),()=>{Zr.cancel(A),k==null||k.disconnect()}}},[t]),!y)return null;let E=(i==="Checkbox"||i==="Radio")&&(t==null?void 0:t.classList.contains(xN));return Gu.createElement(EP,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(A,k)=>{var P,I;if(k.deadline||k.propertyName==="opacity"){let D=(P=s.current)===null||P===void 0?void 0:P.parentElement;(I=a.current)===null||I===void 0||I.call(a).then(()=>{D==null||D.remove()})}return!1}},({className:A},k)=>Gu.createElement("div",{ref:Th(s,k),className:(0,aYe.default)(e,A,{"wave-quick":E}),style:w}))},cYe=(n,e)=>{var t;let{component:i}=e;if(i==="Checkbox"&&!(!((t=n.querySelector("input"))===null||t===void 0)&&t.checked))return;let r=document.createElement("div");r.style.position="absolute",r.style.left="0px",r.style.top="0px",n==null||n.insertBefore(r,n==null?void 0:n.firstChild);let s=mSe(),a=null;function o(){return a}a=s(Gu.createElement(uYe,Object.assign({},e,{target:n,registerUnmount:o})),r)},dYe=cYe,hYe=(n,e,t)=>{let{wave:i}=ure.useContext(er),[,r,s]=Eh(),a=bo(l=>{let u=n.current;if(i!=null&&i.disabled||!u)return;let c=u.querySelector(`.${xN}`)||u,{showEffect:d}=i||{};(d||dYe)(c,{className:e,token:r,component:t,event:l,hashId:s})}),o=ure.useRef(null);return l=>{Zr.cancel(o.current),o.current=Zr(()=>{a(l)})}},fYe=hYe,pYe=n=>{let{children:e,disabled:t,component:i}=n,{getPrefixCls:r}=(0,wR.useContext)(er),s=(0,wR.useRef)(null),a=r("wave"),[,o]=sYe(a),l=fYe(s,(0,iYe.default)(a,o),i);if(wR.default.useEffect(()=>{let c=s.current;if(!c||c.nodeType!==window.Node.ELEMENT_NODE||t)return;let d=h=>{!T9(h.target)||!c.getAttribute||c.getAttribute("disabled")||c.disabled||c.className.includes("disabled")&&!c.className.includes("disabled:")||c.getAttribute("aria-disabled")==="true"||c.className.includes("-leave")||l(h)};return c.addEventListener("click",d,!0),()=>{c.removeEventListener("click",d,!0)}},[t]),!wR.default.isValidElement(e))return e??null;let u=l1(e)?Th(xP(e),s):s;return c0(e,{ref:u})},E9=pYe,cre=ie(de()),gYe=n=>{let e=cre.default.useContext(CP);return cre.default.useMemo(()=>n?typeof n=="string"?n??e:typeof n=="function"?n(e):e:e,[n,e])},hg=gYe,uf=ie(de()),ySe=ie(zt()),mYe=n=>{let{componentCls:e}=n;return{[e]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}},vYe=mYe,yYe=n=>{let{componentCls:e,antCls:t}=n;return{[e]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${e}-item:empty`]:{display:"none"},[`${e}-item > ${t}-badge-not-a-wrapper:only-child`]:{display:"block"}}}},_Ye=n=>{let{componentCls:e}=n;return{[e]:{"&-gap-row-small":{rowGap:n.spaceGapSmallSize},"&-gap-row-middle":{rowGap:n.spaceGapMiddleSize},"&-gap-row-large":{rowGap:n.spaceGapLargeSize},"&-gap-col-small":{columnGap:n.spaceGapSmallSize},"&-gap-col-middle":{columnGap:n.spaceGapMiddleSize},"&-gap-col-large":{columnGap:n.spaceGapLargeSize}}}},_Se=yl("Space",n=>{let e=Jr(n,{spaceGapSmallSize:n.paddingXS,spaceGapMiddleSize:n.padding,spaceGapLargeSize:n.paddingLG});return[yYe(e),_Ye(e),vYe(e)]},()=>({}),{resetStyle:!1}),bSe=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t},wN=uf.createContext(null),d1=(n,e)=>{let t=uf.useContext(wN),i=uf.useMemo(()=>{if(!t)return"";let{compactDirection:r,isFirstItem:s,isLastItem:a}=t,o=r==="vertical"?"-vertical-":"-";return(0,ySe.default)(`${n}-compact${o}item`,{[`${n}-compact${o}first-item`]:s,[`${n}-compact${o}last-item`]:a,[`${n}-compact${o}item-rtl`]:e==="rtl"})},[n,e,t]);return{compactSize:t==null?void 0:t.compactSize,compactDirection:t==null?void 0:t.compactDirection,compactItemClassnames:i}},bYe=n=>{let{children:e}=n;return uf.createElement(wN.Provider,{value:null},e)},SYe=n=>{let{children:e}=n,t=bSe(n,["children"]);return uf.createElement(wN.Provider,{value:uf.useMemo(()=>t,[t])},e)},xYe=n=>{let{getPrefixCls:e,direction:t}=uf.useContext(er),{size:i,direction:r,block:s,prefixCls:a,className:o,rootClassName:l,children:u}=n,c=bSe(n,["size","direction","block","prefixCls","className","rootClassName","children"]),d=hg(y=>i??y),h=e("space-compact",a),[f,p]=_Se(h),g=(0,ySe.default)(h,p,{[`${h}-rtl`]:t==="rtl",[`${h}-block`]:s,[`${h}-vertical`]:r==="vertical"},o,l),m=uf.useContext(wN),v=Dy(u),_=uf.useMemo(()=>v.map((y,x)=>{let w=(y==null?void 0:y.key)||`${h}-item-${x}`;return uf.createElement(SYe,{key:w,compactSize:d,compactDirection:r,isFirstItem:x===0&&(!m||(m==null?void 0:m.isFirstItem)),isLastItem:x===v.length-1&&(!m||(m==null?void 0:m.isLastItem))},y)}),[v,m,r,d,h]);return v.length===0?null:f(uf.createElement("div",Object.assign({className:g},c),_))},wYe=xYe,AE=ie(de()),CYe=ie(zt()),TYe=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t},SSe=AE.createContext(void 0),EYe=n=>{let{getPrefixCls:e,direction:t}=AE.useContext(er),{prefixCls:i,size:r,className:s}=n,a=TYe(n,["prefixCls","size","className"]),o=e("btn-group",i),[,,l]=Eh(),u=AE.useMemo(()=>{switch(r){case"large":return"lg";case"small":return"sm";default:return""}},[r]),c=(0,CYe.default)(o,{[`${o}-${u}`]:u,[`${o}-rtl`]:t==="rtl"},s,l);return AE.createElement(SSe.Provider,{value:r},AE.createElement("div",Object.assign({},a,{className:c})))},AYe=EYe,oA=ie(de()),dre=/^[\u4E00-\u9FA5]{2}$/,_6=dre.test.bind(dre);function hre(n){return typeof n=="string"}function H5(n){return n==="text"||n==="link"}function kYe(n,e){if(n==null)return;let t=e?" ":"";return typeof n!="string"&&typeof n!="number"&&hre(n.type)&&_6(n.props.children)?c0(n,{children:n.props.children.split("").join(t)}):hre(n)?_6(n)?oA.default.createElement("span",null,n.split("").join(t)):oA.default.createElement("span",null,n):nSe(n)?oA.default.createElement("span",null,n):n}function OYe(n,e){let t=!1,i=[];return oA.default.Children.forEach(n,r=>{let s=typeof r,a=s==="string"||s==="number";if(t&&a){let o=i.length-1,l=i[o];i[o]=`${l}${r}`}else i.push(r);t=a}),oA.default.Children.map(i,r=>kYe(r,e))}["default","primary","danger"].concat(Pt(l0));var Ew=ie(de()),xSe=ie(zt()),fre=ie(de()),PYe=ie(zt()),MYe=(0,fre.forwardRef)((n,e)=>{let{className:t,style:i,children:r,prefixCls:s}=n,a=(0,PYe.default)(`${s}-icon`,t);return fre.default.createElement("span",{ref:e,className:a,style:i},r)}),b6=MYe,pre=(0,Ew.forwardRef)((n,e)=>{let{prefixCls:t,className:i,style:r,iconClassName:s}=n,a=(0,xSe.default)(`${t}-loading-icon`,i);return Ew.default.createElement(b6,{prefixCls:t,className:a,style:r,ref:e},Ew.default.createElement(bN,{className:s}))}),V5=()=>({width:0,opacity:0,transform:"scale(0)"}),W5=n=>({width:n.scrollWidth,opacity:1,transform:"scale(1)"}),IYe=n=>{let{prefixCls:e,loading:t,existIcon:i,className:r,style:s,mount:a}=n,o=!!t;return i?Ew.default.createElement(pre,{prefixCls:e,className:r,style:s}):Ew.default.createElement(EP,{visible:o,motionName:`${e}-loading-icon-motion`,motionAppear:!a,motionEnter:!a,motionLeave:!a,removeOnLeave:!0,onAppearStart:V5,onAppearActive:W5,onEnterStart:V5,onEnterActive:W5,onLeaveStart:W5,onLeaveActive:V5},({className:l,style:u},c)=>{let d=Object.assign(Object.assign({},s),u);return Ew.default.createElement(pre,{prefixCls:e,className:(0,xSe.default)(r,l),style:d,ref:c})})},RYe=IYe,gre=(n,e)=>({[`> span, > ${n}`]:{"&:not(:last-child)":{[`&, & > ${n}`]:{"&:not(:disabled)":{borderInlineEndColor:e}}},"&:not(:first-child)":{[`&, & > ${n}`]:{"&:not(:disabled)":{borderInlineStartColor:e}}}}}),DYe=n=>{let{componentCls:e,fontSize:t,lineWidth:i,groupBorderColor:r,colorErrorHover:s}=n;return{[`${e}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:n.calc(i).mul(-1).equal(),[`&, & > ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[e]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${e}-icon-only`]:{fontSize:t}},gre(`${e}-primary`,r),gre(`${e}-danger`,s)]}},LYe=DYe;ie(de());var FYe=["b"],BYe=["v"],U5=function(n){return Math.round(Number(n||0))},$Ye=function(n){if(n instanceof ns)return n;if(n&&bn(n)==="object"&&"h"in n&&"b"in n){var e=n,t=e.b,i=Ji(e,FYe);return Te(Te({},i),{},{v:t})}return typeof n=="string"&&/hsb/.test(n)?n.replace(/hsb/,"hsv"):n},zk=function(n){qy(t,n);var e=Zy(t);function t(i){return Wa(this,t),e.call(this,$Ye(i))}return Ua(t,[{key:"toHsbString",value:function(){var i=this.toHsb(),r=U5(i.s*100),s=U5(i.b*100),a=U5(i.h),o=i.a,l="hsb(".concat(a,", ").concat(r,"%, ").concat(s,"%)"),u="hsba(".concat(a,", ").concat(r,"%, ").concat(s,"%, ").concat(o.toFixed(o===0?0:2),")");return o===1?l:u}},{key:"toHsb",value:function(){var i=this.toHsv(),r=i.v,s=Ji(i,BYe);return Te(Te({},s),{},{b:r,a:this.a})}}]),t}(ns),NYe=function(n){return n instanceof zk?n:new zk(n)};NYe("#1677ff");ie(zt());ie(zt());ie(de());ie(de());ie(de());ie(zt());ie(de());ie(de());ie(de());ie(de());ie(de());ie(de());ie(zt());ie(de());var jYe=(n,e)=>(n==null?void 0:n.replace(/[^\w/]/g,"").slice(0,e?8:6))||"",zYe=(n,e)=>n?jYe(n,e):"",S6=function(){function n(e){Wa(this,n);var t;if(this.cleared=!1,e instanceof n){this.metaColor=e.metaColor.clone(),this.colors=(t=e.colors)===null||t===void 0?void 0:t.map(r=>({color:new n(r.color),percent:r.percent})),this.cleared=e.cleared;return}let i=Array.isArray(e);i&&e.length?(this.colors=e.map(({color:r,percent:s})=>({color:new n(r),percent:s})),this.metaColor=new zk(this.colors[0].color.metaColor)):this.metaColor=new zk(i?"":e),(!e||i&&!this.colors)&&(this.metaColor=this.metaColor.setA(0),this.cleared=!0)}return Ua(n,[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return zYe(this.toHexString(),this.metaColor.a<1)}},{key:"toHexString",value:function(){return this.metaColor.toHexString()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}},{key:"isGradient",value:function(){return!!this.colors&&!this.cleared}},{key:"getColors",value:function(){return this.colors||[{color:this,percent:0}]}},{key:"toCssString",value:function(){let{colors:e}=this;return e?`linear-gradient(90deg, ${e.map(t=>`${t.color.toRgbString()} ${t.percent}%`).join(", ")})`:this.metaColor.toRgbString()}},{key:"equals",value:function(e){return!e||this.isGradient()!==e.isGradient()?!1:this.isGradient()?this.colors.length===e.colors.length&&this.colors.every((t,i)=>{let r=e.colors[i];return t.percent===r.percent&&t.color.equals(r.color)}):this.toHexString()===e.toHexString()}}])}();ie(de());ie(zt());var HYe=n=>({[n.componentCls]:{[`${n.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${n.motionDurationMid} ${n.motionEaseInOut},
        opacity ${n.motionDurationMid} ${n.motionEaseInOut} !important`}},[`${n.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${n.motionDurationMid} ${n.motionEaseInOut},
        opacity ${n.motionDurationMid} ${n.motionEaseInOut} !important`}}}),VYe=HYe,WYe=n=>({animationDuration:n,animationFillMode:"both"}),UYe=n=>({animationDuration:n,animationFillMode:"both"}),A9=(n,e,t,i,r=!1)=>{let s=r?"&":"";return{[`
      ${s}${n}-enter,
      ${s}${n}-appear
    `]:Object.assign(Object.assign({},WYe(i)),{animationPlayState:"paused"}),[`${s}${n}-leave`]:Object.assign(Object.assign({},UYe(i)),{animationPlayState:"paused"}),[`
      ${s}${n}-enter${n}-enter-active,
      ${s}${n}-appear${n}-appear-active
    `]:{animationName:e,animationPlayState:"running"},[`${s}${n}-leave${n}-leave-active`]:{animationName:t,animationPlayState:"running",pointerEvents:"none"}}},GYe=new xr("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),YYe=new xr("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),KYe=new xr("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),XYe=new xr("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),qYe=new xr("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),ZYe=new xr("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),QYe=new xr("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),JYe=new xr("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),e7e={"move-up":{inKeyframes:QYe,outKeyframes:JYe},"move-down":{inKeyframes:GYe,outKeyframes:YYe},"move-left":{inKeyframes:KYe,outKeyframes:XYe},"move-right":{inKeyframes:qYe,outKeyframes:ZYe}},mre=(n,e)=>{let{antCls:t}=n,i=`${t}-${e}`,{inKeyframes:r,outKeyframes:s}=e7e[e];return[A9(i,r,s,n.motionDurationMid),{[`
        ${i}-enter,
        ${i}-appear
      `]:{opacity:0,animationTimingFunction:n.motionEaseOutCirc},[`${i}-leave`]:{animationTimingFunction:n.motionEaseInOutCirc}}]},wSe=new xr("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),CSe=new xr("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),TSe=new xr("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),ESe=new xr("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),t7e=new xr("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),n7e=new xr("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),i7e=new xr("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),r7e=new xr("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),s7e={"slide-up":{inKeyframes:wSe,outKeyframes:CSe},"slide-down":{inKeyframes:TSe,outKeyframes:ESe},"slide-left":{inKeyframes:t7e,outKeyframes:n7e},"slide-right":{inKeyframes:i7e,outKeyframes:r7e}},vre=(n,e)=>{let{antCls:t}=n,i=`${t}-${e}`,{inKeyframes:r,outKeyframes:s}=s7e[e];return[A9(i,r,s,n.motionDurationMid),{[`
      ${i}-enter,
      ${i}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:n.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${i}-leave`]:{animationTimingFunction:n.motionEaseInQuint}}]},k9=new xr("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),a7e=new xr("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),yre=new xr("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),_re=new xr("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),o7e=new xr("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),l7e=new xr("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),u7e=new xr("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),c7e=new xr("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),d7e=new xr("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),h7e=new xr("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),f7e=new xr("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),p7e=new xr("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),g7e={zoom:{inKeyframes:k9,outKeyframes:a7e},"zoom-big":{inKeyframes:yre,outKeyframes:_re},"zoom-big-fast":{inKeyframes:yre,outKeyframes:_re},"zoom-left":{inKeyframes:u7e,outKeyframes:c7e},"zoom-right":{inKeyframes:d7e,outKeyframes:h7e},"zoom-up":{inKeyframes:o7e,outKeyframes:l7e},"zoom-down":{inKeyframes:f7e,outKeyframes:p7e}},m7e=(n,e)=>{let{antCls:t}=n,i=`${t}-${e}`,{inKeyframes:r,outKeyframes:s}=g7e[e];return[A9(i,r,s,n.motionDurationFast),{[`
        ${i}-enter,
        ${i}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:n.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${i}-leave`]:{animationTimingFunction:n.motionEaseInOutCirc}}]},v7e=n=>n instanceof S6?n:new S6(n),y7e=(n,e)=>{let{r:t,g:i,b:r,a:s}=n.toRgb(),a=new zk(n.toRgbString()).onBackground(e).toHsv();return s<=.5?a.v>.5:t*.299+i*.587+r*.114>192},ASe=n=>{let{paddingInline:e,onlyIconSize:t}=n;return Jr(n,{buttonPaddingHorizontal:e,buttonPaddingVertical:0,buttonIconOnlyFontSize:t})},kSe=n=>{var e,t,i,r,s,a;let o=(e=n.contentFontSize)!==null&&e!==void 0?e:n.fontSize,l=(t=n.contentFontSizeSM)!==null&&t!==void 0?t:n.fontSize,u=(i=n.contentFontSizeLG)!==null&&i!==void 0?i:n.fontSizeLG,c=(r=n.contentLineHeight)!==null&&r!==void 0?r:v2(o),d=(s=n.contentLineHeightSM)!==null&&s!==void 0?s:v2(l),h=(a=n.contentLineHeightLG)!==null&&a!==void 0?a:v2(u),f=y7e(new S6(n.colorBgSolid),"#fff")?"#000":"#fff",p=l0.reduce((g,m)=>Object.assign(Object.assign({},g),{[`${m}ShadowColor`]:`0 ${Rt(n.controlOutlineWidth)} 0 ${TE(n[`${m}1`],n.colorBgContainer)}`}),{});return Object.assign(Object.assign({},p),{fontWeight:400,iconGap:n.marginXS,defaultShadow:`0 ${n.controlOutlineWidth}px 0 ${n.controlTmpOutline}`,primaryShadow:`0 ${n.controlOutlineWidth}px 0 ${n.controlOutline}`,dangerShadow:`0 ${n.controlOutlineWidth}px 0 ${n.colorErrorOutline}`,primaryColor:n.colorTextLightSolid,dangerColor:n.colorTextLightSolid,borderColorDisabled:n.colorBorder,defaultGhostColor:n.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:n.colorBgContainer,paddingInline:n.paddingContentHorizontal-n.lineWidth,paddingInlineLG:n.paddingContentHorizontal-n.lineWidth,paddingInlineSM:8-n.lineWidth,onlyIconSize:"inherit",onlyIconSizeSM:"inherit",onlyIconSizeLG:"inherit",groupBorderColor:n.colorPrimaryHover,linkHoverBg:"transparent",textTextColor:n.colorText,textTextHoverColor:n.colorText,textTextActiveColor:n.colorText,textHoverBg:n.colorFillTertiary,defaultColor:n.colorText,defaultBg:n.colorBgContainer,defaultBorderColor:n.colorBorder,defaultBorderColorDisabled:n.colorBorder,defaultHoverBg:n.colorBgContainer,defaultHoverColor:n.colorPrimaryHover,defaultHoverBorderColor:n.colorPrimaryHover,defaultActiveBg:n.colorBgContainer,defaultActiveColor:n.colorPrimaryActive,defaultActiveBorderColor:n.colorPrimaryActive,solidTextColor:f,contentFontSize:o,contentFontSizeSM:l,contentFontSizeLG:u,contentLineHeight:c,contentLineHeightSM:d,contentLineHeightLG:h,paddingBlock:Math.max((n.controlHeight-o*c)/2-n.lineWidth,0),paddingBlockSM:Math.max((n.controlHeightSM-l*d)/2-n.lineWidth,0),paddingBlockLG:Math.max((n.controlHeightLG-u*h)/2-n.lineWidth,0)})},_7e=n=>{let{componentCls:e,iconCls:t,fontWeight:i,opacityLoading:r,motionDurationSlow:s,motionEaseInOut:a,iconGap:o,calc:l}=n;return{[e]:{outline:"none",position:"relative",display:"inline-flex",gap:o,alignItems:"center",justifyContent:"center",fontWeight:i,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${Rt(n.lineWidth)} ${n.lineType} transparent`,cursor:"pointer",transition:`all ${n.motionDurationMid} ${n.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:n.colorText,"&:disabled > *":{pointerEvents:"none"},[`${e}-icon > svg`]:TP(),"> a":{color:"currentColor"},"&:not(:disabled)":m6e(n),[`&${e}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${e}-two-chinese-chars > *:not(${t})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},[`&${e}-icon-only`]:{paddingInline:0,[`&${e}-compact-item`]:{flex:"none"}},[`&${e}-loading`]:{opacity:r,cursor:"default"},[`${e}-loading-icon`]:{transition:["width","opacity","margin"].map(u=>`${u} ${s} ${a}`).join(",")},[`&:not(${e}-icon-end)`]:{[`${e}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineEnd:l(o).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineEnd:0},"&-leave-start":{marginInlineEnd:0},"&-leave-active":{marginInlineEnd:l(o).mul(-1).equal()}}},"&-icon-end":{flexDirection:"row-reverse",[`${e}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineStart:l(o).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineStart:0},"&-leave-start":{marginInlineStart:0},"&-leave-active":{marginInlineStart:l(o).mul(-1).equal()}}}}}},OSe=(n,e,t)=>({[`&:not(:disabled):not(${n}-disabled)`]:{"&:hover":e,"&:active":t}}),b7e=n=>({minWidth:n.controlHeight,paddingInline:0,borderRadius:"50%"}),S7e=n=>({cursor:"not-allowed",borderColor:n.borderColorDisabled,color:n.colorTextDisabled,background:n.colorBgContainerDisabled,boxShadow:"none"}),CN=(n,e,t,i,r,s,a,o)=>({[`&${n}-background-ghost`]:Object.assign(Object.assign({color:t||void 0,background:e,borderColor:i||void 0,boxShadow:"none"},OSe(n,Object.assign({background:e},a),Object.assign({background:e},o))),{"&:disabled":{cursor:"not-allowed",color:r||void 0,borderColor:s||void 0}})}),x7e=n=>({[`&:disabled, &${n.componentCls}-disabled`]:Object.assign({},S7e(n))}),w7e=n=>({[`&:disabled, &${n.componentCls}-disabled`]:{cursor:"not-allowed",color:n.colorTextDisabled}}),TN=(n,e,t,i)=>{let r=i&&["link","text"].includes(i)?w7e:x7e;return Object.assign(Object.assign({},r(n)),OSe(n.componentCls,e,t))},EN=(n,e,t,i,r)=>({[`&${n.componentCls}-variant-solid`]:Object.assign({color:e,background:t},TN(n,i,r))}),AN=(n,e,t,i,r)=>({[`&${n.componentCls}-variant-outlined, &${n.componentCls}-variant-dashed`]:Object.assign({borderColor:e,background:t},TN(n,i,r))}),kN=n=>({[`&${n.componentCls}-variant-dashed`]:{borderStyle:"dashed"}}),ON=(n,e,t,i)=>({[`&${n.componentCls}-variant-filled`]:Object.assign({boxShadow:"none",background:e},TN(n,t,i))}),rg=(n,e,t,i,r)=>({[`&${n.componentCls}-variant-${t}`]:Object.assign({color:e,boxShadow:"none"},TN(n,i,r,t))}),C7e=n=>{let{componentCls:e}=n;return l0.reduce((t,i)=>{let r=n[`${i}6`],s=n[`${i}1`],a=n[`${i}5`],o=n[`${i}2`],l=n[`${i}3`],u=n[`${i}7`];return Object.assign(Object.assign({},t),{[`&${e}-color-${i}`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:r,boxShadow:n[`${i}ShadowColor`]},EN(n,n.colorTextLightSolid,r,{background:a},{background:u})),AN(n,r,n.colorBgContainer,{color:a,borderColor:a,background:n.colorBgContainer},{color:u,borderColor:u,background:n.colorBgContainer})),kN(n)),ON(n,s,{color:r,background:o},{color:r,background:l})),rg(n,r,"link",{color:a},{color:u})),rg(n,r,"text",{color:a,background:s},{color:u,background:l}))})},{})},T7e=n=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:n.defaultColor,boxShadow:n.defaultShadow},EN(n,n.solidTextColor,n.colorBgSolid,{color:n.solidTextColor,background:n.colorBgSolidHover},{color:n.solidTextColor,background:n.colorBgSolidActive})),kN(n)),ON(n,n.colorFillTertiary,{color:n.defaultColor,background:n.colorFillSecondary},{color:n.defaultColor,background:n.colorFill})),CN(n.componentCls,n.ghostBg,n.defaultGhostColor,n.defaultGhostBorderColor,n.colorTextDisabled,n.colorBorder)),rg(n,n.textTextColor,"link",{color:n.colorLinkHover,background:n.linkHoverBg},{color:n.colorLinkActive})),E7e=n=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:n.colorPrimary,boxShadow:n.primaryShadow},AN(n,n.colorPrimary,n.colorBgContainer,{color:n.colorPrimaryTextHover,borderColor:n.colorPrimaryHover,background:n.colorBgContainer},{color:n.colorPrimaryTextActive,borderColor:n.colorPrimaryActive,background:n.colorBgContainer})),kN(n)),ON(n,n.colorPrimaryBg,{color:n.colorPrimary,background:n.colorPrimaryBgHover},{color:n.colorPrimary,background:n.colorPrimaryBorder})),rg(n,n.colorPrimaryText,"text",{color:n.colorPrimaryTextHover,background:n.colorPrimaryBg},{color:n.colorPrimaryTextActive,background:n.colorPrimaryBorder})),rg(n,n.colorPrimaryText,"link",{color:n.colorPrimaryTextHover,background:n.linkHoverBg},{color:n.colorPrimaryTextActive})),CN(n.componentCls,n.ghostBg,n.colorPrimary,n.colorPrimary,n.colorTextDisabled,n.colorBorder,{color:n.colorPrimaryHover,borderColor:n.colorPrimaryHover},{color:n.colorPrimaryActive,borderColor:n.colorPrimaryActive})),A7e=n=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:n.colorError,boxShadow:n.dangerShadow},EN(n,n.dangerColor,n.colorError,{background:n.colorErrorHover},{background:n.colorErrorActive})),AN(n,n.colorError,n.colorBgContainer,{color:n.colorErrorHover,borderColor:n.colorErrorBorderHover},{color:n.colorErrorActive,borderColor:n.colorErrorActive})),kN(n)),ON(n,n.colorErrorBg,{color:n.colorError,background:n.colorErrorBgFilledHover},{color:n.colorError,background:n.colorErrorBgActive})),rg(n,n.colorError,"text",{color:n.colorErrorHover,background:n.colorErrorBg},{color:n.colorErrorHover,background:n.colorErrorBgActive})),rg(n,n.colorError,"link",{color:n.colorErrorHover},{color:n.colorErrorActive})),CN(n.componentCls,n.ghostBg,n.colorError,n.colorError,n.colorTextDisabled,n.colorBorder,{color:n.colorErrorHover,borderColor:n.colorErrorHover},{color:n.colorErrorActive,borderColor:n.colorErrorActive})),k7e=n=>Object.assign(Object.assign({},rg(n,n.colorLink,"link",{color:n.colorLinkHover},{color:n.colorLinkActive})),CN(n.componentCls,n.ghostBg,n.colorInfo,n.colorInfo,n.colorTextDisabled,n.colorBorder,{color:n.colorInfoHover,borderColor:n.colorInfoHover},{color:n.colorInfoActive,borderColor:n.colorInfoActive})),O7e=n=>{let{componentCls:e}=n;return Object.assign({[`${e}-color-default`]:T7e(n),[`${e}-color-primary`]:E7e(n),[`${e}-color-dangerous`]:A7e(n),[`${e}-color-link`]:k7e(n)},C7e(n))},P7e=n=>Object.assign(Object.assign(Object.assign(Object.assign({},AN(n,n.defaultBorderColor,n.defaultBg,{color:n.defaultHoverColor,borderColor:n.defaultHoverBorderColor,background:n.defaultHoverBg},{color:n.defaultActiveColor,borderColor:n.defaultActiveBorderColor,background:n.defaultActiveBg})),rg(n,n.textTextColor,"text",{color:n.textTextHoverColor,background:n.textHoverBg},{color:n.textTextActiveColor,background:n.colorBgTextActive})),EN(n,n.primaryColor,n.colorPrimary,{background:n.colorPrimaryHover,color:n.primaryColor},{background:n.colorPrimaryActive,color:n.primaryColor})),rg(n,n.colorLink,"link",{color:n.colorLinkHover,background:n.linkHoverBg},{color:n.colorLinkActive})),O9=(n,e="")=>{let{componentCls:t,controlHeight:i,fontSize:r,borderRadius:s,buttonPaddingHorizontal:a,iconCls:o,buttonPaddingVertical:l,buttonIconOnlyFontSize:u}=n;return[{[e]:{fontSize:r,height:i,padding:`${Rt(l)} ${Rt(a)}`,borderRadius:s,[`&${t}-icon-only`]:{width:i,[o]:{fontSize:u}}}},{[`${t}${t}-circle${e}`]:b7e(n)},{[`${t}${t}-round${e}`]:{borderRadius:n.controlHeight,[`&:not(${t}-icon-only)`]:{paddingInline:n.buttonPaddingHorizontal}}}]},M7e=n=>{let e=Jr(n,{fontSize:n.contentFontSize});return O9(e,n.componentCls)},I7e=n=>{let e=Jr(n,{controlHeight:n.controlHeightSM,fontSize:n.contentFontSizeSM,padding:n.paddingXS,buttonPaddingHorizontal:n.paddingInlineSM,buttonPaddingVertical:0,borderRadius:n.borderRadiusSM,buttonIconOnlyFontSize:n.onlyIconSizeSM});return O9(e,`${n.componentCls}-sm`)},R7e=n=>{let e=Jr(n,{controlHeight:n.controlHeightLG,fontSize:n.contentFontSizeLG,buttonPaddingHorizontal:n.paddingInlineLG,buttonPaddingVertical:0,borderRadius:n.borderRadiusLG,buttonIconOnlyFontSize:n.onlyIconSizeLG});return O9(e,`${n.componentCls}-lg`)},D7e=n=>{let{componentCls:e}=n;return{[e]:{[`&${e}-block`]:{width:"100%"}}}},L7e=yl("Button",n=>{let e=ASe(n);return[_7e(e),M7e(e),I7e(e),R7e(e),D7e(e),O7e(e),P7e(e),LYe(e)]},kSe,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function F7e(n,e,t,i){let{focusElCls:r,focus:s,borderElCls:a}=t,o=a?"> *":"",l=["hover",s?"focus":null,"active"].filter(Boolean).map(u=>`&:${u} ${o}`).join(",");return{[`&-item:not(${e}-last-item)`]:{marginInlineEnd:n.calc(n.lineWidth).mul(-1).equal()},[`&-item:not(${i}-status-success)`]:{zIndex:2},"&-item":Object.assign(Object.assign({[l]:{zIndex:3}},r?{[`&${r}`]:{zIndex:3}}:{}),{[`&[disabled] ${o}`]:{zIndex:0}})}}function B7e(n,e,t){let{borderElCls:i}=t,r=i?`> ${i}`:"";return{[`&-item:not(${e}-first-item):not(${e}-last-item) ${r}`]:{borderRadius:0},[`&-item:not(${e}-last-item)${e}-first-item`]:{[`& ${r}, &${n}-sm ${r}, &${n}-lg ${r}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${e}-first-item)${e}-last-item`]:{[`& ${r}, &${n}-sm ${r}, &${n}-lg ${r}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function PN(n,e={focus:!0}){let{componentCls:t}=n,i=`${t}-compact`;return{[i]:Object.assign(Object.assign({},F7e(n,i,e,t)),B7e(t,i,e))}}function $7e(n,e,t){return{[`&-item:not(${e}-last-item)`]:{marginBottom:n.calc(n.lineWidth).mul(-1).equal()},[`&-item:not(${t}-status-success)`]:{zIndex:2},"&-item":{"&:hover,&:focus,&:active":{zIndex:3},"&[disabled]":{zIndex:0}}}}function N7e(n,e){return{[`&-item:not(${e}-first-item):not(${e}-last-item)`]:{borderRadius:0},[`&-item${e}-first-item:not(${e}-last-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${e}-last-item:not(${e}-first-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function j7e(n){let e=`${n.componentCls}-compact-vertical`;return{[e]:Object.assign(Object.assign({},$7e(n,e,n.componentCls)),N7e(n.componentCls,e))}}var z7e=n=>{let{componentCls:e,colorPrimaryHover:t,lineWidth:i,calc:r}=n,s=r(i).mul(-1).equal(),a=o=>{let l=`${e}-compact${o?"-vertical":""}-item${e}-primary:not([disabled])`;return{[`${l} + ${l}::before`]:{position:"absolute",top:o?s:0,insetInlineStart:o?0:s,backgroundColor:t,content:'""',width:o?"100%":i,height:o?i:"100%"}}};return Object.assign(Object.assign({},a()),a(!0))},H7e=A0e(["Button","compact"],n=>{let e=ASe(n);return[PN(e),j7e(e),z7e(e)]},kSe),V7e=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function W7e(n){if(typeof n=="object"&&n){let e=n==null?void 0:n.delay;return e=!Number.isNaN(e)&&typeof e=="number"?e:0,{loading:e<=0,delay:e}}return{loading:!!n,delay:0}}var U7e={default:["default","outlined"],primary:["primary","solid"],dashed:["default","dashed"],link:["link","link"],text:["default","text"]},G7e=ua.default.forwardRef((n,e)=>{var t,i;let{loading:r=!1,prefixCls:s,color:a,variant:o,type:l,danger:u=!1,shape:c,size:d,styles:h,disabled:f,className:p,rootClassName:g,children:m,icon:v,iconPosition:_="start",ghost:y=!1,block:x=!1,htmlType:w="button",classNames:T,style:E={},autoInsertSpace:A,autoFocus:k}=n,P=V7e(n,["loading","prefixCls","color","variant","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace","autoFocus"]),I=l||"default",{button:D}=ua.default.useContext(er),L=c||(D==null?void 0:D.shape)||"default",[B,F]=(0,ua.useMemo)(()=>{if(a&&o)return[a,o];if(l||u){let on=U7e[I]||[];return u?["danger",on[1]]:on}return D!=null&&D.color&&D!=null&&D.variant?[D.color,D.variant]:["default","outlined"]},[a,o,l,u,D==null?void 0:D.color,D==null?void 0:D.variant,I]),$=B==="danger"?"dangerous":B,{getPrefixCls:z,direction:N,autoInsertSpace:V,className:H,style:K,classNames:U,styles:X}=Gm("button"),Z=(t=A??V)!==null&&t!==void 0?t:!0,Q=z("btn",s),[se,ae,ue]=L7e(Q),oe=(0,ua.useContext)(dg),re=f??oe,fe=(0,ua.useContext)(SSe),ve=(0,ua.useMemo)(()=>W7e(r),[r]),[xe,ye]=(0,ua.useState)(ve.loading),[Ee,Se]=(0,ua.useState)(!1),Fe=(0,ua.useRef)(null),Ge=SP(e,Fe),Pe=ua.Children.count(m)===1&&!v&&!H5(F),je=(0,ua.useRef)(!0);ua.default.useEffect(()=>(je.current=!1,()=>{je.current=!0}),[]),Vr(()=>{let on=null;ve.delay>0?on=setTimeout(()=>{on=null,ye(!0)},ve.delay):ye(ve.loading);function Wt(){on&&(clearTimeout(on),on=null)}return Wt},[ve.delay,ve.loading]),(0,ua.useEffect)(()=>{if(!Fe.current||!Z)return;let on=Fe.current.textContent||"";Pe&&_6(on)?Ee||Se(!0):Ee&&Se(!1)}),(0,ua.useEffect)(()=>{k&&Fe.current&&Fe.current.focus()},[]);let qe=ua.default.useCallback(on=>{var Wt;if(xe||re){on.preventDefault();return}(Wt=n.onClick)===null||Wt===void 0||Wt.call(n,on)},[n.onClick,xe,re]),{compactSize:ot,compactItemClassnames:$e}=d1(Q,N),et={large:"lg",small:"sm",middle:void 0},Mt=hg(on=>{var Wt,Cn;return(Cn=(Wt=d??ot)!==null&&Wt!==void 0?Wt:fe)!==null&&Cn!==void 0?Cn:on}),Ct=Mt&&(i=et[Mt])!==null&&i!==void 0?i:"",tt=xe?"loading":v,xt=Qy(P,["navigate"]),dt=(0,j5.default)(Q,ae,ue,{[`${Q}-${L}`]:L!=="default"&&L,[`${Q}-${I}`]:I,[`${Q}-dangerous`]:u,[`${Q}-color-${$}`]:$,[`${Q}-variant-${F}`]:F,[`${Q}-${Ct}`]:Ct,[`${Q}-icon-only`]:!m&&m!==0&&!!tt,[`${Q}-background-ghost`]:y&&!H5(F),[`${Q}-loading`]:xe,[`${Q}-two-chinese-chars`]:Ee&&Z&&!xe,[`${Q}-block`]:x,[`${Q}-rtl`]:N==="rtl",[`${Q}-icon-end`]:_==="end"},$e,p,g,H),bt=Object.assign(Object.assign({},K),E),rt=(0,j5.default)(T==null?void 0:T.icon,U.icon),Dt=Object.assign(Object.assign({},(h==null?void 0:h.icon)||{}),X.icon||{}),Je=v&&!xe?ua.default.createElement(b6,{prefixCls:Q,className:rt,style:Dt},v):r&&typeof r=="object"&&r.icon?ua.default.createElement(b6,{prefixCls:Q,className:rt,style:Dt},r.icon):ua.default.createElement(RYe,{existIcon:!!v,prefixCls:Q,loading:xe,mount:je.current}),At=m||m===0?OYe(m,Pe&&Z):null;if(xt.href!==void 0)return se(ua.default.createElement("a",Object.assign({},xt,{className:(0,j5.default)(dt,{[`${Q}-disabled`]:re}),href:re?void 0:xt.href,style:bt,onClick:qe,ref:Ge,tabIndex:re?-1:0,"aria-disabled":re}),Je,At));let Ft=ua.default.createElement("button",Object.assign({},P,{type:w,className:dt,style:bt,onClick:qe,disabled:re,ref:Ge}),Je,At,$e&&ua.default.createElement(H7e,{prefixCls:Q}));return H5(F)||(Ft=ua.default.createElement(E9,{component:"Button",disabled:xe},Ft)),se(Ft)}),P9=G7e;P9.Group=AYe;P9.__ANT_BUTTON=!0;var Y7e=P9,LL=Y7e,R_=ie(de()),K7e=ie(Xy()),X7e=ie(de()),q7e=X7e.createContext(null),PSe=q7e,CR=ie(de()),bre=[];function Z7e(n,e){var t=CR.useState(function(){if(!pc())return null;var p=document.createElement("div");return p}),i=Ve(t,1),r=i[0],s=CR.useRef(!1),a=CR.useContext(PSe),o=CR.useState(bre),l=Ve(o,2),u=l[0],c=l[1],d=a||(s.current?void 0:function(p){c(function(g){var m=[p].concat(Pt(g));return m})});function h(){r.parentElement||document.body.appendChild(r),s.current=!0}function f(){var p;(p=r.parentElement)===null||p===void 0||p.removeChild(r),s.current=!1}return Vr(function(){return n?a?a(h):h():f(),f},[n]),Vr(function(){u.length&&(u.forEach(function(p){return p()}),c(bre))},[u]),[r,d]}var Q7e=ie(de());function J7e(n){var e="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),t=document.createElement("div");t.id=e;var i=t.style;i.position="absolute",i.left="0",i.top="0",i.width="100px",i.height="100px",i.overflow="scroll";var r,s;if(n){var a=getComputedStyle(n);i.scrollbarColor=a.scrollbarColor,i.scrollbarWidth=a.scrollbarWidth;var o=getComputedStyle(n,"::-webkit-scrollbar"),l=parseInt(o.width,10),u=parseInt(o.height,10);try{var c=l?"width: ".concat(o.width,";"):"",d=u?"height: ".concat(o.height,";"):"";Sm(`
#`.concat(e,`::-webkit-scrollbar {
`).concat(c,`
`).concat(d,`
}`),e)}catch(p){console.error(p),r=l,s=u}}document.body.appendChild(t);var h=n&&r&&!isNaN(r)?r:t.offsetWidth-t.clientWidth,f=n&&s&&!isNaN(s)?s:t.offsetHeight-t.clientHeight;return document.body.removeChild(t),Fk(e),{width:h,height:f}}function eKe(n){return typeof document>"u"||!n||!(n instanceof Element)?{width:0,height:0}:J7e(n)}function tKe(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var nKe="rc-util-locker-".concat(Date.now()),Sre=0;function iKe(n){var e=!!n,t=Q7e.useState(function(){return Sre+=1,"".concat(nKe,"_").concat(Sre)}),i=Ve(t,1),r=i[0];Vr(function(){if(e){var s=eKe(document.body).width,a=tKe();Sm(`
html body {
  overflow-y: hidden;
  `.concat(a?"width: calc(100% - ".concat(s,"px);"):"",`
}`),r)}else Fk(r);return function(){Fk(r)}},[e,r])}var rKe=!1;function sKe(n){return rKe}var xre=function(n){return n===!1?!1:!pc()||!n?null:typeof n=="string"?document.querySelector(n):typeof n=="function"?n():n},aKe=R_.forwardRef(function(n,e){var t=n.open,i=n.autoLock,r=n.getContainer;n.debug;var s=n.autoDestroy,a=s===void 0?!0:s,o=n.children,l=R_.useState(t),u=Ve(l,2),c=u[0],d=u[1],h=c||t;R_.useEffect(function(){(a||t)&&d(t)},[t,a]);var f=R_.useState(function(){return xre(r)}),p=Ve(f,2),g=p[0],m=p[1];R_.useEffect(function(){var I=xre(r);m(I??null)});var v=Z7e(h&&!g),_=Ve(v,2),y=_[0],x=_[1],w=g??y;iKe(i&&t&&pc()&&(w===y||w===document.body));var T=null;if(o&&l1(o)&&e){var E=o;T=E.ref}var A=SP(T,e);if(!h||!pc()||g===void 0)return null;var k=w===!1||sKe(),P=o;return e&&(P=R_.cloneElement(o,{ref:A})),R_.createElement(PSe.Provider,{value:x},k?P:(0,K7e.createPortal)(P,w))}),oKe=aKe,MSe=oKe,x6=ie(de());function lKe(){var n=Te({},x6);return n.useId}var wre=0,Cre=lKe(),M9=Cre?function(n){var e=Cre();return n||e}:function(n){var e=x6.useState("ssr-id"),t=Ve(e,2),i=t[0],r=t[1];return x6.useEffect(function(){var s=wre;wre+=1,r("rc_unique_".concat(s))},[]),n||i},Tre=ie(de()),xm=ie(de()),uKe=ie(de()),Qg=ie(de()),cKe=ie(de()),bb="RC_FORM_INTERNAL_HOOKS",Gr=function(){dh(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},dKe=cKe.createContext({getFieldValue:Gr,getFieldsValue:Gr,getFieldError:Gr,getFieldWarning:Gr,getFieldsError:Gr,isFieldsTouched:Gr,isFieldTouched:Gr,isFieldValidating:Gr,isFieldsValidating:Gr,resetFields:Gr,setFields:Gr,setFieldValue:Gr,setFieldsValue:Gr,validateFields:Gr,submit:Gr,getInternalHooks:function(){return Gr(),{dispatch:Gr,initEntityValue:Gr,registerField:Gr,useSubscribe:Gr,setInitialValues:Gr,destroyForm:Gr,setCallbacks:Gr,registerWatch:Gr,getFields:Gr,setValidateMessages:Gr,setPreserve:Gr,getInitialValue:Gr}}}),d0=dKe,hKe=ie(de()),fKe=hKe.createContext(null),Hk=fKe;function w6(n){return n==null?[]:Array.isArray(n)?n:[n]}function pKe(n){return n&&!!n._init}function C6(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var n=JSON.parse(JSON.stringify(this));return n.clone=this.clone,n}}}var T6=C6();function gKe(n){try{return Function.toString.call(n).indexOf("[native code]")!==-1}catch{return typeof n=="function"}}function mKe(n,e,t){if(u9())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,e);var r=new(n.bind.apply(n,i));return t&&Rk(r,t.prototype),r}function E6(n){var e=typeof Map=="function"?new Map:void 0;return E6=function(t){if(t===null||!gKe(t))return t;if(typeof t!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return mKe(t,arguments,Dk(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Rk(i,t)},E6(n)}var vKe=/%[sdj%]/g,yKe=function(){};function A6(n){if(!n||!n.length)return null;var e={};return n.forEach(function(t){var i=t.field;e[i]=e[i]||[],e[i].push(t)}),e}function Kc(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];var r=0,s=t.length;if(typeof n=="function")return n.apply(null,t);if(typeof n=="string"){var a=n.replace(vKe,function(o){if(o==="%%")return"%";if(r>=s)return o;switch(o){case"%s":return String(t[r++]);case"%d":return Number(t[r++]);case"%j":try{return JSON.stringify(t[r++])}catch{return"[Circular]"}break;default:return o}});return a}return n}function _Ke(n){return n==="string"||n==="url"||n==="hex"||n==="email"||n==="date"||n==="pattern"}function To(n,e){return!!(n==null||e==="array"&&Array.isArray(n)&&!n.length||_Ke(e)&&typeof n=="string"&&!n)}function bKe(n,e,t){var i=[],r=0,s=n.length;function a(o){i.push.apply(i,Pt(o||[])),r++,r===s&&t(i)}n.forEach(function(o){e(o,a)})}function Ere(n,e,t){var i=0,r=n.length;function s(a){if(a&&a.length){t(a);return}var o=i;i=i+1,o<r?e(n[o],s):t([])}s([])}function SKe(n){var e=[];return Object.keys(n).forEach(function(t){e.push.apply(e,Pt(n[t]||[]))}),e}var Are=function(n){qy(t,n);var e=Zy(t);function t(i,r){var s;return Wa(this,t),s=e.call(this,"Async Validation Error"),me(Ci(s),"errors",void 0),me(Ci(s),"fields",void 0),s.errors=i,s.fields=r,s}return Ua(t)}(E6(Error));function xKe(n,e,t,i,r){if(e.first){var s=new Promise(function(h,f){var p=function(m){return i(m),m.length?f(new Are(m,A6(m))):h(r)},g=SKe(n);Ere(g,t,p)});return s.catch(function(h){return h}),s}var a=e.firstFields===!0?Object.keys(n):e.firstFields||[],o=Object.keys(n),l=o.length,u=0,c=[],d=new Promise(function(h,f){var p=function(g){if(c.push.apply(c,g),u++,u===l)return i(c),c.length?f(new Are(c,A6(c))):h(r)};o.length||(i(c),h(r)),o.forEach(function(g){var m=n[g];a.indexOf(g)!==-1?Ere(m,t,p):bKe(m,t,p)})});return d.catch(function(h){return h}),d}function wKe(n){return!!(n&&n.message!==void 0)}function CKe(n,e){for(var t=n,i=0;i<e.length;i++){if(t==null)return t;t=t[e[i]]}return t}function kre(n,e){return function(t){var i;return n.fullFields?i=CKe(e,n.fullFields):i=e[t.field||n.fullField],wKe(t)?(t.field=t.field||n.fullField,t.fieldValue=i,t):{message:typeof t=="function"?t():t,fieldValue:i,field:t.field||n.fullField}}}function Ore(n,e){if(e){for(var t in e)if(e.hasOwnProperty(t)){var i=e[t];bn(i)==="object"&&bn(n[t])==="object"?n[t]=Te(Te({},n[t]),i):n[t]=i}}return n}var MS="enum",TKe=function(n,e,t,i,r){n[MS]=Array.isArray(n[MS])?n[MS]:[],n[MS].indexOf(e)===-1&&i.push(Kc(r.messages[MS],n.fullField,n[MS].join(", ")))},EKe=TKe,AKe=function(n,e,t,i,r){if(n.pattern){if(n.pattern instanceof RegExp)n.pattern.lastIndex=0,n.pattern.test(e)||i.push(Kc(r.messages.pattern.mismatch,n.fullField,e,n.pattern));else if(typeof n.pattern=="string"){var s=new RegExp(n.pattern);s.test(e)||i.push(Kc(r.messages.pattern.mismatch,n.fullField,e,n.pattern))}}},kKe=AKe,OKe=function(n,e,t,i,r){var s=typeof n.len=="number",a=typeof n.min=="number",o=typeof n.max=="number",l=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=e,c=null,d=typeof e=="number",h=typeof e=="string",f=Array.isArray(e);if(d?c="number":h?c="string":f&&(c="array"),!c)return!1;f&&(u=e.length),h&&(u=e.replace(l,"_").length),s?u!==n.len&&i.push(Kc(r.messages[c].len,n.fullField,n.len)):a&&!o&&u<n.min?i.push(Kc(r.messages[c].min,n.fullField,n.min)):o&&!a&&u>n.max?i.push(Kc(r.messages[c].max,n.fullField,n.max)):a&&o&&(u<n.min||u>n.max)&&i.push(Kc(r.messages[c].range,n.fullField,n.min,n.max))},PKe=OKe,MKe=function(n,e,t,i,r,s){n.required&&(!t.hasOwnProperty(n.field)||To(e,s||n.type))&&i.push(Kc(r.messages.required,n.fullField))},ISe=MKe,TR,IKe=function(){if(TR)return TR;var n="[a-fA-F\\d:]",e=function(w){return w&&w.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(n,")|(?<=").concat(n,")(?=\\s|$))"):""},t="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",i="[a-fA-F\\d]{1,4}",r=["(?:".concat(i,":){7}(?:").concat(i,"|:)"),"(?:".concat(i,":){6}(?:").concat(t,"|:").concat(i,"|:)"),"(?:".concat(i,":){5}(?::").concat(t,"|(?::").concat(i,"){1,2}|:)"),"(?:".concat(i,":){4}(?:(?::").concat(i,"){0,1}:").concat(t,"|(?::").concat(i,"){1,3}|:)"),"(?:".concat(i,":){3}(?:(?::").concat(i,"){0,2}:").concat(t,"|(?::").concat(i,"){1,4}|:)"),"(?:".concat(i,":){2}(?:(?::").concat(i,"){0,3}:").concat(t,"|(?::").concat(i,"){1,5}|:)"),"(?:".concat(i,":){1}(?:(?::").concat(i,"){0,4}:").concat(t,"|(?::").concat(i,"){1,6}|:)"),"(?::(?:(?::".concat(i,"){0,5}:").concat(t,"|(?::").concat(i,"){1,7}|:))")],s="(?:%[0-9a-zA-Z]{1,})?",a="(?:".concat(r.join("|"),")").concat(s),o=new RegExp("(?:^".concat(t,"$)|(?:^").concat(a,"$)")),l=new RegExp("^".concat(t,"$")),u=new RegExp("^".concat(a,"$")),c=function(w){return w&&w.exact?o:new RegExp("(?:".concat(e(w)).concat(t).concat(e(w),")|(?:").concat(e(w)).concat(a).concat(e(w),")"),"g")};c.v4=function(w){return w&&w.exact?l:new RegExp("".concat(e(w)).concat(t).concat(e(w)),"g")},c.v6=function(w){return w&&w.exact?u:new RegExp("".concat(e(w)).concat(a).concat(e(w)),"g")};var d="(?:(?:[a-z]+:)?//)",h="(?:\\S+(?::\\S*)?@)?",f=c.v4().source,p=c.v6().source,g="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",m="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",v="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",_="(?::\\d{2,5})?",y='(?:[/?#][^\\s"]*)?',x="(?:".concat(d,"|www\\.)").concat(h,"(?:localhost|").concat(f,"|").concat(p,"|").concat(g).concat(m).concat(v,")").concat(_).concat(y);return TR=new RegExp("(?:^".concat(x,"$)"),"i"),TR},Pre={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},kE={integer:function(n){return kE.number(n)&&parseInt(n,10)===n},float:function(n){return kE.number(n)&&!kE.integer(n)},array:function(n){return Array.isArray(n)},regexp:function(n){if(n instanceof RegExp)return!0;try{return!!new RegExp(n)}catch{return!1}},date:function(n){return typeof n.getTime=="function"&&typeof n.getMonth=="function"&&typeof n.getYear=="function"&&!isNaN(n.getTime())},number:function(n){return isNaN(n)?!1:typeof n=="number"},object:function(n){return bn(n)==="object"&&!kE.array(n)},method:function(n){return typeof n=="function"},email:function(n){return typeof n=="string"&&n.length<=320&&!!n.match(Pre.email)},url:function(n){return typeof n=="string"&&n.length<=2048&&!!n.match(IKe())},hex:function(n){return typeof n=="string"&&!!n.match(Pre.hex)}},RKe=function(n,e,t,i,r){if(n.required&&e===void 0){ISe(n,e,t,i,r);return}var s=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=n.type;s.indexOf(a)>-1?kE[a](e)||i.push(Kc(r.messages.types[a],n.fullField,n.type)):a&&bn(e)!==n.type&&i.push(Kc(r.messages.types[a],n.fullField,n.type))},DKe=RKe,LKe=function(n,e,t,i,r){(/^\s+$/.test(e)||e==="")&&i.push(Kc(r.messages.whitespace,n.fullField))},FKe=LKe,$i={required:ISe,whitespace:FKe,type:DKe,range:PKe,enum:EKe,pattern:kKe},BKe=function(n,e,t,i,r){var s=[],a=n.required||!n.required&&i.hasOwnProperty(n.field);if(a){if(To(e)&&!n.required)return t();$i.required(n,e,i,s,r)}t(s)},$Ke=BKe,NKe=function(n,e,t,i,r){var s=[],a=n.required||!n.required&&i.hasOwnProperty(n.field);if(a){if(e==null&&!n.required)return t();$i.required(n,e,i,s,r,"array"),e!=null&&($i.type(n,e,i,s,r),$i.range(n,e,i,s,r))}t(s)},jKe=NKe,zKe=function(n,e,t,i,r){var s=[],a=n.required||!n.required&&i.hasOwnProperty(n.field);if(a){if(To(e)&&!n.required)return t();$i.required(n,e,i,s,r),e!==void 0&&$i.type(n,e,i,s,r)}t(s)},HKe=zKe,VKe=function(n,e,t,i,r){var s=[],a=n.required||!n.required&&i.hasOwnProperty(n.field);if(a){if(To(e,"date")&&!n.required)return t();if($i.required(n,e,i,s,r),!To(e,"date")){var o;e instanceof Date?o=e:o=new Date(e),$i.type(n,o,i,s,r),o&&$i.range(n,o.getTime(),i,s,r)}}t(s)},WKe=VKe,UKe="enum",GKe=function(n,e,t,i,r){var s=[],a=n.required||!n.required&&i.hasOwnProperty(n.field);if(a){if(To(e)&&!n.required)return t();$i.required(n,e,i,s,r),e!==void 0&&$i[UKe](n,e,i,s,r)}t(s)},YKe=GKe,KKe=function(n,e,t,i,r){var s=[],a=n.required||!n.required&&i.hasOwnProperty(n.field);if(a){if(To(e)&&!n.required)return t();$i.required(n,e,i,s,r),e!==void 0&&($i.type(n,e,i,s,r),$i.range(n,e,i,s,r))}t(s)},XKe=KKe,qKe=function(n,e,t,i,r){var s=[],a=n.required||!n.required&&i.hasOwnProperty(n.field);if(a){if(To(e)&&!n.required)return t();$i.required(n,e,i,s,r),e!==void 0&&($i.type(n,e,i,s,r),$i.range(n,e,i,s,r))}t(s)},ZKe=qKe,QKe=function(n,e,t,i,r){var s=[],a=n.required||!n.required&&i.hasOwnProperty(n.field);if(a){if(To(e)&&!n.required)return t();$i.required(n,e,i,s,r),e!==void 0&&$i.type(n,e,i,s,r)}t(s)},JKe=QKe,e9e=function(n,e,t,i,r){var s=[],a=n.required||!n.required&&i.hasOwnProperty(n.field);if(a){if(e===""&&(e=void 0),To(e)&&!n.required)return t();$i.required(n,e,i,s,r),e!==void 0&&($i.type(n,e,i,s,r),$i.range(n,e,i,s,r))}t(s)},t9e=e9e,n9e=function(n,e,t,i,r){var s=[],a=n.required||!n.required&&i.hasOwnProperty(n.field);if(a){if(To(e)&&!n.required)return t();$i.required(n,e,i,s,r),e!==void 0&&$i.type(n,e,i,s,r)}t(s)},i9e=n9e,r9e=function(n,e,t,i,r){var s=[],a=n.required||!n.required&&i.hasOwnProperty(n.field);if(a){if(To(e,"string")&&!n.required)return t();$i.required(n,e,i,s,r),To(e,"string")||$i.pattern(n,e,i,s,r)}t(s)},s9e=r9e,a9e=function(n,e,t,i,r){var s=[],a=n.required||!n.required&&i.hasOwnProperty(n.field);if(a){if(To(e)&&!n.required)return t();$i.required(n,e,i,s,r),To(e)||$i.type(n,e,i,s,r)}t(s)},o9e=a9e,l9e=function(n,e,t,i,r){var s=[],a=Array.isArray(e)?"array":bn(e);$i.required(n,e,i,s,r,a),t(s)},u9e=l9e,c9e=function(n,e,t,i,r){var s=[],a=n.required||!n.required&&i.hasOwnProperty(n.field);if(a){if(To(e,"string")&&!n.required)return t();$i.required(n,e,i,s,r,"string"),To(e,"string")||($i.type(n,e,i,s,r),$i.range(n,e,i,s,r),$i.pattern(n,e,i,s,r),n.whitespace===!0&&$i.whitespace(n,e,i,s,r))}t(s)},d9e=c9e,h9e=function(n,e,t,i,r){var s=n.type,a=[],o=n.required||!n.required&&i.hasOwnProperty(n.field);if(o){if(To(e,s)&&!n.required)return t();$i.required(n,e,i,a,r,s),To(e,s)||$i.type(n,e,i,a,r)}t(a)},G5=h9e,lA={string:d9e,method:JKe,number:t9e,boolean:HKe,regexp:o9e,integer:ZKe,float:XKe,array:jKe,object:i9e,enum:YKe,pattern:s9e,date:WKe,url:G5,hex:G5,email:G5,required:u9e,any:$Ke},kP=function(){function n(e){Wa(this,n),me(this,"rules",null),me(this,"_messages",T6),this.define(e)}return Ua(n,[{key:"define",value:function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if(bn(e)!=="object"||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach(function(i){var r=e[i];t.rules[i]=Array.isArray(r)?r:[r]})}},{key:"messages",value:function(e){return e&&(this._messages=Ore(C6(),e)),this._messages}},{key:"validate",value:function(e){var t=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},s=e,a=i,o=r;if(typeof a=="function"&&(o=a,a={}),!this.rules||Object.keys(this.rules).length===0)return o&&o(null,s),Promise.resolve(s);function l(f){var p=[],g={};function m(_){if(Array.isArray(_)){var y;p=(y=p).concat.apply(y,Pt(_))}else p.push(_)}for(var v=0;v<f.length;v++)m(f[v]);p.length?(g=A6(p),o(p,g)):o(null,s)}if(a.messages){var u=this.messages();u===T6&&(u=C6()),Ore(u,a.messages),a.messages=u}else a.messages=this.messages();var c={},d=a.keys||Object.keys(this.rules);d.forEach(function(f){var p=t.rules[f],g=s[f];p.forEach(function(m){var v=m;typeof v.transform=="function"&&(s===e&&(s=Te({},s)),g=s[f]=v.transform(g),g!=null&&(v.type=v.type||(Array.isArray(g)?"array":bn(g)))),typeof v=="function"?v={validator:v}:v=Te({},v),v.validator=t.getValidationMethod(v),v.validator&&(v.field=f,v.fullField=v.fullField||f,v.type=t.getType(v),c[f]=c[f]||[],c[f].push({rule:v,value:g,source:s,field:f}))})});var h={};return xKe(c,a,function(f,p){var g=f.rule,m=(g.type==="object"||g.type==="array")&&(bn(g.fields)==="object"||bn(g.defaultField)==="object");m=m&&(g.required||!g.required&&f.value),g.field=f.field;function v(T,E){return Te(Te({},E),{},{fullField:"".concat(g.fullField,".").concat(T),fullFields:g.fullFields?[].concat(Pt(g.fullFields),[T]):[T]})}function _(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],E=Array.isArray(T)?T:[T];!a.suppressWarning&&E.length&&n.warning("async-validator:",E),E.length&&g.message!==void 0&&(E=[].concat(g.message));var A=E.map(kre(g,s));if(a.first&&A.length)return h[g.field]=1,p(A);if(!m)p(A);else{if(g.required&&!f.value)return g.message!==void 0?A=[].concat(g.message).map(kre(g,s)):a.error&&(A=[a.error(g,Kc(a.messages.required,g.field))]),p(A);var k={};g.defaultField&&Object.keys(f.value).map(function(D){k[D]=g.defaultField}),k=Te(Te({},k),f.rule.fields);var P={};Object.keys(k).forEach(function(D){var L=k[D],B=Array.isArray(L)?L:[L];P[D]=B.map(v.bind(null,D))});var I=new n(P);I.messages(a.messages),f.rule.options&&(f.rule.options.messages=a.messages,f.rule.options.error=a.error),I.validate(f.value,f.rule.options||a,function(D){var L=[];A&&A.length&&L.push.apply(L,Pt(A)),D&&D.length&&L.push.apply(L,Pt(D)),p(L.length?L:null)})}}var y;if(g.asyncValidator)y=g.asyncValidator(g,f.value,_,f.source,a);else if(g.validator){try{y=g.validator(g,f.value,_,f.source,a)}catch(T){var x,w;(x=(w=console).error)===null||x===void 0||x.call(w,T),a.suppressValidatorError||setTimeout(function(){throw T},0),_(T.message)}y===!0?_():y===!1?_(typeof g.message=="function"?g.message(g.fullField||g.field):g.message||"".concat(g.fullField||g.field," fails")):y instanceof Array?_(y):y instanceof Error&&_(y.message)}y&&y.then&&y.then(function(){return _()},function(T){return _(T)})},function(f){l(f)},s)}},{key:"getType",value:function(e){if(e.type===void 0&&e.pattern instanceof RegExp&&(e.type="pattern"),typeof e.validator!="function"&&e.type&&!lA.hasOwnProperty(e.type))throw new Error(Kc("Unknown rule type %s",e.type));return e.type||"string"}},{key:"getValidationMethod",value:function(e){if(typeof e.validator=="function")return e.validator;var t=Object.keys(e),i=t.indexOf("message");return i!==-1&&t.splice(i,1),t.length===1&&t[0]==="required"?lA.required:lA[this.getType(e)]||void 0}}]),n}();me(kP,"register",function(n,e){if(typeof e!="function")throw new Error("Cannot register a validator by type, validator is not a function");lA[n]=e});me(kP,"warning",yKe);me(kP,"messages",T6);me(kP,"validators",lA);var f9e=kP,Mre=ie(de()),Rc="'${name}' is not a valid ${type}",RSe={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Rc,method:Rc,array:Rc,object:Rc,number:Rc,date:Rc,boolean:Rc,integer:Rc,float:Rc,regexp:Rc,email:Rc,url:Rc,hex:Rc},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},Ire=f9e;function p9e(n,e){return n.replace(/\\?\$\{\w+\}/g,function(t){if(t.startsWith("\\"))return t.slice(1);var i=t.slice(2,-1);return e[i]})}var Rre="CODE_LOGIC_ERROR";function k6(n,e,t,i,r){return O6.apply(this,arguments)}function O6(){return O6=D0(Kl().mark(function n(e,t,i,r,s){var a,o,l,u,c,d,h,f,p;return Kl().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return a=Te({},i),delete a.ruleIndex,Ire.warning=function(){},a.validator&&(o=a.validator,a.validator=function(){try{return o.apply(void 0,arguments)}catch(m){return console.error(m),Promise.reject(Rre)}}),l=null,a&&a.type==="array"&&a.defaultField&&(l=a.defaultField,delete a.defaultField),u=new Ire(me({},e,[a])),c=Nx(RSe,r.validateMessages),u.messages(c),d=[],g.prev=10,g.next=13,Promise.resolve(u.validate(me({},e,t),Te({},r)));case 13:g.next=18;break;case 15:g.prev=15,g.t0=g.catch(10),g.t0.errors&&(d=g.t0.errors.map(function(m,v){var _=m.message,y=_===Rre?c.default:_;return Mre.isValidElement(y)?Mre.cloneElement(y,{key:"error_".concat(v)}):y}));case 18:if(!(!d.length&&l&&Array.isArray(t)&&t.length>0)){g.next=23;break}return g.next=21,Promise.all(t.map(function(m,v){return k6("".concat(e,".").concat(v),m,l,r,s)}));case 21:return h=g.sent,g.abrupt("return",h.reduce(function(m,v){return[].concat(Pt(m),Pt(v))},[]));case 23:return f=Te(Te({},i),{},{name:e,enum:(i.enum||[]).join(", ")},s),p=d.map(function(m){return typeof m=="string"?p9e(m,f):m}),g.abrupt("return",p);case 26:case"end":return g.stop()}},n,null,[[10,15]])})),O6.apply(this,arguments)}function g9e(n,e,t,i,r,s){var a=n.join("."),o=t.map(function(c,d){var h=c.validator,f=Te(Te({},c),{},{ruleIndex:d});return h&&(f.validator=function(p,g,m){var v=!1,_=function(){for(var x=arguments.length,w=new Array(x),T=0;T<x;T++)w[T]=arguments[T];Promise.resolve().then(function(){dh(!v,"Your validator function has already return a promise. `callback` will be ignored."),v||m.apply(void 0,w)})},y=h(p,g,_);v=y&&typeof y.then=="function"&&typeof y.catch=="function",dh(v,"`callback` is deprecated. Please return a promise instead."),v&&y.then(function(){m()}).catch(function(x){m(x||" ")})}),f}).sort(function(c,d){var h=c.warningOnly,f=c.ruleIndex,p=d.warningOnly,g=d.ruleIndex;return!!h==!!p?f-g:h?1:-1}),l;if(r===!0)l=new Promise(function(){var c=D0(Kl().mark(function d(h,f){var p,g,m;return Kl().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:p=0;case 1:if(!(p<o.length)){v.next=12;break}return g=o[p],v.next=5,k6(a,e,g,i,s);case 5:if(m=v.sent,!m.length){v.next=9;break}return f([{errors:m,rule:g}]),v.abrupt("return");case 9:p+=1,v.next=1;break;case 12:h([]);case 13:case"end":return v.stop()}},d)}));return function(d,h){return c.apply(this,arguments)}}());else{var u=o.map(function(c){return k6(a,e,c,i,s).then(function(d){return{errors:d,rule:c}})});l=(r?v9e(u):m9e(u)).then(function(c){return Promise.reject(c)})}return l.catch(function(c){return c}),l}function m9e(n){return P6.apply(this,arguments)}function P6(){return P6=D0(Kl().mark(function n(e){return Kl().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all(e).then(function(i){var r,s=(r=[]).concat.apply(r,Pt(i));return s}));case 1:case"end":return t.stop()}},n)})),P6.apply(this,arguments)}function v9e(n){return M6.apply(this,arguments)}function M6(){return M6=D0(Kl().mark(function n(e){var t;return Kl().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=0,i.abrupt("return",new Promise(function(r){e.forEach(function(s){s.then(function(a){a.errors.length&&r([a]),t+=1,t===e.length&&r([])})})}));case 2:case"end":return i.stop()}},n)})),M6.apply(this,arguments)}function Aa(n){return w6(n)}function Dre(n,e){var t={};return e.forEach(function(i){var r=rh(n,i);t=Hd(t,i,r)}),t}function Aw(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return n&&n.some(function(i){return DSe(e,i,t)})}function DSe(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!n||!e||!t&&n.length!==e.length?!1:e.every(function(i,r){return n[r]===i})}function y9e(n,e){if(n===e)return!0;if(!n&&e||n&&!e||!n||!e||bn(n)!=="object"||bn(e)!=="object")return!1;var t=Object.keys(n),i=Object.keys(e),r=new Set([].concat(t,i));return Pt(r).every(function(s){var a=n[s],o=e[s];return typeof a=="function"&&typeof o=="function"?!0:a===o})}function _9e(n){var e=arguments.length<=1?void 0:arguments[1];return e&&e.target&&bn(e.target)==="object"&&n in e.target?e.target[n]:e}function Lre(n,e,t){var i=n.length;if(e<0||e>=i||t<0||t>=i)return n;var r=n[e],s=e-t;return s>0?[].concat(Pt(n.slice(0,t)),[r],Pt(n.slice(t,e)),Pt(n.slice(e+1,i))):s<0?[].concat(Pt(n.slice(0,e)),Pt(n.slice(e+1,t+1)),[r],Pt(n.slice(t+1,i))):n}var b9e=["name"],Td=[];function Y5(n,e,t,i,r,s){return typeof n=="function"?n(e,t,"source"in s?{source:s.source}:{}):i!==r}var I9=function(n){qy(t,n);var e=Zy(t);function t(i){var r;if(Wa(this,t),r=e.call(this,i),me(Ci(r),"state",{resetCount:0}),me(Ci(r),"cancelRegisterFunc",null),me(Ci(r),"mounted",!1),me(Ci(r),"touched",!1),me(Ci(r),"dirty",!1),me(Ci(r),"validatePromise",void 0),me(Ci(r),"prevValidating",void 0),me(Ci(r),"errors",Td),me(Ci(r),"warnings",Td),me(Ci(r),"cancelRegister",function(){var l=r.props,u=l.preserve,c=l.isListField,d=l.name;r.cancelRegisterFunc&&r.cancelRegisterFunc(c,u,Aa(d)),r.cancelRegisterFunc=null}),me(Ci(r),"getNamePath",function(){var l=r.props,u=l.name,c=l.fieldContext,d=c.prefixName,h=d===void 0?[]:d;return u!==void 0?[].concat(Pt(h),Pt(u)):[]}),me(Ci(r),"getRules",function(){var l=r.props,u=l.rules,c=u===void 0?[]:u,d=l.fieldContext;return c.map(function(h){return typeof h=="function"?h(d):h})}),me(Ci(r),"refresh",function(){r.mounted&&r.setState(function(l){var u=l.resetCount;return{resetCount:u+1}})}),me(Ci(r),"metaCache",null),me(Ci(r),"triggerMetaEvent",function(l){var u=r.props.onMetaChange;if(u){var c=Te(Te({},r.getMeta()),{},{destroy:l});NU(r.metaCache,c)||u(c),r.metaCache=c}else r.metaCache=null}),me(Ci(r),"onStoreChange",function(l,u,c){var d=r.props,h=d.shouldUpdate,f=d.dependencies,p=f===void 0?[]:f,g=d.onReset,m=c.store,v=r.getNamePath(),_=r.getValue(l),y=r.getValue(m),x=u&&Aw(u,v);switch(c.type==="valueUpdate"&&c.source==="external"&&!NU(_,y)&&(r.touched=!0,r.dirty=!0,r.validatePromise=null,r.errors=Td,r.warnings=Td,r.triggerMetaEvent()),c.type){case"reset":if(!u||x){r.touched=!1,r.dirty=!1,r.validatePromise=void 0,r.errors=Td,r.warnings=Td,r.triggerMetaEvent(),g==null||g(),r.refresh();return}break;case"remove":{if(h&&Y5(h,l,m,_,y,c)){r.reRender();return}break}case"setField":{var w=c.data;if(x){"touched"in w&&(r.touched=w.touched),"validating"in w&&!("originRCField"in w)&&(r.validatePromise=w.validating?Promise.resolve([]):null),"errors"in w&&(r.errors=w.errors||Td),"warnings"in w&&(r.warnings=w.warnings||Td),r.dirty=!0,r.triggerMetaEvent(),r.reRender();return}else if("value"in w&&Aw(u,v,!0)){r.reRender();return}if(h&&!v.length&&Y5(h,l,m,_,y,c)){r.reRender();return}break}case"dependenciesUpdate":{var T=p.map(Aa);if(T.some(function(E){return Aw(c.relatedFields,E)})){r.reRender();return}break}default:if(x||(!p.length||v.length||h)&&Y5(h,l,m,_,y,c)){r.reRender();return}break}h===!0&&r.reRender()}),me(Ci(r),"validateRules",function(l){var u=r.getNamePath(),c=r.getValue(),d=l||{},h=d.triggerName,f=d.validateOnly,p=f===void 0?!1:f,g=Promise.resolve().then(D0(Kl().mark(function m(){var v,_,y,x,w,T,E;return Kl().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(r.mounted){A.next=2;break}return A.abrupt("return",[]);case 2:if(v=r.props,_=v.validateFirst,y=_===void 0?!1:_,x=v.messageVariables,w=v.validateDebounce,T=r.getRules(),h&&(T=T.filter(function(k){return k}).filter(function(k){var P=k.validateTrigger;if(!P)return!0;var I=w6(P);return I.includes(h)})),!(w&&h)){A.next=10;break}return A.next=8,new Promise(function(k){setTimeout(k,w)});case 8:if(r.validatePromise===g){A.next=10;break}return A.abrupt("return",[]);case 10:return E=g9e(u,c,T,l,y,x),E.catch(function(k){return k}).then(function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Td;if(r.validatePromise===g){var P;r.validatePromise=null;var I=[],D=[];(P=k.forEach)===null||P===void 0||P.call(k,function(L){var B=L.rule.warningOnly,F=L.errors,$=F===void 0?Td:F;B?D.push.apply(D,Pt($)):I.push.apply(I,Pt($))}),r.errors=I,r.warnings=D,r.triggerMetaEvent(),r.reRender()}}),A.abrupt("return",E);case 13:case"end":return A.stop()}},m)})));return p||(r.validatePromise=g,r.dirty=!0,r.errors=Td,r.warnings=Td,r.triggerMetaEvent(),r.reRender()),g}),me(Ci(r),"isFieldValidating",function(){return!!r.validatePromise}),me(Ci(r),"isFieldTouched",function(){return r.touched}),me(Ci(r),"isFieldDirty",function(){if(r.dirty||r.props.initialValue!==void 0)return!0;var l=r.props.fieldContext,u=l.getInternalHooks(bb),c=u.getInitialValue;return c(r.getNamePath())!==void 0}),me(Ci(r),"getErrors",function(){return r.errors}),me(Ci(r),"getWarnings",function(){return r.warnings}),me(Ci(r),"isListField",function(){return r.props.isListField}),me(Ci(r),"isList",function(){return r.props.isList}),me(Ci(r),"isPreserve",function(){return r.props.preserve}),me(Ci(r),"getMeta",function(){r.prevValidating=r.isFieldValidating();var l={touched:r.isFieldTouched(),validating:r.prevValidating,errors:r.errors,warnings:r.warnings,name:r.getNamePath(),validated:r.validatePromise===null};return l}),me(Ci(r),"getOnlyChild",function(l){if(typeof l=="function"){var u=r.getMeta();return Te(Te({},r.getOnlyChild(l(r.getControlled(),u,r.props.fieldContext))),{},{isFunction:!0})}var c=Dy(l);return c.length!==1||!Qg.isValidElement(c[0])?{child:c,isFunction:!1}:{child:c[0],isFunction:!1}}),me(Ci(r),"getValue",function(l){var u=r.props.fieldContext.getFieldsValue,c=r.getNamePath();return rh(l||u(!0),c)}),me(Ci(r),"getControlled",function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=r.props,c=u.name,d=u.trigger,h=u.validateTrigger,f=u.getValueFromEvent,p=u.normalize,g=u.valuePropName,m=u.getValueProps,v=u.fieldContext,_=h!==void 0?h:v.validateTrigger,y=r.getNamePath(),x=v.getInternalHooks,w=v.getFieldsValue,T=x(bb),E=T.dispatch,A=r.getValue(),k=m||function(B){return me({},g,B)},P=l[d],I=c!==void 0?k(A):{},D=Te(Te({},l),I);D[d]=function(){r.touched=!0,r.dirty=!0,r.triggerMetaEvent();for(var B,F=arguments.length,$=new Array(F),z=0;z<F;z++)$[z]=arguments[z];f?B=f.apply(void 0,$):B=_9e.apply(void 0,[g].concat($)),p&&(B=p(B,A,w(!0))),B!==A&&E({type:"updateValue",namePath:y,value:B}),P&&P.apply(void 0,$)};var L=w6(_||[]);return L.forEach(function(B){var F=D[B];D[B]=function(){F&&F.apply(void 0,arguments);var $=r.props.rules;$&&$.length&&E({type:"validateField",namePath:y,triggerName:B})}}),D}),i.fieldContext){var s=i.fieldContext.getInternalHooks,a=s(bb),o=a.initEntityValue;o(Ci(r))}return r}return Ua(t,[{key:"componentDidMount",value:function(){var i=this.props,r=i.shouldUpdate,s=i.fieldContext;if(this.mounted=!0,s){var a=s.getInternalHooks,o=a(bb),l=o.registerField;this.cancelRegisterFunc=l(this)}r===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var i=this.state.resetCount,r=this.props.children,s=this.getOnlyChild(r),a=s.child,o=s.isFunction,l;return o?l=a:Qg.isValidElement(a)?l=Qg.cloneElement(a,this.getControlled(a.props)):(dh(!a,"`children` of Field is not validate ReactElement."),l=a),Qg.createElement(Qg.Fragment,{key:i},l)}}]),t}(Qg.Component);me(I9,"contextType",d0);me(I9,"defaultProps",{trigger:"onChange",valuePropName:"value"});function S9e(n){var e,t=n.name,i=Ji(n,b9e),r=Qg.useContext(d0),s=Qg.useContext(Hk),a=t!==void 0?Aa(t):void 0,o=(e=i.isListField)!==null&&e!==void 0?e:!!s,l="keep";return o||(l="_".concat((a||[]).join("_"))),Qg.createElement(I9,wn({key:l,name:a,isListField:o},i,{fieldContext:r}))}var R9=S9e,Rg=ie(de());function x9e(n){var e=n.name,t=n.initialValue,i=n.children,r=n.rules,s=n.validateTrigger,a=n.isListField,o=Rg.useContext(d0),l=Rg.useContext(Hk),u=Rg.useRef({keys:[],id:0}),c=u.current,d=Rg.useMemo(function(){var g=Aa(o.prefixName)||[];return[].concat(Pt(g),Pt(Aa(e)))},[o.prefixName,e]),h=Rg.useMemo(function(){return Te(Te({},o),{},{prefixName:d})},[o,d]),f=Rg.useMemo(function(){return{getKey:function(g){var m=d.length,v=g[m];return[c.keys[v],g.slice(m+1)]}}},[d]);if(typeof i!="function")return dh(!1,"Form.List only accepts function as children."),null;var p=function(g,m,v){var _=v.source;return _==="internal"?!1:g!==m};return Rg.createElement(Hk.Provider,{value:f},Rg.createElement(d0.Provider,{value:h},Rg.createElement(R9,{name:[],shouldUpdate:p,rules:r,validateTrigger:s,initialValue:t,isList:!0,isListField:a??!!l},function(g,m){var v=g.value,_=v===void 0?[]:v,y=g.onChange,x=o.getFieldValue,w=function(){var A=x(d||[]);return A||[]},T={add:function(A,k){var P=w();k>=0&&k<=P.length?(c.keys=[].concat(Pt(c.keys.slice(0,k)),[c.id],Pt(c.keys.slice(k))),y([].concat(Pt(P.slice(0,k)),[A],Pt(P.slice(k))))):(c.keys=[].concat(Pt(c.keys),[c.id]),y([].concat(Pt(P),[A]))),c.id+=1},remove:function(A){var k=w(),P=new Set(Array.isArray(A)?A:[A]);P.size<=0||(c.keys=c.keys.filter(function(I,D){return!P.has(D)}),y(k.filter(function(I,D){return!P.has(D)})))},move:function(A,k){if(A!==k){var P=w();A<0||A>=P.length||k<0||k>=P.length||(c.keys=Lre(c.keys,A,k),y(Lre(P,A,k)))}}},E=_||[];return Array.isArray(E)||(E=[]),i(E.map(function(A,k){var P=c.keys[k];return P===void 0&&(c.keys[k]=c.id,P=c.keys[k],c.id+=1),{name:k,key:P,isListField:!0}}),T,m)})))}var LSe=x9e,Fre=ie(de());function w9e(n){var e=!1,t=n.length,i=[];return n.length?new Promise(function(r,s){n.forEach(function(a,o){a.catch(function(l){return e=!0,l}).then(function(l){t-=1,i[o]=l,!(t>0)&&(e&&s(i),r(i))})})}):Promise.resolve([])}var FSe="__@field_split__";function K5(n){return n.map(function(e){return"".concat(bn(e),":").concat(e)}).join(FSe)}var C9e=function(){function n(){Wa(this,n),me(this,"kvs",new Map)}return Ua(n,[{key:"set",value:function(e,t){this.kvs.set(K5(e),t)}},{key:"get",value:function(e){return this.kvs.get(K5(e))}},{key:"update",value:function(e,t){var i=this.get(e),r=t(i);r?this.set(e,r):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(K5(e))}},{key:"map",value:function(e){return Pt(this.kvs.entries()).map(function(t){var i=Ve(t,2),r=i[0],s=i[1],a=r.split(FSe);return e({key:a.map(function(o){var l=o.match(/^([^:]*):(.*)$/),u=Ve(l,3),c=u[1],d=u[2];return c==="number"?Number(d):d}),value:s})})}},{key:"toJSON",value:function(){var e={};return this.map(function(t){var i=t.key,r=t.value;return e[i.join(".")]=r,null}),e}}]),n}(),IS=C9e,T9e=["name"],E9e=Ua(function n(e){var t=this;Wa(this,n),me(this,"formHooked",!1),me(this,"forceRootUpdate",void 0),me(this,"subscribable",!0),me(this,"store",{}),me(this,"fieldEntities",[]),me(this,"initialValues",{}),me(this,"callbacks",{}),me(this,"validateMessages",null),me(this,"preserve",null),me(this,"lastValidatePromise",null),me(this,"getForm",function(){return{getFieldValue:t.getFieldValue,getFieldsValue:t.getFieldsValue,getFieldError:t.getFieldError,getFieldWarning:t.getFieldWarning,getFieldsError:t.getFieldsError,isFieldsTouched:t.isFieldsTouched,isFieldTouched:t.isFieldTouched,isFieldValidating:t.isFieldValidating,isFieldsValidating:t.isFieldsValidating,resetFields:t.resetFields,setFields:t.setFields,setFieldValue:t.setFieldValue,setFieldsValue:t.setFieldsValue,validateFields:t.validateFields,submit:t.submit,_init:!0,getInternalHooks:t.getInternalHooks}}),me(this,"getInternalHooks",function(i){return i===bb?(t.formHooked=!0,{dispatch:t.dispatch,initEntityValue:t.initEntityValue,registerField:t.registerField,useSubscribe:t.useSubscribe,setInitialValues:t.setInitialValues,destroyForm:t.destroyForm,setCallbacks:t.setCallbacks,setValidateMessages:t.setValidateMessages,getFields:t.getFields,setPreserve:t.setPreserve,getInitialValue:t.getInitialValue,registerWatch:t.registerWatch}):(dh(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),me(this,"useSubscribe",function(i){t.subscribable=i}),me(this,"prevWithoutPreserves",null),me(this,"setInitialValues",function(i,r){if(t.initialValues=i||{},r){var s,a=Nx(i,t.store);(s=t.prevWithoutPreserves)===null||s===void 0||s.map(function(o){var l=o.key;a=Hd(a,l,rh(i,l))}),t.prevWithoutPreserves=null,t.updateStore(a)}}),me(this,"destroyForm",function(i){if(i)t.updateStore({});else{var r=new IS;t.getFieldEntities(!0).forEach(function(s){t.isMergedPreserve(s.isPreserve())||r.set(s.getNamePath(),!0)}),t.prevWithoutPreserves=r}}),me(this,"getInitialValue",function(i){var r=rh(t.initialValues,i);return i.length?Nx(r):r}),me(this,"setCallbacks",function(i){t.callbacks=i}),me(this,"setValidateMessages",function(i){t.validateMessages=i}),me(this,"setPreserve",function(i){t.preserve=i}),me(this,"watchList",[]),me(this,"registerWatch",function(i){return t.watchList.push(i),function(){t.watchList=t.watchList.filter(function(r){return r!==i})}}),me(this,"notifyWatch",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(t.watchList.length){var r=t.getFieldsValue(),s=t.getFieldsValue(!0);t.watchList.forEach(function(a){a(r,s,i)})}}),me(this,"timeoutId",null),me(this,"warningUnhooked",function(){}),me(this,"updateStore",function(i){t.store=i}),me(this,"getFieldEntities",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return i?t.fieldEntities.filter(function(r){return r.getNamePath().length}):t.fieldEntities}),me(this,"getFieldsMap",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=new IS;return t.getFieldEntities(i).forEach(function(s){var a=s.getNamePath();r.set(a,s)}),r}),me(this,"getFieldEntitiesForNamePathList",function(i){if(!i)return t.getFieldEntities(!0);var r=t.getFieldsMap(!0);return i.map(function(s){var a=Aa(s);return r.get(a)||{INVALIDATE_NAME_PATH:Aa(s)}})}),me(this,"getFieldsValue",function(i,r){t.warningUnhooked();var s,a,o;if(i===!0||Array.isArray(i)?(s=i,a=r):i&&bn(i)==="object"&&(o=i.strict,a=i.filter),s===!0&&!a)return t.store;var l=t.getFieldEntitiesForNamePathList(Array.isArray(s)?s:null),u=[];return l.forEach(function(c){var d,h,f="INVALIDATE_NAME_PATH"in c?c.INVALIDATE_NAME_PATH:c.getNamePath();if(o){var p,g;if((p=(g=c).isList)!==null&&p!==void 0&&p.call(g))return}else if(!s&&(d=(h=c).isListField)!==null&&d!==void 0&&d.call(h))return;if(!a)u.push(f);else{var m="getMeta"in c?c.getMeta():null;a(m)&&u.push(f)}}),Dre(t.store,u.map(Aa))}),me(this,"getFieldValue",function(i){t.warningUnhooked();var r=Aa(i);return rh(t.store,r)}),me(this,"getFieldsError",function(i){t.warningUnhooked();var r=t.getFieldEntitiesForNamePathList(i);return r.map(function(s,a){return s&&!("INVALIDATE_NAME_PATH"in s)?{name:s.getNamePath(),errors:s.getErrors(),warnings:s.getWarnings()}:{name:Aa(i[a]),errors:[],warnings:[]}})}),me(this,"getFieldError",function(i){t.warningUnhooked();var r=Aa(i),s=t.getFieldsError([r])[0];return s.errors}),me(this,"getFieldWarning",function(i){t.warningUnhooked();var r=Aa(i),s=t.getFieldsError([r])[0];return s.warnings}),me(this,"isFieldsTouched",function(){t.warningUnhooked();for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];var a=r[0],o=r[1],l,u=!1;r.length===0?l=null:r.length===1?Array.isArray(a)?(l=a.map(Aa),u=!1):(l=null,u=a):(l=a.map(Aa),u=o);var c=t.getFieldEntities(!0),d=function(g){return g.isFieldTouched()};if(!l)return u?c.every(function(g){return d(g)||g.isList()}):c.some(d);var h=new IS;l.forEach(function(g){h.set(g,[])}),c.forEach(function(g){var m=g.getNamePath();l.forEach(function(v){v.every(function(_,y){return m[y]===_})&&h.update(v,function(_){return[].concat(Pt(_),[g])})})});var f=function(g){return g.some(d)},p=h.map(function(g){var m=g.value;return m});return u?p.every(f):p.some(f)}),me(this,"isFieldTouched",function(i){return t.warningUnhooked(),t.isFieldsTouched([i])}),me(this,"isFieldsValidating",function(i){t.warningUnhooked();var r=t.getFieldEntities();if(!i)return r.some(function(a){return a.isFieldValidating()});var s=i.map(Aa);return r.some(function(a){var o=a.getNamePath();return Aw(s,o)&&a.isFieldValidating()})}),me(this,"isFieldValidating",function(i){return t.warningUnhooked(),t.isFieldsValidating([i])}),me(this,"resetWithFieldInitialValue",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=new IS,s=t.getFieldEntities(!0);s.forEach(function(l){var u=l.props.initialValue,c=l.getNamePath();if(u!==void 0){var d=r.get(c)||new Set;d.add({entity:l,value:u}),r.set(c,d)}});var a=function(l){l.forEach(function(u){var c=u.props.initialValue;if(c!==void 0){var d=u.getNamePath(),h=t.getInitialValue(d);if(h!==void 0)dh(!1,"Form already set 'initialValues' with path '".concat(d.join("."),"'. Field can not overwrite it."));else{var f=r.get(d);if(f&&f.size>1)dh(!1,"Multiple Field with path '".concat(d.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(f){var p=t.getFieldValue(d),g=u.isListField();!g&&(!i.skipExist||p===void 0)&&t.updateStore(Hd(t.store,d,Pt(f)[0].value))}}}})},o;i.entities?o=i.entities:i.namePathList?(o=[],i.namePathList.forEach(function(l){var u=r.get(l);if(u){var c;(c=o).push.apply(c,Pt(Pt(u).map(function(d){return d.entity})))}})):o=s,a(o)}),me(this,"resetFields",function(i){t.warningUnhooked();var r=t.store;if(!i){t.updateStore(Nx(t.initialValues)),t.resetWithFieldInitialValue(),t.notifyObservers(r,null,{type:"reset"}),t.notifyWatch();return}var s=i.map(Aa);s.forEach(function(a){var o=t.getInitialValue(a);t.updateStore(Hd(t.store,a,o))}),t.resetWithFieldInitialValue({namePathList:s}),t.notifyObservers(r,s,{type:"reset"}),t.notifyWatch(s)}),me(this,"setFields",function(i){t.warningUnhooked();var r=t.store,s=[];i.forEach(function(a){var o=a.name,l=Ji(a,T9e),u=Aa(o);s.push(u),"value"in l&&t.updateStore(Hd(t.store,u,l.value)),t.notifyObservers(r,[u],{type:"setField",data:a})}),t.notifyWatch(s)}),me(this,"getFields",function(){var i=t.getFieldEntities(!0),r=i.map(function(s){var a=s.getNamePath(),o=s.getMeta(),l=Te(Te({},o),{},{name:a,value:t.getFieldValue(a)});return Object.defineProperty(l,"originRCField",{value:!0}),l});return r}),me(this,"initEntityValue",function(i){var r=i.props.initialValue;if(r!==void 0){var s=i.getNamePath(),a=rh(t.store,s);a===void 0&&t.updateStore(Hd(t.store,s,r))}}),me(this,"isMergedPreserve",function(i){var r=i!==void 0?i:t.preserve;return r??!0}),me(this,"registerField",function(i){t.fieldEntities.push(i);var r=i.getNamePath();if(t.notifyWatch([r]),i.props.initialValue!==void 0){var s=t.store;t.resetWithFieldInitialValue({entities:[i],skipExist:!0}),t.notifyObservers(s,[i.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(a,o){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t.fieldEntities=t.fieldEntities.filter(function(d){return d!==i}),!t.isMergedPreserve(o)&&(!a||l.length>1)){var u=a?void 0:t.getInitialValue(r);if(r.length&&t.getFieldValue(r)!==u&&t.fieldEntities.every(function(d){return!DSe(d.getNamePath(),r)})){var c=t.store;t.updateStore(Hd(c,r,u,!0)),t.notifyObservers(c,[r],{type:"remove"}),t.triggerDependenciesUpdate(c,r)}}t.notifyWatch([r])}}),me(this,"dispatch",function(i){switch(i.type){case"updateValue":{var r=i.namePath,s=i.value;t.updateValue(r,s);break}case"validateField":{var a=i.namePath,o=i.triggerName;t.validateFields([a],{triggerName:o});break}}}),me(this,"notifyObservers",function(i,r,s){if(t.subscribable){var a=Te(Te({},s),{},{store:t.getFieldsValue(!0)});t.getFieldEntities().forEach(function(o){var l=o.onStoreChange;l(i,r,a)})}else t.forceRootUpdate()}),me(this,"triggerDependenciesUpdate",function(i,r){var s=t.getDependencyChildrenFields(r);return s.length&&t.validateFields(s),t.notifyObservers(i,s,{type:"dependenciesUpdate",relatedFields:[r].concat(Pt(s))}),s}),me(this,"updateValue",function(i,r){var s=Aa(i),a=t.store;t.updateStore(Hd(t.store,s,r)),t.notifyObservers(a,[s],{type:"valueUpdate",source:"internal"}),t.notifyWatch([s]);var o=t.triggerDependenciesUpdate(a,s),l=t.callbacks.onValuesChange;if(l){var u=Dre(t.store,[s]);l(u,t.getFieldsValue())}t.triggerOnFieldsChange([s].concat(Pt(o)))}),me(this,"setFieldsValue",function(i){t.warningUnhooked();var r=t.store;if(i){var s=Nx(t.store,i);t.updateStore(s)}t.notifyObservers(r,null,{type:"valueUpdate",source:"external"}),t.notifyWatch()}),me(this,"setFieldValue",function(i,r){t.setFields([{name:i,value:r,errors:[],warnings:[]}])}),me(this,"getDependencyChildrenFields",function(i){var r=new Set,s=[],a=new IS;t.getFieldEntities().forEach(function(l){var u=l.props.dependencies;(u||[]).forEach(function(c){var d=Aa(c);a.update(d,function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return h.add(l),h})})});var o=function l(u){var c=a.get(u)||new Set;c.forEach(function(d){if(!r.has(d)){r.add(d);var h=d.getNamePath();d.isFieldDirty()&&h.length&&(s.push(h),l(h))}})};return o(i),s}),me(this,"triggerOnFieldsChange",function(i,r){var s=t.callbacks.onFieldsChange;if(s){var a=t.getFields();if(r){var o=new IS;r.forEach(function(u){var c=u.name,d=u.errors;o.set(c,d)}),a.forEach(function(u){u.errors=o.get(u.name)||u.errors})}var l=a.filter(function(u){var c=u.name;return Aw(i,c)});l.length&&s(l,a)}}),me(this,"validateFields",function(i,r){t.warningUnhooked();var s,a;Array.isArray(i)||typeof i=="string"||typeof r=="string"?(s=i,a=r):a=i;var o=!!s,l=o?s.map(Aa):[],u=[],c=String(Date.now()),d=new Set,h=a||{},f=h.recursive,p=h.dirty;t.getFieldEntities(!0).forEach(function(_){if(o||l.push(_.getNamePath()),!(!_.props.rules||!_.props.rules.length)&&!(p&&!_.isFieldDirty())){var y=_.getNamePath();if(d.add(y.join(c)),!o||Aw(l,y,f)){var x=_.validateRules(Te({validateMessages:Te(Te({},RSe),t.validateMessages)},a));u.push(x.then(function(){return{name:y,errors:[],warnings:[]}}).catch(function(w){var T,E=[],A=[];return(T=w.forEach)===null||T===void 0||T.call(w,function(k){var P=k.rule.warningOnly,I=k.errors;P?A.push.apply(A,Pt(I)):E.push.apply(E,Pt(I))}),E.length?Promise.reject({name:y,errors:E,warnings:A}):{name:y,errors:E,warnings:A}}))}}});var g=w9e(u);t.lastValidatePromise=g,g.catch(function(_){return _}).then(function(_){var y=_.map(function(x){var w=x.name;return w});t.notifyObservers(t.store,y,{type:"validateFinish"}),t.triggerOnFieldsChange(y,_)});var m=g.then(function(){return t.lastValidatePromise===g?Promise.resolve(t.getFieldsValue(l)):Promise.reject([])}).catch(function(_){var y=_.filter(function(x){return x&&x.errors.length});return Promise.reject({values:t.getFieldsValue(l),errorFields:y,outOfDate:t.lastValidatePromise!==g})});m.catch(function(_){return _});var v=l.filter(function(_){return d.has(_.join(c))});return t.triggerOnFieldsChange(v),m}),me(this,"submit",function(){t.warningUnhooked(),t.validateFields().then(function(i){var r=t.callbacks.onFinish;if(r)try{r(i)}catch(s){console.error(s)}}).catch(function(i){var r=t.callbacks.onFinishFailed;r&&r(i)})}),this.forceRootUpdate=e});function A9e(n){var e=Fre.useRef(),t=Fre.useState({}),i=Ve(t,2),r=i[1];if(!e.current)if(n)e.current=n;else{var s=function(){r({})},a=new E9e(s);e.current=a.getForm()}return[e.current]}var D9=A9e,Ed=ie(de()),_2=ie(de()),I6=_2.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),BSe=function(n){var e=n.validateMessages,t=n.onFormChange,i=n.onFormFinish,r=n.children,s=_2.useContext(I6),a=_2.useRef({});return _2.createElement(I6.Provider,{value:Te(Te({},s),{},{validateMessages:Te(Te({},s.validateMessages),e),triggerFormChange:function(o,l){t&&t(o,{changedFields:l,forms:a.current}),s.triggerFormChange(o,l)},triggerFormFinish:function(o,l){i&&i(o,{values:l,forms:a.current}),s.triggerFormFinish(o,l)},registerForm:function(o,l){o&&(a.current=Te(Te({},a.current),{},me({},o,l))),s.registerForm(o,l)},unregisterForm:function(o){var l=Te({},a.current);delete l[o],a.current=l,s.unregisterForm(o)}})},r)},k9e=I6,O9e=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],P9e=function(n,e){var t=n.name,i=n.initialValues,r=n.fields,s=n.form,a=n.preserve,o=n.children,l=n.component,u=l===void 0?"form":l,c=n.validateMessages,d=n.validateTrigger,h=d===void 0?"onChange":d,f=n.onValuesChange,p=n.onFieldsChange,g=n.onFinish,m=n.onFinishFailed,v=n.clearOnDestroy,_=Ji(n,O9e),y=Ed.useRef(null),x=Ed.useContext(k9e),w=D9(s),T=Ve(w,1),E=T[0],A=E.getInternalHooks(bb),k=A.useSubscribe,P=A.setInitialValues,I=A.setCallbacks,D=A.setValidateMessages,L=A.setPreserve,B=A.destroyForm;Ed.useImperativeHandle(e,function(){return Te(Te({},E),{},{nativeElement:y.current})}),Ed.useEffect(function(){return x.registerForm(t,E),function(){x.unregisterForm(t)}},[x,E,t]),D(Te(Te({},x.validateMessages),c)),I({onValuesChange:f,onFieldsChange:function(U){if(x.triggerFormChange(t,U),p){for(var X=arguments.length,Z=new Array(X>1?X-1:0),Q=1;Q<X;Q++)Z[Q-1]=arguments[Q];p.apply(void 0,[U].concat(Z))}},onFinish:function(U){x.triggerFormFinish(t,U),g&&g(U)},onFinishFailed:m}),L(a);var F=Ed.useRef(null);P(i,!F.current),F.current||(F.current=!0),Ed.useEffect(function(){return function(){return B(v)}},[]);var $,z=typeof o=="function";if(z){var N=E.getFieldsValue(!0);$=o(N,E)}else $=o;k(!z);var V=Ed.useRef();Ed.useEffect(function(){y9e(V.current||[],r||[])||E.setFields(r||[]),V.current=r},[r,E]);var H=Ed.useMemo(function(){return Te(Te({},E),{},{validateTrigger:h})},[E,h]),K=Ed.createElement(Hk.Provider,{value:null},Ed.createElement(d0.Provider,{value:H},$));return u===!1?K:Ed.createElement(u,wn({},_,{ref:y,onSubmit:function(U){U.preventDefault(),U.stopPropagation(),E.submit()},onReset:function(U){var X;U.preventDefault(),E.resetFields(),(X=_.onReset)===null||X===void 0||X.call(_,U)}}),K)},M9e=P9e,RS=ie(de());function Bre(n){try{return JSON.stringify(n)}catch{return Math.random()}}function I9e(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var i=e[0],r=e[1],s=r===void 0?{}:r,a=pKe(s)?{form:s}:s,o=a.form,l=(0,RS.useState)(),u=Ve(l,2),c=u[0],d=u[1],h=(0,RS.useMemo)(function(){return Bre(c)},[c]),f=(0,RS.useRef)(h);f.current=h;var p=(0,RS.useContext)(d0),g=o||p,m=g&&g._init,v=Aa(i),_=(0,RS.useRef)(v);return _.current=v,(0,RS.useEffect)(function(){if(m){var y=g.getFieldsValue,x=g.getInternalHooks,w=x(bb),T=w.registerWatch,E=function(P,I){var D=a.preserve?I:P;return typeof i=="function"?i(D):rh(D,_.current)},A=T(function(P,I){var D=E(P,I),L=Bre(D);f.current!==L&&(f.current=L,d(D))}),k=E(y(),y(!0));return c!==k&&d(k),A}},[m]),c}var $Se=I9e,R9e=uKe.forwardRef(M9e),h1=R9e;h1.FormProvider=BSe;h1.Field=R9;h1.List=LSe;h1.useForm=D9;h1.useWatch=$Se;var D9e=h1,Im=xm.createContext({labelAlign:"right",layout:"horizontal",itemRef:()=>{}}),NSe=xm.createContext(null),jSe=n=>{let e=Qy(n,["prefixCls"]);return xm.createElement(BSe,Object.assign({},e))},L9=xm.createContext({prefixCls:""}),pl=xm.createContext({}),zSe=({children:n,status:e,override:t})=>{let i=xm.useContext(pl),r=xm.useMemo(()=>{let s=Object.assign({},i);return t&&delete s.isFormItemInput,e&&(delete s.status,delete s.hasFeedback,delete s.feedbackIcon),s},[e,t,i]);return xm.createElement(pl.Provider,{value:r},n)},HSe=xm.createContext(void 0),L9e=n=>{let{space:e,form:t,children:i}=n;if(i==null)return null;let r=i;return t&&(r=Tre.default.createElement(zSe,{override:!0,status:!0},r)),e&&(r=Tre.default.createElement(bYe,null,r)),r},hC=L9e,F9e=n=>{let{componentCls:e}=n;return{[e]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},B9e=n=>{let{componentCls:e}=n;return{[e]:{position:"relative",maxWidth:"100%",minHeight:1}}},$9e=(n,e)=>{let{prefixCls:t,componentCls:i,gridColumns:r}=n,s={};for(let a=r;a>=0;a--)a===0?(s[`${i}${e}-${a}`]={display:"none"},s[`${i}-push-${a}`]={insetInlineStart:"auto"},s[`${i}-pull-${a}`]={insetInlineEnd:"auto"},s[`${i}${e}-push-${a}`]={insetInlineStart:"auto"},s[`${i}${e}-pull-${a}`]={insetInlineEnd:"auto"},s[`${i}${e}-offset-${a}`]={marginInlineStart:0},s[`${i}${e}-order-${a}`]={order:0}):(s[`${i}${e}-${a}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${a/r*100}%`,maxWidth:`${a/r*100}%`}],s[`${i}${e}-push-${a}`]={insetInlineStart:`${a/r*100}%`},s[`${i}${e}-pull-${a}`]={insetInlineEnd:`${a/r*100}%`},s[`${i}${e}-offset-${a}`]={marginInlineStart:`${a/r*100}%`},s[`${i}${e}-order-${a}`]={order:a});return s[`${i}${e}-flex`]={flex:`var(--${t}${e}-flex)`},s},R6=(n,e)=>$9e(n,e),N9e=(n,e,t)=>({[`@media (min-width: ${Rt(e)})`]:Object.assign({},R6(n,t))}),j9e=()=>({}),z9e=()=>({}),H9e=yl("Grid",F9e,j9e),V9e=n=>({xs:n.screenXSMin,sm:n.screenSMMin,md:n.screenMDMin,lg:n.screenLGMin,xl:n.screenXLMin,xxl:n.screenXXLMin}),W9e=yl("Grid",n=>{let e=Jr(n,{gridColumns:24}),t=V9e(e);return delete t.xs,[B9e(e),R6(e,""),R6(e,"-xs"),Object.keys(t).map(i=>N9e(e,t[i],`-${i}`)).reduce((i,r)=>Object.assign(Object.assign({},i),r),{})]},z9e),U9e=ie(de()),G9e=U9e.default.createContext({}),Ug=ie(de());function Y9e(n){return e=>Ug.createElement(mN,{theme:{token:{motion:!1,zIndexPopupBase:0}}},Ug.createElement(n,Object.assign({},e)))}var K9e=(n,e,t,i,r)=>Y9e(s=>{let{prefixCls:a,style:o}=s,l=Ug.useRef(null),[u,c]=Ug.useState(0),[d,h]=Ug.useState(0),[f,p]=ig(!1,{value:s.open}),{getPrefixCls:g}=Ug.useContext(er),m=g(i||"select",a);Ug.useEffect(()=>{if(p(!0),typeof ResizeObserver<"u"){let _=new ResizeObserver(x=>{let w=x[0].target;c(w.offsetHeight+8),h(w.offsetWidth)}),y=setInterval(()=>{var x;let w=r?`.${r(m)}`:`.${m}-dropdown`,T=(x=l.current)===null||x===void 0?void 0:x.querySelector(w);T&&(clearInterval(y),_.observe(T))},10);return()=>{clearInterval(y),_.disconnect()}}},[m]);let v=Object.assign(Object.assign({},s),{style:Object.assign(Object.assign({},o),{margin:0}),open:f,visible:f,getPopupContainer:()=>l.current});return t&&(v=t(v)),e&&Object.assign(v,{[e]:{overflow:{adjustX:!1,adjustY:!1}}}),Ug.createElement("div",{ref:l,style:{paddingBottom:u,position:"relative",minWidth:d}},Ug.createElement(n,Object.assign({},v)))}),X9e=K9e,Lv=ie(de()),$re=ie(zt()),Lo=ie(de()),Nre=ie(zt()),F9=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var n=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(n==null?void 0:n.substr(0,4))},Pr=ie(de()),jre=ie(de()),q9e=ie(zt()),Z9e=function(n){var e=n.className,t=n.customizeIcon,i=n.customizeIconProps,r=n.children,s=n.onMouseDown,a=n.onClick,o=typeof t=="function"?t(i):t;return jre.createElement("span",{className:e,onMouseDown:function(l){l.preventDefault(),s==null||s(l)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:a,"aria-hidden":!0},o!==void 0?o:jre.createElement("span",{className:(0,q9e.default)(e.split(/\s+/).map(function(l){return"".concat(l,"-icon")}))},r))},MN=Z9e,X5=ie(de()),Q9e=function(n,e,t,i,r){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,a=arguments.length>6?arguments[6]:void 0,o=arguments.length>7?arguments[7]:void 0,l=X5.default.useMemo(function(){if(bn(i)==="object")return i.clearIcon;if(r)return r},[i,r]),u=X5.default.useMemo(function(){return!!(!s&&i&&(t.length||a)&&!(o==="combobox"&&a===""))},[i,s,t.length,a,o]);return{allowClear:u,clearIcon:X5.default.createElement(MN,{className:"".concat(n,"-clear"),onMouseDown:e,customizeIcon:l},"")}},VSe=ie(de()),WSe=VSe.createContext(null);function J9e(){return VSe.useContext(WSe)}var q5=ie(de());function eXe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,e=q5.useState(!1),t=Ve(e,2),i=t[0],r=t[1],s=q5.useRef(null),a=function(){window.clearTimeout(s.current)};q5.useEffect(function(){return a},[]);var o=function(l,u){a(),s.current=window.setTimeout(function(){r(l),u&&u()},n)};return[i,o,a]}var Z5=ie(de());function USe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,e=Z5.useRef(null),t=Z5.useRef(null);Z5.useEffect(function(){return function(){window.clearTimeout(t.current)}},[]);function i(r){(r||e.current===null)&&(e.current=r),window.clearTimeout(t.current),t.current=window.setTimeout(function(){e.current=null},n)}return[function(){return e.current},i]}var zre=ie(de());function tXe(n,e,t,i){var r=zre.useRef(null);r.current={open:e,triggerOpen:t,customizedTrigger:i},zre.useEffect(function(){function s(a){var o;if(!((o=r.current)!==null&&o!==void 0&&o.customizedTrigger)){var l=a.target;l.shadowRoot&&a.composed&&(l=a.composedPath()[0]||l),r.current.open&&n().filter(function(u){return u}).every(function(u){return!u.contains(l)&&u!==l})&&r.current.triggerOpen(!1)}}return window.addEventListener("mousedown",s),function(){return window.removeEventListener("mousedown",s)}},[])}var vx=ie(de()),Q5=ie(de());function nXe(n){return n&&![Jn.ESC,Jn.SHIFT,Jn.BACKSPACE,Jn.TAB,Jn.WIN_KEY,Jn.ALT,Jn.META,Jn.WIN_KEY_RIGHT,Jn.CTRL,Jn.SEMICOLON,Jn.EQUALS,Jn.CAPS_LOCK,Jn.CONTEXT_MENU,Jn.F1,Jn.F2,Jn.F3,Jn.F4,Jn.F5,Jn.F6,Jn.F7,Jn.F8,Jn.F9,Jn.F10,Jn.F11,Jn.F12].includes(n)}var Wh=ie(de()),Hre=ie(de()),iXe=ie(zt()),dp=ie(de()),D_=ie(de()),rXe=ie(zt()),b2=ie(de()),sXe=ie(zt()),aXe=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],DS=void 0;function oXe(n,e){var t=n.prefixCls,i=n.invalidate,r=n.item,s=n.renderItem,a=n.responsive,o=n.responsiveDisabled,l=n.registerSize,u=n.itemKey,c=n.className,d=n.style,h=n.children,f=n.display,p=n.order,g=n.component,m=g===void 0?"div":g,v=Ji(n,aXe),_=a&&!f;function y(A){l(u,A)}b2.useEffect(function(){return function(){y(null)}},[]);var x=s&&r!==DS?s(r,{index:p}):h,w;i||(w={opacity:_?0:1,height:_?0:DS,overflowY:_?"hidden":DS,order:a?p:DS,pointerEvents:_?"none":DS,position:_?"absolute":DS});var T={};_&&(T["aria-hidden"]=!0);var E=b2.createElement(m,wn({className:(0,sXe.default)(!i&&t,c),style:Te(Te({},w),d)},T,v,{ref:e}),x);return a&&(E=b2.createElement(R0,{onResize:function(A){var k=A.offsetWidth;y(k)},disabled:o},E)),E}var GSe=b2.forwardRef(oXe);GSe.displayName="Item";var OE=GSe,YSe=ie(de()),lXe=ie(Xy());function uXe(n){if(typeof MessageChannel>"u")Zr(n);else{var e=new MessageChannel;e.port1.onmessage=function(){return n()},e.port2.postMessage(void 0)}}function cXe(){var n=YSe.useRef(null),e=function(t){n.current||(n.current=[],uXe(function(){(0,lXe.unstable_batchedUpdates)(function(){n.current.forEach(function(i){i()}),n.current=null})})),n.current.push(t)};return e}function LS(n,e){var t=YSe.useState(e),i=Ve(t,2),r=i[0],s=i[1],a=bo(function(o){n(function(){s(o)})});return[r,a]}var PE=ie(de()),dXe=ie(zt()),hXe=ie(de()),FL=hXe.default.createContext(null),fXe=["component"],pXe=["className"],gXe=["className"],mXe=function(n,e){var t=PE.useContext(FL);if(!t){var i=n.component,r=i===void 0?"div":i,s=Ji(n,fXe);return PE.createElement(r,wn({},s,{ref:e}))}var a=t.className,o=Ji(t,pXe),l=n.className,u=Ji(n,gXe);return PE.createElement(FL.Provider,{value:null},PE.createElement(OE,wn({ref:e,className:(0,dXe.default)(a,l)},o,u)))},KSe=PE.forwardRef(mXe);KSe.displayName="RawItem";var vXe=KSe,yXe=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","prefix","suffix","component","itemComponent","onVisibleChange"],XSe="responsive",qSe="invalidate";function _Xe(n){return"+ ".concat(n.length," ...")}function bXe(n,e){var t=n.prefixCls,i=t===void 0?"rc-overflow":t,r=n.data,s=r===void 0?[]:r,a=n.renderItem,o=n.renderRawItem,l=n.itemKey,u=n.itemWidth,c=u===void 0?10:u,d=n.ssr,h=n.style,f=n.className,p=n.maxCount,g=n.renderRest,m=n.renderRawRest,v=n.prefix,_=n.suffix,y=n.component,x=y===void 0?"div":y,w=n.itemComponent,T=n.onVisibleChange,E=Ji(n,yXe),A=d==="full",k=cXe(),P=LS(k,null),I=Ve(P,2),D=I[0],L=I[1],B=D||0,F=LS(k,new Map),$=Ve(F,2),z=$[0],N=$[1],V=LS(k,0),H=Ve(V,2),K=H[0],U=H[1],X=LS(k,0),Z=Ve(X,2),Q=Z[0],se=Z[1],ae=LS(k,0),ue=Ve(ae,2),oe=ue[0],re=ue[1],fe=LS(k,0),ve=Ve(fe,2),xe=ve[0],ye=ve[1],Ee=(0,D_.useState)(null),Se=Ve(Ee,2),Fe=Se[0],Ge=Se[1],Pe=(0,D_.useState)(null),je=Ve(Pe,2),qe=je[0],ot=je[1],$e=dp.useMemo(function(){return qe===null&&A?Number.MAX_SAFE_INTEGER:qe||0},[qe,D]),et=(0,D_.useState)(!1),Mt=Ve(et,2),Ct=Mt[0],tt=Mt[1],xt="".concat(i,"-item"),dt=Math.max(K,Q),bt=p===XSe,rt=s.length&&bt,Dt=p===qSe,Je=rt||typeof p=="number"&&s.length>p,At=(0,D_.useMemo)(function(){var Ue=s;return rt?D===null&&A?Ue=s:Ue=s.slice(0,Math.min(s.length,B/c)):typeof p=="number"&&(Ue=s.slice(0,p)),Ue},[s,c,D,p,rt]),Ft=(0,D_.useMemo)(function(){return rt?s.slice($e+1):s.slice(At.length)},[s,At,rt,$e]),on=(0,D_.useCallback)(function(Ue,ze){var it;return typeof l=="function"?l(Ue):(it=l&&(Ue==null?void 0:Ue[l]))!==null&&it!==void 0?it:ze},[l]),Wt=(0,D_.useCallback)(a||function(Ue){return Ue},[a]);function Cn(Ue,ze,it){qe===Ue&&(ze===void 0||ze===Fe)||(ot(Ue),it||(tt(Ue<s.length-1),T==null||T(Ue)),ze!==void 0&&Ge(ze))}function gn(Ue,ze){L(ze.clientWidth)}function Ln(Ue,ze){N(function(it){var St=new Map(it);return ze===null?St.delete(Ue):St.set(Ue,ze),St})}function gi(Ue,ze){se(ze),U(Q)}function ut(Ue,ze){re(ze)}function gt(Ue,ze){ye(ze)}function ct(Ue){return z.get(on(At[Ue],Ue))}Vr(function(){if(B&&typeof dt=="number"&&At){var Ue=oe+xe,ze=At.length,it=ze-1;if(!ze){Cn(0,null);return}for(var St=0;St<ze;St+=1){var Tt=ct(St);if(A&&(Tt=Tt||0),Tt===void 0){Cn(St-1,void 0,!0);break}if(Ue+=Tt,it===0&&Ue<=B||St===it-1&&Ue+ct(it)<=B){Cn(it,null);break}else if(Ue+dt>B){Cn(St-1,Ue-Tt-xe+Q);break}}_&&ct(0)+xe>B&&Ge(null)}},[B,z,Q,oe,xe,on,At]);var en=Ct&&!!Ft.length,Bt={};Fe!==null&&rt&&(Bt={position:"absolute",left:Fe,top:0});var Qt={prefixCls:xt,responsive:rt,component:w,invalidate:Dt},kn=o?function(Ue,ze){var it=on(Ue,ze);return dp.createElement(FL.Provider,{key:it,value:Te(Te({},Qt),{},{order:ze,item:Ue,itemKey:it,registerSize:Ln,display:ze<=$e})},o(Ue,ze))}:function(Ue,ze){var it=on(Ue,ze);return dp.createElement(OE,wn({},Qt,{order:ze,key:it,item:Ue,renderItem:Wt,itemKey:it,registerSize:Ln,display:ze<=$e}))},jt={order:en?$e:Number.MAX_SAFE_INTEGER,className:"".concat(xt,"-rest"),registerSize:gi,display:en},Ht=g||_Xe,kt=m?dp.createElement(FL.Provider,{value:Te(Te({},Qt),jt)},m(Ft)):dp.createElement(OE,wn({},Qt,jt),typeof Ht=="function"?Ht(Ft):Ht),Ze=dp.createElement(x,wn({className:(0,rXe.default)(!Dt&&i,f),style:h,ref:e},E),v&&dp.createElement(OE,wn({},Qt,{responsive:bt,responsiveDisabled:!rt,order:-1,className:"".concat(xt,"-prefix"),registerSize:ut,display:!0}),v),At.map(kn),Je?kt:null,_&&dp.createElement(OE,wn({},Qt,{responsive:bt,responsiveDisabled:!rt,order:$e,className:"".concat(xt,"-suffix"),registerSize:gt,display:!0,style:Bt}),_));return bt?dp.createElement(R0,{onResize:gn,disabled:!rt},Ze):Ze}var OP=dp.forwardRef(bXe);OP.displayName="Overflow";OP.Item=vXe;OP.RESPONSIVE=XSe;OP.INVALIDATE=qSe;var SXe=OP,xXe=SXe,D6=ie(de()),wXe=ie(zt());function CXe(n,e,t){var i=Te(Te({},n),t?e:{});return Object.keys(e).forEach(function(r){var s=e[r];typeof s=="function"&&(i[r]=function(){for(var a,o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];return s.apply(void 0,l),(a=n[r])===null||a===void 0?void 0:a.call.apply(a,[n].concat(l))})}),i}var TXe=CXe,EXe=["prefixCls","id","inputElement","autoFocus","autoComplete","editable","activeDescendantId","value","open","attrs"],AXe=function(n,e){var t=n.prefixCls,i=n.id,r=n.inputElement,s=n.autoFocus,a=n.autoComplete,o=n.editable,l=n.activeDescendantId,u=n.value,c=n.open,d=n.attrs,h=Ji(n,EXe),f=r||D6.createElement("input",null),p=f,g=p.ref,m=p.props;return"maxLength"in f.props,f=D6.cloneElement(f,Te(Te(Te({type:"search"},TXe(h,m,!0)),{},{id:i,ref:Th(e,g),autoComplete:a||"off",autoFocus:s,className:(0,wXe.default)("".concat(t,"-selection-search-input"),m==null?void 0:m.className),role:"combobox","aria-expanded":c||!1,"aria-haspopup":"listbox","aria-owns":"".concat(i,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(i,"_list"),"aria-activedescendant":c?l:void 0},d),{},{value:o?u:"",readOnly:!o,unselectable:o?null:"on",style:Te(Te({},m.style),{},{opacity:o?null:0})})),f},kXe=D6.forwardRef(AXe),ZSe=kXe,Vre=ie(de());function QSe(n){return Array.isArray(n)?n:n!==void 0?[n]:[]}var OXe=typeof window<"u"&&window.document&&window.document.documentElement,PXe=OXe;function MXe(n){return n!=null}function IXe(n){return!n&&n!==0}function Wre(n){return["string","number"].includes(bn(n))}function JSe(n){var e=void 0;return n&&(Wre(n.title)?e=n.title.toString():Wre(n.label)&&(e=n.label.toString())),e}function RXe(n,e){PXe?Vre.useLayoutEffect(n,e):Vre.useEffect(n,e)}function DXe(n){var e;return(e=n.key)!==null&&e!==void 0?e:n.value}var Ure=function(n){n.preventDefault(),n.stopPropagation()},LXe=function(n){var e=n.id,t=n.prefixCls,i=n.values,r=n.open,s=n.searchValue,a=n.autoClearSearchValue,o=n.inputRef,l=n.placeholder,u=n.disabled,c=n.mode,d=n.showSearch,h=n.autoFocus,f=n.autoComplete,p=n.activeDescendantId,g=n.tabIndex,m=n.removeIcon,v=n.maxTagCount,_=n.maxTagTextLength,y=n.maxTagPlaceholder,x=y===void 0?function(xe){return"+ ".concat(xe.length," ...")}:y,w=n.tagRender,T=n.onToggleOpen,E=n.onRemove,A=n.onInputChange,k=n.onInputPaste,P=n.onInputKeyDown,I=n.onInputMouseDown,D=n.onInputCompositionStart,L=n.onInputCompositionEnd,B=n.onInputBlur,F=Wh.useRef(null),$=(0,Hre.useState)(0),z=Ve($,2),N=z[0],V=z[1],H=(0,Hre.useState)(!1),K=Ve(H,2),U=K[0],X=K[1],Z="".concat(t,"-selection"),Q=r||c==="multiple"&&a===!1||c==="tags"?s:"",se=c==="tags"||c==="multiple"&&a===!1||d&&(r||U);RXe(function(){V(F.current.scrollWidth)},[Q]);var ae=function(xe,ye,Ee,Se,Fe){return Wh.createElement("span",{title:JSe(xe),className:(0,iXe.default)("".concat(Z,"-item"),me({},"".concat(Z,"-item-disabled"),Ee))},Wh.createElement("span",{className:"".concat(Z,"-item-content")},ye),Se&&Wh.createElement(MN,{className:"".concat(Z,"-item-remove"),onMouseDown:Ure,onClick:Fe,customizeIcon:m},""))},ue=function(xe,ye,Ee,Se,Fe,Ge){var Pe=function(je){Ure(je),T(!r)};return Wh.createElement("span",{onMouseDown:Pe},w({label:ye,value:xe,disabled:Ee,closable:Se,onClose:Fe,isMaxTag:!!Ge}))},oe=function(xe){var ye=xe.disabled,Ee=xe.label,Se=xe.value,Fe=!u&&!ye,Ge=Ee;if(typeof _=="number"&&(typeof Ee=="string"||typeof Ee=="number")){var Pe=String(Ge);Pe.length>_&&(Ge="".concat(Pe.slice(0,_),"..."))}var je=function(qe){qe&&qe.stopPropagation(),E(xe)};return typeof w=="function"?ue(Se,Ge,ye,Fe,je):ae(xe,Ge,ye,Fe,je)},re=function(xe){if(!i.length)return null;var ye=typeof x=="function"?x(xe):x;return typeof w=="function"?ue(void 0,ye,!1,!1,void 0,!0):ae({title:ye},ye,!1)},fe=Wh.createElement("div",{className:"".concat(Z,"-search"),style:{width:N},onFocus:function(){X(!0)},onBlur:function(){X(!1)}},Wh.createElement(ZSe,{ref:o,open:r,prefixCls:t,id:e,inputElement:null,disabled:u,autoFocus:h,autoComplete:f,editable:se,activeDescendantId:p,value:Q,onKeyDown:P,onMouseDown:I,onChange:A,onPaste:k,onCompositionStart:D,onCompositionEnd:L,onBlur:B,tabIndex:g,attrs:u0(n,!0)}),Wh.createElement("span",{ref:F,className:"".concat(Z,"-search-mirror"),"aria-hidden":!0},Q,"")),ve=Wh.createElement(xXe,{prefixCls:"".concat(Z,"-overflow"),data:i,renderItem:oe,renderRest:re,suffix:fe,itemKey:DXe,maxCount:v});return Wh.createElement("span",{className:"".concat(Z,"-wrap")},ve,!i.length&&!Q&&Wh.createElement("span",{className:"".concat(Z,"-placeholder")},l))},FXe=LXe,mv=ie(de()),BXe=function(n){var e=n.inputElement,t=n.prefixCls,i=n.id,r=n.inputRef,s=n.disabled,a=n.autoFocus,o=n.autoComplete,l=n.activeDescendantId,u=n.mode,c=n.open,d=n.values,h=n.placeholder,f=n.tabIndex,p=n.showSearch,g=n.searchValue,m=n.activeValue,v=n.maxLength,_=n.onInputKeyDown,y=n.onInputMouseDown,x=n.onInputChange,w=n.onInputPaste,T=n.onInputCompositionStart,E=n.onInputCompositionEnd,A=n.onInputBlur,k=n.title,P=mv.useState(!1),I=Ve(P,2),D=I[0],L=I[1],B=u==="combobox",F=B||p,$=d[0],z=g||"";B&&m&&!D&&(z=m),mv.useEffect(function(){B&&L(!1)},[B,m]);var N=u!=="combobox"&&!c&&!p?!1:!!z,V=k===void 0?JSe($):k,H=mv.useMemo(function(){return $?null:mv.createElement("span",{className:"".concat(t,"-selection-placeholder"),style:N?{visibility:"hidden"}:void 0},h)},[$,N,h,t]);return mv.createElement("span",{className:"".concat(t,"-selection-wrap")},mv.createElement("span",{className:"".concat(t,"-selection-search")},mv.createElement(ZSe,{ref:r,prefixCls:t,id:i,open:c,inputElement:e,disabled:s,autoFocus:a,autoComplete:o,editable:F,activeDescendantId:l,value:z,onKeyDown:_,onMouseDown:y,onChange:function(K){L(!0),x(K)},onPaste:w,onCompositionStart:T,onCompositionEnd:E,onBlur:A,tabIndex:f,attrs:u0(n,!0),maxLength:B?v:void 0})),!B&&$?mv.createElement("span",{className:"".concat(t,"-selection-item"),title:V,style:N?{visibility:"hidden"}:void 0},$.label):null,H)},$Xe=BXe,NXe=function(n,e){var t=(0,Q5.useRef)(null),i=(0,Q5.useRef)(!1),r=n.prefixCls,s=n.open,a=n.mode,o=n.showSearch,l=n.tokenWithEnter,u=n.disabled,c=n.prefix,d=n.autoClearSearchValue,h=n.onSearch,f=n.onSearchSubmit,p=n.onToggleOpen,g=n.onInputKeyDown,m=n.onInputBlur,v=n.domRef;vx.useImperativeHandle(e,function(){return{focus:function(N){t.current.focus(N)},blur:function(){t.current.blur()}}});var _=USe(0),y=Ve(_,2),x=y[0],w=y[1],T=function(N){var V=N.which,H=t.current instanceof HTMLTextAreaElement;!H&&s&&(V===Jn.UP||V===Jn.DOWN)&&N.preventDefault(),g&&g(N),V===Jn.ENTER&&a==="tags"&&!i.current&&!s&&(f==null||f(N.target.value)),!(H&&!s&&~[Jn.UP,Jn.DOWN,Jn.LEFT,Jn.RIGHT].indexOf(V))&&nXe(V)&&p(!0)},E=function(){w(!0)},A=(0,Q5.useRef)(null),k=function(N){h(N,!0,i.current)!==!1&&p(!0)},P=function(){i.current=!0},I=function(N){i.current=!1,a!=="combobox"&&k(N.target.value)},D=function(N){var V=N.target.value;if(l&&A.current&&/[\r\n]/.test(A.current)){var H=A.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");V=V.replace(H,A.current)}A.current=null,k(V)},L=function(N){var V=N.clipboardData,H=V==null?void 0:V.getData("text");A.current=H||""},B=function(N){var V=N.target;if(V!==t.current){var H=document.body.style.msTouchAction!==void 0;H?setTimeout(function(){t.current.focus()}):t.current.focus()}},F=function(N){var V=x();N.target!==t.current&&!V&&!(a==="combobox"&&u)&&N.preventDefault(),(a!=="combobox"&&(!o||!V)||!s)&&(s&&d!==!1&&h("",!0,!1),p())},$={inputRef:t,onInputKeyDown:T,onInputMouseDown:E,onInputChange:D,onInputPaste:L,onInputCompositionStart:P,onInputCompositionEnd:I,onInputBlur:m},z=a==="multiple"||a==="tags"?vx.createElement(FXe,wn({},n,$)):vx.createElement($Xe,wn({},n,$));return vx.createElement("div",{ref:v,className:"".concat(r,"-selector"),onClick:B,onMouseDown:F},c&&vx.createElement("div",{className:"".concat(r,"-prefix")},c),z)},jXe=vx.forwardRef(NXe),zXe=jXe,J5=ie(zt()),Mr=ie(de()),HXe=ie(zt()),Dg=ie(de()),VXe=ie(zt()),Gre=ie(de());function WXe(n){var e=n.prefixCls,t=n.align,i=n.arrow,r=n.arrowPos,s=i||{},a=s.className,o=s.content,l=r.x,u=l===void 0?0:l,c=r.y,d=c===void 0?0:c,h=Gre.useRef();if(!t||!t.points)return null;var f={position:"absolute"};if(t.autoArrow!==!1){var p=t.points[0],g=t.points[1],m=p[0],v=p[1],_=g[0],y=g[1];m===_||!["t","b"].includes(m)?f.top=d:m==="t"?f.top=0:f.bottom=0,v===y||!["l","r"].includes(v)?f.left=u:v==="l"?f.left=0:f.right=0}return Gre.createElement("div",{ref:h,className:(0,VXe.default)("".concat(e,"-arrow"),a),style:f},o)}var UXe=ie(zt()),Yre=ie(de());function GXe(n){var e=n.prefixCls,t=n.open,i=n.zIndex,r=n.mask,s=n.motion;return r?Yre.createElement(EP,wn({},s,{motionAppear:!0,visible:t,removeOnLeave:!0}),function(a){var o=a.className;return Yre.createElement("div",{style:{zIndex:i},className:(0,UXe.default)("".concat(e,"-mask"),o)})}):null}var YXe=ie(de()),KXe=YXe.memo(function(n){var e=n.children;return e},function(n,e){return e.cache}),XXe=KXe,qXe=Dg.forwardRef(function(n,e){var t=n.popup,i=n.className,r=n.prefixCls,s=n.style,a=n.target,o=n.onVisibleChanged,l=n.open,u=n.keepDom,c=n.fresh,d=n.onClick,h=n.mask,f=n.arrow,p=n.arrowPos,g=n.align,m=n.motion,v=n.maskMotion,_=n.forceRender,y=n.getPopupContainer,x=n.autoDestroy,w=n.portal,T=n.zIndex,E=n.onMouseEnter,A=n.onMouseLeave,k=n.onPointerEnter,P=n.onPointerDownCapture,I=n.ready,D=n.offsetX,L=n.offsetY,B=n.offsetR,F=n.offsetB,$=n.onAlign,z=n.onPrepare,N=n.stretch,V=n.targetWidth,H=n.targetHeight,K=typeof t=="function"?t():t,U=l||u,X=(y==null?void 0:y.length)>0,Z=Dg.useState(!y||!X),Q=Ve(Z,2),se=Q[0],ae=Q[1];if(Vr(function(){!se&&X&&a&&ae(!0)},[se,X,a]),!se)return null;var ue="auto",oe={left:"-1000vw",top:"-1000vh",right:ue,bottom:ue};if(I||!l){var re,fe=g.points,ve=g.dynamicInset||((re=g._experimental)===null||re===void 0?void 0:re.dynamicInset),xe=ve&&fe[0][1]==="r",ye=ve&&fe[0][0]==="b";xe?(oe.right=B,oe.left=ue):(oe.left=D,oe.right=ue),ye?(oe.bottom=F,oe.top=ue):(oe.top=L,oe.bottom=ue)}var Ee={};return N&&(N.includes("height")&&H?Ee.height=H:N.includes("minHeight")&&H&&(Ee.minHeight=H),N.includes("width")&&V?Ee.width=V:N.includes("minWidth")&&V&&(Ee.minWidth=V)),l||(Ee.pointerEvents="none"),Dg.createElement(w,{open:_||U,getContainer:y&&function(){return y(a)},autoDestroy:x},Dg.createElement(GXe,{prefixCls:r,open:l,zIndex:T,mask:h,motion:v}),Dg.createElement(R0,{onResize:$,disabled:!l},function(Se){return Dg.createElement(EP,wn({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:_,leavedClassName:"".concat(r,"-hidden")},m,{onAppearPrepare:z,onEnterPrepare:z,visible:l,onVisibleChanged:function(Fe){var Ge;m==null||(Ge=m.onVisibleChanged)===null||Ge===void 0||Ge.call(m,Fe),o(Fe)}}),function(Fe,Ge){var Pe=Fe.className,je=Fe.style,qe=(0,HXe.default)(r,Pe,i);return Dg.createElement("div",{ref:Th(Se,e,Ge),className:qe,style:Te(Te(Te(Te({"--arrow-x":"".concat(p.x||0,"px"),"--arrow-y":"".concat(p.y||0,"px")},oe),Ee),je),{},{boxSizing:"border-box",zIndex:T},s),onMouseEnter:E,onMouseLeave:A,onPointerEnter:k,onClick:d,onPointerDownCapture:P},f&&Dg.createElement(WXe,{prefixCls:r,arrow:f,arrowPos:p,align:g}),Dg.createElement(XXe,{cache:!l&&!c},K))})}))}),ZXe=qXe,eV=ie(de()),QXe=eV.forwardRef(function(n,e){var t=n.children,i=n.getTriggerDOMNode,r=l1(t),s=eV.useCallback(function(o){l9(e,i?i(o):o)},[i]),a=SP(s,xP(t));return r?eV.cloneElement(t,{ref:a}):t}),JXe=QXe,eqe=ie(de()),tqe=eqe.createContext(null),Kre=tqe,nqe=ie(de());function Xre(n){return n?Array.isArray(n)?n:[n]:[]}function iqe(n,e,t,i){return nqe.useMemo(function(){var r=Xre(t??e),s=Xre(i??e),a=new Set(r),o=new Set(s);return n&&(a.has("hover")&&(a.delete("hover"),a.add("click")),o.has("hover")&&(o.delete("hover"),o.add("click"))),[a,o]},[n,e,t,i])}var ER=ie(de());function rqe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0;return t?n[0]===e[0]:n[0]===e[0]&&n[1]===e[1]}function sqe(n,e,t,i){for(var r=t.points,s=Object.keys(n),a=0;a<s.length;a+=1){var o,l=s[a];if(rqe((o=n[l])===null||o===void 0?void 0:o.points,r,i))return"".concat(e,"-placement-").concat(l)}return""}function qre(n,e,t,i){return e||(t?{motionName:"".concat(n,"-").concat(t)}:i?{motionName:i}:null)}function PP(n){return n.ownerDocument.defaultView}function L6(n){for(var e=[],t=n==null?void 0:n.parentElement,i=["hidden","scroll","clip","auto"];t;){var r=PP(t).getComputedStyle(t),s=r.overflowX,a=r.overflowY,o=r.overflow;[s,a,o].some(function(l){return i.includes(l)})&&e.push(t),t=t.parentElement}return e}function Vk(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(n)?e:n}function zT(n){return Vk(parseFloat(n),0)}function Zre(n,e){var t=Te({},n);return(e||[]).forEach(function(i){if(!(i instanceof HTMLBodyElement||i instanceof HTMLHtmlElement)){var r=PP(i).getComputedStyle(i),s=r.overflow,a=r.overflowClipMargin,o=r.borderTopWidth,l=r.borderBottomWidth,u=r.borderLeftWidth,c=r.borderRightWidth,d=i.getBoundingClientRect(),h=i.offsetHeight,f=i.clientHeight,p=i.offsetWidth,g=i.clientWidth,m=zT(o),v=zT(l),_=zT(u),y=zT(c),x=Vk(Math.round(d.width/p*1e3)/1e3),w=Vk(Math.round(d.height/h*1e3)/1e3),T=(p-g-_-y)*x,E=(h-f-m-v)*w,A=m*w,k=v*w,P=_*x,I=y*x,D=0,L=0;if(s==="clip"){var B=zT(a);D=B*x,L=B*w}var F=d.x+P-D,$=d.y+A-L,z=F+d.width+2*D-P-I-T,N=$+d.height+2*L-A-k-E;t.left=Math.max(t.left,F),t.top=Math.max(t.top,$),t.right=Math.min(t.right,z),t.bottom=Math.min(t.bottom,N)}}),t}function Qre(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t="".concat(e),i=t.match(/^(.*)\%$/);return i?n*(parseFloat(i[1])/100):parseFloat(t)}function Jre(n,e){var t=e||[],i=Ve(t,2),r=i[0],s=i[1];return[Qre(n.width,r),Qre(n.height,s)]}function ese(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[n[0],n[1]]}function FS(n,e){var t=e[0],i=e[1],r,s;return t==="t"?s=n.y:t==="b"?s=n.y+n.height:s=n.y+n.height/2,i==="l"?r=n.x:i==="r"?r=n.x+n.width:r=n.x+n.width/2,{x:r,y:s}}function vv(n,e){var t={t:"b",b:"t",l:"r",r:"l"};return n.map(function(i,r){return r===e?t[i]||"c":i}).join("")}function aqe(n,e,t,i,r,s,a){var o=ER.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:r[i]||{}}),l=Ve(o,2),u=l[0],c=l[1],d=ER.useRef(0),h=ER.useMemo(function(){return e?L6(e):[]},[e]),f=ER.useRef({}),p=function(){f.current={}};n||p();var g=bo(function(){if(e&&t&&n){let Jo=function(su,Tl){var Ka=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Mt,uo=U.x+su,Tc=U.y+Tl,Ec=uo+ye,$u=Tc+xe,Hf=Math.max(uo,Ka.left),$t=Math.max(Tc,Ka.top),Gn=Math.min(Ec,Ka.right),Os=Math.min($u,Ka.bottom);return Math.max(0,(Gn-Hf)*(Os-$t))},md=function(){wr=U.y+Ht,as=wr+xe,vs=U.x+jt,es=vs+ye};var _,y,x,w,T=e,E=T.ownerDocument,A=PP(T),k=A.getComputedStyle(T),P=k.position,I=T.style.left,D=T.style.top,L=T.style.right,B=T.style.bottom,F=T.style.overflow,$=Te(Te({},r[i]),s),z=E.createElement("div");(_=T.parentElement)===null||_===void 0||_.appendChild(z),z.style.left="".concat(T.offsetLeft,"px"),z.style.top="".concat(T.offsetTop,"px"),z.style.position=P,z.style.height="".concat(T.offsetHeight,"px"),z.style.width="".concat(T.offsetWidth,"px"),T.style.left="0",T.style.top="0",T.style.right="auto",T.style.bottom="auto",T.style.overflow="hidden";var N;if(Array.isArray(t))N={x:t[0],y:t[1],width:0,height:0};else{var V,H,K=t.getBoundingClientRect();K.x=(V=K.x)!==null&&V!==void 0?V:K.left,K.y=(H=K.y)!==null&&H!==void 0?H:K.top,N={x:K.x,y:K.y,width:K.width,height:K.height}}var U=T.getBoundingClientRect(),X=A.getComputedStyle(T),Z=X.height,Q=X.width;U.x=(y=U.x)!==null&&y!==void 0?y:U.left,U.y=(x=U.y)!==null&&x!==void 0?x:U.top;var se=E.documentElement,ae=se.clientWidth,ue=se.clientHeight,oe=se.scrollWidth,re=se.scrollHeight,fe=se.scrollTop,ve=se.scrollLeft,xe=U.height,ye=U.width,Ee=N.height,Se=N.width,Fe={left:0,top:0,right:ae,bottom:ue},Ge={left:-ve,top:-fe,right:oe-ve,bottom:re-fe},Pe=$.htmlRegion,je="visible",qe="visibleFirst";Pe!=="scroll"&&Pe!==qe&&(Pe=je);var ot=Pe===qe,$e=Zre(Ge,h),et=Zre(Fe,h),Mt=Pe===je?et:$e,Ct=ot?et:Mt;T.style.left="auto",T.style.top="auto",T.style.right="0",T.style.bottom="0";var tt=T.getBoundingClientRect();T.style.left=I,T.style.top=D,T.style.right=L,T.style.bottom=B,T.style.overflow=F,(w=T.parentElement)===null||w===void 0||w.removeChild(z);var xt=Vk(Math.round(ye/parseFloat(Q)*1e3)/1e3),dt=Vk(Math.round(xe/parseFloat(Z)*1e3)/1e3);if(xt===0||dt===0||Ik(t)&&!T9(t))return;var bt=$.offset,rt=$.targetOffset,Dt=Jre(U,bt),Je=Ve(Dt,2),At=Je[0],Ft=Je[1],on=Jre(N,rt),Wt=Ve(on,2),Cn=Wt[0],gn=Wt[1];N.x-=Cn,N.y-=gn;var Ln=$.points||[],gi=Ve(Ln,2),ut=gi[0],gt=gi[1],ct=ese(gt),en=ese(ut),Bt=FS(N,ct),Qt=FS(U,en),kn=Te({},$),jt=Bt.x-Qt.x+At,Ht=Bt.y-Qt.y+Ft,kt=Jo(jt,Ht),Ze=Jo(jt,Ht,et),Ue=FS(N,["t","l"]),ze=FS(U,["t","l"]),it=FS(N,["b","r"]),St=FS(U,["b","r"]),Tt=$.overflow||{},$n=Tt.adjustX,bi=Tt.adjustY,ti=Tt.shiftX,Si=Tt.shiftY,Bi=function(su){return typeof su=="boolean"?su:su>=0},wr,as,vs,es;md();var Sl=Bi(bi),yt=en[0]===ct[0];if(Sl&&en[0]==="t"&&(as>Ct.bottom||f.current.bt)){var Yt=Ht;yt?Yt-=xe-Ee:Yt=Ue.y-St.y-Ft;var ci=Jo(jt,Yt),tr=Jo(jt,Yt,et);ci>kt||ci===kt&&(!ot||tr>=Ze)?(f.current.bt=!0,Ht=Yt,Ft=-Ft,kn.points=[vv(en,0),vv(ct,0)]):f.current.bt=!1}if(Sl&&en[0]==="b"&&(wr<Ct.top||f.current.tb)){var Sn=Ht;yt?Sn+=xe-Ee:Sn=it.y-ze.y-Ft;var eu=Jo(jt,Sn),ao=Jo(jt,Sn,et);eu>kt||eu===kt&&(!ot||ao>=Ze)?(f.current.tb=!0,Ht=Sn,Ft=-Ft,kn.points=[vv(en,0),vv(ct,0)]):f.current.tb=!1}var tu=Bi($n),xl=en[1]===ct[1];if(tu&&en[1]==="l"&&(es>Ct.right||f.current.rl)){var Oo=jt;xl?Oo-=ye-Se:Oo=Ue.x-St.x-At;var oo=Jo(Oo,Ht),Zo=Jo(Oo,Ht,et);oo>kt||oo===kt&&(!ot||Zo>=Ze)?(f.current.rl=!0,jt=Oo,At=-At,kn.points=[vv(en,1),vv(ct,1)]):f.current.rl=!1}if(tu&&en[1]==="r"&&(vs<Ct.left||f.current.lr)){var os=jt;xl?os+=ye-Se:os=it.x-ze.x-At;var Lh=Jo(os,Ht),Ws=Jo(os,Ht,et);Lh>kt||Lh===kt&&(!ot||Ws>=Ze)?(f.current.lr=!0,jt=os,At=-At,kn.points=[vv(en,1),vv(ct,1)]):f.current.lr=!1}md();var Ga=ti===!0?0:ti;typeof Ga=="number"&&(vs<et.left&&(jt-=vs-et.left-At,N.x+Se<et.left+Ga&&(jt+=N.x-et.left+Se-Ga)),es>et.right&&(jt-=es-et.right-At,N.x>et.right-Ga&&(jt+=N.x-et.right+Ga)));var nu=Si===!0?0:Si;typeof nu=="number"&&(wr<et.top&&(Ht-=wr-et.top-Ft,N.y+Ee<et.top+nu&&(Ht+=N.y-et.top+Ee-nu)),as>et.bottom&&(Ht-=as-et.bottom-Ft,N.y>et.bottom-nu&&(Ht+=N.y-et.bottom+nu)));var wl=U.x+jt,Qo=wl+ye,iu=U.y+Ht,Po=iu+xe,sn=N.x,zi=sn+Se,Lr=N.y,Ki=Lr+Ee,ys=Math.max(wl,sn),Us=Math.min(Qo,zi),Gs=(ys+Us)/2,Cl=Gs-wl,ks=Math.max(iu,Lr),ni=Math.min(Po,Ki),Cc=(ks+ni)/2,lo=Cc-iu;a==null||a(e,kn);var Ya=tt.right-U.x-(jt+U.width),zf=tt.bottom-U.y-(Ht+U.height);xt===1&&(jt=Math.round(jt),Ya=Math.round(Ya)),dt===1&&(Ht=Math.round(Ht),zf=Math.round(zf));var ru={ready:!0,offsetX:jt/xt,offsetY:Ht/dt,offsetR:Ya/xt,offsetB:zf/dt,arrowX:Cl/xt,arrowY:lo/dt,scaleX:xt,scaleY:dt,align:kn};c(ru)}}),m=function(){d.current+=1;var _=d.current;Promise.resolve().then(function(){d.current===_&&g()})},v=function(){c(function(_){return Te(Te({},_),{},{ready:!1})})};return Vr(v,[i]),Vr(function(){n||v()},[n]),[u.ready,u.offsetX,u.offsetY,u.offsetR,u.offsetB,u.arrowX,u.arrowY,u.scaleX,u.scaleY,u.align,m]}function oqe(n,e,t,i,r){Vr(function(){if(n&&e&&t){let d=function(){i(),r()};var s=e,a=t,o=L6(s),l=L6(a),u=PP(a),c=new Set([u].concat(Pt(o),Pt(l)));return c.forEach(function(h){h.addEventListener("scroll",d,{passive:!0})}),u.addEventListener("resize",d,{passive:!0}),i(),function(){c.forEach(function(h){h.removeEventListener("scroll",d),u.removeEventListener("resize",d)})}}},[n,e,t])}var tV=ie(de());function lqe(n,e,t,i,r,s,a,o){var l=tV.useRef(n);l.current=n;var u=tV.useRef(!1);tV.useEffect(function(){if(e&&i&&(!r||s)){var d=function(){u.current=!1},h=function(g){var m;l.current&&!a(((m=g.composedPath)===null||m===void 0||(m=m.call(g))===null||m===void 0?void 0:m[0])||g.target)&&!u.current&&o(!1)},f=PP(i);f.addEventListener("pointerdown",d,!0),f.addEventListener("mousedown",h,!0),f.addEventListener("contextmenu",h,!0);var p=PL(t);return p&&(p.addEventListener("mousedown",h,!0),p.addEventListener("contextmenu",h,!0)),function(){f.removeEventListener("pointerdown",d,!0),f.removeEventListener("mousedown",h,!0),f.removeEventListener("contextmenu",h,!0),p&&(p.removeEventListener("mousedown",h,!0),p.removeEventListener("contextmenu",h,!0))}}},[e,t,i,r,s]);function c(){u.current=!0}return c}var uqe=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function cqe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:MSe,e=Mr.forwardRef(function(t,i){var r=t.prefixCls,s=r===void 0?"rc-trigger-popup":r,a=t.children,o=t.action,l=o===void 0?"hover":o,u=t.showAction,c=t.hideAction,d=t.popupVisible,h=t.defaultPopupVisible,f=t.onPopupVisibleChange,p=t.afterPopupVisibleChange,g=t.mouseEnterDelay,m=t.mouseLeaveDelay,v=m===void 0?.1:m,_=t.focusDelay,y=t.blurDelay,x=t.mask,w=t.maskClosable,T=w===void 0?!0:w,E=t.getPopupContainer,A=t.forceRender,k=t.autoDestroy,P=t.destroyPopupOnHide,I=t.popup,D=t.popupClassName,L=t.popupStyle,B=t.popupPlacement,F=t.builtinPlacements,$=F===void 0?{}:F,z=t.popupAlign,N=t.zIndex,V=t.stretch,H=t.getPopupClassNameFromAlign,K=t.fresh,U=t.alignPoint,X=t.onPopupClick,Z=t.onPopupAlign,Q=t.arrow,se=t.popupMotion,ae=t.maskMotion,ue=t.popupTransitionName,oe=t.popupAnimation,re=t.maskTransitionName,fe=t.maskAnimation,ve=t.className,xe=t.getTriggerDOMNode,ye=Ji(t,uqe),Ee=k||P||!1,Se=Mr.useState(!1),Fe=Ve(Se,2),Ge=Fe[0],Pe=Fe[1];Vr(function(){Pe(F9())},[]);var je=Mr.useRef({}),qe=Mr.useContext(Kre),ot=Mr.useMemo(function(){return{registerSubPopup:function($t,Gn){je.current[$t]=Gn,qe==null||qe.registerSubPopup($t,Gn)}}},[qe]),$e=M9(),et=Mr.useState(null),Mt=Ve(et,2),Ct=Mt[0],tt=Mt[1],xt=Mr.useRef(null),dt=bo(function($t){xt.current=$t,Ik($t)&&Ct!==$t&&tt($t),qe==null||qe.registerSubPopup($e,$t)}),bt=Mr.useState(null),rt=Ve(bt,2),Dt=rt[0],Je=rt[1],At=Mr.useRef(null),Ft=bo(function($t){Ik($t)&&Dt!==$t&&(Je($t),At.current=$t)}),on=Mr.Children.only(a),Wt=(on==null?void 0:on.props)||{},Cn={},gn=bo(function($t){var Gn,Os,Ys=Dt;return(Ys==null?void 0:Ys.contains($t))||((Gn=PL(Ys))===null||Gn===void 0?void 0:Gn.host)===$t||$t===Ys||(Ct==null?void 0:Ct.contains($t))||((Os=PL(Ct))===null||Os===void 0?void 0:Os.host)===$t||$t===Ct||Object.values(je.current).some(function(Fr){return(Fr==null?void 0:Fr.contains($t))||$t===Fr})}),Ln=qre(s,se,oe,ue),gi=qre(s,ae,fe,re),ut=Mr.useState(h||!1),gt=Ve(ut,2),ct=gt[0],en=gt[1],Bt=d??ct,Qt=bo(function($t){d===void 0&&en($t)});Vr(function(){en(d||!1)},[d]);var kn=Mr.useRef(Bt);kn.current=Bt;var jt=Mr.useRef([]);jt.current=[];var Ht=bo(function($t){var Gn;Qt($t),((Gn=jt.current[jt.current.length-1])!==null&&Gn!==void 0?Gn:Bt)!==$t&&(jt.current.push($t),f==null||f($t))}),kt=Mr.useRef(),Ze=function(){clearTimeout(kt.current)},Ue=function($t){var Gn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Ze(),Gn===0?Ht($t):kt.current=setTimeout(function(){Ht($t)},Gn*1e3)};Mr.useEffect(function(){return Ze},[]);var ze=Mr.useState(!1),it=Ve(ze,2),St=it[0],Tt=it[1];Vr(function($t){(!$t||Bt)&&Tt(!0)},[Bt]);var $n=Mr.useState(null),bi=Ve($n,2),ti=bi[0],Si=bi[1],Bi=Mr.useState(null),wr=Ve(Bi,2),as=wr[0],vs=wr[1],es=function($t){vs([$t.clientX,$t.clientY])},Sl=aqe(Bt,Ct,U&&as!==null?as:Dt,B,$,z,Z),yt=Ve(Sl,11),Yt=yt[0],ci=yt[1],tr=yt[2],Sn=yt[3],eu=yt[4],ao=yt[5],tu=yt[6],xl=yt[7],Oo=yt[8],oo=yt[9],Zo=yt[10],os=iqe(Ge,l,u,c),Lh=Ve(os,2),Ws=Lh[0],Ga=Lh[1],nu=Ws.has("click"),wl=Ga.has("click")||Ga.has("contextMenu"),Qo=bo(function(){St||Zo()}),iu=function(){kn.current&&U&&wl&&Ue(!1)};oqe(Bt,Dt,Ct,Qo,iu),Vr(function(){Qo()},[as,B]),Vr(function(){Bt&&!($!=null&&$[B])&&Qo()},[JSON.stringify(z)]);var Po=Mr.useMemo(function(){var $t=sqe($,s,oo,U);return(0,J5.default)($t,H==null?void 0:H(oo))},[oo,H,$,s,U]);Mr.useImperativeHandle(i,function(){return{nativeElement:At.current,popupElement:xt.current,forceAlign:Qo}});var sn=Mr.useState(0),zi=Ve(sn,2),Lr=zi[0],Ki=zi[1],ys=Mr.useState(0),Us=Ve(ys,2),Gs=Us[0],Cl=Us[1],ks=function(){if(V&&Dt){var $t=Dt.getBoundingClientRect();Ki($t.width),Cl($t.height)}},ni=function(){ks(),Qo()},Cc=function($t){Tt(!1),Zo(),p==null||p($t)},lo=function(){return new Promise(function($t){ks(),Si(function(){return $t})})};Vr(function(){ti&&(Zo(),ti(),Si(null))},[ti]);function Ya($t,Gn,Os,Ys){Cn[$t]=function(Fr){var vd;Ys==null||Ys(Fr),Ue(Gn,Os);for(var h_=arguments.length,Vf=new Array(h_>1?h_-1:0),au=1;au<h_;au++)Vf[au-1]=arguments[au];(vd=Wt[$t])===null||vd===void 0||vd.call.apply(vd,[Wt,Fr].concat(Vf))}}(nu||wl)&&(Cn.onClick=function($t){var Gn;kn.current&&wl?Ue(!1):!kn.current&&nu&&(es($t),Ue(!0));for(var Os=arguments.length,Ys=new Array(Os>1?Os-1:0),Fr=1;Fr<Os;Fr++)Ys[Fr-1]=arguments[Fr];(Gn=Wt.onClick)===null||Gn===void 0||Gn.call.apply(Gn,[Wt,$t].concat(Ys))});var zf=lqe(Bt,wl,Dt,Ct,x,T,gn,Ue),ru=Ws.has("hover"),Jo=Ga.has("hover"),md,su;ru&&(Ya("onMouseEnter",!0,g,function($t){es($t)}),Ya("onPointerEnter",!0,g,function($t){es($t)}),md=function($t){(Bt||St)&&Ct!==null&&Ct!==void 0&&Ct.contains($t.target)&&Ue(!0,g)},U&&(Cn.onMouseMove=function($t){var Gn;(Gn=Wt.onMouseMove)===null||Gn===void 0||Gn.call(Wt,$t)})),Jo&&(Ya("onMouseLeave",!1,v),Ya("onPointerLeave",!1,v),su=function(){Ue(!1,v)}),Ws.has("focus")&&Ya("onFocus",!0,_),Ga.has("focus")&&Ya("onBlur",!1,y),Ws.has("contextMenu")&&(Cn.onContextMenu=function($t){var Gn;kn.current&&Ga.has("contextMenu")?Ue(!1):(es($t),Ue(!0)),$t.preventDefault();for(var Os=arguments.length,Ys=new Array(Os>1?Os-1:0),Fr=1;Fr<Os;Fr++)Ys[Fr-1]=arguments[Fr];(Gn=Wt.onContextMenu)===null||Gn===void 0||Gn.call.apply(Gn,[Wt,$t].concat(Ys))}),ve&&(Cn.className=(0,J5.default)(Wt.className,ve));var Tl=Mr.useRef(!1);Tl.current||(Tl.current=A||Bt||St);var Ka=Te(Te({},Wt),Cn),uo={},Tc=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Tc.forEach(function($t){ye[$t]&&(uo[$t]=function(){for(var Gn,Os=arguments.length,Ys=new Array(Os),Fr=0;Fr<Os;Fr++)Ys[Fr]=arguments[Fr];(Gn=Ka[$t])===null||Gn===void 0||Gn.call.apply(Gn,[Ka].concat(Ys)),ye[$t].apply(ye,Ys)})});var Ec=Mr.cloneElement(on,Te(Te({},Ka),uo)),$u={x:ao,y:tu},Hf=Q?Te({},Q!==!0?Q:{}):null;return Mr.createElement(Mr.Fragment,null,Mr.createElement(R0,{disabled:!Bt,ref:Ft,onResize:ni},Mr.createElement(JXe,{getTriggerDOMNode:xe},Ec)),Tl.current&&Mr.createElement(Kre.Provider,{value:ot},Mr.createElement(ZXe,{portal:n,ref:dt,prefixCls:s,popup:I,className:(0,J5.default)(D,Po),style:L,target:Dt,onMouseEnter:md,onMouseLeave:su,onPointerEnter:md,zIndex:N,open:Bt,keepDom:St,fresh:K,onClick:X,onPointerDownCapture:zf,mask:x,motion:Ln,maskMotion:gi,onVisibleChanged:Cc,onPrepare:lo,forceRender:A,autoDestroy:Ee,getPopupContainer:E,align:oo,arrow:Hf,arrowPos:$u,ready:Yt,offsetX:ci,offsetY:tr,offsetR:Sn,offsetB:eu,onAlign:Qo,stretch:V,targetWidth:Lr/xl,targetHeight:Gs/Oo})))});return e}var exe=cqe(MSe),dqe=ie(zt()),nb=ie(de()),hqe=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],fqe=function(n){var e=n===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:e,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:e,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:e,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:e,adjustY:1},htmlRegion:"scroll"}}},pqe=function(n,e){var t=n.prefixCls;n.disabled;var i=n.visible,r=n.children,s=n.popupElement,a=n.animation,o=n.transitionName,l=n.dropdownStyle,u=n.dropdownClassName,c=n.direction,d=c===void 0?"ltr":c,h=n.placement,f=n.builtinPlacements,p=n.dropdownMatchSelectWidth,g=n.dropdownRender,m=n.dropdownAlign,v=n.getPopupContainer,_=n.empty,y=n.getTriggerDOMNode,x=n.onPopupVisibleChange,w=n.onPopupMouseEnter,T=Ji(n,hqe),E="".concat(t,"-dropdown"),A=s;g&&(A=g(s));var k=nb.useMemo(function(){return f||fqe(p)},[f,p]),P=a?"".concat(E,"-").concat(a):o,I=typeof p=="number",D=nb.useMemo(function(){return I?null:p===!1?"minWidth":"width"},[p,I]),L=l;I&&(L=Te(Te({},L),{},{width:p}));var B=nb.useRef(null);return nb.useImperativeHandle(e,function(){return{getPopupElement:function(){var F;return(F=B.current)===null||F===void 0?void 0:F.popupElement}}}),nb.createElement(exe,wn({},T,{showAction:x?["click"]:[],hideAction:x?["click"]:[],popupPlacement:h||(d==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:k,prefixCls:E,popupTransitionName:P,popup:nb.createElement("div",{onMouseEnter:w},A),ref:B,stretch:D,popupAlign:m,popupVisible:i,getPopupContainer:v,popupClassName:(0,dqe.default)(u,me({},"".concat(E,"-empty"),_)),popupStyle:L,getTriggerDOMNode:y,onPopupVisibleChange:x}),r)},gqe=nb.forwardRef(pqe),mqe=gqe;function tse(n,e){var t=n.key,i;return"value"in n&&(i=n.value),t??(i!==void 0?i:"rc-index-key-".concat(e))}function F6(n){return typeof n<"u"&&!Number.isNaN(n)}function txe(n,e){var t=n||{},i=t.label,r=t.value,s=t.options,a=t.groupLabel,o=i||(e?"children":"label");return{label:o,value:r||"value",options:s||"options",groupLabel:a||o}}function vqe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.fieldNames,i=e.childrenAsData,r=[],s=txe(t,!1),a=s.label,o=s.value,l=s.options,u=s.groupLabel;function c(d,h){Array.isArray(d)&&d.forEach(function(f){if(h||!(l in f)){var p=f[o];r.push({key:tse(f,r.length),groupOption:h,data:f,label:f[a],value:p})}else{var g=f[u];g===void 0&&i&&(g=f.label),r.push({key:tse(f,r.length),group:!0,data:f,label:g}),c(f[l],!0)}})}return c(n,!1),r}function B6(n){var e=Te({},n);return"props"in e||Object.defineProperty(e,"props",{get:function(){return dh(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),e}}),e}var yqe=function(n,e,t){if(!e||!e.length)return null;var i=!1,r=function a(o,l){var u=l0e(l),c=u[0],d=u.slice(1);if(!c)return[o];var h=o.split(c);return i=i||h.length>1,h.reduce(function(f,p){return[].concat(Pt(f),Pt(a(p,d)))},[]).filter(Boolean)},s=r(n,e);return i?typeof t<"u"?s.slice(0,t):s:null},_qe=ie(de()),bqe=_qe.createContext(null),B9=bqe,Sqe=ie(de());function xqe(n){var e=n.visible,t=n.values;if(!e)return null;var i=50;return Sqe.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(t.slice(0,i).map(function(r){var s=r.label,a=r.value;return["number","string"].includes(bn(s))?s:a}).join(", ")),t.length>i?", ...":null)}var wqe=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","prefix","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],Cqe=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],$6=function(n){return n==="tags"||n==="multiple"},Tqe=Pr.forwardRef(function(n,e){var t,i=n.id,r=n.prefixCls,s=n.className,a=n.showSearch,o=n.tagRender,l=n.direction,u=n.omitDomProps,c=n.displayValues,d=n.onDisplayValuesChange,h=n.emptyOptions,f=n.notFoundContent,p=f===void 0?"Not Found":f,g=n.onClear,m=n.mode,v=n.disabled,_=n.loading,y=n.getInputElement,x=n.getRawInputElement,w=n.open,T=n.defaultOpen,E=n.onDropdownVisibleChange,A=n.activeValue,k=n.onActiveValueChange,P=n.activeDescendantId,I=n.searchValue,D=n.autoClearSearchValue,L=n.onSearch,B=n.onSearchSplit,F=n.tokenSeparators,$=n.allowClear,z=n.prefix,N=n.suffixIcon,V=n.clearIcon,H=n.OptionList,K=n.animation,U=n.transitionName,X=n.dropdownStyle,Z=n.dropdownClassName,Q=n.dropdownMatchSelectWidth,se=n.dropdownRender,ae=n.dropdownAlign,ue=n.placement,oe=n.builtinPlacements,re=n.getPopupContainer,fe=n.showAction,ve=fe===void 0?[]:fe,xe=n.onFocus,ye=n.onBlur,Ee=n.onKeyUp,Se=n.onKeyDown,Fe=n.onMouseDown,Ge=Ji(n,wqe),Pe=$6(m),je=(a!==void 0?a:Pe)||m==="combobox",qe=Te({},Ge);Cqe.forEach(function(sn){delete qe[sn]}),u==null||u.forEach(function(sn){delete qe[sn]});var ot=Pr.useState(!1),$e=Ve(ot,2),et=$e[0],Mt=$e[1];Pr.useEffect(function(){Mt(F9())},[]);var Ct=Pr.useRef(null),tt=Pr.useRef(null),xt=Pr.useRef(null),dt=Pr.useRef(null),bt=Pr.useRef(null),rt=Pr.useRef(!1),Dt=eXe(),Je=Ve(Dt,3),At=Je[0],Ft=Je[1],on=Je[2];Pr.useImperativeHandle(e,function(){var sn,zi;return{focus:(sn=dt.current)===null||sn===void 0?void 0:sn.focus,blur:(zi=dt.current)===null||zi===void 0?void 0:zi.blur,scrollTo:function(Lr){var Ki;return(Ki=bt.current)===null||Ki===void 0?void 0:Ki.scrollTo(Lr)},nativeElement:Ct.current||tt.current}});var Wt=Pr.useMemo(function(){var sn;if(m!=="combobox")return I;var zi=(sn=c[0])===null||sn===void 0?void 0:sn.value;return typeof zi=="string"||typeof zi=="number"?String(zi):""},[I,m,c]),Cn=m==="combobox"&&typeof y=="function"&&y()||null,gn=typeof x=="function"&&x(),Ln=SP(tt,gn==null||(t=gn.props)===null||t===void 0?void 0:t.ref),gi=Pr.useState(!1),ut=Ve(gi,2),gt=ut[0],ct=ut[1];Vr(function(){ct(!0)},[]);var en=ig(!1,{defaultValue:T,value:w}),Bt=Ve(en,2),Qt=Bt[0],kn=Bt[1],jt=gt?Qt:!1,Ht=!p&&h;(v||Ht&&jt&&m==="combobox")&&(jt=!1);var kt=Ht?!1:jt,Ze=Pr.useCallback(function(sn){var zi=sn!==void 0?sn:!jt;v||(kn(zi),jt!==zi&&(E==null||E(zi)))},[v,jt,kn,E]),Ue=Pr.useMemo(function(){return(F||[]).some(function(sn){return[`
`,`\r
`].includes(sn)})},[F]),ze=Pr.useContext(B9)||{},it=ze.maxCount,St=ze.rawValues,Tt=function(sn,zi,Lr){if(!(Pe&&F6(it)&&(St==null?void 0:St.size)>=it)){var Ki=!0,ys=sn;k==null||k(null);var Us=yqe(sn,F,F6(it)?it-St.size:void 0),Gs=Lr?null:Us;return m!=="combobox"&&Gs&&(ys="",B==null||B(Gs),Ze(!1),Ki=!1),L&&Wt!==ys&&L(ys,{source:zi?"typing":"effect"}),Ki}},$n=function(sn){!sn||!sn.trim()||L(sn,{source:"submit"})};Pr.useEffect(function(){!jt&&!Pe&&m!=="combobox"&&Tt("",!1,!1)},[jt]),Pr.useEffect(function(){Qt&&v&&kn(!1),v&&!rt.current&&Ft(!1)},[v]);var bi=USe(),ti=Ve(bi,2),Si=ti[0],Bi=ti[1],wr=Pr.useRef(!1),as=function(sn){var zi=Si(),Lr=sn.key,Ki=Lr==="Enter";if(Ki&&(m!=="combobox"&&sn.preventDefault(),jt||Ze(!0)),Bi(!!Wt),Lr==="Backspace"&&!zi&&Pe&&!Wt&&c.length){for(var ys=Pt(c),Us=null,Gs=ys.length-1;Gs>=0;Gs-=1){var Cl=ys[Gs];if(!Cl.disabled){ys.splice(Gs,1),Us=Cl;break}}Us&&d(ys,{type:"remove",values:[Us]})}for(var ks=arguments.length,ni=new Array(ks>1?ks-1:0),Cc=1;Cc<ks;Cc++)ni[Cc-1]=arguments[Cc];if(jt&&(!Ki||!wr.current)){var lo;Ki&&(wr.current=!0),(lo=bt.current)===null||lo===void 0||lo.onKeyDown.apply(lo,[sn].concat(ni))}Se==null||Se.apply(void 0,[sn].concat(ni))},vs=function(sn){for(var zi=arguments.length,Lr=new Array(zi>1?zi-1:0),Ki=1;Ki<zi;Ki++)Lr[Ki-1]=arguments[Ki];if(jt){var ys;(ys=bt.current)===null||ys===void 0||ys.onKeyUp.apply(ys,[sn].concat(Lr))}sn.key==="Enter"&&(wr.current=!1),Ee==null||Ee.apply(void 0,[sn].concat(Lr))},es=function(sn){var zi=c.filter(function(Lr){return Lr!==sn});d(zi,{type:"remove",values:[sn]})},Sl=function(){wr.current=!1},yt=Pr.useRef(!1),Yt=function(){Ft(!0),v||(xe&&!yt.current&&xe.apply(void 0,arguments),ve.includes("focus")&&Ze(!0)),yt.current=!0},ci=function(){rt.current=!0,Ft(!1,function(){yt.current=!1,rt.current=!1,Ze(!1)}),!v&&(Wt&&(m==="tags"?L(Wt,{source:"submit"}):m==="multiple"&&L("",{source:"blur"})),ye&&ye.apply(void 0,arguments))},tr=[];Pr.useEffect(function(){return function(){tr.forEach(function(sn){return clearTimeout(sn)}),tr.splice(0,tr.length)}},[]);var Sn=function(sn){var zi,Lr=sn.target,Ki=(zi=xt.current)===null||zi===void 0?void 0:zi.getPopupElement();if(Ki&&Ki.contains(Lr)){var ys=setTimeout(function(){var ks=tr.indexOf(ys);if(ks!==-1&&tr.splice(ks,1),on(),!et&&!Ki.contains(document.activeElement)){var ni;(ni=dt.current)===null||ni===void 0||ni.focus()}});tr.push(ys)}for(var Us=arguments.length,Gs=new Array(Us>1?Us-1:0),Cl=1;Cl<Us;Cl++)Gs[Cl-1]=arguments[Cl];Fe==null||Fe.apply(void 0,[sn].concat(Gs))},eu=Pr.useState({}),ao=Ve(eu,2),tu=ao[1];function xl(){tu({})}var Oo;gn&&(Oo=function(sn){Ze(sn)}),tXe(function(){var sn;return[Ct.current,(sn=xt.current)===null||sn===void 0?void 0:sn.getPopupElement()]},kt,Ze,!!gn);var oo=Pr.useMemo(function(){return Te(Te({},n),{},{notFoundContent:p,open:jt,triggerOpen:kt,id:i,showSearch:je,multiple:Pe,toggleOpen:Ze})},[n,p,kt,jt,i,je,Pe,Ze]),Zo=!!N||_,os;Zo&&(os=Pr.createElement(MN,{className:(0,Nre.default)("".concat(r,"-arrow"),me({},"".concat(r,"-arrow-loading"),_)),customizeIcon:N,customizeIconProps:{loading:_,searchValue:Wt,open:jt,focused:At,showSearch:je}}));var Lh=function(){var sn;g==null||g(),(sn=dt.current)===null||sn===void 0||sn.focus(),d([],{type:"clear",values:c}),Tt("",!1,!1)},Ws=Q9e(r,Lh,c,$,V,v,Wt,m),Ga=Ws.allowClear,nu=Ws.clearIcon,wl=Pr.createElement(H,{ref:bt}),Qo=(0,Nre.default)(r,s,me(me(me(me(me(me(me(me(me(me({},"".concat(r,"-focused"),At),"".concat(r,"-multiple"),Pe),"".concat(r,"-single"),!Pe),"".concat(r,"-allow-clear"),$),"".concat(r,"-show-arrow"),Zo),"".concat(r,"-disabled"),v),"".concat(r,"-loading"),_),"".concat(r,"-open"),jt),"".concat(r,"-customize-input"),Cn),"".concat(r,"-show-search"),je)),iu=Pr.createElement(mqe,{ref:xt,disabled:v,prefixCls:r,visible:kt,popupElement:wl,animation:K,transitionName:U,dropdownStyle:X,dropdownClassName:Z,direction:l,dropdownMatchSelectWidth:Q,dropdownRender:se,dropdownAlign:ae,placement:ue,builtinPlacements:oe,getPopupContainer:re,empty:h,getTriggerDOMNode:function(sn){return tt.current||sn},onPopupVisibleChange:Oo,onPopupMouseEnter:xl},gn?Pr.cloneElement(gn,{ref:Ln}):Pr.createElement(zXe,wn({},n,{domRef:tt,prefixCls:r,inputElement:Cn,ref:dt,id:i,prefix:z,showSearch:je,autoClearSearchValue:D,mode:m,activeDescendantId:P,tagRender:o,values:c,open:jt,onToggleOpen:Ze,activeValue:A,searchValue:Wt,onSearch:Tt,onSearchSubmit:$n,onRemove:es,tokenWithEnter:Ue,onInputBlur:Sl}))),Po;return gn?Po=iu:Po=Pr.createElement("div",wn({className:Qo},qe,{ref:Ct,onMouseDown:Sn,onKeyDown:as,onKeyUp:vs,onFocus:Yt,onBlur:ci}),Pr.createElement(xqe,{visible:At&&!jt,values:c}),iu,os,Ga&&nu),Pr.createElement(WSe.Provider,{value:oo},Po)}),Eqe=Tqe,nxe=function(){return null};nxe.isSelectOptGroup=!0;var ixe=nxe,rxe=function(){return null};rxe.isSelectOption=!0;var sxe=rxe,nse=ie(zt()),Aqe=ie(zt()),pu=ie(de()),Ad=ie(de()),ise=ie(Xy()),AR=ie(de()),kqe=ie(zt()),axe=AR.forwardRef(function(n,e){var t=n.height,i=n.offsetY,r=n.offsetX,s=n.children,a=n.prefixCls,o=n.onInnerResize,l=n.innerProps,u=n.rtl,c=n.extra,d={},h={display:"flex",flexDirection:"column"};return i!==void 0&&(d={height:t,position:"relative",overflow:"hidden"},h=Te(Te({},h),{},me(me(me(me(me({transform:"translateY(".concat(i,"px)")},u?"marginRight":"marginLeft",-r),"position","absolute"),"left",0),"right",0),"top",0))),AR.createElement("div",{style:d},AR.createElement(R0,{onResize:function(f){var p=f.offsetHeight;p&&o&&o()}},AR.createElement("div",wn({style:h,className:(0,kqe.default)(me({},"".concat(a,"-holder-inner"),a)),ref:e},l),s,c)))});axe.displayName="Filler";var Oqe=axe,Pqe=ie(de()),rse=ie(de());function Mqe(n){var e=n.children,t=n.setRef,i=rse.useCallback(function(r){t(r)},[]);return rse.cloneElement(e,{ref:i})}function Iqe(n,e,t,i,r,s,a,o){var l=o.getKey;return n.slice(e,t+1).map(function(u,c){var d=e+c,h=a(u,d,{style:{width:i},offsetX:r}),f=l(u);return Pqe.createElement(Mqe,{key:f,setRef:function(p){return s(u,p)}},h)})}var nV=ie(de());function Rqe(n,e,t){var i=n.length,r=e.length,s,a;if(i===0&&r===0)return null;i<r?(s=n,a=e):(s=e,a=n);var o={__EMPTY_ITEM__:!0};function l(p){return p!==void 0?t(p):o}for(var u=null,c=Math.abs(i-r)!==1,d=0;d<a.length;d+=1){var h=l(s[d]),f=l(a[d]);if(h!==f){u=d,c=c||h!==l(a[d+1]);break}}return u===null?null:{index:u,multiple:c}}function Dqe(n,e,t){var i=nV.useState(n),r=Ve(i,2),s=r[0],a=r[1],o=nV.useState(null),l=Ve(o,2),u=l[0],c=l[1];return nV.useEffect(function(){var d=Rqe(s||[],n||[],e);(d==null?void 0:d.index)!==void 0&&c(n[d.index]),a(n)},[n]),[u]}var BS=ie(de()),Lqe=(typeof navigator>"u"?"undefined":bn(navigator))==="object"&&/Firefox/i.test(navigator.userAgent),sse=Lqe,iV=ie(de()),oxe=function(n,e,t,i){var r=(0,iV.useRef)(!1),s=(0,iV.useRef)(null);function a(){clearTimeout(s.current),r.current=!0,s.current=setTimeout(function(){r.current=!1},50)}var o=(0,iV.useRef)({top:n,bottom:e,left:t,right:i});return o.current.top=n,o.current.bottom=e,o.current.left=t,o.current.right=i,function(l,u){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=l?u<0&&o.current.left||u>0&&o.current.right:u<0&&o.current.top||u>0&&o.current.bottom;return c&&d?(clearTimeout(s.current),r.current=!1):(!d||r.current)&&a(),!r.current&&d}};function Fqe(n,e,t,i,r,s,a){var o=(0,BS.useRef)(0),l=(0,BS.useRef)(null),u=(0,BS.useRef)(null),c=(0,BS.useRef)(!1),d=oxe(e,t,i,r);function h(_,y){if(Zr.cancel(l.current),!d(!1,y)){var x=_;if(!x._virtualHandled)x._virtualHandled=!0;else return;o.current+=y,u.current=y,sse||x.preventDefault(),l.current=Zr(function(){var w=c.current?10:1;a(o.current*w,!1),o.current=0})}}function f(_,y){a(y,!0),sse||_.preventDefault()}var p=(0,BS.useRef)(null),g=(0,BS.useRef)(null);function m(_){if(n){Zr.cancel(g.current),g.current=Zr(function(){p.current=null},2);var y=_.deltaX,x=_.deltaY,w=_.shiftKey,T=y,E=x;(p.current==="sx"||!p.current&&w&&x&&!y)&&(T=x,E=0,p.current="sx");var A=Math.abs(T),k=Math.abs(E);p.current===null&&(p.current=s&&A>k?"x":"y"),p.current==="y"?h(_,E):f(_,T)}}function v(_){n&&(c.current=_.detail===u.current)}return[m,v]}var Bqe=ie(de());function $qe(n,e,t,i){var r=Bqe.useMemo(function(){return[new Map,[]]},[n,t.id,i]),s=Ve(r,2),a=s[0],o=s[1],l=function(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u,d=a.get(u),h=a.get(c);if(d===void 0||h===void 0)for(var f=n.length,p=o.length;p<f;p+=1){var g,m=n[p],v=e(m);a.set(v,p);var _=(g=t.get(v))!==null&&g!==void 0?g:i;if(o[p]=(o[p-1]||0)+_,v===u&&(d=p),v===c&&(h=p),d!==void 0&&h!==void 0)break}return{top:o[d-1]||0,bottom:o[h]}};return l}var Nqe=ie(de()),kR=ie(de()),jqe=function(){function n(){Wa(this,n),me(this,"maps",void 0),me(this,"id",0),me(this,"diffRecords",new Map),this.maps=Object.create(null)}return Ua(n,[{key:"set",value:function(e,t){this.diffRecords.set(e,this.maps[e]),this.maps[e]=t,this.id+=1}},{key:"get",value:function(e){return this.maps[e]}},{key:"resetRecord",value:function(){this.diffRecords.clear()}},{key:"getRecord",value:function(){return this.diffRecords}}]),n}(),zqe=jqe;function ase(n){var e=parseFloat(n);return isNaN(e)?0:e}function Hqe(n,e,t){var i=Nqe.useState(0),r=Ve(i,2),s=r[0],a=r[1],o=(0,kR.useRef)(new Map),l=(0,kR.useRef)(new zqe),u=(0,kR.useRef)(0);function c(){u.current+=1}function d(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;c();var p=function(){var m=!1;o.current.forEach(function(v,_){if(v&&v.offsetParent){var y=v.offsetHeight,x=getComputedStyle(v),w=x.marginTop,T=x.marginBottom,E=ase(w),A=ase(T),k=y+E+A;l.current.get(_)!==k&&(l.current.set(_,k),m=!0)}}),m&&a(function(v){return v+1})};if(f)p();else{u.current+=1;var g=u.current;Promise.resolve().then(function(){g===u.current&&p()})}}function h(f,p){var g=n(f);o.current.get(g),p?(o.current.set(g,p),d()):o.current.delete(g)}return(0,kR.useEffect)(function(){return c},[]),[h,d,l.current,s]}var HT=ie(de()),ose=14/15;function Vqe(n,e,t){var i=(0,HT.useRef)(!1),r=(0,HT.useRef)(0),s=(0,HT.useRef)(0),a=(0,HT.useRef)(null),o=(0,HT.useRef)(null),l,u=function(h){if(i.current){var f=Math.ceil(h.touches[0].pageX),p=Math.ceil(h.touches[0].pageY),g=r.current-f,m=s.current-p,v=Math.abs(g)>Math.abs(m);v?r.current=f:s.current=p;var _=t(v,v?g:m,!1,h);_&&h.preventDefault(),clearInterval(o.current),_&&(o.current=setInterval(function(){v?g*=ose:m*=ose;var y=Math.floor(v?g:m);(!t(v,y,!0)||Math.abs(y)<=.1)&&clearInterval(o.current)},16))}},c=function(){i.current=!1,l()},d=function(h){l(),h.touches.length===1&&!i.current&&(i.current=!0,r.current=Math.ceil(h.touches[0].pageX),s.current=Math.ceil(h.touches[0].pageY),a.current=h.target,a.current.addEventListener("touchmove",u,{passive:!1}),a.current.addEventListener("touchend",c,{passive:!0}))};l=function(){a.current&&(a.current.removeEventListener("touchmove",u),a.current.removeEventListener("touchend",c))},Vr(function(){return n&&e.current.addEventListener("touchstart",d,{passive:!0}),function(){var h;(h=e.current)===null||h===void 0||h.removeEventListener("touchstart",d),l(),clearInterval(o.current)}},[n])}var Wqe=ie(de());function lse(n){return Math.floor(Math.pow(n,.5))}function N6(n,e){var t="touches"in n?n.touches[0]:n;return t[e?"pageX":"pageY"]-window[e?"scrollX":"scrollY"]}function Uqe(n,e,t){Wqe.useEffect(function(){var i=e.current;if(n&&i){var r=!1,s,a,o=function(){Zr.cancel(s)},l=function h(){o(),s=Zr(function(){t(a),h()})},u=function(){r=!1,o()},c=function(h){if(!(h.target.draggable||h.button!==0)){var f=h;f._virtualHandled||(f._virtualHandled=!0,r=!0)}},d=function(h){if(r){var f=N6(h,!1),p=i.getBoundingClientRect(),g=p.top,m=p.bottom;if(f<=g){var v=g-f;a=-lse(v),l()}else if(f>=m){var _=f-m;a=lse(_),l()}else o()}};return i.addEventListener("mousedown",c),i.ownerDocument.addEventListener("mouseup",u),i.ownerDocument.addEventListener("mousemove",d),i.ownerDocument.addEventListener("dragend",u),function(){i.removeEventListener("mousedown",c),i.ownerDocument.removeEventListener("mouseup",u),i.ownerDocument.removeEventListener("mousemove",d),i.ownerDocument.removeEventListener("dragend",u),o()}}},[n])}var use=ie(de()),Gqe=10;function Yqe(n,e,t,i,r,s,a,o){var l=use.useRef(),u=use.useState(null),c=Ve(u,2),d=c[0],h=c[1];return Vr(function(){if(d&&d.times<Gqe){if(!n.current){h(function(V){return Te({},V)});return}s();var f=d.targetAlign,p=d.originAlign,g=d.index,m=d.offset,v=n.current.clientHeight,_=!1,y=f,x=null;if(v){for(var w=f||p,T=0,E=0,A=0,k=Math.min(e.length-1,g),P=0;P<=k;P+=1){var I=r(e[P]);E=T;var D=t.get(I);A=E+(D===void 0?i:D),T=A}for(var L=w==="top"?m:v-m,B=k;B>=0;B-=1){var F=r(e[B]),$=t.get(F);if($===void 0){_=!0;break}if(L-=$,L<=0)break}switch(w){case"top":x=E-m;break;case"bottom":x=A-v+m;break;default:{var z=n.current.scrollTop,N=z+v;E<z?y="top":A>N&&(y="bottom")}}x!==null&&a(x),x!==d.lastTop&&(_=!0)}_&&h(Te(Te({},d),{},{times:d.times+1,targetAlign:y,lastTop:x}))}},[d,n.current]),function(f){if(f==null){o();return}if(Zr.cancel(l.current),typeof f=="number")a(f);else if(f&&bn(f)==="object"){var p,g=f.align;"index"in f?p=f.index:p=e.findIndex(function(_){return r(_)===f.key});var m=f.offset,v=m===void 0?0:m;h({times:0,index:p,offset:v,originAlign:g})}}}var cse=ie(zt()),Fo=ie(de()),Kqe=Fo.forwardRef(function(n,e){var t=n.prefixCls,i=n.rtl,r=n.scrollOffset,s=n.scrollRange,a=n.onStartMove,o=n.onStopMove,l=n.onScroll,u=n.horizontal,c=n.spinSize,d=n.containerSize,h=n.style,f=n.thumbStyle,p=n.showScrollBar,g=Fo.useState(!1),m=Ve(g,2),v=m[0],_=m[1],y=Fo.useState(null),x=Ve(y,2),w=x[0],T=x[1],E=Fo.useState(null),A=Ve(E,2),k=A[0],P=A[1],I=!i,D=Fo.useRef(),L=Fo.useRef(),B=Fo.useState(p),F=Ve(B,2),$=F[0],z=F[1],N=Fo.useRef(),V=function(){p===!0||p===!1||(clearTimeout(N.current),z(!0),N.current=setTimeout(function(){z(!1)},3e3))},H=s-d||0,K=d-c||0,U=Fo.useMemo(function(){if(r===0||H===0)return 0;var fe=r/H;return fe*K},[r,H,K]),X=function(fe){fe.stopPropagation(),fe.preventDefault()},Z=Fo.useRef({top:U,dragging:v,pageY:w,startTop:k});Z.current={top:U,dragging:v,pageY:w,startTop:k};var Q=function(fe){_(!0),T(N6(fe,u)),P(Z.current.top),a(),fe.stopPropagation(),fe.preventDefault()};Fo.useEffect(function(){var fe=function(ye){ye.preventDefault()},ve=D.current,xe=L.current;return ve.addEventListener("touchstart",fe,{passive:!1}),xe.addEventListener("touchstart",Q,{passive:!1}),function(){ve.removeEventListener("touchstart",fe),xe.removeEventListener("touchstart",Q)}},[]);var se=Fo.useRef();se.current=H;var ae=Fo.useRef();ae.current=K,Fo.useEffect(function(){if(v){var fe,ve=function(ye){var Ee=Z.current,Se=Ee.dragging,Fe=Ee.pageY,Ge=Ee.startTop;Zr.cancel(fe);var Pe=D.current.getBoundingClientRect(),je=d/(u?Pe.width:Pe.height);if(Se){var qe=(N6(ye,u)-Fe)*je,ot=Ge;!I&&u?ot-=qe:ot+=qe;var $e=se.current,et=ae.current,Mt=et?ot/et:0,Ct=Math.ceil(Mt*$e);Ct=Math.max(Ct,0),Ct=Math.min(Ct,$e),fe=Zr(function(){l(Ct,u)})}},xe=function(){_(!1),o()};return window.addEventListener("mousemove",ve,{passive:!0}),window.addEventListener("touchmove",ve,{passive:!0}),window.addEventListener("mouseup",xe,{passive:!0}),window.addEventListener("touchend",xe,{passive:!0}),function(){window.removeEventListener("mousemove",ve),window.removeEventListener("touchmove",ve),window.removeEventListener("mouseup",xe),window.removeEventListener("touchend",xe),Zr.cancel(fe)}}},[v]),Fo.useEffect(function(){return V(),function(){clearTimeout(N.current)}},[r]),Fo.useImperativeHandle(e,function(){return{delayHidden:V}});var ue="".concat(t,"-scrollbar"),oe={position:"absolute",visibility:$?null:"hidden"},re={position:"absolute",borderRadius:99,background:"var(--rc-virtual-list-scrollbar-bg, rgba(0, 0, 0, 0.5))",cursor:"pointer",userSelect:"none"};return u?(Object.assign(oe,{height:8,left:0,right:0,bottom:0}),Object.assign(re,me({height:"100%",width:c},I?"left":"right",U))):(Object.assign(oe,me({width:8,top:0,bottom:0},I?"right":"left",0)),Object.assign(re,{width:"100%",height:c,top:U})),Fo.createElement("div",{ref:D,className:(0,cse.default)(ue,me(me(me({},"".concat(ue,"-horizontal"),u),"".concat(ue,"-vertical"),!u),"".concat(ue,"-visible"),$)),style:Te(Te({},oe),h),onMouseDown:X,onMouseMove:V},Fo.createElement("div",{ref:L,className:(0,cse.default)("".concat(ue,"-thumb"),me({},"".concat(ue,"-thumb-moving"),v)),style:Te(Te({},re),f),onMouseDown:Q}))}),dse=Kqe,Xqe=20;function hse(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=n/e*n;return isNaN(t)&&(t=0),t=Math.max(t,Xqe),Math.floor(t)}var qqe=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles","showScrollBar"],Zqe=[],Qqe={overflowY:"auto",overflowAnchor:"none"};function Jqe(n,e){var t=n.prefixCls,i=t===void 0?"rc-virtual-list":t,r=n.className,s=n.height,a=n.itemHeight,o=n.fullHeight,l=o===void 0?!0:o,u=n.style,c=n.data,d=n.children,h=n.itemKey,f=n.virtual,p=n.direction,g=n.scrollWidth,m=n.component,v=m===void 0?"div":m,_=n.onScroll,y=n.onVirtualScroll,x=n.onVisibleChange,w=n.innerProps,T=n.extraRender,E=n.styles,A=n.showScrollBar,k=A===void 0?"optional":A,P=Ji(n,qqe),I=pu.useCallback(function(yt){return typeof h=="function"?h(yt):yt==null?void 0:yt[h]},[h]),D=Hqe(I),L=Ve(D,4),B=L[0],F=L[1],$=L[2],z=L[3],N=!!(f!==!1&&s&&a),V=pu.useMemo(function(){return Object.values($.maps).reduce(function(yt,Yt){return yt+Yt},0)},[$.id,$.maps]),H=N&&c&&(Math.max(a*c.length,V)>s||!!g),K=p==="rtl",U=(0,Aqe.default)(i,me({},"".concat(i,"-rtl"),K),r),X=c||Zqe,Z=(0,Ad.useRef)(),Q=(0,Ad.useRef)(),se=(0,Ad.useRef)(),ae=(0,Ad.useState)(0),ue=Ve(ae,2),oe=ue[0],re=ue[1],fe=(0,Ad.useState)(0),ve=Ve(fe,2),xe=ve[0],ye=ve[1],Ee=(0,Ad.useState)(!1),Se=Ve(Ee,2),Fe=Se[0],Ge=Se[1],Pe=function(){Ge(!0)},je=function(){Ge(!1)},qe={getKey:I};function ot(yt){re(function(Yt){var ci;typeof yt=="function"?ci=yt(Yt):ci=yt;var tr=ct(ci);return Z.current.scrollTop=tr,tr})}var $e=(0,Ad.useRef)({start:0,end:X.length}),et=(0,Ad.useRef)(),Mt=Dqe(X,I),Ct=Ve(Mt,1),tt=Ct[0];et.current=tt;var xt=pu.useMemo(function(){if(!N)return{scrollHeight:void 0,start:0,end:X.length-1,offset:void 0};if(!H){var yt;return{scrollHeight:((yt=Q.current)===null||yt===void 0?void 0:yt.offsetHeight)||0,start:0,end:X.length-1,offset:void 0}}for(var Yt=0,ci,tr,Sn,eu=X.length,ao=0;ao<eu;ao+=1){var tu=X[ao],xl=I(tu),Oo=$.get(xl),oo=Yt+(Oo===void 0?a:Oo);oo>=oe&&ci===void 0&&(ci=ao,tr=Yt),oo>oe+s&&Sn===void 0&&(Sn=ao),Yt=oo}return ci===void 0&&(ci=0,tr=0,Sn=Math.ceil(s/a)),Sn===void 0&&(Sn=X.length-1),Sn=Math.min(Sn+1,X.length-1),{scrollHeight:Yt,start:ci,end:Sn,offset:tr}},[H,N,oe,X,z,s]),dt=xt.scrollHeight,bt=xt.start,rt=xt.end,Dt=xt.offset;$e.current.start=bt,$e.current.end=rt,pu.useLayoutEffect(function(){var yt=$.getRecord();if(yt.size===1){var Yt=Array.from(yt.keys())[0],ci=yt.get(Yt),tr=X[bt];if(tr&&ci===void 0){var Sn=I(tr);if(Sn===Yt){var eu=$.get(Yt),ao=eu-a;ot(function(tu){return tu+ao})}}}$.resetRecord()},[dt]);var Je=pu.useState({width:0,height:s}),At=Ve(Je,2),Ft=At[0],on=At[1],Wt=function(yt){on({width:yt.offsetWidth,height:yt.offsetHeight})},Cn=(0,Ad.useRef)(),gn=(0,Ad.useRef)(),Ln=pu.useMemo(function(){return hse(Ft.width,g)},[Ft.width,g]),gi=pu.useMemo(function(){return hse(Ft.height,dt)},[Ft.height,dt]),ut=dt-s,gt=(0,Ad.useRef)(ut);gt.current=ut;function ct(yt){var Yt=yt;return Number.isNaN(gt.current)||(Yt=Math.min(Yt,gt.current)),Yt=Math.max(Yt,0),Yt}var en=oe<=0,Bt=oe>=ut,Qt=xe<=0,kn=xe>=g,jt=oxe(en,Bt,Qt,kn),Ht=function(){return{x:K?-xe:xe,y:oe}},kt=(0,Ad.useRef)(Ht()),Ze=bo(function(yt){if(y){var Yt=Te(Te({},Ht()),yt);(kt.current.x!==Yt.x||kt.current.y!==Yt.y)&&(y(Yt),kt.current=Yt)}});function Ue(yt,Yt){var ci=yt;Yt?((0,ise.flushSync)(function(){ye(ci)}),Ze()):ot(ci)}function ze(yt){var Yt=yt.currentTarget.scrollTop;Yt!==oe&&ot(Yt),_==null||_(yt),Ze()}var it=function(yt){var Yt=yt,ci=g?g-Ft.width:0;return Yt=Math.max(Yt,0),Yt=Math.min(Yt,ci),Yt},St=bo(function(yt,Yt){Yt?((0,ise.flushSync)(function(){ye(function(ci){var tr=ci+(K?-yt:yt);return it(tr)})}),Ze()):ot(function(ci){var tr=ci+yt;return tr})}),Tt=Fqe(N,en,Bt,Qt,kn,!!g,St),$n=Ve(Tt,2),bi=$n[0],ti=$n[1];Vqe(N,Z,function(yt,Yt,ci,tr){var Sn=tr;return jt(yt,Yt,ci)?!1:!Sn||!Sn._virtualHandled?(Sn&&(Sn._virtualHandled=!0),bi({preventDefault:function(){},deltaX:yt?Yt:0,deltaY:yt?0:Yt}),!0):!1}),Uqe(H,Z,function(yt){ot(function(Yt){return Yt+yt})}),Vr(function(){function yt(ci){var tr=en&&ci.detail<0,Sn=Bt&&ci.detail>0;N&&!tr&&!Sn&&ci.preventDefault()}var Yt=Z.current;return Yt.addEventListener("wheel",bi,{passive:!1}),Yt.addEventListener("DOMMouseScroll",ti,{passive:!0}),Yt.addEventListener("MozMousePixelScroll",yt,{passive:!1}),function(){Yt.removeEventListener("wheel",bi),Yt.removeEventListener("DOMMouseScroll",ti),Yt.removeEventListener("MozMousePixelScroll",yt)}},[N,en,Bt]),Vr(function(){if(g){var yt=it(xe);ye(yt),Ze({x:yt})}},[Ft.width,g]);var Si=function(){var yt,Yt;(yt=Cn.current)===null||yt===void 0||yt.delayHidden(),(Yt=gn.current)===null||Yt===void 0||Yt.delayHidden()},Bi=Yqe(Z,X,$,a,I,function(){return F(!0)},ot,Si);pu.useImperativeHandle(e,function(){return{nativeElement:se.current,getScrollInfo:Ht,scrollTo:function(yt){function Yt(ci){return ci&&bn(ci)==="object"&&("left"in ci||"top"in ci)}Yt(yt)?(yt.left!==void 0&&ye(it(yt.left)),Bi(yt.top)):Bi(yt)}}}),Vr(function(){if(x){var yt=X.slice(bt,rt+1);x(yt,X)}},[bt,rt,X]);var wr=$qe(X,I,$,a),as=T==null?void 0:T({start:bt,end:rt,virtual:H,offsetX:xe,offsetY:Dt,rtl:K,getSize:wr}),vs=Iqe(X,bt,rt,g,xe,B,d,qe),es=null;s&&(es=Te(me({},l?"height":"maxHeight",s),Qqe),N&&(es.overflowY="hidden",g&&(es.overflowX="hidden"),Fe&&(es.pointerEvents="none")));var Sl={};return K&&(Sl.dir="rtl"),pu.createElement("div",wn({ref:se,style:Te(Te({},u),{},{position:"relative"}),className:U},Sl,P),pu.createElement(R0,{onResize:Wt},pu.createElement(v,{className:"".concat(i,"-holder"),style:es,ref:Z,onScroll:ze,onMouseEnter:Si},pu.createElement(Oqe,{prefixCls:i,height:dt,offsetX:xe,offsetY:Dt,scrollWidth:g,onInnerResize:F,ref:Q,innerProps:w,rtl:K,extra:as},vs))),H&&dt>s&&pu.createElement(dse,{ref:Cn,prefixCls:i,scrollOffset:oe,scrollRange:dt,rtl:K,onScroll:Ue,onStartMove:Pe,onStopMove:je,spinSize:gi,containerSize:Ft.height,style:E==null?void 0:E.verticalScrollBar,thumbStyle:E==null?void 0:E.verticalScrollBarThumb,showScrollBar:k}),H&&g>Ft.width&&pu.createElement(dse,{ref:gn,prefixCls:i,scrollOffset:xe,scrollRange:g,rtl:K,onScroll:Ue,onStartMove:Pe,onStopMove:je,spinSize:Ln,containerSize:Ft.width,horizontal:!0,style:E==null?void 0:E.horizontalScrollBar,thumbStyle:E==null?void 0:E.horizontalScrollBarThumb,showScrollBar:k}))}var lxe=pu.forwardRef(Jqe);lxe.displayName="List";var eZe=lxe,tZe=eZe,go=ie(de()),fse=ie(de());function nZe(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var iZe=["disabled","title","children","style","className"];function pse(n){return typeof n=="string"||typeof n=="number"}var rZe=function(n,e){var t=J9e(),i=t.prefixCls,r=t.id,s=t.open,a=t.multiple,o=t.mode,l=t.searchValue,u=t.toggleOpen,c=t.notFoundContent,d=t.onPopupScroll,h=go.useContext(B9),f=h.maxCount,p=h.flattenOptions,g=h.onActiveValue,m=h.defaultActiveFirstOption,v=h.onSelect,_=h.menuItemSelectedIcon,y=h.rawValues,x=h.fieldNames,w=h.virtual,T=h.direction,E=h.listHeight,A=h.listItemHeight,k=h.optionRender,P="".concat(i,"-item"),I=oN(function(){return p},[s,p],function(re,fe){return fe[0]&&re[1]!==fe[1]}),D=go.useRef(null),L=go.useMemo(function(){return a&&F6(f)&&(y==null?void 0:y.size)>=f},[a,f,y==null?void 0:y.size]),B=function(re){re.preventDefault()},F=function(re){var fe;(fe=D.current)===null||fe===void 0||fe.scrollTo(typeof re=="number"?{index:re}:re)},$=go.useCallback(function(re){return o==="combobox"?!1:y.has(re)},[o,Pt(y).toString(),y.size]),z=function(re){for(var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,ve=I.length,xe=0;xe<ve;xe+=1){var ye=(re+xe*fe+ve)%ve,Ee=I[ye]||{},Se=Ee.group,Fe=Ee.data;if(!Se&&!(Fe!=null&&Fe.disabled)&&($(Fe.value)||!L))return ye}return-1},N=go.useState(function(){return z(0)}),V=Ve(N,2),H=V[0],K=V[1],U=function(re){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;K(re);var ve={source:fe?"keyboard":"mouse"},xe=I[re];if(!xe){g(null,-1,ve);return}g(xe.value,re,ve)};(0,fse.useEffect)(function(){U(m!==!1?z(0):-1)},[I.length,l]);var X=go.useCallback(function(re){return o==="combobox"?String(re).toLowerCase()===l.toLowerCase():y.has(re)},[o,l,Pt(y).toString(),y.size]);(0,fse.useEffect)(function(){var re=setTimeout(function(){if(!a&&s&&y.size===1){var ve=Array.from(y)[0],xe=I.findIndex(function(ye){var Ee=ye.data;return l?String(Ee.value).startsWith(l):Ee.value===ve});xe!==-1&&(U(xe),F(xe))}});if(s){var fe;(fe=D.current)===null||fe===void 0||fe.scrollTo(void 0)}return function(){return clearTimeout(re)}},[s,l]);var Z=function(re){re!==void 0&&v(re,{selected:!y.has(re)}),a||u(!1)};if(go.useImperativeHandle(e,function(){return{onKeyDown:function(re){var fe=re.which,ve=re.ctrlKey;switch(fe){case Jn.N:case Jn.P:case Jn.UP:case Jn.DOWN:{var xe=0;if(fe===Jn.UP?xe=-1:fe===Jn.DOWN?xe=1:nZe()&&ve&&(fe===Jn.N?xe=1:fe===Jn.P&&(xe=-1)),xe!==0){var ye=z(H+xe,xe);F(ye),U(ye,!0)}break}case Jn.TAB:case Jn.ENTER:{var Ee,Se=I[H];Se&&!(Se!=null&&(Ee=Se.data)!==null&&Ee!==void 0&&Ee.disabled)&&!L?Z(Se.value):Z(void 0),s&&re.preventDefault();break}case Jn.ESC:u(!1),s&&re.stopPropagation()}},onKeyUp:function(){},scrollTo:function(re){F(re)}}}),I.length===0)return go.createElement("div",{role:"listbox",id:"".concat(r,"_list"),className:"".concat(P,"-empty"),onMouseDown:B},c);var Q=Object.keys(x).map(function(re){return x[re]}),se=function(re){return re.label};function ae(re,fe){var ve=re.group;return{role:ve?"presentation":"option",id:"".concat(r,"_list_").concat(fe)}}var ue=function(re){var fe=I[re];if(!fe)return null;var ve=fe.data||{},xe=ve.value,ye=fe.group,Ee=u0(ve,!0),Se=se(fe);return fe?go.createElement("div",wn({"aria-label":typeof Se=="string"&&!ye?Se:null},Ee,{key:re},ae(fe,re),{"aria-selected":X(xe)}),xe):null},oe={role:"listbox",id:"".concat(r,"_list")};return go.createElement(go.Fragment,null,w&&go.createElement("div",wn({},oe,{style:{height:0,width:0,overflow:"hidden"}}),ue(H-1),ue(H),ue(H+1)),go.createElement(tZe,{itemKey:"key",ref:D,data:I,height:E,itemHeight:A,fullHeight:!1,onMouseDown:B,onScroll:d,virtual:w,direction:T,innerProps:w?null:oe},function(re,fe){var ve=re.group,xe=re.groupOption,ye=re.data,Ee=re.label,Se=re.value,Fe=ye.key;if(ve){var Ge,Pe=(Ge=ye.title)!==null&&Ge!==void 0?Ge:pse(Ee)?Ee.toString():void 0;return go.createElement("div",{className:(0,nse.default)(P,"".concat(P,"-group"),ye.className),title:Pe},Ee!==void 0?Ee:Fe)}var je=ye.disabled,qe=ye.title;ye.children;var ot=ye.style,$e=ye.className,et=Ji(ye,iZe),Mt=Qy(et,Q),Ct=$(Se),tt=je||!Ct&&L,xt="".concat(P,"-option"),dt=(0,nse.default)(P,xt,$e,me(me(me(me({},"".concat(xt,"-grouped"),xe),"".concat(xt,"-active"),H===fe&&!tt),"".concat(xt,"-disabled"),tt),"".concat(xt,"-selected"),Ct)),bt=se(re),rt=!_||typeof _=="function"||Ct,Dt=typeof bt=="number"?bt:bt||Se,Je=pse(Dt)?Dt.toString():void 0;return qe!==void 0&&(Je=qe),go.createElement("div",wn({},u0(Mt),w?{}:ae(re,fe),{"aria-selected":X(Se),className:dt,title:Je,onMouseMove:function(){H===fe||tt||U(fe)},onClick:function(){tt||Z(Se)},style:ot}),go.createElement("div",{className:"".concat(xt,"-content")},typeof k=="function"?k(re,{index:fe}):Dt),go.isValidElement(_)||Ct,rt&&go.createElement(MN,{className:"".concat(P,"-option-state"),customizeIcon:_,customizeIconProps:{value:Se,disabled:tt,isSelected:Ct}},Ct?"":null))}))},sZe=go.forwardRef(rZe),aZe=sZe,rV=ie(de()),oZe=function(n,e){var t=rV.useRef({values:new Map,options:new Map}),i=rV.useMemo(function(){var s=t.current,a=s.values,o=s.options,l=n.map(function(d){if(d.label===void 0){var h;return Te(Te({},d),{},{label:(h=a.get(d.value))===null||h===void 0?void 0:h.label})}return d}),u=new Map,c=new Map;return l.forEach(function(d){u.set(d.value,d),c.set(d.value,e.get(d.value)||o.get(d.value))}),t.current.values=u,t.current.options=c,l},[n,e]),r=rV.useCallback(function(s){return e.get(s)||t.current.options.get(s)},[e]);return[i,r]},lZe=ie(de());function sV(n,e){return QSe(n).join("").toUpperCase().includes(e)}var uZe=function(n,e,t,i,r){return lZe.useMemo(function(){if(!t||i===!1)return n;var s=e.options,a=e.label,o=e.value,l=[],u=typeof i=="function",c=t.toUpperCase(),d=u?i:function(f,p){return r?sV(p[r],c):p[s]?sV(p[a!=="children"?a:"label"],c):sV(p[o],c)},h=u?function(f){return B6(f)}:function(f){return f};return n.forEach(function(f){if(f[s]){var p=d(t,h(f));if(p)l.push(f);else{var g=f[s].filter(function(m){return d(t,h(m))});g.length&&l.push(Te(Te({},f),{},me({},s,g)))}return}d(t,h(f))&&l.push(f)}),l},[n,i,r,t,e])},gse=ie(de()),mse=0,cZe=pc();function dZe(){var n;return cZe?(n=mse,mse+=1):n="TEST_OR_SSR",n}function hZe(n){var e=gse.useState(),t=Ve(e,2),i=t[0],r=t[1];return gse.useEffect(function(){r("rc_select_".concat(dZe()))},[]),n||i}var fZe=ie(de()),pZe=ie(de()),gZe=["children","value"],mZe=["children"];function vZe(n){var e=n,t=e.key,i=e.props,r=i.children,s=i.value,a=Ji(i,gZe);return Te({key:t,value:s!==void 0?s:t,children:r},a)}function uxe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Dy(n).map(function(t,i){if(!pZe.isValidElement(t)||!t.type)return null;var r=t,s=r.type.isSelectOptGroup,a=r.key,o=r.props,l=o.children,u=Ji(o,mZe);return e||!s?vZe(t):Te(Te({key:"__RC_SELECT_GRP__".concat(a===null?i:a,"__"),label:a},u),{},{options:uxe(l)})}).filter(function(t){return t})}var yZe=function(n,e,t,i,r){return fZe.useMemo(function(){var s=n,a=!n;a&&(s=uxe(e));var o=new Map,l=new Map,u=function(d,h,f){f&&typeof f=="string"&&d.set(h[f],h)},c=function d(h){for(var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,p=0;p<h.length;p+=1){var g=h[p];!g[t.options]||f?(o.set(g[t.value],g),u(l,g,t.label),u(l,g,i),u(l,g,r)):d(g[t.options],!0)}};return c(s),{options:s,valueOptions:o,labelOptions:l}},[n,e,t,i,r])},_Ze=yZe,vse=ie(de());function yse(n){var e=vse.useRef();e.current=n;var t=vse.useCallback(function(){return e.current.apply(e,arguments)},[]);return t}ie(de());var bZe=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],SZe=["inputValue"];function xZe(n){return!n||bn(n)!=="object"}var wZe=Lo.forwardRef(function(n,e){var t=n.id,i=n.mode,r=n.prefixCls,s=r===void 0?"rc-select":r,a=n.backfill,o=n.fieldNames,l=n.inputValue,u=n.searchValue,c=n.onSearch,d=n.autoClearSearchValue,h=d===void 0?!0:d,f=n.onSelect,p=n.onDeselect,g=n.dropdownMatchSelectWidth,m=g===void 0?!0:g,v=n.filterOption,_=n.filterSort,y=n.optionFilterProp,x=n.optionLabelProp,w=n.options,T=n.optionRender,E=n.children,A=n.defaultActiveFirstOption,k=n.menuItemSelectedIcon,P=n.virtual,I=n.direction,D=n.listHeight,L=D===void 0?200:D,B=n.listItemHeight,F=B===void 0?20:B,$=n.labelRender,z=n.value,N=n.defaultValue,V=n.labelInValue,H=n.onChange,K=n.maxCount,U=Ji(n,bZe),X=hZe(t),Z=$6(i),Q=!!(!w&&E),se=Lo.useMemo(function(){return v===void 0&&i==="combobox"?!1:v},[v,i]),ae=Lo.useMemo(function(){return txe(o,Q)},[JSON.stringify(o),Q]),ue=ig("",{value:u!==void 0?u:l,postState:function(Ze){return Ze||""}}),oe=Ve(ue,2),re=oe[0],fe=oe[1],ve=_Ze(w,E,ae,y,x),xe=ve.valueOptions,ye=ve.labelOptions,Ee=ve.options,Se=Lo.useCallback(function(Ze){var Ue=QSe(Ze);return Ue.map(function(ze){var it,St,Tt,$n,bi;if(xZe(ze))it=ze;else{var ti;Tt=ze.key,St=ze.label,it=(ti=ze.value)!==null&&ti!==void 0?ti:Tt}var Si=xe.get(it);if(Si){var Bi;St===void 0&&(St=Si==null?void 0:Si[x||ae.label]),Tt===void 0&&(Tt=(Bi=Si==null?void 0:Si.key)!==null&&Bi!==void 0?Bi:it),$n=Si==null?void 0:Si.disabled,bi=Si==null?void 0:Si.title}return{label:St,value:it,key:Tt,disabled:$n,title:bi}})},[ae,x,xe]),Fe=ig(N,{value:z}),Ge=Ve(Fe,2),Pe=Ge[0],je=Ge[1],qe=Lo.useMemo(function(){var Ze,Ue=Z&&Pe===null?[]:Pe,ze=Se(Ue);return i==="combobox"&&IXe((Ze=ze[0])===null||Ze===void 0?void 0:Ze.value)?[]:ze},[Pe,Se,i,Z]),ot=oZe(qe,xe),$e=Ve(ot,2),et=$e[0],Mt=$e[1],Ct=Lo.useMemo(function(){if(!i&&et.length===1){var Ze=et[0];if(Ze.value===null&&(Ze.label===null||Ze.label===void 0))return[]}return et.map(function(Ue){var ze;return Te(Te({},Ue),{},{label:(ze=typeof $=="function"?$(Ue):Ue.label)!==null&&ze!==void 0?ze:Ue.value})})},[i,et,$]),tt=Lo.useMemo(function(){return new Set(et.map(function(Ze){return Ze.value}))},[et]);Lo.useEffect(function(){if(i==="combobox"){var Ze,Ue=(Ze=et[0])===null||Ze===void 0?void 0:Ze.value;fe(MXe(Ue)?String(Ue):"")}},[et]);var xt=yse(function(Ze,Ue){var ze=Ue??Ze;return me(me({},ae.value,Ze),ae.label,ze)}),dt=Lo.useMemo(function(){if(i!=="tags")return Ee;var Ze=Pt(Ee),Ue=function(ze){return xe.has(ze)};return Pt(et).sort(function(ze,it){return ze.value<it.value?-1:1}).forEach(function(ze){var it=ze.value;Ue(it)||Ze.push(xt(it,ze.label))}),Ze},[xt,Ee,xe,et,i]),bt=uZe(dt,ae,re,se,y),rt=Lo.useMemo(function(){return i!=="tags"||!re||bt.some(function(Ze){return Ze[y||"value"]===re})||bt.some(function(Ze){return Ze[ae.value]===re})?bt:[xt(re)].concat(Pt(bt))},[xt,y,i,bt,re,ae]),Dt=function Ze(Ue){var ze=Pt(Ue).sort(function(it,St){return _(it,St,{searchValue:re})});return ze.map(function(it){return Array.isArray(it.options)?Te(Te({},it),{},{options:it.options.length>0?Ze(it.options):it.options}):it})},Je=Lo.useMemo(function(){return _?Dt(rt):rt},[rt,_,re]),At=Lo.useMemo(function(){return vqe(Je,{fieldNames:ae,childrenAsData:Q})},[Je,ae,Q]),Ft=function(Ze){var Ue=Se(Ze);if(je(Ue),H&&(Ue.length!==et.length||Ue.some(function(St,Tt){var $n;return(($n=et[Tt])===null||$n===void 0?void 0:$n.value)!==(St==null?void 0:St.value)}))){var ze=V?Ue:Ue.map(function(St){return St.value}),it=Ue.map(function(St){return B6(Mt(St.value))});H(Z?ze:ze[0],Z?it:it[0])}},on=Lo.useState(null),Wt=Ve(on,2),Cn=Wt[0],gn=Wt[1],Ln=Lo.useState(0),gi=Ve(Ln,2),ut=gi[0],gt=gi[1],ct=A!==void 0?A:i!=="combobox",en=Lo.useCallback(function(Ze,Ue){var ze=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},it=ze.source,St=it===void 0?"keyboard":it;gt(Ue),a&&i==="combobox"&&Ze!==null&&St==="keyboard"&&gn(String(Ze))},[a,i]),Bt=function(Ze,Ue,ze){var it=function(){var as,vs=Mt(Ze);return[V?{label:vs==null?void 0:vs[ae.label],value:Ze,key:(as=vs==null?void 0:vs.key)!==null&&as!==void 0?as:Ze}:Ze,B6(vs)]};if(Ue&&f){var St=it(),Tt=Ve(St,2),$n=Tt[0],bi=Tt[1];f($n,bi)}else if(!Ue&&p&&ze!=="clear"){var ti=it(),Si=Ve(ti,2),Bi=Si[0],wr=Si[1];p(Bi,wr)}},Qt=yse(function(Ze,Ue){var ze,it=Z?Ue.selected:!0;it?ze=Z?[].concat(Pt(et),[Ze]):[Ze]:ze=et.filter(function(St){return St.value!==Ze}),Ft(ze),Bt(Ze,it),i==="combobox"?gn(""):(!$6||h)&&(fe(""),gn(""))}),kn=function(Ze,Ue){Ft(Ze);var ze=Ue.type,it=Ue.values;(ze==="remove"||ze==="clear")&&it.forEach(function(St){Bt(St.value,!1,ze)})},jt=function(Ze,Ue){if(fe(Ze),gn(null),Ue.source==="submit"){var ze=(Ze||"").trim();if(ze){var it=Array.from(new Set([].concat(Pt(tt),[ze])));Ft(it),Bt(ze,!0),fe("")}return}Ue.source!=="blur"&&(i==="combobox"&&Ft(Ze),c==null||c(Ze))},Ht=function(Ze){var Ue=Ze;i!=="tags"&&(Ue=Ze.map(function(it){var St=ye.get(it);return St==null?void 0:St.value}).filter(function(it){return it!==void 0}));var ze=Array.from(new Set([].concat(Pt(tt),Pt(Ue))));Ft(ze),ze.forEach(function(it){Bt(it,!0)})},kt=Lo.useMemo(function(){var Ze=P!==!1&&m!==!1;return Te(Te({},ve),{},{flattenOptions:At,onActiveValue:en,defaultActiveFirstOption:ct,onSelect:Qt,menuItemSelectedIcon:k,rawValues:tt,fieldNames:ae,virtual:Ze,direction:I,listHeight:L,listItemHeight:F,childrenAsData:Q,maxCount:K,optionRender:T})},[K,ve,At,en,ct,Qt,k,tt,ae,P,m,I,L,F,Q,T]);return Lo.createElement(B9.Provider,{value:kt},Lo.createElement(Eqe,wn({},U,{id:X,prefixCls:s,ref:e,omitDomProps:SZe,mode:i,displayValues:Ct,onDisplayValuesChange:kn,direction:I,searchValue:re,onSearch:jt,autoClearSearchValue:h,onSearchSplit:Ht,dropdownMatchSelectWidth:m,OptionList:aZe,emptyOptions:!At.length,activeValue:Cn,activeDescendantId:"".concat(X,"_list_").concat(ut)})))}),$9=wZe;$9.Option=sxe;$9.OptGroup=ixe;var CZe=$9,TZe=CZe,EZe=ie(zt());function fC(n,e,t){return(0,EZe.default)({[`${n}-status-success`]:e==="success",[`${n}-status-warning`]:e==="warning",[`${n}-status-error`]:e==="error",[`${n}-status-validating`]:e==="validating",[`${n}-has-feedback`]:t})}var MP=(n,e)=>e||n,OR=ie(de()),db=ie(de()),PR=ie(zt()),Dc=ie(de()),AZe=()=>{let[,n]=Eh(),[e]=fN("Empty"),t=new ns(n.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return Dc.createElement("svg",{style:t,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},Dc.createElement("title",null,(e==null?void 0:e.description)||"Empty"),Dc.createElement("g",{fill:"none",fillRule:"evenodd"},Dc.createElement("g",{transform:"translate(24 31.67)"},Dc.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),Dc.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),Dc.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),Dc.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),Dc.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),Dc.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),Dc.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},Dc.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),Dc.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},kZe=AZe,L_=ie(de()),OZe=ie(de()),PZe=()=>{let[,n]=Eh(),[e]=fN("Empty"),{colorFill:t,colorFillTertiary:i,colorFillQuaternary:r,colorBgContainer:s}=n,{borderColor:a,shadowColor:o,contentColor:l}=(0,OZe.useMemo)(()=>({borderColor:new ns(t).onBackground(s).toHexString(),shadowColor:new ns(i).onBackground(s).toHexString(),contentColor:new ns(r).onBackground(s).toHexString()}),[t,i,r,s]);return L_.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},L_.createElement("title",null,(e==null?void 0:e.description)||"Empty"),L_.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},L_.createElement("ellipse",{fill:o,cx:"32",cy:"33",rx:"32",ry:"7"}),L_.createElement("g",{fillRule:"nonzero",stroke:a},L_.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),L_.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:l}))))},MZe=PZe,IZe=n=>{let{componentCls:e,margin:t,marginXS:i,marginXL:r,fontSize:s,lineHeight:a}=n;return{[e]:{marginInline:i,fontSize:s,lineHeight:a,textAlign:"center",[`${e}-image`]:{height:n.emptyImgHeight,marginBottom:i,opacity:n.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${e}-description`]:{color:n.colorTextDescription},[`${e}-footer`]:{marginTop:t},"&-normal":{marginBlock:r,color:n.colorTextDescription,[`${e}-description`]:{color:n.colorTextDescription},[`${e}-image`]:{height:n.emptyImgHeightMD}},"&-small":{marginBlock:i,color:n.colorTextDescription,[`${e}-image`]:{height:n.emptyImgHeightSM}}}}},RZe=yl("Empty",n=>{let{componentCls:e,controlHeightLG:t,calc:i}=n,r=Jr(n,{emptyImgCls:`${e}-img`,emptyImgHeight:i(t).mul(2.5).equal(),emptyImgHeightMD:t,emptyImgHeightSM:i(t).mul(.875).equal()});return IZe(r)}),DZe=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t},cxe=db.createElement(kZe,null),dxe=db.createElement(MZe,null),N9=n=>{var e;let{className:t,rootClassName:i,prefixCls:r,image:s,description:a,children:o,imageStyle:l,style:u,classNames:c,styles:d}=n,h=DZe(n,["className","rootClassName","prefixCls","image","description","children","imageStyle","style","classNames","styles"]),{getPrefixCls:f,direction:p,className:g,style:m,classNames:v,styles:_,image:y}=Gm("empty"),x=f("empty",r),[w,T,E]=RZe(x),[A]=fN("Empty"),k=typeof a<"u"?a:A==null?void 0:A.description,P=typeof k=="string"?k:"empty",I=(e=s??y)!==null&&e!==void 0?e:cxe,D=null;return typeof I=="string"?D=db.createElement("img",{draggable:!1,alt:P,src:I}):D=I,w(db.createElement("div",Object.assign({className:(0,PR.default)(T,E,x,g,{[`${x}-normal`]:I===dxe,[`${x}-rtl`]:p==="rtl"},t,i,v.root,c==null?void 0:c.root),style:Object.assign(Object.assign(Object.assign(Object.assign({},_.root),m),d==null?void 0:d.root),u)},h),db.createElement("div",{className:(0,PR.default)(`${x}-image`,v.image,c==null?void 0:c.image),style:Object.assign(Object.assign(Object.assign({},l),_.image),d==null?void 0:d.image)},D),k&&db.createElement("div",{className:(0,PR.default)(`${x}-description`,v.description,c==null?void 0:c.description),style:Object.assign(Object.assign({},_.description),d==null?void 0:d.description)},k),o&&db.createElement("div",{className:(0,PR.default)(`${x}-footer`,v.footer,c==null?void 0:c.footer),style:Object.assign(Object.assign({},_.footer),d==null?void 0:d.footer)},o)))};N9.PRESENTED_IMAGE_DEFAULT=cxe;N9.PRESENTED_IMAGE_SIMPLE=dxe;var VT=N9,LZe=n=>{let{componentName:e}=n,{getPrefixCls:t}=(0,OR.useContext)(er),i=t("empty");switch(e){case"Table":case"List":return OR.default.createElement(VT,{image:VT.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return OR.default.createElement(VT,{image:VT.PRESENTED_IMAGE_SIMPLE,className:`${i}-small`});case"Table.filter":return null;default:return OR.default.createElement(VT,null)}},FZe=LZe,_se=ie(de()),BZe=(n,e,t)=>{var i,r;let{variant:s,[n]:a}=_se.useContext(er),o=_se.useContext(HSe),l=a==null?void 0:a.variant,u;typeof e<"u"?u=e:t===!1?u="borderless":u=(r=(i=o??l)!==null&&i!==void 0?i:s)!==null&&r!==void 0?r:"outlined";let c=kUe.includes(u);return[u,c]},IN=BZe,$Ze=n=>{let e={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:n==="scroll"?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},e),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},e),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},e),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},e),{points:["br","tr"],offset:[0,-4]})}};function NZe(n,e){return n||$Ze(e)}var jZe=NZe,bse=n=>{let{optionHeight:e,optionFontSize:t,optionLineHeight:i,optionPadding:r}=n;return{position:"relative",display:"block",minHeight:e,padding:r,color:n.colorText,fontWeight:"normal",fontSize:t,lineHeight:i,boxSizing:"border-box"}},zZe=n=>{let{antCls:e,componentCls:t}=n,i=`${t}-item`,r=`&${e}-slide-up-enter${e}-slide-up-enter-active`,s=`&${e}-slide-up-appear${e}-slide-up-appear-active`,a=`&${e}-slide-up-leave${e}-slide-up-leave-active`,o=`${t}-dropdown-placement-`,l=`${i}-option-selected`;return[{[`${t}-dropdown`]:Object.assign(Object.assign({},wo(n)),{position:"absolute",top:-9999,zIndex:n.zIndexPopup,boxSizing:"border-box",padding:n.paddingXXS,overflow:"hidden",fontSize:n.fontSize,fontVariant:"initial",backgroundColor:n.colorBgElevated,borderRadius:n.borderRadiusLG,outline:"none",boxShadow:n.boxShadowSecondary,[`
          ${r}${o}bottomLeft,
          ${s}${o}bottomLeft
        `]:{animationName:wSe},[`
          ${r}${o}topLeft,
          ${s}${o}topLeft,
          ${r}${o}topRight,
          ${s}${o}topRight
        `]:{animationName:TSe},[`${a}${o}bottomLeft`]:{animationName:CSe},[`
          ${a}${o}topLeft,
          ${a}${o}topRight
        `]:{animationName:ESe},"&-hidden":{display:"none"},[i]:Object.assign(Object.assign({},bse(n)),{cursor:"pointer",transition:`background ${n.motionDurationSlow} ease`,borderRadius:n.borderRadiusSM,"&-group":{color:n.colorTextDescription,fontSize:n.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},d6),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${i}-option-disabled)`]:{backgroundColor:n.optionActiveBg},[`&-selected:not(${i}-option-disabled)`]:{color:n.optionSelectedColor,fontWeight:n.optionSelectedFontWeight,backgroundColor:n.optionSelectedBg,[`${i}-option-state`]:{color:n.colorPrimary}},"&-disabled":{[`&${i}-option-selected`]:{backgroundColor:n.colorBgContainerDisabled},color:n.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:n.calc(n.controlPaddingHorizontal).mul(2).equal()}},"&-empty":Object.assign(Object.assign({},bse(n)),{color:n.colorTextDisabled})}),[`${l}:has(+ ${l})`]:{borderEndStartRadius:0,borderEndEndRadius:0,[`& + ${l}`]:{borderStartStartRadius:0,borderStartEndRadius:0}},"&-rtl":{direction:"rtl"}})},vre(n,"slide-up"),vre(n,"slide-down"),mre(n,"move-up"),mre(n,"move-down")]},HZe=zZe,VZe=n=>{let{multipleSelectItemHeight:e,paddingXXS:t,lineWidth:i,INTERNAL_FIXED_ITEM_MARGIN:r}=n,s=n.max(n.calc(t).sub(i).equal(),0),a=n.max(n.calc(s).sub(r).equal(),0);return{basePadding:s,containerPadding:a,itemHeight:Rt(e),itemLineHeight:Rt(n.calc(e).sub(n.calc(n.lineWidth).mul(2)).equal())}},WZe=n=>{let{multipleSelectItemHeight:e,selectHeight:t,lineWidth:i}=n;return n.calc(t).sub(e).div(2).sub(i).equal()},UZe=n=>{let{componentCls:e,iconCls:t,borderRadiusSM:i,motionDurationSlow:r,paddingXS:s,multipleItemColorDisabled:a,multipleItemBorderColorDisabled:o,colorIcon:l,colorIconHover:u,INTERNAL_FIXED_ITEM_MARGIN:c}=n;return{[`${e}-selection-overflow`]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"calc(100% - 4px)",display:"inline-flex"},[`${e}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",marginBlock:c,borderRadius:i,cursor:"default",transition:`font-size ${r}, line-height ${r}, height ${r}`,marginInlineEnd:n.calc(c).mul(2).equal(),paddingInlineStart:s,paddingInlineEnd:n.calc(s).div(2).equal(),[`${e}-disabled&`]:{color:a,borderColor:o,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:n.calc(s).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},TP()),{display:"inline-flex",alignItems:"center",color:l,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${t}`]:{verticalAlign:"-0.2em"},"&:hover":{color:u}})}}}},GZe=(n,e)=>{let{componentCls:t,INTERNAL_FIXED_ITEM_MARGIN:i}=n,r=`${t}-selection-overflow`,s=n.multipleSelectItemHeight,a=WZe(n),o=e?`${t}-${e}`:"",l=VZe(n);return{[`${t}-multiple${o}`]:Object.assign(Object.assign({},UZe(n)),{[`${t}-selector`]:{display:"flex",alignItems:"center",width:"100%",height:"100%",paddingInline:l.basePadding,paddingBlock:l.containerPadding,borderRadius:n.borderRadius,[`${t}-disabled&`]:{background:n.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${Rt(i)} 0`,lineHeight:Rt(s),visibility:"hidden",content:'"\\a0"'}},[`${t}-selection-item`]:{height:l.itemHeight,lineHeight:Rt(l.itemLineHeight)},[`${t}-selection-wrap`]:{alignSelf:"flex-start","&:after":{lineHeight:Rt(s),marginBlock:i}},[`${t}-prefix`]:{marginInlineStart:n.calc(n.inputPaddingHorizontalBase).sub(l.basePadding).equal()},[`${r}-item + ${r}-item,
        ${t}-prefix + ${t}-selection-wrap
      `]:{[`${t}-selection-search`]:{marginInlineStart:0},[`${t}-selection-placeholder`]:{insetInlineStart:0}},[`${r}-item-suffix`]:{minHeight:l.itemHeight,marginBlock:i},[`${t}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:n.calc(n.inputPaddingHorizontalBase).sub(a).equal(),"\n          &-input,\n          &-mirror\n        ":{height:s,fontFamily:n.fontFamily,lineHeight:Rt(s),transition:`all ${n.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${t}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:n.calc(n.inputPaddingHorizontalBase).sub(l.basePadding).equal(),insetInlineEnd:n.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${n.motionDurationSlow}`}})}};function aV(n,e){let{componentCls:t}=n,i=e?`${t}-${e}`:"",r={[`${t}-multiple${i}`]:{fontSize:n.fontSize,[`${t}-selector`]:{[`${t}-show-search&`]:{cursor:"text"}},[`
        &${t}-show-arrow ${t}-selector,
        &${t}-allow-clear ${t}-selector
      `]:{paddingInlineEnd:n.calc(n.fontSizeIcon).add(n.controlPaddingHorizontal).equal()}}};return[GZe(n,e),r]}var YZe=n=>{let{componentCls:e}=n,t=Jr(n,{selectHeight:n.controlHeightSM,multipleSelectItemHeight:n.multipleItemHeightSM,borderRadius:n.borderRadiusSM,borderRadiusSM:n.borderRadiusXS}),i=Jr(n,{fontSize:n.fontSizeLG,selectHeight:n.controlHeightLG,multipleSelectItemHeight:n.multipleItemHeightLG,borderRadius:n.borderRadiusLG,borderRadiusSM:n.borderRadius});return[aV(n),aV(t,"sm"),{[`${e}-multiple${e}-sm`]:{[`${e}-selection-placeholder`]:{insetInline:n.calc(n.controlPaddingHorizontalSM).sub(n.lineWidth).equal()},[`${e}-selection-search`]:{marginInlineStart:2}}},aV(i,"lg")]},KZe=YZe;function oV(n,e){let{componentCls:t,inputPaddingHorizontalBase:i,borderRadius:r}=n,s=n.calc(n.controlHeight).sub(n.calc(n.lineWidth).mul(2)).equal(),a=e?`${t}-${e}`:"";return{[`${t}-single${a}`]:{fontSize:n.fontSize,height:n.controlHeight,[`${t}-selector`]:Object.assign(Object.assign({},wo(n,!0)),{display:"flex",borderRadius:r,flex:"1 1 auto",[`${t}-selection-wrap:after`]:{lineHeight:Rt(s)},[`${t}-selection-search`]:{position:"absolute",inset:0,width:"100%","&-input":{width:"100%",WebkitAppearance:"textfield"}},[`
          ${t}-selection-item,
          ${t}-selection-placeholder
        `]:{display:"block",padding:0,lineHeight:Rt(s),transition:`all ${n.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${t}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${t}-selection-item:empty:after`,`${t}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${t}-show-arrow ${t}-selection-item,
        &${t}-show-arrow ${t}-selection-search,
        &${t}-show-arrow ${t}-selection-placeholder
      `]:{paddingInlineEnd:n.showArrowPaddingInlineEnd},[`&${t}-open ${t}-selection-item`]:{color:n.colorTextPlaceholder},[`&:not(${t}-customize-input)`]:{[`${t}-selector`]:{width:"100%",height:"100%",alignItems:"center",padding:`0 ${Rt(i)}`,[`${t}-selection-search-input`]:{height:s,fontSize:n.fontSize},"&:after":{lineHeight:Rt(s)}}},[`&${t}-customize-input`]:{[`${t}-selector`]:{"&:after":{display:"none"},[`${t}-selection-search`]:{position:"static",width:"100%"},[`${t}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${Rt(i)}`,"&:after":{display:"none"}}}}}}}function XZe(n){let{componentCls:e}=n,t=n.calc(n.controlPaddingHorizontalSM).sub(n.lineWidth).equal();return[oV(n),oV(Jr(n,{controlHeight:n.controlHeightSM,borderRadius:n.borderRadiusSM}),"sm"),{[`${e}-single${e}-sm`]:{[`&:not(${e}-customize-input)`]:{[`${e}-selector`]:{padding:`0 ${Rt(t)}`},[`&${e}-show-arrow ${e}-selection-search`]:{insetInlineEnd:n.calc(t).add(n.calc(n.fontSize).mul(1.5)).equal()},[`
            &${e}-show-arrow ${e}-selection-item,
            &${e}-show-arrow ${e}-selection-placeholder
          `]:{paddingInlineEnd:n.calc(n.fontSize).mul(1.5).equal()}}}},oV(Jr(n,{controlHeight:n.singleItemHeightLG,fontSize:n.fontSizeLG,borderRadius:n.borderRadiusLG}),"lg")]}var qZe=n=>{let{fontSize:e,lineHeight:t,lineWidth:i,controlHeight:r,controlHeightSM:s,controlHeightLG:a,paddingXXS:o,controlPaddingHorizontal:l,zIndexPopupBase:u,colorText:c,fontWeightStrong:d,controlItemBgActive:h,controlItemBgHover:f,colorBgContainer:p,colorFillSecondary:g,colorBgContainerDisabled:m,colorTextDisabled:v,colorPrimaryHover:_,colorPrimary:y,controlOutline:x}=n,w=o*2,T=i*2,E=Math.min(r-w,r-T),A=Math.min(s-w,s-T),k=Math.min(a-w,a-T);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(o/2),zIndexPopup:u+50,optionSelectedColor:c,optionSelectedFontWeight:d,optionSelectedBg:h,optionActiveBg:f,optionPadding:`${(r-e*t)/2}px ${l}px`,optionFontSize:e,optionLineHeight:t,optionHeight:r,selectorBg:p,clearBg:p,singleItemHeightLG:a,multipleItemBg:g,multipleItemBorderColor:"transparent",multipleItemHeight:E,multipleItemHeightSM:A,multipleItemHeightLG:k,multipleSelectorBgDisabled:m,multipleItemColorDisabled:v,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(n.fontSize*1.25),hoverBorderColor:_,activeBorderColor:y,activeOutlineColor:x,selectAffixPadding:o}},hxe=(n,e)=>{let{componentCls:t,antCls:i,controlOutlineWidth:r}=n;return{[`&:not(${t}-customize-input) ${t}-selector`]:{border:`${Rt(n.lineWidth)} ${n.lineType} ${e.borderColor}`,background:n.selectorBg},[`&:not(${t}-disabled):not(${t}-customize-input):not(${i}-pagination-size-changer)`]:{[`&:hover ${t}-selector`]:{borderColor:e.hoverBorderHover},[`${t}-focused& ${t}-selector`]:{borderColor:e.activeBorderColor,boxShadow:`0 0 0 ${Rt(r)} ${e.activeOutlineColor}`,outline:0},[`${t}-prefix`]:{color:e.color}}}},Sse=(n,e)=>({[`&${n.componentCls}-status-${e.status}`]:Object.assign({},hxe(n,e))}),ZZe=n=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign({},hxe(n,{borderColor:n.colorBorder,hoverBorderHover:n.hoverBorderColor,activeBorderColor:n.activeBorderColor,activeOutlineColor:n.activeOutlineColor,color:n.colorText})),Sse(n,{status:"error",borderColor:n.colorError,hoverBorderHover:n.colorErrorHover,activeBorderColor:n.colorError,activeOutlineColor:n.colorErrorOutline,color:n.colorError})),Sse(n,{status:"warning",borderColor:n.colorWarning,hoverBorderHover:n.colorWarningHover,activeBorderColor:n.colorWarning,activeOutlineColor:n.colorWarningOutline,color:n.colorWarning})),{[`&${n.componentCls}-disabled`]:{[`&:not(${n.componentCls}-customize-input) ${n.componentCls}-selector`]:{background:n.colorBgContainerDisabled,color:n.colorTextDisabled}},[`&${n.componentCls}-multiple ${n.componentCls}-selection-item`]:{background:n.multipleItemBg,border:`${Rt(n.lineWidth)} ${n.lineType} ${n.multipleItemBorderColor}`}})}),fxe=(n,e)=>{let{componentCls:t,antCls:i}=n;return{[`&:not(${t}-customize-input) ${t}-selector`]:{background:e.bg,border:`${Rt(n.lineWidth)} ${n.lineType} transparent`,color:e.color},[`&:not(${t}-disabled):not(${t}-customize-input):not(${i}-pagination-size-changer)`]:{[`&:hover ${t}-selector`]:{background:e.hoverBg},[`${t}-focused& ${t}-selector`]:{background:n.selectorBg,borderColor:e.activeBorderColor,outline:0}}}},xse=(n,e)=>({[`&${n.componentCls}-status-${e.status}`]:Object.assign({},fxe(n,e))}),QZe=n=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign({},fxe(n,{bg:n.colorFillTertiary,hoverBg:n.colorFillSecondary,activeBorderColor:n.activeBorderColor,color:n.colorText})),xse(n,{status:"error",bg:n.colorErrorBg,hoverBg:n.colorErrorBgHover,activeBorderColor:n.colorError,color:n.colorError})),xse(n,{status:"warning",bg:n.colorWarningBg,hoverBg:n.colorWarningBgHover,activeBorderColor:n.colorWarning,color:n.colorWarning})),{[`&${n.componentCls}-disabled`]:{[`&:not(${n.componentCls}-customize-input) ${n.componentCls}-selector`]:{borderColor:n.colorBorder,background:n.colorBgContainerDisabled,color:n.colorTextDisabled}},[`&${n.componentCls}-multiple ${n.componentCls}-selection-item`]:{background:n.colorBgContainer,border:`${Rt(n.lineWidth)} ${n.lineType} ${n.colorSplit}`}})}),JZe=n=>({"&-borderless":{[`${n.componentCls}-selector`]:{background:"transparent",border:`${Rt(n.lineWidth)} ${n.lineType} transparent`},[`&${n.componentCls}-disabled`]:{[`&:not(${n.componentCls}-customize-input) ${n.componentCls}-selector`]:{color:n.colorTextDisabled}},[`&${n.componentCls}-multiple ${n.componentCls}-selection-item`]:{background:n.multipleItemBg,border:`${Rt(n.lineWidth)} ${n.lineType} ${n.multipleItemBorderColor}`},[`&${n.componentCls}-status-error`]:{[`${n.componentCls}-prefix, ${n.componentCls}-selection-item`]:{color:n.colorError}},[`&${n.componentCls}-status-warning`]:{[`${n.componentCls}-prefix, ${n.componentCls}-selection-item`]:{color:n.colorWarning}}}}),pxe=(n,e)=>{let{componentCls:t,antCls:i}=n;return{[`&:not(${t}-customize-input) ${t}-selector`]:{borderWidth:`0 0 ${Rt(n.lineWidth)} 0`,borderStyle:`none none ${n.lineType} none`,borderColor:e.borderColor,background:n.selectorBg,borderRadius:0},[`&:not(${t}-disabled):not(${t}-customize-input):not(${i}-pagination-size-changer)`]:{[`&:hover ${t}-selector`]:{borderColor:e.hoverBorderHover},[`${t}-focused& ${t}-selector`]:{borderColor:e.activeBorderColor,outline:0},[`${t}-prefix`]:{color:e.color}}}},wse=(n,e)=>({[`&${n.componentCls}-status-${e.status}`]:Object.assign({},pxe(n,e))}),eQe=n=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign({},pxe(n,{borderColor:n.colorBorder,hoverBorderHover:n.hoverBorderColor,activeBorderColor:n.activeBorderColor,activeOutlineColor:n.activeOutlineColor,color:n.colorText})),wse(n,{status:"error",borderColor:n.colorError,hoverBorderHover:n.colorErrorHover,activeBorderColor:n.colorError,activeOutlineColor:n.colorErrorOutline,color:n.colorError})),wse(n,{status:"warning",borderColor:n.colorWarning,hoverBorderHover:n.colorWarningHover,activeBorderColor:n.colorWarning,activeOutlineColor:n.colorWarningOutline,color:n.colorWarning})),{[`&${n.componentCls}-disabled`]:{[`&:not(${n.componentCls}-customize-input) ${n.componentCls}-selector`]:{color:n.colorTextDisabled}},[`&${n.componentCls}-multiple ${n.componentCls}-selection-item`]:{background:n.multipleItemBg,border:`${Rt(n.lineWidth)} ${n.lineType} ${n.multipleItemBorderColor}`}})}),tQe=n=>({[n.componentCls]:Object.assign(Object.assign(Object.assign(Object.assign({},ZZe(n)),QZe(n)),JZe(n)),eQe(n))}),nQe=tQe,iQe=n=>{let{componentCls:e}=n;return{position:"relative",transition:`all ${n.motionDurationMid} ${n.motionEaseInOut}`,input:{cursor:"pointer"},[`${e}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${e}-disabled&`]:{cursor:"not-allowed",input:{cursor:"not-allowed"}}}},rQe=n=>{let{componentCls:e}=n;return{[`${e}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none",appearance:"none"}}}},sQe=n=>{let{antCls:e,componentCls:t,inputPaddingHorizontalBase:i,iconCls:r}=n,s={[`${t}-clear`]:{opacity:1,background:n.colorBgBase,borderRadius:"50%"}};return{[t]:Object.assign(Object.assign({},wo(n)),{position:"relative",display:"inline-flex",cursor:"pointer",[`&:not(${t}-customize-input) ${t}-selector`]:Object.assign(Object.assign({},iQe(n)),rQe(n)),[`${t}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},d6),{[`> ${e}-typography`]:{display:"inline"}}),[`${t}-selection-placeholder`]:Object.assign(Object.assign({},d6),{flex:1,color:n.colorTextPlaceholder,pointerEvents:"none"}),[`${t}-arrow`]:Object.assign(Object.assign({},TP()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:i,height:n.fontSizeIcon,marginTop:n.calc(n.fontSizeIcon).mul(-1).div(2).equal(),color:n.colorTextQuaternary,fontSize:n.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",transition:`opacity ${n.motionDurationSlow} ease`,[r]:{verticalAlign:"top",transition:`transform ${n.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${t}-suffix)`]:{pointerEvents:"auto"}},[`${t}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${t}-selection-wrap`]:{display:"flex",width:"100%",position:"relative",minWidth:0,"&:after":{content:'"\\a0"',width:0,overflow:"hidden"}},[`${t}-prefix`]:{flex:"none",marginInlineEnd:n.selectAffixPadding},[`${t}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:i,zIndex:1,display:"inline-block",width:n.fontSizeIcon,height:n.fontSizeIcon,marginTop:n.calc(n.fontSizeIcon).mul(-1).div(2).equal(),color:n.colorTextQuaternary,fontSize:n.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",cursor:"pointer",opacity:0,transition:`color ${n.motionDurationMid} ease, opacity ${n.motionDurationSlow} ease`,textRendering:"auto",transform:"translateZ(0)","&:before":{display:"block"},"&:hover":{color:n.colorIcon}},"@media(hover:none)":s,"&:hover":s}),[`${t}-status`]:{"&-error, &-warning, &-success, &-validating":{[`&${t}-has-feedback`]:{[`${t}-clear`]:{insetInlineEnd:n.calc(i).add(n.fontSize).add(n.paddingXS).equal()}}}}}},aQe=n=>{let{componentCls:e}=n;return[{[e]:{[`&${e}-in-form-item`]:{width:"100%"}}},sQe(n),XZe(n),KZe(n),HZe(n),{[`${e}-rtl`]:{direction:"rtl"}},PN(n,{borderElCls:`${e}-selector`,focusElCls:`${e}-focused`})]},oQe=yl("Select",(n,{rootPrefixCls:e})=>{let t=Jr(n,{rootPrefixCls:e,inputPaddingHorizontalBase:n.calc(n.paddingSM).sub(1).equal(),multipleSelectItemHeight:n.multipleItemHeight,selectHeight:n.controlHeight});return[aQe(t),nQe(t)]},qZe,{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}}),yv=ie(de()),gxe=ie(de()),lQe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},uQe=lQe,cQe=function(n,e){return gxe.createElement(cd,wn({},n,{ref:e,icon:uQe}))},dQe=gxe.forwardRef(cQe),hQe=dQe,mxe=ie(de()),fQe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},pQe=fQe,gQe=function(n,e){return mxe.createElement(cd,wn({},n,{ref:e,icon:pQe}))},mQe=mxe.forwardRef(gQe),vxe=mQe,yxe=ie(de()),vQe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},yQe=vQe,_Qe=function(n,e){return yxe.createElement(cd,wn({},n,{ref:e,icon:yQe}))},bQe=yxe.forwardRef(_Qe),_xe=bQe;function SQe({suffixIcon:n,clearIcon:e,menuItemSelectedIcon:t,removeIcon:i,loading:r,multiple:s,hasFeedback:a,prefixCls:o,showSuffixIcon:l,feedbackIcon:u,showArrow:c,componentName:d}){let h=e??yv.createElement(_N,null),f=v=>n===null&&!a&&!c?null:yv.createElement(yv.Fragment,null,l!==!1&&v,a&&u),p=null;if(n!==void 0)p=f(n);else if(r)p=f(yv.createElement(bN,{spin:!0}));else{let v=`${o}-suffix`;p=({open:_,showSearch:y})=>f(_&&y?yv.createElement(_xe,{className:v}):yv.createElement(vxe,{className:v}))}let g=null;t!==void 0?g=t:s?g=yv.createElement(hQe,null):g=null;let m=null;return i!==void 0?m=i:m=yv.createElement(Q0e,null),{clearIcon:h,suffixIcon:p,itemIcon:g,removeIcon:m}}var Cse=ie(de());function xQe(n){return Cse.default.useMemo(()=>{if(n)return(...e)=>Cse.default.createElement(hC,{space:!0},n.apply(void 0,e))},[n])}var wQe=xQe;function CQe(n,e){return e!==void 0?e:n!==null}var TQe=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t},bxe="SECRET_COMBOBOX_MODE_DO_NOT_USE",EQe=(n,e)=>{var t,i,r,s,a;let{prefixCls:o,bordered:l,className:u,rootClassName:c,getPopupContainer:d,popupClassName:h,dropdownClassName:f,listHeight:p=256,placement:g,listItemHeight:m,size:v,disabled:_,notFoundContent:y,status:x,builtinPlacements:w,dropdownMatchSelectWidth:T,popupMatchSelectWidth:E,direction:A,style:k,allowClear:P,variant:I,dropdownStyle:D,transitionName:L,tagRender:B,maxCount:F,prefix:$,dropdownRender:z,popupRender:N,onDropdownVisibleChange:V,onOpenChange:H,styles:K,classNames:U}=n,X=TQe(n,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear","variant","dropdownStyle","transitionName","tagRender","maxCount","prefix","dropdownRender","popupRender","onDropdownVisibleChange","onOpenChange","styles","classNames"]),{getPopupContainer:Z,getPrefixCls:Q,renderEmpty:se,direction:ae,virtual:ue,popupMatchSelectWidth:oe,popupOverflow:re}=Lv.useContext(er),{showSearch:fe,style:ve,styles:xe,className:ye,classNames:Ee}=Gm("select"),[,Se]=Eh(),Fe=m??(Se==null?void 0:Se.controlHeight),Ge=Q("select",o),Pe=Q(),je=A??ae,{compactSize:qe,compactItemClassnames:ot}=d1(Ge,je),[$e,et]=IN("select",I,l),Mt=dd(Ge),[Ct,tt,xt]=oQe(Ge,Mt),dt=Lv.useMemo(()=>{let{mode:it}=n;if(it!=="combobox")return it===bxe?"combobox":it},[n.mode]),bt=dt==="multiple"||dt==="tags",rt=CQe(n.suffixIcon,n.showArrow),Dt=(t=E??T)!==null&&t!==void 0?t:oe,Je=((i=K==null?void 0:K.popup)===null||i===void 0?void 0:i.root)||((r=xe.popup)===null||r===void 0?void 0:r.root)||D,At=wQe(N||z),Ft=H||V,{status:on,hasFeedback:Wt,isFormItemInput:Cn,feedbackIcon:gn}=Lv.useContext(pl),Ln=MP(on,x),gi;y!==void 0?gi=y:dt==="combobox"?gi=null:gi=(se==null?void 0:se("Select"))||Lv.createElement(FZe,{componentName:"Select"});let{suffixIcon:ut,itemIcon:gt,removeIcon:ct,clearIcon:en}=SQe(Object.assign(Object.assign({},X),{multiple:bt,hasFeedback:Wt,feedbackIcon:gn,showSuffixIcon:rt,prefixCls:Ge,componentName:"Select"})),Bt=P===!0?{clearIcon:en}:P,Qt=Qy(X,["suffixIcon","itemIcon"]),kn=(0,$re.default)(((s=U==null?void 0:U.popup)===null||s===void 0?void 0:s.root)||((a=Ee==null?void 0:Ee.popup)===null||a===void 0?void 0:a.root)||h||f,{[`${Ge}-dropdown-${je}`]:je==="rtl"},c,Ee.root,U==null?void 0:U.root,xt,Mt,tt),jt=hg(it=>{var St;return(St=v??qe)!==null&&St!==void 0?St:it}),Ht=Lv.useContext(dg),kt=_??Ht,Ze=(0,$re.default)({[`${Ge}-lg`]:jt==="large",[`${Ge}-sm`]:jt==="small",[`${Ge}-rtl`]:je==="rtl",[`${Ge}-${$e}`]:et,[`${Ge}-in-form-item`]:Cn},fC(Ge,Ln,Wt),ot,ye,u,Ee.root,U==null?void 0:U.root,c,xt,Mt,tt),Ue=Lv.useMemo(()=>g!==void 0?g:je==="rtl"?"bottomRight":"bottomLeft",[g,je]),[ze]=cSe("SelectLike",Je==null?void 0:Je.zIndex);return Ct(Lv.createElement(TZe,Object.assign({ref:e,virtual:ue,showSearch:fe},Qt,{style:Object.assign(Object.assign(Object.assign(Object.assign({},xe.root),K==null?void 0:K.root),ve),k),dropdownMatchSelectWidth:Dt,transitionName:vSe(Pe,"slide-up",L),builtinPlacements:jZe(w,re),listHeight:p,listItemHeight:Fe,mode:dt,prefixCls:Ge,placement:Ue,direction:je,prefix:$,suffixIcon:ut,menuItemSelectedIcon:gt,removeIcon:ct,allowClear:Bt,notFoundContent:gi,className:Ze,getPopupContainer:d||Z,dropdownClassName:kn,disabled:kt,dropdownStyle:Object.assign(Object.assign({},Je),{zIndex:ze}),maxCount:bt?F:void 0,tagRender:bt?B:void 0,dropdownRender:At,onDropdownVisibleChange:Ft})))},f1=Lv.forwardRef(EQe),AQe=X9e(f1,"dropdownAlign");f1.SECRET_COMBOBOX_MODE_DO_NOT_USE=bxe;f1.Option=sxe;f1.OptGroup=ixe;f1._InternalPanelDoNotUseOrYouWillBeFired=AQe;var MR=f1,kQe=ie(de()),OQe=(n,e)=>{typeof(n==null?void 0:n.addEventListener)<"u"?n.addEventListener("change",e):typeof(n==null?void 0:n.addListener)<"u"&&n.addListener(e)},PQe=(n,e)=>{typeof(n==null?void 0:n.removeEventListener)<"u"?n.removeEventListener("change",e):typeof(n==null?void 0:n.removeListener)<"u"&&n.removeListener(e)},Wk=["xxl","xl","lg","md","sm","xs"],MQe=n=>({xs:`(max-width: ${n.screenXSMax}px)`,sm:`(min-width: ${n.screenSM}px)`,md:`(min-width: ${n.screenMD}px)`,lg:`(min-width: ${n.screenLG}px)`,xl:`(min-width: ${n.screenXL}px)`,xxl:`(min-width: ${n.screenXXL}px)`}),IQe=n=>{let e=n,t=[].concat(Wk).reverse();return t.forEach((i,r)=>{let s=i.toUpperCase(),a=`screen${s}Min`,o=`screen${s}`;if(!(e[a]<=e[o]))throw new Error(`${a}<=${o} fails : !(${e[a]}<=${e[o]})`);if(r<t.length-1){let l=`screen${s}Max`;if(!(e[o]<=e[l]))throw new Error(`${o}<=${l} fails : !(${e[o]}<=${e[l]})`);let u=`screen${t[r+1].toUpperCase()}Min`;if(!(e[l]<=e[u]))throw new Error(`${l}<=${u} fails : !(${e[l]}<=${e[u]})`)}}),n},RQe=()=>{let[,n]=Eh(),e=MQe(IQe(n));return kQe.default.useMemo(()=>{let t=new Map,i=-1,r={};return{responsiveMap:e,matchHandlers:{},dispatch(s){return r=s,t.forEach(a=>a(r)),t.size>=1},subscribe(s){return t.size||this.register(),i+=1,t.set(i,s),s(r),i},unsubscribe(s){t.delete(s),t.size||this.unregister()},register(){Object.entries(e).forEach(([s,a])=>{let o=({matches:u})=>{this.dispatch(Object.assign(Object.assign({},r),{[s]:u}))},l=window.matchMedia(a);OQe(l,o),this.matchHandlers[a]={mql:l,listener:o},o(l)})},unregister(){Object.values(e).forEach(s=>{let a=this.matchHandlers[s];PQe(a==null?void 0:a.mql,a==null?void 0:a.listener)}),t.clear()}}},[e])},DQe=RQe,LQe=ie(de());function FQe(n=!0,e={}){let t=(0,LQe.useRef)(e),[,i]=b8e(),r=DQe();return Vr(()=>{let s=r.subscribe(a=>{t.current=a,n&&i()});return()=>r.unsubscribe(s)},[]),t.current}var BQe=FQe,Uh=ie(de()),lV=ie(zt()),Tse=ie(zt()),Ese=ie(de());function Sxe(n){var e=n.children,t=n.prefixCls,i=n.id,r=n.overlayInnerStyle,s=n.bodyClassName,a=n.className,o=n.style;return Ese.createElement("div",{className:(0,Tse.default)("".concat(t,"-content"),a),style:o},Ese.createElement("div",{className:(0,Tse.default)("".concat(t,"-inner"),s),id:i,role:"tooltip",style:r},typeof e=="function"?e():e))}var $Qe=ie(zt()),IR=ie(de()),j6=ie(de()),$S={shiftX:64,adjustY:1},NS={adjustX:1,shiftY:!0},kd=[0,0],NQe={left:{points:["cr","cl"],overflow:NS,offset:[-4,0],targetOffset:kd},right:{points:["cl","cr"],overflow:NS,offset:[4,0],targetOffset:kd},top:{points:["bc","tc"],overflow:$S,offset:[0,-4],targetOffset:kd},bottom:{points:["tc","bc"],overflow:$S,offset:[0,4],targetOffset:kd},topLeft:{points:["bl","tl"],overflow:$S,offset:[0,-4],targetOffset:kd},leftTop:{points:["tr","tl"],overflow:NS,offset:[-4,0],targetOffset:kd},topRight:{points:["br","tr"],overflow:$S,offset:[0,-4],targetOffset:kd},rightTop:{points:["tl","tr"],overflow:NS,offset:[4,0],targetOffset:kd},bottomRight:{points:["tr","br"],overflow:$S,offset:[0,4],targetOffset:kd},rightBottom:{points:["bl","br"],overflow:NS,offset:[4,0],targetOffset:kd},bottomLeft:{points:["tl","bl"],overflow:$S,offset:[0,4],targetOffset:kd},leftBottom:{points:["br","bl"],overflow:NS,offset:[-4,0],targetOffset:kd}},jQe=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow","classNames","styles"],zQe=function(n,e){var t=n.overlayClassName,i=n.trigger,r=i===void 0?["hover"]:i,s=n.mouseEnterDelay,a=s===void 0?0:s,o=n.mouseLeaveDelay,l=o===void 0?.1:o,u=n.overlayStyle,c=n.prefixCls,d=c===void 0?"rc-tooltip":c,h=n.children,f=n.onVisibleChange,p=n.afterVisibleChange,g=n.transitionName,m=n.animation,v=n.motion,_=n.placement,y=_===void 0?"right":_,x=n.align,w=x===void 0?{}:x,T=n.destroyTooltipOnHide,E=T===void 0?!1:T,A=n.defaultVisible,k=n.getTooltipContainer,P=n.overlayInnerStyle;n.arrowContent;var I=n.overlay,D=n.id,L=n.showArrow,B=L===void 0?!0:L,F=n.classNames,$=n.styles,z=Ji(n,jQe),N=M9(D),V=(0,j6.useRef)(null);(0,j6.useImperativeHandle)(e,function(){return V.current});var H=Te({},z);"visible"in n&&(H.popupVisible=n.visible);var K=function(){return IR.createElement(Sxe,{key:"content",prefixCls:d,id:N,bodyClassName:F==null?void 0:F.body,overlayInnerStyle:Te(Te({},P),$==null?void 0:$.body)},I)},U=function(){var X=IR.Children.only(h),Z=(X==null?void 0:X.props)||{},Q=Te(Te({},Z),{},{"aria-describedby":I?N:null});return IR.cloneElement(h,Q)};return IR.createElement(exe,wn({popupClassName:(0,$Qe.default)(t,F==null?void 0:F.root),prefixCls:d,popup:K,action:r,builtinPlacements:NQe,popupPlacement:y,ref:V,popupAlign:w,getPopupContainer:k,onPopupVisibleChange:f,afterPopupVisibleChange:p,popupTransitionName:g,popupAnimation:m,popupMotion:v,defaultPopupVisible:A,autoDestroy:E,mouseLeaveDelay:l,popupStyle:Te(Te({},u),$==null?void 0:$.root),mouseEnterDelay:a,arrow:B},H),U())},HQe=(0,j6.forwardRef)(zQe),VQe=HQe;function WQe(n){let{sizePopupArrow:e,borderRadiusXS:t,borderRadiusOuter:i}=n,r=e/2,s=0,a=r,o=i*1/Math.sqrt(2),l=r-i*(1-1/Math.sqrt(2)),u=r-t*(1/Math.sqrt(2)),c=i*(Math.sqrt(2)-1)+t*(1/Math.sqrt(2)),d=2*r-u,h=c,f=2*r-o,p=l,g=2*r-s,m=a,v=r*Math.sqrt(2)+i*(Math.sqrt(2)-2),_=i*(Math.sqrt(2)-1),y=`polygon(${_}px 100%, 50% ${_}px, ${2*r-_}px 100%, ${_}px 100%)`,x=`path('M ${s} ${a} A ${i} ${i} 0 0 0 ${o} ${l} L ${u} ${c} A ${t} ${t} 0 0 1 ${d} ${h} L ${f} ${p} A ${i} ${i} 0 0 0 ${g} ${m} Z')`;return{arrowShadowWidth:v,arrowPath:x,arrowPolygon:y}}var UQe=(n,e,t)=>{let{sizePopupArrow:i,arrowPolygon:r,arrowPath:s,arrowShadowWidth:a,borderRadiusXS:o,calc:l}=n;return{pointerEvents:"none",width:i,height:i,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:i,height:l(i).div(2).equal(),background:e,clipPath:{_multi_value_:!0,value:[r,s]},content:'""'},"&::after":{content:'""',position:"absolute",width:a,height:a,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${Rt(o)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:t,zIndex:0,background:"transparent"}}},xxe=8;function wxe(n){let{contentRadius:e,limitVerticalRadius:t}=n,i=e>12?e+2:12;return{arrowOffsetHorizontal:i,arrowOffsetVertical:t?xxe:i}}function RR(n,e){return n?e:{}}function GQe(n,e,t){let{componentCls:i,boxShadowPopoverArrow:r,arrowOffsetVertical:s,arrowOffsetHorizontal:a}=n,{arrowDistance:o=0,arrowPlacement:l={left:!0,right:!0,top:!0,bottom:!0}}={};return{[i]:Object.assign(Object.assign(Object.assign(Object.assign({[`${i}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},UQe(n,e,r)),{"&:before":{background:e}})]},RR(!!l.top,{[[`&-placement-top > ${i}-arrow`,`&-placement-topLeft > ${i}-arrow`,`&-placement-topRight > ${i}-arrow`].join(",")]:{bottom:o,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${i}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":a,[`> ${i}-arrow`]:{left:{_skip_check_:!0,value:a}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${Rt(a)})`,[`> ${i}-arrow`]:{right:{_skip_check_:!0,value:a}}}})),RR(!!l.bottom,{[[`&-placement-bottom > ${i}-arrow`,`&-placement-bottomLeft > ${i}-arrow`,`&-placement-bottomRight > ${i}-arrow`].join(",")]:{top:o,transform:"translateY(-100%)"},[`&-placement-bottom > ${i}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":a,[`> ${i}-arrow`]:{left:{_skip_check_:!0,value:a}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${Rt(a)})`,[`> ${i}-arrow`]:{right:{_skip_check_:!0,value:a}}}})),RR(!!l.left,{[[`&-placement-left > ${i}-arrow`,`&-placement-leftTop > ${i}-arrow`,`&-placement-leftBottom > ${i}-arrow`].join(",")]:{right:{_skip_check_:!0,value:o},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${i}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${i}-arrow`]:{top:s},[`&-placement-leftBottom > ${i}-arrow`]:{bottom:s}})),RR(!!l.right,{[[`&-placement-right > ${i}-arrow`,`&-placement-rightTop > ${i}-arrow`,`&-placement-rightBottom > ${i}-arrow`].join(",")]:{left:{_skip_check_:!0,value:o},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${i}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${i}-arrow`]:{top:s},[`&-placement-rightBottom > ${i}-arrow`]:{bottom:s}}))}}function YQe(n,e,t,i){if(i===!1)return{adjustX:!1,adjustY:!1};let r=i&&typeof i=="object"?i:{},s={};switch(n){case"top":case"bottom":s.shiftX=e.arrowOffsetHorizontal*2+t,s.shiftY=!0,s.adjustY=!0;break;case"left":case"right":s.shiftY=e.arrowOffsetVertical*2+t,s.shiftX=!0,s.adjustX=!0;break}let a=Object.assign(Object.assign({},s),r);return a.shiftX||(a.adjustX=!0),a.shiftY||(a.adjustY=!0),a}var Ase={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},KQe={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},XQe=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function qQe(n){let{arrowWidth:e,autoAdjustOverflow:t,arrowPointAtCenter:i,offset:r,borderRadius:s}=n,a=e/2,o={},l=wxe({contentRadius:s,limitVerticalRadius:!0});return Object.keys(Ase).forEach(u=>{let c=i&&KQe[u]||Ase[u],d=Object.assign(Object.assign({},c),{offset:[0,0],dynamicInset:!0});switch(o[u]=d,XQe.has(u)&&(d.autoArrow=!1),u){case"top":case"topLeft":case"topRight":d.offset[1]=-a-r;break;case"bottom":case"bottomLeft":case"bottomRight":d.offset[1]=a+r;break;case"left":case"leftTop":case"leftBottom":d.offset[0]=-a-r;break;case"right":case"rightTop":case"rightBottom":d.offset[0]=a+r;break}if(i)switch(u){case"topLeft":case"bottomLeft":d.offset[0]=-l.arrowOffsetHorizontal-a;break;case"topRight":case"bottomRight":d.offset[0]=l.arrowOffsetHorizontal+a;break;case"leftTop":case"rightTop":d.offset[1]=-l.arrowOffsetHorizontal*2+a;break;case"leftBottom":case"rightBottom":d.offset[1]=l.arrowOffsetHorizontal*2-a;break}d.overflow=YQe(u,l,e,t),d.htmlRegion="visibleFirst"}),o}var DR=ie(de()),ZQe=ie(zt()),QQe=n=>{let{calc:e,componentCls:t,tooltipMaxWidth:i,tooltipColor:r,tooltipBg:s,tooltipBorderRadius:a,zIndexPopup:o,controlHeight:l,boxShadowSecondary:u,paddingSM:c,paddingXS:d,arrowOffsetHorizontal:h,sizePopupArrow:f}=n,p=e(a).add(f).add(h).equal(),g=e(a).mul(2).add(f).equal();return[{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},wo(n)),{position:"absolute",zIndex:o,display:"block",width:"max-content",maxWidth:i,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":s,[`${t}-inner`]:{minWidth:g,minHeight:l,padding:`${Rt(n.calc(c).div(2).equal())} ${Rt(d)}`,color:`var(--ant-tooltip-color, ${r})`,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:s,borderRadius:a,boxShadow:u,boxSizing:"border-box"},[["&-placement-topLeft","&-placement-topRight","&-placement-bottomLeft","&-placement-bottomRight"].join(",")]:{minWidth:p},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${t}-inner`]:{borderRadius:n.min(a,xxe)}},[`${t}-content`]:{position:"relative"}}),y6e(n,(m,{darkColor:v})=>({[`&${t}-${m}`]:{[`${t}-inner`]:{backgroundColor:v},[`${t}-arrow`]:{"--antd-arrow-background-color":v}}}))),{"&-rtl":{direction:"rtl"}})},GQe(n,"var(--antd-arrow-background-color)"),{[`${t}-pure`]:{position:"relative",maxWidth:"none",margin:n.sizePopupArrow}}]},JQe=n=>Object.assign(Object.assign({zIndexPopup:n.zIndexPopupBase+70},wxe({contentRadius:n.borderRadius,limitVerticalRadius:!0})),WQe(Jr(n,{borderRadiusOuter:Math.min(n.borderRadiusOuter,4)}))),Cxe=(n,e=!0)=>yl("Tooltip",t=>{let{borderRadius:i,colorTextLightSolid:r,colorBgSpotlight:s}=t,a=Jr(t,{tooltipMaxWidth:250,tooltipColor:r,tooltipBorderRadius:i,tooltipBg:s});return[QQe(a),m7e(t,"zoom-big-fast")]},JQe,{resetStyle:!1,injectStyle:e})(n),eJe=ie(zt()),tJe=l0.map(n=>`${n}-inverse`);function nJe(n,e=!0){return e?[].concat(Pt(tJe),Pt(l0)).includes(n):l0.includes(n)}function Txe(n,e){let t=nJe(e),i=(0,eJe.default)({[`${n}-${e}`]:e&&t}),r={},s={},a=v7e(e).toRgb(),o=(.299*a.r+.587*a.g+.114*a.b)/255<.5?"#FFF":"#000";return e&&!t&&(r.background=e,r["--ant-tooltip-color"]=o,s["--antd-arrow-background-color"]=e),{className:i,overlayStyle:r,arrowStyle:s}}var iJe=n=>{let{prefixCls:e,className:t,placement:i="top",title:r,color:s,overlayInnerStyle:a}=n,{getPrefixCls:o}=DR.useContext(er),l=o("tooltip",e),[u,c,d]=Cxe(l),h=Txe(l,s),f=h.arrowStyle,p=Object.assign(Object.assign({},a),h.overlayStyle),g=(0,ZQe.default)(c,d,l,`${l}-pure`,`${l}-placement-${i}`,t,h.className);return u(DR.createElement("div",{className:g,style:f},DR.createElement("div",{className:`${l}-arrow`}),DR.createElement(Sxe,Object.assign({},n,{className:c,prefixCls:l,overlayInnerStyle:p}),r)))},rJe=iJe,sJe=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t},aJe=Uh.forwardRef((n,e)=>{var t,i;let{prefixCls:r,openClassName:s,getTooltipContainer:a,color:o,overlayInnerStyle:l,children:u,afterOpenChange:c,afterVisibleChange:d,destroyTooltipOnHide:h,destroyOnHidden:f,arrow:p=!0,title:g,overlay:m,builtinPlacements:v,arrowPointAtCenter:_=!1,autoAdjustOverflow:y=!0,motion:x,getPopupContainer:w,placement:T="top",mouseEnterDelay:E=.1,mouseLeaveDelay:A=.1,overlayStyle:k,rootClassName:P,overlayClassName:I,styles:D,classNames:L}=n,B=sJe(n,["prefixCls","openClassName","getTooltipContainer","color","overlayInnerStyle","children","afterOpenChange","afterVisibleChange","destroyTooltipOnHide","destroyOnHidden","arrow","title","overlay","builtinPlacements","arrowPointAtCenter","autoAdjustOverflow","motion","getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName","overlayClassName","styles","classNames"]),F=!!p,[,$]=Eh(),{getPopupContainer:z,getPrefixCls:N,direction:V,className:H,style:K,classNames:U,styles:X}=Gm("tooltip"),Z=hN(),Q=Uh.useRef(null),se=()=>{var rt;(rt=Q.current)===null||rt===void 0||rt.forceAlign()};Uh.useImperativeHandle(e,()=>{var rt,Dt;return{forceAlign:se,forcePopupAlign:()=>{Z.deprecated(!1,"forcePopupAlign","forceAlign"),se()},nativeElement:(rt=Q.current)===null||rt===void 0?void 0:rt.nativeElement,popupElement:(Dt=Q.current)===null||Dt===void 0?void 0:Dt.popupElement}});let[ae,ue]=ig(!1,{value:(t=n.open)!==null&&t!==void 0?t:n.visible,defaultValue:(i=n.defaultOpen)!==null&&i!==void 0?i:n.defaultVisible}),oe=!g&&!m&&g!==0,re=rt=>{var Dt,Je;ue(oe?!1:rt),oe||((Dt=n.onOpenChange)===null||Dt===void 0||Dt.call(n,rt),(Je=n.onVisibleChange)===null||Je===void 0||Je.call(n,rt))},fe=Uh.useMemo(()=>{var rt,Dt;let Je=_;return typeof p=="object"&&(Je=(Dt=(rt=p.pointAtCenter)!==null&&rt!==void 0?rt:p.arrowPointAtCenter)!==null&&Dt!==void 0?Dt:_),v||qQe({arrowPointAtCenter:Je,autoAdjustOverflow:y,arrowWidth:F?$.sizePopupArrow:0,borderRadius:$.borderRadius,offset:$.marginXXS})},[_,p,v,$]),ve=Uh.useMemo(()=>g===0?g:m||g||"",[m,g]),xe=Uh.createElement(hC,{space:!0},typeof ve=="function"?ve():ve),ye=N("tooltip",r),Ee=N(),Se=n["data-popover-inject"],Fe=ae;!("open"in n)&&!("visible"in n)&&oe&&(Fe=!1);let Ge=Uh.isValidElement(u)&&!nSe(u)?u:Uh.createElement("span",null,u),Pe=Ge.props,je=!Pe.className||typeof Pe.className=="string"?(0,lV.default)(Pe.className,s||`${ye}-open`):Pe.className,[qe,ot,$e]=Cxe(ye,!Se),et=Txe(ye,o),Mt=et.arrowStyle,Ct=(0,lV.default)(I,{[`${ye}-rtl`]:V==="rtl"},et.className,P,ot,$e,H,U.root,L==null?void 0:L.root),tt=(0,lV.default)(U.body,L==null?void 0:L.body),[xt,dt]=cSe("Tooltip",B.zIndex),bt=Uh.createElement(VQe,Object.assign({},B,{zIndex:xt,showArrow:F,placement:T,mouseEnterDelay:E,mouseLeaveDelay:A,prefixCls:ye,classNames:{root:Ct,body:tt},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Mt),X.root),K),k),D==null?void 0:D.root),body:Object.assign(Object.assign(Object.assign(Object.assign({},X.body),l),D==null?void 0:D.body),et.overlayStyle)},getTooltipContainer:w||a||z,ref:Q,builtinPlacements:fe,overlay:xe,visible:Fe,onVisibleChange:re,afterVisibleChange:c??d,arrowContent:Uh.createElement("span",{className:`${ye}-arrow-content`}),motion:{motionName:vSe(Ee,"zoom-big-fast",n.transitionName),motionDeadline:1e3},destroyTooltipOnHide:f??!!h}),Fe?c0(Ge,{className:je}):Ge);return qe(Uh.createElement(lSe.Provider,{value:dt},bt))}),Exe=aJe;Exe._InternalPanelDoNotUseOrYouWillBeFired=rJe;var oJe=Exe,hp=ie(de()),lJe=ie(zt()),Axe=ie(de()),kxe=Axe.createContext(null),uJe=kxe.Provider,cJe=kxe,Oxe=Axe.createContext(null),dJe=Oxe.Provider,qh=ie(de()),kse=ie(zt()),hJe=ie(zt()),uV=ie(de()),LR=ie(de()),fJe=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],pJe=(0,LR.forwardRef)(function(n,e){var t=n.prefixCls,i=t===void 0?"rc-checkbox":t,r=n.className,s=n.style,a=n.checked,o=n.disabled,l=n.defaultChecked,u=l===void 0?!1:l,c=n.type,d=c===void 0?"checkbox":c,h=n.title,f=n.onChange,p=Ji(n,fJe),g=(0,LR.useRef)(null),m=(0,LR.useRef)(null),v=ig(u,{value:a}),_=Ve(v,2),y=_[0],x=_[1];(0,LR.useImperativeHandle)(e,function(){return{focus:function(E){var A;(A=g.current)===null||A===void 0||A.focus(E)},blur:function(){var E;(E=g.current)===null||E===void 0||E.blur()},input:g.current,nativeElement:m.current}});var w=(0,hJe.default)(i,r,me(me({},"".concat(i,"-checked"),y),"".concat(i,"-disabled"),o)),T=function(E){o||("checked"in n||x(E.target.checked),f==null||f({target:Te(Te({},n),{},{type:d,checked:E.target.checked}),stopPropagation:function(){E.stopPropagation()},preventDefault:function(){E.preventDefault()},nativeEvent:E.nativeEvent}))};return uV.createElement("span",{className:w,title:h,style:s,ref:m},uV.createElement("input",wn({},p,{className:"".concat(i,"-input"),ref:g,onChange:T,disabled:o,checked:!!y,type:d})),uV.createElement("span",{className:"".concat(i,"-inner")}))}),Pxe=pJe,gJe=ie(de());function Mxe(n){let e=gJe.default.useRef(null),t=()=>{Zr.cancel(e.current),e.current=null};return[()=>{t(),e.current=Zr(()=>{e.current=null})},i=>{e.current&&(i.stopPropagation(),t()),n==null||n(i)}]}var mJe=n=>{let{componentCls:e,antCls:t}=n,i=`${e}-group`;return{[i]:Object.assign(Object.assign({},wo(n)),{display:"inline-block",fontSize:0,[`&${i}-rtl`]:{direction:"rtl"},[`&${i}-block`]:{display:"flex"},[`${t}-badge ${t}-badge-count`]:{zIndex:1},[`> ${t}-badge:not(:first-child) > ${t}-button-wrapper`]:{borderInlineStart:"none"}})}},vJe=n=>{let{componentCls:e,wrapperMarginInlineEnd:t,colorPrimary:i,radioSize:r,motionDurationSlow:s,motionDurationMid:a,motionEaseInOutCirc:o,colorBgContainer:l,colorBorder:u,lineWidth:c,colorBgContainerDisabled:d,colorTextDisabled:h,paddingXS:f,dotColorDisabled:p,lineType:g,radioColor:m,radioBgColor:v,calc:_}=n,y=`${e}-inner`,x=4,w=_(r).sub(_(x).mul(2)),T=_(1).mul(r).equal({unit:!0});return{[`${e}-wrapper`]:Object.assign(Object.assign({},wo(n)),{display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:t,cursor:"pointer","&:last-child":{marginInlineEnd:0},[`&${e}-wrapper-rtl`]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:n.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},"&-block":{flex:1,justifyContent:"center"},[`${e}-checked::after`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:`${Rt(c)} ${g} ${i}`,borderRadius:"50%",visibility:"hidden",opacity:0,content:'""'},[e]:Object.assign(Object.assign({},wo(n)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center",borderRadius:"50%"}),[`${e}-wrapper:hover &,
        &:hover ${y}`]:{borderColor:i},[`${e}-input:focus-visible + ${y}`]:gN(n),[`${e}:hover::after, ${e}-wrapper:hover &::after`]:{visibility:"visible"},[`${e}-inner`]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:T,height:T,marginBlockStart:_(1).mul(r).div(-2).equal({unit:!0}),marginInlineStart:_(1).mul(r).div(-2).equal({unit:!0}),backgroundColor:m,borderBlockStart:0,borderInlineStart:0,borderRadius:T,transform:"scale(0)",opacity:0,transition:`all ${s} ${o}`,content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:T,height:T,backgroundColor:l,borderColor:u,borderStyle:"solid",borderWidth:c,borderRadius:"50%",transition:`all ${a}`},[`${e}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0},[`${e}-checked`]:{[y]:{borderColor:i,backgroundColor:v,"&::after":{transform:`scale(${n.calc(n.dotSize).div(r).equal()})`,opacity:1,transition:`all ${s} ${o}`}}},[`${e}-disabled`]:{cursor:"not-allowed",[y]:{backgroundColor:d,borderColor:u,cursor:"not-allowed","&::after":{backgroundColor:p}},[`${e}-input`]:{cursor:"not-allowed"},[`${e}-disabled + span`]:{color:h,cursor:"not-allowed"},[`&${e}-checked`]:{[y]:{"&::after":{transform:`scale(${_(w).div(r).equal()})`}}}},[`span${e} + *`]:{paddingInlineStart:f,paddingInlineEnd:f}})}},yJe=n=>{let{buttonColor:e,controlHeight:t,componentCls:i,lineWidth:r,lineType:s,colorBorder:a,motionDurationMid:o,buttonPaddingInline:l,fontSize:u,buttonBg:c,fontSizeLG:d,controlHeightLG:h,controlHeightSM:f,paddingXS:p,borderRadius:g,borderRadiusSM:m,borderRadiusLG:v,buttonCheckedBg:_,buttonSolidCheckedColor:y,colorTextDisabled:x,colorBgContainerDisabled:w,buttonCheckedBgDisabled:T,buttonCheckedColorDisabled:E,colorPrimary:A,colorPrimaryHover:k,colorPrimaryActive:P,buttonSolidCheckedBg:I,buttonSolidCheckedHoverBg:D,buttonSolidCheckedActiveBg:L,calc:B}=n;return{[`${i}-button-wrapper`]:{position:"relative",display:"inline-block",height:t,margin:0,paddingInline:l,paddingBlock:0,color:e,fontSize:u,lineHeight:Rt(B(t).sub(B(r).mul(2)).equal()),background:c,border:`${Rt(r)} ${s} ${a}`,borderBlockStartWidth:B(r).add(.02).equal(),borderInlineEndWidth:r,cursor:"pointer",transition:[`color ${o}`,`background ${o}`,`box-shadow ${o}`].join(","),a:{color:e},[`> ${i}-button`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:last-child)":{marginInlineEnd:B(r).mul(-1).equal()},"&:first-child":{borderInlineStart:`${Rt(r)} ${s} ${a}`,borderStartStartRadius:g,borderEndStartRadius:g},"&:last-child":{borderStartEndRadius:g,borderEndEndRadius:g},"&:first-child:last-child":{borderRadius:g},[`${i}-group-large &`]:{height:h,fontSize:d,lineHeight:Rt(B(h).sub(B(r).mul(2)).equal()),"&:first-child":{borderStartStartRadius:v,borderEndStartRadius:v},"&:last-child":{borderStartEndRadius:v,borderEndEndRadius:v}},[`${i}-group-small &`]:{height:f,paddingInline:B(p).sub(r).equal(),paddingBlock:0,lineHeight:Rt(B(f).sub(B(r).mul(2)).equal()),"&:first-child":{borderStartStartRadius:m,borderEndStartRadius:m},"&:last-child":{borderStartEndRadius:m,borderEndEndRadius:m}},"&:hover":{position:"relative",color:A},"&:has(:focus-visible)":gN(n),[`${i}-inner, input[type='checkbox'], input[type='radio']`]:{width:0,height:0,opacity:0,pointerEvents:"none"},[`&-checked:not(${i}-button-wrapper-disabled)`]:{zIndex:1,color:A,background:_,borderColor:A,"&::before":{backgroundColor:A},"&:first-child":{borderColor:A},"&:hover":{color:k,borderColor:k,"&::before":{backgroundColor:k}},"&:active":{color:P,borderColor:P,"&::before":{backgroundColor:P}}},[`${i}-group-solid &-checked:not(${i}-button-wrapper-disabled)`]:{color:y,background:I,borderColor:I,"&:hover":{color:y,background:D,borderColor:D},"&:active":{color:y,background:L,borderColor:L}},"&-disabled":{color:x,backgroundColor:w,borderColor:a,cursor:"not-allowed","&:first-child, &:hover":{color:x,backgroundColor:w,borderColor:a}},[`&-disabled${i}-button-wrapper-checked`]:{color:E,backgroundColor:T,borderColor:a,boxShadow:"none"},"&-block":{flex:1,textAlign:"center"}}}},_Je=n=>{let{wireframe:e,padding:t,marginXS:i,lineWidth:r,fontSizeLG:s,colorText:a,colorBgContainer:o,colorTextDisabled:l,controlItemBgActiveDisabled:u,colorTextLightSolid:c,colorPrimary:d,colorPrimaryHover:h,colorPrimaryActive:f,colorWhite:p}=n,g=4,m=s,v=e?m-g*2:m-(g+r)*2;return{radioSize:m,dotSize:v,dotColorDisabled:l,buttonSolidCheckedColor:c,buttonSolidCheckedBg:d,buttonSolidCheckedHoverBg:h,buttonSolidCheckedActiveBg:f,buttonBg:o,buttonCheckedBg:o,buttonColor:a,buttonCheckedBgDisabled:u,buttonCheckedColorDisabled:l,buttonPaddingInline:t-r,wrapperMarginInlineEnd:i,radioColor:e?d:p,radioBgColor:e?o:d}},Ixe=yl("Radio",n=>{let{controlOutline:e,controlOutlineWidth:t}=n,i=`0 0 0 ${Rt(t)} ${e}`,r=Jr(n,{radioFocusShadow:i,radioButtonFocusShadow:i});return[mJe(r),vJe(r),yJe(r)]},_Je,{unitless:{radioSize:!0,dotSize:!0}}),bJe=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t},SJe=(n,e)=>{var t,i;let r=qh.useContext(cJe),s=qh.useContext(Oxe),{getPrefixCls:a,direction:o,radio:l}=qh.useContext(er),u=qh.useRef(null),c=Th(e,u),{isFormItemInput:d}=qh.useContext(pl),h=$=>{var z,N;(z=n.onChange)===null||z===void 0||z.call(n,$),(N=r==null?void 0:r.onChange)===null||N===void 0||N.call(r,$)},{prefixCls:f,className:p,rootClassName:g,children:m,style:v,title:_}=n,y=bJe(n,["prefixCls","className","rootClassName","children","style","title"]),x=a("radio",f),w=((r==null?void 0:r.optionType)||s)==="button",T=w?`${x}-button`:x,E=dd(x),[A,k,P]=Ixe(x,E),I=Object.assign({},y),D=qh.useContext(dg);r&&(I.name=r.name,I.onChange=h,I.checked=n.value===r.value,I.disabled=(t=I.disabled)!==null&&t!==void 0?t:r.disabled),I.disabled=(i=I.disabled)!==null&&i!==void 0?i:D;let L=(0,kse.default)(`${T}-wrapper`,{[`${T}-wrapper-checked`]:I.checked,[`${T}-wrapper-disabled`]:I.disabled,[`${T}-wrapper-rtl`]:o==="rtl",[`${T}-wrapper-in-form-item`]:d,[`${T}-wrapper-block`]:!!(r!=null&&r.block)},l==null?void 0:l.className,p,g,k,P,E),[B,F]=Mxe(I.onClick);return A(qh.createElement(E9,{component:"Radio",disabled:I.disabled},qh.createElement("label",{className:L,style:Object.assign(Object.assign({},l==null?void 0:l.style),v),onMouseEnter:n.onMouseEnter,onMouseLeave:n.onMouseLeave,title:_,onClick:B},qh.createElement(Pxe,Object.assign({},I,{className:(0,kse.default)(I.className,{[xN]:!w}),type:"radio",prefixCls:T,ref:c,onClick:F})),m!==void 0?qh.createElement("span",{className:`${T}-label`},m):null)))},xJe=qh.forwardRef(SJe),BL=xJe,Ose=ie(de()),wJe=["parentNode"],CJe="form_item";function uA(n){return n===void 0||n===!1?[]:Array.isArray(n)?n:[n]}function Rxe(n,e){if(!n.length)return;let t=n.join("_");return e?`${e}_${t}`:wJe.includes(t)?`${CJe}_${t}`:t}function Dxe(n,e,t,i,r,s){let a=i;return s!==void 0?a=s:t.validating?a="validating":n.length?a="error":e.length?a="warning":(t.touched||r&&t.validated)&&(a="success"),a}var TJe=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function z6(n){return uA(n).join("_")}function Pse(n,e){let t=e.getFieldInstance(n),i=Cbe(t);if(i)return i;let r=Rxe(uA(n),e.__INTERNAL__.name);if(r)return document.getElementById(r)}function Lxe(n){let[e]=D9(),t=Ose.useRef({}),i=Ose.useMemo(()=>n??Object.assign(Object.assign({},e),{__INTERNAL__:{itemRef:r=>s=>{let a=z6(r);s?t.current[a]=s:delete t.current[a]}},scrollToField:(r,s={})=>{let{focus:a}=s,o=TJe(s,["focus"]),l=Pse(r,i);l&&(qGe(l,Object.assign({scrollMode:"if-needed",block:"nearest"},o)),a&&i.focusField(r))},focusField:r=>{var s,a;let o=i.getFieldInstance(r);typeof(o==null?void 0:o.focus)=="function"?o.focus():(a=(s=Pse(r,i))===null||s===void 0?void 0:s.focus)===null||a===void 0||a.call(s)},getFieldInstance:r=>{let s=z6(r);return t.current[s]}}),[n,e]);return[i]}var EJe=hp.forwardRef((n,e)=>{let{getPrefixCls:t,direction:i}=hp.useContext(er),{name:r}=hp.useContext(pl),s=M9(z6(r)),{prefixCls:a,className:o,rootClassName:l,options:u,buttonStyle:c="outline",disabled:d,children:h,size:f,style:p,id:g,optionType:m,name:v=s,defaultValue:_,value:y,block:x=!1,onChange:w,onMouseEnter:T,onMouseLeave:E,onFocus:A,onBlur:k}=n,[P,I]=ig(_,{value:y}),D=hp.useCallback(X=>{let Z=P,Q=X.target.value;"value"in n||I(Q),Q!==Z&&(w==null||w(X))},[P,I,w]),L=t("radio",a),B=`${L}-group`,F=dd(L),[$,z,N]=Ixe(L,F),V=h;u&&u.length>0&&(V=u.map(X=>typeof X=="string"||typeof X=="number"?hp.createElement(BL,{key:X.toString(),prefixCls:L,disabled:d,value:X,checked:P===X},X):hp.createElement(BL,{key:`radio-group-value-options-${X.value}`,prefixCls:L,disabled:X.disabled||d,value:X.value,checked:P===X.value,title:X.title,style:X.style,className:X.className,id:X.id,required:X.required},X.label)));let H=hg(f),K=(0,lJe.default)(B,`${B}-${c}`,{[`${B}-${H}`]:H,[`${B}-rtl`]:i==="rtl",[`${B}-block`]:x},o,l,z,N,F),U=hp.useMemo(()=>({onChange:D,value:P,disabled:d,name:v,optionType:m,block:x}),[D,P,d,v,m,x]);return $(hp.createElement("div",Object.assign({},u0(n,{aria:!0,data:!0}),{className:K,style:p,onMouseEnter:T,onMouseLeave:E,onFocus:A,onBlur:k,id:g,ref:e}),hp.createElement(uJe,{value:U},V)))}),AJe=hp.memo(EJe),S2=ie(de()),kJe=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t},OJe=(n,e)=>{let{getPrefixCls:t}=S2.useContext(er),{prefixCls:i}=n,r=kJe(n,["prefixCls"]),s=t("radio",i);return S2.createElement(dJe,{value:"button"},S2.createElement(BL,Object.assign({prefixCls:s},r,{type:"radio",ref:e})))},PJe=S2.forwardRef(OJe),RN=BL;RN.Button=PJe;RN.Group=AJe;RN.__ANT_RADIO=!0;var MJe=RN;function IP(n){return Jr(n,{inputAffixPadding:n.paddingXXS})}var RP=n=>{let{controlHeight:e,fontSize:t,lineHeight:i,lineWidth:r,controlHeightSM:s,controlHeightLG:a,fontSizeLG:o,lineHeightLG:l,paddingSM:u,controlPaddingHorizontalSM:c,controlPaddingHorizontal:d,colorFillAlter:h,colorPrimaryHover:f,colorPrimary:p,controlOutlineWidth:g,controlOutline:m,colorErrorOutline:v,colorWarningOutline:_,colorBgContainer:y,inputFontSize:x,inputFontSizeLG:w,inputFontSizeSM:T}=n,E=x||t,A=T||E,k=w||o,P=Math.round((e-E*i)/2*10)/10-r,I=Math.round((s-A*i)/2*10)/10-r,D=Math.ceil((a-k*l)/2*10)/10-r;return{paddingBlock:Math.max(P,0),paddingBlockSM:Math.max(I,0),paddingBlockLG:Math.max(D,0),paddingInline:u-r,paddingInlineSM:c-r,paddingInlineLG:d-r,addonBg:h,activeBorderColor:p,hoverBorderColor:f,activeShadow:`0 0 0 ${g}px ${m}`,errorActiveShadow:`0 0 0 ${g}px ${v}`,warningActiveShadow:`0 0 0 ${g}px ${_}`,hoverBg:y,activeBg:y,inputFontSize:E,inputFontSizeLG:k,inputFontSizeSM:A}},IJe=n=>({borderColor:n.hoverBorderColor,backgroundColor:n.hoverBg}),j9=n=>({color:n.colorTextDisabled,backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},IJe(Jr(n,{hoverBorderColor:n.colorBorder,hoverBg:n.colorBgContainerDisabled})))}),Fxe=(n,e)=>({background:n.colorBgContainer,borderWidth:n.lineWidth,borderStyle:n.lineType,borderColor:e.borderColor,"&:hover":{borderColor:e.hoverBorderColor,backgroundColor:n.hoverBg},"&:focus, &:focus-within":{borderColor:e.activeBorderColor,boxShadow:e.activeShadow,outline:0,backgroundColor:n.activeBg}}),Mse=(n,e)=>({[`&${n.componentCls}-status-${e.status}:not(${n.componentCls}-disabled)`]:Object.assign(Object.assign({},Fxe(n,e)),{[`${n.componentCls}-prefix, ${n.componentCls}-suffix`]:{color:e.affixColor}}),[`&${n.componentCls}-status-${e.status}${n.componentCls}-disabled`]:{borderColor:e.borderColor}}),Bxe=(n,e)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Fxe(n,{borderColor:n.colorBorder,hoverBorderColor:n.hoverBorderColor,activeBorderColor:n.activeBorderColor,activeShadow:n.activeShadow})),{[`&${n.componentCls}-disabled, &[disabled]`]:Object.assign({},j9(n))}),Mse(n,{status:"error",borderColor:n.colorError,hoverBorderColor:n.colorErrorBorderHover,activeBorderColor:n.colorError,activeShadow:n.errorActiveShadow,affixColor:n.colorError})),Mse(n,{status:"warning",borderColor:n.colorWarning,hoverBorderColor:n.colorWarningBorderHover,activeBorderColor:n.colorWarning,activeShadow:n.warningActiveShadow,affixColor:n.colorWarning})),e)}),Ise=(n,e)=>({[`&${n.componentCls}-group-wrapper-status-${e.status}`]:{[`${n.componentCls}-group-addon`]:{borderColor:e.addonBorderColor,color:e.addonColor}}}),$xe=n=>({"&-outlined":Object.assign(Object.assign(Object.assign({[`${n.componentCls}-group`]:{"&-addon":{background:n.addonBg,border:`${Rt(n.lineWidth)} ${n.lineType} ${n.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},Ise(n,{status:"error",addonBorderColor:n.colorError,addonColor:n.colorErrorText})),Ise(n,{status:"warning",addonBorderColor:n.colorWarning,addonColor:n.colorWarningText})),{[`&${n.componentCls}-group-wrapper-disabled`]:{[`${n.componentCls}-group-addon`]:Object.assign({},j9(n))}})}),Nxe=(n,e)=>{let{componentCls:t}=n;return{"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${t}-disabled, &[disabled]`]:{color:n.colorTextDisabled,cursor:"not-allowed"},[`&${t}-status-error`]:{"&, & input, & textarea":{color:n.colorError}},[`&${t}-status-warning`]:{"&, & input, & textarea":{color:n.colorWarning}}},e)}},jxe=(n,e)=>{var t;return{background:e.bg,borderWidth:n.lineWidth,borderStyle:n.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:(t=e==null?void 0:e.inputColor)!==null&&t!==void 0?t:"unset"},"&:hover":{background:e.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:e.activeBorderColor,backgroundColor:n.activeBg}}},Rse=(n,e)=>({[`&${n.componentCls}-status-${e.status}:not(${n.componentCls}-disabled)`]:Object.assign(Object.assign({},jxe(n,e)),{[`${n.componentCls}-prefix, ${n.componentCls}-suffix`]:{color:e.affixColor}})}),zxe=(n,e)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},jxe(n,{bg:n.colorFillTertiary,hoverBg:n.colorFillSecondary,activeBorderColor:n.activeBorderColor})),{[`&${n.componentCls}-disabled, &[disabled]`]:Object.assign({},j9(n))}),Rse(n,{status:"error",bg:n.colorErrorBg,hoverBg:n.colorErrorBgHover,activeBorderColor:n.colorError,inputColor:n.colorErrorText,affixColor:n.colorError})),Rse(n,{status:"warning",bg:n.colorWarningBg,hoverBg:n.colorWarningBgHover,activeBorderColor:n.colorWarning,inputColor:n.colorWarningText,affixColor:n.colorWarning})),e)}),Dse=(n,e)=>({[`&${n.componentCls}-group-wrapper-status-${e.status}`]:{[`${n.componentCls}-group-addon`]:{background:e.addonBg,color:e.addonColor}}}),Hxe=n=>({"&-filled":Object.assign(Object.assign(Object.assign({[`${n.componentCls}-group-addon`]:{background:n.colorFillTertiary,"&:last-child":{position:"static"}}},Dse(n,{status:"error",addonBg:n.colorErrorBg,addonColor:n.colorErrorText})),Dse(n,{status:"warning",addonBg:n.colorWarningBg,addonColor:n.colorWarningText})),{[`&${n.componentCls}-group-wrapper-disabled`]:{[`${n.componentCls}-group`]:{"&-addon":{background:n.colorFillTertiary,color:n.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${Rt(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderTop:`${Rt(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderBottom:`${Rt(n.lineWidth)} ${n.lineType} ${n.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${Rt(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderTop:`${Rt(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderBottom:`${Rt(n.lineWidth)} ${n.lineType} ${n.colorBorder}`}}}})}),Vxe=(n,e)=>({background:n.colorBgContainer,borderWidth:`${Rt(n.lineWidth)} 0`,borderStyle:`${n.lineType} none`,borderColor:`transparent transparent ${e.borderColor} transparent`,borderRadius:0,"&:hover":{borderColor:`transparent transparent ${e.borderColor} transparent`,backgroundColor:n.hoverBg},"&:focus, &:focus-within":{borderColor:`transparent transparent ${e.activeBorderColor} transparent`,outline:0,backgroundColor:n.activeBg}}),Lse=(n,e)=>({[`&${n.componentCls}-status-${e.status}:not(${n.componentCls}-disabled)`]:Object.assign(Object.assign({},Vxe(n,e)),{[`${n.componentCls}-prefix, ${n.componentCls}-suffix`]:{color:e.affixColor}}),[`&${n.componentCls}-status-${e.status}${n.componentCls}-disabled`]:{borderColor:`transparent transparent ${e.borderColor} transparent`}}),Wxe=(n,e)=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Vxe(n,{borderColor:n.colorBorder,hoverBorderColor:n.hoverBorderColor,activeBorderColor:n.activeBorderColor,activeShadow:n.activeShadow})),{[`&${n.componentCls}-disabled, &[disabled]`]:{color:n.colorTextDisabled,boxShadow:"none",cursor:"not-allowed","&:hover":{borderColor:`transparent transparent ${n.colorBorder} transparent`}},"input[disabled], textarea[disabled]":{cursor:"not-allowed"}}),Lse(n,{status:"error",borderColor:n.colorError,hoverBorderColor:n.colorErrorBorderHover,activeBorderColor:n.colorError,activeShadow:n.errorActiveShadow,affixColor:n.colorError})),Lse(n,{status:"warning",borderColor:n.colorWarning,hoverBorderColor:n.colorWarningBorderHover,activeBorderColor:n.colorWarning,activeShadow:n.warningActiveShadow,affixColor:n.colorWarning})),e)}),Uxe=n=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:n,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),Gxe=n=>{let{paddingBlockLG:e,lineHeightLG:t,borderRadiusLG:i,paddingInlineLG:r}=n;return{padding:`${Rt(e)} ${Rt(r)}`,fontSize:n.inputFontSizeLG,lineHeight:t,borderRadius:i}},Yxe=n=>({padding:`${Rt(n.paddingBlockSM)} ${Rt(n.paddingInlineSM)}`,fontSize:n.inputFontSizeSM,borderRadius:n.borderRadiusSM}),DN=n=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${Rt(n.paddingBlock)} ${Rt(n.paddingInline)}`,color:n.colorText,fontSize:n.inputFontSize,lineHeight:n.lineHeight,borderRadius:n.borderRadius,transition:`all ${n.motionDurationMid}`},Uxe(n.colorTextPlaceholder)),{"&-lg":Object.assign({},Gxe(n)),"&-sm":Object.assign({},Yxe(n)),"&-rtl, &-textarea-rtl":{direction:"rtl"}}),Kxe=n=>{let{componentCls:e,antCls:t}=n;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:n.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${e}, &-lg > ${e}-group-addon`]:Object.assign({},Gxe(n)),[`&-sm ${e}, &-sm > ${e}-group-addon`]:Object.assign({},Yxe(n)),[`&-lg ${t}-select-single ${t}-select-selector`]:{height:n.controlHeightLG},[`&-sm ${t}-select-single ${t}-select-selector`]:{height:n.controlHeightSM},[`> ${e}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${e}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${Rt(n.paddingInline)}`,color:n.colorText,fontWeight:"normal",fontSize:n.inputFontSize,textAlign:"center",borderRadius:n.borderRadius,transition:`all ${n.motionDurationSlow}`,lineHeight:1,[`${t}-select`]:{margin:`${Rt(n.calc(n.paddingBlock).add(1).mul(-1).equal())} ${Rt(n.calc(n.paddingInline).mul(-1).equal())}`,[`&${t}-select-single:not(${t}-select-customize-input):not(${t}-pagination-size-changer)`]:{[`${t}-select-selector`]:{backgroundColor:"inherit",border:`${Rt(n.lineWidth)} ${n.lineType} transparent`,boxShadow:"none"}}},[`${t}-cascader-picker`]:{margin:`-9px ${Rt(n.calc(n.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${t}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[e]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${e}-search-with-button &`]:{zIndex:0}}},[`> ${e}:first-child, ${e}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${t}-select ${t}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}-affix-wrapper`]:{[`&:not(:first-child) ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}:last-child, ${e}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${t}-select ${t}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${e}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${e}-search &`]:{borderStartStartRadius:n.borderRadius,borderEndStartRadius:n.borderRadius}},[`&:not(:first-child), ${e}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${e}-group-compact`]:Object.assign(Object.assign({display:"block"},f6e()),{[`${e}-group-addon, ${e}-group-wrap, > ${e}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:n.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${e}-affix-wrapper,
        & > ${e}-number-affix-wrapper,
        & > ${t}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:n.calc(n.lineWidth).mul(-1).equal(),borderInlineEndWidth:n.lineWidth},[e]:{float:"none"},[`& > ${t}-select > ${t}-select-selector,
      & > ${t}-select-auto-complete ${e},
      & > ${t}-cascader-picker ${e},
      & > ${e}-group-wrapper ${e}`]:{borderInlineEndWidth:n.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},[`& > ${t}-select-focused`]:{zIndex:1},[`& > ${t}-select > ${t}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${t}-select:first-child > ${t}-select-selector,
      & > ${t}-select-auto-complete:first-child ${e},
      & > ${t}-cascader-picker:first-child ${e}`]:{borderStartStartRadius:n.borderRadius,borderEndStartRadius:n.borderRadius},[`& > *:last-child,
      & > ${t}-select:last-child > ${t}-select-selector,
      & > ${t}-cascader-picker:last-child ${e},
      & > ${t}-cascader-picker-focused:last-child ${e}`]:{borderInlineEndWidth:n.lineWidth,borderStartEndRadius:n.borderRadius,borderEndEndRadius:n.borderRadius},[`& > ${t}-select-auto-complete ${e}`]:{verticalAlign:"top"},[`${e}-group-wrapper + ${e}-group-wrapper`]:{marginInlineStart:n.calc(n.lineWidth).mul(-1).equal(),[`${e}-affix-wrapper`]:{borderRadius:0}},[`${e}-group-wrapper:not(:last-child)`]:{[`&${e}-search > ${e}-group`]:{[`& > ${e}-group-addon > ${e}-search-button`]:{borderRadius:0},[`& > ${e}`]:{borderStartStartRadius:n.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:n.borderRadius}}}})}},RJe=n=>{let{componentCls:e,controlHeightSM:t,lineWidth:i,calc:r}=n,s=16,a=r(t).sub(r(i).mul(2)).sub(s).div(2).equal();return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},wo(n)),DN(n)),Bxe(n)),zxe(n)),Nxe(n)),Wxe(n)),{'&[type="color"]':{height:n.controlHeight,[`&${e}-lg`]:{height:n.controlHeightLG},[`&${e}-sm`]:{height:t,paddingTop:a,paddingBottom:a}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{appearance:"none"}})}},DJe=n=>{let{componentCls:e}=n;return{[`${e}-clear-icon`]:{margin:0,padding:0,lineHeight:0,color:n.colorTextQuaternary,fontSize:n.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${n.motionDurationSlow}`,border:"none",outline:"none",backgroundColor:"transparent","&:hover":{color:n.colorIcon},"&:active":{color:n.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${Rt(n.inputAffixPadding)}`}}}},LJe=n=>{let{componentCls:e,inputAffixPadding:t,colorTextDescription:i,motionDurationSlow:r,colorIcon:s,colorIconHover:a,iconCls:o}=n,l=`${e}-affix-wrapper`,u=`${e}-affix-wrapper-disabled`;return{[l]:Object.assign(Object.assign(Object.assign(Object.assign({},DN(n)),{display:"inline-flex",[`&:not(${e}-disabled):hover`]:{zIndex:1,[`${e}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},[`> input${e}`]:{padding:0},[`> input${e}, > textarea${e}`]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[e]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:n.paddingXS}},"&-show-count-suffix":{color:i,direction:"ltr"},"&-show-count-has-suffix":{marginInlineEnd:n.paddingXXS},"&-prefix":{marginInlineEnd:t},"&-suffix":{marginInlineStart:t}}}),DJe(n)),{[`${o}${e}-password-icon`]:{color:s,cursor:"pointer",transition:`all ${r}`,"&:hover":{color:a}}}),[`${e}-underlined`]:{borderRadius:0},[u]:{[`${o}${e}-password-icon`]:{color:s,cursor:"not-allowed","&:hover":{color:s}}}}},FJe=n=>{let{componentCls:e,borderRadiusLG:t,borderRadiusSM:i}=n;return{[`${e}-group`]:Object.assign(Object.assign(Object.assign({},wo(n)),Kxe(n)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${e}-group-addon`]:{borderRadius:t,fontSize:n.inputFontSizeLG}},"&-sm":{[`${e}-group-addon`]:{borderRadius:i}}},$xe(n)),Hxe(n)),{[`&:not(${e}-compact-first-item):not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}, ${e}-group-addon`]:{borderRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-first-item`]:{[`${e}, ${e}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${e}-compact-first-item)${e}-compact-last-item`]:{[`${e}, ${e}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${e}-compact-first-item)${e}-compact-item`]:{[`${e}-affix-wrapper`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})})}},BJe=n=>{let{componentCls:e,antCls:t}=n,i=`${e}-search`;return{[i]:{[e]:{"&:not([disabled]):hover, &:not([disabled]):focus":{[`+ ${e}-group-addon ${i}-button:not(${t}-btn-color-primary):not(${t}-btn-variant-text)`]:{borderInlineStartColor:n.colorPrimaryHover}}},[`${e}-affix-wrapper`]:{height:n.controlHeight,borderRadius:0},[`${e}-lg`]:{lineHeight:n.calc(n.lineHeightLG).sub(2e-4).equal()},[`> ${e}-group`]:{[`> ${e}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${i}-button`]:{marginInlineEnd:-1,borderStartStartRadius:0,borderEndStartRadius:0,boxShadow:"none"},[`${i}-button:not(${t}-btn-color-primary)`]:{color:n.colorTextDescription,"&:not([disabled]):hover":{color:n.colorPrimaryHover},"&:active":{color:n.colorPrimaryActive},[`&${t}-btn-loading::before`]:{inset:0}}}},[`${i}-button`]:{height:n.controlHeight,"&:hover, &:focus":{zIndex:1}},"&-large":{[`${e}-affix-wrapper, ${i}-button`]:{height:n.controlHeightLG}},"&-small":{[`${e}-affix-wrapper, ${i}-button`]:{height:n.controlHeightSM}},"&-rtl":{direction:"rtl"},[`&${e}-compact-item`]:{[`&:not(${e}-compact-last-item)`]:{[`${e}-group-addon`]:{[`${e}-search-button`]:{marginInlineEnd:n.calc(n.lineWidth).mul(-1).equal(),borderRadius:0}}},[`&:not(${e}-compact-first-item)`]:{[`${e},${e}-affix-wrapper`]:{borderRadius:0}},[`> ${e}-group-addon ${e}-search-button,
        > ${e},
        ${e}-affix-wrapper`]:{"&:hover, &:focus, &:active":{zIndex:2}},[`> ${e}-affix-wrapper-focused`]:{zIndex:2}}}}},$Je=n=>{let{componentCls:e}=n;return{[`${e}-out-of-range`]:{[`&, & input, & textarea, ${e}-show-count-suffix, ${e}-data-count`]:{color:n.colorError}}}},Xxe=yl(["Input","Shared"],n=>{let e=Jr(n,IP(n));return[RJe(e),LJe(e)]},RP,{resetFont:!1}),qxe=yl(["Input","Component"],n=>{let e=Jr(n,IP(n));return[FJe(e),BJe(e),$Je(e),PN(e)]},RP,{resetFont:!1});function NJe(n,e,t){var i=t||{},r=i.noTrailing,s=r===void 0?!1:r,a=i.noLeading,o=a===void 0?!1:a,l=i.debounceMode,u=l===void 0?void 0:l,c,d=!1,h=0;function f(){c&&clearTimeout(c)}function p(m){var v=m||{},_=v.upcomingOnly,y=_===void 0?!1:_;f(),d=!y}function g(){for(var m=arguments.length,v=new Array(m),_=0;_<m;_++)v[_]=arguments[_];var y=this,x=Date.now()-h;if(d)return;function w(){h=Date.now(),e.apply(y,v)}function T(){c=void 0}!o&&u&&!c&&w(),f(),u===void 0&&x>n?o?(h=Date.now(),s||(c=setTimeout(u?T:w,n))):w():s!==!0&&(c=setTimeout(u?T:w,u===void 0?n-x:n))}return g.cancel=p,g}function jJe(n,e,t){var i={},r=i.atBegin,s=r===void 0?!1:r;return NJe(n,e,{debounceMode:s!==!1})}var zJe=n=>{let{checkboxCls:e}=n,t=`${e}-wrapper`;return[{[`${e}-group`]:Object.assign(Object.assign({},wo(n)),{display:"inline-flex",flexWrap:"wrap",columnGap:n.marginXS,[`> ${n.antCls}-row`]:{flex:1}}),[t]:Object.assign(Object.assign({},wo(n)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${t}`]:{marginInlineStart:0},[`&${t}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[e]:Object.assign(Object.assign({},wo(n)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:n.borderRadiusSM,alignSelf:"center",[`${e}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${e}-inner`]:gN(n)},[`${e}-inner`]:{boxSizing:"border-box",display:"block",width:n.checkboxSize,height:n.checkboxSize,direction:"ltr",backgroundColor:n.colorBgContainer,border:`${Rt(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadiusSM,borderCollapse:"separate",transition:`all ${n.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:n.calc(n.checkboxSize).div(14).mul(5).equal(),height:n.calc(n.checkboxSize).div(14).mul(8).equal(),border:`${Rt(n.lineWidthBold)} solid ${n.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${n.motionDurationFast} ${n.motionEaseInBack}, opacity ${n.motionDurationFast}`}},"& + span":{paddingInlineStart:n.paddingXS,paddingInlineEnd:n.paddingXS}})},{[`
        ${t}:not(${t}-disabled),
        ${e}:not(${e}-disabled)
      `]:{[`&:hover ${e}-inner`]:{borderColor:n.colorPrimary}},[`${t}:not(${t}-disabled)`]:{[`&:hover ${e}-checked:not(${e}-disabled) ${e}-inner`]:{backgroundColor:n.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${e}-checked:not(${e}-disabled):after`]:{borderColor:n.colorPrimaryHover}}},{[`${e}-checked`]:{[`${e}-inner`]:{backgroundColor:n.colorPrimary,borderColor:n.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${n.motionDurationMid} ${n.motionEaseOutBack} ${n.motionDurationFast}`}}},[`
        ${t}-checked:not(${t}-disabled),
        ${e}-checked:not(${e}-disabled)
      `]:{[`&:hover ${e}-inner`]:{backgroundColor:n.colorPrimaryHover,borderColor:"transparent"}}},{[e]:{"&-indeterminate":{"&":{[`${e}-inner`]:{backgroundColor:`${n.colorBgContainer}`,borderColor:`${n.colorBorder}`,"&:after":{top:"50%",insetInlineStart:"50%",width:n.calc(n.fontSizeLG).div(2).equal(),height:n.calc(n.fontSizeLG).div(2).equal(),backgroundColor:n.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}},[`&:hover ${e}-inner`]:{backgroundColor:`${n.colorBgContainer}`,borderColor:`${n.colorPrimary}`}}}}},{[`${t}-disabled`]:{cursor:"not-allowed"},[`${e}-disabled`]:{[`&, ${e}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${e}-inner`]:{background:n.colorBgContainerDisabled,borderColor:n.colorBorder,"&:after":{borderColor:n.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:n.colorTextDisabled},[`&${e}-indeterminate ${e}-inner::after`]:{background:n.colorTextDisabled}}}]};function HJe(n,e){let t=Jr(e,{checkboxCls:`.${n}`,checkboxSize:e.controlInteractiveSize});return zJe(t)}var Zxe=yl("Checkbox",(n,{prefixCls:e})=>[HJe(e,n)]),Yu=ie(de()),Fse=ie(zt()),VJe=ie(de()),WJe=VJe.default.createContext(null),Qxe=WJe,UJe=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t},GJe=(n,e)=>{var t;let{prefixCls:i,className:r,rootClassName:s,children:a,indeterminate:o=!1,style:l,onMouseEnter:u,onMouseLeave:c,skipGroup:d=!1,disabled:h}=n,f=UJe(n,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:p,direction:g,checkbox:m}=Yu.useContext(er),v=Yu.useContext(Qxe),{isFormItemInput:_}=Yu.useContext(pl),y=Yu.useContext(dg),x=(t=(v==null?void 0:v.disabled)||h)!==null&&t!==void 0?t:y,w=Yu.useRef(f.value),T=Yu.useRef(null),E=Th(e,T);Yu.useEffect(()=>{v==null||v.registerValue(f.value)},[]),Yu.useEffect(()=>{if(!d)return f.value!==w.current&&(v==null||v.cancelValue(w.current),v==null||v.registerValue(f.value),w.current=f.value),()=>v==null?void 0:v.cancelValue(f.value)},[f.value]),Yu.useEffect(()=>{var N;!((N=T.current)===null||N===void 0)&&N.input&&(T.current.input.indeterminate=o)},[o]);let A=p("checkbox",i),k=dd(A),[P,I,D]=Zxe(A,k),L=Object.assign({},f);v&&!d&&(L.onChange=(...N)=>{f.onChange&&f.onChange.apply(f,N),v.toggleOption&&v.toggleOption({label:a,value:f.value})},L.name=v.name,L.checked=v.value.includes(f.value));let B=(0,Fse.default)(`${A}-wrapper`,{[`${A}-rtl`]:g==="rtl",[`${A}-wrapper-checked`]:L.checked,[`${A}-wrapper-disabled`]:x,[`${A}-wrapper-in-form-item`]:_},m==null?void 0:m.className,r,s,D,k,I),F=(0,Fse.default)({[`${A}-indeterminate`]:o},xN,I),[$,z]=Mxe(L.onClick);return P(Yu.createElement(E9,{component:"Checkbox",disabled:x},Yu.createElement("label",{className:B,style:Object.assign(Object.assign({},m==null?void 0:m.style),l),onMouseEnter:u,onMouseLeave:c,onClick:$},Yu.createElement(Pxe,Object.assign({},L,{onClick:z,prefixCls:A,className:F,disabled:x,ref:E})),a!=null&&Yu.createElement("span",{className:`${A}-label`},a))))},YJe=Yu.forwardRef(GJe),Jxe=YJe,Jf=ie(de()),Bse=ie(zt()),KJe=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t},XJe=Jf.forwardRef((n,e)=>{let{defaultValue:t,children:i,options:r=[],prefixCls:s,className:a,rootClassName:o,style:l,onChange:u}=n,c=KJe(n,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:d,direction:h}=Jf.useContext(er),[f,p]=Jf.useState(c.value||t||[]),[g,m]=Jf.useState([]);Jf.useEffect(()=>{"value"in c&&p(c.value||[])},[c.value]);let v=Jf.useMemo(()=>r.map(F=>typeof F=="string"||typeof F=="number"?{label:F,value:F}:F),[r]),_=F=>{m($=>$.filter(z=>z!==F))},y=F=>{m($=>[].concat(Pt($),[F]))},x=F=>{let $=f.indexOf(F.value),z=Pt(f);$===-1?z.push(F.value):z.splice($,1),"value"in c||p(z),u==null||u(z.filter(N=>g.includes(N)).sort((N,V)=>{let H=v.findIndex(U=>U.value===N),K=v.findIndex(U=>U.value===V);return H-K}))},w=d("checkbox",s),T=`${w}-group`,E=dd(w),[A,k,P]=Zxe(w,E),I=Qy(c,["value","disabled"]),D=r.length?v.map(F=>Jf.createElement(Jxe,{prefixCls:w,key:F.value.toString(),disabled:"disabled"in F?F.disabled:c.disabled,value:F.value,checked:f.includes(F.value),onChange:F.onChange,className:(0,Bse.default)(`${T}-item`,F.className),style:F.style,title:F.title,id:F.id,required:F.required},F.label)):i,L=Jf.useMemo(()=>({toggleOption:x,value:f,disabled:c.disabled,name:c.name,registerValue:y,cancelValue:_}),[x,f,c.disabled,c.name,y,_]),B=(0,Bse.default)(T,{[`${T}-rtl`]:h==="rtl"},a,o,P,E,k);return A(Jf.createElement("div",Object.assign({className:B,style:l},I,{ref:e}),Jf.createElement(Qxe.Provider,{value:L},D)))}),qJe=XJe,z9=Jxe;z9.Group=qJe;z9.__ANT_CHECKBOX=!0;var ZJe=z9,FR=ie(de()),QJe=ie(zt()),JJe=ie(de()),eet=(0,JJe.createContext)({}),ewe=eet,tet=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function $se(n){return n==="auto"?"1 1 auto":typeof n=="number"?`${n} ${n} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(n)?`0 0 ${n}`:n}var net=["xs","sm","md","lg","xl","xxl"],iet=FR.forwardRef((n,e)=>{let{getPrefixCls:t,direction:i}=FR.useContext(er),{gutter:r,wrap:s}=FR.useContext(ewe),{prefixCls:a,span:o,order:l,offset:u,push:c,pull:d,className:h,children:f,flex:p,style:g}=n,m=tet(n,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),v=t("col",a),[_,y,x]=W9e(v),w={},T={};net.forEach(k=>{let P={},I=n[k];typeof I=="number"?P.span=I:typeof I=="object"&&(P=I||{}),delete m[k],T=Object.assign(Object.assign({},T),{[`${v}-${k}-${P.span}`]:P.span!==void 0,[`${v}-${k}-order-${P.order}`]:P.order||P.order===0,[`${v}-${k}-offset-${P.offset}`]:P.offset||P.offset===0,[`${v}-${k}-push-${P.push}`]:P.push||P.push===0,[`${v}-${k}-pull-${P.pull}`]:P.pull||P.pull===0,[`${v}-rtl`]:i==="rtl"}),P.flex&&(T[`${v}-${k}-flex`]=!0,w[`--${v}-${k}-flex`]=$se(P.flex))});let E=(0,QJe.default)(v,{[`${v}-${o}`]:o!==void 0,[`${v}-order-${l}`]:l,[`${v}-offset-${u}`]:u,[`${v}-push-${c}`]:c,[`${v}-pull-${d}`]:d},h,T,y,x),A={};if(r!=null&&r[0]){let k=typeof r[0]=="number"?`${r[0]/2}px`:`calc(${r[0]} / 2)`;A.paddingLeft=k,A.paddingRight=k}return p&&(A.flex=$se(p),s===!1&&!A.minWidth&&(A.minWidth=0)),_(FR.createElement("div",Object.assign({},m,{style:Object.assign(Object.assign(Object.assign({},A),g),w),className:E,ref:e}),f))}),twe=iet,hb=ie(de()),ret=ie(zt());function set(n,e){let t=[void 0,void 0],i=Array.isArray(n)?n:[n,void 0],r=e||{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0};return i.forEach((s,a)=>{if(typeof s=="object"&&s!==null)for(let o=0;o<Wk.length;o++){let l=Wk[o];if(r[l]&&s[l]!==void 0){t[a]=s[l];break}}else t[a]=s}),t}var aet=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function Nse(n,e){let[t,i]=hb.useState(typeof n=="string"?n:""),r=()=>{if(typeof n=="string"&&i(n),typeof n=="object")for(let s=0;s<Wk.length;s++){let a=Wk[s];if(!e||!e[a])continue;let o=n[a];if(o!==void 0){i(o);return}}};return hb.useEffect(()=>{r()},[JSON.stringify(n),e]),t}var oet=hb.forwardRef((n,e)=>{let{prefixCls:t,justify:i,align:r,className:s,style:a,children:o,gutter:l=0,wrap:u}=n,c=aet(n,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:d,direction:h}=hb.useContext(er),f=BQe(!0,null),p=Nse(r,f),g=Nse(i,f),m=d("row",t),[v,_,y]=H9e(m),x=set(l,f),w=(0,ret.default)(m,{[`${m}-no-wrap`]:u===!1,[`${m}-${g}`]:g,[`${m}-${p}`]:p,[`${m}-rtl`]:h==="rtl"},s,_,y),T={};if(x!=null&&x[0]){let P=typeof x[0]=="number"?`${x[0]/-2}px`:`calc(${x[0]} / -2)`;T.marginLeft=P,T.marginRight=P}let[E,A]=x;T.rowGap=A;let k=hb.useMemo(()=>({gutter:[E,A],wrap:u}),[E,A,u]);return v(hb.createElement(ewe.Provider,{value:k},hb.createElement("div",Object.assign({},c,{className:w,style:Object.assign(Object.assign({},T),a),ref:e}),o)))}),uet=oet,il=ie(de()),nwe=ie(de()),cet={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},det=cet,het=function(n,e){return nwe.createElement(cd,wn({},n,{ref:e,icon:det}))},fet=nwe.forwardRef(het),pet=fet,jS=ie(zt());function H6(){return typeof BigInt=="function"}function iwe(n){return!n&&n!==0&&!Number.isNaN(n)||!String(n).trim()}function Vb(n){var e=n.trim(),t=e.startsWith("-");t&&(e=e.slice(1)),e=e.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),e.startsWith(".")&&(e="0".concat(e));var i=e||"0",r=i.split("."),s=r[0]||"0",a=r[1]||"0";s==="0"&&a==="0"&&(t=!1);var o=t?"-":"";return{negative:t,negativeStr:o,trimStr:i,integerStr:s,decimalStr:a,fullStr:"".concat(o).concat(i)}}function H9(n){var e=String(n);return!Number.isNaN(Number(e))&&e.includes("e")}function Sb(n){var e=String(n);if(H9(n)){var t=Number(e.slice(e.indexOf("e-")+2)),i=e.match(/\.(\d+)/);return i!=null&&i[1]&&(t+=i[1].length),t}return e.includes(".")&&V9(e)?e.length-e.indexOf(".")-1:0}function LN(n){var e=String(n);if(H9(n)){if(n>Number.MAX_SAFE_INTEGER)return String(H6()?BigInt(n).toString():Number.MAX_SAFE_INTEGER);if(n<Number.MIN_SAFE_INTEGER)return String(H6()?BigInt(n).toString():Number.MIN_SAFE_INTEGER);e=n.toFixed(Sb(e))}return Vb(e).fullStr}function V9(n){return typeof n=="number"?!Number.isNaN(n):n?/^\s*-?\d+(\.\d+)?\s*$/.test(n)||/^\s*-?\d+\.\s*$/.test(n)||/^\s*-?\.\d+\s*$/.test(n):!1}var get=function(){function n(e){if(Wa(this,n),me(this,"origin",""),me(this,"negative",void 0),me(this,"integer",void 0),me(this,"decimal",void 0),me(this,"decimalLen",void 0),me(this,"empty",void 0),me(this,"nan",void 0),iwe(e)){this.empty=!0;return}if(this.origin=String(e),e==="-"||Number.isNaN(e)){this.nan=!0;return}var t=e;if(H9(t)&&(t=Number(t)),t=typeof t=="string"?t:LN(t),V9(t)){var i=Vb(t);this.negative=i.negative;var r=i.trimStr.split(".");this.integer=BigInt(r[0]);var s=r[1]||"0";this.decimal=BigInt(s),this.decimalLen=s.length}else this.nan=!0}return Ua(n,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(e){var t="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(e,"0"));return BigInt(t)}},{key:"negate",value:function(){var e=new n(this.toString());return e.negative=!e.negative,e}},{key:"cal",value:function(e,t,i){var r=Math.max(this.getDecimalStr().length,e.getDecimalStr().length),s=this.alignDecimal(r),a=e.alignDecimal(r),o=t(s,a).toString(),l=i(r),u=Vb(o),c=u.negativeStr,d=u.trimStr,h="".concat(c).concat(d.padStart(l+1,"0"));return new n("".concat(h.slice(0,-l),".").concat(h.slice(-l)))}},{key:"add",value:function(e){if(this.isInvalidate())return new n(e);var t=new n(e);return t.isInvalidate()?this:this.cal(t,function(i,r){return i+r},function(i){return i})}},{key:"multi",value:function(e){var t=new n(e);return this.isInvalidate()||t.isInvalidate()?new n(NaN):this.cal(t,function(i,r){return i*r},function(i){return i*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toString()===(e==null?void 0:e.toString())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return e?this.isInvalidate()?"":Vb("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),n}(),met=function(){function n(e){if(Wa(this,n),me(this,"origin",""),me(this,"number",void 0),me(this,"empty",void 0),iwe(e)){this.empty=!0;return}this.origin=String(e),this.number=Number(e)}return Ua(n,[{key:"negate",value:function(){return new n(-this.toNumber())}},{key:"add",value:function(e){if(this.isInvalidate())return new n(e);var t=Number(e);if(Number.isNaN(t))return this;var i=this.number+t;if(i>Number.MAX_SAFE_INTEGER)return new n(Number.MAX_SAFE_INTEGER);if(i<Number.MIN_SAFE_INTEGER)return new n(Number.MIN_SAFE_INTEGER);var r=Math.max(Sb(this.number),Sb(t));return new n(i.toFixed(r))}},{key:"multi",value:function(e){var t=Number(e);if(this.isInvalidate()||Number.isNaN(t))return new n(NaN);var i=this.number*t;if(i>Number.MAX_SAFE_INTEGER)return new n(Number.MAX_SAFE_INTEGER);if(i<Number.MIN_SAFE_INTEGER)return new n(Number.MIN_SAFE_INTEGER);var r=Math.max(Sb(this.number),Sb(t));return new n(i.toFixed(r))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toNumber()===(e==null?void 0:e.toNumber())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return e?this.isInvalidate()?"":LN(this.number):this.origin}}]),n}();function rwe(n){return H6()?new get(n):new met(n)}function x2(n,e,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(n==="")return"";var r=Vb(n),s=r.negativeStr,a=r.integerStr,o=r.decimalStr,l="".concat(e).concat(o),u="".concat(s).concat(a);if(t>=0){var c=Number(o[t]);if(c>=5&&!i){var d=rwe(n).add("".concat(s,"0.").concat("0".repeat(t)).concat(10-c));return x2(d.toString(),e,t,i)}return t===0?u:"".concat(u).concat(e).concat(o.padEnd(t,"0").slice(0,t))}return l===".0"?u:"".concat(u).concat(l)}var fp=rwe,vet=ie(zt()),_v=ie(zt()),Wu=ie(de());function yet(n){return!!(n.addonBefore||n.addonAfter)}function _et(n){return!!(n.prefix||n.suffix||n.allowClear)}function jse(n,e,t){var i=e.cloneNode(!0),r=Object.create(n,{target:{value:i},currentTarget:{value:i}});return i.value=t,typeof e.selectionStart=="number"&&typeof e.selectionEnd=="number"&&(i.selectionStart=e.selectionStart,i.selectionEnd=e.selectionEnd),i.setSelectionRange=function(){e.setSelectionRange.apply(e,arguments)},r}function $L(n,e,t,i){if(t){var r=e;if(e.type==="click"){r=jse(e,n,""),t(r);return}if(n.type!=="file"&&i!==void 0){r=jse(e,n,i),t(r);return}t(r)}}function W9(n,e){if(n){n.focus(e);var t=e||{},i=t.cursor;if(i){var r=n.value.length;switch(i){case"start":n.setSelectionRange(0,0);break;case"end":n.setSelectionRange(r,r);break;default:n.setSelectionRange(0,r)}}}}var bet=Wu.default.forwardRef(function(n,e){var t,i,r,s=n.inputElement,a=n.children,o=n.prefixCls,l=n.prefix,u=n.suffix,c=n.addonBefore,d=n.addonAfter,h=n.className,f=n.style,p=n.disabled,g=n.readOnly,m=n.focused,v=n.triggerFocus,_=n.allowClear,y=n.value,x=n.handleReset,w=n.hidden,T=n.classes,E=n.classNames,A=n.dataAttrs,k=n.styles,P=n.components,I=n.onClear,D=a??s,L=(P==null?void 0:P.affixWrapper)||"span",B=(P==null?void 0:P.groupWrapper)||"span",F=(P==null?void 0:P.wrapper)||"span",$=(P==null?void 0:P.groupAddon)||"span",z=(0,Wu.useRef)(null),N=function(ye){var Ee;(Ee=z.current)!==null&&Ee!==void 0&&Ee.contains(ye.target)&&(v==null||v())},V=_et(n),H=(0,Wu.cloneElement)(D,{value:y,className:(0,_v.default)((t=D.props)===null||t===void 0?void 0:t.className,!V&&(E==null?void 0:E.variant))||null}),K=(0,Wu.useRef)(null);if(Wu.default.useImperativeHandle(e,function(){return{nativeElement:K.current||z.current}}),V){var U=null;if(_){var X=!p&&!g&&y,Z="".concat(o,"-clear-icon"),Q=bn(_)==="object"&&_!==null&&_!==void 0&&_.clearIcon?_.clearIcon:"";U=Wu.default.createElement("button",{type:"button",tabIndex:-1,onClick:function(ye){x==null||x(ye),I==null||I()},onMouseDown:function(ye){return ye.preventDefault()},className:(0,_v.default)(Z,me(me({},"".concat(Z,"-hidden"),!X),"".concat(Z,"-has-suffix"),!!u))},Q)}var se="".concat(o,"-affix-wrapper"),ae=(0,_v.default)(se,me(me(me(me(me({},"".concat(o,"-disabled"),p),"".concat(se,"-disabled"),p),"".concat(se,"-focused"),m),"".concat(se,"-readonly"),g),"".concat(se,"-input-with-clear-btn"),u&&_&&y),T==null?void 0:T.affixWrapper,E==null?void 0:E.affixWrapper,E==null?void 0:E.variant),ue=(u||_)&&Wu.default.createElement("span",{className:(0,_v.default)("".concat(o,"-suffix"),E==null?void 0:E.suffix),style:k==null?void 0:k.suffix},U,u);H=Wu.default.createElement(L,wn({className:ae,style:k==null?void 0:k.affixWrapper,onClick:N},A==null?void 0:A.affixWrapper,{ref:z}),l&&Wu.default.createElement("span",{className:(0,_v.default)("".concat(o,"-prefix"),E==null?void 0:E.prefix),style:k==null?void 0:k.prefix},l),H,ue)}if(yet(n)){var oe="".concat(o,"-group"),re="".concat(oe,"-addon"),fe="".concat(oe,"-wrapper"),ve=(0,_v.default)("".concat(o,"-wrapper"),oe,T==null?void 0:T.wrapper,E==null?void 0:E.wrapper),xe=(0,_v.default)(fe,me({},"".concat(fe,"-disabled"),p),T==null?void 0:T.group,E==null?void 0:E.groupWrapper);H=Wu.default.createElement(B,{className:xe,ref:K},Wu.default.createElement(F,{className:ve},c&&Wu.default.createElement($,{className:re},c),H,d&&Wu.default.createElement($,{className:re},d)))}return Wu.default.cloneElement(H,{className:(0,_v.default)((i=H.props)===null||i===void 0?void 0:i.className,h)||null,style:Te(Te({},(r=H.props)===null||r===void 0?void 0:r.style),f),hidden:w})}),U9=bet,cV=ie(zt()),uu=ie(de()),xet=ie(de()),wet=["show"];function swe(n,e){return xet.useMemo(function(){var t={};e&&(t.show=bn(e)==="object"&&e.formatter?e.formatter:!!e),t=Te(Te({},t),n);var i=t,r=i.show,s=Ji(i,wet);return Te(Te({},s),{},{show:!!r,showFormatter:typeof r=="function"?r:void 0,strategy:s.strategy||function(a){return a.length}})},[n,e])}var Cet=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],Tet=(0,uu.forwardRef)(function(n,e){var t=n.autoComplete,i=n.onChange,r=n.onFocus,s=n.onBlur,a=n.onPressEnter,o=n.onKeyDown,l=n.onKeyUp,u=n.prefixCls,c=u===void 0?"rc-input":u,d=n.disabled,h=n.htmlSize,f=n.className,p=n.maxLength,g=n.suffix,m=n.showCount,v=n.count,_=n.type,y=_===void 0?"text":_,x=n.classes,w=n.classNames,T=n.styles,E=n.onCompositionStart,A=n.onCompositionEnd,k=Ji(n,Cet),P=(0,uu.useState)(!1),I=Ve(P,2),D=I[0],L=I[1],B=(0,uu.useRef)(!1),F=(0,uu.useRef)(!1),$=(0,uu.useRef)(null),z=(0,uu.useRef)(null),N=function($e){$.current&&W9($.current,$e)},V=ig(n.defaultValue,{value:n.value}),H=Ve(V,2),K=H[0],U=H[1],X=K==null?"":String(K),Z=(0,uu.useState)(null),Q=Ve(Z,2),se=Q[0],ae=Q[1],ue=swe(v,m),oe=ue.max||p,re=ue.strategy(X),fe=!!oe&&re>oe;(0,uu.useImperativeHandle)(e,function(){var $e;return{focus:N,blur:function(){var et;(et=$.current)===null||et===void 0||et.blur()},setSelectionRange:function(et,Mt,Ct){var tt;(tt=$.current)===null||tt===void 0||tt.setSelectionRange(et,Mt,Ct)},select:function(){var et;(et=$.current)===null||et===void 0||et.select()},input:$.current,nativeElement:(($e=z.current)===null||$e===void 0?void 0:$e.nativeElement)||$.current}}),(0,uu.useEffect)(function(){F.current&&(F.current=!1),L(function($e){return $e&&d?!1:$e})},[d]);var ve=function($e,et,Mt){var Ct=et;if(!B.current&&ue.exceedFormatter&&ue.max&&ue.strategy(et)>ue.max){if(Ct=ue.exceedFormatter(et,{max:ue.max}),et!==Ct){var tt,xt;ae([((tt=$.current)===null||tt===void 0?void 0:tt.selectionStart)||0,((xt=$.current)===null||xt===void 0?void 0:xt.selectionEnd)||0])}}else if(Mt.source==="compositionEnd")return;U(Ct),$.current&&$L($.current,$e,i,Ct)};(0,uu.useEffect)(function(){if(se){var $e;($e=$.current)===null||$e===void 0||$e.setSelectionRange.apply($e,Pt(se))}},[se]);var xe=function($e){ve($e,$e.target.value,{source:"change"})},ye=function($e){B.current=!1,ve($e,$e.currentTarget.value,{source:"compositionEnd"}),A==null||A($e)},Ee=function($e){a&&$e.key==="Enter"&&!F.current&&(F.current=!0,a($e)),o==null||o($e)},Se=function($e){$e.key==="Enter"&&(F.current=!1),l==null||l($e)},Fe=function($e){L(!0),r==null||r($e)},Ge=function($e){F.current&&(F.current=!1),L(!1),s==null||s($e)},Pe=function($e){U(""),N(),$.current&&$L($.current,$e,i)},je=fe&&"".concat(c,"-out-of-range"),qe=function(){var $e=Qy(n,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return uu.default.createElement("input",wn({autoComplete:t},$e,{onChange:xe,onFocus:Fe,onBlur:Ge,onKeyDown:Ee,onKeyUp:Se,className:(0,cV.default)(c,me({},"".concat(c,"-disabled"),d),w==null?void 0:w.input),style:T==null?void 0:T.input,ref:$,size:h,type:y,onCompositionStart:function(et){B.current=!0,E==null||E(et)},onCompositionEnd:ye}))},ot=function(){var $e=Number(oe)>0;if(g||ue.show){var et=ue.showFormatter?ue.showFormatter({value:X,count:re,maxLength:oe}):"".concat(re).concat($e?" / ".concat(oe):"");return uu.default.createElement(uu.default.Fragment,null,ue.show&&uu.default.createElement("span",{className:(0,cV.default)("".concat(c,"-show-count-suffix"),me({},"".concat(c,"-show-count-has-suffix"),!!g),w==null?void 0:w.count),style:Te({},T==null?void 0:T.count)},et),g)}return null};return uu.default.createElement(U9,wn({},k,{prefixCls:c,className:(0,cV.default)(f,je),handleReset:Pe,value:X,focused:D,triggerFocus:N,suffix:ot(),disabled:d,classes:x,classNames:w,styles:T,ref:z}),qe())}),Eet=Tet,Aet=Eet;function ket(n,e){return typeof Proxy<"u"&&n?new Proxy(n,{get:function(t,i){if(e[i])return e[i];var r=t[i];return typeof r=="function"?r.bind(t):r}}):n}var Yr=ie(de()),Oet=ie(de());function Pet(n,e){var t=(0,Oet.useRef)(null);function i(){try{var s=n.selectionStart,a=n.selectionEnd,o=n.value,l=o.substring(0,s),u=o.substring(a);t.current={start:s,end:a,value:o,beforeTxt:l,afterTxt:u}}catch{}}function r(){if(n&&t.current&&e)try{var s=n.value,a=t.current,o=a.beforeTxt,l=a.afterTxt,u=a.start,c=s.length;if(s.startsWith(o))c=o.length;else if(s.endsWith(l))c=s.length-t.current.afterTxt.length;else{var d=o[u-1],h=s.indexOf(d,u-1);h!==-1&&(c=h+1)}n.setSelectionRange(c,c)}catch(f){dh(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(f.message))}}return[i,r]}var Lg=ie(de()),zse=ie(zt()),Met=ie(de()),Iet=function(){var n=(0,Met.useState)(!1),e=Ve(n,2),t=e[0],i=e[1];return Vr(function(){i(F9())},[]),t},Ret=Iet,Det=200,Let=600;function Fet(n){var e=n.prefixCls,t=n.upNode,i=n.downNode,r=n.upDisabled,s=n.downDisabled,a=n.onStep,o=Lg.useRef(),l=Lg.useRef([]),u=Lg.useRef();u.current=a;var c=function(){clearTimeout(o.current)},d=function(_,y){_.preventDefault(),c(),u.current(y);function x(){u.current(y),o.current=setTimeout(x,Det)}o.current=setTimeout(x,Let)};Lg.useEffect(function(){return function(){c(),l.current.forEach(function(_){return Zr.cancel(_)})}},[]);var h=Ret();if(h)return null;var f="".concat(e,"-handler"),p=(0,zse.default)(f,"".concat(f,"-up"),me({},"".concat(f,"-up-disabled"),r)),g=(0,zse.default)(f,"".concat(f,"-down"),me({},"".concat(f,"-down-disabled"),s)),m=function(){return l.current.push(Zr(c))},v={unselectable:"on",role:"button",onMouseUp:m,onMouseLeave:m};return Lg.createElement("div",{className:"".concat(f,"-wrap")},Lg.createElement("span",wn({},v,{onMouseDown:function(_){d(_,!0)},"aria-label":"Increase Value","aria-disabled":r,className:p}),t||Lg.createElement("span",{unselectable:"on",className:"".concat(e,"-handler-up-inner")})),Lg.createElement("span",wn({},v,{onMouseDown:function(_){d(_,!1)},"aria-label":"Decrease Value","aria-disabled":s,className:g}),i||Lg.createElement("span",{unselectable:"on",className:"".concat(e,"-handler-down-inner")})))}function Hse(n){var e=typeof n=="number"?LN(n):Vb(n).fullStr,t=e.includes(".");return t?Vb(e.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:n+"0"}var Vse=ie(de()),Bet=function(){var n=(0,Vse.useRef)(0),e=function(){Zr.cancel(n.current)};return(0,Vse.useEffect)(function(){return e},[]),function(t){e(),n.current=Zr(function(){t()})}},$et=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","changeOnWheel","controls","classNames","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep","changeOnBlur","domRef"],Net=["disabled","style","prefixCls","value","prefix","suffix","addonBefore","addonAfter","className","classNames"],Wse=function(n,e){return n||e.isEmpty()?e.toString():e.toNumber()},Use=function(n){var e=fp(n);return e.isInvalidate()?null:e},jet=Yr.forwardRef(function(n,e){var t=n.prefixCls,i=n.className,r=n.style,s=n.min,a=n.max,o=n.step,l=o===void 0?1:o,u=n.defaultValue,c=n.value,d=n.disabled,h=n.readOnly,f=n.upHandler,p=n.downHandler,g=n.keyboard,m=n.changeOnWheel,v=m===void 0?!1:m,_=n.controls,y=_===void 0?!0:_;n.classNames;var x=n.stringMode,w=n.parser,T=n.formatter,E=n.precision,A=n.decimalSeparator,k=n.onChange,P=n.onInput,I=n.onPressEnter,D=n.onStep,L=n.changeOnBlur,B=L===void 0?!0:L,F=n.domRef,$=Ji(n,$et),z="".concat(t,"-input"),N=Yr.useRef(null),V=Yr.useState(!1),H=Ve(V,2),K=H[0],U=H[1],X=Yr.useRef(!1),Z=Yr.useRef(!1),Q=Yr.useRef(!1),se=Yr.useState(function(){return fp(c??u)}),ae=Ve(se,2),ue=ae[0],oe=ae[1];function re(ut){c===void 0&&oe(ut)}var fe=Yr.useCallback(function(ut,gt){if(!gt)return E>=0?E:Math.max(Sb(ut),Sb(l))},[E,l]),ve=Yr.useCallback(function(ut){var gt=String(ut);if(w)return w(gt);var ct=gt;return A&&(ct=ct.replace(A,".")),ct.replace(/[^\w.-]+/g,"")},[w,A]),xe=Yr.useRef(""),ye=Yr.useCallback(function(ut,gt){if(T)return T(ut,{userTyping:gt,input:String(xe.current)});var ct=typeof ut=="number"?LN(ut):ut;if(!gt){var en=fe(ct,gt);if(V9(ct)&&(A||en>=0)){var Bt=A||".";ct=x2(ct,Bt,en)}}return ct},[T,fe,A]),Ee=Yr.useState(function(){var ut=u??c;return ue.isInvalidate()&&["string","number"].includes(bn(ut))?Number.isNaN(ut)?"":ut:ye(ue.toString(),!1)}),Se=Ve(Ee,2),Fe=Se[0],Ge=Se[1];xe.current=Fe;function Pe(ut,gt){Ge(ye(ut.isInvalidate()?ut.toString(!1):ut.toString(!gt),gt))}var je=Yr.useMemo(function(){return Use(a)},[a,E]),qe=Yr.useMemo(function(){return Use(s)},[s,E]),ot=Yr.useMemo(function(){return!je||!ue||ue.isInvalidate()?!1:je.lessEquals(ue)},[je,ue]),$e=Yr.useMemo(function(){return!qe||!ue||ue.isInvalidate()?!1:ue.lessEquals(qe)},[qe,ue]),et=Pet(N.current,K),Mt=Ve(et,2),Ct=Mt[0],tt=Mt[1],xt=function(ut){return je&&!ut.lessEquals(je)?je:qe&&!qe.lessEquals(ut)?qe:null},dt=function(ut){return!xt(ut)},bt=function(ut,gt){var ct=ut,en=dt(ct)||ct.isEmpty();if(!ct.isEmpty()&&!gt&&(ct=xt(ct)||ct,en=!0),!h&&!d&&en){var Bt=ct.toString(),Qt=fe(Bt,gt);return Qt>=0&&(ct=fp(x2(Bt,".",Qt)),dt(ct)||(ct=fp(x2(Bt,".",Qt,!0)))),ct.equals(ue)||(re(ct),k==null||k(ct.isEmpty()?null:Wse(x,ct)),c===void 0&&Pe(ct,gt)),ct}return ue},rt=Bet(),Dt=function ut(gt){if(Ct(),xe.current=gt,Ge(gt),!Z.current){var ct=ve(gt),en=fp(ct);en.isNaN()||bt(en,!0)}P==null||P(gt),rt(function(){var Bt=gt;w||(Bt=gt.replace(//g,".")),Bt!==gt&&ut(Bt)})},Je=function(){Z.current=!0},At=function(){Z.current=!1,Dt(N.current.value)},Ft=function(ut){Dt(ut.target.value)},on=function(ut){var gt;if(!(ut&&ot||!ut&&$e)){X.current=!1;var ct=fp(Q.current?Hse(l):l);ut||(ct=ct.negate());var en=(ue||fp(0)).add(ct.toString()),Bt=bt(en,!1);D==null||D(Wse(x,Bt),{offset:Q.current?Hse(l):l,type:ut?"up":"down"}),(gt=N.current)===null||gt===void 0||gt.focus()}},Wt=function(ut){var gt=fp(ve(Fe)),ct;gt.isNaN()?ct=bt(ue,ut):ct=bt(gt,ut),c!==void 0?Pe(ue,!1):ct.isNaN()||Pe(ct,!1)},Cn=function(){X.current=!0},gn=function(ut){var gt=ut.key,ct=ut.shiftKey;X.current=!0,Q.current=ct,gt==="Enter"&&(Z.current||(X.current=!1),Wt(!1),I==null||I(ut)),g!==!1&&!Z.current&&["Up","ArrowUp","Down","ArrowDown"].includes(gt)&&(on(gt==="Up"||gt==="ArrowUp"),ut.preventDefault())},Ln=function(){X.current=!1,Q.current=!1};Yr.useEffect(function(){if(v&&K){var ut=function(ct){on(ct.deltaY<0),ct.preventDefault()},gt=N.current;if(gt)return gt.addEventListener("wheel",ut,{passive:!1}),function(){return gt.removeEventListener("wheel",ut)}}});var gi=function(){B&&Wt(!1),U(!1),X.current=!1};return sA(function(){ue.isInvalidate()||Pe(ue,!1)},[E,T]),sA(function(){var ut=fp(c);oe(ut);var gt=fp(ve(Fe));(!ut.equals(gt)||!X.current||T)&&Pe(ut,X.current)},[c]),sA(function(){T&&tt()},[Fe]),Yr.createElement("div",{ref:F,className:(0,vet.default)(t,i,me(me(me(me(me({},"".concat(t,"-focused"),K),"".concat(t,"-disabled"),d),"".concat(t,"-readonly"),h),"".concat(t,"-not-a-number"),ue.isNaN()),"".concat(t,"-out-of-range"),!ue.isInvalidate()&&!dt(ue))),style:r,onFocus:function(){U(!0)},onBlur:gi,onKeyDown:gn,onKeyUp:Ln,onCompositionStart:Je,onCompositionEnd:At,onBeforeInput:Cn},y&&Yr.createElement(Fet,{prefixCls:t,upNode:f,downNode:p,upDisabled:ot,downDisabled:$e,onStep:on}),Yr.createElement("div",{className:"".concat(z,"-wrap")},Yr.createElement("input",wn({autoComplete:"off",role:"spinbutton","aria-valuemin":s,"aria-valuemax":a,"aria-valuenow":ue.isInvalidate()?null:ue.toString(),step:l},$,{ref:Th(N,e),className:z,value:Fe,onChange:Ft,disabled:d,readOnly:h}))))}),zet=Yr.forwardRef(function(n,e){var t=n.disabled,i=n.style,r=n.prefixCls,s=r===void 0?"rc-input-number":r,a=n.value,o=n.prefix,l=n.suffix,u=n.addonBefore,c=n.addonAfter,d=n.className,h=n.classNames,f=Ji(n,Net),p=Yr.useRef(null),g=Yr.useRef(null),m=Yr.useRef(null),v=function(_){m.current&&W9(m.current,_)};return Yr.useImperativeHandle(e,function(){return ket(m.current,{focus:v,nativeElement:p.current.nativeElement||g.current})}),Yr.createElement(U9,{className:d,triggerFocus:v,prefixCls:s,value:a,disabled:t,style:i,prefix:o,suffix:l,addonAfter:c,addonBefore:u,classNames:h,components:{affixWrapper:"div",groupWrapper:"div",wrapper:"div",groupAddon:"div"},ref:p},Yr.createElement(jet,wn({prefixCls:s,disabled:t,ref:m,domRef:g,className:h==null?void 0:h.input},f)))}),Het=zet,Vet=Het,Wet=n=>{var e;let t=(e=n.handleVisible)!==null&&e!==void 0?e:"auto",i=n.controlHeightSM-n.lineWidth*2;return Object.assign(Object.assign({},RP(n)),{controlWidth:90,handleWidth:i,handleFontSize:n.fontSize/2,handleVisible:t,handleActiveBg:n.colorFillAlter,handleBg:n.colorBgContainer,filledHandleBg:new ns(n.colorFillSecondary).onBackground(n.colorBgContainer).toHexString(),handleHoverColor:n.colorPrimary,handleBorderColor:n.colorBorder,handleOpacity:t===!0?1:0,handleVisibleWidth:t===!0?i:0})},Gse=({componentCls:n,borderRadiusSM:e,borderRadiusLG:t},i)=>{let r=i==="lg"?t:e;return{[`&-${i}`]:{[`${n}-handler-wrap`]:{borderStartEndRadius:r,borderEndEndRadius:r},[`${n}-handler-up`]:{borderStartEndRadius:r},[`${n}-handler-down`]:{borderEndEndRadius:r}}}},Uet=n=>{let{componentCls:e,lineWidth:t,lineType:i,borderRadius:r,inputFontSizeSM:s,inputFontSizeLG:a,controlHeightLG:o,controlHeightSM:l,colorError:u,paddingInlineSM:c,paddingBlockSM:d,paddingBlockLG:h,paddingInlineLG:f,colorIcon:p,motionDurationMid:g,handleHoverColor:m,handleOpacity:v,paddingInline:_,paddingBlock:y,handleBg:x,handleActiveBg:w,colorTextDisabled:T,borderRadiusSM:E,borderRadiusLG:A,controlWidth:k,handleBorderColor:P,filledHandleBg:I,lineHeightLG:D,calc:L}=n;return[{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},wo(n)),DN(n)),{display:"inline-block",width:k,margin:0,padding:0,borderRadius:r}),Bxe(n,{[`${e}-handler-wrap`]:{background:x,[`${e}-handler-down`]:{borderBlockStart:`${Rt(t)} ${i} ${P}`}}})),zxe(n,{[`${e}-handler-wrap`]:{background:I,[`${e}-handler-down`]:{borderBlockStart:`${Rt(t)} ${i} ${P}`}},"&:focus-within":{[`${e}-handler-wrap`]:{background:x}}})),Wxe(n,{[`${e}-handler-wrap`]:{background:x,[`${e}-handler-down`]:{borderBlockStart:`${Rt(t)} ${i} ${P}`}}})),Nxe(n)),{"&-rtl":{direction:"rtl",[`${e}-input`]:{direction:"rtl"}},"&-lg":{padding:0,fontSize:a,lineHeight:D,borderRadius:A,[`input${e}-input`]:{height:L(o).sub(L(t).mul(2)).equal(),padding:`${Rt(h)} ${Rt(f)}`}},"&-sm":{padding:0,fontSize:s,borderRadius:E,[`input${e}-input`]:{height:L(l).sub(L(t).mul(2)).equal(),padding:`${Rt(d)} ${Rt(c)}`}},"&-out-of-range":{[`${e}-input-wrap`]:{input:{color:u}}},"&-group":Object.assign(Object.assign(Object.assign({},wo(n)),Kxe(n)),{"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",textAlign:"start",verticalAlign:"top",[`${e}-affix-wrapper`]:{width:"100%"},"&-lg":{[`${e}-group-addon`]:{borderRadius:A,fontSize:n.fontSizeLG}},"&-sm":{[`${e}-group-addon`]:{borderRadius:E}}},$xe(n)),Hxe(n)),{[`&:not(${e}-compact-first-item):not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}, ${e}-group-addon`]:{borderRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-first-item`]:{[`${e}, ${e}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${e}-compact-first-item)${e}-compact-last-item`]:{[`${e}, ${e}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})}),[`&-disabled ${e}-input`]:{cursor:"not-allowed"},[e]:{"&-input":Object.assign(Object.assign(Object.assign(Object.assign({},wo(n)),{width:"100%",padding:`${Rt(y)} ${Rt(_)}`,textAlign:"start",backgroundColor:"transparent",border:0,borderRadius:r,outline:0,transition:`all ${g} linear`,appearance:"textfield",fontSize:"inherit"}),Uxe(n.colorTextPlaceholder)),{'&[type="number"]::-webkit-inner-spin-button, &[type="number"]::-webkit-outer-spin-button':{margin:0,appearance:"none"}})},[`&:hover ${e}-handler-wrap, &-focused ${e}-handler-wrap`]:{width:n.handleWidth,opacity:1}})},{[e]:Object.assign(Object.assign(Object.assign({[`${e}-handler-wrap`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,width:n.handleVisibleWidth,opacity:v,height:"100%",borderStartStartRadius:0,borderStartEndRadius:r,borderEndEndRadius:r,borderEndStartRadius:0,display:"flex",flexDirection:"column",alignItems:"stretch",transition:`all ${g}`,overflow:"hidden",[`${e}-handler`]:{display:"flex",alignItems:"center",justifyContent:"center",flex:"auto",height:"40%",[`
              ${e}-handler-up-inner,
              ${e}-handler-down-inner
            `]:{marginInlineEnd:0,fontSize:n.handleFontSize}}},[`${e}-handler`]:{height:"50%",overflow:"hidden",color:p,fontWeight:"bold",lineHeight:0,textAlign:"center",cursor:"pointer",borderInlineStart:`${Rt(t)} ${i} ${P}`,transition:`all ${g} linear`,"&:active":{background:w},"&:hover":{height:"60%",[`
              ${e}-handler-up-inner,
              ${e}-handler-down-inner
            `]:{color:m}},"&-up-inner, &-down-inner":Object.assign(Object.assign({},TP()),{color:p,transition:`all ${g} linear`,userSelect:"none"})},[`${e}-handler-up`]:{borderStartEndRadius:r},[`${e}-handler-down`]:{borderEndEndRadius:r}},Gse(n,"lg")),Gse(n,"sm")),{"&-disabled, &-readonly":{[`${e}-handler-wrap`]:{display:"none"},[`${e}-input`]:{color:"inherit"}},[`
          ${e}-handler-up-disabled,
          ${e}-handler-down-disabled
        `]:{cursor:"not-allowed"},[`
          ${e}-handler-up-disabled:hover &-handler-up-inner,
          ${e}-handler-down-disabled:hover &-handler-down-inner
        `]:{color:T}})}]},Get=n=>{let{componentCls:e,paddingBlock:t,paddingInline:i,inputAffixPadding:r,controlWidth:s,borderRadiusLG:a,borderRadiusSM:o,paddingInlineLG:l,paddingInlineSM:u,paddingBlockLG:c,paddingBlockSM:d,motionDurationMid:h}=n;return{[`${e}-affix-wrapper`]:Object.assign(Object.assign({[`input${e}-input`]:{padding:`${Rt(t)} 0`}},DN(n)),{position:"relative",display:"inline-flex",alignItems:"center",width:s,padding:0,paddingInlineStart:i,"&-lg":{borderRadius:a,paddingInlineStart:l,[`input${e}-input`]:{padding:`${Rt(c)} 0`}},"&-sm":{borderRadius:o,paddingInlineStart:u,[`input${e}-input`]:{padding:`${Rt(d)} 0`}},[`&:not(${e}-disabled):hover`]:{zIndex:1},"&-focused, &:focus":{zIndex:1},[`&-disabled > ${e}-disabled`]:{background:"transparent"},[`> div${e}`]:{width:"100%",border:"none",outline:"none",[`&${e}-focused`]:{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${e}-handler-wrap`]:{zIndex:2},[e]:{position:"static",color:"inherit","&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center",pointerEvents:"none"},"&-prefix":{marginInlineEnd:r},"&-suffix":{insetBlockStart:0,insetInlineEnd:0,height:"100%",marginInlineEnd:i,marginInlineStart:r,transition:`margin ${h}`}},[`&:hover ${e}-handler-wrap, &-focused ${e}-handler-wrap`]:{width:n.handleWidth,opacity:1},[`&:not(${e}-affix-wrapper-without-controls):hover ${e}-suffix`]:{marginInlineEnd:n.calc(n.handleWidth).add(i).equal()}}),[`${e}-underlined`]:{borderRadius:0}}},Yet=yl("InputNumber",n=>{let e=Jr(n,IP(n));return[Uet(e),Get(e),PN(e)]},Wet,{unitless:{handleOpacity:!0},resetFont:!1}),Ket=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t},awe=il.forwardRef((n,e)=>{let{getPrefixCls:t,direction:i}=il.useContext(er),r=il.useRef(null);il.useImperativeHandle(e,()=>r.current);let{className:s,rootClassName:a,size:o,disabled:l,prefixCls:u,addonBefore:c,addonAfter:d,prefix:h,suffix:f,bordered:p,readOnly:g,status:m,controls:v,variant:_}=n,y=Ket(n,["className","rootClassName","size","disabled","prefixCls","addonBefore","addonAfter","prefix","suffix","bordered","readOnly","status","controls","variant"]),x=t("input-number",u),w=dd(x),[T,E,A]=Yet(x,w),{compactSize:k,compactItemClassnames:P}=d1(x,i),I=il.createElement(pet,{className:`${x}-handler-up-inner`}),D=il.createElement(vxe,{className:`${x}-handler-down-inner`}),L=typeof v=="boolean"?v:void 0;typeof v=="object"&&(I=typeof v.upIcon>"u"?I:il.createElement("span",{className:`${x}-handler-up-inner`},v.upIcon),D=typeof v.downIcon>"u"?D:il.createElement("span",{className:`${x}-handler-down-inner`},v.downIcon));let{hasFeedback:B,status:F,isFormItemInput:$,feedbackIcon:z}=il.useContext(pl),N=MP(F,m),V=hg(ue=>{var oe;return(oe=o??k)!==null&&oe!==void 0?oe:ue}),H=il.useContext(dg),K=l??H,[U,X]=IN("inputNumber",_,p),Z=B&&il.createElement(il.Fragment,null,z),Q=(0,jS.default)({[`${x}-lg`]:V==="large",[`${x}-sm`]:V==="small",[`${x}-rtl`]:i==="rtl",[`${x}-in-form-item`]:$},E),se=`${x}-group`,ae=il.createElement(Vet,Object.assign({ref:r,disabled:K,className:(0,jS.default)(A,w,s,a,P),upHandler:I,downHandler:D,prefixCls:x,readOnly:g,controls:L,prefix:h,suffix:Z||f,addonBefore:c&&il.createElement(hC,{form:!0,space:!0},c),addonAfter:d&&il.createElement(hC,{form:!0,space:!0},d),classNames:{input:Q,variant:(0,jS.default)({[`${x}-${U}`]:X},fC(x,N,B)),affixWrapper:(0,jS.default)({[`${x}-affix-wrapper-sm`]:V==="small",[`${x}-affix-wrapper-lg`]:V==="large",[`${x}-affix-wrapper-rtl`]:i==="rtl",[`${x}-affix-wrapper-without-controls`]:v===!1||K||g},E),wrapper:(0,jS.default)({[`${se}-rtl`]:i==="rtl"},E),groupWrapper:(0,jS.default)({[`${x}-group-wrapper-sm`]:V==="small",[`${x}-group-wrapper-lg`]:V==="large",[`${x}-group-wrapper-rtl`]:i==="rtl",[`${x}-group-wrapper-${U}`]:X},fC(`${x}-group-wrapper`,N,B),E)}},y));return T(ae)}),owe=awe,Xet=n=>il.createElement(mN,{theme:{components:{InputNumber:{handleVisible:!0}}}},il.createElement(awe,Object.assign({},n)));owe._InternalPanelDoNotUseOrYouWillBeFired=Xet;var qet=owe,ep=ie(de()),zS=ie(zt()),Zet=ie(de()),Qet=n=>{let e;return typeof n=="object"&&n!=null&&n.clearIcon?e=n:n&&(e={clearIcon:Zet.default.createElement(_N,null)}),e},lwe=Qet,Yse=ie(de());function uwe(n,e){let t=(0,Yse.useRef)([]),i=()=>{t.current.push(setTimeout(()=>{var r,s,a,o;!((r=n.current)===null||r===void 0)&&r.input&&((s=n.current)===null||s===void 0?void 0:s.input.getAttribute("type"))==="password"&&!((a=n.current)===null||a===void 0)&&a.input.hasAttribute("value")&&((o=n.current)===null||o===void 0||o.input.removeAttribute("value"))}))};return(0,Yse.useEffect)(()=>(e&&i(),()=>t.current.forEach(r=>{r&&clearTimeout(r)})),[]),i}function Jet(n){return!!(n.prefix||n.suffix||n.allowClear||n.showCount)}var ett=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t},ttt=(0,ep.forwardRef)((n,e)=>{let{prefixCls:t,bordered:i=!0,status:r,size:s,disabled:a,onBlur:o,onFocus:l,suffix:u,allowClear:c,addonAfter:d,addonBefore:h,className:f,style:p,styles:g,rootClassName:m,onChange:v,classNames:_,variant:y}=n,x=ett(n,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]),{getPrefixCls:w,direction:T,allowClear:E,autoComplete:A,className:k,style:P,classNames:I,styles:D}=Gm("input"),L=w("input",t),B=(0,ep.useRef)(null),F=dd(L),[$,z,N]=Xxe(L,m),[V]=qxe(L,F),{compactSize:H,compactItemClassnames:K}=d1(L,T),U=hg(Ge=>{var Pe;return(Pe=s??H)!==null&&Pe!==void 0?Pe:Ge}),X=ep.default.useContext(dg),Z=a??X,{status:Q,hasFeedback:se,feedbackIcon:ae}=(0,ep.useContext)(pl),ue=MP(Q,r),oe=Jet(n)||!!se;(0,ep.useRef)(oe);let re=uwe(B,!0),fe=Ge=>{re(),o==null||o(Ge)},ve=Ge=>{re(),l==null||l(Ge)},xe=Ge=>{re(),v==null||v(Ge)},ye=(se||u)&&ep.default.createElement(ep.default.Fragment,null,u,se&&ae),Ee=lwe(c??E),[Se,Fe]=IN("input",y,i);return $(V(ep.default.createElement(Aet,Object.assign({ref:Th(e,B),prefixCls:L,autoComplete:A},x,{disabled:Z,onBlur:fe,onFocus:ve,style:Object.assign(Object.assign({},P),p),styles:Object.assign(Object.assign({},D),g),suffix:ye,allowClear:Ee,className:(0,zS.default)(f,m,N,F,K,k),onChange:xe,addonBefore:h&&ep.default.createElement(hC,{form:!0,space:!0},h),addonAfter:d&&ep.default.createElement(hC,{form:!0,space:!0},d),classNames:Object.assign(Object.assign(Object.assign({},_),I),{input:(0,zS.default)({[`${L}-sm`]:U==="small",[`${L}-lg`]:U==="large",[`${L}-rtl`]:T==="rtl"},_==null?void 0:_.input,I.input,z),variant:(0,zS.default)({[`${L}-${Se}`]:Fe},fC(L,ue)),affixWrapper:(0,zS.default)({[`${L}-affix-wrapper-sm`]:U==="small",[`${L}-affix-wrapper-lg`]:U==="large",[`${L}-affix-wrapper-rtl`]:T==="rtl"},z),wrapper:(0,zS.default)({[`${L}-group-rtl`]:T==="rtl"},z),groupWrapper:(0,zS.default)({[`${L}-group-wrapper-sm`]:U==="small",[`${L}-group-wrapper-lg`]:U==="large",[`${L}-group-wrapper-rtl`]:T==="rtl",[`${L}-group-wrapper-${Se}`]:Fe},fC(`${L}-group-wrapper`,ue,se),z)})}))))}),FN=ttt,WT=ie(de()),Kse=ie(zt());function Xse(n){return["small","middle","large"].includes(n)}function qse(n){return n?typeof n=="number"&&!Number.isNaN(n):!1}var ntt=ie(de()),cwe=ntt.default.createContext({latestIndex:0}),itt=cwe.Provider,UT=ie(de()),rtt=({className:n,index:e,children:t,split:i,style:r})=>{let{latestIndex:s}=UT.useContext(cwe);return t==null?null:UT.createElement(UT.Fragment,null,UT.createElement("div",{className:n,style:r},t),e<s&&i&&UT.createElement("span",{className:`${n}-split`},i))},stt=rtt,att=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t},ott=WT.forwardRef((n,e)=>{var t;let{getPrefixCls:i,direction:r,size:s,className:a,style:o,classNames:l,styles:u}=Gm("space"),{size:c=s??"small",align:d,className:h,rootClassName:f,children:p,direction:g="horizontal",prefixCls:m,split:v,style:_,wrap:y=!1,classNames:x,styles:w}=n,T=att(n,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[E,A]=Array.isArray(c)?c:[c,c],k=Xse(A),P=Xse(E),I=qse(A),D=qse(E),L=Dy(p,{keepEmpty:!0}),B=d===void 0&&g==="horizontal"?"center":d,F=i("space",m),[$,z,N]=_Se(F),V=(0,Kse.default)(F,a,z,`${F}-${g}`,{[`${F}-rtl`]:r==="rtl",[`${F}-align-${B}`]:B,[`${F}-gap-row-${A}`]:k,[`${F}-gap-col-${E}`]:P},h,f,N),H=(0,Kse.default)(`${F}-item`,(t=x==null?void 0:x.item)!==null&&t!==void 0?t:l.item),K=Object.assign(Object.assign({},u.item),w==null?void 0:w.item),U=L.map((Q,se)=>{let ae=(Q==null?void 0:Q.key)||`${H}-${se}`;return WT.createElement(stt,{className:H,key:ae,index:se,split:v,style:K},Q)}),X=WT.useMemo(()=>({latestIndex:L.reduce((Q,se,ae)=>se!=null?ae:Q,0)}),[L]);if(L.length===0)return null;let Z={};return y&&(Z.flexWrap="wrap"),!P&&D&&(Z.columnGap=E),!k&&I&&(Z.rowGap=A),$(WT.createElement("div",Object.assign({ref:e,className:V,style:Object.assign(Object.assign(Object.assign({},Z),o),_)},T),WT.createElement(itt,{value:X},U)))}),dwe=ott;dwe.Compact=wYe;var V6=dwe,ltt=ie(de());function utt(n){return n==null?null:typeof n=="object"&&!(0,ltt.isValidElement)(n)?n:{title:n}}var ctt=utt,bv=ie(de()),Zse=ie(zt()),Qse=ie(de());function NL(n){let[e,t]=Qse.useState(n);return Qse.useEffect(()=>{let i=setTimeout(()=>{t(n)},n.length?0:10);return()=>{clearTimeout(i)}},[n]),e}var dtt=n=>{let{componentCls:e}=n,t=`${e}-show-help`,i=`${e}-show-help-item`;return{[t]:{transition:`opacity ${n.motionDurationFast} ${n.motionEaseInOut}`,"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[i]:{overflow:"hidden",transition:`height ${n.motionDurationFast} ${n.motionEaseInOut},
                     opacity ${n.motionDurationFast} ${n.motionEaseInOut},
                     transform ${n.motionDurationFast} ${n.motionEaseInOut} !important`,[`&${i}-appear, &${i}-enter`]:{transform:"translateY(-5px)",opacity:0,"&-active":{transform:"translateY(0)",opacity:1}},[`&${i}-leave-active`]:{transform:"translateY(-5px)"}}}}},htt=dtt,ftt=n=>({legend:{display:"block",width:"100%",marginBottom:n.marginLG,padding:0,color:n.colorTextDescription,fontSize:n.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:`${Rt(n.lineWidth)} ${n.lineType} ${n.colorBorder}`},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},"input[type='file']:focus,\n  input[type='radio']:focus,\n  input[type='checkbox']:focus":{outline:0,boxShadow:`0 0 0 ${Rt(n.controlOutlineWidth)} ${n.controlOutline}`},output:{display:"block",paddingTop:15,color:n.colorText,fontSize:n.fontSize,lineHeight:n.lineHeight}}),Jse=(n,e)=>{let{formItemCls:t}=n;return{[t]:{[`${t}-label > label`]:{height:e},[`${t}-control-input`]:{minHeight:e}}}},ptt=n=>{let{componentCls:e}=n;return{[n.componentCls]:Object.assign(Object.assign(Object.assign({},wo(n)),ftt(n)),{[`${e}-text`]:{display:"inline-block",paddingInlineEnd:n.paddingSM},"&-small":Object.assign({},Jse(n,n.controlHeightSM)),"&-large":Object.assign({},Jse(n,n.controlHeightLG))})}},gtt=n=>{let{formItemCls:e,iconCls:t,rootPrefixCls:i,antCls:r,labelRequiredMarkColor:s,labelColor:a,labelFontSize:o,labelHeight:l,labelColonMarginInlineStart:u,labelColonMarginInlineEnd:c,itemMarginBottom:d}=n;return{[e]:Object.assign(Object.assign({},wo(n)),{marginBottom:d,verticalAlign:"top","&-with-help":{transition:"none"},[`&-hidden,
        &-hidden${r}-row`]:{display:"none"},"&-has-warning":{[`${e}-split`]:{color:n.colorError}},"&-has-error":{[`${e}-split`]:{color:n.colorWarning}},[`${e}-label`]:{flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:n.lineHeight,whiteSpace:"unset","> label":{verticalAlign:"middle",textWrap:"balance"}},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:l,color:a,fontSize:o,[`> ${t}`]:{fontSize:n.fontSize,verticalAlign:"top"},[`&${e}-required`]:{"&::before":{display:"inline-block",marginInlineEnd:n.marginXXS,color:s,fontSize:n.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"'},[`&${e}-required-mark-hidden, &${e}-required-mark-optional`]:{"&::before":{display:"none"}}},[`${e}-optional`]:{display:"inline-block",marginInlineStart:n.marginXXS,color:n.colorTextDescription,[`&${e}-required-mark-hidden`]:{display:"none"}},[`${e}-tooltip`]:{color:n.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:n.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:u,marginInlineEnd:c},[`&${e}-no-colon::after`]:{content:'"\\a0"'}}},[`${e}-control`]:{"--ant-display":"flex",flexDirection:"column",flexGrow:1,[`&:first-child:not([class^="'${i}-col-'"]):not([class*="' ${i}-col-'"])`]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:n.controlHeight,"&-content":{flex:"auto",maxWidth:"100%",[`&:has(> ${r}-switch:only-child, > ${r}-rate:only-child)`]:{display:"flex",alignItems:"center"}}}},[e]:{"&-additional":{display:"flex",flexDirection:"column"},"&-explain, &-extra":{clear:"both",color:n.colorTextDescription,fontSize:n.fontSize,lineHeight:n.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:n.controlHeightSM,transition:`color ${n.motionDurationMid} ${n.motionEaseOut}`},"&-explain":{"&-error":{color:n.colorError},"&-warning":{color:n.colorWarning}}},[`&-with-help ${e}-explain`]:{height:"auto",opacity:1},[`${e}-feedback-icon`]:{fontSize:n.fontSize,textAlign:"center",visibility:"visible",animationName:k9,animationDuration:n.motionDurationMid,animationTimingFunction:n.motionEaseOutBack,pointerEvents:"none","&-success":{color:n.colorSuccess},"&-error":{color:n.colorError},"&-warning":{color:n.colorWarning},"&-validating":{color:n.colorPrimary}}})}},fb=n=>({padding:n.verticalLabelPadding,margin:n.verticalLabelMargin,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{visibility:"hidden"}}}),mtt=n=>{let{antCls:e,formItemCls:t}=n;return{[`${t}-horizontal`]:{[`${t}-label`]:{flexGrow:0},[`${t}-control`]:{flex:"1 1 0",minWidth:0},[`${t}-label[class$='-24'], ${t}-label[class*='-24 ']`]:{[`& + ${t}-control`]:{minWidth:"unset"}},[`${e}-col-24${t}-label,
        ${e}-col-xl-24${t}-label`]:fb(n)}}},vtt=n=>{let{componentCls:e,formItemCls:t,inlineItemMarginBottom:i}=n;return{[`${e}-inline`]:{display:"flex",flexWrap:"wrap",[`${t}-inline`]:{flex:"none",marginInlineEnd:n.margin,marginBottom:i,"&-row":{flexWrap:"nowrap"},[`> ${t}-label,
        > ${t}-control`]:{display:"inline-block",verticalAlign:"top"},[`> ${t}-label`]:{flex:"none"},[`${e}-text`]:{display:"inline-block"},[`${t}-has-feedback`]:{display:"inline-block"}}}}},ytt=n=>{let{componentCls:e,formItemCls:t,rootPrefixCls:i}=n;return{[`${t} ${t}-label`]:fb(n),[`${e}:not(${e}-inline)`]:{[t]:{flexWrap:"wrap",[`${t}-label, ${t}-control`]:{[`&:not([class*=" ${i}-col-xs"])`]:{flex:"0 0 100%",maxWidth:"100%"}}}}}},_tt=n=>{let{componentCls:e,formItemCls:t,antCls:i}=n;return{[`${t}-vertical`]:{[`${t}-row`]:{flexDirection:"column"},[`${t}-label > label`]:{height:"auto"},[`${t}-control`]:{width:"100%"},[`${t}-label,
        ${i}-col-24${t}-label,
        ${i}-col-xl-24${t}-label`]:fb(n)},[`@media (max-width: ${Rt(n.screenXSMax)})`]:[ytt(n),{[e]:{[`${t}:not(${t}-horizontal)`]:{[`${i}-col-xs-24${t}-label`]:fb(n)}}}],[`@media (max-width: ${Rt(n.screenSMMax)})`]:{[e]:{[`${t}:not(${t}-horizontal)`]:{[`${i}-col-sm-24${t}-label`]:fb(n)}}},[`@media (max-width: ${Rt(n.screenMDMax)})`]:{[e]:{[`${t}:not(${t}-horizontal)`]:{[`${i}-col-md-24${t}-label`]:fb(n)}}},[`@media (max-width: ${Rt(n.screenLGMax)})`]:{[e]:{[`${t}:not(${t}-horizontal)`]:{[`${i}-col-lg-24${t}-label`]:fb(n)}}}}},btt=n=>({labelRequiredMarkColor:n.colorError,labelColor:n.colorTextHeading,labelFontSize:n.fontSize,labelHeight:n.controlHeight,labelColonMarginInlineStart:n.marginXXS/2,labelColonMarginInlineEnd:n.marginXS,itemMarginBottom:n.marginLG,verticalLabelPadding:`0 0 ${n.paddingXS}px`,verticalLabelMargin:0,inlineItemMarginBottom:0}),hwe=(n,e)=>Jr(n,{formItemCls:`${n.componentCls}-item`,rootPrefixCls:e}),G9=yl("Form",(n,{rootPrefixCls:e})=>{let t=hwe(n,e);return[ptt(t),gtt(t),htt(t),mtt(t),vtt(t),_tt(t),VYe(t),k9]},btt,{order:-1e3}),eae=[];function dV(n,e,t,i=0){return{key:typeof n=="string"?n:`${e}-${i}`,error:n,errorStatus:t}}var Stt=({help:n,helpStatus:e,errors:t=eae,warnings:i=eae,className:r,fieldId:s,onVisibleChanged:a})=>{let{prefixCls:o}=bv.useContext(L9),l=`${o}-item-explain`,u=dd(o),[c,d,h]=G9(o,u),f=bv.useMemo(()=>lre(o),[o]),p=NL(t),g=NL(i),m=bv.useMemo(()=>n!=null?[dV(n,"help",e)]:[].concat(Pt(p.map((y,x)=>dV(y,"error","error",x))),Pt(g.map((y,x)=>dV(y,"warning","warning",x)))),[n,e,p,g]),v=bv.useMemo(()=>{let y={};return m.forEach(({key:x})=>{y[x]=(y[x]||0)+1}),m.map((x,w)=>Object.assign(Object.assign({},x),{key:y[x.key]>1?`${x.key}-fallback-${w}`:x.key}))},[m]),_={};return s&&(_.id=`${s}_help`),c(bv.createElement(EP,{motionDeadline:f.motionDeadline,motionName:`${o}-show-help`,visible:!!v.length,onVisibleChanged:a},y=>{let{className:x,style:w}=y;return bv.createElement("div",Object.assign({},_,{className:(0,Zse.default)(l,x,h,u,r,d),style:w}),bv.createElement(j0e,Object.assign({keys:v},lre(o),{motionName:`${o}-show-help-item`,component:!1}),T=>{let{key:E,error:A,errorStatus:k,className:P,style:I}=T;return bv.createElement("div",{key:E,className:(0,Zse.default)(P,{[`${l}-${k}`]:k}),style:I},A)}))}))},fwe=Stt,Ku=ie(de()),xtt=ie(zt()),wtt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t},Ctt=(n,e)=>{let t=Ku.useContext(dg),{getPrefixCls:i,direction:r,requiredMark:s,colon:a,scrollToFirstError:o,className:l,style:u}=Gm("form"),{prefixCls:c,className:d,rootClassName:h,size:f,disabled:p=t,form:g,colon:m,labelAlign:v,labelWrap:_,labelCol:y,wrapperCol:x,hideRequiredMark:w,layout:T="horizontal",scrollToFirstError:E,requiredMark:A,onFinishFailed:k,name:P,style:I,feedbackIcons:D,variant:L}=n,B=wtt(n,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name","style","feedbackIcons","variant"]),F=hg(f),$=Ku.useContext(c0e),z=Ku.useMemo(()=>A!==void 0?A:w?!1:s!==void 0?s:!0,[w,A,s]),N=m??a,V=i("form",c),H=dd(V),[K,U,X]=G9(V,H),Z=(0,xtt.default)(V,`${V}-${T}`,{[`${V}-hide-required-mark`]:z===!1,[`${V}-rtl`]:r==="rtl",[`${V}-${F}`]:F},X,H,U,l,d,h),[Q]=Lxe(g),{__INTERNAL__:se}=Q;se.name=P;let ae=Ku.useMemo(()=>({name:P,labelAlign:v,labelCol:y,labelWrap:_,wrapperCol:x,layout:T,colon:N,requiredMark:z,itemRef:se.itemRef,form:Q,feedbackIcons:D}),[P,v,y,x,T,N,z,Q,D]),ue=Ku.useRef(null);Ku.useImperativeHandle(e,()=>{var fe;return Object.assign(Object.assign({},Q),{nativeElement:(fe=ue.current)===null||fe===void 0?void 0:fe.nativeElement})});let oe=(fe,ve)=>{if(fe){let xe={block:"nearest"};typeof fe=="object"&&(xe=Object.assign(Object.assign({},xe),fe)),Q.scrollToField(ve,xe)}},re=fe=>{if(k==null||k(fe),fe.errorFields.length){let ve=fe.errorFields[0].name;if(E!==void 0){oe(E,ve);return}o!==void 0&&oe(o,ve)}};return K(Ku.createElement(HSe.Provider,{value:L},Ku.createElement(_0e,{disabled:p},Ku.createElement(CP.Provider,{value:F},Ku.createElement(jSe,{validateMessages:$},Ku.createElement(Im.Provider,{value:ae},Ku.createElement(zSe,{status:!0},Ku.createElement(D9e,Object.assign({id:P},B,{name:P,onFinishFailed:re,form:Q,ref:ue,style:Object.assign(Object.assign({},u),I),className:Z})))))))))},Ttt=Ku.forwardRef(Ctt),Ett=Ttt,$c=ie(de()),Att=ie(zt());function ktt(n){if(typeof n=="function")return n;let e=Dy(n);return e.length<=1?e[0]:e}var Ott=ie(de()),pwe=()=>{let{status:n,errors:e=[],warnings:t=[]}=Ott.useContext(pl);return{status:n,errors:e,warnings:t}};pwe.Context=pl;var Ptt=pwe,GT=ie(de());function Mtt(n){let[e,t]=GT.useState(n),i=GT.useRef(null),r=GT.useRef([]),s=GT.useRef(!1);GT.useEffect(()=>(s.current=!1,()=>{s.current=!0,Zr.cancel(i.current),i.current=null}),[]);function a(o){s.current||(i.current===null&&(r.current=[],i.current=Zr(()=>{i.current=null,t(l=>{let u=l;return r.current.forEach(c=>{u=c(u)}),u})})),r.current.push(o))}return[e,a]}var tae=ie(de());function Itt(){let{itemRef:n}=tae.useContext(Im),e=tae.useRef({});function t(i,r){let s=r&&typeof r=="object"&&xP(r),a=i.join("_");return(e.current.name!==a||e.current.originRef!==s)&&(e.current.name=a,e.current.originRef=s,e.current.ref=Th(n(i),s)),e.current.ref}return t}var tp=ie(de()),Rtt=ie(zt()),nl=ie(de()),Dtt=ie(zt()),Ltt=n=>{let{formItemCls:e}=n;return{"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)":{[`${e}-control`]:{display:"flex"}}}},Ftt=A0e(["Form","item-item"],(n,{rootPrefixCls:e})=>{let t=hwe(n,e);return Ltt(t)}),Btt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t},$tt=24,Ntt=n=>{let{prefixCls:e,status:t,labelCol:i,wrapperCol:r,children:s,errors:a,warnings:o,_internalItemRender:l,extra:u,help:c,fieldId:d,marginBottom:h,onErrorVisibleChanged:f,label:p}=n,g=`${e}-item`,m=nl.useContext(Im),v=nl.useMemo(()=>{let B=Object.assign({},r||m.wrapperCol||{});return p===null&&!i&&!r&&m.labelCol&&[void 0,"xs","sm","md","lg","xl","xxl"].forEach(F=>{let $=F?[F]:[],z=rh(m.labelCol,$),N=typeof z=="object"?z:{},V=rh(B,$),H=typeof V=="object"?V:{};"span"in N&&!("offset"in H)&&N.span<$tt&&(B=Hd(B,[].concat($,["offset"]),N.span))}),B},[r,m.wrapperCol,m.labelCol,p,i]),_=(0,Dtt.default)(`${g}-control`,v.className),y=nl.useMemo(()=>Btt(m,["labelCol","wrapperCol"]),[m]),x=nl.useRef(null),[w,T]=nl.useState(0);Vr(()=>{u&&x.current?T(x.current.clientHeight):T(0)},[u]);let E=nl.createElement("div",{className:`${g}-control-input`},nl.createElement("div",{className:`${g}-control-input-content`},s)),A=nl.useMemo(()=>({prefixCls:e,status:t}),[e,t]),k=h!==null||a.length||o.length?nl.createElement(L9.Provider,{value:A},nl.createElement(fwe,{fieldId:d,errors:a,warnings:o,help:c,helpStatus:t,className:`${g}-explain-connected`,onVisibleChanged:f})):null,P={};d&&(P.id=`${d}_extra`);let I=u?nl.createElement("div",Object.assign({},P,{className:`${g}-extra`,ref:x}),u):null,D=k||I?nl.createElement("div",{className:`${g}-additional`,style:h?{minHeight:h+w}:{}},k,I):null,L=l&&l.mark==="pro_table_render"&&l.render?l.render(n,{input:E,errorList:k,extra:I}):nl.createElement(nl.Fragment,null,E,D);return nl.createElement(Im.Provider,{value:y},nl.createElement(twe,Object.assign({},v,{className:_}),L),nl.createElement(Ftt,{prefixCls:e}))},jtt=Ntt,Gh=ie(de()),gwe=ie(de()),ztt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},Htt=ztt,Vtt=function(n,e){return gwe.createElement(cd,wn({},n,{ref:e,icon:Htt}))},Wtt=gwe.forwardRef(Vtt),Utt=Wtt,nae=ie(zt()),Gtt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t},Ytt=({prefixCls:n,label:e,htmlFor:t,labelCol:i,labelAlign:r,colon:s,required:a,requiredMark:o,tooltip:l,vertical:u})=>{var c;let[d]=fN("Form"),{labelAlign:h,labelCol:f,labelWrap:p,colon:g}=Gh.useContext(Im);if(!e)return null;let m=i||f||{},v=r||h,_=`${n}-item-label`,y=(0,nae.default)(_,v==="left"&&`${_}-left`,m.className,{[`${_}-wrap`]:!!p}),x=e,w=s===!0||g!==!1&&s!==!1;w&&!u&&typeof e=="string"&&e.trim()&&(x=e.replace(/[:|]\s*$/,""));let T=ctt(l);if(T){let{icon:D=Gh.createElement(Utt,null)}=T,L=Gtt(T,["icon"]),B=Gh.createElement(oJe,Object.assign({},L),Gh.cloneElement(D,{className:`${n}-item-tooltip`,title:"",onClick:F=>{F.preventDefault()},tabIndex:null}));x=Gh.createElement(Gh.Fragment,null,x,B)}let E=o==="optional",A=typeof o=="function",k=o===!1;A?x=o(x,{required:!!a}):E&&!a&&(x=Gh.createElement(Gh.Fragment,null,x,Gh.createElement("span",{className:`${n}-item-optional`,title:""},(d==null?void 0:d.optional)||((c=o0.Form)===null||c===void 0?void 0:c.optional))));let P;k?P="hidden":(E||A)&&(P="optional");let I=(0,nae.default)({[`${n}-item-required`]:a,[`${n}-item-required-mark-${P}`]:P,[`${n}-item-no-colon`]:!w});return Gh.createElement(twe,Object.assign({},m,{className:y}),Gh.createElement("label",{htmlFor:t,className:I,title:typeof e=="string"?e:""},x))},Ktt=Ytt,HS=ie(de()),Xtt=ie(zt()),qtt={success:X0e,warning:eSe,error:_N,validating:bN};function mwe({children:n,errors:e,warnings:t,hasFeedback:i,validateStatus:r,prefixCls:s,meta:a,noStyle:o,name:l}){let u=`${s}-item`,{feedbackIcons:c}=HS.useContext(Im),d=Dxe(e,t,a,null,!!i,r),{isFormItemInput:h,status:f,hasFeedback:p,feedbackIcon:g,name:m}=HS.useContext(pl),v=HS.useMemo(()=>{var _;let y;if(i){let w=i!==!0&&i.icons||c,T=d&&((_=w==null?void 0:w({status:d,errors:e,warnings:t}))===null||_===void 0?void 0:_[d]),E=d?qtt[d]:null;y=T!==!1&&E?HS.createElement("span",{className:(0,Xtt.default)(`${u}-feedback-icon`,`${u}-feedback-icon-${d}`)},T||HS.createElement(E,null)):null}let x={status:d||"",errors:e,warnings:t,hasFeedback:!!i,feedbackIcon:y,isFormItemInput:!0,name:l};return o&&(x.status=(d??f)||"",x.isFormItemInput=h,x.hasFeedback=!!(i??p),x.feedbackIcon=i!==void 0?x.feedbackIcon:g,x.name=l??m),x},[d,i,o,h,f]);return HS.createElement(pl.Provider,{value:v},n)}var Ztt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function Qtt(n){let{prefixCls:e,className:t,rootClassName:i,style:r,help:s,errors:a,warnings:o,validateStatus:l,meta:u,hasFeedback:c,hidden:d,children:h,fieldId:f,required:p,isRequired:g,onSubItemMetaChange:m,layout:v,name:_}=n,y=Ztt(n,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange","layout","name"]),x=`${e}-item`,{requiredMark:w,layout:T}=tp.useContext(Im),E=v||T,A=E==="vertical",k=tp.useRef(null),P=NL(a),I=NL(o),D=s!=null,L=!!(D||a.length||o.length),B=!!k.current&&T9(k.current),[F,$]=tp.useState(null);Vr(()=>{if(L&&k.current){let H=getComputedStyle(k.current);$(Number.parseInt(H.marginBottom,10))}},[L,B]);let z=H=>{H||$(null)},N=((H=!1)=>{let K=H?P:u.errors,U=H?I:u.warnings;return Dxe(K,U,u,"",!!c,l)})(),V=(0,Rtt.default)(x,t,i,{[`${x}-with-help`]:D||P.length||I.length,[`${x}-has-feedback`]:N&&c,[`${x}-has-success`]:N==="success",[`${x}-has-warning`]:N==="warning",[`${x}-has-error`]:N==="error",[`${x}-is-validating`]:N==="validating",[`${x}-hidden`]:d,[`${x}-${E}`]:E});return tp.createElement("div",{className:V,style:r,ref:k},tp.createElement(uet,Object.assign({className:`${x}-row`},Qy(y,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol","validateDebounce"])),tp.createElement(Ktt,Object.assign({htmlFor:f},n,{requiredMark:w,required:p??g,prefixCls:e,vertical:A})),tp.createElement(jtt,Object.assign({},n,u,{errors:P,warnings:I,prefixCls:e,status:N,help:s,marginBottom:F,onErrorVisibleChanged:z}),tp.createElement(NSe.Provider,{value:m},tp.createElement(mwe,{prefixCls:e,meta:u,errors:u.errors,warnings:u.warnings,hasFeedback:c,validateStatus:N,name:_},h)))),!!F&&tp.createElement("div",{className:`${x}-margin-offset`,style:{marginBottom:-F}}))}var Jtt="__SPLIT__";function ent(n,e){let t=Object.keys(n),i=Object.keys(e);return t.length===i.length&&t.every(r=>{let s=n[r],a=e[r];return s===a||typeof s=="function"||typeof a=="function"})}var tnt=$c.memo(({children:n})=>n,(n,e)=>ent(n.control,e.control)&&n.update===e.update&&n.childProps.length===e.childProps.length&&n.childProps.every((t,i)=>t===e.childProps[i]));function iae(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}}function nnt(n){let{name:e,noStyle:t,className:i,dependencies:r,prefixCls:s,shouldUpdate:a,rules:o,children:l,required:u,label:c,messageVariables:d,trigger:h="onChange",validateTrigger:f,hidden:p,help:g,layout:m}=n,{getPrefixCls:v}=$c.useContext(er),{name:_}=$c.useContext(Im),y=ktt(l),x=typeof y=="function",w=$c.useContext(NSe),{validateTrigger:T}=$c.useContext(d0),E=f!==void 0?f:T,A=e!=null,k=v("form",s),P=dd(k),[I,D,L]=G9(k,P);hN();let B=$c.useContext(Hk),F=$c.useRef(null),[$,z]=Mtt({}),[N,V]=dC(()=>iae()),H=ae=>{let ue=B==null?void 0:B.getKey(ae.name);if(V(ae.destroy?iae():ae,!0),t&&g!==!1&&w){let oe=ae.name;if(ae.destroy)oe=F.current||oe;else if(ue!==void 0){let[re,fe]=ue;oe=[re].concat(Pt(fe)),F.current=oe}w(ae,oe)}},K=(ae,ue)=>{z(oe=>{let re=Object.assign({},oe),fe=[].concat(Pt(ae.name.slice(0,-1)),Pt(ue)).join(Jtt);return ae.destroy?delete re[fe]:re[fe]=ae,re})},[U,X]=$c.useMemo(()=>{let ae=Pt(N.errors),ue=Pt(N.warnings);return Object.values($).forEach(oe=>{ae.push.apply(ae,Pt(oe.errors||[])),ue.push.apply(ue,Pt(oe.warnings||[]))}),[ae,ue]},[$,N.errors,N.warnings]),Z=Itt();function Q(ae,ue,oe){return t&&!p?$c.createElement(mwe,{prefixCls:k,hasFeedback:n.hasFeedback,validateStatus:n.validateStatus,meta:N,errors:U,warnings:X,noStyle:!0,name:e},ae):$c.createElement(Qtt,Object.assign({key:"row"},n,{className:(0,Att.default)(i,L,P,D),prefixCls:k,fieldId:ue,isRequired:oe,errors:U,warnings:X,meta:N,onSubItemMetaChange:K,layout:m,name:e}),ae)}if(!A&&!x&&!r)return I(Q(y));let se={};return typeof c=="string"?se.label=c:e&&(se.label=String(e)),d&&(se=Object.assign(Object.assign({},se),d)),I($c.createElement(R9,Object.assign({},n,{messageVariables:se,trigger:h,validateTrigger:E,onMetaChange:H}),(ae,ue,oe)=>{let re=uA(e).length&&ue?ue.name:[],fe=Rxe(re,_),ve=u!==void 0?u:!!(o!=null&&o.some(Ee=>{if(Ee&&typeof Ee=="object"&&Ee.required&&!Ee.warningOnly)return!0;if(typeof Ee=="function"){let Se=Ee(oe);return(Se==null?void 0:Se.required)&&!(Se!=null&&Se.warningOnly)}return!1})),xe=Object.assign({},ae),ye=null;if(Array.isArray(y)&&A)ye=y;else if(!(x&&(!(a||r)||A))&&!(r&&!x&&!A))if($c.isValidElement(y)){let Ee=Object.assign(Object.assign({},y.props),xe);if(Ee.id||(Ee.id=fe),g||U.length>0||X.length>0||n.extra){let Fe=[];(g||U.length>0)&&Fe.push(`${fe}_help`),n.extra&&Fe.push(`${fe}_extra`),Ee["aria-describedby"]=Fe.join(" ")}U.length>0&&(Ee["aria-invalid"]="true"),ve&&(Ee["aria-required"]="true"),l1(y)&&(Ee.ref=Z(re,y)),new Set([].concat(Pt(uA(h)),Pt(uA(E)))).forEach(Fe=>{Ee[Fe]=(...Ge)=>{var Pe,je,qe,ot,$e;(qe=xe[Fe])===null||qe===void 0||(Pe=qe).call.apply(Pe,[xe].concat(Ge)),($e=(ot=y.props)[Fe])===null||$e===void 0||(je=$e).call.apply(je,[ot].concat(Ge))}});let Se=[Ee["aria-required"],Ee["aria-invalid"],Ee["aria-describedby"]];ye=$c.createElement(tnt,{control:xe,update:y,childProps:Se},c0(y,Ee))}else x&&(a||r)&&!A?ye=y(oe):ye=y;return Q(ye,fe,ve)}))}var vwe=nnt;vwe.useStatus=Ptt;var int=vwe,BR=ie(de()),rnt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t},snt=n=>{var{prefixCls:e,children:t}=n,i=rnt(n,["prefixCls","children"]);let{getPrefixCls:r}=BR.useContext(er),s=r("form",e),a=BR.useMemo(()=>({prefixCls:s,status:"error"}),[s]);return BR.createElement(LSe,Object.assign({},i),(o,l,u)=>BR.createElement(L9.Provider,{value:a},t(o.map(c=>Object.assign(Object.assign({},c),{fieldKey:c.key})),l,{errors:u.errors,warnings:u.warnings})))},ant=snt,ont=ie(de());function lnt(){let{form:n}=ont.useContext(Im);return n}var Ym=Ett;Ym.Item=int;Ym.List=ant;Ym.ErrorList=fwe;Ym.useForm=Lxe;Ym.useFormInstance=lnt;Ym.useWatch=$Se;Ym.Provider=jSe;Ym.create=()=>{};var Od=Ym,ywe=ie(de()),unt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},cnt=unt,dnt=function(n,e){return ywe.createElement(cd,wn({},n,{ref:e,icon:cnt}))},hnt=ywe.forwardRef(dnt),fnt=hnt,rae=ie(de()),hV=ie(de()),pnt=ie(zt()),gnt=n=>{let{getPrefixCls:e,direction:t}=(0,hV.useContext)(er),{prefixCls:i,className:r}=n,s=e("input-group",i),a=e("input"),[o,l,u]=qxe(a),c=(0,pnt.default)(s,u,{[`${s}-lg`]:n.size==="large",[`${s}-sm`]:n.size==="small",[`${s}-compact`]:n.compact,[`${s}-rtl`]:t==="rtl"},l,r),d=(0,hV.useContext)(pl),h=(0,hV.useMemo)(()=>Object.assign(Object.assign({},d),{isFormItemInput:!1}),[d]);return o(rae.createElement("span",{className:c,style:n.style,onMouseEnter:n.onMouseEnter,onMouseLeave:n.onMouseLeave,onFocus:n.onFocus,onBlur:n.onBlur},rae.createElement(pl.Provider,{value:h},n.children)))},mnt=gnt,Ll=ie(de()),vnt=ie(zt()),ynt=n=>{let{componentCls:e,paddingXS:t}=n;return{[e]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:t,[`${e}-input-wrapper`]:{position:"relative",[`${e}-mask-icon`]:{position:"absolute",zIndex:"1",top:"50%",right:"50%",transform:"translate(50%, -50%)",pointerEvents:"none"},[`${e}-mask-input`]:{color:"transparent",caretColor:n.colorText},[`${e}-mask-input[type=number]::-webkit-inner-spin-button`]:{"-webkit-appearance":"none",margin:0},[`${e}-mask-input[type=number]`]:{"-moz-appearance":"textfield"}},"&-rtl":{direction:"rtl"},[`${e}-input`]:{textAlign:"center",paddingInline:n.paddingXXS},[`&${e}-sm ${e}-input`]:{paddingInline:n.calc(n.paddingXXS).div(2).equal()},[`&${e}-lg ${e}-input`]:{paddingInline:n.paddingXS}}}},_nt=yl(["Input","OTP"],n=>{let e=Jr(n,IP(n));return ynt(e)},RP),F_=ie(de()),bnt=ie(zt()),Snt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t},xnt=F_.forwardRef((n,e)=>{let{className:t,value:i,onChange:r,onActiveChange:s,index:a,mask:o}=n,l=Snt(n,["className","value","onChange","onActiveChange","index","mask"]),{getPrefixCls:u}=F_.useContext(er),c=u("otp"),d=typeof o=="string"?o:i,h=F_.useRef(null);F_.useImperativeHandle(e,()=>h.current);let f=m=>{r(a,m.target.value)},p=()=>{Zr(()=>{var m;let v=(m=h.current)===null||m===void 0?void 0:m.input;document.activeElement===v&&v&&v.select()})},g=m=>{let{key:v,ctrlKey:_,metaKey:y}=m;v==="ArrowLeft"?s(a-1):v==="ArrowRight"?s(a+1):v==="z"&&(_||y)?m.preventDefault():v==="Backspace"&&!i&&s(a-1),p()};return F_.createElement("span",{className:`${c}-input-wrapper`,role:"presentation"},o&&i!==""&&i!==void 0&&F_.createElement("span",{className:`${c}-mask-icon`,"aria-hidden":"true"},d),F_.createElement(FN,Object.assign({"aria-label":`OTP Input ${a+1}`,type:o===!0?"password":"text"},l,{ref:h,value:i,onInput:f,onFocus:p,onKeyDown:g,onMouseDown:p,onMouseUp:p,className:(0,bnt.default)(t,{[`${c}-mask-input`]:o})})))}),wnt=xnt,Cnt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function $R(n){return(n||"").split("")}var Tnt=n=>{let{index:e,prefixCls:t,separator:i}=n,r=typeof i=="function"?i(e):i;return r?Ll.createElement("span",{className:`${t}-separator`},r):null},Ent=Ll.forwardRef((n,e)=>{let{prefixCls:t,length:i=6,size:r,defaultValue:s,value:a,onChange:o,formatter:l,separator:u,variant:c,disabled:d,status:h,autoFocus:f,mask:p,type:g,onInput:m,inputMode:v}=n,_=Cnt(n,["prefixCls","length","size","defaultValue","value","onChange","formatter","separator","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]),{getPrefixCls:y,direction:x}=Ll.useContext(er),w=y("otp",t),T=u0(_,{aria:!0,data:!0,attr:!0}),[E,A,k]=_nt(w),P=hg(Z=>r??Z),I=Ll.useContext(pl),D=MP(I.status,h),L=Ll.useMemo(()=>Object.assign(Object.assign({},I),{status:D,hasFeedback:!1,feedbackIcon:null}),[I,D]),B=Ll.useRef(null),F=Ll.useRef({});Ll.useImperativeHandle(e,()=>({focus:()=>{var Z;(Z=F.current[0])===null||Z===void 0||Z.focus()},blur:()=>{var Z;for(let Q=0;Q<i;Q+=1)(Z=F.current[Q])===null||Z===void 0||Z.blur()},nativeElement:B.current}));let $=Z=>l?l(Z):Z,[z,N]=Ll.useState(()=>$R($(s||"")));Ll.useEffect(()=>{a!==void 0&&N($R(a))},[a]);let V=bo(Z=>{N(Z),m&&m(Z),o&&Z.length===i&&Z.every(Q=>Q)&&Z.some((Q,se)=>z[se]!==Q)&&o(Z.join(""))}),H=bo((Z,Q)=>{let se=Pt(z);for(let ue=0;ue<Z;ue+=1)se[ue]||(se[ue]="");Q.length<=1?se[Z]=Q:se=se.slice(0,Z).concat($R(Q)),se=se.slice(0,i);for(let ue=se.length-1;ue>=0&&!se[ue];ue-=1)se.pop();let ae=$(se.map(ue=>ue||" ").join(""));return se=$R(ae).map((ue,oe)=>ue===" "&&!se[oe]?se[oe]:ue),se}),K=(Z,Q)=>{var se;let ae=H(Z,Q),ue=Math.min(Z+Q.length,i-1);ue!==Z&&ae[Z]!==void 0&&((se=F.current[ue])===null||se===void 0||se.focus()),V(ae)},U=Z=>{var Q;(Q=F.current[Z])===null||Q===void 0||Q.focus()},X={variant:c,disabled:d,status:D,mask:p,type:g,inputMode:v};return E(Ll.createElement("div",Object.assign({},T,{ref:B,className:(0,vnt.default)(w,{[`${w}-sm`]:P==="small",[`${w}-lg`]:P==="large",[`${w}-rtl`]:x==="rtl"},k,A),role:"group"}),Ll.createElement(pl.Provider,{value:L},Array.from({length:i}).map((Z,Q)=>{let se=`otp-${Q}`,ae=z[Q]||"";return Ll.createElement(Ll.Fragment,{key:se},Ll.createElement(wnt,Object.assign({ref:ue=>{F.current[Q]=ue},index:Q,size:P,htmlSize:1,className:`${w}-input`,onChange:K,value:ae,onActiveChange:U,autoFocus:Q===0&&f},X)),Q<i-1&&Ll.createElement(Tnt,{separator:u,index:Q,prefixCls:w}))}))))}),Ant=Ent,$d=ie(de()),sae=ie(de()),_we=ie(de()),knt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},Ont=knt,Pnt=function(n,e){return _we.createElement(cd,wn({},n,{ref:e,icon:Ont}))},Mnt=_we.forwardRef(Pnt),Int=Mnt,Rnt=ie(zt()),Dnt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t},Lnt=n=>n?$d.createElement(fnt,null):$d.createElement(Int,null),Fnt={click:"onClick",hover:"onMouseOver"},Bnt=$d.forwardRef((n,e)=>{let{disabled:t,action:i="click",visibilityToggle:r=!0,iconRender:s=Lnt,suffix:a}=n,o=$d.useContext(dg),l=t??o,u=typeof r=="object"&&r.visible!==void 0,[c,d]=(0,sae.useState)(()=>u?r.visible:!1),h=(0,sae.useRef)(null);$d.useEffect(()=>{u&&d(r.visible)},[u,r]);let f=uwe(h),p=()=>{var I;if(l)return;c&&f();let D=!c;d(D),typeof r=="object"&&((I=r.onVisibleChange)===null||I===void 0||I.call(r,D))},g=I=>{let D=Fnt[i]||"",L=s(c),B={[D]:p,className:`${I}-icon`,key:"passwordIcon",onMouseDown:F=>{F.preventDefault()},onMouseUp:F=>{F.preventDefault()}};return $d.cloneElement($d.isValidElement(L)?L:$d.createElement("span",null,L),B)},{className:m,prefixCls:v,inputPrefixCls:_,size:y}=n,x=Dnt(n,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:w}=$d.useContext(er),T=w("input",_),E=w("input-password",v),A=r&&g(E),k=(0,Rnt.default)(E,m,{[`${E}-${y}`]:!!y}),P=Object.assign(Object.assign({},Qy(x,["suffix","iconRender","visibilityToggle"])),{type:c?"text":"password",className:k,prefixCls:T,suffix:$d.createElement($d.Fragment,null,A,a)});return y&&(P.size=y),$d.createElement(FN,Object.assign({ref:Th(e,h)},P))}),$nt=Bnt,B_=ie(de()),Nnt=ie(zt()),jnt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t},znt=B_.forwardRef((n,e)=>{let{prefixCls:t,inputPrefixCls:i,className:r,size:s,suffix:a,enterButton:o=!1,addonAfter:l,loading:u,disabled:c,onSearch:d,onChange:h,onCompositionStart:f,onCompositionEnd:p,variant:g,onPressEnter:m}=n,v=jnt(n,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd","variant","onPressEnter"]),{getPrefixCls:_,direction:y}=B_.useContext(er),x=B_.useRef(!1),w=_("input-search",t),T=_("input",i),{compactSize:E}=d1(w,y),A=hg(X=>{var Z;return(Z=s??E)!==null&&Z!==void 0?Z:X}),k=B_.useRef(null),P=X=>{X!=null&&X.target&&X.type==="click"&&d&&d(X.target.value,X,{source:"clear"}),h==null||h(X)},I=X=>{var Z;document.activeElement===((Z=k.current)===null||Z===void 0?void 0:Z.input)&&X.preventDefault()},D=X=>{var Z,Q;d&&d((Q=(Z=k.current)===null||Z===void 0?void 0:Z.input)===null||Q===void 0?void 0:Q.value,X,{source:"input"})},L=X=>{x.current||u||(m==null||m(X),D(X))},B=typeof o=="boolean"?B_.createElement(_xe,null):null,F=`${w}-button`,$,z=o||{},N=z.type&&z.type.__ANT_BUTTON===!0;N||z.type==="button"?$=c0(z,Object.assign({onMouseDown:I,onClick:X=>{var Z,Q;(Q=(Z=z==null?void 0:z.props)===null||Z===void 0?void 0:Z.onClick)===null||Q===void 0||Q.call(Z,X),D(X)},key:"enterButton"},N?{className:F,size:A}:{})):$=B_.createElement(LL,{className:F,color:o?"primary":"default",size:A,disabled:c,key:"enterButton",onMouseDown:I,onClick:D,loading:u,icon:B,variant:g==="borderless"||g==="filled"||g==="underlined"?"text":o?"solid":void 0},o),l&&($=[$,c0(l,{key:"addonAfter"})]);let V=(0,Nnt.default)(w,{[`${w}-rtl`]:y==="rtl",[`${w}-${A}`]:!!A,[`${w}-with-button`]:!!o},r),H=X=>{x.current=!0,f==null||f(X)},K=X=>{x.current=!1,p==null||p(X)},U=Object.assign(Object.assign({},v),{className:V,prefixCls:T,type:"search",size:A,variant:g,onPressEnter:L,onCompositionStart:H,onCompositionEnd:K,addonAfter:$,suffix:a,onChange:P,disabled:c});return B_.createElement(FN,Object.assign({ref:Th(k,e)},U))}),Hnt=znt,Sv=ie(de()),Vnt=ie(de()),NR=ie(zt()),jR=ie(zt()),cu=ie(de()),Wnt=ie(zt()),np=ie(de()),Unt=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,Gnt=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],fV={},Lc;function Ynt(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=n.getAttribute("id")||n.getAttribute("data-reactid")||n.getAttribute("name");if(e&&fV[t])return fV[t];var i=window.getComputedStyle(n),r=i.getPropertyValue("box-sizing")||i.getPropertyValue("-moz-box-sizing")||i.getPropertyValue("-webkit-box-sizing"),s=parseFloat(i.getPropertyValue("padding-bottom"))+parseFloat(i.getPropertyValue("padding-top")),a=parseFloat(i.getPropertyValue("border-bottom-width"))+parseFloat(i.getPropertyValue("border-top-width")),o=Gnt.map(function(u){return"".concat(u,":").concat(i.getPropertyValue(u))}).join(";"),l={sizingStyle:o,paddingSize:s,borderSize:a,boxSizing:r};return e&&t&&(fV[t]=l),l}function Knt(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;Lc||(Lc=document.createElement("textarea"),Lc.setAttribute("tab-index","-1"),Lc.setAttribute("aria-hidden","true"),Lc.setAttribute("name","hiddenTextarea"),document.body.appendChild(Lc)),n.getAttribute("wrap")?Lc.setAttribute("wrap",n.getAttribute("wrap")):Lc.removeAttribute("wrap");var r=Ynt(n,e),s=r.paddingSize,a=r.borderSize,o=r.boxSizing,l=r.sizingStyle;Lc.setAttribute("style","".concat(l,";").concat(Unt)),Lc.value=n.value||n.placeholder||"";var u=void 0,c=void 0,d,h=Lc.scrollHeight;if(o==="border-box"?h+=a:o==="content-box"&&(h-=s),t!==null||i!==null){Lc.value=" ";var f=Lc.scrollHeight-s;t!==null&&(u=f*t,o==="border-box"&&(u=u+s+a),h=Math.max(u,h)),i!==null&&(c=f*i,o==="border-box"&&(c=c+s+a),d=h>c?"":"hidden",h=Math.min(c,h))}var p={height:h,overflowY:d,resize:"none"};return u&&(p.minHeight=u),c&&(p.maxHeight=c),p}var Xnt=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],pV=0,gV=1,mV=2,qnt=np.forwardRef(function(n,e){var t=n,i=t.prefixCls,r=t.defaultValue,s=t.value,a=t.autoSize,o=t.onResize,l=t.className,u=t.style,c=t.disabled,d=t.onChange;t.onInternalAutoSize;var h=Ji(t,Xnt),f=ig(r,{value:s,postState:function(U){return U??""}}),p=Ve(f,2),g=p[0],m=p[1],v=function(U){m(U.target.value),d==null||d(U)},_=np.useRef();np.useImperativeHandle(e,function(){return{textArea:_.current}});var y=np.useMemo(function(){return a&&bn(a)==="object"?[a.minRows,a.maxRows]:[]},[a]),x=Ve(y,2),w=x[0],T=x[1],E=!!a,A=np.useState(mV),k=Ve(A,2),P=k[0],I=k[1],D=np.useState(),L=Ve(D,2),B=L[0],F=L[1],$=function(){I(pV)};Vr(function(){E&&$()},[s,w,T,E]),Vr(function(){if(P===pV)I(gV);else if(P===gV){var U=Knt(_.current,!1,w,T);I(mV),F(U)}},[P]);var z=np.useRef(),N=function(){Zr.cancel(z.current)},V=function(U){P===mV&&(o==null||o(U),a&&(N(),z.current=Zr(function(){$()})))};np.useEffect(function(){return N},[]);var H=E?B:null,K=Te(Te({},u),H);return(P===pV||P===gV)&&(K.overflowY="hidden",K.overflowX="hidden"),np.createElement(R0,{onResize:V,disabled:!(a||o)},np.createElement("textarea",wn({},h,{ref:_,style:K,className:(0,Wnt.default)(i,l,me({},"".concat(i,"-disabled"),c)),disabled:c,value:g,onChange:v})))}),Znt=qnt,Qnt=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"],Jnt=cu.default.forwardRef(function(n,e){var t,i=n.defaultValue,r=n.value,s=n.onFocus,a=n.onBlur,o=n.onChange,l=n.allowClear,u=n.maxLength,c=n.onCompositionStart,d=n.onCompositionEnd,h=n.suffix,f=n.prefixCls,p=f===void 0?"rc-textarea":f,g=n.showCount,m=n.count,v=n.className,_=n.style,y=n.disabled,x=n.hidden,w=n.classNames,T=n.styles,E=n.onResize,A=n.onClear,k=n.onPressEnter,P=n.readOnly,I=n.autoSize,D=n.onKeyDown,L=Ji(n,Qnt),B=ig(i,{value:r,defaultValue:i}),F=Ve(B,2),$=F[0],z=F[1],N=$==null?"":String($),V=cu.default.useState(!1),H=Ve(V,2),K=H[0],U=H[1],X=cu.default.useRef(!1),Z=cu.default.useState(null),Q=Ve(Z,2),se=Q[0],ae=Q[1],ue=(0,cu.useRef)(null),oe=(0,cu.useRef)(null),re=function(){var Je;return(Je=oe.current)===null||Je===void 0?void 0:Je.textArea},fe=function(){re().focus()};(0,cu.useImperativeHandle)(e,function(){var Je;return{resizableTextArea:oe.current,focus:fe,blur:function(){re().blur()},nativeElement:((Je=ue.current)===null||Je===void 0?void 0:Je.nativeElement)||re()}}),(0,cu.useEffect)(function(){U(function(Je){return!y&&Je})},[y]);var ve=cu.default.useState(null),xe=Ve(ve,2),ye=xe[0],Ee=xe[1];cu.default.useEffect(function(){if(ye){var Je;(Je=re()).setSelectionRange.apply(Je,Pt(ye))}},[ye]);var Se=swe(m,g),Fe=(t=Se.max)!==null&&t!==void 0?t:u,Ge=Number(Fe)>0,Pe=Se.strategy(N),je=!!Fe&&Pe>Fe,qe=function(Je,At){var Ft=At;!X.current&&Se.exceedFormatter&&Se.max&&Se.strategy(At)>Se.max&&(Ft=Se.exceedFormatter(At,{max:Se.max}),At!==Ft&&Ee([re().selectionStart||0,re().selectionEnd||0])),z(Ft),$L(Je.currentTarget,Je,o,Ft)},ot=function(Je){X.current=!0,c==null||c(Je)},$e=function(Je){X.current=!1,qe(Je,Je.currentTarget.value),d==null||d(Je)},et=function(Je){qe(Je,Je.target.value)},Mt=function(Je){Je.key==="Enter"&&k&&k(Je),D==null||D(Je)},Ct=function(Je){U(!0),s==null||s(Je)},tt=function(Je){U(!1),a==null||a(Je)},xt=function(Je){z(""),fe(),$L(re(),Je,o)},dt=h,bt;Se.show&&(Se.showFormatter?bt=Se.showFormatter({value:N,count:Pe,maxLength:Fe}):bt="".concat(Pe).concat(Ge?" / ".concat(Fe):""),dt=cu.default.createElement(cu.default.Fragment,null,dt,cu.default.createElement("span",{className:(0,jR.default)("".concat(p,"-data-count"),w==null?void 0:w.count),style:T==null?void 0:T.count},bt)));var rt=function(Je){var At;E==null||E(Je),(At=re())!==null&&At!==void 0&&At.style.height&&ae(!0)},Dt=!I&&!g&&!l;return cu.default.createElement(U9,{ref:ue,value:N,allowClear:l,handleReset:xt,suffix:dt,prefixCls:p,classNames:Te(Te({},w),{},{affixWrapper:(0,jR.default)(w==null?void 0:w.affixWrapper,me(me({},"".concat(p,"-show-count"),g),"".concat(p,"-textarea-allow-clear"),l))}),disabled:y,focused:K,className:(0,jR.default)(v,je&&"".concat(p,"-out-of-range")),style:Te(Te({},_),se&&!Dt?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof bt=="string"?bt:void 0}},hidden:x,readOnly:P,onClear:A},cu.default.createElement(Znt,wn({},L,{autoSize:I,maxLength:u,onKeyDown:Mt,onChange:et,onFocus:Ct,onBlur:tt,onCompositionStart:ot,onCompositionEnd:$e,className:(0,jR.default)(w==null?void 0:w.textarea),style:Te(Te({},T==null?void 0:T.textarea),{},{resize:_==null?void 0:_.resize}),disabled:y,prefixCls:p,onResize:rt,ref:oe,readOnly:P})))}),eit=Jnt,tit=eit,nit=n=>{let{componentCls:e,paddingLG:t}=n,i=`${e}-textarea`;return{[`textarea${e}`]:{maxWidth:"100%",height:"auto",minHeight:n.controlHeight,lineHeight:n.lineHeight,verticalAlign:"bottom",transition:`all ${n.motionDurationSlow}`,resize:"vertical",[`&${e}-mouse-active`]:{transition:`all ${n.motionDurationSlow}, height 0s, width 0s`}},[`${e}-textarea-affix-wrapper-resize-dirty`]:{width:"auto"},[i]:{position:"relative","&-show-count":{[`${e}-data-count`]:{position:"absolute",bottom:n.calc(n.fontSize).mul(n.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:n.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},[`
        &-allow-clear > ${e},
        &-affix-wrapper${i}-has-feedback ${e}
      `]:{paddingInlineEnd:t},[`&-affix-wrapper${e}-affix-wrapper`]:{padding:0,[`> textarea${e}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent",minHeight:n.calc(n.controlHeight).sub(n.calc(n.lineWidth).mul(2)).equal(),"&:focus":{boxShadow:"none !important"}},[`${e}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${e}-clear-icon`]:{position:"absolute",insetInlineEnd:n.paddingInline,insetBlockStart:n.paddingXS},[`${i}-suffix`]:{position:"absolute",top:0,insetInlineEnd:n.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}},[`&-affix-wrapper${e}-affix-wrapper-rtl`]:{[`${e}-suffix`]:{[`${e}-data-count`]:{direction:"ltr",insetInlineStart:0}}},[`&-affix-wrapper${e}-affix-wrapper-sm`]:{[`${e}-suffix`]:{[`${e}-clear-icon`]:{insetInlineEnd:n.paddingInlineSM}}}}}},iit=yl(["Input","TextArea"],n=>{let e=Jr(n,IP(n));return nit(e)},RP,{resetFont:!1}),rit=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t},sit=(0,Vnt.forwardRef)((n,e)=>{var t;let{prefixCls:i,bordered:r=!0,size:s,disabled:a,status:o,allowClear:l,classNames:u,rootClassName:c,className:d,style:h,styles:f,variant:p,showCount:g,onMouseDown:m,onResize:v}=n,_=rit(n,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant","showCount","onMouseDown","onResize"]),{getPrefixCls:y,direction:x,allowClear:w,autoComplete:T,className:E,style:A,classNames:k,styles:P}=Gm("textArea"),I=Sv.useContext(dg),D=a??I,{status:L,hasFeedback:B,feedbackIcon:F}=Sv.useContext(pl),$=MP(L,o),z=Sv.useRef(null);Sv.useImperativeHandle(e,()=>{var Se;return{resizableTextArea:(Se=z.current)===null||Se===void 0?void 0:Se.resizableTextArea,focus:Fe=>{var Ge,Pe;W9((Pe=(Ge=z.current)===null||Ge===void 0?void 0:Ge.resizableTextArea)===null||Pe===void 0?void 0:Pe.textArea,Fe)},blur:()=>{var Fe;return(Fe=z.current)===null||Fe===void 0?void 0:Fe.blur()}}});let N=y("input",i),V=dd(N),[H,K,U]=Xxe(N,c),[X]=iit(N,V),{compactSize:Z,compactItemClassnames:Q}=d1(N,x),se=hg(Se=>{var Fe;return(Fe=s??Z)!==null&&Fe!==void 0?Fe:Se}),[ae,ue]=IN("textArea",p,r),oe=lwe(l??w),[re,fe]=Sv.useState(!1),[ve,xe]=Sv.useState(!1),ye=Se=>{fe(!0),m==null||m(Se);let Fe=()=>{fe(!1),document.removeEventListener("mouseup",Fe)};document.addEventListener("mouseup",Fe)},Ee=Se=>{var Fe,Ge;if(v==null||v(Se),re&&typeof getComputedStyle=="function"){let Pe=(Ge=(Fe=z.current)===null||Fe===void 0?void 0:Fe.nativeElement)===null||Ge===void 0?void 0:Ge.querySelector("textarea");Pe&&getComputedStyle(Pe).resize==="both"&&xe(!0)}};return H(X(Sv.createElement(tit,Object.assign({autoComplete:T},_,{style:Object.assign(Object.assign({},A),h),styles:Object.assign(Object.assign({},P),f),disabled:D,allowClear:oe,className:(0,NR.default)(U,V,d,c,Q,E,ve&&`${N}-textarea-affix-wrapper-resize-dirty`),classNames:Object.assign(Object.assign(Object.assign({},u),k),{textarea:(0,NR.default)({[`${N}-sm`]:se==="small",[`${N}-lg`]:se==="large"},K,u==null?void 0:u.textarea,k.textarea,re&&`${N}-mouse-active`),variant:(0,NR.default)({[`${N}-${ae}`]:ue},fC(N,$)),affixWrapper:(0,NR.default)(`${N}-textarea-affix-wrapper`,{[`${N}-affix-wrapper-rtl`]:x==="rtl",[`${N}-affix-wrapper-sm`]:se==="small",[`${N}-affix-wrapper-lg`]:se==="large",[`${N}-textarea-show-count`]:g||((t=n.count)===null||t===void 0?void 0:t.show)},K)}),prefixCls:N,suffix:B&&Sv.createElement("span",{className:`${N}-textarea-suffix`},F),showCount:g,ref:z,onResize:Ee,onMouseDown:ye}))))}),ait=sit,p1=FN;p1.Group=mnt;p1.Search=Hnt;p1.TextArea=ait;p1.Password=$nt;p1.OTP=Ant;var aae=p1,ip=ie(de()),zR=ie(zt()),oae=ie(de()),oit=ie(zt()),VS=ie(de()),lae=ie(zt()),yx=ie(de()),bwe=ie(zt()),jL=100,Swe=jL/5,xwe=jL/2-Swe/2,vV=xwe*2*Math.PI,uae=50,cae=n=>{let{dotClassName:e,style:t,hasCircleCls:i}=n;return yx.createElement("circle",{className:(0,bwe.default)(`${e}-circle`,{[`${e}-circle-bg`]:i}),r:xwe,cx:uae,cy:uae,strokeWidth:Swe,style:t})},lit=({percent:n,prefixCls:e})=>{let t=`${e}-dot`,i=`${t}-holder`,r=`${i}-hidden`,[s,a]=yx.useState(!1);Vr(()=>{n!==0&&a(!0)},[n!==0]);let o=Math.max(Math.min(n,100),0);if(!s)return null;let l={strokeDashoffset:`${vV/4}`,strokeDasharray:`${vV*o/100} ${vV*(100-o)/100}`};return yx.createElement("span",{className:(0,bwe.default)(i,`${t}-progress`,o<=0&&r)},yx.createElement("svg",{viewBox:`0 0 ${jL} ${jL}`,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":o},yx.createElement(cae,{dotClassName:t,hasCircleCls:!0}),yx.createElement(cae,{dotClassName:t,style:l})))},uit=lit;function cit(n){let{prefixCls:e,percent:t=0}=n,i=`${e}-dot`,r=`${i}-holder`,s=`${r}-hidden`;return VS.createElement(VS.Fragment,null,VS.createElement("span",{className:(0,lae.default)(r,t>0&&s)},VS.createElement("span",{className:(0,lae.default)(i,`${e}-dot-spin`)},[1,2,3,4].map(a=>VS.createElement("i",{className:`${e}-dot-item`,key:a})))),VS.createElement(uit,{prefixCls:e,percent:t}))}function dit(n){var e;let{prefixCls:t,indicator:i,percent:r}=n,s=`${t}-dot`;return i&&oae.isValidElement(i)?c0(i,{className:(0,oit.default)((e=i.props)===null||e===void 0?void 0:e.className,s),percent:r}):oae.createElement(cit,{prefixCls:t,percent:r})}var hit=new xr("antSpinMove",{to:{opacity:1}}),fit=new xr("antRotate",{to:{transform:"rotate(405deg)"}}),pit=n=>{let{componentCls:e,calc:t}=n;return{[e]:Object.assign(Object.assign({},wo(n)),{position:"absolute",display:"none",color:n.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${n.motionDurationSlow} ${n.motionEaseInOutCirc}`,"&-spinning":{position:"relative",display:"inline-block",opacity:1},[`${e}-text`]:{fontSize:n.fontSize,paddingTop:t(t(n.dotSize).sub(n.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:n.colorBgMask,zIndex:n.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${n.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[e]:{[`${e}-dot-holder`]:{color:n.colorWhite},[`${e}-text`]:{color:n.colorTextLightSolid}}},"&-nested-loading":{position:"relative",[`> div > ${e}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:n.contentHeight,[`${e}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:t(n.dotSize).mul(-1).div(2).equal()},[`${e}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${n.colorBgContainer}`},[`&${e}-show-text ${e}-dot`]:{marginTop:t(n.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${e}-dot`]:{margin:t(n.dotSizeSM).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:t(t(n.dotSizeSM).sub(n.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:t(n.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${e}-dot`]:{margin:t(n.dotSizeLG).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:t(t(n.dotSizeLG).sub(n.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:t(n.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${e}-container`]:{position:"relative",transition:`opacity ${n.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:n.colorBgContainer,opacity:0,transition:`all ${n.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${e}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:n.spinDotDefault},[`${e}-dot-holder`]:{width:"1em",height:"1em",fontSize:n.dotSize,display:"inline-block",transition:`transform ${n.motionDurationSlow} ease, opacity ${n.motionDurationSlow} ease`,transformOrigin:"50% 50%",lineHeight:1,color:n.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},[`${e}-dot-progress`]:{position:"absolute",inset:0},[`${e}-dot`]:{position:"relative",display:"inline-block",fontSize:n.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:t(n.dotSize).sub(t(n.marginXXS).div(2)).div(2).equal(),height:t(n.dotSize).sub(t(n.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:hit,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:fit,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map(i=>`${i} ${n.motionDurationSlow} ease`).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:n.colorFillSecondary}},[`&-sm ${e}-dot`]:{"&, &-holder":{fontSize:n.dotSizeSM}},[`&-sm ${e}-dot-holder`]:{i:{width:t(t(n.dotSizeSM).sub(t(n.marginXXS).div(2))).div(2).equal(),height:t(t(n.dotSizeSM).sub(t(n.marginXXS).div(2))).div(2).equal()}},[`&-lg ${e}-dot`]:{"&, &-holder":{fontSize:n.dotSizeLG}},[`&-lg ${e}-dot-holder`]:{i:{width:t(t(n.dotSizeLG).sub(n.marginXXS)).div(2).equal(),height:t(t(n.dotSizeLG).sub(n.marginXXS)).div(2).equal()}},[`&${e}-show-text ${e}-text`]:{display:"block"}})}},git=n=>{let{controlHeightLG:e,controlHeight:t}=n;return{contentHeight:400,dotSize:e/2,dotSizeSM:e*.35,dotSizeLG:t}},mit=yl("Spin",n=>{let e=Jr(n,{spinDotDefault:n.colorTextDescription});return pit(e)},git),yV=ie(de()),vit=200,dae=[[30,.05],[70,.03],[96,.01]];function yit(n,e){let[t,i]=yV.useState(0),r=yV.useRef(null),s=e==="auto";return yV.useEffect(()=>(s&&n&&(i(0),r.current=setInterval(()=>{i(a=>{let o=100-a;for(let l=0;l<dae.length;l+=1){let[u,c]=dae[l];if(a<=u)return a+o*c}return a})},vit)),()=>{r.current&&(clearInterval(r.current),r.current=null)}),[s,n]),s?t:e}var _it=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t},wwe;function bit(n,e){return!!n&&!!e&&!Number.isNaN(Number(e))}var Cwe=n=>{var e;let{prefixCls:t,spinning:i=!0,delay:r=0,className:s,rootClassName:a,size:o="default",tip:l,wrapperClassName:u,style:c,children:d,fullscreen:h=!1,indicator:f,percent:p}=n,g=_it(n,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:m,direction:v,className:_,style:y,indicator:x}=Gm("spin"),w=m("spin",t),[T,E,A]=mit(w),[k,P]=ip.useState(()=>i&&!bit(i,r)),I=yit(k,p);ip.useEffect(()=>{if(i){let N=jJe(r,()=>{P(!0)});return N(),()=>{var V;(V=N==null?void 0:N.cancel)===null||V===void 0||V.call(N)}}P(!1)},[r,i]);let D=ip.useMemo(()=>typeof d<"u"&&!h,[d,h]),L=(0,zR.default)(w,_,{[`${w}-sm`]:o==="small",[`${w}-lg`]:o==="large",[`${w}-spinning`]:k,[`${w}-show-text`]:!!l,[`${w}-rtl`]:v==="rtl"},s,!h&&a,E,A),B=(0,zR.default)(`${w}-container`,{[`${w}-blur`]:k}),F=(e=f??x)!==null&&e!==void 0?e:wwe,$=Object.assign(Object.assign({},y),c),z=ip.createElement("div",Object.assign({},g,{style:$,className:L,"aria-live":"polite","aria-busy":k}),ip.createElement(dit,{prefixCls:w,indicator:F,percent:I}),l&&(D||h)?ip.createElement("div",{className:`${w}-text`},l):null);return T(D?ip.createElement("div",Object.assign({},g,{className:(0,zR.default)(`${w}-nested-loading`,u,E,A)}),k&&ip.createElement("div",{key:"loading"},z),ip.createElement("div",{className:B,key:"container"},d)):h?ip.createElement("div",{className:(0,zR.default)(`${w}-fullscreen`,{[`${w}-fullscreen-show`]:k},a,E,A)},z):z)};Cwe.setDefaultIndicator=n=>{wwe=n};var Sit=Cwe,Ep=ie(de()),bp=null,xb=n=>n(),Uk=[],Gk={};function hae(){let{getContainer:n,duration:e,rtl:t,maxCount:i,top:r}=Gk,s=(n==null?void 0:n())||document.body;return{getContainer:()=>s,duration:e,rtl:t,maxCount:i,top:r}}var xit=Ep.default.forwardRef((n,e)=>{let{messageConfig:t,sync:i}=n,{getPrefixCls:r}=(0,Ep.useContext)(er),s=Gk.prefixCls||r("message"),a=(0,Ep.useContext)(G9e),[o,l]=fSe(Object.assign(Object.assign(Object.assign({},t),{prefixCls:s}),a.message));return Ep.default.useImperativeHandle(e,()=>{let u=Object.assign({},o);return Object.keys(u).forEach(c=>{u[c]=(...d)=>(i(),o[c].apply(o,d))}),{instance:u,sync:i}}),l}),wit=Ep.default.forwardRef((n,e)=>{let[t,i]=Ep.default.useState(hae),r=()=>{i(hae)};Ep.default.useEffect(r,[]);let s=oGe(),a=s.getRootPrefixCls(),o=s.getIconPrefixCls(),l=s.getTheme(),u=Ep.default.createElement(xit,{ref:e,sync:r,messageConfig:t});return Ep.default.createElement(mN,{prefixCls:a,iconPrefixCls:o,theme:l},s.holderRender?s.holderRender(u):u)}),BN=()=>{if(!bp){let n=document.createDocumentFragment(),e={fragment:n};bp=e,xb(()=>{mSe()(Ep.default.createElement(wit,{ref:t=>{let{instance:i,sync:r}=t||{};Promise.resolve().then(()=>{!e.instance&&i&&(e.instance=i,e.sync=r,BN())})}}),n)});return}bp.instance&&(Uk.forEach(n=>{let{type:e,skipped:t}=n;if(!t)switch(e){case"open":{xb(()=>{let i=bp.instance.open(Object.assign(Object.assign({},Gk),n.config));i==null||i.then(n.resolve),n.setCloseFn(i)});break}case"destroy":xb(()=>{bp==null||bp.instance.destroy(n.key)});break;default:xb(()=>{var i;let r=(i=bp.instance)[e].apply(i,Pt(n.args));r==null||r.then(n.resolve),n.setCloseFn(r)})}}),Uk=[])};function Cit(n){Gk=Object.assign(Object.assign({},Gk),n),xb(()=>{var e;(e=bp==null?void 0:bp.sync)===null||e===void 0||e.call(bp)})}function Tit(n){let e=w9(t=>{let i,r={type:"open",config:n,resolve:t,setCloseFn:s=>{i=s}};return Uk.push(r),()=>{i?xb(()=>{i()}):r.skipped=!0}});return BN(),e}function Eit(n,e){let t=w9(i=>{let r,s={type:n,args:e,resolve:i,setCloseFn:a=>{r=a}};return Uk.push(s),()=>{r?xb(()=>{r()}):s.skipped=!0}});return BN(),t}var Ait=n=>{Uk.push({type:"destroy",key:n}),BN()},kit=["success","info","warning","error","loading"],Oit={open:Tit,destroy:Ait,config:Cit,useMessage:z8e,_InternalPanelDoNotUseOrYouWillBeFired:R8e},Twe=Oit;kit.forEach(n=>{Twe[n]=(...e)=>Eit(n,e)});var Pit=Twe,fn=ie(de(),1),_V=ie(aVe(),1),g1=ie(sje(),1),Mit=ie(pVe(),1),Iit=ie(_Ve(),1),Rit=ie(CVe(),1),Dit=ie(AVe(),1),Lit=ie(OVe(),1),Fit=fn.default.lazy(()=>qNe(()=>import("./RenderMarkDown-7QHPVOYT-luHhf8an.js"),[])),Bit=g1.default.div`
  font-size: 14px;
  margin-bottom: 16px;
`,fae=g1.default.div`
  margin-bottom: 16px;
`,pae=g1.default.div`
  color: rgba(0, 0, 0, 0.88);
  font-size: 14px;
  margin-bottom: 8px;
`,$it=g1.default.div`
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background-color: #fff;
  transition: opacity 0.3s;
  opacity: 0.5;
  z-index: 100;
`,Nit=g1.default.div`
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 101;
  text-align: center;
`,jit=g1.default.div`
  font-size: 14px;
  padding-top: 5px;
  text-shadow: 0 1px 2px #ffffff;
  color: #1677ff;
`,Ewe="ui-builder-container",Awe="ui-builder-loading",bV="ui-builder-form-item",zit=class extends fn.default.PureComponent{componentDidMount(){typeof this.props.callback=="function"&&this.props.callback()}render(){return fn.default.createElement(fn.default.Fragment,null,fn.default.createElement("div",{className:Awe}),fn.default.createElement("div",{className:Ewe}))}},Hit={tableSelect:(n,e)=>({type:"table",id:n,option:e}),fieldSelect:(n,e)=>({type:"field",id:n,option:e}),viewSelect:(n,e)=>({type:"view",id:n,option:e}),input:(n,e)=>({type:"input",id:n,option:e}),inputNumber:(n,e)=>({type:"inputNumber",id:n,option:e}),textArea:(n,e)=>({type:"textArea",id:n,option:e}),checkboxGroup:(n,e)=>({type:"checkboxGroup",id:n,option:e}),select:(n,e)=>({type:"select",id:n,option:e}),radio:(n,e)=>({type:"radio",id:n,option:e})},Fv=class{constructor(n,e){this.formItemMap=new Map,this.umount=()=>{this.unmount()},this.unmount=()=>{requestAnimationFrame(()=>{this.clear(),this.appElement.unmount(),this.app.remove()})},this.clear=()=>{var t;let i=(t=this.container)==null?void 0:t.querySelectorAll(`.${bV}`);i==null||i.forEach(r=>{this.formItemMap.get(r).unmount(),this.formItemMap.delete(r),r.remove()})},this.clearAfter=t=>{var i;let r=(i=t.closest(`.${bV}`))==null?void 0:i.nextElementSibling;for(;r;){let s=r.nextElementSibling;this.formItemMap.get(r).unmount(),r.remove(),this.formItemMap.delete(r),r=s}},this.rootElement=n,this.options=e,this.init(e.callback)}static getInstance(n,e){console.warn("You are using deprecated UIBuilder.getInstance. Please follow https://bytedance.feishu.cn/docx/Dt2hdGiHtoP7jrx23N7cPqGBnWg#XvFfdKH97o047wxwsP0cunwpnke to upgrade.");let t=document.querySelector(n);return Fv.instance?(Fv.instance.umount(),Fv.instance=new Fv(t,e)):Fv.instance=new Fv(t,e),Fv.instance}get message(){return Pit}init(n){return pe(this,null,function*(){var e;this.app=document.createElement("div"),this.appElement=(0,_V.createRoot)(this.app),this.appElement.render(fn.default.createElement(zit,{callback:()=>{this.loadingRoot=(0,_V.createRoot)(this.app.querySelector(`.${Awe}`)),this.container=this.app.querySelector(`.${Ewe}`),n(this,this.options.translation)}})),(e=this.rootElement)==null||e.appendChild(this.app)})}addComponent(n){var e;let t=document.createElement("div");t.classList.add(bV);let i=(0,_V.createRoot)(t);i.render(n),this.formItemMap.set(t,i),(e=this.container)==null||e.appendChild(t)}showLoading(n){var e;(e=this.loadingRoot)==null||e.render(fn.default.createElement(fn.default.Fragment,null,fn.default.createElement($it,null),fn.default.createElement(Nit,null,fn.default.createElement(Sit,null),fn.default.createElement(jit,null,n))))}hideLoading(){var n;(n=this.loadingRoot)==null||n.render(null)}text(n){this.addComponent(fn.default.createElement(Bit,null,n))}markdown(n){this.addComponent(fn.default.createElement(fn.Suspense,null,fn.default.createElement(Fit,{source:n})))}form(n,e){var t,i;let r=n(Hit);this.addComponent(fn.default.createElement(Wit,On({clearAfter:this.clearAfter,submitForm:e,bitable:this.options.bitable,locale:this.getLocale((i=(t=this.options.translation)==null?void 0:t.i18n)==null?void 0:i.language)},r)))}getLocale(n){switch(n){case"zh":return Mit.default;case"zh-HK":return Dit.default;case"zh-TW":return Lit.default;case"ja":return Rit.default;default:return Iit.default}}buttonsSync(n,e){return new Promise(t=>{this.addComponent(fn.default.createElement(fae,null,fn.default.createElement(pae,null,n),fn.default.createElement(V6,null,Array.isArray(e)&&e.map((i,r)=>{let s=typeof i=="string"?i:i.key,a=typeof i=="string"?i:i.label;return fn.default.createElement(LL,{key:r,onClick:()=>t(s)},a)}))))})}buttons(n,e,t){this.addComponent(fn.default.createElement(fae,null,fn.default.createElement(pae,null,n),fn.default.createElement(V6,null,Array.isArray(e)&&e.map((i,r)=>{let s=typeof i=="string"?i:i.key,a=typeof i=="string"?i:i.label;return fn.default.createElement(LL,{key:r,onClick:o=>{this.clearAfter(o.target),t(s)}},a)}))))}reload(){this.clear(),this.options.callback(this,this.options.translation)}},Vit=Fv;Le([nVe],Vit.prototype,"getLocale",1);function Wit(n){let e=(0,fn.useRef)(null),{clearAfter:t,bitable:i,submitForm:r,formItems:s,locale:a}=n,[o]=Od.useForm(),[l,u]=(0,fn.useState)(),[c,d]=(0,fn.useState)({}),h=(0,fn.useMemo)(()=>new tVe(i),[i]),f=(0,fn.useCallback)((y,x,w)=>pe(this,null,function*(){let T=w[y],E=yield h.getTable(x,!0);return yield Object.keys(T).reduce((A,k)=>pe(this,null,function*(){let P=yield A;if(k==="field"){let I=yield E.getFieldMetaList();P[k]=I.map(D=>({label:D.name,value:D.id,meta:D}))}else if(k==="view"){let I=yield E.getViewMetaList();P[k]=I.map(D=>({label:D.name,value:D.id,meta:D}))}return P}),Promise.resolve({}))}),[h]),p=(0,fn.useCallback)((y,x,w)=>pe(this,null,function*(){let T=s.filter(A=>A.option.sourceTable===y).reduce((A,k)=>(A[k.id]=void 0,A),{});o.setFieldsValue(T),d(A=>{let k=A[y],P=Object.keys(k).reduce((I,D)=>(I[D]=[],I),{});return pi(On({},A),{[y]:P})});let E=yield f(y,x,w);d(A=>pi(On({},A),{[y]:E}))}),[o,s,f]);(0,fn.useEffect)(()=>{let y=s.reduce((w,T)=>(T.type==="table"&&(w[T.id]={}),w),{}),x=s.reduce((w,T)=>((T.type==="view"||T.type==="field")&&(w[T.option.sourceTable][T.type]=[]),w),y);if(d(x),s.some(w=>w.type==="table")){let w=s.find(T=>T.type==="table");Promise.all([i.base.getTableMetaList(),i.base.getSelection()]).then(([T,E])=>{u(T);let A=s.reduce((k,P)=>(P.type==="table"&&(k[P.id]=E.tableId),k),{});o.setFieldsValue(A),w!=null&&w.id&&E.tableId&&f(w==null?void 0:w.id,E.tableId,x).then(k=>{d(P=>{let I=s.filter(D=>D.type==="table").reduce((D,L)=>(D[L.id]=Object.assign({},k),D),{});return On(On({},P),I)})})})}},[i,s,o,f]),(0,fn.useEffect)(()=>{let y=s.reduce((x,w)=>{if(w.option.defaultValue){let T=w.id;x[T]=w.option.defaultValue}return x},{});o.setFieldsValue(y)},[s,o]);let g=y=>pe(this,null,function*(){e.current&&t(e.current);let x=o.getFieldsValue();for(let w of s){if(!x[w.id])continue;let T=x[w.id];if(w.type==="table")x[w.id]=yield h.getTable(T);else if(w.type==="view"||w.type==="field"){let E=o.getFieldValue(w.option.sourceTable),A=hR(w.option),k=A?T:[T],P;w.type==="view"?P=yield Promise.all(k.map(I=>h.getView(I,E))):w.type==="field"&&(P=yield Promise.all(k.map(I=>h.getField(I,E)))),x[w.id]=A?P:P[0]}}r({key:y,values:x})}),m=(0,fn.useCallback)((y,x)=>{p(y,x,c)},[p,c]),v=(0,fn.useCallback)((y,x)=>{let w=o.getFieldValue(x);h.getView(y,w,!0)},[o,h]),_=(0,fn.useCallback)((y,x)=>{let w=o.getFieldValue(x);h.getField(y,w,!0)},[o,h]);return fn.default.createElement("div",{ref:e},fn.default.createElement(mN,{locale:a},fn.default.createElement(Od,{layout:"vertical",form:o},n.formItems.map(y=>{var x,w;switch(y.type){case"table":{let T=y.option,{label:E,onChange:A,defaultValue:k}=T,P=up(T,["label","onChange","defaultValue"]);return fn.default.createElement(Od.Item,{key:y.id,name:y.id,label:E},fn.default.createElement(MR,pi(On({},P),{onChange:(I,D)=>{m(y.id,I),A==null||A(I,D)},options:l==null?void 0:l.map(I=>({label:I.name,value:I.id}))})))}case"input":{let T=y.option,{label:E,defaultValue:A}=T,k=up(T,["label","defaultValue"]);return fn.default.createElement(Od.Item,{key:y.id,name:y.id,label:E},fn.default.createElement(aae,On({},k)))}case"inputNumber":{let T=y.option,{label:E,defaultValue:A}=T,k=up(T,["label","defaultValue"]);return fn.default.createElement(Od.Item,{key:y.id,name:y.id,label:E},fn.default.createElement(qet,On({},k)))}case"textArea":{let T=y.option,{label:E,defaultValue:A}=T,k=up(T,["label","defaultValue"]);return fn.default.createElement(Od.Item,{key:y.id,name:y.id,label:E},fn.default.createElement(aae.TextArea,On({},k)))}case"field":{let T=y.option,{sourceTable:E,label:A,filter:k,filterByTypes:P,onChange:I,mode:D,multiple:L,tags:B,defaultValue:F}=T,$=up(T,["sourceTable","label","filter","filterByTypes","onChange","mode","multiple","tags","defaultValue"]);if(!E)return null;let z=(x=c[E])==null?void 0:x[y.type];Array.isArray(P)&&(z=z==null?void 0:z.filter(V=>P.includes(V.meta.type))),typeof k=="function"&&(z=z==null?void 0:z.filter(V=>k(V.meta)));let N=hR({mode:D,multiple:L,tags:B});return fn.default.createElement(Od.Item,{key:y.id,name:y.id,label:A},fn.default.createElement(MR,pi(On({},$),{options:z,mode:N,onChange:(V,H)=>{(N?V:[V]).forEach(K=>{_(K,E)}),I==null||I(V,H)}})))}case"view":{let T=y.option,{sourceTable:E,label:A,filter:k,filterByTypes:P,onChange:I,mode:D,multiple:L,tags:B,defaultValue:F}=T,$=up(T,["sourceTable","label","filter","filterByTypes","onChange","mode","multiple","tags","defaultValue"]);if(!E)return null;let z=(w=c[E])==null?void 0:w[y.type];Array.isArray(P)&&(z=z==null?void 0:z.filter(V=>P.includes(V.meta.type))),typeof k=="function"&&(z=z==null?void 0:z.filter(V=>k(V.meta)));let N=hR({mode:D,multiple:L,tags:B});return fn.default.createElement(Od.Item,{key:y.id,name:y.id,label:A},fn.default.createElement(MR,pi(On({},$),{options:z,mode:N,onChange:(V,H)=>{(N?V:[V]).forEach(K=>{v(K,E)}),I==null||I(V,H)}})))}case"checkboxGroup":{let T=y.option,{label:E,defaultValue:A}=T,k=up(T,["label","defaultValue"]);return fn.default.createElement(Od.Item,{key:y.id,name:y.id,label:E},fn.default.createElement(ZJe.Group,On({},k)))}case"select":{let T=y.option,{label:E,defaultValue:A,mode:k,multiple:P,tags:I}=T,D=up(T,["label","defaultValue","mode","multiple","tags"]),L=hR({mode:k,multiple:P,tags:I});return fn.default.createElement(Od.Item,{key:y.id,name:y.id,label:E},fn.default.createElement(MR,pi(On({},D),{mode:L})))}case"radio":{let T=y.option,{label:E,defaultValue:A}=T,k=up(T,["label","defaultValue"]);return fn.default.createElement(Od.Item,{key:y.id,name:y.id,label:E},fn.default.createElement(MJe.Group,On({},k)))}default:return null}}),fn.default.createElement(Od.Item,null,fn.default.createElement(V6,null,Array.isArray(n.buttons)&&n.buttons.map((y,x)=>{let w=typeof y=="string"?y:y.key,T=typeof y=="string"?y:y.label;return fn.default.createElement(LL,{type:x===0?"primary":"default",key:x,onClick:()=>g(w)},T)}))))))}var gu=class extends Ky{getModuleName(){return"UI"}on(n,e){this.eventRefCount.add(Une(n),e,()=>this.registerUIEvent(n))}off(n,e){this.eventRefCount.del(Une(n),e,()=>this.unregisterUIEvent(n))}bind(n,e){return this.on(n,e),()=>this.off(n,e)}registerUIEvent(n){return pe(this,null,function*(){throw new Xe})}unregisterUIEvent(n){return pe(this,null,function*(){throw new Xe})}getSelectOptionColorInfoList(){return pe(this,null,function*(){throw new Xe})}switchBlock(n){return pe(this,null,function*(){throw new Xe})}switchToView(n,e){return pe(this,null,function*(){throw new Xe})}selectRecordIdList(n,e){return pe(this,null,function*(){throw new Xe})}showToast(n){return pe(this,null,function*(){throw new Xe})}showRecordDetailDialog(n){return pe(this,null,function*(){throw new Xe})}showFieldValueEditor(n){return pe(this,null,function*(){throw new Xe})}showFieldConfigEditor(n){return pe(this,null,function*(){throw new Xe})}showFieldCreateEditor(n){return pe(this,null,function*(){throw new Xe})}showDebugEditFieldEditor(n){return pe(this,null,function*(){throw new Xe})}sendDebugShortcut(n){}listenFetchDebugShortcut(){}};Le([Ke()],gu.prototype,"registerUIEvent",1),Le([Ke()],gu.prototype,"unregisterUIEvent",1),Le([Ke()],gu.prototype,"getSelectOptionColorInfoList",1),Le([Ke()],gu.prototype,"switchBlock",1),Le([Ke()],gu.prototype,"switchToView",1),Le([Ke()],gu.prototype,"selectRecordIdList",1),Le([Ke()],gu.prototype,"showToast",1),Le([Ke()],gu.prototype,"showRecordDetailDialog",1),Le([Ke()],gu.prototype,"showFieldValueEditor",1),Le([Ke()],gu.prototype,"showFieldConfigEditor",1),Le([Ke()],gu.prototype,"showFieldCreateEditor",1),Le([Ke()],gu.prototype,"showDebugEditFieldEditor",1),Le([Ke()],gu.prototype,"sendDebugShortcut",1),Le([Ke()],gu.prototype,"listenFetchDebugShortcut",1);var Uit=class extends gu{switchToTable(n){return this.switchBlock(n)}onFetchDebugShortcut(n){return this.bind(tbe.FetchDebugShortcut,n)}};function Git(){let n=document.querySelector("#lark-empty-print");n||(n=document.createElement("style"),n.type="text/css",n.id="lark-empty-print",n.innerHTML=`
      @media print {
        body { display: none !important; }
      }
    `,document.head.appendChild(n))}function Yit(){let n=document.querySelector("#lark-empty-print");n&&document.head.removeChild(n)}var Kit=class{constructor(n,e){this._isPrintable=!0,this._isCopyable=!0,this.permissionChangeHook={},this.base=n,this.permissionChangeHook=e,this.refreshBasePermission(),this.base.onPermissionChange(this.refreshBasePermission.bind(this)),this.listeningPermissionChange()}listeningPermissionChange(){typeof window<"u"&&(window.addEventListener("beforeprint",this.checkPrintPermission.bind(this)),window.addEventListener("copy",this.checkCopyPermission.bind(this)))}refreshBasePermission(){this.base.getBasePermission(SU.Printable).then(n=>this._isPrintable=n),this.base.getBasePermission(SU.Copyable).then(n=>this._isCopyable=n)}checkPrintPermission(){var n,e;(e=(n=this.permissionChangeHook)==null?void 0:n.printablePermissionChangeHook)==null||e.call(n,this._isPrintable),this._isPrintable?Yit():Git()}checkCopyPermission(n){var e,t,i;(t=(e=this.permissionChangeHook)==null?void 0:e.copyPermissionChangeHook)==null||t.call(e,this._isCopyable),!this._isCopyable&&(n.preventDefault(),n.stopImmediatePropagation(),(i=n.clipboardData)==null||i.setData("text/plain",""))}},W6=class extends bP{constructor(n){super(),this.permissionControl=new Kit(n,{copyPermissionChangeHook:e=>{e||this.showPrivateTips(ibe.NoCopyPermission)},printablePermissionChangeHook:()=>{}})}getModuleName(){return"Private"}setClientVersion(n){return pe(this,null,function*(){throw new Xe})}showPrivateTips(n){return pe(this,null,function*(){throw new Xe})}};Le([Ke()],W6.prototype,"setClientVersion",1),Le([Ke()],W6.prototype,"showPrivateTips",1);var Nc=class extends Ky{getModuleName(){return"Bridge"}on(n,e){this.eventRefCount.add(Vne(n),e,()=>this.registerBridgeEvent(n))}off(n,e){this.eventRefCount.del(Vne(n),e,()=>this.unregisterBridgeEvent(n))}bind(n,e){return this.on(n,e),()=>this.off(n,e)}getBitableUrl(n){throw new Xe}registerBridgeEvent(n){return pe(this,null,function*(){throw new Xe})}unregisterBridgeEvent(n){return pe(this,null,function*(){throw new Xe})}getUserId(){return pe(this,null,function*(){throw new Xe})}getBaseUserId(){return pe(this,null,function*(){throw new Xe})}getTheme(){return pe(this,null,function*(){throw new Xe})}getLocale(){return pe(this,null,function*(){throw new Xe})}getLanguage(){return pe(this,null,function*(){throw new Xe})}getTenantKey(){return pe(this,null,function*(){throw new Xe})}getEnv(){return pe(this,null,function*(){throw new Xe})}getInstanceId(){return pe(this,null,function*(){throw new Xe})}getBaseMetaInfo(){return pe(this,null,function*(){throw new Xe})}};Le([Ke()],Nc.prototype,"getBitableUrl",1),Le([Ke()],Nc.prototype,"registerBridgeEvent",1),Le([Ke()],Nc.prototype,"unregisterBridgeEvent",1),Le([Ke()],Nc.prototype,"getUserId",1),Le([Ke()],Nc.prototype,"getBaseUserId",1),Le([Ke()],Nc.prototype,"getTheme",1),Le([Ke()],Nc.prototype,"getLocale",1),Le([Ke()],Nc.prototype,"getLanguage",1),Le([Ke()],Nc.prototype,"getTenantKey",1),Le([Ke()],Nc.prototype,"getEnv",1),Le([Ke()],Nc.prototype,"getInstanceId",1),Le([Ke()],Nc.prototype,"getBaseMetaInfo",1);var Xit=class extends Nc{onThemeChange(n){return this.bind(bU.ThemeChange,n)}onDataChange(n){return this.bind(bU.DataChange,n)}},Zh=class extends Ky{getModuleName(){return"Dashboard"}getTableDataRange(n){throw new Xe}getCategories(n){throw new Xe}getConfig(){throw new Xe}saveConfig(n){throw new Xe}getPreviewData(n){throw new Xe}getData(){throw new Xe}setRendered(){throw new Xe}getTheme(){throw new Xe}registerDashboardEvent(n){throw new Xe}unRegisterDashboardEvent(n){throw new Xe}on(n,e){let t=Wne(n);this.eventRefCount.add(t,e,()=>this.registerDashboardEvent(n))}off(n,e){let t=Wne(n);this.eventRefCount.del(t,e,()=>this.unRegisterDashboardEvent(n))}bind(n,e){return this.on(n,e),()=>this.off(n,e)}};Le([Ke()],Zh.prototype,"getTableDataRange",1),Le([Ke()],Zh.prototype,"getCategories",1),Le([Ke()],Zh.prototype,"getConfig",1),Le([Ke()],Zh.prototype,"saveConfig",1),Le([Ke()],Zh.prototype,"getPreviewData",1),Le([Ke()],Zh.prototype,"getData",1),Le([Ke()],Zh.prototype,"setRendered",1),Le([Ke()],Zh.prototype,"getTheme",1),Le([Ke()],Zh.prototype,"registerDashboardEvent",1),Le([Ke()],Zh.prototype,"unRegisterDashboardEvent",1);var SV=(n,e)=>{let t=new URL(n);return new URLSearchParams(t.hash.slice(t.hash.indexOf("?"))).get(e)},qit={dataConditions:[{tableId:"",dataRange:{type:e9.ALL},groups:[],series:"COUNTA"}],customConfig:{}},Y9=class extends Zh{constructor(n,e){super(e),this._config=qit,this.base=n}get state(){if(typeof window<"u")return SV(location.href,"isCreate")==="1"?gx.Create:SV(location.href,"isFullScreen")==="1"?gx.FullScreen:SV(location.href,"isConfig")==="1"?gx.Config:gx.View}onDataChange(n){return this.bind(o2.DataChange,n)}onConfigChange(n){return this.bind(o2.ConfigChange,n)}onThemeChange(n){return this.bind(o2.ThemeChange,n)}genDefaultConfig(){return pe(this,null,function*(){var n;return{dataConditions:[{tableId:(n=(yield this.base.getTableList())[0])==null?void 0:n.id,dataRange:{type:e9.ALL},groups:[],series:"COUNTA"}],customConfig:{}}})}saveConfig(n){return pe(this,null,function*(){let e=yield this.genDefaultConfig();try{this.state===gx.Config&&(e=yield this.getConfig())}catch{e=e}return J_(Y9.prototype,this,"saveConfig").call(this,On(On({},e),n))})}},gae=class extends Hs{constructor(){super(...arguments),this.type=vn.User}transform(n){return Array.isArray(n)?n:[n]}getMultiple(){return pe(this,null,function*(){return(yield this.getMeta()).property.multiple})}setMultiple(n){return pe(this,null,function*(){let e=yield this.getMeta(),t=pi(On({},e),{property:{multiple:n}});return yield this.table.setField(this.id,t)})}};gae=Le([rs(vn.User)],gae);var mae=class extends Hs{constructor(){super(...arguments),this.type=vn.Progress}transform(n){return n}};mae=Le([rs(vn.Progress)],mae);var vae=class extends Hs{constructor(){super(...arguments),this.type=vn.Rating}transform(n){return n}getMax(){return pe(this,null,function*(){return(yield this.getMeta()).property.max})}getMin(){return pe(this,null,function*(){return(yield this.getMeta()).property.min})}setMax(n){return pe(this,null,function*(){let e=yield this.getMeta(),t=pi(On({},e),{property:pi(On({},e.property),{max:n})});return yield this.table.setField(this.id,t)})}setMin(n){return pe(this,null,function*(){let e=yield this.getMeta(),t=pi(On({},e),{property:pi(On({},e.property),{min:n})});return yield this.table.setField(this.id,t)})}getRatingIcon(){return pe(this,null,function*(){return(yield this.getMeta()).property.rating.icon})}setRatingIcon(n){return pe(this,null,function*(){let e=yield this.getMeta(),t=pi(On({},e),{property:pi(On({},e.property),{rating:{icon:n}})});return yield this.table.setField(this.id,t)})}};vae=Le([rs(vn.Rating)],vae);var yae=class extends Hs{constructor(){super(...arguments),this.type=vn.SingleLink}transform(n){return n}setTableId(n){return pe(this,null,function*(){let e=yield this.getMeta(),t=pi(On({},e),{property:pi(On({},e.property),{tableId:n})});return yield this.table.setField(this.id,t)})}getTableId(){return pe(this,null,function*(){return(yield this.getMeta()).property.tableId})}setMultiple(n){return pe(this,null,function*(){let e=yield this.getMeta(),t=pi(On({},e),{property:pi(On({},e.property),{multiple:n})});return yield this.table.setField(this.id,t)})}getMultiple(){return pe(this,null,function*(){return(yield this.getMeta()).property.multiple})}getDependencyFields(){return pe(this,null,function*(){let n=yield this.getDependency();return Promise.all(n.map(e=>pe(this,[e],function*({tableId:t,fieldId:i}){return(yield this.base.getTableById(t)).getFieldById(i)})))})}};yae=Le([rs(vn.SingleLink)],yae);var kwe=class extends Hs{constructor(){super(...arguments),this.type=vn.MultiSelect}addOptions(n){return pe(this,null,function*(){let e=yield this.getMeta(),t=pi(On({},e),{property:{options:[...e.property.options,...n],optionsType:e.property.optionsType}});return yield this.table.setField(this.id,t)})}addOption(n,e){return pe(this,null,function*(){let t=yield this.getMeta(),i=pi(On({},t),{property:{options:[...t.property.options,{name:n,color:e}],optionsType:t.property.optionsType}});return yield this.table.setField(this.id,i)})}getOptions(){return pe(this,null,function*(){return(yield this.getMeta()).property.options})}deleteOption(n){return pe(this,null,function*(){let e=yield this.getMeta(),t=U5e(n,e.property.options),i=pi(On({},e),{property:{options:t,optionsType:e.property.optionsType}});return yield this.table.setField(this.id,i)})}setOption(n,e){return pe(this,null,function*(){let t=yield this.getMeta(),i=G5e(n,e,t.property.options),r=pi(On({},t),{property:{options:i,optionsType:t.property.optionsType}});return yield this.table.setField(this.id,r)})}setOptionsType(n){return pe(this,null,function*(){let e=yield this.getMeta(),t=pi(On({},e),{property:pi(On({},e.property),{optionsType:n})});return yield this.table.setField(this.id,t)})}getOptionsType(){return pe(this,null,function*(){return(yield this.getMeta()).property.optionsType})}getDependencyFields(){return pe(this,null,function*(){let n=yield this.getDependency();return Promise.all(n.map(e=>pe(this,[e],function*({tableId:t,fieldId:i}){return(yield this.base.getTableById(t)).getFieldById(i)})))})}},_ae=class extends kwe{constructor(){super(...arguments),this.type=vn.SingleSelect}_prepareOptions(n){return pe(this,null,function*(){let e=yield this.getOptions(),t=[];e.findIndex(r=>r.name===n||r.id===n)===-1&&t.push(n);let i=t.map(r=>({name:r}));yield this.addOptions(i)})}transform(n){return pe(this,null,function*(){if(nd.isSingleSelect(n))return n;yield this._prepareOptions(n);let e=yield this.getOptions(),t=e.findIndex(r=>r.name===n||r.id===n),i=e[t];return{text:i.name,id:i.id}})}};_ae=Le([rs(vn.SingleSelect)],_ae);var bae=class extends Hs{constructor(){super(...arguments),this.type=vn.Text}_convertTextToSegments(n){return[{type:_P.Text,text:n}]}transform(n){return nd.isSegments(n)?n:nd.isSegmentItem(n)?[n]:this._convertTextToSegments(n)}};bae=Le([rs(vn.Text)],bae);var Sae=class extends Hs{constructor(){super(...arguments),this.type=vn.Url}transform(n){return nd.isSegments(n)?n:nd.isSegmentItem(n)?[n]:qr(n)?[{type:_P.Url,text:n,link:n}]:[n]}};Sae=Le([rs(vn.Url)],Sae);var xae=class extends Hs{constructor(){super(...arguments),this.type=vn.Location}transform(n){return n}getInputType(){return pe(this,null,function*(){return(yield this.getMeta()).property.inputType})}setInputType(n){return pe(this,null,function*(){let e=yield this.getMeta(),t=pi(On({},e),{property:pi(On({},e.property),{inputType:n})});return yield this.table.setField(this.id,t)})}};xae=Le([rs(vn.Location)],xae);var wae=class extends Hs{constructor(){super(...arguments),this.type=vn.Lookup}transform(n){return n}getDependencyFields(){return pe(this,null,function*(){let n=yield this.getDependency();return Promise.all(n.map(e=>pe(this,[e],function*({tableId:t,fieldId:i}){return(yield this.base.getTableById(t)).getFieldById(i)})))})}};wae=Le([rs(vn.Lookup)],wae);var K9=class extends Hs{setDateFormat(n){return pe(this,null,function*(){let e=yield this.getMeta(),t={name:e.name,type:this.type,property:pi(On({},e.property),{dateFormat:n})};return yield this.table.setField(this.id,t)})}getDateFormat(){return pe(this,null,function*(){return(yield this.getMeta()).property.dateFormat})}setDisplayTimeZone(n){return pe(this,null,function*(){let e=yield this.getMeta(),t={name:e.name,type:vn.CreatedTime,property:pi(On({},e.property),{displayTimeZone:n})};return yield this.table.setField(this.id,t)})}getDisplayTimeZone(){return pe(this,null,function*(){return(yield this.getMeta()).property.displayTimeZone})}},Cae=class extends K9{constructor(){super(...arguments),this.type=vn.ModifiedTime}getEditable(){return!1}transform(n){return n}};Cae=Le([rs(vn.ModifiedTime)],Cae);var Tae=class extends Hs{constructor(){super(...arguments),this.type=vn.ModifiedUser}getEditable(){return!1}transform(n){return n}getMultiple(){return pe(this,null,function*(){let{property:n}=yield this.getMeta();return n})}};Tae=Le([rs(vn.ModifiedUser)],Tae);var Eae=class extends kwe{constructor(){super(...arguments),this.type=vn.MultiSelect}_prepareOptions(n){return pe(this,null,function*(){let e=yield this.getOptions(),t=[];for(let r of n)e.findIndex(s=>s.name===r||s.id===r)===-1&&t.push(r);let i=t.map(r=>({name:r}));yield this.addOptions(i)})}transform(n){return pe(this,null,function*(){if(nd.isMultiSelect(n))return n;if(nd.isSingleSelect(n))return[n];let e=qr(n)?[n]:n;yield this._prepareOptions(e);let t=yield this.getOptions(),i=[];for(let r of e){let s=t.findIndex(o=>o.name===r||o.id===r),a=t[s];i.push({text:a.name,id:a.id})}return i})}};Eae=Le([rs(vn.MultiSelect)],Eae);var Aae=class extends Hs{constructor(){super(...arguments),this.type=vn.Number}transform(n){return n}setFormatter(n){return pe(this,null,function*(){let e=yield this.getMeta(),t=pi(On({},e),{property:{formatter:n}});return yield this.table.setField(this.id,t)})}getFormatter(){return pe(this,null,function*(){return(yield this.getMeta()).property.formatter})}};Aae=Le([rs(vn.Number)],Aae);var kae=class extends Hs{constructor(){super(...arguments),this.type=vn.Phone}transform(n){return N_e(n)?n.toString():n}};kae=Le([rs(vn.Phone)],kae);var Oae=class extends Hs{constructor(){super(...arguments),this.type=vn.DuplexLink}transform(n){return n}setTableId(n){return pe(this,null,function*(){let e=yield this.getMeta(),t=pi(On({},e),{property:pi(On({},e.property),{tableId:n})});return yield this.table.setField(this.id,t)})}getTableId(){return pe(this,null,function*(){return(yield this.getMeta()).property.tableId})}setMultiple(n){return pe(this,null,function*(){let e=yield this.getMeta(),t=pi(On({},e),{property:pi(On({},e.property),{multiple:n})});return yield this.table.setField(this.id,t)})}getMultiple(){return pe(this,null,function*(){return(yield this.getMeta()).property.multiple})}getDependencyFields(){return pe(this,null,function*(){let n=yield this.getDependency();return Promise.all(n.map(e=>pe(this,[e],function*({tableId:t,fieldId:i}){return(yield this.base.getTableById(t)).getFieldById(i)})))})}};Oae=Le([rs(vn.DuplexLink)],Oae);var Pae=class extends Hs{constructor(){super(...arguments),this.type=vn.Email}transform(n){return n}};Pae=Le([rs(vn.Email)],Pae);var Mae=class extends Hs{constructor(){super(...arguments),this.type=vn.Formula}transform(n){return n}getFormula(){return pe(this,null,function*(){var n;return(n=(yield this.getMeta()).property)==null?void 0:n.formula})}setFormula(n){return pe(this,null,function*(){let e=yield this.getMeta();return this.table.setField(this.id,pi(On({},e),{property:pi(On({},e.property),{formula:n})}))})}getDependencyFields(){return pe(this,null,function*(){let n=yield this.getDependency();return Promise.all(n.map(e=>pe(this,[e],function*({tableId:t,fieldId:i}){return(yield this.base.getTableById(t)).getFieldById(i)})))})}};Mae=Le([rs(vn.Formula)],Mae);var Iae=class extends Hs{constructor(){super(...arguments),this.type=vn.GroupChat}transform(n){return n}setMultiple(n){return pe(this,null,function*(){let e=yield this.getMeta(),t=pi(On({},e),{property:pi(On({},e.property),{multiple:n})});return yield this.table.setField(this.id,t)})}getMultiple(){return pe(this,null,function*(){return(yield this.getMeta()).property.multiple})}};Iae=Le([rs(vn.GroupChat)],Iae);var Rae=class extends Hs{constructor(){super(...arguments),this.type=vn.Attachment}_formatAttachmentVal(n){return Array.isArray(n)?n:n instanceof FileList?Array.from(n):[n]}transform(n){return pe(this,null,function*(){if(nd.isAttachments(n))return n;if(nd.isAttachment(n))return[n];let e=this._formatAttachmentVal(n),t=[],i=yield this.base.batchUploadFile(e);for(let[r,s]of e.entries())t.push({name:s.name,size:s.size,type:s.type,token:i[r],timeStamp:s.lastModified});return t})}getAttachmentUrls(n){return pe(this,null,function*(){let e=EU(n),t=yield this.table.getCellValue(this.id,e);return yield this.table.getCellAttachmentUrls(t.map(i=>i.token),this.id,e)})}setOnlyMobile(n){return pe(this,null,function*(){let e=yield this.getMeta(),t={name:e.name,type:vn.Attachment,property:pi(On({},e.property),{onlyMobile:n})};return yield this.table.setField(this.id,t)})}getOnlyMobile(){return pe(this,null,function*(){return(yield this.getMeta()).property.onlyMobile})}};Rae=Le([rs(vn.Attachment)],Rae);var Dae=class extends Hs{constructor(){super(...arguments),this.type=vn.AutoNumber}getEditable(){return!1}transform(n){return nd.isAutoNumber(n)?n:{value:n.toString(),status:ebe.COMPLETED}}setFormatter(){return pe(this,null,function*(){let n={name:(yield this.table.getFieldMetaById(this.id)).name,type:vn.AutoNumber};return this.table.setField(this.id,n)})}getFormatter(){return pe(this,null,function*(){return(yield this.table.getFieldMetaById(this.id)).property})}};Dae=Le([rs(vn.AutoNumber)],Dae);var Lae=class extends Hs{constructor(){super(...arguments),this.type=vn.Barcode}transform(n){return nd.isSegments(n)?n:nd.isSegmentItem(n)?[n]:[{text:n,type:_P.Text}]}setOnlyMobile(n){return pe(this,null,function*(){let e=yield this.getMeta(),t={name:e.name,type:vn.Barcode,property:pi(On({},e.property),{onlyMobile:n})};return yield this.table.setField(this.id,t)})}getOnlyMobile(){return pe(this,null,function*(){return(yield this.getMeta()).property.onlyMobile})}};Lae=Le([rs(vn.Barcode)],Lae);var Fae=class extends Hs{constructor(){super(...arguments),this.type=vn.Checkbox}transform(n){return n}};Fae=Le([rs(vn.Checkbox)],Fae);var Bae=class extends K9{constructor(){super(...arguments),this.type=vn.CreatedTime}getEditable(){return!1}transform(n){return n}};Bae=Le([rs(vn.CreatedTime)],Bae);var $ae=class extends Hs{constructor(){super(...arguments),this.type=vn.CreatedUser}transform(n){return n}getEditable(){return!1}};$ae=Le([rs(vn.CreatedUser)],$ae);var Nae=class extends Hs{constructor(){super(...arguments),this.type=vn.Currency}transform(n){return n}setDecimalDigits(n){return pe(this,null,function*(){let e=yield this.getMeta(),t=pi(On({},e),{property:pi(On({},e.property),{decimalDigits:n})});return yield this.table.setField(this.id,t)})}getDecimalDigits(){return pe(this,null,function*(){return(yield this.getMeta()).property.decimalDigits})}setCurrencyCode(n){return pe(this,null,function*(){let e=yield this.getMeta(),t=pi(On({},e),{property:pi(On({},e.property),{currencyCode:n})});return yield this.table.setField(this.id,t)})}getCurrencyCode(){return pe(this,null,function*(){return(yield this.getMeta()).property.currencyCode})}};Nae=Le([rs(vn.Currency)],Nae);var jae=class extends K9{constructor(){super(...arguments),this.type=vn.DateTime}transform(n){return n}};jae=Le([rs(vn.DateTime)],jae);/*! Bundled license information:

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*//*! Bundled license information:

classnames/index.js:
  (*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (**
   * @license React
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

@babel/runtime/helpers/esm/regenerator.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE *)
*/var Zit=Object.defineProperty,Qit=Object.getOwnPropertyDescriptor,Gg=(n,e,t,i)=>{for(var r=Qit(e,t),s=n.length-1,a;s>=0;s--)(a=n[s])&&(r=a(e,t,r)||r);return r&&Zit(e,t,r),r},$_=(n,e,t)=>new Promise((i,r)=>{var s=l=>{try{o(t.next(l))}catch(u){r(u)}},a=l=>{try{o(t.throw(l))}catch(u){r(u)}},o=l=>l.done?i(l.value):Promise.resolve(l.value).then(s,a);o((t=t.apply(n,e)).next())}),Yg=class extends Xit{getPersonalBaseToken(){return $_(this,null,function*(){throw new Xe})}setData(e,t){return $_(this,null,function*(){throw new Xe})}getData(e){return $_(this,null,function*(){throw new Xe})}navigateToExtension(e){return $_(this,null,function*(){throw new Xe})}getShortcutLogById(e){return $_(this,null,function*(){throw new Xe})}transformShortcutExecuteResult(e){return $_(this,null,function*(){throw new Xe})}getShortcutExecuteParam(e){return $_(this,null,function*(){throw new Xe})}};Gg([Ke()],Yg.prototype,"getPersonalBaseToken"),Gg([Ke()],Yg.prototype,"setData"),Gg([Ke()],Yg.prototype,"getData"),Gg([Ke()],Yg.prototype,"navigateToExtension"),Gg([Ke()],Yg.prototype,"getShortcutLogById"),Gg([Ke()],Yg.prototype,"transformShortcutExecuteResult"),Gg([Ke()],Yg.prototype,"getShortcutExecuteParam");var zL=class extends Uit{setHostContainerSize(e){throw new Xe}closeHostContainer(){throw new Xe}};Gg([Ke()],zL.prototype,"setHostContainerSize"),Gg([Ke()],zL.prototype,"closeHostContainer");var Jit=class extends Y5e{constructor(e){super(e),this.client=e}genBitable(e){return new ert(this.client,e)}},ert=class{constructor(e,t){this.ui=new zL(e).withContext([t]),this.bridge=new Yg(e).withContext([t]),this.base=new cbe(e,t).withContext([t]),this.dashboard=new Y9(this.base,e).withContext([t])}},m1=YNe();$5e(m1);var X9=new cbe(m1).withContext([]),trt=new Yg(m1).withContext([]),nrt=new zL(m1).withContext([]);new Jit(m1).withContext([]);var irt=new W6(X9).withContext([]),Pa=new Y9(X9,m1).withContext([]);irt.setClientVersion("0.5.1-beta.1");var rrt=class{constructor(){this.base=X9,this.bridge=trt,this.ui=nrt,this.dashboard=Pa}},Ef=new rrt,Owe=Object.defineProperty,zae=Object.getOwnPropertySymbols,srt=Object.prototype.hasOwnProperty,art=Object.prototype.propertyIsEnumerable,Hae=(n,e,t)=>e in n?Owe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,rp=(n,e)=>{for(var t in e||(e={}))srt.call(e,t)&&Hae(n,t,e[t]);if(zae)for(var t of zae(e))art.call(e,t)&&Hae(n,t,e[t]);return n},ort=(n,e)=>{for(var t in e)Owe(n,t,{get:e[t],enumerable:!0})},lrt=(n=>(n.Small="small",n.Medium="medium",n.Large="large",n))(lrt||{}),urt=(n=>(n.CALCULATING="calculating",n.COMPLETED="completed",n))(urt||{}),Pwe=(n=>(n.Text="text",n.Url="url",n.Mention="mention",n))(Pwe||{}),crt=(n=>(n[n.User=0]="User",n[n.Doc=1]="Doc",n[n.Folder=2]="Folder",n[n.Sheet=3]="Sheet",n[n.SheetDoc=4]="SheetDoc",n[n.Chat=5]="Chat",n[n.Bitable=8]="Bitable",n[n.Mindnote=11]="Mindnote",n[n.Box=12]="Box",n[n.Slide=15]="Slide",n[n.Wiki=16]="Wiki",n[n.Docx=22]="Docx",n[n.Slides=30]="Slides",n[n.Bitable_Ind=108]="Bitable_Ind",n))(crt||{}),drt=(n=>(n.TableAdd="TableAdd",n.TableDelete="TableDelete",n.SelectionChange="SelectionChange",n.PermissionChange="PermissionChange",n.UploadStatusChange="UploadStatusChange",n))(drt||{}),hrt=(n=>(n.FieldAdd="FieldAdd",n.FieldDelete="FieldDelete",n.FieldModify="FieldModify",n.RecordAdd="RecordAdd",n.RecordModify="RecordModify",n.RecordDelete="RecordDelete",n))(hrt||{}),frt=(n=>(n.DataChange="DataChange",n.ThemeChange="ThemeChange",n))(frt||{}),prt=(n=>(n.FetchDebugShortcut="FetchDebugShortcut",n))(prt||{}),grt=(n=>(n.DataChange="DataChange",n.ConfigChange="ConfigChange",n.ThemeChange="ThemeChange",n))(grt||{}),ay=(n=>(n[n.NotSupport=0]="NotSupport",n[n.Text=1]="Text",n[n.Number=2]="Number",n[n.SingleSelect=3]="SingleSelect",n[n.MultiSelect=4]="MultiSelect",n[n.DateTime=5]="DateTime",n[n.Checkbox=7]="Checkbox",n[n.User=11]="User",n[n.Phone=13]="Phone",n[n.Url=15]="Url",n[n.Attachment=17]="Attachment",n[n.SingleLink=18]="SingleLink",n[n.Lookup=19]="Lookup",n[n.Formula=20]="Formula",n[n.DuplexLink=21]="DuplexLink",n[n.Location=22]="Location",n[n.GroupChat=23]="GroupChat",n[n.Object=25]="Object",n[n.Denied=403]="Denied",n[n.CreatedTime=1001]="CreatedTime",n[n.ModifiedTime=1002]="ModifiedTime",n[n.CreatedUser=1003]="CreatedUser",n[n.ModifiedUser=1004]="ModifiedUser",n[n.AutoNumber=1005]="AutoNumber",n[n.Barcode=99001]="Barcode",n[n.Progress=99002]="Progress",n[n.Currency=99003]="Currency",n[n.Rating=99004]="Rating",n[n.Email=99005]="Email",n))(ay||{}),mrt=(n=>(n[n.NotSupport=0]="NotSupport",n[n.Grid=1]="Grid",n[n.Kanban=2]="Kanban",n[n.Form=3]="Form",n[n.Gallery=4]="Gallery",n[n.Gantt=5]="Gantt",n[n.Hierarchy=6]="Hierarchy",n[n.Calendar=7]="Calendar",n[n.WidgetView=100]="WidgetView",n))(mrt||{}),vrt=(n=>(n.NotSupport="NotSupport",n.Text="Text",n.Number="Number",n.Progress="Progress",n.Currency="Currency",n.Rating="Rating",n.Stage="Stage",n.SingleSelect="SingleSelect",n.MultiSelect="MultiSelect",n.DateTime="DateTime",n.Checkbox="Checkbox",n.User="User",n.GroupChat="GroupChat",n.Phone="Phone",n.Url="Url",n.Attachment="Attachment",n.SingleLink="SingleLink",n.Lookup="Lookup",n.Formula="Formula",n.DuplexLink="DuplexLink",n.Location="Location",n.Barcode="Barcode",n.Denied="Denied",n.CreatedTime="CreatedTime",n.ModifiedTime="ModifiedTime",n.CreatedUser="CreatedUser",n.ModifiedUser="ModifiedUser",n.AutoNumber="AutoNumber",n.Button="Button",n.Email="Email",n.Object="Object",n))(vrt||{}),yrt=(n=>(n[n.Pending=1]="Pending",n[n.Inflight=2]="Inflight",n[n.Success=3]="Success",n[n.Error=4]="Error",n[n.Paused=5]="Paused",n))(yrt||{}),_rt=(n=>(n.ONLY_MOBILE="ONLY_MOBILE",n.NOT_LIMIT="NOT_LIMIT",n))(_rt||{}),brt=(n=>(n.INTEGER="0",n.DIGITAL_ROUNDED_1="0.0",n.DIGITAL_ROUNDED_2="0.00",n.DIGITAL_ROUNDED_3="0.000",n.DIGITAL_ROUNDED_4="0.0000",n.DIGITAL_THOUSANDS="1,000",n.DIGITAL_THOUSANDS_DECIMALS="1,000.00",n.PERCENTAGE_ROUNDED="0%",n.PERCENTAGE="0.00%",n))(brt||{}),Srt=(n=>(n.CYN_ROUNDED="#,##0",n.CYN="#,##0.00",n.DOLLAR_ROUNDED="$#,##0",n.DOLLAR="$#,##0.00",n))(Srt||{}),xrt=(n=>(n.DATE_YMD_WITH_SLASH="yyyy/MM/dd",n.DATE_TIME="yyyy/MM/dd HH:mm",n.DATE_TIME_WITH_HYPHEN="yyyy-MM-dd HH:mm",n.DATE_YMD_WITH_HYPHEN="yyyy-MM-dd",n.DATE_MD_WITH_HYPHEN="MM-dd",n.DATE_MMDD_WITH_SLASH="MM/dd/yyyy",n.DATE_DDMM_WITH_SLASH="dd/MM/yyyy",n))(xrt||{}),wrt=(n=>(n.CNY="CNY",n.USD="USD",n.EUR="EUR",n.GBP="GBP",n.AED="AED",n.AUD="AUD",n.BRL="BRL",n.CAD="CAD",n.CHF="CHF",n.HKD="HKD",n.INR="INR",n.IDR="IDR",n.JPY="JPY",n.KRW="KRW",n.MOP="MOP",n.MXN="MXN",n.MYR="MYR",n.PHP="PHP",n.PLN="PLN",n.RUB="RUB",n.SGD="SGD",n.THB="THB",n.TRY="TRY",n.TWD="TWD",n.VND="VND",n))(wrt||{}),Crt=(n=>(n.STAR="star",n.HEART="heart",n.THUMBSUP="thumbsup",n.FIRE="fire",n.SMILE="smile",n.LIGHTNING="lightning",n.FLOWER="flower",n.NUMBER="number",n))(Crt||{}),Trt=(n=>(n[n.Low=120]="Low",n[n.Mid=360]="Mid",n[n.HIGH=720]="HIGH",n[n.MAX=1280]="MAX",n))(Trt||{}),Ert=(n=>(n.SUM="SUM",n.AVERAGE="AVERAGE",n.MAX="MAX",n.MIN="MIN",n))(Ert||{}),U6=(n=>(n.ALL="ALL",n.ALL_INCLUDE_ARCHIVE="ALL_INCLUDE_ARCHIVE",n.VIEW="VIEW",n.CUSTOM="CUSTOM",n))(U6||{}),Art=(n=>(n[n.ASCENDING=1]="ASCENDING",n[n.DESCENDING=2]="DESCENDING",n))(Art||{}),krt=(n=>(n.VALUE="VALUE",n.VIEW="VIEW",n.GROUP="GROUP",n))(krt||{}),Ort=(n=>(n.LIGHT="LIGHT",n.DARK="DARK",n))(Ort||{}),Prt=(n=>(n[n.Short=1]="Short",n[n.Medium=2]="Medium",n[n.Tall=3]="Tall",n[n.ExtraTall=4]="ExtraTall",n))(Prt||{}),Mrt=(n=>(n.Enabled="Enabled",n.Disabled="Disabled",n))(Mrt||{}),Irt=(n=>(n.NoCopyPermission="no_copy_permission",n))(Irt||{}),Rrt=(n=>(n.info="info",n.success="success",n.warning="warning",n.error="error",n.loading="loading",n))(Rrt||{}),Yk=(n=>(n.Create="Create",n.Config="Config",n.View="View",n.FullScreen="FullScreen",n))(Yk||{}),Drt=(n=>(n[n.ASCENDING=1]="ASCENDING",n[n.DESCENDING=2]="DESCENDING",n))(Drt||{}),Lrt=(n=>(n.ENUMERATED="enumerated",n.INTEGRATED="integrated",n))(Lrt||{}),Frt=(n=>(n[n.STATIC=0]="STATIC",n[n.DYNAMIC=1]="DYNAMIC",n))(Frt||{}),Brt=(n=>(n.Today="Today",n.Tomorrow="Tomorrow",n.Yesterday="Yesterday",n.TheLastWeek="TheLastWeek",n.TheNextWeek="TheNextWeek",n.TheLastMonth="TheLastMonth",n.TheNextMonth="TheNextMonth",n.CurrentWeek="CurrentWeek",n.LastWeek="LastWeek",n.CurrentMonth="CurrentMonth",n.LastMonth="LastMonth",n))(Brt||{}),$rt=(n=>(n.Is="is",n.IsNot="isNot",n.Contains="contains",n.DoesNotContain="doesNotContain",n.IsEmpty="isEmpty",n.IsNotEmpty="isNotEmpty",n.IsGreater="isGreater",n.IsGreaterEqual="isGreaterEqual",n.IsLess="isLess",n.IsLessEqual="isLessEqual",n))($rt||{}),Nrt=(n=>(n.And="and",n.Or="or",n))(Nrt||{}),jrt=(n=>(n.AddCondition="AddCondition",n.DeleteCondition="DeleteCondition",n.UpdateCondition="UpdateCondition",n.SetConjunction="SetConjunction",n))(jrt||{}),zrt=(n=>(n.Base="Base",n.Table="Table",n.View="View",n.Record="Record",n.Field="Field",n.Cell="Cell",n))(zrt||{}),Hrt=(n=>(n.Visible="visible",n.Editable="editable",n.Addable="addable",n.Deletable="deletable",n.Copyable="copyable",n.Movable="movable",n.Printable="printable",n.Manageable="manageable",n.Submittable="submittable",n))(Hrt||{}),Vrt={};ort(Vrt,{isAttachment:()=>Mwe,isAttachments:()=>Yrt,isAutoNumber:()=>Zrt,isCheckbox:()=>Xrt,isEmpty:()=>Jrt,isGroupChat:()=>Dwe,isGroupChats:()=>ist,isLink:()=>nst,isLocation:()=>Grt,isMultiSelect:()=>Qrt,isNumber:()=>q9,isPhone:()=>qrt,isSegmentItem:()=>Rwe,isSegments:()=>tst,isSingleSelect:()=>Iwe,isTimestamp:()=>Krt,isUsers:()=>Urt});function Wrt(n){if(!Wm(n))return!1;let e=to(n,"id");return Ia(e)&&e.startsWith("ou_")}function Urt(n){return ug(n)?n.every(Wrt):!1}function Grt(n){return Wm(n)?Ia(to(n,"address"))&&Ia(to(n,"adname"))&&Ia(to(n,"cityname"))&&Ia(to(n,"fullAddress"))&&Ia(to(n,"location"))&&Ia(to(n,"name"))&&Ia(to(n,"pname")):!1}function Mwe(n){return Wm(n)?Ia(to(n,"name"))&&q9(to(n,"size"))&&Ia(to(n,"token"))&&Ia(to(n,"type")):!1}function Yrt(n){return ug(n)?n.every(Mwe):!1}function Krt(n){return q9(n)}function Xrt(n){return $Ne(n)}function qrt(n){return Ia(n)}function Zrt(n){return Ia(n)||Ia(n==null?void 0:n.value)}function q9(n){return zNe(n)}function Iwe(n){return Wm(n)?Ia(to(n,"id"))&&Ia(to(n,"text")):!1}function Qrt(n){return ug(n)?n.every(Iwe):!1}function Jrt(n){return n===null}var est=new Set(Object.values(Pwe));function Rwe(n){if(!Wm(n))return!1;let e=to(n,"type"),t=to(n,"text");return!Ia(e)||!Ia(t)?!1:est.has(e)}function tst(n){return ug(n)?n.every(Rwe):!1}function nst(n){return Wm(n)?ug(to(n,"recordIds"))&&Ia(to(n,"tableId")):!1}function Dwe(n){if(!Wm(n))return!1;let e=to(n,"id"),t=to(n,"name");return Ia(e)&&e.startsWith("oc_")&&Ia(t)}function ist(n){return ug(n)?n.every(e=>Dwe(e)):!1}var Bv={Unknown:10,Base:11,Table:12,Field:13,Record:14,View:15,Cell:16,Dashboard:17},w2={Action:89,ViewWidget:96,ItemWidget:97,Widget:98,Unknown:99},$v={UnSupportedType:991,ParameterException:992,LowerLimitExceeded:993,UpperLimitExceeded:994,NameRepeated:995,NotSupported:996,PermissionDenied:997,NotFound:998,Unknown:999},xV={HostNotRegistered:997,NotFound:998,Unknown:999};Bv.Base+"",rp({},$v),Bv.Table+"",rp({NotLoaded:1,LastTableDeleteForbidden:2},$v),Bv.Field+"",rp({NotMatch:1,LocationInfoException:20},$v),Bv.Record+"",rp({SingleRecordOperationLimitExceeded:1},$v),Bv.Cell+"",rp({},$v),Bv.View+"",rp({LastViewDeleteForbidden:1,FilterInfoError:2},$v),Bv.Dashboard+"",rp({DataConditionFormatError:1},$v),w2.ItemWidget+"",rp({},xV),w2.Action+"",rp({},xV),w2.ViewWidget+"",rp({},xV);var rst=(n=>(n[n.TableNotLoadedError=10212001]="TableNotLoadedError",n[n.LastTableDeleteForbiddenError=10212002]="LastTableDeleteForbiddenError",n[n.TableParamExceptionError=10212992]="TableParamExceptionError",n[n.TableNameRepeatedError=10212995]="TableNameRepeatedError",n[n.TablePermissionDeniedError=10212997]="TablePermissionDeniedError",n[n.TableNotFoundError=10212998]="TableNotFoundError",n[n.TableUnknownError=10212999]="TableUnknownError",n[n.FieldTypeUnSupportedError=10213991]="FieldTypeUnSupportedError",n[n.FieldNameRepeatedError=10213995]="FieldNameRepeatedError",n[n.FieldPermissionDeniedError=10213997]="FieldPermissionDeniedError",n[n.FieldNotFoundError=10213998]="FieldNotFoundError",n[n.FieldUnknownError=10213999]="FieldUnknownError",n[n.SingleRecordOperationLimitExceeded=10214001]="SingleRecordOperationLimitExceeded",n[n.RecordPermissionDeniedError=10214997]="RecordPermissionDeniedError",n[n.RecordNotFoundError=10214998]="RecordNotFoundError",n[n.RecordUnknownError=10214999]="RecordUnknownError",n[n.LastViewDeleteForbiddenError=10215001]="LastViewDeleteForbiddenError",n[n.ViewTypeUnSupportedError=10215991]="ViewTypeUnSupportedError",n[n.ViewNameRepeatedError=10215995]="ViewNameRepeatedError",n[n.ViewPermissionDeniedError=10215997]="ViewPermissionDeniedError",n[n.ViewNotFoundError=10215998]="ViewNotFoundError",n[n.ViewUnknownError=10215999]="ViewUnknownError",n[n.CellPermissionDeniedError=10216997]="CellPermissionDeniedError",n[n.CellUnknownError=10216999]="CellUnknownError",n[n.DashDataConditionFormatError=10217001]="DashDataConditionFormatError",n[n.DashPermissionDeniedError=10217997]="DashPermissionDeniedError",n[n.DashDataSizeExceededError=10217994]="DashDataSizeExceededError",n[n.DashUnknownError=10217999]="DashUnknownError",n))(rst||{});(function(){return Object.entries(Bv).reduce((n,[e,t])=>(n[t]=e,n),{})})();(function(){return Object.entries(w2).reduce((n,[e,t])=>(n[t]=e,n),{})})();(function(){return Object.entries($v).reduce((n,[e,t])=>(n[t]=e,n),{})})();function sst(){}var Lwe=sst;const be=yn(Lwe);var ast=Array.isArray,Ao=ast;const Z9=yn(Ao);var ost=typeof GI=="object"&&GI&&GI.Object===Object&&GI,Fwe=ost,lst=Fwe,ust=typeof self=="object"&&self&&self.Object===Object&&self,cst=lst||ust||Function("return this")(),Lf=cst,dst=Lf,hst=dst.Symbol,v1=hst,Vae=v1,Bwe=Object.prototype,fst=Bwe.hasOwnProperty,pst=Bwe.toString,YT=Vae?Vae.toStringTag:void 0;function gst(n){var e=fst.call(n,YT),t=n[YT];try{n[YT]=void 0;var i=!0}catch{}var r=pst.call(n);return i&&(e?n[YT]=t:delete n[YT]),r}var mst=gst,vst=Object.prototype,yst=vst.toString;function _st(n){return yst.call(n)}var bst=_st,Wae=v1,Sst=mst,xst=bst,wst="[object Null]",Cst="[object Undefined]",Uae=Wae?Wae.toStringTag:void 0;function Tst(n){return n==null?n===void 0?Cst:wst:Uae&&Uae in Object(n)?Sst(n):xst(n)}var Ff=Tst;function Est(n){return n!=null&&typeof n=="object"}var _c=Est,Ast=Ff,kst=_c,Ost="[object Symbol]";function Pst(n){return typeof n=="symbol"||kst(n)&&Ast(n)==Ost}var y1=Pst,Mst=Ao,Ist=y1,Rst=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Dst=/^\w*$/;function Lst(n,e){if(Mst(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||Ist(n)?!0:Dst.test(n)||!Rst.test(n)||e!=null&&n in Object(e)}var Q9=Lst;function Fst(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var bc=Fst;const jo=yn(bc);var Bst=Ff,$st=bc,Nst="[object AsyncFunction]",jst="[object Function]",zst="[object GeneratorFunction]",Hst="[object Proxy]";function Vst(n){if(!$st(n))return!1;var e=Bst(n);return e==jst||e==zst||e==Nst||e==Hst}var $N=Vst;const Mn=yn($N);var Wst=Lf,Ust=Wst["__core-js_shared__"],Gst=Ust,wV=Gst,Gae=function(){var n=/[^.]+$/.exec(wV&&wV.keys&&wV.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function Yst(n){return!!Gae&&Gae in n}var Kst=Yst,Xst=Function.prototype,qst=Xst.toString;function Zst(n){if(n!=null){try{return qst.call(n)}catch{}try{return n+""}catch{}}return""}var $we=Zst,Qst=$N,Jst=Kst,eat=bc,tat=$we,nat=/[\\^$.*+?()[\]{}|]/g,iat=/^\[object .+?Constructor\]$/,rat=Function.prototype,sat=Object.prototype,aat=rat.toString,oat=sat.hasOwnProperty,lat=RegExp("^"+aat.call(oat).replace(nat,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function uat(n){if(!eat(n)||Jst(n))return!1;var e=Qst(n)?lat:iat;return e.test(tat(n))}var cat=uat;function dat(n,e){return n==null?void 0:n[e]}var hat=dat,fat=cat,pat=hat;function gat(n,e){var t=pat(n,e);return fat(t)?t:void 0}var L0=gat,mat=L0,vat=mat(Object,"create"),NN=vat,Yae=NN;function yat(){this.__data__=Yae?Yae(null):{},this.size=0}var _at=yat;function bat(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var Sat=bat,xat=NN,wat="__lodash_hash_undefined__",Cat=Object.prototype,Tat=Cat.hasOwnProperty;function Eat(n){var e=this.__data__;if(xat){var t=e[n];return t===wat?void 0:t}return Tat.call(e,n)?e[n]:void 0}var Aat=Eat,kat=NN,Oat=Object.prototype,Pat=Oat.hasOwnProperty;function Mat(n){var e=this.__data__;return kat?e[n]!==void 0:Pat.call(e,n)}var Iat=Mat,Rat=NN,Dat="__lodash_hash_undefined__";function Lat(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Rat&&e===void 0?Dat:e,this}var Fat=Lat,Bat=_at,$at=Sat,Nat=Aat,jat=Iat,zat=Fat;function _1(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}_1.prototype.clear=Bat;_1.prototype.delete=$at;_1.prototype.get=Nat;_1.prototype.has=jat;_1.prototype.set=zat;var Hat=_1;function Vat(){this.__data__=[],this.size=0}var Wat=Vat;function Uat(n,e){return n===e||n!==n&&e!==e}var DP=Uat,Gat=DP;function Yat(n,e){for(var t=n.length;t--;)if(Gat(n[t][0],e))return t;return-1}var jN=Yat,Kat=jN,Xat=Array.prototype,qat=Xat.splice;function Zat(n){var e=this.__data__,t=Kat(e,n);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():qat.call(e,t,1),--this.size,!0}var Qat=Zat,Jat=jN;function eot(n){var e=this.__data__,t=Jat(e,n);return t<0?void 0:e[t][1]}var tot=eot,not=jN;function iot(n){return not(this.__data__,n)>-1}var rot=iot,sot=jN;function aot(n,e){var t=this.__data__,i=sot(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this}var oot=aot,lot=Wat,uot=Qat,cot=tot,dot=rot,hot=oot;function b1(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}b1.prototype.clear=lot;b1.prototype.delete=uot;b1.prototype.get=cot;b1.prototype.has=dot;b1.prototype.set=hot;var zN=b1,fot=L0,pot=Lf,got=fot(pot,"Map"),J9=got,Kae=Hat,mot=zN,vot=J9;function yot(){this.size=0,this.__data__={hash:new Kae,map:new(vot||mot),string:new Kae}}var _ot=yot;function bot(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var Sot=bot,xot=Sot;function wot(n,e){var t=n.__data__;return xot(e)?t[typeof e=="string"?"string":"hash"]:t.map}var HN=wot,Cot=HN;function Tot(n){var e=Cot(this,n).delete(n);return this.size-=e?1:0,e}var Eot=Tot,Aot=HN;function kot(n){return Aot(this,n).get(n)}var Oot=kot,Pot=HN;function Mot(n){return Pot(this,n).has(n)}var Iot=Mot,Rot=HN;function Dot(n,e){var t=Rot(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this}var Lot=Dot,Fot=_ot,Bot=Eot,$ot=Oot,Not=Iot,jot=Lot;function S1(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}S1.prototype.clear=Fot;S1.prototype.delete=Bot;S1.prototype.get=$ot;S1.prototype.has=Not;S1.prototype.set=jot;var eX=S1,Nwe=eX,zot="Expected a function";function tX(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(zot);var t=function(){var i=arguments,r=e?e.apply(this,i):i[0],s=t.cache;if(s.has(r))return s.get(r);var a=n.apply(this,i);return t.cache=s.set(r,a)||s,a};return t.cache=new(tX.Cache||Nwe),t}tX.Cache=Nwe;var Hot=tX,Vot=Hot,Wot=500;function Uot(n){var e=Vot(n,function(i){return t.size===Wot&&t.clear(),i}),t=e.cache;return e}var Got=Uot,Yot=Got,Kot=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xot=/\\(\\)?/g,qot=Yot(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(Kot,function(t,i,r,s){e.push(r?s.replace(Xot,"$1"):i||t)}),e}),jwe=qot;function Zot(n,e){for(var t=-1,i=n==null?0:n.length,r=Array(i);++t<i;)r[t]=e(n[t],t,n);return r}var F0=Zot,Xae=v1,Qot=F0,Jot=Ao,elt=y1,qae=Xae?Xae.prototype:void 0,Zae=qae?qae.toString:void 0;function zwe(n){if(typeof n=="string")return n;if(Jot(n))return Qot(n,zwe)+"";if(elt(n))return Zae?Zae.call(n):"";var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}var Hwe=zwe,tlt=Hwe;function nlt(n){return n==null?"":tlt(n)}var VN=nlt;const Hv=yn(VN);var ilt=Ao,rlt=Q9,slt=jwe,alt=VN;function olt(n,e){return ilt(n)?n:rlt(n,e)?[n]:slt(alt(n))}var x1=olt,llt=y1;function ult(n){if(typeof n=="string"||llt(n))return n;var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}var B0=ult,clt=x1,dlt=B0;function hlt(n,e){e=clt(e,n);for(var t=0,i=e.length;n!=null&&t<i;)n=n[dlt(e[t++])];return t&&t==i?n:void 0}var WN=hlt,flt=WN;function plt(n,e,t){var i=n==null?void 0:flt(n,e);return i===void 0?t:i}var Vwe=plt;const Ce=yn(Vwe),Wwe=function(n){if(Ce(process,"env.NODE_ENV")==="development"){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];console.log(n,...t)}};class jn{static get cssClasses(){return{}}static get strings(){return{}}static get numbers(){return{}}static get defaultAdapter(){return{getProp:be,getProps:be,getState:be,getStates:be,setState:be,getContext:be,getContexts:be,getCache:be,setCache:be,getCaches:be,stopPropagation:be,persistEvent:be}}constructor(e){this._adapter=Object.assign(Object.assign({},jn.defaultAdapter),e)}getProp(e){return this._adapter.getProp(e)}getProps(){return this._adapter.getProps()}getState(e){return this._adapter.getState(e)}getStates(){return this._adapter.getStates()}setState(e,t){return this._adapter.setState(Object.assign({},e),t)}getContext(e){return this._adapter.getContext(e)}getContexts(){return this._adapter.getContexts()}getCaches(){return this._adapter.getCaches()}getCache(e){return this._adapter.getCache(e)}setCache(e,t){return e&&this._adapter.setCache(e,t)}stopPropagation(e){this._adapter.stopPropagation(e)}_isControlledComponent(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"value";const t=this.getProps();return e in t}_isInProps(e){const t=this.getProps();return e in t}init(e){}destroy(){}log(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];Wwe(e,...i)}_persistEvent(e){this._adapter.persistEvent(e)}}function h0(n){return Object.keys(n).reduce((e,t)=>(t.substr(0,5)==="data-"&&(e[t]=n[t]),e),{})}const{hasOwnProperty:glt}=Object.prototype;let An=class extends q.Component{constructor(e){super(e),this.isControlled=t=>!!(t&&this.props&&typeof this.props=="object"&&glt.call(this.props,t)),this.setStateAsync=t=>new Promise(i=>{this.setState(t,i)}),this.cache={},this.foundation=null}componentDidMount(){this.foundation&&typeof this.foundation.init=="function"&&this.foundation.init()}componentWillUnmount(){this.foundation&&typeof this.foundation.destroy=="function"&&this.foundation.destroy(),this.cache={}}get adapter(){return{getContext:e=>{if(this.context&&e)return this.context[e]},getContexts:()=>this.context,getProp:e=>this.props[e],getProps:()=>this.props,getState:e=>this.state[e],getStates:()=>this.state,setState:(e,t)=>this.setState(Object.assign({},e),t),getCache:e=>e&&this.cache[e],getCaches:()=>this.cache,setCache:(e,t)=>e&&(this.cache[e]=t),stopPropagation:e=>{try{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation()}catch{}},persistEvent:e=>{e&&e.persist&&typeof e.persist=="function"&&e.persist()}}}log(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return Wwe(e,...i)}getDataAttr(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return h0(e)}};An.propTypes={};An.defaultProps={};var mlt=Lf,vlt=function(){return mlt.Date.now()},ylt=vlt,_lt=/\s/;function blt(n){for(var e=n.length;e--&&_lt.test(n.charAt(e)););return e}var Slt=blt,xlt=Slt,wlt=/^\s+/;function Clt(n){return n&&n.slice(0,xlt(n)+1).replace(wlt,"")}var Tlt=Clt,Elt=Tlt,Qae=bc,Alt=y1,Jae=NaN,klt=/^[-+]0x[0-9a-f]+$/i,Olt=/^0b[01]+$/i,Plt=/^0o[0-7]+$/i,Mlt=parseInt;function Ilt(n){if(typeof n=="number")return n;if(Alt(n))return Jae;if(Qae(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=Qae(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=Elt(n);var t=Olt.test(n);return t||Plt.test(n)?Mlt(n.slice(2),t?2:8):klt.test(n)?Jae:+n}var nX=Ilt;const Qd=yn(nX);var Rlt=bc,CV=ylt,eoe=nX,Dlt="Expected a function",Llt=Math.max,Flt=Math.min;function Blt(n,e,t){var i,r,s,a,o,l,u=0,c=!1,d=!1,h=!0;if(typeof n!="function")throw new TypeError(Dlt);e=eoe(e)||0,Rlt(t)&&(c=!!t.leading,d="maxWait"in t,s=d?Llt(eoe(t.maxWait)||0,e):s,h="trailing"in t?!!t.trailing:h);function f(T){var E=i,A=r;return i=r=void 0,u=T,a=n.apply(A,E),a}function p(T){return u=T,o=setTimeout(v,e),c?f(T):a}function g(T){var E=T-l,A=T-u,k=e-E;return d?Flt(k,s-A):k}function m(T){var E=T-l,A=T-u;return l===void 0||E>=e||E<0||d&&A>=s}function v(){var T=CV();if(m(T))return _(T);o=setTimeout(v,g(T))}function _(T){return o=void 0,h&&i?f(T):(i=r=void 0,a)}function y(){o!==void 0&&clearTimeout(o),u=0,i=l=r=o=void 0}function x(){return o===void 0?a:_(CV())}function w(){var T=CV(),E=m(T);if(i=arguments,r=this,l=T,E){if(o===void 0)return p(l);if(d)return clearTimeout(o),o=setTimeout(v,e),f(l)}return o===void 0&&(o=setTimeout(v,e)),a}return w.cancel=y,w.flush=x,w}var Uwe=Blt;const iX=yn(Uwe);var $lt=Uwe,Nlt=bc,jlt="Expected a function";function zlt(n,e,t){var i=!0,r=!0;if(typeof n!="function")throw new TypeError(jlt);return Nlt(t)&&(i="leading"in t?!!t.leading:i,r="trailing"in t?!!t.trailing:r),$lt(n,e,{leading:i,maxWait:e,trailing:r})}var Hlt=zlt;const HL=yn(Hlt);var Gwe={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var s="",a=0;a<arguments.length;a++){var o=arguments[a];o&&(s=r(s,i(o)))}return s}function i(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var o in s)e.call(s,o)&&s[o]&&(a=r(a,o));return a}function r(s,a){return a?s?s+" "+a:s+a:s}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(Gwe);var Vlt=Gwe.exports;const le=yn(Vlt);var Ywe={exports:{}},Wlt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ult=Wlt,Glt=Ult;function Kwe(){}function Xwe(){}Xwe.resetWarningCache=Kwe;var Ylt=function(){function n(i,r,s,a,o,l){if(l!==Glt){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Xwe,resetWarningCache:Kwe};return t.PropTypes=t,t};Ywe.exports=Ylt();var LP=Ywe.exports;const S=yn(LP),nt="semi",w1=["default","error","warning","success"];function toe(n){return typeof n=="object"&&n!=null&&n.nodeType===1}function noe(n,e){return(!e||n!=="hidden")&&n!=="visible"&&n!=="clip"}function TV(n,e){if(n.clientHeight<n.scrollHeight||n.clientWidth<n.scrollWidth){var t=getComputedStyle(n,null);return noe(t.overflowY,e)||noe(t.overflowX,e)||function(i){var r=function(s){if(!s.ownerDocument||!s.ownerDocument.defaultView)return null;try{return s.ownerDocument.defaultView.frameElement}catch{return null}}(i);return!!r&&(r.clientHeight<i.scrollHeight||r.clientWidth<i.scrollWidth)}(n)}return!1}function HR(n,e,t,i,r,s,a,o){return s<n&&a>e||s>n&&a<e?0:s<=n&&o<=t||a>=e&&o>=t?s-n-i:a>e&&o<t||s<n&&o>t?a-e+r:0}var ioe=function(n,e){var t=window,i=e.scrollMode,r=e.block,s=e.inline,a=e.boundary,o=e.skipOverflowHiddenElements,l=typeof a=="function"?a:function(ye){return ye!==a};if(!toe(n))throw new TypeError("Invalid target");for(var u,c,d=document.scrollingElement||document.documentElement,h=[],f=n;toe(f)&&l(f);){if((f=(c=(u=f).parentElement)==null?u.getRootNode().host||null:c)===d){h.push(f);break}f!=null&&f===document.body&&TV(f)&&!TV(document.documentElement)||f!=null&&TV(f,o)&&h.push(f)}for(var p=t.visualViewport?t.visualViewport.width:innerWidth,g=t.visualViewport?t.visualViewport.height:innerHeight,m=window.scrollX||pageXOffset,v=window.scrollY||pageYOffset,_=n.getBoundingClientRect(),y=_.height,x=_.width,w=_.top,T=_.right,E=_.bottom,A=_.left,k=r==="start"||r==="nearest"?w:r==="end"?E:w+y/2,P=s==="center"?A+x/2:s==="end"?T:A,I=[],D=0;D<h.length;D++){var L=h[D],B=L.getBoundingClientRect(),F=B.height,$=B.width,z=B.top,N=B.right,V=B.bottom,H=B.left;if(i==="if-needed"&&w>=0&&A>=0&&E<=g&&T<=p&&w>=z&&E<=V&&A>=H&&T<=N)return I;var K=getComputedStyle(L),U=parseInt(K.borderLeftWidth,10),X=parseInt(K.borderTopWidth,10),Z=parseInt(K.borderRightWidth,10),Q=parseInt(K.borderBottomWidth,10),se=0,ae=0,ue="offsetWidth"in L?L.offsetWidth-L.clientWidth-U-Z:0,oe="offsetHeight"in L?L.offsetHeight-L.clientHeight-X-Q:0,re="offsetWidth"in L?L.offsetWidth===0?0:$/L.offsetWidth:0,fe="offsetHeight"in L?L.offsetHeight===0?0:F/L.offsetHeight:0;if(d===L)se=r==="start"?k:r==="end"?k-g:r==="nearest"?HR(v,v+g,g,X,Q,v+k,v+k+y,y):k-g/2,ae=s==="start"?P:s==="center"?P-p/2:s==="end"?P-p:HR(m,m+p,p,U,Z,m+P,m+P+x,x),se=Math.max(0,se+v),ae=Math.max(0,ae+m);else{se=r==="start"?k-z-X:r==="end"?k-V+Q+oe:r==="nearest"?HR(z,V,F,X,Q+oe,k,k+y,y):k-(z+F/2)+oe/2,ae=s==="start"?P-H-U:s==="center"?P-(H+$/2)+ue/2:s==="end"?P-N+Z+ue:HR(H,N,$,U,Z+ue,P,P+x,x);var ve=L.scrollLeft,xe=L.scrollTop;k+=xe-(se=Math.max(0,Math.min(xe+se/fe,L.scrollHeight-F/fe+oe))),P+=ve-(ae=Math.max(0,Math.min(ve+ae/re,L.scrollWidth-$/re+ue)))}I.push({el:L,top:se,left:ae})}return I};function qwe(n){return n===Object(n)&&Object.keys(n).length!==0}function Klt(n,e){e===void 0&&(e="auto");var t="scrollBehavior"in document.body.style;n.forEach(function(i){var r=i.el,s=i.top,a=i.left;r.scroll&&t?r.scroll({top:s,left:a,behavior:e}):(r.scrollTop=s,r.scrollLeft=a)})}function Xlt(n){return n===!1?{block:"end",inline:"nearest"}:qwe(n)?n:{block:"start",inline:"nearest"}}function EV(n,e){var t=n.isConnected||n.ownerDocument.documentElement.contains(n);if(qwe(e)&&typeof e.behavior=="function")return e.behavior(t?ioe(n,e):[]);if(t){var i=Xlt(e);return Klt(ioe(n,i),i.behavior)}}var qlt=zN;function Zlt(){this.__data__=new qlt,this.size=0}var Qlt=Zlt;function Jlt(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}var eut=Jlt;function tut(n){return this.__data__.get(n)}var nut=tut;function iut(n){return this.__data__.has(n)}var rut=iut,sut=zN,aut=J9,out=eX,lut=200;function uut(n,e){var t=this.__data__;if(t instanceof sut){var i=t.__data__;if(!aut||i.length<lut-1)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new out(i)}return t.set(n,e),this.size=t.size,this}var cut=uut,dut=zN,hut=Qlt,fut=eut,put=nut,gut=rut,mut=cut;function C1(n){var e=this.__data__=new dut(n);this.size=e.size}C1.prototype.clear=hut;C1.prototype.delete=fut;C1.prototype.get=put;C1.prototype.has=gut;C1.prototype.set=mut;var UN=C1;function vut(n,e){for(var t=-1,i=n==null?0:n.length;++t<i&&e(n[t],t,n)!==!1;);return n}var Zwe=vut,yut=L0,_ut=function(){try{var n=yut(Object,"defineProperty");return n({},"",{}),n}catch{}}(),Qwe=_ut,roe=Qwe;function but(n,e,t){e=="__proto__"&&roe?roe(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}var rX=but,Sut=rX,xut=DP,wut=Object.prototype,Cut=wut.hasOwnProperty;function Tut(n,e,t){var i=n[e];(!(Cut.call(n,e)&&xut(i,t))||t===void 0&&!(e in n))&&Sut(n,e,t)}var GN=Tut,Eut=GN,Aut=rX;function kut(n,e,t,i){var r=!t;t||(t={});for(var s=-1,a=e.length;++s<a;){var o=e[s],l=i?i(t[o],n[o],o,t,n):void 0;l===void 0&&(l=n[o]),r?Aut(t,o,l):Eut(t,o,l)}return t}var $0=kut;function Out(n,e){for(var t=-1,i=Array(n);++t<n;)i[t]=e(t);return i}var Jwe=Out,Put=Ff,Mut=_c,Iut="[object Arguments]";function Rut(n){return Mut(n)&&Put(n)==Iut}var Dut=Rut,soe=Dut,Lut=_c,eCe=Object.prototype,Fut=eCe.hasOwnProperty,But=eCe.propertyIsEnumerable,$ut=soe(function(){return arguments}())?soe:function(n){return Lut(n)&&Fut.call(n,"callee")&&!But.call(n,"callee")},FP=$ut,VL={exports:{}};function Nut(){return!1}var tCe=Nut;const Kk=yn(tCe);VL.exports;(function(n,e){var t=Lf,i=tCe,r=e&&!e.nodeType&&e,s=r&&!0&&n&&!n.nodeType&&n,a=s&&s.exports===r,o=a?t.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||i;n.exports=u})(VL,VL.exports);var BP=VL.exports,jut=9007199254740991,zut=/^(?:0|[1-9]\d*)$/;function Hut(n,e){var t=typeof n;return e=e??jut,!!e&&(t=="number"||t!="symbol"&&zut.test(n))&&n>-1&&n%1==0&&n<e}var YN=Hut,Vut=9007199254740991;function Wut(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Vut}var sX=Wut,Uut=Ff,Gut=sX,Yut=_c,Kut="[object Arguments]",Xut="[object Array]",qut="[object Boolean]",Zut="[object Date]",Qut="[object Error]",Jut="[object Function]",ect="[object Map]",tct="[object Number]",nct="[object Object]",ict="[object RegExp]",rct="[object Set]",sct="[object String]",act="[object WeakMap]",oct="[object ArrayBuffer]",lct="[object DataView]",uct="[object Float32Array]",cct="[object Float64Array]",dct="[object Int8Array]",hct="[object Int16Array]",fct="[object Int32Array]",pct="[object Uint8Array]",gct="[object Uint8ClampedArray]",mct="[object Uint16Array]",vct="[object Uint32Array]",ws={};ws[uct]=ws[cct]=ws[dct]=ws[hct]=ws[fct]=ws[pct]=ws[gct]=ws[mct]=ws[vct]=!0;ws[Kut]=ws[Xut]=ws[oct]=ws[qut]=ws[lct]=ws[Zut]=ws[Qut]=ws[Jut]=ws[ect]=ws[tct]=ws[nct]=ws[ict]=ws[rct]=ws[sct]=ws[act]=!1;function yct(n){return Yut(n)&&Gut(n.length)&&!!ws[Uut(n)]}var _ct=yct;function bct(n){return function(e){return n(e)}}var N0=bct,WL={exports:{}};WL.exports;(function(n,e){var t=Fwe,i=e&&!e.nodeType&&e,r=i&&!0&&n&&!n.nodeType&&n,s=r&&r.exports===i,a=s&&t.process,o=function(){try{var l=r&&r.require&&r.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();n.exports=o})(WL,WL.exports);var $P=WL.exports,Sct=_ct,xct=N0,aoe=$P,ooe=aoe&&aoe.isTypedArray,wct=ooe?xct(ooe):Sct,KN=wct,Cct=Jwe,Tct=FP,Ect=Ao,Act=BP,kct=YN,Oct=KN,Pct=Object.prototype,Mct=Pct.hasOwnProperty;function Ict(n,e){var t=Ect(n),i=!t&&Tct(n),r=!t&&!i&&Act(n),s=!t&&!i&&!r&&Oct(n),a=t||i||r||s,o=a?Cct(n.length,String):[],l=o.length;for(var u in n)(e||Mct.call(n,u))&&!(a&&(u=="length"||r&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||kct(u,l)))&&o.push(u);return o}var nCe=Ict,Rct=Object.prototype;function Dct(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||Rct;return n===t}var NP=Dct;function Lct(n,e){return function(t){return n(e(t))}}var iCe=Lct,Fct=iCe,Bct=Fct(Object.keys,Object),$ct=Bct,Nct=NP,jct=$ct,zct=Object.prototype,Hct=zct.hasOwnProperty;function Vct(n){if(!Nct(n))return jct(n);var e=[];for(var t in Object(n))Hct.call(n,t)&&t!="constructor"&&e.push(t);return e}var aX=Vct,Wct=$N,Uct=sX;function Gct(n){return n!=null&&Uct(n.length)&&!Wct(n)}var Bf=Gct,Yct=nCe,Kct=aX,Xct=Bf;function qct(n){return Xct(n)?Yct(n):Kct(n)}var Jy=qct,Zct=$0,Qct=Jy;function Jct(n,e){return n&&Zct(e,Qct(e),n)}var edt=Jct;function tdt(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var ndt=tdt,idt=bc,rdt=NP,sdt=ndt,adt=Object.prototype,odt=adt.hasOwnProperty;function ldt(n){if(!idt(n))return sdt(n);var e=rdt(n),t=[];for(var i in n)i=="constructor"&&(e||!odt.call(n,i))||t.push(i);return t}var udt=ldt,cdt=nCe,ddt=udt,hdt=Bf;function fdt(n){return hdt(n)?cdt(n,!0):ddt(n)}var jP=fdt,pdt=$0,gdt=jP;function mdt(n,e){return n&&pdt(e,gdt(e),n)}var vdt=mdt,UL={exports:{}};UL.exports;(function(n,e){var t=Lf,i=e&&!e.nodeType&&e,r=i&&!0&&n&&!n.nodeType&&n,s=r&&r.exports===i,a=s?t.Buffer:void 0,o=a?a.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var d=u.length,h=o?o(d):new u.constructor(d);return u.copy(h),h}n.exports=l})(UL,UL.exports);var rCe=UL.exports;function ydt(n,e){var t=-1,i=n.length;for(e||(e=Array(i));++t<i;)e[t]=n[t];return e}var XN=ydt;function _dt(n,e){for(var t=-1,i=n==null?0:n.length,r=0,s=[];++t<i;){var a=n[t];e(a,t,n)&&(s[r++]=a)}return s}var sCe=_dt;function bdt(){return[]}var aCe=bdt,Sdt=sCe,xdt=aCe,wdt=Object.prototype,Cdt=wdt.propertyIsEnumerable,loe=Object.getOwnPropertySymbols,Tdt=loe?function(n){return n==null?[]:(n=Object(n),Sdt(loe(n),function(e){return Cdt.call(n,e)}))}:xdt,oX=Tdt,Edt=$0,Adt=oX;function kdt(n,e){return Edt(n,Adt(n),e)}var Odt=kdt;function Pdt(n,e){for(var t=-1,i=e.length,r=n.length;++t<i;)n[r+t]=e[t];return n}var lX=Pdt,Mdt=iCe,Idt=Mdt(Object.getPrototypeOf,Object),uX=Idt,Rdt=lX,Ddt=uX,Ldt=oX,Fdt=aCe,Bdt=Object.getOwnPropertySymbols,$dt=Bdt?function(n){for(var e=[];n;)Rdt(e,Ldt(n)),n=Ddt(n);return e}:Fdt,oCe=$dt,Ndt=$0,jdt=oCe;function zdt(n,e){return Ndt(n,jdt(n),e)}var Hdt=zdt,Vdt=lX,Wdt=Ao;function Udt(n,e,t){var i=e(n);return Wdt(n)?i:Vdt(i,t(n))}var lCe=Udt,Gdt=lCe,Ydt=oX,Kdt=Jy;function Xdt(n){return Gdt(n,Kdt,Ydt)}var uCe=Xdt,qdt=lCe,Zdt=oCe,Qdt=jP;function Jdt(n){return qdt(n,Qdt,Zdt)}var cCe=Jdt,eht=L0,tht=Lf,nht=eht(tht,"DataView"),iht=nht,rht=L0,sht=Lf,aht=rht(sht,"Promise"),oht=aht,lht=L0,uht=Lf,cht=lht(uht,"Set"),dCe=cht,dht=L0,hht=Lf,fht=dht(hht,"WeakMap"),pht=fht,G6=iht,Y6=J9,K6=oht,X6=dCe,q6=pht,hCe=Ff,T1=$we,uoe="[object Map]",ght="[object Object]",coe="[object Promise]",doe="[object Set]",hoe="[object WeakMap]",foe="[object DataView]",mht=T1(G6),vht=T1(Y6),yht=T1(K6),_ht=T1(X6),bht=T1(q6),ib=hCe;(G6&&ib(new G6(new ArrayBuffer(1)))!=foe||Y6&&ib(new Y6)!=uoe||K6&&ib(K6.resolve())!=coe||X6&&ib(new X6)!=doe||q6&&ib(new q6)!=hoe)&&(ib=function(n){var e=hCe(n),t=e==ght?n.constructor:void 0,i=t?T1(t):"";if(i)switch(i){case mht:return foe;case vht:return uoe;case yht:return coe;case _ht:return doe;case bht:return hoe}return e});var E1=ib,Sht=Object.prototype,xht=Sht.hasOwnProperty;function wht(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&xht.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var Cht=wht,Tht=Lf,Eht=Tht.Uint8Array,fCe=Eht,poe=fCe;function Aht(n){var e=new n.constructor(n.byteLength);return new poe(e).set(new poe(n)),e}var cX=Aht,kht=cX;function Oht(n,e){var t=e?kht(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var Pht=Oht,Mht=/\w*$/;function Iht(n){var e=new n.constructor(n.source,Mht.exec(n));return e.lastIndex=n.lastIndex,e}var Rht=Iht,goe=v1,moe=goe?goe.prototype:void 0,voe=moe?moe.valueOf:void 0;function Dht(n){return voe?Object(voe.call(n)):{}}var Lht=Dht,Fht=cX;function Bht(n,e){var t=e?Fht(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var pCe=Bht,$ht=cX,Nht=Pht,jht=Rht,zht=Lht,Hht=pCe,Vht="[object Boolean]",Wht="[object Date]",Uht="[object Map]",Ght="[object Number]",Yht="[object RegExp]",Kht="[object Set]",Xht="[object String]",qht="[object Symbol]",Zht="[object ArrayBuffer]",Qht="[object DataView]",Jht="[object Float32Array]",eft="[object Float64Array]",tft="[object Int8Array]",nft="[object Int16Array]",ift="[object Int32Array]",rft="[object Uint8Array]",sft="[object Uint8ClampedArray]",aft="[object Uint16Array]",oft="[object Uint32Array]";function lft(n,e,t){var i=n.constructor;switch(e){case Zht:return $ht(n);case Vht:case Wht:return new i(+n);case Qht:return Nht(n,t);case Jht:case eft:case tft:case nft:case ift:case rft:case sft:case aft:case oft:return Hht(n,t);case Uht:return new i;case Ght:case Xht:return new i(n);case Yht:return jht(n);case Kht:return new i;case qht:return zht(n)}}var uft=lft,cft=bc,yoe=Object.create,dft=function(){function n(){}return function(e){if(!cft(e))return{};if(yoe)return yoe(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}(),hft=dft,fft=hft,pft=uX,gft=NP;function mft(n){return typeof n.constructor=="function"&&!gft(n)?fft(pft(n)):{}}var gCe=mft,vft=E1,yft=_c,_ft="[object Map]";function bft(n){return yft(n)&&vft(n)==_ft}var Sft=bft,xft=Sft,wft=N0,_oe=$P,boe=_oe&&_oe.isMap,Cft=boe?wft(boe):xft,mCe=Cft;const Xk=yn(mCe);var Tft=E1,Eft=_c,Aft="[object Set]";function kft(n){return Eft(n)&&Tft(n)==Aft}var Oft=kft,Pft=Oft,Mft=N0,Soe=$P,xoe=Soe&&Soe.isSet,Ift=xoe?Mft(xoe):Pft,vCe=Ift;const Ap=yn(vCe);var Rft=UN,Dft=Zwe,Lft=GN,Fft=edt,Bft=vdt,$ft=rCe,Nft=XN,jft=Odt,zft=Hdt,Hft=uCe,Vft=cCe,Wft=E1,Uft=Cht,Gft=uft,Yft=gCe,Kft=Ao,Xft=BP,qft=mCe,Zft=bc,Qft=vCe,Jft=Jy,ept=jP,tpt=1,npt=2,ipt=4,yCe="[object Arguments]",rpt="[object Array]",spt="[object Boolean]",apt="[object Date]",opt="[object Error]",_Ce="[object Function]",lpt="[object GeneratorFunction]",upt="[object Map]",cpt="[object Number]",bCe="[object Object]",dpt="[object RegExp]",hpt="[object Set]",fpt="[object String]",ppt="[object Symbol]",gpt="[object WeakMap]",mpt="[object ArrayBuffer]",vpt="[object DataView]",ypt="[object Float32Array]",_pt="[object Float64Array]",bpt="[object Int8Array]",Spt="[object Int16Array]",xpt="[object Int32Array]",wpt="[object Uint8Array]",Cpt="[object Uint8ClampedArray]",Tpt="[object Uint16Array]",Ept="[object Uint32Array]",ds={};ds[yCe]=ds[rpt]=ds[mpt]=ds[vpt]=ds[spt]=ds[apt]=ds[ypt]=ds[_pt]=ds[bpt]=ds[Spt]=ds[xpt]=ds[upt]=ds[cpt]=ds[bCe]=ds[dpt]=ds[hpt]=ds[fpt]=ds[ppt]=ds[wpt]=ds[Cpt]=ds[Tpt]=ds[Ept]=!0;ds[opt]=ds[_Ce]=ds[gpt]=!1;function C2(n,e,t,i,r,s){var a,o=e&tpt,l=e&npt,u=e&ipt;if(t&&(a=r?t(n,i,r,s):t(n)),a!==void 0)return a;if(!Zft(n))return n;var c=Kft(n);if(c){if(a=Uft(n),!o)return Nft(n,a)}else{var d=Wft(n),h=d==_Ce||d==lpt;if(Xft(n))return $ft(n,o);if(d==bCe||d==yCe||h&&!r){if(a=l||h?{}:Yft(n),!o)return l?zft(n,Bft(a,n)):jft(n,Fft(a,n))}else{if(!ds[d])return r?n:{};a=Gft(n,d,o)}}s||(s=new Rft);var f=s.get(n);if(f)return f;s.set(n,a),Qft(n)?n.forEach(function(m){a.add(C2(m,e,t,m,n,s))}):qft(n)&&n.forEach(function(m,v){a.set(v,C2(m,e,t,v,n,s))});var p=u?l?Vft:Hft:l?ept:Jft,g=c?void 0:p(n);return Dft(g||n,function(m,v){g&&(v=m,m=n[v]),Lft(a,v,C2(m,e,t,v,n,s))}),a}var dX=C2;function Apt(n){var e=n==null?0:n.length;return e?n[e-1]:void 0}var kpt=Apt;function Opt(n,e,t){var i=-1,r=n.length;e<0&&(e=-e>r?0:r+e),t=t>r?r:t,t<0&&(t+=r),r=e>t?0:t-e>>>0,e>>>=0;for(var s=Array(r);++i<r;)s[i]=n[i+e];return s}var hX=Opt,Ppt=WN,Mpt=hX;function Ipt(n,e){return e.length<2?n:Ppt(n,Mpt(e,0,-1))}var Rpt=Ipt,Dpt=x1,Lpt=kpt,Fpt=Rpt,Bpt=B0;function $pt(n,e){return e=Dpt(e,n),n=Fpt(n,e),n==null||delete n[Bpt(Lpt(e))]}var SCe=$pt,Npt=Ff,jpt=uX,zpt=_c,Hpt="[object Object]",Vpt=Function.prototype,Wpt=Object.prototype,xCe=Vpt.toString,Upt=Wpt.hasOwnProperty,Gpt=xCe.call(Object);function Ypt(n){if(!zpt(n)||Npt(n)!=Hpt)return!1;var e=jpt(n);if(e===null)return!0;var t=Upt.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&xCe.call(t)==Gpt}var fX=Ypt;const wCe=yn(fX);var Kpt=fX;function Xpt(n){return Kpt(n)?void 0:n}var qpt=Xpt,woe=v1,Zpt=FP,Qpt=Ao,Coe=woe?woe.isConcatSpreadable:void 0;function Jpt(n){return Qpt(n)||Zpt(n)||!!(Coe&&n&&n[Coe])}var egt=Jpt,tgt=lX,ngt=egt;function CCe(n,e,t,i,r){var s=-1,a=n.length;for(t||(t=ngt),r||(r=[]);++s<a;){var o=n[s];e>0&&t(o)?e>1?CCe(o,e-1,t,i,r):tgt(r,o):i||(r[r.length]=o)}return r}var pX=CCe,igt=pX;function rgt(n){var e=n==null?0:n.length;return e?igt(n,1):[]}var sgt=rgt;function agt(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}var ogt=agt,lgt=ogt,Toe=Math.max;function ugt(n,e,t){return e=Toe(e===void 0?n.length-1:e,0),function(){for(var i=arguments,r=-1,s=Toe(i.length-e,0),a=Array(s);++r<s;)a[r]=i[e+r];r=-1;for(var o=Array(e+1);++r<e;)o[r]=i[r];return o[e]=t(a),lgt(n,this,o)}}var TCe=ugt;function cgt(n){return function(){return n}}var dgt=cgt;function hgt(n){return n}var zP=hgt,fgt=dgt,Eoe=Qwe,pgt=zP,ggt=Eoe?function(n,e){return Eoe(n,"toString",{configurable:!0,enumerable:!1,value:fgt(e),writable:!0})}:pgt,mgt=ggt,vgt=800,ygt=16,_gt=Date.now;function bgt(n){var e=0,t=0;return function(){var i=_gt(),r=ygt-(i-t);if(t=i,r>0){if(++e>=vgt)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}var Sgt=bgt,xgt=mgt,wgt=Sgt,Cgt=wgt(xgt),ECe=Cgt,Tgt=sgt,Egt=TCe,Agt=ECe;function kgt(n){return Agt(Egt(n,void 0,Tgt),n+"")}var ACe=kgt,Ogt=F0,Pgt=dX,Mgt=SCe,Igt=x1,Rgt=$0,Dgt=qpt,Lgt=ACe,Fgt=cCe,Bgt=1,$gt=2,Ngt=4,jgt=Lgt(function(n,e){var t={};if(n==null)return t;var i=!1;e=Ogt(e,function(s){return s=Igt(s,n),i||(i=s.length>1),s}),Rgt(n,Fgt(n),t),i&&(t=Pgt(t,Bgt|$gt|Ngt,Dgt));for(var r=e.length;r--;)Mgt(t,e[r]);return t}),zgt=jgt;const Co=yn(zgt),qN={PREFIX:`${nt}-typography`},Wl={WEIGHT:["light","regular","medium","semibold","bold","default"],TYPE:["primary","secondary","danger","warning","success","tertiary","quaternary"],SIZE:["normal","small","inherit"],SPACING:["normal","extended"],HEADING:[1,2,3,4,5,6],RULE:["text","numbers","bytes-decimal","bytes-binary","percentages","exponential"],TRUNCATE:["ceil","floor","round"]};var Hgt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const Vgt=qN.PREFIX;let ZN=class extends q.PureComponent{render(){const e=this.props,{component:t,className:i,children:r,forwardRef:s}=e,a=Hgt(e,["component","className","children","forwardRef"]),o=t,l=le(Vgt,i);return M.createElement(o,Object.assign({className:l,ref:s},Co(a,"tooltipRef")),r)}};ZN.defaultProps={component:"article",style:{},className:""};ZN.propTypes={component:S.string,style:S.object,className:S.string};function Wgt(n){return n===null}var Ugt=Wgt;const Rm=yn(Ugt);var Ggt=Ff,Ygt=Ao,Kgt=_c,Xgt="[object String]";function qgt(n){return typeof n=="string"||!Ygt(n)&&Kgt(n)&&Ggt(n)==Xgt}var gX=qgt;const oi=yn(gX);var Zgt=rX,Qgt=DP;function Jgt(n,e,t){(t!==void 0&&!Qgt(n[e],t)||t===void 0&&!(e in n))&&Zgt(n,e,t)}var kCe=Jgt;function emt(n){return function(e,t,i){for(var r=-1,s=Object(e),a=i(e),o=a.length;o--;){var l=a[n?o:++r];if(t(s[l],l,s)===!1)break}return e}}var tmt=emt,nmt=tmt,imt=nmt(),OCe=imt,rmt=Bf,smt=_c;function amt(n){return smt(n)&&rmt(n)}var mX=amt;function omt(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}var PCe=omt,lmt=$0,umt=jP;function cmt(n){return lmt(n,umt(n))}var dmt=cmt,Aoe=kCe,hmt=rCe,fmt=pCe,pmt=XN,gmt=gCe,koe=FP,Ooe=Ao,mmt=mX,vmt=BP,ymt=$N,_mt=bc,bmt=fX,Smt=KN,Poe=PCe,xmt=dmt;function wmt(n,e,t,i,r,s,a){var o=Poe(n,t),l=Poe(e,t),u=a.get(l);if(u){Aoe(n,t,u);return}var c=s?s(o,l,t+"",n,e,a):void 0,d=c===void 0;if(d){var h=Ooe(l),f=!h&&vmt(l),p=!h&&!f&&Smt(l);c=l,h||f||p?Ooe(o)?c=o:mmt(o)?c=pmt(o):f?(d=!1,c=hmt(l,!0)):p?(d=!1,c=fmt(l,!0)):c=[]:bmt(l)||koe(l)?(c=o,koe(o)?c=xmt(o):(!_mt(o)||ymt(o))&&(c=gmt(l))):d=!1}d&&(a.set(l,c),r(c,l,i,s,a),a.delete(l)),Aoe(n,t,c)}var Cmt=wmt,Tmt=UN,Emt=kCe,Amt=OCe,kmt=Cmt,Omt=bc,Pmt=jP,Mmt=PCe;function MCe(n,e,t,i,r){n!==e&&Amt(e,function(s,a){if(r||(r=new Tmt),Omt(s))kmt(n,e,a,t,MCe,i,r);else{var o=i?i(Mmt(n,a),s,a+"",n,e,r):void 0;o===void 0&&(o=s),Emt(n,a,o)}},Pmt)}var Imt=MCe,Rmt=zP,Dmt=TCe,Lmt=ECe;function Fmt(n,e){return Lmt(Dmt(n,e,Rmt),n+"")}var QN=Fmt,Bmt=DP,$mt=Bf,Nmt=YN,jmt=bc;function zmt(n,e,t){if(!jmt(t))return!1;var i=typeof e;return(i=="number"?$mt(t)&&Nmt(e,t.length):i=="string"&&e in t)?Bmt(t[e],n):!1}var JN=zmt,Hmt=QN,Vmt=JN;function Wmt(n){return Hmt(function(e,t){var i=-1,r=t.length,s=r>1?t[r-1]:void 0,a=r>2?t[2]:void 0;for(s=n.length>3&&typeof s=="function"?(r--,s):void 0,a&&Vmt(t[0],t[1],a)&&(s=r<3?void 0:s,r=1),e=Object(e);++i<r;){var o=t[i];o&&n(e,o,i,s)}return e})}var ICe=Wmt,Umt=Imt,Gmt=ICe,Ymt=Gmt(function(n,e,t){Umt(n,e,t)}),Kmt=Ymt;const HP=yn(Kmt);function Xmt(n){return n===void 0}var qmt=Xmt;const lr=yn(qmt);var Zmt="__lodash_hash_undefined__";function Qmt(n){return this.__data__.set(n,Zmt),this}var Jmt=Qmt;function evt(n){return this.__data__.has(n)}var tvt=evt,nvt=eX,ivt=Jmt,rvt=tvt;function GL(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new nvt;++e<t;)this.add(n[e])}GL.prototype.add=GL.prototype.push=ivt;GL.prototype.has=rvt;var vX=GL;function svt(n,e){for(var t=-1,i=n==null?0:n.length;++t<i;)if(e(n[t],t,n))return!0;return!1}var RCe=svt;function avt(n,e){return n.has(e)}var yX=avt,ovt=vX,lvt=RCe,uvt=yX,cvt=1,dvt=2;function hvt(n,e,t,i,r,s){var a=t&cvt,o=n.length,l=e.length;if(o!=l&&!(a&&l>o))return!1;var u=s.get(n),c=s.get(e);if(u&&c)return u==e&&c==n;var d=-1,h=!0,f=t&dvt?new ovt:void 0;for(s.set(n,e),s.set(e,n);++d<o;){var p=n[d],g=e[d];if(i)var m=a?i(g,p,d,e,n,s):i(p,g,d,n,e,s);if(m!==void 0){if(m)continue;h=!1;break}if(f){if(!lvt(e,function(v,_){if(!uvt(f,_)&&(p===v||r(p,v,t,i,s)))return f.push(_)})){h=!1;break}}else if(!(p===g||r(p,g,t,i,s))){h=!1;break}}return s.delete(n),s.delete(e),h}var DCe=hvt;function fvt(n){var e=-1,t=Array(n.size);return n.forEach(function(i,r){t[++e]=[r,i]}),t}var pvt=fvt;function gvt(n){var e=-1,t=Array(n.size);return n.forEach(function(i){t[++e]=i}),t}var _X=gvt,Moe=v1,Ioe=fCe,mvt=DP,vvt=DCe,yvt=pvt,_vt=_X,bvt=1,Svt=2,xvt="[object Boolean]",wvt="[object Date]",Cvt="[object Error]",Tvt="[object Map]",Evt="[object Number]",Avt="[object RegExp]",kvt="[object Set]",Ovt="[object String]",Pvt="[object Symbol]",Mvt="[object ArrayBuffer]",Ivt="[object DataView]",Roe=Moe?Moe.prototype:void 0,AV=Roe?Roe.valueOf:void 0;function Rvt(n,e,t,i,r,s,a){switch(t){case Ivt:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case Mvt:return!(n.byteLength!=e.byteLength||!s(new Ioe(n),new Ioe(e)));case xvt:case wvt:case Evt:return mvt(+n,+e);case Cvt:return n.name==e.name&&n.message==e.message;case Avt:case Ovt:return n==e+"";case Tvt:var o=yvt;case kvt:var l=i&bvt;if(o||(o=_vt),n.size!=e.size&&!l)return!1;var u=a.get(n);if(u)return u==e;i|=Svt,a.set(n,e);var c=vvt(o(n),o(e),i,r,s,a);return a.delete(n),c;case Pvt:if(AV)return AV.call(n)==AV.call(e)}return!1}var Dvt=Rvt,Doe=uCe,Lvt=1,Fvt=Object.prototype,Bvt=Fvt.hasOwnProperty;function $vt(n,e,t,i,r,s){var a=t&Lvt,o=Doe(n),l=o.length,u=Doe(e),c=u.length;if(l!=c&&!a)return!1;for(var d=l;d--;){var h=o[d];if(!(a?h in e:Bvt.call(e,h)))return!1}var f=s.get(n),p=s.get(e);if(f&&p)return f==e&&p==n;var g=!0;s.set(n,e),s.set(e,n);for(var m=a;++d<l;){h=o[d];var v=n[h],_=e[h];if(i)var y=a?i(_,v,h,e,n,s):i(v,_,h,n,e,s);if(!(y===void 0?v===_||r(v,_,t,i,s):y)){g=!1;break}m||(m=h=="constructor")}if(g&&!m){var x=n.constructor,w=e.constructor;x!=w&&"constructor"in n&&"constructor"in e&&!(typeof x=="function"&&x instanceof x&&typeof w=="function"&&w instanceof w)&&(g=!1)}return s.delete(n),s.delete(e),g}var Nvt=$vt,kV=UN,jvt=DCe,zvt=Dvt,Hvt=Nvt,Loe=E1,Foe=Ao,Boe=BP,Vvt=KN,Wvt=1,$oe="[object Arguments]",Noe="[object Array]",VR="[object Object]",Uvt=Object.prototype,joe=Uvt.hasOwnProperty;function Gvt(n,e,t,i,r,s){var a=Foe(n),o=Foe(e),l=a?Noe:Loe(n),u=o?Noe:Loe(e);l=l==$oe?VR:l,u=u==$oe?VR:u;var c=l==VR,d=u==VR,h=l==u;if(h&&Boe(n)){if(!Boe(e))return!1;a=!0,c=!1}if(h&&!c)return s||(s=new kV),a||Vvt(n)?jvt(n,e,t,i,r,s):zvt(n,e,l,t,i,r,s);if(!(t&Wvt)){var f=c&&joe.call(n,"__wrapped__"),p=d&&joe.call(e,"__wrapped__");if(f||p){var g=f?n.value():n,m=p?e.value():e;return s||(s=new kV),r(g,m,t,i,s)}}return h?(s||(s=new kV),Hvt(n,e,t,i,r,s)):!1}var Yvt=Gvt,Kvt=Yvt,zoe=_c;function LCe(n,e,t,i,r){return n===e?!0:n==null||e==null||!zoe(n)&&!zoe(e)?n!==n&&e!==e:Kvt(n,e,t,i,LCe,r)}var ej=LCe,Xvt=ej;function qvt(n,e){return Xvt(n,e)}var Zvt=qvt;const Kn=yn(Zvt);var Qvt=aX,Jvt=E1,eyt=FP,tyt=Ao,nyt=Bf,iyt=BP,ryt=NP,syt=KN,ayt="[object Map]",oyt="[object Set]",lyt=Object.prototype,uyt=lyt.hasOwnProperty;function cyt(n){if(n==null)return!0;if(nyt(n)&&(tyt(n)||typeof n=="string"||typeof n.splice=="function"||iyt(n)||syt(n)||eyt(n)))return!n.length;var e=Jvt(n);if(e==ayt||e==oyt)return!n.size;if(ryt(n))return!Qvt(n).length;for(var t in n)if(uyt.call(n,t))return!1;return!0}var dyt=cyt;const Hr=yn(dyt);var hyt=OCe,fyt=Jy;function pyt(n,e){return n&&hyt(n,e,fyt)}var gyt=pyt,myt=Bf;function vyt(n,e){return function(t,i){if(t==null)return t;if(!myt(t))return n(t,i);for(var r=t.length,s=e?r:-1,a=Object(t);(e?s--:++s<r)&&i(a[s],s,a)!==!1;);return t}}var yyt=vyt,_yt=gyt,byt=yyt,Syt=byt(_yt),tj=Syt,xyt=zP;function wyt(n){return typeof n=="function"?n:xyt}var FCe=wyt,Cyt=Zwe,Tyt=tj,Eyt=FCe,Ayt=Ao;function kyt(n,e){var t=Ayt(n)?Cyt:Tyt;return t(n,Eyt(e))}var Oyt=kyt,Pyt=Oyt;const ll=yn(Pyt);function gs(n,e){n&&console.warn(`Warning: ${e}`)}function br(n){return n==null}let BCe=class{constructor(){this._eventMap=new Map}on(e,t){return e&&typeof t=="function"&&(this._eventMap.has(e)||this._eventMap.set(e,[]),this._eventMap.get(e).push(t)),this}once(e,t){var i=this;if(e&&typeof t=="function"){const r=function(){t(...arguments),i.off(e,r)};this.on(e,r)}}off(e,t){if(e)if(typeof t=="function"){const i=this._eventMap.get(e);if(Array.isArray(i)&&i.length){let r=-1;for(;(r=i.findIndex(s=>s===t))>-1;)i.splice(r,1)}}else br(t)&&this._eventMap.delete(e);return this}emit(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return this._eventMap.has(e)?([...this._eventMap.get(e)].forEach(a=>a(...i)),!0):!1}};function sr(n){try{return n instanceof HTMLElement}catch{return typeof n=="object"&&n.nodeType===1&&typeof n.style=="object"&&typeof n.ownerDocument=="object"}}function $Ce(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];for(const r of t)n.appendChild(r);return n}function Myt(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];if(n.children&&n.children.length){const r=n.children[0];for(const s of t)n.insertBefore(s,r)}else $Ce(n,...t);return n}function Iyt(n){if(n&&typeof n=="object")return typeof n.toJSON=="function"?n.toJSON():["left","top","right","bottom","width","height"].reduce((t,i)=>(t[i]=n[i],t),{})}function xu(n){n.stopPropagation(),n.preventDefault()}function Ryt(n){return n.length===1&&n.match(/\S/)}function VP(n,e){for(let t=0;t<n.length;t++)n[t]===e?(n[t].tabIndex=0,n[t].focus()):n[t].tabIndex=-1}function Dyt(n){n.length>0&&VP(n,n[0])}function Lyt(n){n.length>0&&VP(n,n[n.length-1])}function Fyt(n,e){let t,i;n.length>0&&(e===n[0]?t=n[n.length-1]:(i=n.indexOf(e),t=n[i-1]),VP(n,t))}function Byt(n,e){let t,i;n.length>0&&(e===n[n.length-1]?t=n[0]:(i=n.indexOf(e),t=n[i+1]),VP(n,t))}function $yt(n,e,t,i){let r,s;return!n||!t||!i||i.length>1?-1:(i=i.toLowerCase(),r=n.indexOf(e)+1,r>=n.length&&(r=0),s=t.indexOf(i,r),s===-1&&(s=t.indexOf(i,0)),s>=0?s:-1)}function Nyt(n,e){if(!n)return null;for(;n.parentElement&&Ce(n.parentElement,"attributes.role.value","")!==e;)n=n.parentElement;return n.parentElement}function jyt(n,e){for(let t=0;t<n.length;t++){const i=n[t].attributes["data-popupid"];if(i&&i.value===e)return n[t]}return null}const WR={TOP:/top/i,RIGHT:/right/i,BOTTOM:/bottom/i,LEFT:/left/i},WS={left:0,top:0,height:0,width:0,scrollLeft:0,scrollTop:0};let zyt=class extends jn{constructor(e){var t;super(Object.assign({},e)),t=this,this.removePortal=()=>{this._adapter.removePortal()},this.setDisplayNone=(i,r)=>{this._adapter.setDisplayNone(i,r)},this.updateStateIfCursorOnTrigger=i=>{var r,s;if(!((r=i==null?void 0:i.matches)===null||r===void 0)&&r.call(i,":hover")){const a=this._adapter.getEventName(),o=this.getState("triggerEventSet");(s=o[a.mouseEnter])===null||s===void 0||s.call(o)}},this.onResize=()=>{this.getState("visible")&&this.calcPosition()},this.delayShow=()=>{const i=this.getProp("mouseEnterDelay");this.clearDelayTimer(),i>0?this._timer=setTimeout(()=>{this.show(),this.clearDelayTimer()},i):this.show()},this.show=()=>{if(this._initContainerPosition(),this._adapter.getAnimatingState())return;const i=this.getProp("content"),r=this.getProp("trigger"),s=this.getProp("clickTriggerToHide"),{visible:a,displayNone:o}=this.getStates();if(o&&this.setDisplayNone(!1),!a){if(this.clearDelayTimer(),this._adapter.on("portalInserted",()=>{this.calcPosition()}),r==="hover"){const l=()=>{var u;const c=this._adapter.getTriggerDOM();r&&!(!((u=c==null?void 0:c.matches)===null||u===void 0)&&u.call(c,":hover"))&&this.hide(),this._adapter.off("portalInserted",l)};this._adapter.on("portalInserted",l)}this._adapter.on("positionUpdated",()=>{this._togglePortalVisible(!0)}),this._adapter.insertPortal(i,{left:-9999,top:-9999}),r==="custom"&&this._adapter.registerClickOutsideHandler(()=>{}),(r==="click"||s||r==="contextMenu")&&this._adapter.registerClickOutsideHandler(this.hide),this._bindScrollEvent(),this._bindResizeEvent()}},this.calcPosition=function(i,r,s){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;i=(Hr(i)?t._adapter.getTriggerBounding():i)||Object.assign({},WS),s=(Hr(s)?t._adapter.getPopupContainerRect():s)||Object.assign({},WS),r=(Hr(r)?t._adapter.getWrapperBounding():r)||Object.assign({},WS);let o=t.calcPosStyle({triggerRect:i,wrapperRect:r,containerRect:s}),l=t.getProp("position");if(t.getProp("autoAdjustOverflow")){const{position:u,isHeightOverFlow:c,isWidthOverFlow:d}=t.adjustPosIfNeed(l,o,i,r,s);(l!==u||c||d)&&(l=u,o=t.calcPosStyle({triggerRect:i,wrapperRect:r,containerRect:s,position:l,spacing:null,isOverFlow:[c,d]}))}return a&&t._mounted&&t._adapter.setPosition(Object.assign(Object.assign({},o),{position:l})),o},this.delayHide=()=>{const i=this.getProp("mouseLeaveDelay");this.clearDelayTimer(),i>0?this._timer=setTimeout(()=>{this.hide(),this.clearDelayTimer()},i):this.hide()},this.hide=()=>{this.clearDelayTimer(),this._togglePortalVisible(!1),this._adapter.off("portalInserted"),this._adapter.off("positionUpdated")},this.handleContainerKeydown=i=>{const{guardFocus:r,closeOnEsc:s}=this.getProps();switch(i&&i.key){case"Escape":s&&this._handleEscKeyDown(i);break;case"Tab":if(r){const a=this._adapter.getContainer(),o=this._adapter.getFocusableElements(a);o.length&&(i.shiftKey?this._handleContainerShiftTabKeyDown(o,i):this._handleContainerTabKeyDown(o,i))}break}},this._timer=null}init(){const{wrapperId:e}=this.getProps();this._mounted=!0,this._bindEvent(),this._shouldShow(),e||this._adapter.setId()}destroy(){this._mounted=!1,this.unBindEvent()}_bindEvent(){const e=this.getProp("trigger"),{triggerEventSet:t,portalEventSet:i}=this._generateEvent(e);this._bindTriggerEvent(t),this._bindPortalEvent(i),this._bindResizeEvent()}unBindEvent(){this._adapter.unregisterClickOutsideHandler(),this.unBindResizeEvent(),this.unBindScrollEvent(),clearTimeout(this._timer)}_bindTriggerEvent(e){this._adapter.registerTriggerEvent(e)}_bindPortalEvent(e){this._adapter.registerPortalEvent(e)}_bindResizeEvent(){this._adapter.registerResizeHandler(this.onResize)}unBindResizeEvent(){this._adapter.unregisterResizeHandler(this.onResize)}_adjustPos(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"reverse",r=arguments.length>3?arguments[3]:void 0;switch(i){case"reverse":return this._reversePos(e,t);case"expand":return this._expandPos(e,r);case"reduce":return this._reducePos(e);default:return this._reversePos(e,t)}}_reversePos(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1){if(WR.TOP.test(e))return e.replace("top","bottom").replace("Top","Bottom");if(WR.BOTTOM.test(e))return e.replace("bottom","top").replace("Bottom","Top")}else{if(WR.LEFT.test(e))return e.replace("left","right").replace("Left","Right");if(WR.RIGHT.test(e))return e.replace("right","left").replace("Right","Left")}return e}_expandPos(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return e.concat(t)}_reducePos(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const t=["Top","Bottom","Left","Right"].find(i=>e.endsWith(i));return t?e.replace(t,""):e}clearDelayTimer(){this._timer&&(clearTimeout(this._timer),this._timer=null)}_generateEvent(e){const t=this._adapter.getEventName(),i={[t.keydown]:s=>{this._handleTriggerKeydown(s)}};let r={};switch(e){case"focus":i[t.focus]=()=>{this.delayShow()},i[t.blur]=()=>{this.delayHide()},r=i;break;case"click":i[t.click]=()=>{this.show()},r={};break;case"hover":i[t.mouseEnter]=()=>{this.setCache("isClickToHide",!1),this.delayShow()},i[t.mouseLeave]=()=>{this.delayHide()},i[t.focus]=()=>{const{disableFocusListener:s}=this.getProps();!s&&this.delayShow()},i[t.blur]=()=>{const{disableFocusListener:s}=this.getProps();!s&&this.delayHide()},r=Object.assign({},i),this.getProp("clickToHide")&&(r[t.click]=()=>{this.setCache("isClickToHide",!0),this.hide()},r[t.mouseEnter]=()=>{this.getCache("isClickToHide")||this.delayShow()});break;case"custom":break;case"contextMenu":i[t.contextMenu]=s=>{s.preventDefault(),this.show()};break}return{triggerEventSet:i,portalEventSet:r}}_shouldShow(){this.getProp("visible")&&this.show()}_togglePortalVisible(e){const t=this.getState("visible"),i=this.getState("isInsert");(t!==e||i!==e)&&this._adapter.togglePortalVisible(e,()=>{e&&this._adapter.setInitialFocus(),this._adapter.notifyVisibleChange(e)})}_roundPixel(e){return typeof e=="number"?Math.round(e):e}calcTransformOrigin(e,t,i,r){if(e&&t&&i!=null&&r!=null){if(this.getProp("transformFromCenter")){if(["topLeft","bottomLeft"].includes(e))return`${this._roundPixel(t.width/2)}px ${-r*100}%`;if(["topRight","bottomRight"].includes(e))return`calc(100% - ${this._roundPixel(t.width/2)}px) ${-r*100}%`;if(["leftTop","rightTop"].includes(e))return`${-i*100}% ${this._roundPixel(t.height/2)}px`;if(["leftBottom","rightBottom"].includes(e))return`${-i*100}% calc(100% - ${this._roundPixel(t.height/2)}px)`}return`${-i*100}% ${-r*100}%`}return null}calcPosStyle(e){var t;const{spacing:i,isOverFlow:r}=e,{innerWidth:s}=window,a=(Hr(e.triggerRect)?e.triggerRect:this._adapter.getTriggerBounding())||Object.assign({},WS),o=(Hr(e.containerRect)?e.containerRect:this._adapter.getPopupContainerRect())||Object.assign({},WS),l=(Hr(e.wrapperRect)?e.wrapperRect:this._adapter.getWrapperBounding())||Object.assign({},WS),u=e.position!=null?e.position:this.getProp("position"),c=i??this.getProp("spacing"),{arrowPointAtCenter:d,showArrow:h,arrowBounding:f}=this.getProps(),p=h&&d;let g=c,m=0;if(typeof c!="number"){const oe=u.includes("top")||u.includes("bottom");g=oe?c.y:c.x,m=oe?c.x:c.y}const v=Ce(f,"width",24),_=Ce(f,"width",24),y=Ce(f,"offsetY",0),x=6,w=6;let T,E,A=0,k=0;const P=a.left+a.width/2,I=a.top+a.height/2,D=x+v/2,L=w+_/2,B=l.height-o.height,F=l.width-o.width,$=B>0?B:0,z=F>0?F:0,N=r&&r[0],V=r&&r[1],H=P-o.left<o.right-P,K=I-o.top<o.bottom-I,U=l.width>s,X=Math.abs((l==null?void 0:l.width)-((t=this._adapter.getContainer())===null||t===void 0?void 0:t.clientWidth))>1;switch(X&&(g=g*l.width/this._adapter.getContainer().clientWidth),u){case"top":T=V?H?o.left+l.width/2:o.right-l.width/2+z:P+m,E=N?o.bottom+$:a.top-g,A=-.5,k=-1;break;case"topLeft":T=V?U?o.left:o.right-l.width:p?P-D+m:a.left+m,E=N?o.bottom+$:a.top-g,k=-1;break;case"topRight":T=V?o.right+z:p?P+D+m:a.right+m,E=N?o.bottom+$:a.top-g,k=-1,A=-1;break;case"left":T=V?o.right+z-g+D:a.left-g,E=N?K?o.top+l.height/2:o.bottom-l.height/2+$:I+m,A=-1,k=-.5;break;case"leftTop":T=V?o.right+z-g+D:a.left-g,E=N?o.top:p?I-L+m:a.top+m,A=-1;break;case"leftBottom":T=V?o.right+z-g+D:a.left-g,E=N?o.bottom+$:p?I+L+m:a.bottom+m,A=-1,k=-1;break;case"bottom":T=V?H?o.left+l.width/2:o.right-l.width/2+z:P+m,E=N?o.top+L-g:a.top+a.height+g,A=-.5;break;case"bottomLeft":T=V?U?o.left:o.right-l.width:p?P-D+m:a.left+m,E=N?o.top+L-g:a.top+a.height+g;break;case"bottomRight":T=V?o.right+z:p?P+D+m:a.right+m,E=N?o.top+L-g:a.top+a.height+g,A=-1;break;case"right":T=V?o.left-g+D:a.right+g,E=N?K?o.top+l.height/2:o.bottom-l.height/2+$:I+m,k=-.5;break;case"rightTop":T=V?o.left-g+D:a.right+g,E=N?o.top:p?I-L+m:a.top+m;break;case"rightBottom":T=V?o.left-g+D:a.right+g,E=N?o.bottom+$:p?I+L+m:a.bottom+m,k=-1;break;case"leftTopOver":T=a.left-g,E=a.top-g;break;case"rightTopOver":T=a.right+g,E=a.top-g,A=-1;break;case"leftBottomOver":T=a.left-g,E=a.bottom+g,k=-1;break;case"rightBottomOver":T=a.right+g,E=a.bottom+g,A=-1,k=-1;break}const Z=this.calcTransformOrigin(u,a,A,k),Q=this._adapter.containerIsBody();if(T=T-o.left,E=E-o.top,X&&(T/=l.width/this._adapter.getContainer().clientWidth),X&&(E/=l.height/this._adapter.getContainer().clientHeight),Q&&!this._adapter.containerIsRelativeOrAbsolute()){const oe=this._adapter.getDocumentElementBounding();T+=o.left-oe.left,E+=o.top-oe.top}T=Q?T:T+o.scrollLeft,E=Q?E:E+o.scrollTop;const se=a.height;if(this.getProp("showArrow")&&!d&&se<=(_/2+y)*2){const oe=se/2-(y+_/2);(u.includes("Top")||u.includes("Bottom"))&&!u.includes("Over")&&(E=u.includes("Top")?E+oe:E-oe)}const ae={left:this._roundPixel(T),top:this._roundPixel(E)};let ue="";return A!=null&&(ue+=`translateX(${A*100}%) `,Object.defineProperty(ae,"translateX",{enumerable:!1,value:A})),k!=null&&(ue+=`translateY(${k*100}%) `,Object.defineProperty(ae,"translateY",{enumerable:!1,value:k})),Z!=null&&(ae.transformOrigin=Z),ue&&(ae.transform=ue),ae}isLR(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e.includes("left")||e.includes("right")}isTB(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e.includes("top")||e.includes("bottom")}isReverse(e,t,i){return e<i&&t>i}isOverFlow(e,t,i){return e<i&&t<i}isHalfOverFlow(e,t,i){return e<i||t<i}isHalfAllEnough(e,t,i){return e>=i||t>=i}getReverse(e,t,i,r){return e&&r||i}adjustPosIfNeed(e,t,i,r,s){const{innerWidth:a,innerHeight:o}=window,{margin:l}=this.getProps(),u=typeof l=="number"?l:l.marginLeft,c=typeof l=="number"?l:l.marginTop,d=typeof l=="number"?l:l.marginRight,h=typeof l=="number"?l:l.marginBottom;let f=!1,p=!1;const g=this.getProp("spacing");let m=g,v=0;if(typeof g!="number"){const _=e.includes("top")||e.includes("bottom");m=_?g.y:g.x,v=_?g.x:g.y}if(r.width>0&&r.height>0){const _=i.left,y=i.right,x=i.top,w=i.bottom,T=a-_,E=o-x,A=a-y,k=o-w,P=r.width>i.width,I=r.height>i.height,D=x-c<r.height+m&&k-h>r.height+m,L=_-u<r.width+m&&A-d>r.width+m,B=k-h<r.height+m&&x-c>r.height+m,F=A-d<r.width+m&&_-u>r.width+m;E-h<r.height+m&&w-c>r.height+m,w-c<r.height+m&&E-h>r.height+m;const $=E<r.height+v&&w>r.height+v,z=w<r.height+v&&E>r.height+v,N=T<r.width+v&&y>r.width+v,V=y<r.width+v&&T>r.width+v,H=E<r.height+m&&w>r.height+m,K=w<r.height+m&&E>r.height+m,U=T<r.width&&y>r.width,X=y<r.width&&T>r.width,Z=x-s.top,Q=_-s.left,se=Z+i.height,ae=Q+i.width,ue=s.bottom-w,oe=s.right-y,re=ue+i.height,fe=oe+i.width,ve=this.isReverse(Z-c,ue-h,r.height+m),xe=this.isReverse(Q-u,oe-d,r.width+m),ye=this.isReverse(ue-h,Z-c,r.height+m),Ee=this.isReverse(oe-d,Q-u,r.width+m);this.isReverse(re-h,se-c,r.height+m),this.isReverse(se-c,re-h,r.height+m);const Se=this.isReverse(re,se,r.height+v),Fe=this.isReverse(se,re,r.height+v),Ge=this.isReverse(fe,ae,r.width+v),Pe=this.isReverse(ae,fe,r.width+v),je=i.height/2,qe=i.width/2,ot=this.isOverFlow(x-c,k-h,r.height+m),$e=this.isOverFlow(_-u,A-d,r.width+m),et=this.isOverFlow(w-c,E-h,r.height+m),Mt=this.isOverFlow(y-u,T-d,r.width+m),Ct=this.isHalfOverFlow(w-je,E-je,(r.height+v)/2),tt=this.isHalfOverFlow(y-qe,T-qe,(r.width+v)/2),xt=this.isHalfAllEnough(w-je,E-je,(r.height+v)/2),dt=this.isHalfAllEnough(y-qe,T-qe,(r.width+v)/2),bt=this.isOverFlow(Z-c,ue-h,r.height+m),rt=this.isOverFlow(Q-u,oe-d,r.width+m),Dt=this.isOverFlow(se-c,re-h,r.height+m),Je=this.isOverFlow(ae-u,fe-d,r.width+m),At=this.isHalfOverFlow(se-je,re-je,(r.height+v)/2),Ft=this.isHalfOverFlow(ae-qe,fe-qe,(r.width+v)/2),on=this.isHalfAllEnough(se-je,re-je,(r.height+v)/2),Wt=this.isHalfAllEnough(ae-qe,fe-qe,(r.width+v)/2),Cn=this.getReverse(ot,bt,D,ve),gn=this.getReverse($e,rt,L,xe),Ln=this.getReverse(ot,bt,B,ye),gi=this.getReverse($e,rt,F,Ee),ut=this.getReverse(et,Dt,$,Se),gt=this.getReverse(et,Dt,z,Fe),ct=this.getReverse(Mt,Je,N,Ge),en=this.getReverse(Mt,Je,V,Pe),Bt=Ct&&At,Qt=tt&&Ft;switch(e){case"top":Cn&&(e=this._adjustPos(e,!0)),Qt&&(ct||en)&&(e=this._adjustPos(e,!0,"expand",ct?"Right":"Left"));break;case"topLeft":Cn&&(e=this._adjustPos(e,!0)),ct&&P&&(e=this._adjustPos(e)),p&&(dt||Wt)&&(e=this._adjustPos(e,!0,"reduce"));break;case"topRight":Cn&&(e=this._adjustPos(e,!0)),en&&P&&(e=this._adjustPos(e)),p&&(dt||Wt)&&(e=this._adjustPos(e,!0,"reduce"));break;case"left":gn&&(e=this._adjustPos(e)),Bt&&(ut||gt)&&(e=this._adjustPos(e,!1,"expand",ut?"Bottom":"Top"));break;case"leftTop":gn&&(e=this._adjustPos(e)),ut&&I&&(e=this._adjustPos(e,!0)),f&&(xt||on)&&(e=this._adjustPos(e,!1,"reduce"));break;case"leftBottom":gn&&(e=this._adjustPos(e)),gt&&I&&(e=this._adjustPos(e,!0)),f&&(xt||on)&&(e=this._adjustPos(e,!1,"reduce"));break;case"bottom":Ln&&(e=this._adjustPos(e,!0)),Qt&&(ct||en)&&(e=this._adjustPos(e,!0,"expand",ct?"Right":"Left"));break;case"bottomLeft":Ln&&(e=this._adjustPos(e,!0)),ct&&P&&(e=this._adjustPos(e)),p&&(dt||Wt)&&(e=this._adjustPos(e,!0,"reduce"));break;case"bottomRight":Ln&&(e=this._adjustPos(e,!0)),en&&P&&(e=this._adjustPos(e)),p&&(dt||Wt)&&(e=this._adjustPos(e,!0,"reduce"));break;case"right":gi&&(e=this._adjustPos(e)),Bt&&(ut||gt)&&(e=this._adjustPos(e,!1,"expand",ut?"Bottom":"Top"));break;case"rightTop":gi&&(e=this._adjustPos(e)),ut&&I&&(e=this._adjustPos(e,!0)),f&&(xt||on)&&(e=this._adjustPos(e,!1,"reduce"));break;case"rightBottom":gi&&(e=this._adjustPos(e)),gt&&I&&(e=this._adjustPos(e,!0)),f&&(xt||on)&&(e=this._adjustPos(e,!1,"reduce"));break;case"leftTopOver":H&&(e=this._adjustPos(e,!0)),U&&(e=this._adjustPos(e));break;case"leftBottomOver":K&&(e=this._adjustPos(e,!0)),U&&(e=this._adjustPos(e));break;case"rightTopOver":H&&(e=this._adjustPos(e,!0)),X&&(e=this._adjustPos(e));break;case"rightBottomOver":K&&(e=this._adjustPos(e,!0)),X&&(e=this._adjustPos(e));break}this.isTB(e)&&(f=ot&&bt,e==="top"||e==="bottom"?p=tt&&Ft||y<0||A<0:p=Mt&&Je||y<0||A<0),this.isLR(e)&&(p=$e&&rt,e==="left"||e==="right"?f=Ct&&At||x<0||E<0:f=et&&Dt||x<0||E<0)}return{position:e,isHeightOverFlow:f,isWidthOverFlow:p}}_bindScrollEvent(){this._adapter.registerScrollHandler(()=>this.calcPosition())}unBindScrollEvent(){this._adapter.unregisterScrollHandler()}_initContainerPosition(){this._adapter.getContainerPosition()||!this._adapter.containerIsBody()||this._adapter.updateContainerPosition()}_handleTriggerKeydown(e){const{closeOnEsc:t,disableArrowKeyDown:i}=this.getProps(),r=this._adapter.getContainer(),s=this._adapter.getFocusableElements(r),a=s.length;switch(e&&e.key){case"Escape":xu(e),t&&this._handleEscKeyDown(e);break;case"ArrowUp":!i&&a&&this._handleTriggerArrowUpKeydown(s,e);break;case"ArrowDown":!i&&a&&this._handleTriggerArrowDownKeydown(s,e);break}}focusTrigger(){const{trigger:e,returnFocusOnClose:t,preventScroll:i}=this.getProps();if(t&&e!=="custom"){const r=this._adapter.getTriggerNode();r&&"focus"in r&&r.focus({preventScroll:i})}}_handleEscKeyDown(e){const{trigger:t}=this.getProps();t!=="custom"&&(this.focusTrigger(),this.hide()),this._adapter.notifyEscKeydown(e)}_handleContainerTabKeyDown(e,t){const{preventScroll:i}=this.getProps(),r=this._adapter.getActiveElement();e[e.length-1]===r&&(e[0].focus({preventScroll:i}),t.preventDefault())}_handleContainerShiftTabKeyDown(e,t){const{preventScroll:i}=this.getProps(),r=this._adapter.getActiveElement();e[0]===r&&(e[e.length-1].focus({preventScroll:i}),t.preventDefault())}_handleTriggerArrowDownKeydown(e,t){const{preventScroll:i}=this.getProps();e[0].focus({preventScroll:i}),t.preventDefault()}_handleTriggerArrowUpKeydown(e,t){const{preventScroll:i}=this.getProps();e[e.length-1].focus({preventScroll:i}),t.preventDefault()}};const Hyt={PREFIX:`${nt}-tooltip`},Ey={POSITION_SET:["top","topLeft","topRight","left","leftTop","leftBottom","right","rightTop","rightBottom","bottom","bottomLeft","bottomRight","leftTopOver","rightTopOver","leftBottomOver","rightBottomOver"],TRIGGER_SET:["hover","focus","click","custom","contextMenu"],STATUS_DISABLED:"disabled",STATUS_LOADING:"loading"},Vv={ARROW_BOUNDING:{offsetX:0,offsetY:2,width:24,height:7},DEFAULT_Z_INDEX:1060,MOUSE_ENTER_DELAY:50,MOUSE_LEAVE_DELAY:50,SPACING:8,MARGIN:0};function Vyt(n){return`${n}-${new Date().getTime()}-${Math.random()}`}function cA(){var n,e;try{return(e=(n=crypto==null?void 0:crypto.randomUUID)===null||n===void 0?void 0:n.call(crypto))!==null&&e!==void 0?e:String(9987e3+-1e11).replace(/[018]/g,t=>(Number(t)^crypto.getRandomValues(new Uint8Array(1))[0]&15>>Number(t)/4).toString(16))}catch{return Vyt("semi")}}function Dm(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{prefix:e="",length:t=7}=n,i="0123456789abcdefghijklmnopqrstuvwxyz",r=i.length;let s="";for(let a=0;a<t;a++){const o=Math.floor(Math.random()*r);s+=i.charAt(o)}return e?`${e}-${s}`:s}function Z6(n){return M.isValidElement(n)}function Hoe(n){return M.Children.count(n)===0}var Wyt=GN,Uyt=x1,Gyt=YN,Voe=bc,Yyt=B0;function Kyt(n,e,t,i){if(!Voe(n))return n;e=Uyt(e,n);for(var r=-1,s=e.length,a=s-1,o=n;o!=null&&++r<s;){var l=Yyt(e[r]),u=t;if(l==="__proto__"||l==="constructor"||l==="prototype")return n;if(r!=a){var c=o[l];u=i?i(c,l,o):void 0,u===void 0&&(u=Voe(c)?c:Gyt(e[r+1])?[]:{})}Wyt(o,l,u),o=o[l]}return n}var NCe=Kyt,Xyt=NCe;function qyt(n,e,t){return n==null?n:Xyt(n,e,t)}var Zyt=qyt;const lc=yn(Zyt);var Qyt=dX,Jyt=1,e_t=4;function t_t(n,e){return e=typeof e=="function"?e:void 0,Qyt(n,Jyt|e_t,e)}var n_t=t_t;const jCe=yn(n_t);class i_t{constructor(){this.config={}}}const T2=new i_t;var Woe=function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(c){try{u(i.next(c))}catch(d){a(d)}}function l(c){try{u(i.throw(c))}catch(d){a(d)}}function u(c){c.done?s(c.value):r(c.value).then(o,l)}u((i=i.apply(n,e||[])).next())})};function UR(n,e){n&&typeof n.stopPropagation=="function"&&n.stopPropagation(),n.nativeEvent&&typeof n.nativeEvent.stopImmediatePropagation=="function"&&n.nativeEvent.stopImmediatePropagation()}function cf(n,e){return jCe(n,t=>{if(typeof e=="function")return e(t);if(typeof t=="function"||M.isValidElement(t)||Object.prototype.toString.call(t)==="[object Error]")return t;if(Array.isArray(t)&&t.length===0){const i=Object.keys(t);if(i.length){const r=[];i.forEach(s=>{lc(r,s,t[s])});try{gs(Ce(process,"env.NODE_ENV")!=="production",`[Semi] You may use an out-of-bounds array. In some cases, your program may not behave as expected.
                    The maximum length of an array is 4294967295.
                    Please check whether the array subscript in your data exceeds the maximum value of the JS array subscript`)}catch{}return r}else return}})}const r_t=(n,e)=>{let{match:t,unmatch:i,callInInit:r=!0}=e;if(typeof window<"u"){let a=function(o){o.matches?t&&t(o):i&&i(o)};const s=window.matchMedia(n);return r&&a(s),Object.prototype.hasOwnProperty.call(s,"addEventListener")?(s.addEventListener("change",a),()=>s.removeEventListener("change",a)):(s.addListener(a),()=>s.removeListener(a))}return()=>{}},Su=n=>M.isValidElement(n)&&Ce(n.type,"elementType")==="Icon";function zCe(){return document?document.activeElement:null}function HCe(n){if(!sr(n))return[];const t=["input:not([disabled]):not([tabindex='-1'])","textarea:not([disabled]):not([tabindex='-1'])","button:not([disabled]):not([tabindex='-1'])","a[href]:not([tabindex='-1'])","select:not([disabled]):not([tabindex='-1'])","area[href]:not([tabindex='-1'])","iframe:not([tabindex='-1'])","object:not([tabindex='-1'])","*[tabindex]:not([tabindex='-1'])","*[contenteditable]:not([tabindex='-1'])"].join(",");return Array.from(n.querySelectorAll(t))}function bX(n,e){return Woe(this,void 0,void 0,function*(){if(e===0){yield n();return}else{yield new Promise(t=>{setTimeout(()=>Woe(this,void 0,void 0,function*(){yield bX(n,e-1),t()}),0)});return}})}function s_t(){return globalThis&&Object.prototype.toString.call(globalThis)==="[object Window]"?window.innerWidth-document.documentElement.clientWidth:0}function Du(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const t=()=>{var i,r;return((r=(i=T2==null?void 0:T2.config)===null||i===void 0?void 0:i.overrideDefaultProps)===null||r===void 0?void 0:r[n])||{}};return new Proxy(Object.assign({},e),{get(i,r,s){const a=t();return r in a?a[r]:Reflect.get(i,r,s)},set(i,r,s,a){return Reflect.set(i,r,s,a)},ownKeys(){const i=t();return Array.from(new Set([...Reflect.ownKeys(e),...Object.keys(i)]))},getOwnPropertyDescriptor(i,r){const s=t();return r in s?Reflect.getOwnPropertyDescriptor(s,r):Reflect.getOwnPropertyDescriptor(i,r)}})}const Ql=M.createContext({}),a_t=()=>document.body;class WP extends q.PureComponent{constructor(e,t){var i;super(e),i=this,this.initContainer=function(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;var a,o;try{let l;if(!i.el||!(!((a=i.state)===null||a===void 0)&&a.container)||!Array.from(i.state.container.childNodes).includes(i.el)){i.el=document.createElement("div");const c=(i.props.getPopupContainer||r.getPopupContainer||a_t)();return c.appendChild(i.el),i.addStyle(i.props.style),i.addClass(i.props.prefixCls,r,i.props.className),l=c,l}}catch(l){if(!s)throw l}return(o=i.state)===null||o===void 0?void 0:o.container},this.addStyle=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(i.el)for(const s of Object.keys(r))i.el.style[s]=r[s]},this.addClass=function(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i.context;const{direction:a}=s;for(var o=arguments.length,l=new Array(o>2?o-2:0),u=2;u<o;u++)l[u-2]=arguments[u];const c=le(r,...l,{[`${r}-rtl`]:a==="rtl"});i.el&&(i.el.className=c)},this.state={container:this.initContainer(t,!0)}}componentDidMount(){const e=this.initContainer(this.context);e!==this.state.container&&this.setState({container:e})}componentDidUpdate(e){const{didUpdate:t}=this.props;t&&t(e)}componentWillUnmount(){const{container:e}=this.state;e&&e.removeChild(this.el)}render(){const{state:e,props:t}=this;return e.container?Yc.createPortal(t.children,this.el):null}}WP.contextType=Ql;WP.defaultProps={prefixCls:`${nt}-portal`};WP.propTypes={children:S.node,prefixCls:S.string,getPopupContainer:S.func,className:S.string,didUpdate:S.func};var o_t=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const l_t=n=>{const{className:e,style:t}=n,i=o_t(n,["className","style"]);return M.createElement("svg",Object.assign({"aria-hidden":!0,className:e,style:t},i,{width:"24",height:"7",viewBox:"0 0 24 7",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}),M.createElement("path",{d:"M24 0V1C20 1 18.5 2 16.5 4C14.5 6 14 7 12 7C10 7 9.5 6 7.5 4C5.5 2 4 1 0 1V0H24Z"}))};var u_t=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const c_t=n=>{const{className:e,style:t}=n,i=u_t(n,["className","style"]);return M.createElement("svg",Object.assign({"aria-hidden":!0,className:e,style:t},i,{width:"7",height:"24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"}),M.createElement("path",{d:"M0 0L1 0C1 4, 2 5.5, 4 7.5S7,10 7,12S6 14.5, 4 16.5S1,20 1,24L0 24L0 0z"}))},d_t=S.shape({offsetX:S.number,offsetY:S.number,width:S.number,height:S.number});class pC extends M.Component{constructor(e){super(e),this.handleAnimationStart=()=>{var t,i;(i=(t=this.props).onAnimationStart)===null||i===void 0||i.call(t)},this.handleAnimationEnd=()=>{this.setState({currentClassName:this.props.endClassName,extraStyle:{animationFillMode:this.props.fillMode},isAnimating:!1},()=>{var t,i;(i=(t=this.props).onAnimationEnd)===null||i===void 0||i.call(t,!1)})},this.state={currentClassName:this.props.startClassName,extraStyle:{animationFillMode:this.props.fillMode},isAnimating:!0}}componentDidMount(){var e,t,i,r;(t=(e=this.props).onAnimationStart)===null||t===void 0||t.call(e),this.props.motion||((r=(i=this.props).onAnimationEnd)===null||r===void 0||r.call(i,!1),this.setState({isAnimating:!1}))}componentDidUpdate(e,t,i){const r=Object.keys(this.props).filter(s=>!Kn(this.props[s],e[s]));r.includes("animationState"),(r.includes("startClassName")||r.includes("replayKey")||r.includes("motion"))&&this.setState({currentClassName:this.props.startClassName,extraStyle:{animationFillMode:this.props.fillMode},isAnimating:!0},()=>{var s,a,o,l;(a=(s=this.props).onAnimationStart)===null||a===void 0||a.call(s),this.props.motion||((l=(o=this.props).onAnimationEnd)===null||l===void 0||l.call(o,this.state.isAnimating),this.setState({isAnimating:!1}))})}render(){var e;return this.props.motion?this.props.children({animationClassName:(e=this.state.currentClassName)!==null&&e!==void 0?e:"",animationStyle:this.state.extraStyle,animationEventsNeedBind:{onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},isAnimating:this.state.isAnimating}):this.props.children({animationClassName:"",animationStyle:{},animationEventsNeedBind:{},isAnimating:this.state.isAnimating})}}pC.defaultProps={motion:!0,replayKey:""};var Uoe=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const E2=Hyt.PREFIX,h_t=Ey.POSITION_SET,f_t=Ey.TRIGGER_SET,p_t=["flex","block","table","flow-root","grid"],g_t=()=>document.body;let xo=class extends An{constructor(e){super(e),this.isAnimating=!1,this.cachedLatestTransitionState="enter",this.setContainerEl=t=>this.containerEl={current:t},this.isSpecial=t=>{if(sr(t))return!!t.disabled;if(q.isValidElement(t)){if(Ce(t,"props.disabled"))return Ey.STATUS_DISABLED;const r=Ce(t,"props.loading"),s=!Hr(t)&&!Hr(t.type)&&(Ce(t,"type.elementType")==="Button"||Ce(t,"type.elementType")==="IconButton");if(r&&s)return Ey.STATUS_LOADING}return!1},this.didLeave=()=>{this.props.keepDOM?this.foundation.setDisplayNone(!0):this.foundation.removePortal(),this.foundation.unBindEvent()},this.renderIcon=()=>{const{placement:t}=this.state,{showArrow:i,prefixCls:r,style:s}=this.props;let a=null;const o=le([`${r}-icon-arrow`]),l=Ce(s,"backgroundColor"),u=t!=null&&t.includes("left")||t!=null&&t.includes("right")?M.createElement(c_t,null):M.createElement(l_t,null);return i&&(q.isValidElement(i)?a=i:a=M.cloneElement(u,{className:o,style:{color:l,fill:"currentColor"}})),a},this.handlePortalInnerClick=t=>{this.props.clickToHide&&this.foundation.hide(),this.props.stopPropagation&&UR(t)},this.handlePortalMouseDown=t=>{this.props.stopPropagation&&UR(t)},this.handlePortalFocus=t=>{this.props.stopPropagation&&UR(t)},this.handlePortalBlur=t=>{this.props.stopPropagation&&UR(t)},this.handlePortalInnerKeyDown=t=>{this.foundation.handleContainerKeydown(t)},this.renderContentNode=t=>{const i={initialFocusRef:this.initialFocusRef};return Mn(t)?t(i):t},this.renderPortal=()=>{const{containerStyle:t={},visible:i,portalEventSet:r,placement:s,displayNone:a,transitionState:o,id:l,isPositionUpdated:u}=this.state,{prefixCls:c,content:d,showArrow:h,style:f,motion:p,role:g,zIndex:m}=this.props,v=this.renderContentNode(d),{className:_}=this.props,y=this.context.direction,x=le(_,{[`${c}-wrapper`]:!0,[`${c}-wrapper-show`]:i,[`${c}-with-arrow`]:!!h,[`${c}-rtl`]:y==="rtl"}),w=this.renderIcon(),T=Co(t,p?["transformOrigin"]:void 0),E=Ce(t,"transformOrigin"),A=Ce(f,"opacity",null),k=A||1,P=M.createElement(pC,{fillMode:"forwards",animationState:o,motion:p&&u,startClassName:o==="enter"?`${E2}-animation-show`:`${E2}-animation-hide`,onAnimationStart:()=>this.isAnimating=!0,onAnimationEnd:()=>{var I,D;o==="leave"&&(this.didLeave(),(D=(I=this.props).afterClose)===null||D===void 0||D.call(I)),this.isAnimating=!1}},I=>{let{animationStyle:D,animationClassName:L,animationEventsNeedBind:B}=I;return M.createElement("div",Object.assign({className:le(x,L),style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},D),a?{display:"none"}:{}),{transformOrigin:E}),f),A?{opacity:u?k:"0"}:{})},r,B,{role:g,"x-placement":s,id:l}),M.createElement("div",{className:`${E2}-content`},v),w)});return M.createElement(WP,{getPopupContainer:this.props.getPopupContainer,style:{zIndex:m}},M.createElement("div",{tabIndex:-1,className:`${nt}-portal-inner`,style:T,ref:this.setContainerEl,onClick:this.handlePortalInnerClick,onFocus:this.handlePortalFocus,onBlur:this.handlePortalBlur,onMouseDown:this.handlePortalMouseDown,onKeyDown:this.handlePortalInnerKeyDown},P))},this.wrapSpan=t=>{const{wrapperClassName:i}=this.props,r=Ce(t,"props.style.display"),s=Ce(t,"props.block"),a=typeof t=="string",o={};return a||(o.display="inline-block"),(s||p_t.includes(r))&&(o.width="100%"),M.createElement("span",{className:i,style:o},t)},this.mergeEvents=(t,i)=>{const r={};return ll(i,(s,a)=>{typeof s=="function"&&(r[a]=function(){s(...arguments),t&&typeof t[a]=="function"&&t[a](...arguments)})}),r},this.getPopupId=()=>this.state.id,this.state={visible:!1,transitionState:"",triggerEventSet:{},portalEventSet:{},containerStyle:{},isInsert:!1,placement:e.position||"top",transitionStyle:{},isPositionUpdated:!1,id:e.wrapperId,displayNone:!1},this.foundation=new zyt(this.adapter),this.eventManager=new BCe,this.triggerEl=M.createRef(),this.containerEl=M.createRef(),this.initialFocusRef=M.createRef(),this.clickOutsideHandler=null,this.resizeHandler=null,this.isWrapped=!1,this.containerPosition=void 0}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{on:function(){return e.eventManager.on(...arguments)},off:function(){return e.eventManager.off(...arguments)},getAnimatingState:()=>this.isAnimating,insertPortal:(t,i)=>{var{position:r}=i,s=Uoe(i,["position"]);this.cachedLatestTransitionState="enter",this.setState({isInsert:!0,transitionState:"enter",containerStyle:Object.assign(Object.assign({},this.state.containerStyle),s)},()=>{setTimeout(()=>{this.cachedLatestTransitionState==="enter"&&this.eventManager.emit("portalInserted")},0)})},removePortal:()=>{this.setState({isInsert:!1,isPositionUpdated:!1})},getEventName:()=>({mouseEnter:"onMouseEnter",mouseLeave:"onMouseLeave",mouseOut:"onMouseOut",mouseOver:"onMouseOver",click:"onClick",focus:"onFocus",blur:"onBlur",keydown:"onKeyDown",contextMenu:"onContextMenu"}),registerTriggerEvent:t=>{this.setState({triggerEventSet:t})},registerPortalEvent:t=>{this.setState({portalEventSet:t})},getTriggerBounding:()=>{const t=this.adapter.getTriggerNode();return this.triggerEl.current=t,t&&t.getBoundingClientRect()},getPopupContainerRect:()=>{const t=this.getPopupContainer();let i=null;if(t&&sr(t)){const r=Iyt(t.getBoundingClientRect());i=Object.assign(Object.assign({},r),{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop})}return i},containerIsBody:()=>this.getPopupContainer()===document.body,containerIsRelative:()=>{const t=this.getPopupContainer();return window.getComputedStyle(t).getPropertyValue("position")==="relative"},containerIsRelativeOrAbsolute:()=>["relative","absolute"].includes(this.containerPosition),getWrapperBounding:()=>{const t=this.containerEl&&this.containerEl.current;return t&&t.getBoundingClientRect()},getDocumentElementBounding:()=>document.documentElement.getBoundingClientRect(),setPosition:t=>{var{position:i}=t,r=Uoe(t,["position"]);this.setState({containerStyle:Object.assign(Object.assign({},this.state.containerStyle),r),placement:i,isPositionUpdated:!0},()=>{this.eventManager.emit("positionUpdated")})},setDisplayNone:(t,i)=>{this.setState({displayNone:t},i)},updatePlacementAttr:t=>{this.setState({placement:t})},togglePortalVisible:(t,i)=>{const r={};r.transitionState=t?"enter":"leave",r.visible=t,this.cachedLatestTransitionState=r.transitionState,this.mounted&&this.setState(r,()=>{i()})},registerClickOutsideHandler:t=>{this.clickOutsideHandler&&this.adapter.unregisterClickOutsideHandler(),this.clickOutsideHandler=i=>{if(!this.mounted)return!1;let r=this.triggerEl&&this.triggerEl.current,s=this.containerEl&&this.containerEl.current;r=nA.findDOMNode(r);const a=i.target,o=i.composedPath&&i.composedPath()||[a],l=this.props.clickTriggerToHide?r&&r.contains(a)||o.includes(r):!1;(r&&!r.contains(a)&&s&&!s.contains(a)&&!(o.includes(s)||o.includes(r))||l)&&(this.props.onClickOutSide(i),t())},window.addEventListener("mousedown",this.clickOutsideHandler)},unregisterClickOutsideHandler:()=>{this.clickOutsideHandler&&(window.removeEventListener("mousedown",this.clickOutsideHandler),this.clickOutsideHandler=null)},registerResizeHandler:t=>{this.resizeHandler&&this.adapter.unregisterResizeHandler(),this.resizeHandler=HL(i=>{if(!this.mounted)return!1;t(i)},10),window.addEventListener("resize",this.resizeHandler,!1)},unregisterResizeHandler:()=>{this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler,!1),this.resizeHandler=null)},notifyVisibleChange:t=>{this.props.onVisibleChange(t)},registerScrollHandler:t=>{this.scrollHandler&&this.adapter.unregisterScrollHandler(),this.scrollHandler=HL(i=>{if(!this.mounted)return!1;const r=this.adapter.getTriggerNode();if(i.target.contains(r)){const a={x:i.target.scrollLeft,y:i.target.scrollTop};t(a)}},10),window.addEventListener("scroll",this.scrollHandler,!0)},unregisterScrollHandler:()=>{this.scrollHandler&&(window.removeEventListener("scroll",this.scrollHandler,!0),this.scrollHandler=null)},canMotion:()=>!!this.props.motion,updateContainerPosition:()=>{const t=document.body.getAttribute("data-position");if(t){this.containerPosition=t;return}requestAnimationFrame(()=>{const i=this.getPopupContainer();if(i&&sr(i)){const s=window.getComputedStyle(i).getPropertyValue("position");document.body.setAttribute("data-position",s),this.containerPosition=s}})},getContainerPosition:()=>this.containerPosition,getContainer:()=>this.containerEl&&this.containerEl.current,getTriggerNode:()=>{let t=this.triggerEl.current;return sr(this.triggerEl.current)||(t=nA.findDOMNode(this.triggerEl.current)),t},getFocusableElements:t=>HCe(t),getActiveElement:()=>zCe(),setInitialFocus:()=>{const{preventScroll:t}=this.props,i=Ce(this,"initialFocusRef.current");i&&"focus"in i&&i.focus({preventScroll:t})},notifyEscKeydown:t=>{this.props.onEscKeyDown(t)},setId:()=>{this.setState({id:Dm()})},getTriggerDOM:()=>this.triggerEl.current?nA.findDOMNode(this.triggerEl.current):null})}componentDidMount(){this.mounted=!0,this.getPopupContainer=this.props.getPopupContainer||this.context.getPopupContainer||g_t,this.foundation.init(),bX(()=>{let e=this.triggerEl.current;e&&(e instanceof HTMLElement||(e=Yc.findDOMNode(e))),this.foundation.updateStateIfCursorOnTrigger(e)},1)}componentWillUnmount(){this.mounted=!1,this.foundation.destroy()}focusTrigger(){this.foundation.focusTrigger()}rePosition(){return this.foundation.calcPosition()}componentDidUpdate(e,t){gs(this.props.mouseLeaveDelay<this.props.mouseEnterDelay,"[Semi Tooltip] 'mouseLeaveDelay' cannot be less than 'mouseEnterDelay', which may cause the dropdown layer to not be hidden."),e.visible!==this.props.visible&&(["hover","focus"].includes(this.props.trigger)?this.props.visible?this.foundation.delayShow():this.foundation.delayHide():this.props.visible?this.foundation.show():this.foundation.hide()),Kn(e.rePosKey,this.props.rePosKey)||this.rePosition()}render(){const{isInsert:e,triggerEventSet:t,visible:i,id:r}=this.state,{wrapWhenSpecial:s,role:a,trigger:o}=this.props;let{children:l}=this.props;const u=Object.assign({},Ce(l,"props.style")),c={};if(s){const f=this.isSpecial(l);f?(u.pointerEvents="none",f===Ey.STATUS_DISABLED&&(c.cursor="not-allowed"),l=q.cloneElement(l,{style:u}),o!=="custom"&&(l=this.wrapSpan(l)),this.isWrapped=!0):q.isValidElement(l)||(l=this.wrapSpan(l),this.isWrapped=!0)}let d={};a==="dialog"?(d["aria-expanded"]=i?"true":"false",d["aria-haspopup"]="dialog",d["aria-controls"]=r):d["aria-describedby"]=r;const h=M.cloneElement(l,Object.assign(Object.assign(Object.assign(Object.assign({},d),l.props),this.mergeEvents(l.props,t)),{style:Object.assign(Object.assign({},Ce(l,"props.style")),c),className:le(Ce(l,"props.className")),ref:f=>{const{tooltipRef:p}=l.props;p?this.triggerEl.current=p.current:this.triggerEl.current=f;const{ref:g}=l;typeof g=="function"?g(f):g&&typeof g=="object"&&(g.current=f)},tabIndex:l.props.tabIndex||0,"data-popupid":r}));return M.createElement(M.Fragment,null,e?this.renderPortal():null,h)}};xo.contextType=Ql;xo.propTypes={children:S.node,motion:S.bool,autoAdjustOverflow:S.bool,position:S.oneOf(h_t),getPopupContainer:S.func,mouseEnterDelay:S.number,mouseLeaveDelay:S.number,trigger:S.oneOf(f_t).isRequired,className:S.string,wrapperClassName:S.string,clickToHide:S.bool,clickTriggerToHide:S.bool,visible:S.bool,style:S.object,content:S.oneOfType([S.node,S.func]),prefixCls:S.string,onVisibleChange:S.func,onClickOutSide:S.func,spacing:S.oneOfType([S.number,S.object]),margin:S.oneOfType([S.number,S.object]),showArrow:S.oneOfType([S.bool,S.node]),zIndex:S.number,rePosKey:S.oneOfType([S.string,S.number]),arrowBounding:d_t,transformFromCenter:S.bool,arrowPointAtCenter:S.bool,stopPropagation:S.bool,role:S.string,wrapWhenSpecial:S.bool,guardFocus:S.bool,returnFocusOnClose:S.bool,preventScroll:S.bool,keepDOM:S.bool};xo.__SemiComponentName__="Tooltip";xo.defaultProps=Du(xo.__SemiComponentName__,{arrowBounding:Vv.ARROW_BOUNDING,autoAdjustOverflow:!0,arrowPointAtCenter:!0,trigger:"hover",transformFromCenter:!0,position:"top",prefixCls:E2,role:"tooltip",mouseEnterDelay:Vv.MOUSE_ENTER_DELAY,mouseLeaveDelay:Vv.MOUSE_LEAVE_DELAY,motion:!0,onVisibleChange:be,onClickOutSide:be,spacing:Vv.SPACING,margin:Vv.MARGIN,showArrow:!0,wrapWhenSpecial:!0,zIndex:Vv.DEFAULT_Z_INDEX,closeOnEsc:!1,guardFocus:!1,returnFocusOnClose:!1,onEscKeyDown:be,disableFocusListener:!1,disableArrowKeyDown:!1,keepDOM:!1});var SX={exports:{}};const VCe=(n,{target:e=document.body}={})=>{const t=document.createElement("textarea"),i=document.activeElement;t.value=n,t.setAttribute("readonly",""),t.style.contain="strict",t.style.position="absolute",t.style.left="-9999px",t.style.fontSize="12pt";const r=document.getSelection();let s=!1;r.rangeCount>0&&(s=r.getRangeAt(0)),e.append(t),t.select(),t.selectionStart=0,t.selectionEnd=n.length;let a=!1;try{a=document.execCommand("copy")}catch{}return t.remove(),s&&(r.removeAllRanges(),r.addRange(s)),i&&i.focus(),a};SX.exports=VCe;SX.exports.default=VCe;var m_t=SX.exports;const v_t=yn(m_t);function Xr(){}const y_t=M.createContext(null);function kw(n){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.width?String(e.width):n.defaultWidth,i=n.formats[t]||n.formats[n.defaultWidth];return i}}function kp(n){return function(e,t){var i=t!=null&&t.context?String(t.context):"standalone",r;if(i==="formatting"&&n.formattingValues){var s=n.defaultFormattingWidth||n.defaultWidth,a=t!=null&&t.width?String(t.width):s;r=n.formattingValues[a]||n.formattingValues[s]}else{var o=n.defaultWidth,l=t!=null&&t.width?String(t.width):n.defaultWidth;r=n.values[l]||n.values[o]}var u=n.argumentCallback?n.argumentCallback(e):e;return r[u]}}function Op(n){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=t.width,r=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],s=e.match(r);if(!s)return null;var a=s[0],o=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(o)?b_t(o,function(d){return d.test(a)}):__t(o,function(d){return d.test(a)}),u;u=n.valueCallback?n.valueCallback(l):l,u=t.valueCallback?t.valueCallback(u):u;var c=e.slice(a.length);return{value:u,rest:c}}}function __t(n,e){for(var t in n)if(n.hasOwnProperty(t)&&e(n[t]))return t}function b_t(n,e){for(var t=0;t<n.length;t++)if(e(n[t]))return t}function WCe(n){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=e.match(n.matchPattern);if(!i)return null;var r=i[0],s=e.match(n.parsePattern);if(!s)return null;var a=n.valueCallback?n.valueCallback(s[0]):s[0];a=t.valueCallback?t.valueCallback(a):a;var o=e.slice(r.length);return{value:a,rest:o}}}function sg(n){"@babel/helpers - typeof";return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sg(n)}function fs(n){if(n===null||n===!0||n===!1)return NaN;var e=Number(n);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function li(n,e){if(e.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+e.length+" present")}function Ai(n){li(1,arguments);var e=Object.prototype.toString.call(n);return n instanceof Date||sg(n)==="object"&&e==="[object Date]"?new Date(n.getTime()):typeof n=="number"||e==="[object Number]"?new Date(n):((typeof n=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function oy(n,e){li(2,arguments);var t=Ai(n),i=fs(e);if(isNaN(i))return new Date(NaN);if(!i)return t;var r=t.getDate(),s=new Date(t.getTime());s.setMonth(t.getMonth()+i+1,0);var a=s.getDate();return r>=a?s:(t.setFullYear(s.getFullYear(),s.getMonth(),r),t)}function S_t(n,e){li(2,arguments);var t=Ai(n).getTime(),i=fs(e);return new Date(t+i)}var x_t={};function A1(){return x_t}function UCe(n){var e=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return e.setUTCFullYear(n.getFullYear()),n.getTime()-e.getTime()}function Goe(n){li(1,arguments);var e=Ai(n);return e.setHours(0,0,0,0),e}function YL(n,e){li(2,arguments);var t=fs(e);return oy(n,t*12)}var xX=6e4,wX=36e5,w_t=1e3;function CX(n,e){li(2,arguments);var t=Goe(n),i=Goe(e);return t.getTime()===i.getTime()}function Q6(n){return li(1,arguments),n instanceof Date||sg(n)==="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Jd(n){if(li(1,arguments),!Q6(n)&&typeof n!="number")return!1;var e=Ai(n);return!isNaN(Number(e))}function rb(n,e){li(2,arguments);var t=Ai(n),i=Ai(e),r=t.getFullYear()-i.getFullYear(),s=t.getMonth()-i.getMonth();return r*12+s}function C_t(n,e){li(2,arguments);var t=Ai(n),i=Ai(e);return t.getFullYear()-i.getFullYear()}function T_t(n){li(1,arguments);var e=Ai(n);return e.setDate(1),e.setHours(0,0,0,0),e}function GCe(n,e){li(2,arguments);var t=fs(e);return S_t(n,-t)}var E_t=864e5;function A_t(n){li(1,arguments);var e=Ai(n),t=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var i=e.getTime(),r=t-i;return Math.floor(r/E_t)+1}function gC(n){li(1,arguments);var e=1,t=Ai(n),i=t.getUTCDay(),r=(i<e?7:0)+i-e;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function YCe(n){li(1,arguments);var e=Ai(n),t=e.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(t+1,0,4),i.setUTCHours(0,0,0,0);var r=gC(i),s=new Date(0);s.setUTCFullYear(t,0,4),s.setUTCHours(0,0,0,0);var a=gC(s);return e.getTime()>=r.getTime()?t+1:e.getTime()>=a.getTime()?t:t-1}function k_t(n){li(1,arguments);var e=YCe(n),t=new Date(0);t.setUTCFullYear(e,0,4),t.setUTCHours(0,0,0,0);var i=gC(t);return i}var O_t=6048e5;function KCe(n){li(1,arguments);var e=Ai(n),t=gC(e).getTime()-k_t(e).getTime();return Math.round(t/O_t)+1}function Lm(n,e){var t,i,r,s,a,o,l,u;li(1,arguments);var c=A1(),d=fs((t=(i=(r=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&r!==void 0?r:c.weekStartsOn)!==null&&i!==void 0?i:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&t!==void 0?t:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Ai(n),f=h.getUTCDay(),p=(f<d?7:0)+f-d;return h.setUTCDate(h.getUTCDate()-p),h.setUTCHours(0,0,0,0),h}function TX(n,e){var t,i,r,s,a,o,l,u;li(1,arguments);var c=Ai(n),d=c.getUTCFullYear(),h=A1(),f=fs((t=(i=(r=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&r!==void 0?r:h.firstWeekContainsDate)!==null&&i!==void 0?i:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&t!==void 0?t:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(d+1,0,f),p.setUTCHours(0,0,0,0);var g=Lm(p,e),m=new Date(0);m.setUTCFullYear(d,0,f),m.setUTCHours(0,0,0,0);var v=Lm(m,e);return c.getTime()>=g.getTime()?d+1:c.getTime()>=v.getTime()?d:d-1}function P_t(n,e){var t,i,r,s,a,o,l,u;li(1,arguments);var c=A1(),d=fs((t=(i=(r=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&r!==void 0?r:c.firstWeekContainsDate)!==null&&i!==void 0?i:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&t!==void 0?t:1),h=TX(n,e),f=new Date(0);f.setUTCFullYear(h,0,d),f.setUTCHours(0,0,0,0);var p=Lm(f,e);return p}var M_t=6048e5;function XCe(n,e){li(1,arguments);var t=Ai(n),i=Lm(t,e).getTime()-P_t(t,e).getTime();return Math.round(i/M_t)+1}function Nr(n,e){for(var t=n<0?"-":"",i=Math.abs(n).toString();i.length<e;)i="0"+i;return t+i}var xv={y:function(e,t){var i=e.getUTCFullYear(),r=i>0?i:1-i;return Nr(t==="yy"?r%100:r,t.length)},M:function(e,t){var i=e.getUTCMonth();return t==="M"?String(i+1):Nr(i+1,2)},d:function(e,t){return Nr(e.getUTCDate(),t.length)},a:function(e,t){var i=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return i.toUpperCase();case"aaa":return i;case"aaaaa":return i[0];case"aaaa":default:return i==="am"?"a.m.":"p.m."}},h:function(e,t){return Nr(e.getUTCHours()%12||12,t.length)},H:function(e,t){return Nr(e.getUTCHours(),t.length)},m:function(e,t){return Nr(e.getUTCMinutes(),t.length)},s:function(e,t){return Nr(e.getUTCSeconds(),t.length)},S:function(e,t){var i=t.length,r=e.getUTCMilliseconds(),s=Math.floor(r*Math.pow(10,i-3));return Nr(s,t.length)}},US={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},I_t={G:function(e,t,i){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return i.era(r,{width:"abbreviated"});case"GGGGG":return i.era(r,{width:"narrow"});case"GGGG":default:return i.era(r,{width:"wide"})}},y:function(e,t,i){if(t==="yo"){var r=e.getUTCFullYear(),s=r>0?r:1-r;return i.ordinalNumber(s,{unit:"year"})}return xv.y(e,t)},Y:function(e,t,i,r){var s=TX(e,r),a=s>0?s:1-s;if(t==="YY"){var o=a%100;return Nr(o,2)}return t==="Yo"?i.ordinalNumber(a,{unit:"year"}):Nr(a,t.length)},R:function(e,t){var i=YCe(e);return Nr(i,t.length)},u:function(e,t){var i=e.getUTCFullYear();return Nr(i,t.length)},Q:function(e,t,i){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Nr(r,2);case"Qo":return i.ordinalNumber(r,{unit:"quarter"});case"QQQ":return i.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,i){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Nr(r,2);case"qo":return i.ordinalNumber(r,{unit:"quarter"});case"qqq":return i.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,i){var r=e.getUTCMonth();switch(t){case"M":case"MM":return xv.M(e,t);case"Mo":return i.ordinalNumber(r+1,{unit:"month"});case"MMM":return i.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,i){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return Nr(r+1,2);case"Lo":return i.ordinalNumber(r+1,{unit:"month"});case"LLL":return i.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,i,r){var s=XCe(e,r);return t==="wo"?i.ordinalNumber(s,{unit:"week"}):Nr(s,t.length)},I:function(e,t,i){var r=KCe(e);return t==="Io"?i.ordinalNumber(r,{unit:"week"}):Nr(r,t.length)},d:function(e,t,i){return t==="do"?i.ordinalNumber(e.getUTCDate(),{unit:"date"}):xv.d(e,t)},D:function(e,t,i){var r=A_t(e);return t==="Do"?i.ordinalNumber(r,{unit:"dayOfYear"}):Nr(r,t.length)},E:function(e,t,i){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return i.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(r,{width:"short",context:"formatting"});case"EEEE":default:return i.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,i,r){var s=e.getUTCDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Nr(a,2);case"eo":return i.ordinalNumber(a,{unit:"day"});case"eee":return i.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(s,{width:"short",context:"formatting"});case"eeee":default:return i.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,i,r){var s=e.getUTCDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Nr(a,t.length);case"co":return i.ordinalNumber(a,{unit:"day"});case"ccc":return i.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(s,{width:"narrow",context:"standalone"});case"cccccc":return i.day(s,{width:"short",context:"standalone"});case"cccc":default:return i.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,i){var r=e.getUTCDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return Nr(s,t.length);case"io":return i.ordinalNumber(s,{unit:"day"});case"iii":return i.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(r,{width:"short",context:"formatting"});case"iiii":default:return i.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,i){var r=e.getUTCHours(),s=r/12>=1?"pm":"am";switch(t){case"a":case"aa":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,i){var r=e.getUTCHours(),s;switch(r===12?s=US.noon:r===0?s=US.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,i){var r=e.getUTCHours(),s;switch(r>=17?s=US.evening:r>=12?s=US.afternoon:r>=4?s=US.morning:s=US.night,t){case"B":case"BB":case"BBB":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,i){if(t==="ho"){var r=e.getUTCHours()%12;return r===0&&(r=12),i.ordinalNumber(r,{unit:"hour"})}return xv.h(e,t)},H:function(e,t,i){return t==="Ho"?i.ordinalNumber(e.getUTCHours(),{unit:"hour"}):xv.H(e,t)},K:function(e,t,i){var r=e.getUTCHours()%12;return t==="Ko"?i.ordinalNumber(r,{unit:"hour"}):Nr(r,t.length)},k:function(e,t,i){var r=e.getUTCHours();return r===0&&(r=24),t==="ko"?i.ordinalNumber(r,{unit:"hour"}):Nr(r,t.length)},m:function(e,t,i){return t==="mo"?i.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):xv.m(e,t)},s:function(e,t,i){return t==="so"?i.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):xv.s(e,t)},S:function(e,t){return xv.S(e,t)},X:function(e,t,i,r){var s=r._originalDate||e,a=s.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return Koe(a);case"XXXX":case"XX":return sb(a);case"XXXXX":case"XXX":default:return sb(a,":")}},x:function(e,t,i,r){var s=r._originalDate||e,a=s.getTimezoneOffset();switch(t){case"x":return Koe(a);case"xxxx":case"xx":return sb(a);case"xxxxx":case"xxx":default:return sb(a,":")}},O:function(e,t,i,r){var s=r._originalDate||e,a=s.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Yoe(a,":");case"OOOO":default:return"GMT"+sb(a,":")}},z:function(e,t,i,r){var s=r._originalDate||e,a=s.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Yoe(a,":");case"zzzz":default:return"GMT"+sb(a,":")}},t:function(e,t,i,r){var s=r._originalDate||e,a=Math.floor(s.getTime()/1e3);return Nr(a,t.length)},T:function(e,t,i,r){var s=r._originalDate||e,a=s.getTime();return Nr(a,t.length)}};function Yoe(n,e){var t=n>0?"-":"+",i=Math.abs(n),r=Math.floor(i/60),s=i%60;if(s===0)return t+String(r);var a=e;return t+String(r)+a+Nr(s,2)}function Koe(n,e){if(n%60===0){var t=n>0?"-":"+";return t+Nr(Math.abs(n)/60,2)}return sb(n,e)}function sb(n,e){var t=e||"",i=n>0?"-":"+",r=Math.abs(n),s=Nr(Math.floor(r/60),2),a=Nr(r%60,2);return i+s+t+a}var Xoe=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},qCe=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},R_t=function(e,t){var i=e.match(/(P+)(p+)?/)||[],r=i[1],s=i[2];if(!s)return Xoe(e,t);var a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",Xoe(r,t)).replace("{{time}}",qCe(s,t))},J6={p:qCe,P:R_t},D_t=["D","DD"],L_t=["YY","YYYY"];function ZCe(n){return D_t.indexOf(n)!==-1}function QCe(n){return L_t.indexOf(n)!==-1}function KL(n,e,t){if(n==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var F_t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},B_t=function(e,t,i){var r,s=F_t[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),i!=null&&i.addSuffix?i.comparison&&i.comparison>0?"in "+r:r+" ago":r},$_t={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},N_t={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},j_t={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},z_t={date:kw({formats:$_t,defaultWidth:"full"}),time:kw({formats:N_t,defaultWidth:"full"}),dateTime:kw({formats:j_t,defaultWidth:"full"})},H_t={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},V_t=function(e,t,i,r){return H_t[e]},W_t={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},U_t={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},G_t={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Y_t={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},K_t={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},X_t={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},q_t=function(e,t){var i=Number(e),r=i%100;if(r>20||r<10)switch(r%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},Z_t={ordinalNumber:q_t,era:kp({values:W_t,defaultWidth:"wide"}),quarter:kp({values:U_t,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:kp({values:G_t,defaultWidth:"wide"}),day:kp({values:Y_t,defaultWidth:"wide"}),dayPeriod:kp({values:K_t,defaultWidth:"wide",formattingValues:X_t,defaultFormattingWidth:"wide"})},Q_t=/^(\d+)(th|st|nd|rd)?/i,J_t=/\d+/i,ebt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},tbt={any:[/^b/i,/^(a|c)/i]},nbt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ibt={any:[/1/i,/2/i,/3/i,/4/i]},rbt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},sbt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},abt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},obt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},lbt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ubt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},cbt={ordinalNumber:WCe({matchPattern:Q_t,parsePattern:J_t,valueCallback:function(e){return parseInt(e,10)}}),era:Op({matchPatterns:ebt,defaultMatchWidth:"wide",parsePatterns:tbt,defaultParseWidth:"any"}),quarter:Op({matchPatterns:nbt,defaultMatchWidth:"wide",parsePatterns:ibt,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Op({matchPatterns:rbt,defaultMatchWidth:"wide",parsePatterns:sbt,defaultParseWidth:"any"}),day:Op({matchPatterns:abt,defaultMatchWidth:"wide",parsePatterns:obt,defaultParseWidth:"any"}),dayPeriod:Op({matchPatterns:lbt,defaultMatchWidth:"any",parsePatterns:ubt,defaultParseWidth:"any"})},JCe={code:"en-US",formatDistance:B_t,formatLong:z_t,formatRelative:V_t,localize:Z_t,match:cbt,options:{weekStartsOn:0,firstWeekContainsDate:1}},dbt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hbt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fbt=/^'([^]*?)'?$/,pbt=/''/g,gbt=/[a-zA-Z]/;function _r(n,e,t){var i,r,s,a,o,l,u,c,d,h,f,p,g,m,v,_,y,x;li(2,arguments);var w=String(e),T=A1(),E=(i=(r=t==null?void 0:t.locale)!==null&&r!==void 0?r:T.locale)!==null&&i!==void 0?i:JCe,A=fs((s=(a=(o=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(u=t.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&o!==void 0?o:T.firstWeekContainsDate)!==null&&a!==void 0?a:(d=T.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(A>=1&&A<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=fs((f=(p=(g=(m=t==null?void 0:t.weekStartsOn)!==null&&m!==void 0?m:t==null||(v=t.locale)===null||v===void 0||(_=v.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&g!==void 0?g:T.weekStartsOn)!==null&&p!==void 0?p:(y=T.locale)===null||y===void 0||(x=y.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&f!==void 0?f:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var P=Ai(n);if(!Jd(P))throw new RangeError("Invalid time value");var I=UCe(P),D=GCe(P,I),L={firstWeekContainsDate:A,weekStartsOn:k,locale:E,_originalDate:P},B=w.match(hbt).map(function(F){var $=F[0];if($==="p"||$==="P"){var z=J6[$];return z(F,E.formatLong)}return F}).join("").match(dbt).map(function(F){if(F==="''")return"'";var $=F[0];if($==="'")return mbt(F);var z=I_t[$];if(z)return!(t!=null&&t.useAdditionalWeekYearTokens)&&QCe(F)&&KL(F,e,String(n)),!(t!=null&&t.useAdditionalDayOfYearTokens)&&ZCe(F)&&KL(F,e,String(n)),z(D,F,E.localize,L);if($.match(gbt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+$+"`");return F}).join("");return B}function mbt(n){var e=n.match(fbt);return e?e[1].replace(pbt,"'"):n}function vbt(n,e){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n}function e1e(n){li(1,arguments);var e=Ai(n),t=e.getFullYear(),i=e.getMonth(),r=new Date(0);return r.setFullYear(t,i+1,0),r.setHours(0,0,0,0),r.getDate()}function ybt(n){li(1,arguments);var e=Ai(n),t=e.getHours();return t}function _bt(n){li(1,arguments);var e=Ai(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(0,0,0,0),e}function bbt(n,e){li(2,arguments);var t=Ai(n),i=Ai(e);return t.getTime()>i.getTime()}function t1e(n,e){li(2,arguments);var t=Ai(n),i=Ai(e);return t.getTime()<i.getTime()}function XL(n,e){li(2,arguments);var t=Ai(n),i=Ai(e);return t.getTime()===i.getTime()}function qoe(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function Sbt(n,e){if(n){if(typeof n=="string")return qoe(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?qoe(n,e):void 0}}function Zoe(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=Sbt(n))||e){t&&(n=t);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(u){throw u},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,a=!0,o=!1;return{s:function(){t=t.call(n)},n:function(){var u=t.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{a||t.return==null||t.return()}finally{if(o)throw s}}}}function Zt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function qL(n,e){return qL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},qL(n,e)}function ur(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&qL(n,e)}function ZL(n){return ZL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ZL(n)}function n1e(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n1e=function(){return!!n})()}function xbt(n,e){if(e&&(sg(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zt(n)}function cr(n){var e=n1e();return function(){var t,i=ZL(n);if(e){var r=ZL(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return xbt(this,t)}}function Gi(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function wbt(n,e){if(sg(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(sg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function i1e(n){var e=wbt(n,"string");return sg(e)=="symbol"?e:e+""}function Cbt(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i1e(i.key),i)}}function Yi(n,e,t){return e&&Cbt(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Gt(n,e,t){return(e=i1e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Tbt=10,r1e=function(){function n(){Gi(this,n),Gt(this,"priority",void 0),Gt(this,"subPriority",0)}return Yi(n,[{key:"validate",value:function(t,i){return!0}}]),n}(),Ebt=function(n){ur(t,n);var e=cr(t);function t(i,r,s,a,o){var l;return Gi(this,t),l=e.call(this),l.value=i,l.validateValue=r,l.setValue=s,l.priority=a,o&&(l.subPriority=o),l}return Yi(t,[{key:"validate",value:function(r,s){return this.validateValue(r,this.value,s)}},{key:"set",value:function(r,s,a){return this.setValue(r,s,this.value,a)}}]),t}(r1e),Abt=function(n){ur(t,n);var e=cr(t);function t(){var i;Gi(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Gt(Zt(i),"priority",Tbt),Gt(Zt(i),"subPriority",-1),i}return Yi(t,[{key:"set",value:function(r,s){if(s.timestampIsSet)return r;var a=new Date(0);return a.setFullYear(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),a.setHours(r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()),a}}]),t}(r1e),Er=function(){function n(){Gi(this,n),Gt(this,"incompatibleTokens",void 0),Gt(this,"priority",void 0),Gt(this,"subPriority",void 0)}return Yi(n,[{key:"run",value:function(t,i,r,s){var a=this.parse(t,i,r,s);return a?{setter:new Ebt(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}},{key:"validate",value:function(t,i,r){return!0}}]),n}(),kbt=function(n){ur(t,n);var e=cr(t);function t(){var i;Gi(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Gt(Zt(i),"priority",140),Gt(Zt(i),"incompatibleTokens",["R","u","t","T"]),i}return Yi(t,[{key:"parse",value:function(r,s,a){switch(s){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})||a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"})}}},{key:"set",value:function(r,s,a){return s.era=a,r.setUTCFullYear(a,0,1),r.setUTCHours(0,0,0,0),r}}]),t}(Er),$a={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Pp={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Na(n,e){return n&&{value:e(n.value),rest:n.rest}}function ta(n,e){var t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function Mp(n,e){var t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};var i=t[1]==="+"?1:-1,r=t[2]?parseInt(t[2],10):0,s=t[3]?parseInt(t[3],10):0,a=t[5]?parseInt(t[5],10):0;return{value:i*(r*wX+s*xX+a*w_t),rest:e.slice(t[0].length)}}function s1e(n){return ta($a.anyDigitsSigned,n)}function ba(n,e){switch(n){case 1:return ta($a.singleDigit,e);case 2:return ta($a.twoDigits,e);case 3:return ta($a.threeDigits,e);case 4:return ta($a.fourDigits,e);default:return ta(new RegExp("^\\d{1,"+n+"}"),e)}}function QL(n,e){switch(n){case 1:return ta($a.singleDigitSigned,e);case 2:return ta($a.twoDigitsSigned,e);case 3:return ta($a.threeDigitsSigned,e);case 4:return ta($a.fourDigitsSigned,e);default:return ta(new RegExp("^-?\\d{1,"+n+"}"),e)}}function EX(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function a1e(n,e){var t=e>0,i=t?e:1-e,r;if(i<=50)r=n||100;else{var s=i+50,a=Math.floor(s/100)*100,o=n>=s%100;r=n+a-(o?100:0)}return t?r:1-r}function o1e(n){return n%400===0||n%4===0&&n%100!==0}var Obt=function(n){ur(t,n);var e=cr(t);function t(){var i;Gi(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Gt(Zt(i),"priority",130),Gt(Zt(i),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),i}return Yi(t,[{key:"parse",value:function(r,s,a){var o=function(u){return{year:u,isTwoDigitYear:s==="yy"}};switch(s){case"y":return Na(ba(4,r),o);case"yo":return Na(a.ordinalNumber(r,{unit:"year"}),o);default:return Na(ba(s.length,r),o)}}},{key:"validate",value:function(r,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(r,s,a){var o=r.getUTCFullYear();if(a.isTwoDigitYear){var l=a1e(a.year,o);return r.setUTCFullYear(l,0,1),r.setUTCHours(0,0,0,0),r}var u=!("era"in s)||s.era===1?a.year:1-a.year;return r.setUTCFullYear(u,0,1),r.setUTCHours(0,0,0,0),r}}]),t}(Er),Pbt=function(n){ur(t,n);var e=cr(t);function t(){var i;Gi(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Gt(Zt(i),"priority",130),Gt(Zt(i),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),i}return Yi(t,[{key:"parse",value:function(r,s,a){var o=function(u){return{year:u,isTwoDigitYear:s==="YY"}};switch(s){case"Y":return Na(ba(4,r),o);case"Yo":return Na(a.ordinalNumber(r,{unit:"year"}),o);default:return Na(ba(s.length,r),o)}}},{key:"validate",value:function(r,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(r,s,a,o){var l=TX(r,o);if(a.isTwoDigitYear){var u=a1e(a.year,l);return r.setUTCFullYear(u,0,o.firstWeekContainsDate),r.setUTCHours(0,0,0,0),Lm(r,o)}var c=!("era"in s)||s.era===1?a.year:1-a.year;return r.setUTCFullYear(c,0,o.firstWeekContainsDate),r.setUTCHours(0,0,0,0),Lm(r,o)}}]),t}(Er),Mbt=function(n){ur(t,n);var e=cr(t);function t(){var i;Gi(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Gt(Zt(i),"priority",130),Gt(Zt(i),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),i}return Yi(t,[{key:"parse",value:function(r,s){return QL(s==="R"?4:s.length,r)}},{key:"set",value:function(r,s,a){var o=new Date(0);return o.setUTCFullYear(a,0,4),o.setUTCHours(0,0,0,0),gC(o)}}]),t}(Er),Ibt=function(n){ur(t,n);var e=cr(t);function t(){var i;Gi(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Gt(Zt(i),"priority",130),Gt(Zt(i),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),i}return Yi(t,[{key:"parse",value:function(r,s){return QL(s==="u"?4:s.length,r)}},{key:"set",value:function(r,s,a){return r.setUTCFullYear(a,0,1),r.setUTCHours(0,0,0,0),r}}]),t}(Er),Rbt=function(n){ur(t,n);var e=cr(t);function t(){var i;Gi(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Gt(Zt(i),"priority",120),Gt(Zt(i),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),i}return Yi(t,[{key:"parse",value:function(r,s,a){switch(s){case"Q":case"QQ":return ba(s.length,r);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})||a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,s){return s>=1&&s<=4}},{key:"set",value:function(r,s,a){return r.setUTCMonth((a-1)*3,1),r.setUTCHours(0,0,0,0),r}}]),t}(Er),Dbt=function(n){ur(t,n);var e=cr(t);function t(){var i;Gi(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Gt(Zt(i),"priority",120),Gt(Zt(i),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),i}return Yi(t,[{key:"parse",value:function(r,s,a){switch(s){case"q":case"qq":return ba(s.length,r);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})||a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,s){return s>=1&&s<=4}},{key:"set",value:function(r,s,a){return r.setUTCMonth((a-1)*3,1),r.setUTCHours(0,0,0,0),r}}]),t}(Er),Lbt=function(n){ur(t,n);var e=cr(t);function t(){var i;Gi(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Gt(Zt(i),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Gt(Zt(i),"priority",110),i}return Yi(t,[{key:"parse",value:function(r,s,a){var o=function(u){return u-1};switch(s){case"M":return Na(ta($a.month,r),o);case"MM":return Na(ba(2,r),o);case"Mo":return Na(a.ordinalNumber(r,{unit:"month"}),o);case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})||a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,s){return s>=0&&s<=11}},{key:"set",value:function(r,s,a){return r.setUTCMonth(a,1),r.setUTCHours(0,0,0,0),r}}]),t}(Er),Fbt=function(n){ur(t,n);var e=cr(t);function t(){var i;Gi(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Gt(Zt(i),"priority",110),Gt(Zt(i),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),i}return Yi(t,[{key:"parse",value:function(r,s,a){var o=function(u){return u-1};switch(s){case"L":return Na(ta($a.month,r),o);case"LL":return Na(ba(2,r),o);case"Lo":return Na(a.ordinalNumber(r,{unit:"month"}),o);case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})||a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,s){return s>=0&&s<=11}},{key:"set",value:function(r,s,a){return r.setUTCMonth(a,1),r.setUTCHours(0,0,0,0),r}}]),t}(Er);function Bbt(n,e,t){li(2,arguments);var i=Ai(n),r=fs(e),s=XCe(i,t)-r;return i.setUTCDate(i.getUTCDate()-s*7),i}var $bt=function(n){ur(t,n);var e=cr(t);function t(){var i;Gi(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Gt(Zt(i),"priority",100),Gt(Zt(i),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),i}return Yi(t,[{key:"parse",value:function(r,s,a){switch(s){case"w":return ta($a.week,r);case"wo":return a.ordinalNumber(r,{unit:"week"});default:return ba(s.length,r)}}},{key:"validate",value:function(r,s){return s>=1&&s<=53}},{key:"set",value:function(r,s,a,o){return Lm(Bbt(r,a,o),o)}}]),t}(Er);function Nbt(n,e){li(2,arguments);var t=Ai(n),i=fs(e),r=KCe(t)-i;return t.setUTCDate(t.getUTCDate()-r*7),t}var jbt=function(n){ur(t,n);var e=cr(t);function t(){var i;Gi(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Gt(Zt(i),"priority",100),Gt(Zt(i),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),i}return Yi(t,[{key:"parse",value:function(r,s,a){switch(s){case"I":return ta($a.week,r);case"Io":return a.ordinalNumber(r,{unit:"week"});default:return ba(s.length,r)}}},{key:"validate",value:function(r,s){return s>=1&&s<=53}},{key:"set",value:function(r,s,a){return gC(Nbt(r,a))}}]),t}(Er),zbt=[31,28,31,30,31,30,31,31,30,31,30,31],Hbt=[31,29,31,30,31,30,31,31,30,31,30,31],Vbt=function(n){ur(t,n);var e=cr(t);function t(){var i;Gi(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Gt(Zt(i),"priority",90),Gt(Zt(i),"subPriority",1),Gt(Zt(i),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),i}return Yi(t,[{key:"parse",value:function(r,s,a){switch(s){case"d":return ta($a.date,r);case"do":return a.ordinalNumber(r,{unit:"date"});default:return ba(s.length,r)}}},{key:"validate",value:function(r,s){var a=r.getUTCFullYear(),o=o1e(a),l=r.getUTCMonth();return o?s>=1&&s<=Hbt[l]:s>=1&&s<=zbt[l]}},{key:"set",value:function(r,s,a){return r.setUTCDate(a),r.setUTCHours(0,0,0,0),r}}]),t}(Er),Wbt=function(n){ur(t,n);var e=cr(t);function t(){var i;Gi(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Gt(Zt(i),"priority",90),Gt(Zt(i),"subpriority",1),Gt(Zt(i),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),i}return Yi(t,[{key:"parse",value:function(r,s,a){switch(s){case"D":case"DD":return ta($a.dayOfYear,r);case"Do":return a.ordinalNumber(r,{unit:"date"});default:return ba(s.length,r)}}},{key:"validate",value:function(r,s){var a=r.getUTCFullYear(),o=o1e(a);return o?s>=1&&s<=366:s>=1&&s<=365}},{key:"set",value:function(r,s,a){return r.setUTCMonth(0,a),r.setUTCHours(0,0,0,0),r}}]),t}(Er);function AX(n,e,t){var i,r,s,a,o,l,u,c;li(2,arguments);var d=A1(),h=fs((i=(r=(s=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(u=d.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&i!==void 0?i:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Ai(n),p=fs(e),g=f.getUTCDay(),m=p%7,v=(m+7)%7,_=(v<h?7:0)+p-g;return f.setUTCDate(f.getUTCDate()+_),f}var Ubt=function(n){ur(t,n);var e=cr(t);function t(){var i;Gi(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Gt(Zt(i),"priority",90),Gt(Zt(i),"incompatibleTokens",["D","i","e","c","t","T"]),i}return Yi(t,[{key:"parse",value:function(r,s,a){switch(s){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,s){return s>=0&&s<=6}},{key:"set",value:function(r,s,a,o){return r=AX(r,a,o),r.setUTCHours(0,0,0,0),r}}]),t}(Er),Gbt=function(n){ur(t,n);var e=cr(t);function t(){var i;Gi(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Gt(Zt(i),"priority",90),Gt(Zt(i),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),i}return Yi(t,[{key:"parse",value:function(r,s,a,o){var l=function(c){var d=Math.floor((c-1)/7)*7;return(c+o.weekStartsOn+6)%7+d};switch(s){case"e":case"ee":return Na(ba(s.length,r),l);case"eo":return Na(a.ordinalNumber(r,{unit:"day"}),l);case"eee":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,s){return s>=0&&s<=6}},{key:"set",value:function(r,s,a,o){return r=AX(r,a,o),r.setUTCHours(0,0,0,0),r}}]),t}(Er),Ybt=function(n){ur(t,n);var e=cr(t);function t(){var i;Gi(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Gt(Zt(i),"priority",90),Gt(Zt(i),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),i}return Yi(t,[{key:"parse",value:function(r,s,a,o){var l=function(c){var d=Math.floor((c-1)/7)*7;return(c+o.weekStartsOn+6)%7+d};switch(s){case"c":case"cc":return Na(ba(s.length,r),l);case"co":return Na(a.ordinalNumber(r,{unit:"day"}),l);case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})||a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,s){return s>=0&&s<=6}},{key:"set",value:function(r,s,a,o){return r=AX(r,a,o),r.setUTCHours(0,0,0,0),r}}]),t}(Er);function Kbt(n,e){li(2,arguments);var t=fs(e);t%7===0&&(t=t-7);var i=1,r=Ai(n),s=r.getUTCDay(),a=t%7,o=(a+7)%7,l=(o<i?7:0)+t-s;return r.setUTCDate(r.getUTCDate()+l),r}var Xbt=function(n){ur(t,n);var e=cr(t);function t(){var i;Gi(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Gt(Zt(i),"priority",90),Gt(Zt(i),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),i}return Yi(t,[{key:"parse",value:function(r,s,a){var o=function(u){return u===0?7:u};switch(s){case"i":case"ii":return ba(s.length,r);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return Na(a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),o);case"iiiii":return Na(a.day(r,{width:"narrow",context:"formatting"}),o);case"iiiiii":return Na(a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),o);case"iiii":default:return Na(a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),o)}}},{key:"validate",value:function(r,s){return s>=1&&s<=7}},{key:"set",value:function(r,s,a){return r=Kbt(r,a),r.setUTCHours(0,0,0,0),r}}]),t}(Er),qbt=function(n){ur(t,n);var e=cr(t);function t(){var i;Gi(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Gt(Zt(i),"priority",80),Gt(Zt(i),"incompatibleTokens",["b","B","H","k","t","T"]),i}return Yi(t,[{key:"parse",value:function(r,s,a){switch(s){case"a":case"aa":case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,s,a){return r.setUTCHours(EX(a),0,0,0),r}}]),t}(Er),Zbt=function(n){ur(t,n);var e=cr(t);function t(){var i;Gi(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Gt(Zt(i),"priority",80),Gt(Zt(i),"incompatibleTokens",["a","B","H","k","t","T"]),i}return Yi(t,[{key:"parse",value:function(r,s,a){switch(s){case"b":case"bb":case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,s,a){return r.setUTCHours(EX(a),0,0,0),r}}]),t}(Er),Qbt=function(n){ur(t,n);var e=cr(t);function t(){var i;Gi(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Gt(Zt(i),"priority",80),Gt(Zt(i),"incompatibleTokens",["a","b","t","T"]),i}return Yi(t,[{key:"parse",value:function(r,s,a){switch(s){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,s,a){return r.setUTCHours(EX(a),0,0,0),r}}]),t}(Er),Jbt=function(n){ur(t,n);var e=cr(t);function t(){var i;Gi(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Gt(Zt(i),"priority",70),Gt(Zt(i),"incompatibleTokens",["H","K","k","t","T"]),i}return Yi(t,[{key:"parse",value:function(r,s,a){switch(s){case"h":return ta($a.hour12h,r);case"ho":return a.ordinalNumber(r,{unit:"hour"});default:return ba(s.length,r)}}},{key:"validate",value:function(r,s){return s>=1&&s<=12}},{key:"set",value:function(r,s,a){var o=r.getUTCHours()>=12;return o&&a<12?r.setUTCHours(a+12,0,0,0):!o&&a===12?r.setUTCHours(0,0,0,0):r.setUTCHours(a,0,0,0),r}}]),t}(Er),e0t=function(n){ur(t,n);var e=cr(t);function t(){var i;Gi(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Gt(Zt(i),"priority",70),Gt(Zt(i),"incompatibleTokens",["a","b","h","K","k","t","T"]),i}return Yi(t,[{key:"parse",value:function(r,s,a){switch(s){case"H":return ta($a.hour23h,r);case"Ho":return a.ordinalNumber(r,{unit:"hour"});default:return ba(s.length,r)}}},{key:"validate",value:function(r,s){return s>=0&&s<=23}},{key:"set",value:function(r,s,a){return r.setUTCHours(a,0,0,0),r}}]),t}(Er),t0t=function(n){ur(t,n);var e=cr(t);function t(){var i;Gi(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Gt(Zt(i),"priority",70),Gt(Zt(i),"incompatibleTokens",["h","H","k","t","T"]),i}return Yi(t,[{key:"parse",value:function(r,s,a){switch(s){case"K":return ta($a.hour11h,r);case"Ko":return a.ordinalNumber(r,{unit:"hour"});default:return ba(s.length,r)}}},{key:"validate",value:function(r,s){return s>=0&&s<=11}},{key:"set",value:function(r,s,a){var o=r.getUTCHours()>=12;return o&&a<12?r.setUTCHours(a+12,0,0,0):r.setUTCHours(a,0,0,0),r}}]),t}(Er),n0t=function(n){ur(t,n);var e=cr(t);function t(){var i;Gi(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Gt(Zt(i),"priority",70),Gt(Zt(i),"incompatibleTokens",["a","b","h","H","K","t","T"]),i}return Yi(t,[{key:"parse",value:function(r,s,a){switch(s){case"k":return ta($a.hour24h,r);case"ko":return a.ordinalNumber(r,{unit:"hour"});default:return ba(s.length,r)}}},{key:"validate",value:function(r,s){return s>=1&&s<=24}},{key:"set",value:function(r,s,a){var o=a<=24?a%24:a;return r.setUTCHours(o,0,0,0),r}}]),t}(Er),i0t=function(n){ur(t,n);var e=cr(t);function t(){var i;Gi(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Gt(Zt(i),"priority",60),Gt(Zt(i),"incompatibleTokens",["t","T"]),i}return Yi(t,[{key:"parse",value:function(r,s,a){switch(s){case"m":return ta($a.minute,r);case"mo":return a.ordinalNumber(r,{unit:"minute"});default:return ba(s.length,r)}}},{key:"validate",value:function(r,s){return s>=0&&s<=59}},{key:"set",value:function(r,s,a){return r.setUTCMinutes(a,0,0),r}}]),t}(Er),r0t=function(n){ur(t,n);var e=cr(t);function t(){var i;Gi(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Gt(Zt(i),"priority",50),Gt(Zt(i),"incompatibleTokens",["t","T"]),i}return Yi(t,[{key:"parse",value:function(r,s,a){switch(s){case"s":return ta($a.second,r);case"so":return a.ordinalNumber(r,{unit:"second"});default:return ba(s.length,r)}}},{key:"validate",value:function(r,s){return s>=0&&s<=59}},{key:"set",value:function(r,s,a){return r.setUTCSeconds(a,0),r}}]),t}(Er),s0t=function(n){ur(t,n);var e=cr(t);function t(){var i;Gi(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Gt(Zt(i),"priority",30),Gt(Zt(i),"incompatibleTokens",["t","T"]),i}return Yi(t,[{key:"parse",value:function(r,s){var a=function(l){return Math.floor(l*Math.pow(10,-s.length+3))};return Na(ba(s.length,r),a)}},{key:"set",value:function(r,s,a){return r.setUTCMilliseconds(a),r}}]),t}(Er),a0t=function(n){ur(t,n);var e=cr(t);function t(){var i;Gi(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Gt(Zt(i),"priority",10),Gt(Zt(i),"incompatibleTokens",["t","T","x"]),i}return Yi(t,[{key:"parse",value:function(r,s){switch(s){case"X":return Mp(Pp.basicOptionalMinutes,r);case"XX":return Mp(Pp.basic,r);case"XXXX":return Mp(Pp.basicOptionalSeconds,r);case"XXXXX":return Mp(Pp.extendedOptionalSeconds,r);case"XXX":default:return Mp(Pp.extended,r)}}},{key:"set",value:function(r,s,a){return s.timestampIsSet?r:new Date(r.getTime()-a)}}]),t}(Er),o0t=function(n){ur(t,n);var e=cr(t);function t(){var i;Gi(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Gt(Zt(i),"priority",10),Gt(Zt(i),"incompatibleTokens",["t","T","X"]),i}return Yi(t,[{key:"parse",value:function(r,s){switch(s){case"x":return Mp(Pp.basicOptionalMinutes,r);case"xx":return Mp(Pp.basic,r);case"xxxx":return Mp(Pp.basicOptionalSeconds,r);case"xxxxx":return Mp(Pp.extendedOptionalSeconds,r);case"xxx":default:return Mp(Pp.extended,r)}}},{key:"set",value:function(r,s,a){return s.timestampIsSet?r:new Date(r.getTime()-a)}}]),t}(Er),l0t=function(n){ur(t,n);var e=cr(t);function t(){var i;Gi(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Gt(Zt(i),"priority",40),Gt(Zt(i),"incompatibleTokens","*"),i}return Yi(t,[{key:"parse",value:function(r){return s1e(r)}},{key:"set",value:function(r,s,a){return[new Date(a*1e3),{timestampIsSet:!0}]}}]),t}(Er),u0t=function(n){ur(t,n);var e=cr(t);function t(){var i;Gi(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Gt(Zt(i),"priority",20),Gt(Zt(i),"incompatibleTokens","*"),i}return Yi(t,[{key:"parse",value:function(r){return s1e(r)}},{key:"set",value:function(r,s,a){return[new Date(a),{timestampIsSet:!0}]}}]),t}(Er),c0t={G:new kbt,y:new Obt,Y:new Pbt,R:new Mbt,u:new Ibt,Q:new Rbt,q:new Dbt,M:new Lbt,L:new Fbt,w:new $bt,I:new jbt,d:new Vbt,D:new Wbt,E:new Ubt,e:new Gbt,c:new Ybt,i:new Xbt,a:new qbt,b:new Zbt,B:new Qbt,h:new Jbt,H:new e0t,K:new t0t,k:new n0t,m:new i0t,s:new r0t,S:new s0t,X:new a0t,x:new o0t,t:new l0t,T:new u0t},d0t=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,h0t=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,f0t=/^'([^]*?)'?$/,p0t=/''/g,g0t=/\S/,m0t=/[a-zA-Z]/;function l1e(n,e,t,i){var r,s,a,o,l,u,c,d,h,f,p,g,m,v,_,y,x,w;li(3,arguments);var T=String(n),E=String(e),A=A1(),k=(r=(s=i==null?void 0:i.locale)!==null&&s!==void 0?s:A.locale)!==null&&r!==void 0?r:JCe;if(!k.match)throw new RangeError("locale must contain match property");var P=fs((a=(o=(l=(u=i==null?void 0:i.firstWeekContainsDate)!==null&&u!==void 0?u:i==null||(c=i.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:A.firstWeekContainsDate)!==null&&o!==void 0?o:(h=A.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(P>=1&&P<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var I=fs((p=(g=(m=(v=i==null?void 0:i.weekStartsOn)!==null&&v!==void 0?v:i==null||(_=i.locale)===null||_===void 0||(y=_.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&m!==void 0?m:A.weekStartsOn)!==null&&g!==void 0?g:(x=A.locale)===null||x===void 0||(w=x.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&p!==void 0?p:0);if(!(I>=0&&I<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(E==="")return T===""?Ai(t):new Date(NaN);var D={firstWeekContainsDate:P,weekStartsOn:I,locale:k},L=[new Abt],B=E.match(h0t).map(function(ue){var oe=ue[0];if(oe in J6){var re=J6[oe];return re(ue,k.formatLong)}return ue}).join("").match(d0t),F=[],$=Zoe(B),z;try{var N=function(){var oe=z.value;!(i!=null&&i.useAdditionalWeekYearTokens)&&QCe(oe)&&KL(oe,E,n),!(i!=null&&i.useAdditionalDayOfYearTokens)&&ZCe(oe)&&KL(oe,E,n);var re=oe[0],fe=c0t[re];if(fe){var ve=fe.incompatibleTokens;if(Array.isArray(ve)){var xe=F.find(function(Ee){return ve.includes(Ee.token)||Ee.token===re});if(xe)throw new RangeError("The format string mustn't contain `".concat(xe.fullToken,"` and `").concat(oe,"` at the same time"))}else if(fe.incompatibleTokens==="*"&&F.length>0)throw new RangeError("The format string mustn't contain `".concat(oe,"` and any other token at the same time"));F.push({token:re,fullToken:oe});var ye=fe.run(T,oe,k.match,D);if(!ye)return{v:new Date(NaN)};L.push(ye.setter),T=ye.rest}else{if(re.match(m0t))throw new RangeError("Format string contains an unescaped latin alphabet character `"+re+"`");if(oe==="''"?oe="'":re==="'"&&(oe=v0t(oe)),T.indexOf(oe)===0)T=T.slice(oe.length);else return{v:new Date(NaN)}}};for($.s();!(z=$.n()).done;){var V=N();if(sg(V)==="object")return V.v}}catch(ue){$.e(ue)}finally{$.f()}if(T.length>0&&g0t.test(T))return new Date(NaN);var H=L.map(function(ue){return ue.priority}).sort(function(ue,oe){return oe-ue}).filter(function(ue,oe,re){return re.indexOf(ue)===oe}).map(function(ue){return L.filter(function(oe){return oe.priority===ue}).sort(function(oe,re){return re.subPriority-oe.subPriority})}).map(function(ue){return ue[0]}),K=Ai(t);if(isNaN(K.getTime()))return new Date(NaN);var U=GCe(K,UCe(K)),X={},Z=Zoe(H),Q;try{for(Z.s();!(Q=Z.n()).done;){var se=Q.value;if(!se.validate(U,D))return new Date(NaN);var ae=se.set(U,X,D);Array.isArray(ae)?(U=ae[0],vbt(X,ae[1])):U=ae}}catch(ue){Z.e(ue)}finally{Z.f()}return U}function v0t(n){return n.match(f0t)[1].replace(p0t,"'")}function Qoe(n){li(1,arguments);var e=Ai(n);return e.setMilliseconds(0),e}function Joe(n,e){li(2,arguments);var t=Qoe(n),i=Qoe(e);return t.getTime()===i.getTime()}function y0t(n,e){li(2,arguments);var t=Ai(n).getTime(),i=Ai(e.start).getTime(),r=Ai(e.end).getTime();if(!(i<=r))throw new RangeError("Invalid interval");return t>=i&&t<=r}function hh(n,e){var t;li(1,arguments);var i=fs((t=void 0)!==null&&t!==void 0?t:2);if(i!==2&&i!==1&&i!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof n=="string"||Object.prototype.toString.call(n)==="[object String]"))return new Date(NaN);var r=x0t(n),s;if(r.date){var a=w0t(r.date,i);s=C0t(a.restDateString,a.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var o=s.getTime(),l=0,u;if(r.time&&(l=T0t(r.time),isNaN(l)))return new Date(NaN);if(r.timezone){if(u=E0t(r.timezone),isNaN(u))return new Date(NaN)}else{var c=new Date(o+l),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(o+l+u)}var GR={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},_0t=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,b0t=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,S0t=/^([+-])(\d{2})(?::?(\d{2}))?$/;function x0t(n){var e={},t=n.split(GR.dateTimeDelimiter),i;if(t.length>2)return e;if(/:/.test(t[0])?i=t[0]:(e.date=t[0],i=t[1],GR.timeZoneDelimiter.test(e.date)&&(e.date=n.split(GR.timeZoneDelimiter)[0],i=n.substr(e.date.length,n.length))),i){var r=GR.timezone.exec(i);r?(e.time=i.replace(r[1],""),e.timezone=r[1]):e.time=i}return e}function w0t(n,e){var t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),i=n.match(t);if(!i)return{year:NaN,restDateString:""};var r=i[1]?parseInt(i[1]):null,s=i[2]?parseInt(i[2]):null;return{year:s===null?r:s*100,restDateString:n.slice((i[1]||i[2]).length)}}function C0t(n,e){if(e===null)return new Date(NaN);var t=n.match(_0t);if(!t)return new Date(NaN);var i=!!t[4],r=KT(t[1]),s=KT(t[2])-1,a=KT(t[3]),o=KT(t[4]),l=KT(t[5])-1;if(i)return M0t(e,o,l)?A0t(e,o,l):new Date(NaN);var u=new Date(0);return!O0t(e,s,a)||!P0t(e,r)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(r,a)),u)}function KT(n){return n?parseInt(n):1}function T0t(n){var e=n.match(b0t);if(!e)return NaN;var t=OV(e[1]),i=OV(e[2]),r=OV(e[3]);return I0t(t,i,r)?t*wX+i*xX+r*1e3:NaN}function OV(n){return n&&parseFloat(n.replace(",","."))||0}function E0t(n){if(n==="Z")return 0;var e=n.match(S0t);if(!e)return 0;var t=e[1]==="+"?-1:1,i=parseInt(e[2]),r=e[3]&&parseInt(e[3])||0;return R0t(i,r)?t*(i*wX+r*xX):NaN}function A0t(n,e,t){var i=new Date(0);i.setUTCFullYear(n,0,4);var r=i.getUTCDay()||7,s=(e-1)*7+t+1-r;return i.setUTCDate(i.getUTCDate()+s),i}var k0t=[31,null,31,30,31,30,31,31,30,31,30,31];function u1e(n){return n%400===0||n%4===0&&n%100!==0}function O0t(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(k0t[e]||(u1e(n)?29:28))}function P0t(n,e){return e>=1&&e<=(u1e(n)?366:365)}function M0t(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function I0t(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function R0t(n,e){return e>=0&&e<=59}function wb(n,e){li(2,arguments);var t=Ai(n),i=fs(e),r=t.getFullYear(),s=t.getDate(),a=new Date(0);a.setFullYear(r,i,15),a.setHours(0,0,0,0);var o=e1e(a);return t.setMonth(i,Math.min(s,o)),t}function c1e(n,e){if(li(2,arguments),sg(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var t=Ai(n);return isNaN(t.getTime())?new Date(NaN):(e.year!=null&&t.setFullYear(e.year),e.month!=null&&(t=wb(t,e.month)),e.date!=null&&t.setDate(fs(e.date)),e.hours!=null&&t.setHours(fs(e.hours)),e.minutes!=null&&t.setMinutes(fs(e.minutes)),e.seconds!=null&&t.setSeconds(fs(e.seconds)),e.milliseconds!=null&&t.setMilliseconds(fs(e.milliseconds)),t)}function eG(n,e){li(2,arguments);var t=Ai(n),i=fs(e);return isNaN(t.getTime())?new Date(NaN):(t.setFullYear(i),t)}function D0t(n,e){li(2,arguments);var t=fs(e);return oy(n,-t)}function L0t(n,e){li(2,arguments);var t=fs(e);return YL(n,-t)}function F0t(n,e,t){li(2,arguments);var i=Lm(n,t),r=Lm(e,t);return i.getTime()===r.getTime()}var B0t={lessThanXSeconds:{one:" 1 ",other:" {{count}} "},xSeconds:{one:"1 ",other:"{{count}} "},halfAMinute:"",lessThanXMinutes:{one:" 1 ",other:" {{count}} "},xMinutes:{one:"1 ",other:"{{count}} "},xHours:{one:"1 ",other:"{{count}} "},aboutXHours:{one:" 1 ",other:" {{count}} "},xDays:{one:"1 ",other:"{{count}} "},aboutXWeeks:{one:" 1 ",other:" {{count}} "},xWeeks:{one:"1 ",other:"{{count}} "},aboutXMonths:{one:" 1 ",other:" {{count}} "},xMonths:{one:"1 ",other:"{{count}} "},aboutXYears:{one:" 1 ",other:" {{count}} "},xYears:{one:"1 ",other:"{{count}} "},overXYears:{one:" 1 ",other:" {{count}} "},almostXYears:{one:" 1 ",other:" {{count}} "}},$0t=function(e,t,i){var r,s=B0t[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",String(t)),i!=null&&i.addSuffix?i.comparison&&i.comparison>0?r+"":r+"":r},N0t={full:"y''M''d'' EEEE",long:"y''M''d''",medium:"yyyy-MM-dd",short:"yy-MM-dd"},j0t={full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},z0t={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},H0t={date:kw({formats:N0t,defaultWidth:"full"}),time:kw({formats:j0t,defaultWidth:"full"}),dateTime:kw({formats:z0t,defaultWidth:"full"})};function ele(n,e,t){var i="eeee p";return F0t(n,e,t)?i:n.getTime()>e.getTime()?"''"+i:"''"+i}var V0t={lastWeek:ele,yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:ele,other:"PP p"},W0t=function(e,t,i,r){var s=V0t[e];return typeof s=="function"?s(t,i,r):s},U0t={narrow:["",""],abbreviated:["",""],wide:["",""]},G0t={narrow:["1","2","3","4"],abbreviated:["","","",""],wide:["","","",""]},Y0t={narrow:["","","","","","","","","","","",""],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["","","","","","","","","","","",""]},K0t={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},X0t={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},q0t={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},Z0t=function(e,t){var i=Number(e);switch(t==null?void 0:t.unit){case"date":return i.toString()+"";case"hour":return i.toString()+"";case"minute":return i.toString()+"";case"second":return i.toString()+"";default:return" "+i.toString()}},Q0t={ordinalNumber:Z0t,era:kp({values:U0t,defaultWidth:"wide"}),quarter:kp({values:G0t,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:kp({values:Y0t,defaultWidth:"wide"}),day:kp({values:K0t,defaultWidth:"wide"}),dayPeriod:kp({values:X0t,defaultWidth:"wide",formattingValues:q0t,defaultFormattingWidth:"wide"})},J0t=/^(\s*)?\d+(|||)?/i,eSt=/\d+/i,tSt={narrow:/^()/i,abbreviated:/^()/i,wide:/^(|)/i},nSt={any:[/^()/i,/^()/i]},iSt={narrow:/^[1234]/i,abbreviated:/^[]/i,wide:/^[]/i},rSt={any:[/(1|)/i,/(2|)/i,/(3|)/i,/(4|)/i]},sSt={narrow:/^(|||||||||[])/i,abbreviated:/^(|||||||||[]|\d|1[12])/i,wide:/^(|||||||||[])/i},aSt={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^(?!(|))/i,/^/i,/^/i],any:[/^|1/i,/^|2/i,/^|3/i,/^|4/i,/^|5/i,/^|6/i,/^|7/i,/^|8/i,/^|9/i,/^(?!(|))|10/i,/^|11/i,/^|12/i]},oSt={narrow:/^[]/i,short:/^[]/i,abbreviated:/^[]/i,wide:/^[]/i},lSt={any:[//i,//i,//i,//i,//i,//i,//i]},uSt={any:/^(?|?||[]|?||?||)/i},cSt={any:{am:/^?/i,pm:/^?/i,midnight:/^/i,noon:/^[]/i,morning:/^/i,afternoon:/^/i,evening:/^?/i,night:/^/i}},dSt={ordinalNumber:WCe({matchPattern:J0t,parsePattern:eSt,valueCallback:function(e){return parseInt(e,10)}}),era:Op({matchPatterns:tSt,defaultMatchWidth:"wide",parsePatterns:nSt,defaultParseWidth:"any"}),quarter:Op({matchPatterns:iSt,defaultMatchWidth:"wide",parsePatterns:rSt,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Op({matchPatterns:sSt,defaultMatchWidth:"wide",parsePatterns:aSt,defaultParseWidth:"any"}),day:Op({matchPatterns:oSt,defaultMatchWidth:"wide",parsePatterns:lSt,defaultParseWidth:"any"}),dayPeriod:Op({matchPatterns:uSt,defaultMatchWidth:"any",parsePatterns:cSt,defaultParseWidth:"any"})},kX={code:"zh-CN",formatDistance:$0t,formatLong:H0t,formatRelative:W0t,localize:Q0t,match:dSt,options:{weekStartsOn:1,firstWeekContainsDate:4}};const tle={code:"zh-CN",currency:"CNY",dateFnsLocale:kX,Pagination:{pageSize:"${pageSize}",total:"${total}",jumpTo:"",page:""},Modal:{confirm:"",cancel:""},Tabs:{more:""},TimePicker:{placeholder:{time:"",timeRange:""},begin:"",end:"",hour:"",minute:"",second:"",AM:"",PM:""},DatePicker:{placeholder:{date:"",dateTime:"",dateRange:["",""],dateTimeRange:["",""],monthRange:["",""]},presets:"",footer:{confirm:"",cancel:""},selectDate:"",selectTime:"",year:"",month:"",day:"",monthText:"${year} ${month}",months:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},fullMonths:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},weeks:{Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",Sun:""},localeFormatToken:{FORMAT_SWITCH_DATE:"yyyy-MM-dd"}},Navigation:{collapseText:"",expandText:""},Popconfirm:{confirm:"",cancel:""},Table:{emptyText:"",pageText:" ${currentStart} - ${currentEnd}  ${total} ",descend:"",ascend:"",cancelSort:""},Select:{emptyText:"",createText:""},Cascader:{emptyText:""},Tree:{emptyText:"",searchPlaceholder:""},List:{emptyText:""},Calendar:{allDay:"",AM:"${time}",PM:"${time}",datestring:"",remaining:"${remained}"},Upload:{mainText:"",illegalTips:"",legalTips:"",retry:"",replace:"",clear:"",selectedFiles:"",illegalSize:"",fail:""},TreeSelect:{searchPlaceholder:""},Typography:{copy:"",copied:"",expand:"",collapse:""},Transfer:{emptyLeft:"",emptySearch:"",emptyRight:"",placeholder:"",clear:"",selectAll:"",clearSelectAll:"",total:"${total}",selected:"${total}"},Form:{optional:""},Image:{preview:"",loading:"",loadError:"",prevTip:"",nextTip:"",zoomInTip:"",zoomOutTip:"",rotateTip:"",downloadTip:"",adaptiveTip:"",originTip:""},Chat:{deleteConfirm:"",clearContext:"",copySuccess:"",stop:"",copy:"",copied:"",dropAreaText:""},UserGuide:{skip:"",next:"",prev:"",finish:""},InputNumber:{},JsonViewer:{search:"",replace:"",replaceAll:""},VideoPlayer:{rateChange:" ${rate}",qualityChange:"${quality}",routeChange:"${route}",mirror:"",cancelMirror:"",loading:"...",stall:"",noResource:"",videoError:""},AIChatDialogue:{delete:"",deleteConfirm:"",deleteContent:"",copySuccess:"",loading:"...",reasoning:{completed:"",thinking:"..."},annotationText:""},Feedback:{submit:"",cancel:""},AIChatInput:{template:"",configure:"",selected:" ${count} "}};class Qr extends q.Component{renderChildren(e,t){const{componentName:i}=this.props;let r=e;e!=null&&e.code||(r=tle);const s=Ce(tle,"dateFnsLocale"),a=Ce(r,"dateFnsLocale",s),o=Ce(r,"currency");return t(r[i],r.code,a,o)}render(){const{children:e}=this.props;return M.createElement(Ql.Consumer,null,t=>{let{locale:i}=t;return M.createElement(y_t.Consumer,null,r=>this.renderChildren(i||r,e))})}}Qr.propTypes={componentName:S.string.isRequired,children:S.any};Qr.defaultProps={componentName:""};const hSt="semi";var fSt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const d1e=M.forwardRef((n,e)=>{const{svg:t,spin:i=!1,rotate:r,style:s,className:a,prefixCls:o=hSt,type:l,size:u="default",fill:c}=n,d=fSt(n,["svg","spin","rotate","style","className","prefixCls","type","size","fill"]),h=le(`${o}-icon`,{[`${o}-icon-extra-small`]:u==="extra-small",[`${o}-icon-small`]:u==="small",[`${o}-icon-default`]:u==="default",[`${o}-icon-large`]:u==="large",[`${o}-icon-extra-large`]:u==="extra-large",[`${o}-icon-spinning`]:i===!0,[`${o}-icon-${l}`]:!!l},a),f={};return Number.isSafeInteger(r)&&(f.transform=`rotate(${r}deg)`),Object.assign(f,s),M.createElement("span",Object.assign({role:"img",ref:e,"aria-label":l,className:h,style:f},d),c?M.cloneElement(t,{fill:c}):t)});d1e.elementType="Icon";const ui=(n,e)=>{const t=M.forwardRef((i,r)=>M.createElement(d1e,Object.assign({svg:M.createElement(n),type:e,ref:r},i)));return t.elementType="Icon",t};function pSt(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{prefix:e="",length:t=7}=n,i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ",r=i.length;let s="";for(let a=0;a<t;a++){const o=Math.floor(Math.random()*r);s+=i.charAt(o)}return e?`${e}-${s}`:s}function gSt(n,e){if(typeof n=="string")return new Array(e).fill(n);if(Array.isArray(n)){const t=n.length;let i=n;if(t<e){let r=0;for(i=[];r<e;)i.push(n[r%t]),r++;return i}else t>e&&(i=n.slice(0,e));return i.reverse()}return["rgba(233,69,255)","rgba(166,71,255)","rgba(107,97,255)","rgba(46,140,255)"]}var mSt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function vSt(n){const{fill:e}=n,t=mSt(n,["fill"]),i=pSt({prefix:"semi-ai-loading"}),[r,s,a,o]=gSt(e,4);return q.createElement("svg",Object.assign({viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,"aria-hidden":!0},t),q.createElement("path",{d:"M15.1112 7.99978C15.1112 4.07242 11.9275 0.888672 8.00009 0.888672C5.18219 0.888672 2.74711 2.52771 1.59619 4.90445",stroke:`url(#${i})`,strokeWidth:"1.77778",strokeLinecap:"round"}),q.createElement("defs",null,q.createElement("linearGradient",{id:i,x1:"16",y1:"8",x2:"2.68594",y2:"11.022",gradientUnits:"userSpaceOnUse"},q.createElement("stop",{stopColor:r}),q.createElement("stop",{offset:"0.3",stopColor:s}),q.createElement("stop",{offset:"0.6",stopColor:a}),q.createElement("stop",{offset:"1",stopColor:o,stopOpacity:"0"}))))}const ySt=ui(vSt,"ai_loading");function _St(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 12a11 11 0 1 1-22 0 11 11 0 0 1 22 0Zm-9.5 5.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0ZM12 5a1.9 1.9 0 0 0-1.89 2l.3 5.5a1.59 1.59 0 0 0 3.17 0l.3-5.5c.07-1.09-.8-2-1.88-2Z",fill:"currentColor"}))}const JL=ui(_St,"alert_circle");function bSt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m10.23 2.4-8.7 16.67A2 2 0 0 0 3.3 22h17.4a2 2 0 0 0 1.77-2.93L13.77 2.4a2 2 0 0 0-3.54 0ZM13.14 14a1.15 1.15 0 0 1-2.28 0l-.58-4.03a1.73 1.73 0 1 1 3.44 0l-.58 4.03Zm.36 4.49a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z",fill:"currentColor"}))}const h1e=ui(bSt,"alert_triangle");function SSt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{d:"M2 4.5C2 3.67 2.67 3 3.5 3h6a1.5 1.5 0 0 1 0 3h-6A1.5 1.5 0 0 1 2 4.5Z",fill:"currentColor"}),q.createElement("path",{d:"M2 12c0-.83.67-1.5 1.5-1.5h11a1.5 1.5 0 0 1 0 3h-11A1.5 1.5 0 0 1 2 12Z",fill:"currentColor"}),q.createElement("path",{d:"M2 19.5c0-.83.67-1.5 1.5-1.5h17a1.5 1.5 0 0 1 0 3h-17A1.5 1.5 0 0 1 2 19.5Z",fill:"currentColor"}))}const f1e=ui(SSt,"ascend");function xSt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 20V8h16v12H4ZM2 4c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm4 6.5c0-.28.22-.5.5-.5h2c.28 0 .5.22.5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2Zm.5 4.5a.5.5 0 0 0-.5.5v2c0 .28.22.5.5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5h-2Zm4-4.5c0-.28.22-.5.5-.5h2c.28 0 .5.22.5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2ZM11 15a.5.5 0 0 0-.5.5v2c0 .28.22.5.5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5h-2Zm4-4.5c0-.28.22-.5.5-.5h2c.28 0 .5.22.5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2Zm.5 4.5a.5.5 0 0 0-.5.5v2c0 .28.22.5.5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5h-2Z",fill:"currentColor"}))}const p1e=ui(xSt,"calendar");function wSt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{d:"M2 5v14a3 3 0 0 0 3 3h7.1a7.02 7.02 0 0 1-1.43-2H6a2 2 0 0 1-2-2V8a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2.67c.75.36 1.43.85 2 1.43V5a3 3 0 0 0-3-3H5a3 3 0 0 0-3 3Z",fill:"currentColor"}),q.createElement("path",{d:"M16 10h1c-.54 0-1.06.06-1.57.18A1 1 0 0 1 16 10Z",fill:"currentColor"}),q.createElement("path",{d:"M13.5 10.94a1 1 0 0 0-1-.94h-1a1 1 0 0 0-1 1v1a1 1 0 0 0 .77.97 7.03 7.03 0 0 1 2.23-2.03Z",fill:"currentColor"}),q.createElement("path",{d:"M7 10a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1v-1a1 1 0 0 0-1-1H7Z",fill:"currentColor"}),q.createElement("path",{d:"M6 16a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1v-1Z",fill:"currentColor"}),q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22 17a5 5 0 1 1-10 0 5 5 0 0 1 10 0Zm-4-2a1 1 0 1 0-2 0v2c0 .27.1.52.3.7l1.5 1.5a1 1 0 0 0 1.4-1.4L18 16.58V15Z",fill:"currentColor"}))}const CSt=ui(wSt,"calendar_clock");function TSt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{d:"m17.55 15.66-4.8 5.48a1 1 0 0 1-1.5 0l-4.8-5.48A1 1 0 0 1 7.2 14h9.6a1 1 0 0 1 .75 1.66Z",fill:"currentColor"}))}const ESt=ui(TSt,"caretdown");function ASt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{d:"m6.45 8.34 4.8-5.48a1 1 0 0 1 1.5 0l4.8 5.48A1 1 0 0 1 16.8 10H7.2a1 1 0 0 1-.75-1.66Z",fill:"currentColor"}))}const kSt=ui(ASt,"caretup");function OSt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{d:"M5 12.5c0-.83.67-1.5 1.5-1.5h11a1.5 1.5 0 0 1 0 3h-11A1.5 1.5 0 0 1 5 12.5Z",fill:"currentColor"}))}const PSt=ui(OSt,"checkbox_indeterminate");function MSt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.41 7.3c.66.51.78 1.45.28 2.11l-6.5 8.5a1.5 1.5 0 0 1-2.37.01l-3.5-4.5a1.5 1.5 0 1 1 2.36-1.84L10 14.54l5.32-6.95a1.5 1.5 0 0 1 2.1-.28Z",fill:"currentColor"}))}const ISt=ui(MSt,"checkbox_tick");function RSt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.08 7.6a1.5 1.5 0 0 1 2.12 0l5.66 5.65 5.66-5.65a1.5 1.5 0 1 1 2.12 2.12l-6.72 6.72a1.5 1.5 0 0 1-2.12 0L4.08 9.72a1.5 1.5 0 0 1 0-2.12Z",fill:"currentColor"}))}const k1=ui(RSt,"chevron_down");function DSt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.28 4.24a1.5 1.5 0 0 1 0 2.12l-5.66 5.66 5.66 5.65a1.5 1.5 0 1 1-2.12 2.13l-6.72-6.72a1.5 1.5 0 0 1 0-2.12l6.72-6.72a1.5 1.5 0 0 1 2.12 0Z",fill:"currentColor"}))}const nj=ui(DSt,"chevron_left");function LSt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.44 19.8a1.5 1.5 0 0 1 0-2.13l5.66-5.65-5.66-5.66a1.5 1.5 0 1 1 2.12-2.12l6.72 6.72a1.5 1.5 0 0 1 0 2.12L9.56 19.8a1.5 1.5 0 0 1-2.12 0Z",fill:"currentColor"}))}const UP=ui(LSt,"chevron_right");function FSt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.64 16.44a1.5 1.5 0 0 1-2.12 0l-5.66-5.66-5.66 5.66a1.5 1.5 0 1 1-2.12-2.12L10.8 7.6a1.5 1.5 0 0 1 2.12 0l6.72 6.72a1.5 1.5 0 0 1 0 2.12Z",fill:"currentColor"}))}const BSt=ui(FSt,"chevron_up");function $St(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm5.04-6.14a1.5 1.5 0 0 1-2.13.04l-2.87-2.78L9.26 17A1.5 1.5 0 0 1 7.1 14.9l2.78-2.87L7 9.26A1.5 1.5 0 1 1 9.1 7.1l2.87 2.78L14.74 7A1.5 1.5 0 0 1 16.9 9.1l-2.78 2.87L17 14.74c.6.58.61 1.53.04 2.12Z",fill:"currentColor"}))}const e_=ui($St,"clear");function NSt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm1.5-16.5v4.88l3.56 3.56a1.5 1.5 0 0 1-2.12 2.12l-4-4A1.5 1.5 0 0 1 10.5 12V6.5a1.5 1.5 0 0 1 3 0Z",fill:"currentColor"}))}const g1e=ui(NSt,"clock");function jSt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{d:"M17.66 19.78a1.5 1.5 0 0 0 2.12-2.12L14.12 12l5.66-5.66a1.5 1.5 0 0 0-2.12-2.12L12 9.88 6.34 4.22a1.5 1.5 0 1 0-2.12 2.12L9.88 12l-5.66 5.66a1.5 1.5 0 0 0 2.12 2.12L12 14.12l5.66 5.66Z",fill:"currentColor"}))}const ij=ui(jSt,"close");function zSt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{d:"M7 4c0-1.1.9-2 2-2h11a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2h-1V8c0-2-1-3-3-3H7V4Z",fill:"currentColor"}),q.createElement("path",{d:"M5 7a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2H5Z",fill:"currentColor"}))}const HSt=ui(zSt,"copy");function VSt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("g",{opacity:.99},q.createElement("path",{d:"M2 19.5c0-.83.67-1.5 1.5-1.5h6a1.5 1.5 0 0 1 0 3h-6A1.5 1.5 0 0 1 2 19.5Z",fill:"currentColor"}),q.createElement("path",{d:"M2 12c0-.83.67-1.5 1.5-1.5h11a1.5 1.5 0 0 1 0 3h-11A1.5 1.5 0 0 1 2 12Z",fill:"currentColor"}),q.createElement("path",{d:"M2 4.5C2 3.67 2.67 3 3.5 3h17a1.5 1.5 0 0 1 0 3h-17A1.5 1.5 0 0 1 2 4.5Z",fill:"currentColor"})))}const m1e=ui(VSt,"descend");function WSt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.62 4.4c.5.53.5 1.38 0 1.91L7.14 12l5.48 5.69c.5.53.5 1.38 0 1.91-.51.53-1.33.53-1.84 0l-6.4-6.64a1.4 1.4 0 0 1 0-1.92l6.4-6.64c.5-.53 1.33-.53 1.84 0Z",fill:"currentColor"}),q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.62 4.4c.5.53.5 1.38 0 1.91L14.14 12l5.48 5.69c.5.53.5 1.38 0 1.91-.51.53-1.34.53-1.84 0l-6.4-6.64a1.4 1.4 0 0 1 0-1.92l6.4-6.64c.5-.53 1.33-.53 1.84 0Z",fill:"currentColor"}))}const USt=ui(WSt,"double_chevron_left");function GSt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.38 4.4c.51-.53 1.34-.53 1.84 0l6.4 6.64c.5.53.5 1.39 0 1.92l-6.4 6.64c-.5.53-1.33.53-1.84 0a1.4 1.4 0 0 1 0-1.91L9.86 12 4.38 6.31a1.4 1.4 0 0 1 0-1.91Z",fill:"currentColor"}),q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.38 4.4c.51-.53 1.33-.53 1.84 0l6.4 6.64c.5.53.5 1.39 0 1.92l-6.4 6.64c-.5.53-1.33.53-1.84 0a1.4 1.4 0 0 1 0-1.91L16.86 12l-5.48-5.69a1.4 1.4 0 0 1 0-1.91Z",fill:"currentColor"}))}const YSt=ui(GSt,"double_chevron_right");function KSt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.7 3.7a1 1 0 0 0-1.4-1.4L17.3 5.26A11.59 11.59 0 0 0 12 4C5 4 1 10 1 12c0 1.18 1.38 3.73 3.94 5.64L2.3 20.3a1 1 0 1 0 1.42 1.42l18-18ZM7.84 14.77l1.46-1.47a3 3 0 0 1 4-4l1.47-1.46a5 5 0 0 0-6.93 6.93Z",fill:"currentColor"}),q.createElement("path",{d:"M12 20c-1.22 0-2.35-.18-3.38-.5l2.57-2.57a5 5 0 0 0 5.75-5.75l3.56-3.56C22.13 9.27 23 11.07 23 12c0 2-4 8-11 8Z",fill:"currentColor"}))}const XSt=ui(KSt,"eye_closed_solid");function qSt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4C5 4 1 10 1 12s4 8 11 8 11-6 11-8-4-8-11-8Zm5 8a5 5 0 1 1-10 0 5 5 0 0 1 10 0Zm-5 3a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z",fill:"currentColor"}))}const ZSt=ui(qSt,"eye_opened");function QSt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2a1 1 0 0 0-1-1H6a2 2 0 0 0-2 2v18c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V10a1 1 0 0 0-1-1h-5a2 2 0 0 1-2-2V2ZM7 8a1 1 0 0 1 1-1h1a1 1 0 0 1 0 2H8a1 1 0 0 1-1-1Zm0 5a1 1 0 0 1 1-1h8a1 1 0 1 1 0 2H8a1 1 0 0 1-1-1Zm1 4a1 1 0 1 0 0 2h8a1 1 0 1 0 0-2H8Zm11.07-9.5H14.5a1 1 0 0 1-1-1V1.93a.8.8 0 0 1 1.37-.56l4.76 4.76a.8.8 0 0 1-.56 1.37Z",fill:"currentColor"}))}const tG=ui(QSt,"file");function JSt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.1 2.58A1 1 0 0 1 2 2h20a1 1 0 0 1 .76 1.65l-8.2 9.18V21a1 1 0 0 1-1.44.9l-3.07-2a1 1 0 0 1-.55-.9v-6.17L1.24 3.65a1 1 0 0 1-.15-1.07Z",fill:"currentColor"}))}const dA=ui(JSt,"filter");function ext(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{d:"M5 2a3 3 0 0 0-3 3v3h20c0-2-1-4-3-4h-6.45a3 3 0 0 1-1.87-.66l-1.13-.9A2 2 0 0 0 8.3 2H5Z",fill:"currentColor"}),q.createElement("path",{d:"M22 10H2v9a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-9Z",fill:"currentColor"}))}const txt=ui(ext,"folder");function nxt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 5a3 3 0 0 1 3-3h3.3a2 2 0 0 1 1.25.44l1.13.9a3 3 0 0 0 1.87.66H18c2 0 3 2 3 4H7.53A2 2 0 0 0 5.6 9.48L2.57 20.76C2.21 20.26 2 19.66 2 19V5Zm20.17 5H9.5a2 2 0 0 0-1.92 1.44l-2.7 9.28A1 1 0 0 0 5.82 22H18.5a2 2 0 0 0 1.92-1.44l2.7-9.28a1 1 0 0 0-.95-1.28Z",fill:"currentColor"}))}const ixt=ui(nxt,"folder_open");function rxt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.37 2.9a1.5 1.5 0 0 0-2.74 0l-7.5 17a1.5 1.5 0 0 0 2.74 1.2L7.68 17h8.64l1.8 4.1a1.5 1.5 0 1 0 2.75-1.2l-7.5-17ZM15 14 12 7.22 9 14h6Z",fill:"currentColor"}))}const A2=ui(rxt,"font");function sxt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{d:"M9 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",fill:"currentColor"}),q.createElement("path",{d:"M9 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",fill:"currentColor"}),q.createElement("path",{d:"M11 19a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z",fill:"currentColor"}),q.createElement("path",{d:"M15 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",fill:"currentColor"}),q.createElement("path",{d:"M17 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z",fill:"currentColor"}),q.createElement("path",{d:"M15 21a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",fill:"currentColor"}))}const axt=ui(sxt,"handle");function oxt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m5.1 18-.6 2.17a1.45 1.45 0 0 0 2.8.77L8.1 18h4l-.6 2.17a1.45 1.45 0 0 0 2.8.77l.8-2.94h4.4a1.5 1.5 0 0 0 0-3h-3.57l1.64-6h2.93a1.5 1.5 0 0 0 0-3h-2.1l.6-2.17a1.45 1.45 0 1 0-2.8-.77L15.4 6h-4l.6-2.17a1.45 1.45 0 1 0-2.8-.77L8.4 6H4.5a1.5 1.5 0 1 0 0 3h3.08l-1.66 6H3.5a1.5 1.5 0 0 0 0 3h1.6Zm3.83-3 1.64-6h4l-1.64 6h-4Z",fill:"currentColor"}))}const v1e=ui(oxt,"hash");function lxt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm-.17-8.4c-.86 0-1.3-.53-1.3-1.23 0-1.05.53-1.72 1.74-2.64l.06-.05c.83-.62 1.4-1.06 1.4-1.85 0-.9-.83-1.4-1.76-1.4-.76 0-1.34.28-1.8.87-.33.34-.6.53-1.05.53C8.38 8.83 8 8.3 8 7.7c0-.6.34-1.22.88-1.68A5.15 5.15 0 0 1 12.28 5c2.71 0 4.62 1.34 4.62 3.64 0 1.68-1 2.5-2.2 3.31-.8.59-1.17.93-1.48 1.62-.33.6-.58 1.04-1.4 1.04Zm-.02 4.17c-.94 0-1.71-.6-1.71-1.54 0-.94.77-1.55 1.7-1.55.95 0 1.7.6 1.7 1.55 0 .93-.75 1.54-1.7 1.54Z",fill:"currentColor"}))}const uxt=ui(lxt,"help_circle");function cxt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm2-16a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm-5 3.75c0-.41.34-.75.75-.75h2.75a1 1 0 0 1 1 1v5.5h.75a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5h.75v-5h-.75a.75.75 0 0 1-.75-.75Z",fill:"currentColor"}))}const dxt=ui(cxt,"info_circle");function hxt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("g",{opacity:.99},q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 6.5a2 2 0 1 0 0-4 2 2 0 0 0 0 4ZM9.5 3a1.5 1.5 0 1 0 0 3h11a1.5 1.5 0 0 0 0-3h-11ZM8 11.5c0-.83.67-1.5 1.5-1.5h11a1.5 1.5 0 0 1 0 3h-11A1.5 1.5 0 0 1 8 11.5Zm0 7c0-.83.67-1.5 1.5-1.5h11a1.5 1.5 0 0 1 0 3h-11A1.5 1.5 0 0 1 8 18.5Zm-2-7a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm-2 9a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",fill:"currentColor"})))}const y1e=ui(hxt,"list");function fxt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 3.05a9 9 0 1 0 6.62 15.98l-6.47-6.47a.5.5 0 0 1-.15-.35V3.05Zm2 0V11h7.95A9 9 0 0 0 13 3.05ZM14.41 13l4.62 4.62A8.96 8.96 0 0 0 20.95 13H14.4ZM1 12a11 11 0 1 1 22 0 11 11 0 0 1-22 0Z",fill:"currentColor"}))}const PV=ui(fxt,"pie_chart_2_stroked");function pxt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("circle",{cx:12,cy:12,r:5,fill:"currentColor"}))}const gxt=ui(pxt,"radio");function mxt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 12a7.5 7.5 0 0 1 13.8-4.07l-2-.4a1.5 1.5 0 0 0-.6 2.94l5 1c.76.15 1.51-.3 1.74-1.04l1.5-5a1.5 1.5 0 1 0-2.88-.86l-.43 1.45A10.49 10.49 0 0 0 1.5 12a10.5 10.5 0 0 0 20.4 3.5 1.5 1.5 0 1 0-2.83-1A7.5 7.5 0 0 1 4.5 12Z",fill:"currentColor"}))}const vxt=ui(mxt,"refresh");function yxt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.5 2a8.5 8.5 0 1 0 4.86 15.48l4.08 4.08a1.5 1.5 0 1 0 2.12-2.12l-4.08-4.08A8.5 8.5 0 0 0 10.5 2ZM5 10.5a5.5 5.5 0 1 1 11 0 5.5 5.5 0 0 1-11 0Z",fill:"currentColor"}))}const _1e=ui(yxt,"search");function _xt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{d:"M10.75 1.9c.4-1.2 2.1-1.2 2.5 0l1.99 6.12h6.45a1.3 1.3 0 0 1 .77 2.37l-5.22 3.78 2 6.11c.39 1.2-1 2.2-2.02 1.46L12 17.96l-5.22 3.78c-1.02.75-2.4-.25-2.01-1.46l1.99-6.11-5.22-3.78a1.3 1.3 0 0 1 .77-2.37h6.45l2-6.12Z",fill:"currentColor"}))}const bxt=ui(_xt,"star");function Sxt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.35 4.27c.68.47.86 1.4.38 2.08l-10 14.5a1.5 1.5 0 0 1-2.33.17l-6.5-7a1.5 1.5 0 0 1 2.2-2.04l5.23 5.63 8.94-12.96a1.5 1.5 0 0 1 2.08-.38Z",fill:"currentColor"}))}const mC=ui(Sxt,"tick");function xxt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm5.88-13.18-6.2 7.6a1.5 1.5 0 0 1-2.37 0l-3.5-4a1.5 1.5 0 1 1 2.37-1.84l2.3 2.46L15.5 8a1.5 1.5 0 1 1 2.38 1.82Z",fill:"currentColor"}))}const wxt=ui(xxt,"tick_circle");function Cxt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{d:"m20.56 9.66-7.8 8.97a1 1 0 0 1-1.51 0L3.44 9.66A1 1 0 0 1 4.19 8h15.62a1 1 0 0 1 .75 1.66Z",fill:"currentColor"}))}const b1e=ui(Cxt,"tree_triangle_down");function Txt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{d:"m9.66 3.44 8.97 7.8a1 1 0 0 1 0 1.51l-8.97 7.81A1 1 0 0 1 8 19.81V4.19a1 1 0 0 1 1.66-.75Z",fill:"currentColor"}))}const Ext=ui(Txt,"tree_triangle_right");function Axt(n){return q.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.84 8.06A6.5 6.5 0 1 0 5.18 11 4.5 4.5 0 0 0 5.5 20H17a6 6 0 0 0 .84-11.94Zm-5.52.2a.5.5 0 0 0-.64 0l-5.15 4.3a.25.25 0 0 0 .16.44H10v4.5c0 .28.22.5.5.5h3a.5.5 0 0 0 .5-.5V13h3.31c.23 0 .34-.3.16-.44l-5.15-4.3Z",fill:"currentColor"}))}const kxt=ui(Axt,"upload"),Ho={BACKSPACE:8,TAB:9,ENTER:13,ESC:27,UP:38,DOWN:40},OX="Enter",S1e="Escape";function gc(n){return Ce(n,"key")===OX}const MV=qN.PREFIX;class PX extends M.PureComponent{constructor(e){super(e),this.copy=t=>{const{content:i,duration:r,onCopy:s}=this.props,a=v_t(i);s&&s(t,i,a),this.setCopied(i,r)},this.setCopied=(t,i)=>{this.setState({copied:!0,item:t}),this._timeId=setTimeout(()=>{this.resetCopied()},i*1e3)},this.resetCopied=()=>{this._timeId&&(clearTimeout(this._timeId),this._timeId=null,this.setState({copied:!1,item:""}))},this.renderSuccessTip=()=>{const{successTip:t}=this.props;return typeof t<"u"?t:M.createElement(Qr,{componentName:"Typography"},i=>M.createElement("span",null,M.createElement(mC,null),i.copied))},this.renderCopyIcon=()=>{const{icon:t}=this.props,i={role:"button",tabIndex:0,onClick:this.copy,onKeyPress:s=>gc(s)&&this.copy(s)},r=M.createElement("a",{className:`${MV}-action-copy-icon`},M.createElement(HSt,Object.assign({onClick:this.copy},i)));return M.isValidElement(t)?M.cloneElement(t,i):r},this.state={copied:!1,item:""}}componentWillUnmount(){this._timeId&&(clearTimeout(this._timeId),this._timeId=null)}render(){const{style:e,className:t,forwardRef:i,copyTip:r,render:s}=this.props,{copied:a}=this.state,o=le(t,{[`${MV}-action-copy`]:!a,[`${MV}-action-copied`]:a});return s?s(a,this.copy,this.props):M.createElement(Qr,{componentName:"Typography"},l=>M.createElement("span",{style:Object.assign({marginLeft:"4px"},e),className:o,ref:i},a?this.renderSuccessTip():M.createElement(xo,{content:typeof r<"u"?r:l.copy},this.renderCopyIcon())))}}PX.propTypes={content:S.string,onCopy:S.func,successTip:S.node,copyTip:S.node,duration:S.number,style:S.object,className:S.string,icon:S.node};PX.defaultProps={content:"",onCopy:Xr,duration:3,style:{},className:""};const x1e={PREFIX:`${nt}-popover`,ARROW:`${nt}-popover-icon-arrow`},rj={POSITION_SET:["top","topLeft","topRight","left","leftTop","leftBottom","right","rightTop","rightBottom","bottom","bottomLeft","bottomRight","leftTopOver","rightTopOver"],TRIGGER_SET:["hover","focus","click","custom","contextMenu"]},mc={ARROW_BOUNDING:Object.assign(Object.assign({},Vv.ARROW_BOUNDING),{offsetY:6,offsetX:0,height:8}),SPACING:4,SPACING_WITH_ARROW:10,DEFAULT_Z_INDEX:1030};var Oxt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const Pxt=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{position:e="",className:t,arrowStyle:i,popStyle:r}=n,s=Oxt(n,["position","className","arrowStyle","popStyle"]),a=e.indexOf("top")===0||e.indexOf("bottom")===0,o=le(t,x1e.ARROW),l=Ce(i,"borderOpacity"),u=Ce(i,"backgroundColor",Ce(r,"backgroundColor")),c=Ce(i,"borderColor",Ce(r,"borderColor")),d=Object.assign(Object.assign({},s),{width:mc.ARROW_BOUNDING.width,height:mc.ARROW_BOUNDING.height,xmlns:"http://www.w3.org/2000/svg",className:o});return a?M.createElement("svg",Object.assign({},d),M.createElement("path",{d:"M0 0.5L0 1.5C4 1.5, 5.5 3, 7.5 5S10,8 12,8S14.5 7, 16.5 5S20,1.5 24,1.5L24 0.5L0 0.5z",style:{fill:c,opacity:l}}),M.createElement("path",{d:"M0 0L0 1C4 1, 5.5 2, 7.5 4S10,7 12,7S14.5  6, 16.5 4S20,1 24,1L24 0L0 0z",style:{fill:u}})):M.createElement("svg",Object.assign({},d),M.createElement("path",{d:"M0.5 0L1.5 0C1.5 4, 3 5.5, 5 7.5S8,10 8,12S7 14.5, 5 16.5S1.5,20 1.5,24L0.5 24L0.5 0z",style:{fill:c,opacity:l}}),M.createElement("path",{d:"M0 0L1 0C1 4, 2 5.5, 4 7.5S7,10 7,12S6 14.5, 4 16.5S1,20 1,24L0 24L0 0z",style:{fill:u}}))};var Mxt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const Ixt=rj.POSITION_SET,Rxt=rj.TRIGGER_SET;class Ko extends M.PureComponent{constructor(e){super(e),this.focusTrigger=()=>{var t;(t=this.tooltipRef.current)===null||t===void 0||t.focusTrigger()},this.renderPopCard=t=>{let{initialFocusRef:i}=t;const{content:r,contentClassName:s,prefixCls:a}=this.props,{direction:o}=this.context,l=le(a,s,{[`${a}-rtl`]:o==="rtl"}),u=this.renderContentNode({initialFocusRef:i,content:r});return M.createElement("div",{className:l},M.createElement("div",{className:`${a}-content`},u))},this.renderContentNode=t=>{const{initialFocusRef:i,content:r}=t,s={initialFocusRef:i};return Mn(r)?r(s):r},this.tooltipRef=M.createRef()}render(){const e=this.props,{children:t,prefixCls:i,showArrow:r,arrowStyle:s={},arrowBounding:a,position:o,style:l,trigger:u}=e,c=Mxt(e,["children","prefixCls","showArrow","arrowStyle","arrowBounding","position","style","trigger"]);let{spacing:d}=this.props;const h={position:o,className:"",popStyle:l,arrowStyle:s},f=r?M.createElement(Pxt,Object.assign({},h)):!1;br(d)&&(d=r?mc.SPACING_WITH_ARROW:mc.SPACING);const p=u==="click"||u==="custom"?"dialog":"tooltip";return M.createElement(xo,Object.assign({guardFocus:!0,ref:this.tooltipRef},c,{trigger:u,position:o,style:l,content:this.renderPopCard,prefixCls:i,spacing:d,showArrow:f,arrowBounding:a,role:p}),t)}}Ko.contextType=Ql;Ko.propTypes={children:S.node,content:S.oneOfType([S.node,S.func]),visible:S.bool,autoAdjustOverflow:S.bool,motion:S.bool,position:S.oneOf(Ixt),margin:S.oneOfType([S.number,S.object]),mouseEnterDelay:S.number,mouseLeaveDelay:S.number,trigger:S.oneOf(Rxt).isRequired,contentClassName:S.oneOfType([S.string,S.array]),onVisibleChange:S.func,onClickOutSide:S.func,style:S.object,spacing:S.oneOfType([S.number,S.object]),zIndex:S.number,showArrow:S.bool,arrowStyle:S.shape({borderColor:S.string,backgroundColor:S.string,borderOpacity:S.oneOfType([S.string,S.number])}),arrowPointAtCenter:S.bool,arrowBounding:S.object,prefixCls:S.string,guardFocus:S.bool,disableArrowKeyDown:S.bool};Ko.__SemiComponentName__="Popover";Ko.defaultProps=Du(Ko.__SemiComponentName__,{arrowBounding:mc.ARROW_BOUNDING,showArrow:!1,autoAdjustOverflow:!0,zIndex:mc.DEFAULT_Z_INDEX,motion:!0,trigger:"hover",cancelText:"No",okText:"Yes",position:"bottom",prefixCls:x1e.PREFIX,onClickOutSide:be,onEscKeyDown:be,closeOnEsc:!0,returnFocusOnClose:!0,guardFocus:!0,disableFocusListener:!0});let Is;function IV(n){if(!n)return 0;const e=n.match(/^\d*(\.\d*)?/);return e?Number(e[0]):0}function Dxt(n){return Array.prototype.slice.apply(n).map(t=>`${t}: ${n.getPropertyValue(t)};`).join("")}const Lxt=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0,o=arguments.length>7?arguments[7]:void 0;if(t.length===0)return"";Is||(Is=document.createElement("div"),Is.setAttribute("aria-hidden","true"),document.body.appendChild(Is));const l=window.getComputedStyle(n),u=Dxt(l),c=IV(l.lineHeight),d=Math.round(c*(e+1)+IV(l.paddingTop)+IV(l.paddingBottom));Is.setAttribute("style",u),Is.style.position="fixed",Is.style.left="0",l.getPropertyValue("width")==="auto"&&n.offsetWidth&&(Is.style.width=`${n.offsetWidth}px`),Is.style.height="auto",Is.style.top="-999999px",Is.style.zIndex="-1000",o&&(Is.style.fontWeight="600"),Is.style.textOverflow="clip",Is.style.webkitLineClamp="none",Is.innerHTML="";function h(){const y=Is.scrollWidth<=Is.offsetWidth,x=Is.scrollHeight<d;return e===1?y&&x:x}const f=document.createElement("span"),p=document.createTextNode(t);if(f.appendChild(p),s.length>0){const y=document.createTextNode(s);f.appendChild(y)}Is.appendChild(f),Object.values(Co(i,"expand")).map(y=>y&&Is.appendChild(y.cloneNode(!0)));function g(){Is.innerHTML="",Is.appendChild(f),Object.values(i).map(y=>y&&Is.appendChild(y.cloneNode(!0)))}function m(y,x){const w=y.length;return x?a==="end"?y.slice(0,x)+r:y.slice(0,x)+r+y.slice(w-x,w):r}function v(y,x){let w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:x.length,E=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;const A=Math.floor((w+T)/2),k=m(x,A);if(y.textContent=k,w>=T-1&&T>0)for(let P=T;P>=w;P-=1){const I=m(x,P);if(y.textContent=I,h())return I}else if(T===0)return r;return h()?v(y,x,A,T,A):v(y,x,w,A,E)}let _=t;return h()||(g(),_=v(p,t,0,a==="middle"?Math.floor(t.length/2):t.length)),Is.innerHTML="",_},w1e=M.createContext("normal");var eF;(function(n){n.Width="width",n.Height="height",n.All="all"})(eF||(eF={}));class Ay extends An{constructor(e){var t;super(e),t=this,this.formerPropertyValue=new Map,this.getElement=()=>{try{return Yc.findDOMNode(this.childNode||this)}catch{return null}},this.handleResizeEventTriggered=i=>{var r,s,a,o;if(this.props.observerProperty===eF.All)(s=(r=this.props).onResize)===null||s===void 0||s.call(r,i);else{const l=[];for(const u of i)this.formerPropertyValue.has(u.target)?u.contentRect[this.props.observerProperty]!==this.formerPropertyValue.get(u.target)&&(this.formerPropertyValue.set(u.target,u.contentRect[this.props.observerProperty]),l.push(u)):(this.formerPropertyValue.set(u.target,u.contentRect[this.props.observerProperty]),l.push(u));l.length>0&&((o=(a=this.props).onResize)===null||o===void 0||o.call(a,l))}},this.observeElement=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const r=t.getElement();if(t.observer||(t.observer=new ResizeObserver(t.handleResizeEventTriggered)),!(r&&r instanceof Element)){t.observer.disconnect();return}r===t.element&&!i||(t.observer.disconnect(),t.element=r,t.observer.observe(r),t.props.observeParent&&r.parentNode&&r.parentNode.ownerDocument&&r.parentNode.ownerDocument.defaultView&&r.parentNode instanceof r.parentNode.ownerDocument.defaultView.HTMLElement&&(t._parentNode=r.parentNode,t.observer.observe(t._parentNode)))},this.mergeRef=(i,r)=>{this.childNode=r,typeof i=="function"?i(r):typeof i=="object"&&i&&"current"in i&&(i.current=r)},globalThis.ResizeObserver&&(this.observer=new ResizeObserver(this.handleResizeEventTriggered))}componentDidMount(){var e;(e=this.observeElement)===null||e===void 0||e.call(this)}componentDidUpdate(e){var t;(t=this.observeElement)===null||t===void 0||t.call(this,this.props.observeParent!==e.observeParent)}componentWillUnmount(){this.observer&&(this.observer.disconnect(),this.observer=null,this.element=null)}render(){const e=M.Children.only(this.props.children),{ref:t}=e;return M.cloneElement(e,{ref:i=>this.mergeRef(t,i)})}}Ay.propTypes={onResize:S.func,observeParent:S.bool,observerProperty:S.string,delayTick:S.number};Ay.defaultProps={onResize:()=>{},observeParent:!1,observerProperty:"all",delayTick:0};var RV=function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(c){try{u(i.next(c))}catch(d){a(d)}}function l(c){try{u(i.throw(c))}catch(d){a(d)}}function u(c){c.done?s(c.value):r(c.value).then(o,l)}u((i=i.apply(n,e||[])).next())})},Fxt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const Bo=qN.PREFIX,Bxt="...",$xt=(n,e)=>{const{mark:t,code:i,underline:r,strong:s,link:a,disabled:o}=n;let l=e;const u=(c,d)=>{let h={};c&&(typeof c=="object"&&(h=Object.assign({},c)),l=M.createElement(d,h,l))};return u(t,"mark"),u(i,"code"),u(r&&!a,"u"),u(s,"strong"),u(n.delete,"del"),u(a,o?"span":"a"),l};class j0 extends q.Component{constructor(e){super(e),this.observerTakingEffect=!1,this.onResize=t=>RV(this,void 0,void 0,function*(){return this.rafId&&window.cancelAnimationFrame(this.rafId),new Promise(i=>{this.rafId=window.requestAnimationFrame(()=>RV(this,void 0,void 0,function*(){yield this.getEllipsisState(),i()}))})}),this.canUseCSSEllipsis=()=>{const{copyable:t}=this.props,{expandable:i,expandText:r,pos:s,suffix:a}=this.getEllipsisOpt();return!i&&lr(r)&&!t&&s==="end"&&!a.length},this.shouldTruncated=t=>!t||t<1?!1:t<=1?this.compareSingleRow():this.wrapperRef.current.scrollHeight>this.wrapperRef.current.offsetHeight,this.compareSingleRow=()=>{if(!(document&&document.createRange))return!1;const t=this.wrapperRef.current,i=t.getBoundingClientRect().width,r=Array.from(t.childNodes),s=document.createRange(),a=r.reduce((o,l)=>{var u;return s.selectNodeContents(l),o+((u=s.getBoundingClientRect().width)!==null&&u!==void 0?u:0)},0);return s.detach(),a>i},this.showTooltip=()=>{var t,i;const{isOverflowed:r,isTruncated:s,expanded:a}=this.state,{showTooltip:o,expandable:l,expandText:u}=this.getEllipsisOpt(),c=this.canUseCSSEllipsis(),d=!a&&(c?r:s),f=!l&&lr(u)&&d&&o;if(!f)return f;const p={type:"tooltip"};return typeof o=="object"?o.type&&o.type.toLowerCase()==="popover"?HP({opts:{showArrow:!0}},o,{opts:{className:le({[`${Bo}-ellipsis-popover`]:!0,[(t=o==null?void 0:o.opts)===null||t===void 0?void 0:t.className]:!!(!((i=o==null?void 0:o.opts)===null||i===void 0)&&i.className)})}}):Object.assign(Object.assign({},p),o):p},this.onHover=()=>{if(this.canUseCSSEllipsis()){const{rows:i,suffix:r,pos:s}=this.getEllipsisOpt(),a=this.shouldTruncated(i);this.setState({isOverflowed:a,isTruncated:!1});return}},this.getEllipsisState=()=>RV(this,void 0,void 0,function*(){const{rows:t,suffix:i,pos:r}=this.getEllipsisOpt(),{children:s,strong:a}=this.props;if(!this.wrapperRef||!this.wrapperRef.current){yield this.onResize();return}const{expanded:o}=this.state;if(this.canUseCSSEllipsis())return;if(Rm(s))return new Promise(h=>{this.setState({isTruncated:!1,isOverflowed:!1},h)});if(gs("children"in this.props&&typeof s!="string","[Semi Typography] Only children with pure text could be used with ellipsis at this moment."),!t||t<0||o)return;const u={expand:this.expandRef.current,copy:this.copyRef&&this.copyRef.current},c=Array.isArray(s)?s.join(""):String(s),d=Lxt(this.wrapperRef.current,t,c,u,Bxt,i,r,a);return new Promise(h=>{this.setState({isOverflowed:!1,ellipsisContent:d,isTruncated:c!==d},h)})}),this.toggleOverflow=t=>{const{onExpand:i,expandable:r,collapsible:s}=this.getEllipsisOpt(),{expanded:a}=this.state;i&&i(!a,t),(r&&!a||s&&a)&&this.setState({expanded:!a})},this.getEllipsisOpt=()=>{const{ellipsis:t}=this.props;return t?Object.assign({rows:1,expandable:!1,pos:"end",suffix:"",showTooltip:!1,collapsible:!1,expandText:t.expandable?this.expandStr:void 0,collapseText:t.collapsible?this.collapseStr:void 0},typeof t=="object"?t:null):{}},this.renderExpandable=()=>{const{expanded:t,isTruncated:i}=this.state;if(!i)return null;const{expandText:r,expandable:s,collapseText:a,collapsible:o}=this.getEllipsisOpt(),l=!s&&lr(r),u=!o&&lr(a);let c;return!t&&!l?c=r:t&&!u&&(c=a),!l||!u?M.createElement("a",{role:"button",tabIndex:0,className:`${Bo}-ellipsis-expand`,key:"expand",ref:this.expandRef,"aria-label":c,onClick:this.toggleOverflow,onKeyPress:d=>gc(d)&&this.toggleOverflow(d)},c):null},this.getEllipsisStyle=()=>{const{ellipsis:t,component:i}=this.props;if(!t)return{ellipsisCls:"",ellipsisStyle:{}};const{rows:r}=this.getEllipsisOpt(),{expanded:s}=this.state,a=!s&&this.canUseCSSEllipsis(),o=le({[`${Bo}-ellipsis`]:!0,[`${Bo}-ellipsis-single-line`]:r===1,[`${Bo}-ellipsis-multiple-line`]:r>1,[`${Bo}-ellipsis-multiple-line-text`]:r>1&&i==="span",[`${Bo}-ellipsis-overflow-ellipsis`]:r===1&&a,[`${Bo}-ellipsis-overflow-ellipsis-text`]:r===1&&a&&i==="span"}),l=a&&r>1?{WebkitLineClamp:r}:{};return{ellipsisCls:o,ellipsisStyle:l}},this.renderEllipsisText=t=>{const{suffix:i}=t,{children:r}=this.props,{isTruncated:s,expanded:a,ellipsisContent:o}=this.state;return a||!s?M.createElement("span",{onMouseEnter:this.onHover},r,i&&i.length?i:null):M.createElement("span",{onMouseEnter:this.onHover},o,i)},this.state={editable:!1,copied:!1,isOverflowed:!1,ellipsisContent:e.children,expanded:!1,isTruncated:!1,prevChildren:null},this.wrapperRef=M.createRef(),this.expandRef=M.createRef(),this.copyRef=M.createRef()}componentDidMount(){this.props.ellipsis&&this.onResize().then(()=>bX(()=>this.observerTakingEffect=!0,1))}static getDerivedStateFromProps(e,t){const{prevChildren:i}=t,r={};return r.prevChildren=e.children,e.ellipsis&&i!==e.children&&(r.isOverflowed=!1,r.ellipsisContent=e.children,r.expanded=!1,r.isTruncated=!0),r}componentDidUpdate(e){this.props.children!==e.children&&(this.forceUpdate(),this.props.ellipsis&&this.onResize())}componentWillUnmount(){this.rafId&&window.cancelAnimationFrame(this.rafId)}renderOperations(){return M.createElement(M.Fragment,null,this.renderExpandable(),this.renderCopy())}renderCopy(){var e;const{copyable:t,children:i}=this.props;if(!t)return null;const r=(e=t==null?void 0:t.content)!==null&&e!==void 0?e:i;let s,a=!1;Array.isArray(r)?(s="",r.forEach(l=>{typeof l=="object"&&(a=!0),s+=String(l)})):(typeof r!="object"||(a=!0),s=String(r)),gs(a,"Content to be copied in Typography is a object, it will case a [object Object] mistake when copy to clipboard.");const o=Object.assign({content:s,duration:3},typeof t=="object"?t:null);return M.createElement(PX,Object.assign({},o,{forwardRef:this.copyRef}))}renderIcon(){const{icon:e,size:t}=this.props,i=t==="inherit"?this.context:t;if(!e)return null;const r=i==="small"?"small":"default";return M.createElement("span",{className:`${Bo}-icon`,"x-semi-prop":"icon"},Su(e)?M.cloneElement(e,{size:r}):e)}renderContent(){const e=this.props,{component:t,children:i,className:r,type:s,spacing:a,disabled:o,style:l,ellipsis:u,icon:c,size:d,link:h,heading:f,weight:p}=e,g=Fxt(e,["component","children","className","type","spacing","disabled","style","ellipsis","icon","size","link","heading","weight"]),m=Co(g,["strong","editable","mark","copyable","underline","code","delete"]),v=d==="inherit"?this.context:d,_=this.renderIcon(),y=this.getEllipsisOpt(),{ellipsisCls:x,ellipsisStyle:w}=this.getEllipsisStyle();let T=u?this.renderEllipsisText(y):i;const E=le({[`${Bo}-link-text`]:h,[`${Bo}-link-underline`]:this.props.underline&&h});T=$xt(this.props,M.createElement(M.Fragment,null,_,this.props.link?M.createElement("span",{className:E},T):T));const A=/^h[1-6]$/,k=oi(f)&&A.test(f),P=le(r,x,{[`${Bo}-${s}`]:s&&!h,[`${Bo}-${v}`]:v,[`${Bo}-link`]:h,[`${Bo}-disabled`]:o,[`${Bo}-${a}`]:a,[`${Bo}-${f}`]:k,[`${Bo}-${f}-weight-${p}`]:k&&p&&isNaN(Number(p))}),I=Object.assign(Object.assign({},isNaN(Number(p))?{}:{fontWeight:p}),l);return M.createElement(ZN,Object.assign({tooltipRef:this.wrapperRef,className:P,style:Object.assign(Object.assign({},I),w),component:t,forwardRef:this.wrapperRef},m),T,this.renderOperations())}renderTipWrapper(){const{children:e}=this.props,t=this.showTooltip(),i=this.renderContent();if(t){const{type:r,opts:s,renderTooltip:a}=t;return Mn(a)?a(e,i):r.toLowerCase()==="popover"?M.createElement(Ko,Object.assign({content:e,position:"top"},s),i):M.createElement(xo,Object.assign({content:e,position:"top"},s),i)}else return i}render(){var e=this;const{size:t}=this.props,i=t==="inherit"?this.context:t,r=M.createElement(w1e.Provider,{value:i},M.createElement(Qr,{componentName:"Typography"},s=>(this.expandStr=s.expand,this.collapseStr=s.collapse,this.renderTipWrapper())));return this.props.ellipsis?M.createElement(Ay,{onResize:function(){e.observerTakingEffect&&e.onResize(...arguments)},observeParent:!0,observerProperty:eF.Width},r):r}}j0.propTypes={children:S.node,copyable:S.oneOfType([S.shape({text:S.string,onCopy:S.func,successTip:S.node,copyTip:S.node}),S.bool]),delete:S.bool,disabled:S.bool,ellipsis:S.oneOfType([S.shape({rows:S.number,expandable:S.bool,expandText:S.string,onExpand:S.func,suffix:S.string,showTooltip:S.oneOfType([S.shape({type:S.string,opts:S.object}),S.bool]),collapsible:S.bool,collapseText:S.string,pos:S.oneOf(["end","middle"])}),S.bool]),mark:S.bool,underline:S.bool,link:S.oneOfType([S.object,S.bool]),spacing:S.oneOf(Wl.SPACING),strong:S.bool,size:S.oneOf(Wl.SIZE),type:S.oneOf(Wl.TYPE),style:S.object,className:S.string,icon:S.oneOfType([S.node,S.string]),heading:S.string,component:S.string};j0.defaultProps={children:null,copyable:!1,delete:!1,disabled:!1,ellipsis:!1,icon:"",mark:!1,underline:!1,strong:!1,link:!1,type:"primary",spacing:"normal",size:"normal",style:{},className:""};j0.contextType=w1e;let sj=class extends q.PureComponent{render(){return M.createElement(j0,Object.assign({component:"span"},this.props))}};sj.propTypes={copyable:S.oneOfType([S.object,S.bool]),delete:S.bool,disabled:S.bool,icon:S.oneOfType([S.node,S.string]),ellipsis:S.oneOfType([S.object,S.bool]),mark:S.bool,underline:S.bool,link:S.oneOfType([S.object,S.bool]),strong:S.bool,type:S.oneOf(Wl.TYPE),size:S.oneOf(Wl.SIZE),style:S.object,className:S.string,code:S.bool,component:S.string,weight:S.number};sj.defaultProps={copyable:!1,delete:!1,disabled:!1,icon:"",ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",style:{},size:"normal",className:""};var Nxt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};let MX=class extends q.PureComponent{render(){const e=this.props,{heading:t}=e,i=Nxt(e,["heading"]),r=Wl.HEADING.indexOf(t)!==-1?`h${t}`:"h1";return M.createElement(j0,Object.assign({component:r,heading:r},i))}};MX.propTypes={copyable:S.oneOfType([S.object,S.bool]),delete:S.bool,disabled:S.bool,ellipsis:S.oneOfType([S.object,S.bool]),mark:S.bool,link:S.oneOfType([S.object,S.bool]),underline:S.bool,strong:S.bool,type:S.oneOf(Wl.TYPE),heading:S.oneOf(Wl.HEADING),style:S.object,className:S.string,component:S.string,weight:S.oneOfType([S.oneOf(Wl.WEIGHT),S.number])};MX.defaultProps={copyable:!1,delete:!1,disabled:!1,ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",heading:1,style:{},className:""};const jxt=qN.PREFIX;let aj=class extends q.PureComponent{render(){const{className:e}=this.props,t=le(e,`${jxt}-paragraph`);return M.createElement(j0,Object.assign({component:"p"},this.props,{className:t}))}};aj.propTypes={copyable:S.oneOfType([S.object,S.bool]),delete:S.bool,disabled:S.bool,ellipsis:S.oneOfType([S.object,S.bool]),mark:S.bool,link:S.oneOfType([S.object,S.bool]),underline:S.bool,strong:S.bool,type:S.oneOf(Wl.TYPE),size:S.oneOf(Wl.SIZE),spacing:S.oneOf(Wl.SPACING),style:S.object,className:S.string,component:S.string};aj.defaultProps={copyable:!1,delete:!1,disabled:!1,ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",size:"normal",spacing:"normal",style:{},className:""};class zxt{constructor(e,t,i,r,s){this.ruleMethods={"bytes-decimal":a=>{const o=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];let l=0;for(;a>=1e3;)a/=1e3,l++;return`${this.truncatePrecision(a)} ${o[l]}`},"bytes-binary":a=>{const o=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];let l=0;for(;a>=1024;)a/=1024,l++;return`${this.truncatePrecision(a)} ${o[l]}`},percentages:a=>`${this.truncatePrecision(a*100)}%`,exponential:a=>{const l=a.toExponential(this.precision+2).split("e");return`${this.truncatePrecision(Number(l[0]))}e${l[1]}`}},this.truncateMethods={ceil:Math.ceil,floor:Math.floor,round:Math.round},this.isDiyParser=typeof s<"u",this.content=e,this.rule=t,this.precision=i,this.truncate=r,this.parser=s}format(){return this.isDiyParser?this.parser(this.content):this.rule==="text"?DV(this.content).map(e=>LV(e)?this.truncatePrecision(e):e).join(""):this.rule==="numbers"?DV(this.content).filter(e=>LV(e)).map(e=>this.truncatePrecision(e)).join(","):DV(this.content).map(e=>LV(e)?this.ruleMethods[this.rule](Number(e)):e).join("")}truncatePrecision(e){const t=this.truncateMethods[this.truncate](Number(e)*Math.pow(10,this.precision))/Math.pow(10,this.precision),i=t.toString().split(".");if(i.length===1)return t.toFixed(this.precision);const r=i[1].length;return r<this.precision?`${i[0]}.${i[1]}${"0".repeat(this.precision-r)}`:t.toString()}}function DV(n){const e=/(-?[0-9]*\.?[0-9]+([eE]-?[0-9]+)?)|([^-\d\.]+)/g;return n.match(e)||[]}function LV(n){return!(isNaN(Number(n))||n.replace(/\s+/g,"")==="")}class IX extends q.PureComponent{formatNodeDFS(e){return Array.isArray(e)||(e=[e]),e=e.map(t=>typeof t=="string"||typeof t=="number"?new zxt(String(t),this.props.rule,this.props.precision,this.props.truncate,this.props.parser).format():typeof t=="function"?this.formatNodeDFS(t()):typeof t=="object"&&"children"in t.props?Object.assign(Object.assign({},t),{props:Object.assign(Object.assign({},t.props),{children:this.formatNodeDFS(t.props.children)})}):t),e.length===1?e[0]:e}render(){const e=Object.assign({},this.props);return delete e.rule,delete e.parser,e.children=this.formatNodeDFS(this.props.children),M.createElement(j0,Object.assign({component:"span"},e))}}IX.propTypes={rule:S.oneOf(Wl.RULE),precision:S.number,truncate:S.oneOf(Wl.TRUNCATE),parser:S.func,copyable:S.oneOfType([S.object,S.bool]),delete:S.bool,disabled:S.bool,icon:S.oneOfType([S.node,S.string]),mark:S.bool,underline:S.bool,link:S.oneOfType([S.object,S.bool]),strong:S.bool,type:S.oneOf(Wl.TYPE),size:S.oneOf(Wl.SIZE),style:S.object,className:S.string,code:S.bool,component:S.string};IX.defaultProps={rule:"text",precision:0,truncate:"round",parser:void 0,copyable:!1,delete:!1,icon:"",mark:!1,underline:!1,strong:!1,link:!1,type:"primary",style:{},size:"normal",className:""};const t_=ZN;t_.Text=sj;t_.Title=MX;t_.Paragraph=aj;t_.Numeral=IX;const C1e={PREFIX:`${nt}-autocomplete`,PREFIX_OPTION:`${nt}-autocomplete-option`},RX={SIZE:["small","large","default"],POSITION:Ey.POSITION_SET,STATUS:w1};var Hxt=Ff,Vxt=_c,Wxt="[object Number]";function Uxt(n){return typeof n=="number"||Vxt(n)&&Hxt(n)==Wxt}var T1e=Uxt;const Ns=yn(T1e);class Gxt extends jn{constructor(e){super(Object.assign({},e)),this.isPanelOpen=!1}init(){this._setDropdownWidth();const{defaultOpen:e,data:t,defaultValue:i,value:r}=this.getProps();if(t&&t.length){const a=this._generateList(t);this._adapter.updateOptionList(a)}e&&this.openDropdown();let s;typeof i<"u"&&(s=i),typeof r<"u"&&(s=r),typeof s<"u"&&this.handleValueChange(s)}destroy(){this._adapter.unregisterClickOutsideHandler()}_setDropdownWidth(){const{style:e,dropdownMatchSelectWidth:t}=this.getProps();let i;t&&(e&&Ns(e.width)||e&&oi(e.width)&&!e.width.includes("%")?i=e.width:i=this._adapter.getTriggerWidth(),this._adapter.setOptionWrapperWidth(i))}handleInputClick(e){const{options:t}=this.getStates(),{disabled:i}=this.getProps();i||(this.isPanelOpen?this.closeDropdown():this.openDropdown())}openDropdown(){this.isPanelOpen=!0,this._adapter.toggleListVisible(!0),this._setDropdownWidth(),this._adapter.registerClickOutsideHandler(e=>this.closeDropdown(e)),this._adapter.notifyDropdownVisibleChange(!0),this._modifyFocusIndexOnPanelOpen()}closeDropdown(e){this.isPanelOpen=!1,this._adapter.toggleListVisible(!1),this._adapter.unregisterClickOutsideHandler(),this._adapter.notifyDropdownVisibleChange(!1)}_generateList(e){const{renderItem:t}=this.getProps(),i=[];return e&&e.length&&e.forEach((r,s)=>{const a=String(new Date().getTime())+s;let o={};oi(r)||Ns(r)?o={value:r,key:a,label:r,show:!0}:jo(r)&&!lr(r.value)&&(o=Object.assign({show:!0},r)),t&&typeof t=="function"&&(o.label=t(r)),i.push(o)}),i}handleSearch(e){this._adapter.updateInputValue(e),this._adapter.notifySearch(e),this._adapter.notifyChange(e),this._modifyFocusIndex(e),this.isPanelOpen||this.openDropdown()}handleSelect(e,t){const{renderSelectedItem:i}=this.getProps();let r="";i&&typeof i=="function"?(r=i(e),gs(typeof r!="string","Warning: [Semi AutoComplete] renderSelectedItem must return string, please check your function return")):r=e.value,this._isControlledComponent()?(this.closeDropdown(),this.notifySelect(e)):(this._adapter.updateInputValue(r),this.updateSelection(e),this.notifySelect(e),this.closeDropdown()),this._adapter.notifyChange(r),this._adapter.updateFocusIndex(t)}updateSelection(e){const t=new Map;e&&t.set(e.label,e),this._adapter.updateSelection(t)}notifySelect(e){this._backwardLabelInValue()?this._adapter.notifySelect(e):this._adapter.notifySelect(e.value)}_backwardLabelInValue(){const e=this.getProps();let{onSelectWithObject:t}=e;return t}handleDataChange(e){const t=this._generateList(e);this._adapter.updateOptionList(t),this._adapter.rePositionDropdown();let{inputValue:i}=this.getStates();this._modifyFocusIndex(i)}handleValueChange(e){let{data:t,defaultActiveFirstOption:i}=this.getProps(),r="";this._backwardLabelInValue()&&Object.prototype.toString.call(e)==="[object Object]"?r=e.value:r=e;let s=this._getRenderSelectedItem();const a=this._generateList(t);let o=a.length?a.filter(d=>s(d)===r):[];const l=o.length,u=a.findIndex(d=>s(d)===r);let c="";if(l)o=o[0],c=s(o);else{const d=this._backwardLabelInValue()?e:{label:r,value:r};c=s(d)}this._adapter.updateInputValue(c),this.updateSelection(l?o:null),u===-1&&i?this._adapter.updateFocusIndex(0):this._adapter.updateFocusIndex(u)}_modifyFocusIndex(e){let{focusIndex:t}=this.getStates(),{data:i,defaultActiveFirstOption:r}=this.getProps(),s=-1;if(e){let a=this._getRenderSelectedItem();s=this._generateList(i).findIndex(l=>a(l)===e)}s===-1&&r?t!==0&&this._adapter.updateFocusIndex(0):s!==t&&this._adapter.updateFocusIndex(s)}_modifyFocusIndexOnPanelOpen(){let{inputValue:e}=this.getStates();this._modifyFocusIndex(e)}_getRenderSelectedItem(){let{renderSelectedItem:e}=this.getProps();return typeof e>"u"&&(e=t=>t==null?void 0:t.value),e}handleClear(){this._adapter.notifyClear()}bindKeyBoardEvent(){this._keydownHandler=e=>{this._handleKeyDown(e)},this._adapter.registerKeyDown(this._keydownHandler)}_handleKeyDown(e){const t=e.keyCode,{visible:i}=this.getStates();switch(t){case Ho.UP:e.preventDefault(),this._handleArrowKeyDown(-1);break;case Ho.DOWN:e.preventDefault(),this._handleArrowKeyDown(1);break;case Ho.ENTER:e.preventDefault(),this._handleEnterKeyDown();break;case Ho.ESC:this.closeDropdown();break;case Ho.TAB:this.closeDropdown();break}this._adapter.notifyKeyDown(e)}_getEnableFocusIndex(e){const{focusIndex:t,options:i}=this.getStates(),r=i.filter(o=>o.show),s=r.length;let a=t+e;if(a<0&&(a=s-1),a>=s&&(a=0),e>0){let o=-1;for(let l=0;l<r.length&&(!r[l].disabled&&(o=l),!(o>=a));l++);a=o}else{let o=r.length;for(let l=s-1;l>=0&&(!r[l].disabled&&(o=l),!(o<=a));l--);a=o}this._adapter.updateFocusIndex(a),this._adapter.updateScrollTop(a)}_handleArrowKeyDown(e){const{visible:t}=this.getStates();t?this._getEnableFocusIndex(e):this.openDropdown()}_handleEnterKeyDown(){const{visible:e,options:t,focusIndex:i}=this.getStates();if(!e)this.openDropdown();else if(i!==void 0&&i!==-1&&t.length!==0){const s=t.filter(a=>a.show)[i];s&&this.handleSelect(s,i)}else this.closeDropdown()}handleOptionMouseEnter(e){this._adapter.updateFocusIndex(e)}handleFocus(e){this.bindKeyBoardEvent(),this._adapter.notifyFocus(e)}handleBlur(e){this._persistEvent(e),this._adapter.notifyBlur(e)}}const Yxt=`${nt}-spin`,Kxt={PREFIX:Yxt},Xxt={SIZE:["small","middle","large"]};class DX extends jn{static get spinDefaultAdapter(){return{getProp:()=>{},setLoading:e=>{}}}constructor(e){super(Object.assign(Object.assign({},DX.spinDefaultAdapter),e))}updateLoadingIfNeedDelay(){const{spinning:e,delay:t}=this._adapter.getProps(),{delay:i}=this._adapter.getStates();if(i){const r=this;this._timer=setTimeout(()=>{r._adapter.setState({loading:e,delay:0})},t)}}destroy(){this._timer&&(clearTimeout(this._timer),this._timer=null)}}var qxt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};let nle=-1;function E1e(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{id:e,className:t,customIconCls:i}=n,r=qxt(n,["id","className","customIconCls"]),s=Ce(T2,"config.overrideDefaultProps.Spin.indicator");if(s&&M.isValidElement(s))return M.cloneElement(s,{className:le({[i]:i,[t]:t})});let a=e;br(a)&&(nle++,a=nle);const o=`linearGradient-${a}`;return M.createElement("svg",Object.assign({},r,{className:t,width:"48",height:"48",viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,"data-icon":"spin"}),M.createElement("defs",null,M.createElement("linearGradient",{x1:"0%",y1:"100%",x2:"100%",y2:"100%",id:o},M.createElement("stop",{stopColor:"currentColor",stopOpacity:"0",offset:"0%"}),M.createElement("stop",{stopColor:"currentColor",stopOpacity:"0.50",offset:"39.9430698%"}),M.createElement("stop",{stopColor:"currentColor",offset:"100%"}))),M.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},M.createElement("rect",{fillOpacity:"0.01",fill:"none",x:"0",y:"0",width:"36",height:"36"}),M.createElement("path",{d:"M34,18 C34,9.163444 26.836556,2 18,2 C11.6597233,2 6.18078805,5.68784135 3.59122325,11.0354951",stroke:`url(#${o})`,strokeWidth:"4",strokeLinecap:"round"})))}var Zxt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const N_=Kxt.PREFIX;class bh extends An{constructor(e){super(e),this.foundation=new DX(this.adapter),this.state={delay:e.delay,loading:!0}}static getDerivedStateFromProps(e){return e.delay?e.spinning===!1?{delay:0,loading:!1}:{delay:e.delay}:{loading:e.spinning}}get adapter(){return Object.assign(Object.assign({},super.adapter),{setLoading:e=>{this.setState({loading:e})}})}componentWillUnmount(){this.foundation.destroy()}renderSpin(){const{indicator:e,tip:t}=this.props,{loading:i}=this.state;return i?M.createElement("div",{className:`${N_}-wrapper`},e?M.createElement("div",{className:`${N_}-animate`,"x-semi-prop":"indicator"},e):M.createElement(E1e,null),t?M.createElement("div",{"x-semi-prop":"tip"},t):null):null}render(){this.foundation.updateLoadingIfNeedDelay();const e=this.props,{children:t,style:i,wrapperClassName:r,childStyle:s,size:a}=e,o=Zxt(e,["children","style","wrapperClassName","childStyle","size"]),{loading:l}=this.state,u=le(N_,r,{[`${N_}-${a}`]:a,[`${N_}-block`]:t,[`${N_}-hidden`]:!l});return M.createElement("div",Object.assign({className:u,style:i},this.getDataAttr(o)),this.renderSpin(),M.createElement("div",{className:`${N_}-children`,style:s,"x-semi-prop":"children"},t))}}bh.propTypes={size:S.oneOf(Xxt.SIZE),spinning:S.bool,children:S.node,indicator:S.node,delay:S.number,tip:S.node,wrapperClassName:S.string,childStyle:S.object,style:S.object};bh.__SemiComponentName__="Spin";bh.defaultProps=Du(bh.__SemiComponentName__,{size:"middle",spinning:!0,children:null,indicator:null,delay:0});const oj={PREFIX:`${nt}-input`},n_={SIZE:["small","large","default"],DEFAULT_SIZE:"default",STATUS:["default","error","warning","success"],CLEARBTN_CLICKED_EVENT_FLAG:"__fromClearBtn",MODE:["password"]},Qxt={};function A1e(n){const{value:e,maxLength:t,getValueLength:i}=n;if(Mn(i)){let r=0,s=e.length;for(;r<s;){const a=r+Math.floor((s-r)/2),o=e.slice(0,a+1);i(o)>t?s=a:r=a+1}return e.slice(0,r)}else return e.slice(0,t)}let Jxt=class k1e extends jn{static get inputDefaultAdapter(){return{notifyChange:be,setValue:be}}constructor(e){super(Object.assign(Object.assign({},k1e.inputDefaultAdapter),e)),this.compositionEnter=!1,this.getNextValue=t=>{const{maxLength:i,minLength:r,getValueLength:s}=this._adapter.getProps();return Mn(s)?i?this.handleVisibleMaxLength(t):(r&&this.handleVisibleMinLength(t),t):t},this.changeInput=(t,i)=>{this._isControlledComponent()?this._adapter.notifyChange(t,i):(this._adapter.setValue(t),this._adapter.notifyChange(t,i))},this.handleCompositionStart=t=>{this.compositionEnter=!0,this._adapter.notifyCompositionStart(t)},this.handleCompositionEnd=t=>{const i=t.target.value;this.compositionEnter=!1,this._adapter.notifyCompositionEnd(t);const{getValueLength:r,maxLength:s,minLength:a}=this.getProps();if(Mn(r)){if(s){const o=this.handleVisibleMaxLength(i);o!==i&&this.changeInput(o,t)}a&&this.handleVisibleMinLength(i)}},this.handleCompositionUpdate=t=>{this._adapter.notifyCompositionUpdate(t)}}destroy(){this._timer&&(clearTimeout(this._timer),this._timer=null)}setDisable(){}setValue(e){this._adapter.setValue(e)}handleChange(e,t){let i=e;this.compositionEnter||(i=this.getNextValue(i)),this.changeInput(i,t)}handleVisibleMinLength(e){const{minLength:t,getValueLength:i}=this._adapter.getProps(),{minLength:r}=this._adapter.getStates();if(Ns(t)&&t>=0&&Mn(i)&&oi(e)){const s=i(e);if(s<t){const a=e.length+(t-s);a!==r&&this._adapter.setMinLength(a)}else r!==t&&this._adapter.setMinLength(t)}}handleVisibleMaxLength(e){const{maxLength:t,getValueLength:i}=this._adapter.getProps();return Ns(t)&&t>=0&&Mn(i)&&oi(e)&&i(e)>t?(console.warn("[Semi Input] The input character is truncated because the input length exceeds the maximum length limit"),this.handleTruncateValue(e,t)):e}handleTruncateValue(e,t){const{getValueLength:i}=this._adapter.getProps();return A1e({value:e,maxLength:t,getValueLength:i})}handleClear(e){let t=e;const i="";this._isControlledComponent("value")?this._adapter.setState({isFocus:!1}):this._adapter.setState({value:"",isFocus:!1}),(!t||typeof t!="object")&&(t={}),lc(t,n_.CLEARBTN_CLICKED_EVENT_FLAG,!0),this._adapter.notifyChange(i,t),this._adapter.notifyClear(t),t&&this.stopPropagation(t)}handleClick(e){const{disabled:t}=this._adapter.getProps(),{isFocus:i}=this._adapter.getStates();t||i||this._adapter.isEventTarget(e)&&(this._adapter.focusInput(),this._adapter.toggleFocusing(!0))}handleModeChange(e){e==="password"?this._adapter.setEyeClosed(!0):this._adapter.setEyeClosed(!1)}handleClickEye(e){const t=this._adapter.getState("eyeClosed");this._adapter.focusInput(),this._adapter.toggleFocusing(!0),this._adapter.setEyeClosed(!t)}handleInputType(e){const t=this._adapter.getProp("mode"),i=this._adapter.getState("eyeClosed");return t==="password"?i?"password":"text":e}handleMouseDown(e){e.preventDefault()}handleMouseUp(e){e.preventDefault()}handleBlur(e){const{value:t}=this.getStates();this._adapter.toggleFocusing(!1),this._adapter.notifyBlur(t,e)}handleFocus(e){const{value:t}=this.getStates();this._adapter.toggleFocusing(!0),this._adapter.notifyFocus(t,e)}handleInput(e){this._adapter.notifyInput(e)}handleKeyDown(e){this._adapter.notifyKeyDown(e)}handleKeyUp(e){this._adapter.notifyKeyUp(e)}handleKeyPress(e){this._adapter.notifyKeyPress(e),e.key===OX&&this._adapter.notifyEnterPress(e)}isAllowClear(){const{value:e,isFocus:t,isHovering:i}=this._adapter.getStates(),{showClear:r,disabled:s,showClearIgnoreDisabled:a}=this._adapter.getProps();return e&&r&&(!s||a)&&(t||i)}handleClickPrefixOrSuffix(e){const{disabled:t}=this._adapter.getProps(),{isFocus:i}=this._adapter.getStates();!t&&!i&&(this._adapter.focusInput(),this._adapter.toggleFocusing(!0))}handlePreventMouseDown(e){e&&Mn(e.preventDefault)&&e.preventDefault()}handleModeEnterPress(e){["Enter"," "].includes(e==null?void 0:e.key)&&(this.handlePreventMouseDown(e),this.handleClickEye(e))}};var ewt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const hr=oj.PREFIX,twt=n_.SIZE,nwt=n_.STATUS,iwt=n_.MODE;class LX extends An{constructor(e){super(e),this.handleClear=i=>{this.foundation.handleClear(i)},this.handleClick=i=>{this.foundation.handleClick(i)},this.handleMouseOver=i=>{this.setState({isHovering:!0})},this.handleMouseLeave=i=>{this.setState({isHovering:!1})},this.handleModeChange=i=>{this.foundation.handleModeChange(i)},this.handleClickEye=i=>{this.foundation.handleClickEye(i)},this.handleMouseDown=i=>{this.foundation.handleMouseDown(i)},this.handleMouseUp=i=>{this.foundation.handleMouseUp(i)},this.handleModeEnterPress=i=>{this.foundation.handleModeEnterPress(i)},this.handleClickPrefixOrSuffix=i=>{this.foundation.handleClickPrefixOrSuffix(i)},this.handlePreventMouseDown=i=>{this.foundation.handlePreventMouseDown(i)};const t="value"in e?e.value:e.defaultValue;this.state={value:t,cachedValue:e.value,disabled:!1,props:{},isFocus:!1,isHovering:!1,eyeClosed:e.mode==="password",minLength:e.minLength},this.inputRef=M.createRef(),this.prefixRef=M.createRef(),this.suffixRef=M.createRef(),this.foundation=new Jxt(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setValue:e=>this.setState({value:e}),setEyeClosed:e=>this.setState({eyeClosed:e}),toggleFocusing:e=>{this.setState({isFocus:e})},focusInput:()=>{const{preventScroll:e}=this.props,t=this.inputRef&&this.inputRef.current;t&&t.focus({preventScroll:e})},toggleHovering:e=>this.setState({isHovering:e}),getIfFocusing:()=>this.state.isFocus,notifyChange:(e,t)=>this.props.onChange(e,t),notifyBlur:(e,t)=>this.props.onBlur(t),notifyFocus:(e,t)=>this.props.onFocus(t),notifyInput:e=>this.props.onInput(e),notifyKeyPress:e=>this.props.onKeyPress(e),notifyKeyDown:e=>this.props.onKeyDown(e),notifyKeyUp:e=>this.props.onKeyUp(e),notifyEnterPress:e=>this.props.onEnterPress(e),notifyClear:e=>this.props.onClear(e),notifyCompositionStart:e=>this.props.onCompositionStart(e),notifyCompositionEnd:e=>this.props.onCompositionEnd(e),notifyCompositionUpdate:e=>this.props.onCompositionUpdate(e),setMinLength:e=>this.setState({minLength:e}),isEventTarget:e=>e&&e.target===e.currentTarget})}static getDerivedStateFromProps(e,t){const i={};return e.value!==t.cachedValue&&(i.value=e.value,i.cachedValue=e.value),i}componentDidUpdate(e){const{mode:t}=this.props;e.mode!==t&&this.handleModeChange(t)}componentDidMount(){const{disabled:e,autoFocus:t,preventScroll:i}=this.props;!e&&(t||this.props.autofocus)&&this.inputRef.current.focus({preventScroll:i})}renderPrepend(){const{addonBefore:e}=this.props;if(e){const t=le({[`${hr}-prepend`]:!0,[`${hr}-prepend-text`]:e&&oi(e),[`${hr}-prepend-icon`]:Su(e)});return M.createElement("div",{className:t,"x-semi-prop":"addonBefore"},e)}return null}renderAppend(){const{addonAfter:e}=this.props;if(e){const t=le({[`${hr}-append`]:!0,[`${hr}-append-text`]:e&&oi(e),[`${hr}-append-icon`]:Su(e)});return M.createElement("div",{className:t,"x-semi-prop":"addonAfter"},e)}return null}renderClearBtn(){const e=le(`${hr}-clearbtn`),{clearIcon:t}=this.props;return this.foundation.isAllowClear()?M.createElement("div",{className:e,onMouseDown:this.handleClear},t||M.createElement(e_,null)):null}renderModeBtn(){const{eyeClosed:e}=this.state,{mode:t,disabled:i}=this.props,r=le(`${hr}-modebtn`),s=e?M.createElement(XSt,null):M.createElement(ZSt,null),a=t==="password"&&!i,o=e?"Show password":"Hidden password";return a?M.createElement("div",{role:"button",tabIndex:0,"aria-label":o,className:r,onClick:this.handleClickEye,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onKeyPress:this.handleModeEnterPress},s):null}renderPrefix(){const{prefix:e,insetLabel:t,insetLabelId:i}=this.props,r=e||t;if(!r)return null;const s=le({[`${hr}-prefix`]:!0,[`${hr}-inset-label`]:t,[`${hr}-prefix-text`]:r&&oi(r),[`${hr}-prefix-icon`]:Su(r)});return M.createElement("div",{className:s,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,id:i,"x-semi-prop":"prefix,insetLabel"},r)}renderSuffix(e){const{suffix:t,hideSuffix:i}=this.props;if(!t)return null;const r=le({[`${hr}-suffix`]:!0,[`${hr}-suffix-text`]:t&&oi(t),[`${hr}-suffix-icon`]:Su(t),[`${hr}-suffix-hidden`]:e&&!!i});return M.createElement("div",{className:r,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,"x-semi-prop":"suffix"},t)}getInputRef(){const{forwardRef:e}=this.props;if(!lr(e)){if(typeof e=="function")return t=>{e(t),this.inputRef={current:t}};if(Object.prototype.toString.call(e)==="[object Object]")return this.inputRef=e,e}return this.inputRef}render(){const e=this.props,{addonAfter:t,addonBefore:i,autoFocus:r,clearIcon:s,className:a,disabled:o,defaultValue:l,placeholder:u,prefix:c,mode:d,insetLabel:h,insetLabelId:f,validateStatus:p,type:g,readonly:m,size:v,suffix:_,style:y,showClear:x,onEnterPress:w,onClear:T,hideSuffix:E,inputStyle:A,forwardRef:k,maxLength:P,getValueLength:I,preventScroll:D,borderless:L,showClearIgnoreDisabled:B,onlyBorder:F}=e,$=ewt(e,["addonAfter","addonBefore","autoFocus","clearIcon","className","disabled","defaultValue","placeholder","prefix","mode","insetLabel","insetLabelId","validateStatus","type","readonly","size","suffix","style","showClear","onEnterPress","onClear","hideSuffix","inputStyle","forwardRef","maxLength","getValueLength","preventScroll","borderless","showClearIgnoreDisabled","onlyBorder"]),{value:z,isFocus:N,minLength:V}=this.state,H=this.foundation.isAllowClear(),K=Su(_),U=this.getInputRef(),X=`${hr}-wrapper`,Z=le(X,a,{[`${hr}-wrapper__with-prefix`]:c||h,[`${hr}-wrapper__with-suffix`]:_,[`${hr}-wrapper__with-suffix-hidden`]:H&&!!E,[`${hr}-wrapper__with-suffix-icon`]:K,[`${hr}-wrapper__with-append`]:i,[`${hr}-wrapper__with-prepend`]:t,[`${hr}-wrapper__with-append-only`]:i&&!t,[`${hr}-wrapper__with-prepend-only`]:!i&&t,[`${X}-readonly`]:m,[`${X}-disabled`]:o,[`${X}-warning`]:p==="warning",[`${X}-error`]:p==="error",[`${X}-focus`]:N,[`${X}-clearable`]:x,[`${X}-modebtn`]:d==="password",[`${X}-hidden`]:g==="hidden",[`${X}-${v}`]:v,[`${hr}-borderless`]:L,[`${hr}-only_border`]:F!=null}),Q=le(hr,{[`${hr}-${v}`]:v,[`${hr}-disabled`]:o,[`${hr}-sibling-clearbtn`]:this.foundation.isAllowClear(),[`${hr}-sibling-modebtn`]:d==="password"}),se=z??"",ae=Object.assign(Object.assign({},$),{style:A,className:Q,disabled:o,readOnly:m,type:this.foundation.handleInputType(g),placeholder:u,onInput:oe=>this.foundation.handleInput(oe),onChange:oe=>this.foundation.handleChange(oe.target.value,oe),onFocus:oe=>this.foundation.handleFocus(oe),onBlur:oe=>this.foundation.handleBlur(oe),onKeyUp:oe=>this.foundation.handleKeyUp(oe),onKeyDown:oe=>this.foundation.handleKeyDown(oe),onKeyPress:oe=>this.foundation.handleKeyPress(oe),onCompositionStart:this.foundation.handleCompositionStart,onCompositionEnd:this.foundation.handleCompositionEnd,onCompositionUpdate:this.foundation.handleCompositionUpdate,value:se});Mn(I)||(ae.maxLength=P),V&&(ae.minLength=V),p==="error"&&(ae["aria-invalid"]="true");let ue=Object.assign({},y);return F!==void 0&&(ue=Object.assign({borderWidth:F},y)),M.createElement("div",{className:Z,style:ue,onMouseEnter:oe=>this.handleMouseOver(oe),onMouseLeave:oe=>this.handleMouseLeave(oe),onClick:oe=>this.handleClick(oe)},this.renderPrepend(),this.renderPrefix(),M.createElement("input",Object.assign({},ae,{ref:U})),this.renderClearBtn(),this.renderSuffix(H),this.renderModeBtn(),this.renderAppend())}}LX.propTypes={"aria-label":S.string,"aria-labelledby":S.string,"aria-invalid":S.bool,"aria-errormessage":S.string,"aria-describedby":S.string,"aria-required":S.bool,addonBefore:S.node,addonAfter:S.node,clearIcon:S.node,prefix:S.node,suffix:S.node,mode:S.oneOf(iwt),value:S.any,defaultValue:S.any,disabled:S.bool,readonly:S.bool,autoFocus:S.bool,type:S.string,showClear:S.bool,hideSuffix:S.bool,placeholder:S.any,size:S.oneOf(twt),className:S.string,style:S.object,validateStatus:S.oneOf(nwt),onClear:S.func,onChange:S.func,onBlur:S.func,onFocus:S.func,onInput:S.func,onKeyDown:S.func,onKeyUp:S.func,onKeyPress:S.func,onEnterPress:S.func,onCompositionStart:S.func,onCompositionEnd:S.func,onCompositionUpdate:S.func,insetLabel:S.node,insetLabelId:S.string,inputStyle:S.object,getValueLength:S.func,preventScroll:S.bool,borderless:S.bool};LX.defaultProps={addonBefore:"",addonAfter:"",prefix:"",suffix:"",readonly:!1,type:"text",showClear:!1,hideSuffix:!1,placeholder:"",size:"default",className:"",onClear:be,onChange:be,onBlur:be,onFocus:be,onInput:be,onKeyDown:be,onKeyUp:be,onKeyPress:be,onEnterPress:be,onCompositionStart:be,onCompositionEnd:be,onCompositionUpdate:be,validateStatus:"default",borderless:!1};const Gl=M.forwardRef((n,e)=>M.createElement(LX,Object.assign({},n,{forwardRef:e})));var rwt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};class z0 extends M.PureComponent{render(){const e=this.props,{triggerRender:t,componentName:i}=e,r=rwt(e,["triggerRender","componentName"]);return t(Object.assign({},r))}}z0.propTypes={triggerRender:S.func.isRequired,componentName:S.string,componentProps:S.object,value:S.any,inputValue:S.string,placeholder:S.oneOfType([S.string,S.array]),className:S.string,style:S.object};const swt={PREFIX:`${nt}-highlight`},awt=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");class owt extends jn{constructor(e){super(Object.assign({},e)),this.findAll=t=>{let{autoEscape:i=!0,caseSensitive:r=!1,searchWords:s,sourceString:a}=t;oi(s)&&(s=[s]);const o=this.findChunks({autoEscape:i,caseSensitive:r,searchWords:s,sourceString:a}),l=this.combineChunks({chunks:o});return this.fillInChunks({chunksToHighlight:l,totalLength:a?a.length:0})},this.findChunks=t=>{let{autoEscape:i,caseSensitive:r,searchWords:s,sourceString:a}=t;return s.map(o=>typeof o=="string"?{text:o}:o).filter(o=>o.text).reduce((o,l)=>{let u=l.text;i&&(u=awt(u));const c=new RegExp(u,r?"g":"gi");let d;for(;d=c.exec(a);){const h=d.index,f=c.lastIndex;f>h&&o.push({highlight:!0,start:h,end:f,className:l.className,style:l.style}),d.index===c.lastIndex&&c.lastIndex++}return o},[])},this.combineChunks=t=>{let{chunks:i}=t;return i.sort((r,s)=>r.start-s.start).reduce((r,s)=>{if(r.length===0)return[s];{const a=r.pop();if(s.start<=a.end){const o=Math.max(a.end,s.end);r.push({highlight:!0,start:a.start,end:o,className:a.className||s.className,style:Object.assign(Object.assign({},a.style),s.style)})}else r.push(a,s);return r}},[])},this.fillInChunks=t=>{let{chunksToHighlight:i,totalLength:r}=t;const s=[],a=(o,l,u,c,d)=>{l-o>0&&s.push({start:o,end:l,highlight:u,className:c,style:d})};if(i.length===0)a(0,r,!1);else{let o=0;i.forEach(l=>{a(o,l.start,!1),a(l.start,l.end,!0,l.className,l.style),o=l.end}),a(o,r,!1)}return s}}}const lwt=swt.PREFIX;class GP extends q.PureComponent{constructor(){super(...arguments),this.getHighLightTextHTML=e=>{let{sourceString:t="",searchWords:i=[],option:r={autoEscape:!0,caseSensitive:!1}}=e;const s=new owt().findAll(Object.assign({sourceString:t,searchWords:i},r)),a=r.highlightTag||"mark",o=r.highlightClassName||"",l=r.highlightStyle||{};return s.map((u,c)=>{const{end:d,start:h,highlight:f,style:p,className:g}=u,m=t.substr(h,d-h);return f?M.createElement(a,{style:Object.assign(Object.assign({},l),p),className:`${o} ${g||""}`.trim(),key:m+c},m):m})}}render(){const{searchWords:e,sourceString:t,component:i,highlightClassName:r,highlightStyle:s,caseSensitive:a,autoEscape:o}=this.props,l=le({[`${lwt}-tag`]:!0},r),u={highlightTag:i,highlightClassName:l,highlightStyle:s,caseSensitive:a,autoEscape:o};return this.getHighLightTextHTML({sourceString:t,searchWords:e,option:u})}}GP.propTypes={style:S.object,className:S.string,autoEscape:S.bool,caseSensitive:S.bool,sourceString:S.string,searchWords:S.arrayOf(S.string),highlightStyle:S.object,highlightClassName:S.string,component:S.string};GP.defaultProps={component:"mark",autoEscape:!0,caseSensitive:!1,sourceString:""};var ile=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};let YP=class extends q.PureComponent{onClick(e,t){var{value:i,label:r,children:s}=e,a=ile(e,["value","label","children"]);const{props:o}=this;o.disabled||o.onSelect(Object.assign(Object.assign({},a),{value:i,label:r||s}),t)}renderOptionContent(e){let{children:t,inputValue:i,prefixCls:r}=e;return oi(t)&&i?M.createElement(GP,{searchWords:[i],sourceString:t,highlightClassName:`${r}-keyword`}):t}render(){const e=this.props,{children:t,disabled:i,value:r,selected:s,label:a,empty:o,emptyContent:l,onSelect:u,focused:c,showTick:d,className:h,style:f,onMouseEnter:p,prefixCls:g,renderOptionItem:m,inputValue:v}=e,_=ile(e,["children","disabled","value","selected","label","empty","emptyContent","onSelect","focused","showTick","className","style","onMouseEnter","prefixCls","renderOptionItem","inputValue"]),y=le(g,{[`${g}-disabled`]:i,[`${g}-selected`]:s,[`${g}-focused`]:c,[`${g}-empty`]:o,[h]:h}),x=le([`${g}-icon`]);return o?l===null?null:M.createElement(Qr,{componentName:"Select"},w=>M.createElement("div",{className:y,"x-semi-prop":"emptyContent"},l||w.emptyText)):typeof m=="function"?m(Object.assign({disabled:i,focused:c,selected:s,style:f,label:a,value:r,inputValue:v,onMouseEnter:w=>p(w),onClick:w=>this.onClick(Object.assign({value:r,label:a,children:t},_),w)},_)):M.createElement("div",{className:y,onClick:w=>{this.onClick(Object.assign({value:r,label:a,children:t},_),w)},onMouseEnter:w=>p&&p(w),role:"option","aria-selected":s?"true":"false","aria-disabled":i?"true":"false",style:f},d?M.createElement("div",{className:x},M.createElement(mC,null)):null,oi(t)?M.createElement("div",{className:`${g}-text`},this.renderOptionContent({children:t,inputValue:v,prefixCls:g})):t)}};YP.isSelectOption=!0;YP.propTypes={children:S.node,disabled:S.bool,value:S.oneOfType([S.string,S.number]),selected:S.bool,label:S.node,empty:S.bool,emptyContent:S.node,onSelect:S.func,focused:S.bool,showTick:S.bool,className:S.string,style:S.object,onMouseEnter:S.func,prefixCls:S.string,renderOptionItem:S.func,inputValue:S.string};YP.defaultProps={prefixCls:C1e.PREFIX_OPTION};const wv=C1e.PREFIX,uwt=RX.SIZE,cwt=RX.POSITION,dwt=RX.STATUS;class vC extends An{constructor(e){super(e),this.onSelect=(i,r,s)=>{this.foundation.handleSelect(i,r)},this.onSearch=i=>{this.foundation.handleSearch(i)},this.onBlur=i=>this.foundation.handleBlur(i),this.onFocus=i=>this.foundation.handleFocus(i),this.onInputClear=()=>this.foundation.handleClear(),this.handleInputClick=i=>this.foundation.handleInputClick(i),this.foundation=new Gxt(this.adapter);const t=1;this.state={dropdownMinWidth:null,inputValue:"",options:[],visible:!1,focusIndex:e.defaultActiveFirstOption?0:-1,selection:new Map,rePosKey:t},this.triggerRef=M.createRef(),this.optionsRef=M.createRef(),this.optionContainerEl=M.createRef(),this.clickOutsideHandler=null,this.optionListId="",gs("triggerRender"in this.props&&typeof this.props.triggerRender=="function",`[Semi AutoComplete]
            - If you are using the following props: 'suffix', 'prefix', 'showClear', 'validateStatus', and 'size',
            please notice that they will be removed in the next major version.
            Please use 'componentProps' to retrieve these props instead.
            - If you are using 'onBlur', 'onFocus', please try to avoid using them and look for changes in the future.`)}get adapter(){const e={registerKeyDown:t=>{const i={onKeyDown:t};this.setState({keyboardEventSet:i})},unregisterKeyDown:t=>{this.setState({keyboardEventSet:{}})},updateFocusIndex:t=>{this.setState({focusIndex:t})},updateScrollTop:t=>{let i;i=`.${wv}-option-selected`,t!==void 0&&(i=`.${wv}-option:nth-child(${t+1})`);let r=document.querySelector(`#${wv}-${this.optionListId} ${i}`);if(Array.isArray(r)&&(r=r[0]),r){const s=r.parentNode;s.scrollTop=r.offsetTop-s.offsetTop-s.clientHeight/2+r.clientHeight/2}}};return Object.assign(Object.assign(Object.assign({},super.adapter),e),{getTriggerWidth:()=>{const t=this.triggerRef.current;return t&&t.getBoundingClientRect().width},setOptionWrapperWidth:t=>{this.setState({dropdownMinWidth:t})},updateInputValue:t=>{this.setState({inputValue:t})},toggleListVisible:t=>{this.setState({visible:t})},updateOptionList:t=>{this.setState({options:t})},updateSelection:t=>{this.setState({selection:t})},notifySearch:t=>{this.props.onSearch(t)},notifyChange:t=>{this.props.onChange(t)},notifySelect:t=>{this.props.onSelect(t)},notifyDropdownVisibleChange:t=>{this.props.onDropdownVisibleChange(t)},notifyClear:()=>{this.props.onClear()},notifyFocus:t=>{this.props.onFocus(t)},notifyBlur:t=>{this.props.onBlur(t)},notifyKeyDown:t=>{this.props.onKeyDown(t)},rePositionDropdown:()=>{let{rePosKey:t}=this.state;t=t+1,this.setState({rePosKey:t})},registerClickOutsideHandler:t=>{const i=r=>{const s=this.triggerRef&&this.triggerRef.current,a=this.optionContainerEl&&this.optionContainerEl.current,o=r.target,l=r.composedPath&&r.composedPath()||[o];a&&(!a.contains(o)||!a.contains(o.parentNode))&&s&&!s.contains(o)&&!(l.includes(s)||l.includes(a))&&t(r)};this.clickOutsideHandler=i,document.addEventListener("mousedown",i,!1)},unregisterClickOutsideHandler:()=>{this.clickOutsideHandler&&document.removeEventListener("mousedown",this.clickOutsideHandler,!1)}})}componentDidMount(){this.foundation.init(),this.optionListId=Dm()}componentWillUnmount(){this.foundation.destroy()}componentDidUpdate(e,t){Kn(this.props.data,e.data)||this.foundation.handleDataChange(this.props.data),this.props.value!==e.value&&this.foundation.handleValueChange(this.props.value)}renderInput(){const{size:e,prefix:t,insetLabel:i,insetLabelId:r,suffix:s,placeholder:a,style:o,className:l,showClear:u,disabled:c,triggerRender:d,validateStatus:h,autoFocus:f,value:p,id:g,clearIcon:m}=this.props,{inputValue:v,keyboardEventSet:_,selection:y}=this.state,w=Object.assign(Object.assign(Object.assign({style:o,className:typeof d=="function"?le(l):le({[wv]:!0,[`${wv}-disabled`]:c},l),onClick:this.handleInputClick,ref:this.triggerRef,id:g},_),{tabIndex:-1}),this.getDataAttr(this.props)),T={disabled:c,placeholder:a,autoFocus:f,onChange:this.onSearch,onClear:this.onInputClear,"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"],suffix:s,prefix:t||i,insetLabelId:r,showClear:u,validateStatus:h,size:e,onBlur:this.onBlur,onFocus:this.onFocus,clearIcon:m};return M.createElement("div",Object.assign({},w),typeof d=="function"?M.createElement(z0,Object.assign({},T,{inputValue:typeof p<"u"?p:v,value:Array.from(y.values()),triggerRender:d,componentName:"AutoComplete",componentProps:Object.assign({},this.props)})):M.createElement(Gl,Object.assign({},T,{value:typeof p<"u"?p:v})))}renderLoading(){const e=`${wv}-loading-wrapper`;return M.createElement("div",{className:e},M.createElement(bh,null))}renderOption(e,t){const{focusIndex:i}=this.state,r=t===i;return M.createElement(YP,Object.assign({showTick:!1,onSelect:(s,a)=>this.onSelect(s,t,a),focused:r,onMouseEnter:()=>this.foundation.handleOptionMouseEnter(t),key:e.key||e.label+e.value+t},e),e.label)}renderOptionList(){const{maxHeight:e,dropdownStyle:t,dropdownClassName:i,loading:r,emptyContent:s}=this.props,{options:a,dropdownMinWidth:o}=this.state,l=le({[`${wv}-option-list`]:!0},i);let u;a.length===0?u=s:u=a.filter(d=>d.show).map((d,h)=>this.renderOption(d,h));const c=Object.assign({maxHeight:e,minWidth:o},t);return M.createElement("div",{ref:this.optionContainerEl,className:l,role:"listbox",style:c,id:`${wv}-${this.optionListId}`},r?this.renderLoading():u)}render(){const{position:e,motion:t,zIndex:i,mouseEnterDelay:r,mouseLeaveDelay:s,autoAdjustOverflow:a,stopPropagation:o,getPopupContainer:l}=this.props,{visible:u,rePosKey:c}=this.state,d=this.renderInput(),h=this.renderOptionList();return M.createElement(Ko,{mouseEnterDelay:r,mouseLeaveDelay:s,autoAdjustOverflow:a,trigger:"custom",motion:t,visible:u,content:h,position:e,ref:this.optionsRef,zIndex:i,stopPropagation:o,getPopupContainer:l,rePosKey:c},d)}}vC.propTypes={"aria-label":S.string,"aria-labelledby":S.string,"aria-invalid":S.bool,"aria-errormessage":S.string,"aria-describedby":S.string,"aria-required":S.bool,autoFocus:S.bool,autoAdjustOverflow:S.bool,className:S.string,clearIcon:S.node,children:S.node,data:S.array,defaultOpen:S.bool,defaultValue:S.oneOfType([S.string,S.number]),defaultActiveFirstOption:S.bool,disabled:S.bool,dropdownMatchSelectWidth:S.bool,dropdownClassName:S.string,dropdownStyle:S.object,emptyContent:S.node,id:S.string,insetLabel:S.node,insetLabelId:S.string,onSearch:S.func,onSelect:S.func,onClear:S.func,onBlur:S.func,onFocus:S.func,onChange:S.func,onKeyDown:S.func,position:S.oneOf(cwt),placeholder:S.string,prefix:S.node,onChangeWithObject:S.bool,onSelectWithObject:S.bool,renderItem:S.func,renderSelectedItem:S.func,suffix:S.node,showClear:S.bool,size:S.oneOf(uwt),style:S.object,stopPropagation:S.oneOfType([S.bool,S.string]),maxHeight:S.oneOfType([S.string,S.number]),mouseEnterDelay:S.number,mouseLeaveDelay:S.number,motion:S.oneOfType([S.bool,S.func,S.object]),getPopupContainer:S.func,triggerRender:S.func,value:S.oneOfType([S.string,S.number]),validateStatus:S.oneOf(dwt),zIndex:S.number};vC.Option=YP;vC.__SemiComponentName__="AutoComplete";vC.defaultProps=Du(vC.__SemiComponentName__,{stopPropagation:!0,motion:!0,zIndex:mc.DEFAULT_Z_INDEX,position:"bottomLeft",data:[],showClear:!1,size:"default",onFocus:be,onSearch:be,onClear:be,onBlur:be,onSelect:be,onChange:be,onSelectWithObject:!1,onDropdownVisibleChange:be,defaultActiveFirstOption:!1,dropdownMatchSelectWidth:!0,loading:!1,maxHeight:300,validateStatus:"default",autoFocus:!1,emptyContent:null,onKeyDown:be});const hwt={PREFIX:`${nt}-avatar`},lj={SHAPE:["circle","square"],SIZE:["extra-extra-small","extra-small","small","default","medium","large","extra-large"],COLOR:["grey","red","pink","purple","violet","indigo","blue","light-blue","cyan","teal","green","light-green","lime","yellow","amber","orange","white"]};class fwt extends jn{constructor(e){super(Object.assign({},e)),this.handleFocusVisible=t=>{const{target:i}=t;try{i.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch{gs(!0,"Warning: [Semi Avatar] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this._adapter.setFocusVisible(!1)},this.changeScale=()=>{const{gap:t}=this.getProps(),i=this._adapter.getAvatarNode(),r=i==null?void 0:i.firstChild,[s,a]=[(i==null?void 0:i.offsetWidth)||0,(r==null?void 0:r.offsetWidth)||0];if(s!==0&&a!==0&&t*2<s){const o=s-t*2>a?1:(s-t*2)/a;this._adapter.setScale(o)}}}init(){const{children:e}=this.getProps();typeof e=="string"&&this.changeScale()}destroy(){}handleImgLoadError(){const{onError:e}=this.getProps();(e?e():void 0)!==!1&&this._adapter.notifyImgState(!1)}handleEnter(e){this._adapter.notifyEnter(e)}handleLeave(e){this._adapter.notifyLeave(e)}}const pwt=n=>{let{gradientStart:e,gradientEnd:t}=n;const i=Dm();return M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"51",height:"52",viewBox:"0 0 51 52",fill:"none"},M.createElement("g",{filter:"url(#filter0_d_6_2)"},M.createElement("path",{d:"M40.4918 46.5592C44.6795 43.176 46.261 34.1333 47.5301 25.6141C49.5854 11.8168 39.6662 1 25.8097 1C11.2857 1 3 11.4279 3 25.3518C3 33.7866 6.29361 43.8947 10.4602 46.5592C12.5868 47.9192 12.5868 47.9051 25.8097 47.9192C38.3651 47.9282 38.5352 48.14 40.4918 46.5592Z",fill:`url(#${i})`})),M.createElement("defs",null,M.createElement("filter",{id:"filter0_d_6_2",x:"0.789215",y:"0.447304",width:"49.2216",height:"51.3549",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},M.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),M.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),M.createElement("feOffset",{dy:"1.65809"}),M.createElement("feGaussianBlur",{stdDeviation:"1.10539"}),M.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0"}),M.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_6_2"}),M.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_6_2",result:"shape"})),M.createElement("linearGradient",{id:i,x1:"17.671",y1:"31.7392",x2:"17.671",y2:"47.9333",gradientUnits:"userSpaceOnUse"},M.createElement("stop",{stopColor:e}),M.createElement("stop",{offset:"1",stopColor:t}))))};var gwt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const mwt=lj.SIZE,vwt=lj.SHAPE,ywt=lj.COLOR,fr=hwt.PREFIX;class yC extends An{constructor(e){super(e),this.handleFocusVisible=t=>{this.foundation.handleFocusVisible(t)},this.handleBlur=t=>{this.foundation.handleBlur()},this.getContent=()=>{const{children:t,onClick:i,imgAttr:r,src:s,srcSet:a,alt:o}=this.props,{isImgExist:l}=this.state;let u=t;const c=i!==Xr,d=s&&l,h={tabIndex:0,onKeyDown:this.handleKeyDown,onFocus:this.handleFocusVisible,onBlur:this.handleBlur};if(d){const f=c?`clickable Avatar: ${o}`:o,p=Object.assign(Object.assign({src:s,srcSet:a,onError:this.handleError},r),{className:le({[`${fr}-no-focus-visible`]:c})}),g=c?Object.assign(Object.assign({},p),h):p;u=M.createElement("img",Object.assign({alt:f},g))}else if(typeof t=="string"){const f=o??t,g={role:"img","aria-label":c?`clickable Avatar: ${f}`:f,className:le(`${fr}-label`,{[`${fr}-no-focus-visible`]:c})},m=c?Object.assign(Object.assign({},g),h):g,v={transform:`scale(${this.state.scale})`};u=M.createElement("span",{className:`${fr}-content`,style:v},M.createElement("span",Object.assign({},m,{"x-semi-prop":"children"}),t))}return u},this.renderBottomSlot=()=>{var t,i;if(!this.props.bottomSlot)return null;if(this.props.bottomSlot.render)return this.props.bottomSlot.render();const r=(t=this.props.bottomSlot.render)!==null&&t!==void 0?t:()=>{var s;const a={};return this.props.bottomSlot.bgColor&&(a.backgroundColor=this.props.bottomSlot.bgColor),this.props.bottomSlot.textColor&&(a.color=this.props.bottomSlot.textColor),M.createElement("span",{style:a,className:le(`${fr}-bottom_slot-shape_${this.props.bottomSlot.shape}`,`${fr}-bottom_slot-shape_${this.props.bottomSlot.shape}-${this.props.size}`,(s=this.props.bottomSlot.className)!==null&&s!==void 0?s:"")},this.props.bottomSlot.text)};return M.createElement("div",{className:le([`${fr}-bottom_slot`]),style:(i=this.props.bottomSlot.style)!==null&&i!==void 0?i:{}},r())},this.renderTopSlot=()=>{var t,i,r,s;if(!this.props.topSlot)return null;if(this.props.topSlot.render)return this.props.topSlot.render();const a={};return this.props.topSlot.textColor&&(a.color=this.props.topSlot.textColor),M.createElement("div",{style:(t=this.props.topSlot.style)!==null&&t!==void 0?t:{},className:le([`${fr}-top_slot-wrapper`,(i=this.props.topSlot.className)!==null&&i!==void 0?i:"",{[`${fr}-animated`]:this.props.contentMotion}])},M.createElement("div",{className:le([`${fr}-top_slot-bg`,`${fr}-top_slot-bg-${this.props.size}`])},M.createElement("div",{className:le([`${fr}-top_slot-bg-svg`,`${fr}-top_slot-bg-svg-${this.props.size}`])},M.createElement(pwt,{gradientStart:(r=this.props.topSlot.gradientStart)!==null&&r!==void 0?r:"var(--semi-color-primary)",gradientEnd:(s=this.props.topSlot.gradientEnd)!==null&&s!==void 0?s:"var(--semi-color-primary)"}))),M.createElement("div",{className:le([`${fr}-top_slot`])},M.createElement("div",{style:a,className:le([`${fr}-top_slot-content`,`${fr}-top_slot-content-${this.props.size}`])},this.props.topSlot.text)))},this.state={isImgExist:!0,hoverContent:"",focusVisible:!1,scale:1},this.onEnter=this.onEnter.bind(this),this.onLeave=this.onLeave.bind(this),this.handleError=this.handleError.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.getContent=this.getContent.bind(this),this.avatarRef=M.createRef()}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyImgState:e=>{this.setState({isImgExist:e})},notifyEnter:e=>{const{hoverMask:t}=this.props,i=t;this.setState({hoverContent:i},()=>{const{onMouseEnter:r}=this.props;r&&r(e)})},notifyLeave:e=>{this.setState({hoverContent:""},()=>{const{onMouseLeave:t}=this.props;t&&t(e)})},setFocusVisible:e=>{this.setState({focusVisible:e})},setScale:e=>{this.setState({scale:e})},getAvatarNode:()=>{var e;return(e=this.avatarRef)===null||e===void 0?void 0:e.current}})}componentDidMount(){this.foundation=new fwt(this.adapter),this.foundation.init()}componentDidUpdate(e){if(this.props.src&&this.props.src!==e.src){const t=new Image(0,0);t.src=this.props.src,t.onload=()=>{this.setState({isImgExist:!0})},t.onerror=()=>{this.setState({isImgExist:!1})},t.onabort=()=>{this.setState({isImgExist:!1})}}typeof this.props.children=="string"&&this.props.children!==e.children&&this.foundation.changeScale()}componentWillUnmount(){this.foundation.destroy()}onEnter(e){this.foundation.handleEnter(e)}onLeave(e){this.foundation.handleLeave(e)}handleError(){this.foundation.handleImgLoadError()}handleKeyDown(e){const{onClick:t}=this.props;switch(e.key){case"Enter":t(e),xu(e);break;case"Escape":e.target.blur();break}}render(){var e;const t=this.props,{shape:i,children:r,size:s,color:a,className:o,hoverMask:l,onClick:u,imgAttr:c,src:d,srcSet:h,style:f,alt:p,gap:g,bottomSlot:m,topSlot:v,border:_,contentMotion:y}=t,x=gwt(t,["shape","children","size","color","className","hoverMask","onClick","imgAttr","src","srcSet","style","alt","gap","bottomSlot","topSlot","border","contentMotion"]),{isImgExist:w,hoverContent:T,focusVisible:E}=this.state;let A={};lj.SIZE.includes(s)||(A={width:s,height:s}),A=Object.assign(Object.assign({},A),f);const k=m||v||_,P={onClick:u,onMouseEnter:this.onEnter,onMouseLeave:this.onLeave},I=d&&w,D=le(fr,{[`${fr}-${i}`]:i,[`${fr}-${s}`]:s,[`${fr}-${a}`]:a&&!I,[`${fr}-img`]:I,[`${fr}-focus`]:E,[`${fr}-animated`]:y},o),L=T?M.createElement("div",{className:`${fr}-hover`,"x-semi-prop":"hoverContent"},T):null;let B=M.createElement("span",Object.assign({},x,{style:k?{}:A,className:D},k?{}:P,{role:"listitem",ref:this.avatarRef}),this.getContent(),L);if(_){const F={};typeof _=="object"&&(_!=null&&_.color)&&(F.borderColor=_==null?void 0:_.color),B=M.createElement("div",{style:Object.assign({position:"relative"},A)},B,M.createElement("span",{style:F,className:le([`${fr}-additionalBorder`,`${fr}-additionalBorder-${s}`,{[`${fr}-${i}`]:i}])}),typeof this.props.border=="object"&&this.props.border.motion&&M.createElement("span",{style:F,className:le([`${fr}-additionalBorder`,`${fr}-additionalBorder-${s}`,{[`${fr}-${i}`]:i,[`${fr}-additionalBorder-animated`]:typeof this.props.border=="object"&&((e=this.props.border)===null||e===void 0?void 0:e.motion)}])}))}return k?M.createElement("span",Object.assign({className:le([`${fr}-wrapper`]),style:A},P),B,v&&["extra-small","small","default","medium","large","extra-large"].includes(s)&&i==="circle"&&this.renderTopSlot(),m&&["extra-small","small","default","medium","large","extra-large"].includes(s)&&this.renderBottomSlot()):B}}yC.__SemiComponentName__="Avatar";yC.defaultProps=Du(yC.__SemiComponentName__,{size:"medium",color:"grey",shape:"circle",gap:3,onClick:Xr,onMouseEnter:Xr,onMouseLeave:Xr});yC.propTypes={children:S.node,color:S.oneOf(ywt),shape:S.oneOf(vwt),size:S.oneOf(mwt),hoverMask:S.node,className:S.string,style:S.object,gap:S.number,imgAttr:S.object,src:S.string,srcSet:S.string,alt:S.string,onError:S.func,onClick:S.func,onMouseEnter:S.func,onMouseLeave:S.func,bottomSlot:S.shape({render:S.func,shape:S.oneOf(["circle","square"]),text:S.node,bgColor:S.string,textColor:S.string,className:S.string,style:S.object}),topSlot:S.shape({render:S.func,gradientStart:S.string,gradientEnd:S.string,text:S.node,textColor:S.string,className:S.string,style:S.object}),border:S.oneOfType([S.shape({color:S.string,motion:S.bool}),S.bool]),contentMotion:S.bool};yC.elementType="Avatar";var _wt=4,bwt=.001,Swt=1e-7,xwt=10,ME=11,YR=1/(ME-1),wwt=typeof Float32Array=="function";function O1e(n,e){return 1-3*e+3*n}function P1e(n,e){return 3*e-6*n}function M1e(n){return 3*n}function tF(n,e,t){return((O1e(e,t)*n+P1e(e,t))*n+M1e(e))*n}function I1e(n,e,t){return 3*O1e(e,t)*n*n+2*P1e(e,t)*n+M1e(e)}function Cwt(n,e,t,i,r){var s,a,o=0;do a=e+(t-e)/2,s=tF(a,i,r)-n,s>0?t=a:e=a;while(Math.abs(s)>Swt&&++o<xwt);return a}function Twt(n,e,t,i){for(var r=0;r<_wt;++r){var s=I1e(e,t,i);if(s===0)return e;var a=tF(e,t,i)-n;e-=a/s}return e}function Ewt(n){return n}var Awt=function(e,t,i,r){if(!(0<=e&&e<=1&&0<=i&&i<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&i===r)return Ewt;for(var s=wwt?new Float32Array(ME):new Array(ME),a=0;a<ME;++a)s[a]=tF(a*YR,e,i);function o(l){for(var u=0,c=1,d=ME-1;c!==d&&s[c]<=l;++c)u+=YR;--c;var h=(l-s[c])/(s[c+1]-s[c]),f=u+h*YR,p=I1e(f,e,i);return p>=bwt?Twt(l,f,e,i):p===0?f:Cwt(l,u,u+YR,e,i)}return function(u){return u===0?0:u===1?1:tF(o(u),t,r)}};const FV=yn(Awt);function rle(n,e,t){return Math.min(Math.max(n,e),t)}function kwt(n){const e=/\(([^)]+)\)/.exec(n);return e?e[1].split(",").map(t=>parseFloat(t)):[]}function KR(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;const t=rle(n,1,10),i=rle(e,.1,2);return r=>r===0||r===1?r:-t*Math.pow(2,10*(r-1))*Math.sin((r-1-i/(Math.PI*2)*Math.asin(1/t))*(Math.PI*2)/i)}const BV=(()=>{const n=["Quad","Cubic","Quart","Quint","Sine","Expo","Circ","Back","Elastic"],e={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],KR],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],(i,r)=>s=>1-KR(i,r)(1-s)],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],(i,r)=>s=>s<.5?KR(i,r)(s*2)/2:1-KR(i,r)(s*-2+2)/2]},t={linear:[.25,.25,.75,.75]};for(const i of Object.keys(e))e[i].forEach((r,s)=>{t["ease"+i+n[s]]=r});return t})();function sle(n){if(typeof n=="function")return n;!n||typeof n!="string"?n="linear":n=n.trim();let e=n.split("(")[0];const t=kwt(n);let i;return e==="cubic-bezier"||e==="cubicBezier"?FV(...t.length?t:BV.linear):((!e||typeof e!="string"||typeof e=="string"&&BV[e]==null)&&(e="linear"),i=BV[e],typeof i=="function"?i(...t):t.length?FV(...t):FV(...i))}let Owt=class{constructor(){this._eventMap=new Map}on(e,t){return e&&typeof t=="function"&&(this._eventMap.has(e)||this._eventMap.set(e,[]),this._eventMap.get(e).push(t)),this}once(e,t){var i=this;if(e&&typeof t=="function"){const r=function(){t(...arguments),i.off(e,r)};this.on(e,r)}}off(e,t){if(e)if(typeof t=="function"){const i=this._eventMap.get(e);if(Array.isArray(i)&&i.length){let r=-1;for(;(r=i.findIndex(s=>s===t))>-1;)i.splice(r,1)}}else t==null&&this._eventMap.delete(e);return this}emit(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return this._eventMap.has(e)?(this._eventMap.get(e).forEach(s=>s(...i)),!0):!1}};function qk(n){return!!(n&&typeof n=="object"&&(n.duration>0||typeof n.easing=="string"||typeof n.easing=="function"))}function Pwt(n,e,t,i,r){for(const s of Object.keys(e)){const a=e[s],o=typeof a=="number"?a:a.val;if(!(typeof a=="object"&&a.done)){if(qk(a)&&i&&r&&a.duration){if(a.duration+i<=r||o!==n[s])return!1}else if(typeof t[s]=="number"&&t[s]!==0)return!1;if(n[s]!==o)return!1}}return!0}function XR(n){const e={};for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=typeof n[t]=="number"?n[t]:n[t].val);return e}const GS=[0,0];function ale(n,e,t,i,r,s,a){const o=-r*(e-i),l=-s*t,u=o+l,c=t+u*n,d=e+c*n;return Math.abs(c)<a&&Math.abs(d-i)<a?(GS[0]=i,GS[1]=0,GS):(GS[0]=d,GS[1]=c,GS)}function Mwt(n){const e={},t=n&&Object.keys(n)||[];for(const i of t)e[i]=0;return e}const Iwt={default:{tension:170,friction:26}},Rwt=Object.assign(Object.assign({},Iwt.default),{precision:.01});function Dwt(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(qk(e)){const i=sle(e.easing),r=typeof e.duration=="number"&&e.duration>0?e.duration:1e3;e=Object.assign(Object.assign({},e),{easing:i,duration:r})}let t=Object.assign(Object.assign(Object.assign({},Rwt),e),{done:!1});if(n&&typeof n=="object"&&"val"in n){if(qk(n)){const i=sle(n.easing),r=typeof n.duration=="number"&&n.duration>0?n.duration:parseInt(e.duration)||1e3;n=Object.assign(Object.assign({},n),{easing:i,duration:r})}t=Object.assign(Object.assign({},t),n)}else t=Object.assign(Object.assign({},t),{val:n});return t}const XT=()=>Date.now(),Cv=1e3/60;class R1e extends Owt{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),this._props=Object.assign({},e),this._config=Object.assign({},t),this.initStates()}_wrapConfig(e,t){t=t&&typeof t=="object"?t:this._config;const i={};for(const r of Object.keys(e))i[r]=Dwt(e[r],t);return i}initStates(e,t){e=e&&typeof e=="object"?e:this._props,t=t&&typeof t=="object"?t:this._config;const{from:i,to:r}=e;if(this._from={},i)for(const o of Object.keys(i))this._from[o]=typeof i[o]=="object"&&i[o].val?i[o].val:i[o];this._to=this._wrapConfig(r,t),this._delay=parseInt(t.delay)||0;const s=this._from&&XR(this._from)||XR(this._to),a=Mwt(s);this._currentStyle=Object.assign({},s),this._currentVelocity=Object.assign({},a),this._lastIdealStyle=Object.assign({},s),this._lastIdealVelocity=Object.assign({},a),this.resetPlayStates(),this._frameCount=0,this._prevTime=0}animate(){this._timer==null&&(this._timer=requestAnimationFrame(e=>{const t=XT();if(Pwt(this._currentStyle,this._to,this._currentVelocity,this._startedTime||t,t)||this._ended||this._stopped){this._wasAnimating&&!this._ended&&!this._stopped&&(this._timer=setTimeout(()=>{clearTimeout(this._timer),this._timer=null,this._ended=!0,this.emit("rest",this.getCurrentStates())},Cv)),this.resetPlayStates();return}this._started||(this._started=!0,this.emit("start",this.getCurrentStates())),this._stopped=!1,this._paused=!1,this._wasAnimating=!0,this._startedTime===0&&(this._startedTime=t);const i=t,r=i-this._prevTime;this._prevTime=i,i-this._startedTime<this._delay&&(this._timer=null,this.animate());const s={},a={},o={},l={},u=this._to&&Object.keys(this._to)||[];for(const c of u){const d=this._to[c];this._accumulatedTime[c]=typeof this._accumulatedTime[c]!="number"?r:this._accumulatedTime[c]+r;const h=this._from[c]!=null&&typeof this._from[c]=="object"?this._from[c].val:this._from[c],f=d.val;if(typeof d=="number")o[c]=d,l[c]=0,s[c]=d,a[c]=0;else{let p=this._lastIdealStyle[c],g=this._lastIdealVelocity[c];if(qk(this._config)||qk(d)){const{easing:m,duration:v}=d;p=h+m((i-this._startedTime)/v)*(f-h),i>=this._startedTime+v&&(p=f,d.done=!0),s[c]=p,o[c]=p}else if(f!=null&&f===this._currentStyle[c])o[c]=f,l[c]=0,s[c]=f,a[c]=0;else{const m=(this._accumulatedTime[c]-Math.floor(this._accumulatedTime[c]/Cv)*Cv)/Cv,v=Math.floor(this._accumulatedTime[c]/Cv);for(let x=0;x<v;x++)[p,g]=ale(Cv/1e3,p,g,d.val,d.tension,d.friction,d.precision);const[_,y]=ale(Cv/1e3,p,g,d.val,d.tension,d.friction,d.precision);o[c]=p+(_-p)*m,l[c]=g+(y-g)*m,s[c]=p,a[c]=g,this._accumulatedTime[c]-=v*Cv}}}this._timer=null,this._currentStyle=Object.assign({},o),this._currentVelocity=Object.assign({},l),this._lastIdealStyle=Object.assign({},s),this._lastIdealVelocity=Object.assign({},a),this._destroyed||(this.emit("frame",this.getCurrentStates()),this.animate())}))}start(){this._prevTime=XT(),this._startedTime=XT(),this.animate()}end(){this._ended||(this._ended=!0,this._currentStyle=this.getFinalStates(),this.emit("frame",this.getFinalStates()),this.emit("rest",this.getFinalStates())),this.destroy()}pause(){this._paused||(this._pausedTime=XT(),this._paused=!0,this.emit("pause",this.getCurrentStates()),this.destroy(),this._destroyed=!1)}resume(){if(this._started&&this._paused){const t=XT()-this._pausedTime;this._paused=!1,this._startedTime+=t,this._prevTime+=t,this._pausedTime=0,this.emit("resume",this.getCurrentStates()),this.animate()}}stop(){this.destroy(),this._stopped||(this._stopped=!0,this.emit("stop",this.getInitialStates()),this.initStates())}destroy(){cancelAnimationFrame(this._timer),clearTimeout(this._timer),this._timer=null,this._destroyed=!0}resetPlayStates(){this._started=!1,this._stopped=!1,this._ended=!1,this._paused=!1,this._destroyed=!1,this._timer=null,this._wasAnimating=!1,this._accumulatedTime={},this._startedTime=0,this._pausedTime=0}reset(){this.destroy(),this.initStates()}reverse(){this.destroy();const e=Object.assign({},this._props),[t,i]=[e.to,e.from];e.from=t,e.to=i,this._props=Object.assign({},e),this.initStates()}getCurrentStates(){return Object.assign({},this._currentStyle)}getInitialStates(){return Object.assign({},XR(this._props.from))}getFinalStates(){return Object.assign({},XR(this._props.to))}}const D1e={PREFIX:`${nt}-button`},KP={sizes:["default","small","large"],iconPositions:["left","right"],htmlTypes:["button","reset","submit"],btnTypes:["primary","secondary","tertiary","warning","danger"],themes:["solid","borderless","light","outline"],DEFAULT_ICON_POSITION:"left"},Lwt={SIZE:["extra-small","small","default","large","extra-large","custom"]};var Fwt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const Bwt=KP.sizes,{htmlTypes:$wt,btnTypes:Nwt}=KP;let XP=class extends q.PureComponent{render(){const e=this.props,{children:t,block:i,htmlType:r,loading:s,circle:a,className:o,style:l,disabled:u,size:c,theme:d,type:h,colorful:f,prefixCls:p,iconPosition:g}=e,m=Fwt(e,["children","block","htmlType","loading","circle","className","style","disabled","size","theme","type","colorful","prefixCls","iconPosition"]),v=Object.assign(Object.assign({disabled:u},Co(m,["x-semi-children-alias"])),{className:le(p,{[`${p}-${h}`]:!u&&h,[`${p}-disabled`]:u,[`${p}-size-large`]:c==="large",[`${p}-size-small`]:c==="small",[`${p}-block`]:i,[`${p}-circle`]:a,[`${p}-${d}`]:d,[`${p}-${h}-disabled`]:u&&h,[`${p}-colorful`]:f},o),type:r,"aria-disabled":u}),_={};return o&&o.includes("-with-icon")||(_["x-semi-prop"]=this.props["x-semi-children-alias"]||"children"),M.createElement("button",Object.assign({},v,{onClick:this.props.onClick,onMouseDown:this.props.onMouseDown,style:l}),M.createElement("span",Object.assign({className:le(`${p}-content`,this.props.contentClassName),onClick:y=>u&&y.stopPropagation()},_),t))}};XP.defaultProps={disabled:!1,size:"default",type:"primary",theme:"light",block:!1,htmlType:"button",onMouseDown:Xr,onClick:Xr,onMouseEnter:Xr,onMouseLeave:Xr,colorful:!1,prefixCls:D1e.PREFIX};XP.propTypes={children:S.node,disabled:S.bool,prefixCls:S.string,style:S.object,size:S.oneOf(Bwt),type:S.oneOf(Nwt),block:S.bool,onClick:S.func,onMouseDown:S.func,circle:S.bool,loading:S.bool,htmlType:S.oneOf($wt),theme:S.oneOf(KP.themes),className:S.string,onMouseEnter:S.func,onMouseLeave:S.func,"aria-label":S.string,contentClassName:S.string};var jwt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const zwt=Lwt.SIZE;class ff extends q.PureComponent{render(){const e=this.props,{children:t,iconPosition:i,iconSize:r,iconStyle:s,style:a,icon:o,noHorizontalPadding:l,theme:u,className:c,prefixCls:d,loading:h}=e,f=jwt(e,["children","iconPosition","iconSize","iconStyle","style","icon","noHorizontalPadding","theme","className","prefixCls","loading"]),p=Object.assign({},a),{colorful:g,type:m,disabled:v}=f;Array.isArray(l)?(l.includes("left")&&(p.paddingLeft=0),l.includes("right")&&(p.paddingRight=0)):l===!0?(p.paddingLeft=0,p.paddingRight=0):typeof l=="string"&&(l==="left"&&(p.paddingLeft=0),l==="right"&&(p.paddingRight=0));let _=null,y=null;if(h&&!f.disabled)g&&["light","outline","borderless"].includes(u)||u==="solid"&&m==="tertiary"?y=M.createElement(ySt,{className:`${d}-content-loading-icon`}):y=M.createElement(E1e,null);else if(M.isValidElement(o))if(g){const A=u==="solid"&&m==="tertiary"||m==="primary"&&["light","borderless"].includes(u),k=m==="tertiary"&&["light","borderless","outline"].includes(u);if(A){let P;v?P=new Array(4).fill("var(--semi-color-disabled-text)"):P=["var(--semi-button-colorful-multiple-fill-0)","var(--semi-button-colorful-multiple-fill-1)","var(--semi-button-colorful-multiple-fill-2)","var(--semi-button-colorful-multiple-fill-3)"],y=M.cloneElement(o,{fill:P})}else if(k){let P;v?P=new Array(2).fill("var(--semi-color-disabled-text)"):P=["var(--semi-button-colorful-fill-primary)","var(--semi-button-colorful-fill-secondary)"],y=M.cloneElement(o,{fill:P})}else y=o}else y=o;const x=le({[`${d}-content-left`]:i==="right",[`${d}-content-right`]:i==="left"}),w=this.props["x-semi-children-alias"]||"children",T=t!=null?M.createElement("span",{className:x,"x-semi-prop":w},t):null;i==="left"?_=M.createElement(M.Fragment,null,y,T):_=M.createElement(M.Fragment,null,T,y);const E=le(c,`${d}-with-icon`,{[`${d}-with-icon-only`]:T==null||T==="",[`${d}-loading`]:h});return M.createElement(XP,Object.assign({},f,{className:E,theme:u,style:p}),_)}}ff.defaultProps={iconPosition:KP.DEFAULT_ICON_POSITION,prefixCls:D1e.PREFIX,loading:!1,noHorizontalPadding:!1,onMouseEnter:be,onMouseLeave:be};ff.elementType="IconButton";ff.propTypes={iconStyle:S.object,style:S.object,loading:S.bool,prefixCls:S.string,icon:S.oneOfType([S.object,S.string,S.node]),iconSize:S.oneOf(zwt),noHorizontalPadding:S.oneOfType([S.bool,S.string,S.array]),children:S.node,theme:S.string,iconPosition:S.oneOf(KP.iconPositions),className:S.string,onMouseEnter:S.func,onMouseLeave:S.func};class Xl extends M.PureComponent{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e)}render(){const e=Object.assign({},this.props),t=!!e.icon,i=!!e.loading,r=!!e.disabled;return t||i&&!r?M.createElement(ff,Object.assign({},e)):M.createElement(XP,Object.assign({},e))}}Xl.__SemiComponentName__="Button";Xl.propTypes=Object.assign(Object.assign({},XP.propTypes),ff.propTypes);Xl.defaultProps=Du(Xl.__SemiComponentName__);Xl.elementType="Button";const Hwt={PREFIX:`${nt}-space`},ab={ALIGN_SET:["start","end","center","baseline"],SPACING_LOOSE:"loose",SPACING_MEDIUM:"medium",SPACING_TIGHT:"tight"},Vwt="Symbol(react.fragment)",nG=n=>{let e=[];return M.Children.forEach(n,t=>{t!=null&&(Array.isArray(t)?e=e.concat(nG(t)):q.isValidElement(t)&&t.type&&t.type.toString()===Vwt&&t.props?e=e.concat(nG(t.props.children)):e.push(t))}),e},Yh=Hwt.PREFIX;class FX extends q.PureComponent{render(){const{children:e=null,style:t,className:i,spacing:r,wrap:s,align:a,vertical:o}=this.props,l=s&&o?!1:s,u=Object.assign({},t);let c="",d="";oi(r)?(c=r,d=r):Ns(r)?(u.rowGap=r,u.columnGap=r):Z9(r)&&(oi(r[0])?c=r[0]:Ns(r[0])&&(u.columnGap=`${r[0]}px`),oi(r[1])?d=r[1]:Ns(r[1])&&(u.rowGap=`${r[1]}px`));const h=le(Yh,i,{[`${Yh}-align-${a}`]:a,[`${Yh}-vertical`]:o,[`${Yh}-horizontal`]:!o,[`${Yh}-wrap`]:l,[`${Yh}-tight-horizontal`]:c===ab.SPACING_TIGHT,[`${Yh}-tight-vertical`]:d===ab.SPACING_TIGHT,[`${Yh}-medium-horizontal`]:c===ab.SPACING_MEDIUM,[`${Yh}-medium-vertical`]:d===ab.SPACING_MEDIUM,[`${Yh}-loose-horizontal`]:c===ab.SPACING_LOOSE,[`${Yh}-loose-vertical`]:d===ab.SPACING_LOOSE}),f=nG(e),p=h0(this.props);return M.createElement("div",Object.assign({},p,{className:h,style:u,"x-semi-prop":"children"}),f)}}FX.propTypes={wrap:S.bool,align:S.oneOf(ab.ALIGN_SET),vertical:S.bool,spacing:S.oneOfType([S.string,S.number,S.array]),children:S.node,style:S.object,className:S.string};FX.defaultProps={vertical:!1,wrap:!1,spacing:"tight",align:"center"};function Wwt(n,e,t,i){for(var r=n.length,s=t+(i?1:-1);i?s--:++s<r;)if(e(n[s],s,n))return s;return-1}var BX=Wwt;function Uwt(n){return n!==n}var Gwt=Uwt;function Ywt(n,e,t){for(var i=t-1,r=n.length;++i<r;)if(n[i]===e)return i;return-1}var Kwt=Ywt,Xwt=BX,qwt=Gwt,Zwt=Kwt;function Qwt(n,e,t){return e===e?Zwt(n,e,t):Xwt(n,qwt,t)}var $X=Qwt,Jwt=nX,ole=1/0,eCt=17976931348623157e292;function tCt(n){if(!n)return n===0?n:0;if(n=Jwt(n),n===ole||n===-ole){var e=n<0?-1:1;return e*eCt}return n===n?n:0}var nCt=tCt,iCt=nCt;function rCt(n){var e=iCt(n),t=e%1;return e===e?t?e-t:e:0}var qP=rCt,sCt=F0;function aCt(n,e){return sCt(e,function(t){return n[t]})}var oCt=aCt,lCt=oCt,uCt=Jy;function cCt(n){return n==null?[]:lCt(n,uCt(n))}var L1e=cCt;const F1e=yn(L1e);var dCt=$X,hCt=Bf,fCt=gX,pCt=qP,gCt=L1e,mCt=Math.max;function vCt(n,e,t,i){n=hCt(n)?n:gCt(n),t=t&&!i?pCt(t):0;var r=n.length;return t<0&&(t=mCt(r+t,0)),fCt(n)?t<=r&&n.indexOf(e,t)>-1:!!r&&dCt(n,e,t)>-1}var yCt=vCt;const Np=yn(yCt);var _Ct=GN,bCt=$0,SCt=ICe,xCt=Bf,wCt=NP,CCt=Jy,TCt=Object.prototype,ECt=TCt.hasOwnProperty,ACt=SCt(function(n,e){if(wCt(e)||xCt(e)){bCt(e,CCt(e),n);return}for(var t in e)ECt.call(e,t)&&_Ct(n,t,e[t])}),kCt=ACt;const OCt=yn(kCt);var PCt=$X;function MCt(n,e){var t=n==null?0:n.length;return!!t&&PCt(n,e,0)>-1}var B1e=MCt;function ICt(n,e,t){for(var i=-1,r=n==null?0:n.length;++i<r;)if(t(e,n[i]))return!0;return!1}var $1e=ICt,RCt=vX,DCt=B1e,LCt=$1e,FCt=F0,BCt=N0,$Ct=yX,NCt=200;function jCt(n,e,t,i){var r=-1,s=DCt,a=!0,o=n.length,l=[],u=e.length;if(!o)return l;t&&(e=FCt(e,BCt(t))),i?(s=LCt,a=!1):e.length>=NCt&&(s=$Ct,a=!1,e=new RCt(e));e:for(;++r<o;){var c=n[r],d=t==null?c:t(c);if(c=i||c!==0?c:0,a&&d===d){for(var h=u;h--;)if(e[h]===d)continue e;l.push(c)}else s(e,d,i)||l.push(c)}return l}var N1e=jCt,zCt=N1e,HCt=pX,VCt=QN,lle=mX,WCt=VCt(function(n,e){return lle(n)?zCt(n,HCt(e,1,lle,!0)):[]}),UCt=WCt;const _C=yn(UCt);var GCt=WN,YCt=NCe,KCt=x1;function XCt(n,e,t){for(var i=-1,r=e.length,s={};++i<r;){var a=e[i],o=GCt(n,a);t(o,a)&&YCt(s,KCt(a,n),o)}return s}var qCt=XCt;function ZCt(n,e){return n!=null&&e in Object(n)}var QCt=ZCt,JCt=x1,e1t=FP,t1t=Ao,n1t=YN,i1t=sX,r1t=B0;function s1t(n,e,t){e=JCt(e,n);for(var i=-1,r=e.length,s=!1;++i<r;){var a=r1t(e[i]);if(!(s=n!=null&&t(n,a)))break;n=n[a]}return s||++i!=r?s:(r=n==null?0:n.length,!!r&&i1t(r)&&n1t(a,r)&&(t1t(n)||e1t(n)))}var a1t=s1t,o1t=QCt,l1t=a1t;function u1t(n,e){return n!=null&&l1t(n,e,o1t)}var j1e=u1t,c1t=qCt,d1t=j1e;function h1t(n,e){return c1t(n,e,function(t,i){return d1t(n,i)})}var f1t=h1t,p1t=f1t,g1t=ACe,m1t=g1t(function(n,e){return n==null?{}:p1t(n,e)}),v1t=m1t;const Eu=yn(v1t);var y1t=y1;function _1t(n,e,t){for(var i=-1,r=n.length;++i<r;){var s=n[i],a=e(s);if(a!=null&&(o===void 0?a===a&&!y1t(a):t(a,o)))var o=a,l=s}return l}var b1t=_1t;function S1t(n,e){return n>e}var x1t=S1t,w1t=b1t,C1t=x1t,T1t=zP;function E1t(n){return n&&n.length?w1t(n,T1t,C1t):void 0}var A1t=E1t;const k1t=yn(A1t);var $V=dCe,O1t=Lwe,P1t=_X,M1t=1/0,I1t=$V&&1/P1t(new $V([,-0]))[1]==M1t?function(n){return new $V(n)}:O1t,R1t=I1t,D1t=vX,L1t=B1e,F1t=$1e,B1t=yX,$1t=R1t,N1t=_X,j1t=200;function z1t(n,e,t){var i=-1,r=L1t,s=n.length,a=!0,o=[],l=o;if(t)a=!1,r=F1t;else if(s>=j1t){var u=e?null:$1t(n);if(u)return N1t(u);a=!1,r=B1t,l=new D1t}else l=e?[]:o;e:for(;++i<s;){var c=n[i],d=e?e(c):c;if(c=t||c!==0?c:0,a&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),o.push(c)}else r(l,d,t)||(l!==o&&l.push(d),o.push(c))}return o}var H1t=z1t,V1t=H1t;function W1t(n){return n&&n.length?V1t(n):[]}var U1t=W1t;const G1t=yn(U1t),z1e={PREFIX:`${nt}-tree`,PREFIX_OPTION:`${nt}-tree-option`};function H1e(n,e){return`${n}-${e}`}function uj(n){return!Rm(n)&&!lr(n)}function Zv(n,e,t){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const r=[],s=!!i,a=Ce(t,"key","key"),o=Ce(t,"children","children");if(lr(n))return[];function l(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return u.map((d,h)=>{const f=H1e(c?c.pos:"0",h),p=d[a],g={};t&&Object.entries(Co(t,"children")).forEach(_=>{let[y,x]=_;const w=d[x];!lr(w)&&(g[y]=w)});const m=Object.assign(Object.assign(Object.assign({},Eu(d,["key","label","value","icon","disabled","isLeaf"])),g),{parent:c,pos:f,children:null,data:d,_innerDataTag:!0,isEnd:[...c?c.isEnd:[],h===u.length-1]}),v=typeof i=="boolean";return(!s||!v&&i.has(p))&&r.push(m),e.has(p)&&(!s||!v&&i.has(p))?m.children=l(d[o]||[],m):m.children=[],m})}return l(n),r}function Y1t(n,e,t){const i=Ce(t,"key","key"),r=Ce(t,"children","children"),s=(a,o,l)=>{const u=a?a[r]:n,c=a?H1e(l.pos,o):"0";if(a){const d=Ce(a,i,null),h={data:Object.assign({},a),ind:o,pos:c,key:d!==null?d:c,parentPos:l.node?l.pos:null,level:Number(l.level)+1};e(h)}u&&u.forEach((d,h)=>{s(d,h,{node:a,pos:c,level:l?Number(l.level)+1:-1})})};s(null)}function K1t(n,e){const t={},i={},r={},s={posEntities:t,keyEntities:i,valueEntities:r},a=Ce(e,"value","value");return Y1t(n,o=>{const{pos:l,key:u,parentPos:c}=o,d=Object.assign({},o),h=Ce(d,`data.${a}`,null);h!==null&&(r[h]=u),t[l]=d,i[u]=d,d.parent=t[c],d.parent&&(d.parent.children=d.parent.children||[],d.parent.children.push(d))},e),s}function ob(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!uj(n))return[];if(!t&&Array.isArray(n)?n=n.length?[n[0]]:[]:Array.isArray(n)||(n=[n]),Hr(e))return n;const i=[];return n.forEach(r=>{r in e?i.push(e[r]):r&&i.push(r)}),i}function Jp(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=[],r=s=>{if(!s)return;const{children:a}=s;uj(a)&&a.forEach(l=>{i.push(l.key),r(e[l.key])})};return n.forEach(s=>{t&&i.push(s),r(e[s])}),i}function X1t(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const i=[];return n&&n.forEach(r=>{const s=e[r];s&&s.children&&s.children.forEach(a=>{(!t.length||!t.includes(a.key))&&i.push(a.key)})}),i}function NX(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=[];return n.forEach(s=>{e[s]&&e[s].parent&&i.push(e[s].parent.key)}),X1t(G1t(i),e,t?[]:n)}function eg(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=[],r=s=>{s.parent&&(i.push(s.parent.key),r(s.parent))};return n.forEach(s=>{e[s]&&r(e[s]),t&&i.push(s)}),i}function q1t(n,e){const t={};return n.forEach(i=>{if(!e[i])return;const{level:r}=e[i];t[r]?t[r].push(i):t[r]=[i]}),t}function ZP(n,e){const t=Array.isArray(n)?n:[n],i=Jp(t,e,!0),r=new Set([...i]);let s=new Set([]),a=[];const o=q1t(t,e),l=u=>{const{key:c,parent:d,level:h}=u;if(!d||a.includes(c))return;const f=NX([c],e);if(a=[...a,...f],f.every(g=>r.has(g)))r.add(d.key),h-1 in o&&h?o[h-1].push(d.key):o[h-1]=[d.key];else{const g=eg([c],e,!1);s=new Set([...s,...g])}};for(;!Hr(o);){const u=k1t(Object.keys(o).map(c=>Number(c)));o[u].forEach(c=>l(e[c])),delete o[u]}return{checkedKeys:r,halfCheckedKeys:s}}function NV(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(Array.isArray(n)||(n=[n]),t){const i=eg(n,e,!0);return new Set(i)}return new Set(n)}function ule(n,e,t,i){const r=ob(n,i,t);return new Set(eg(r,e,!1))}function cle(n,e,t){let i="show";const r=[...n],s=[...e];if(Math.abs(r.length-s.length)!==1)return{motionType:i,motionKeys:[]};let a=[];return r.length>s.length?(i="hide",a=_C(r,s)):a=_C(s,r),{motionType:a.length===1?i:"show",motionKeys:a.length===1?Jp(a,t,!1):[]}}function V1e(n,e,t,i){if(!t)return!0;let r=t,s=e;return typeof t=="boolean"&&(r=(a,o)=>{const l=a.toLowerCase();return o==null?void 0:o.toString().toLowerCase().includes(l)}),i&&(s=e[i]),r(n,s,e)}function pf(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3?arguments[3]:void 0;const r=[],s=new Set(n);return t?n.forEach(a=>{e[a]&&!uj(e[a].children)&&r.push(a),!e[a]&&i&&r.push(a)}):n.forEach(a=>{if(!e[a]){i&&r.push(a);return}const{parent:o}=e[a];o&&s.has(o.key)||r.push(a)}),r}function dle(n,e,t){const i=[],r=s=>{t[s].children&&t[s].children.forEach(a=>{const{key:o}=a;i.push(o),e.has(o)&&r(o)})};return r(n),i}function W1e(n,e,t,i){const r=Jp([n],e,!0),s=e[n];t=new Set([...t,n]);const a=o=>{if(!o.parent)return;const{key:l}=o;if(NX([l],e).every(d=>t.has(d))){const d=o.parent;t.add(d.key),a(d)}else{const d=eg([l],e,!1);i=new Set([...i,...d])}};return a(s),{checkedKeys:new Set([...t,...r]),halfCheckedKeys:i}}function U1e(n,e,t,i){const r=Jp([n],e,!0),s=e[n];r.forEach(o=>{t.has(o)&&t.delete(o),i.has(o)&&i.delete(o)});const a=o=>{const l=o.parent;if(!l||!t.has(l.key)&&!i.has(l.key))return;const{key:u}=o,d=NX([u],e).some(f=>t.has(f)||i.has(f)),h=eg([u],e,!1);d?h.forEach(f=>{t.has(f)&&(t.delete(f),i.add(f))}):(t.has(l.key)&&t.delete(l.key),i.has(l.key)&&i.delete(l.key),a(l))};return s&&a(s),{checkedKeys:t,halfCheckedKeys:i}}function Z1t(n){const{showFilteredOnly:e,keyEntities:t,inputValue:i,treeData:r,filterTreeNode:s,filterProps:a,prevExpandedKeys:o,keyMaps:l}=n;let u=[];u=Object.values(t).filter(p=>V1e(i,p.data,s,a)).map(p=>p.key);let c=eg(u,t,!1);if(o.length){const p=o.filter(g=>!!t[g]);c=c.concat(p)}const d=Jp(u,t,!0),h=new Set([...d,...c]);return{flattenNodes:Zv(r,new Set(c),l,e&&h),filteredKeys:new Set(u),filteredExpandedKeys:new Set(c),filteredShownKeys:h}}function nF(n,e){const t=Ce(e,"value","value"),i=Ce(e,"key","key");return Array.isArray(n)?n.map(r=>Ce(r,t,r[i])):Ce(n,t,n[i])}function Tv(n,e,t){return e&&uj(n)?nF(n,t):n}function hle(n,e){return[...n].filter(i=>i in e)}function G1e(n,e){const t=Ce(e,"disabled","disabled"),i=Object.keys(n).filter(s=>n[s].data[t]),{checkedKeys:r}=ZP(i,n);return r}const Y1e={PREFIX:`${nt}-cascader`,PREFIX_OPTION:`${nt}-cascader-option`},Bs={SIZE_SET:["small","large","default"],VALIDATE_STATUS:["success","default","error","warning"],SHOW_NEXT_BY_CLICK:"click",SHOW_NEXT_BY_HOVER:"hover",LEAF_ONLY_MERGE_TYPE:"leafOnly",AUTO_MERGE_VALUE_MERGE_TYPE:"autoMergeValue",NONE_MERGE_TYPE:"none",SEARCH_POSITION_TRIGGER:"trigger",RELATED:"related",UN_RELATED:"unRelated"},K1e="_SEMI_CASCADER_SPLIT_";function Q1t(n,e){return`${n}-${e}`}function J1t(n){return!Rm(n)&&!lr(n)}function eTt(n){return Array.isArray(n)?n:[n]}function tTt(n,e,t,i){if(!t)return!0;let r=t,s;return typeof t=="boolean"?(r=(a,o)=>{const l=a.toLowerCase();return o.toLowerCase().includes(l)},s=i.join("")):s=i.join(),r(n,s,e)}function nTt(n,e){const t=(i,r,s)=>{const a=i?i.children:n;let o=null;if(i){const l=s?`${s.key}${K1e}${i.value}`:`${i.value}`,u=s?Q1t(s.pos,r):`${r}`;o={data:Object.assign({},i),ind:r,key:l,pos:u,level:s?s.level+1:0,parentKey:s?s.key:null,path:s?[...s.path,l]:[l],valuePath:s?[...s.valuePath,i.value]:[i.value]},e(o)}a&&a.forEach((l,u)=>{t(l,u,o)})};t(null)}function iTt(n){return n!=null&&n.length?Array.isArray(n[0])?n.map(e=>iF(e)):[iF(n)]:[]}function iF(n){return n.join(K1e)}function rTt(n,e){const t=n.split("-").map(s=>Number(s));let i=e,r=[];return t.forEach((s,a)=>{var o;i=a===0?i[s]:(o=i==null?void 0:i.children)===null||o===void 0?void 0:o[s],r.push(i==null?void 0:i.value)}),iF(r)}function X1e(n){const e={};return nTt(n,t=>{const{key:i,parentKey:r}=t,s=Object.assign({},t);e[i]=s,s.parent=e[r],s.parent&&(s.parent.children=s.parent.children||[],s.parent.children.push(s))}),e}function iG(n,e){let t;return e?t=Bs.LEAF_ONLY_MERGE_TYPE:n?t=Bs.AUTO_MERGE_VALUE_MERGE_TYPE:t=Bs.NONE_MERGE_TYPE,t}class sTt extends jn{constructor(e){super(Object.assign({},e)),this.handleKeyDown=t=>{t.key===S1e&&this.getState("isOpen")&&this.close(t)},this.updateSearching=t=>{this._adapter.updateStates({isSearching:!1})},this.handleTagRemoveByKey=t=>{var i,r;const{keyEntities:s}=this.getStates(),{disabled:a}=this.getProps();if(a)return;const o=(i=s[t])!==null&&i!==void 0?i:{};!(!((r=o==null?void 0:o.data)===null||r===void 0)&&r.disable)&&this._handleMultipleSelect(o),this._adapter.rePositionDropdown()},this.handleTagRemoveInTrigger=t=>{const{treeData:i}=this.getStates(),r=rTt(t,i);this.handleTagRemoveByKey(r)}}init(){const e=this.getProp("open")||this.getProp("defaultOpen");this.collectOptions(!0),this._adapter.updateLoadingKeyRefValue(new Set),this._adapter.updateLoadedKeyRefValue(new Set),e&&!this._isDisabled()&&this.open()}_setEmptyContentMinWidth(){const{style:e}=this.getProps();let t;e&&Ns(e.width)||e&&oi(e.width)&&!e.width.includes("%")?t=e.width:t=this._adapter.getTriggerWidth(),this._adapter.setEmptyContentMinWidth(t)}destroy(){this._adapter.unregisterClickOutsideHandler()}_isDisabled(){return this.getProp("disabled")}_isFilterable(){return!!this.getProp("filterTreeNode")}_notifyChange(e){const{onChangeWithObject:t,multiple:i}=this.getProps(),r=t?[]:"value";if(i){const s=[];e.forEach(a=>{const o=this.getItemPropPath(a,r);s.push(o)}),this._adapter.notifyChange(s)}else{const s=lr(e)||!("key"in e)?[]:this.getItemPropPath(e.key,r);this._adapter.notifyChange(s)}}_isLeaf(e){return this.getProp("loadData")?!!e.isLeaf:!e.children||!e.children.length}_clearInput(){this._adapter.updateInputValue("")}_notifyBlur(e){this._adapter.notifyBlur(e)}_notifyFocus(e){this._adapter.notifyFocus(e)}_isOptionDisabled(e,t){return eg([e],t,!0).some(r=>t[r].data.disabled)}getItemPropPath(e,t,i){const r=i||this.getState("keyEntities"),s=r[e];let a=[];if(s)if(s._notExist)a=s.path;else{const o=s.path;a=Array.isArray(t)?o.map(l=>r[l].data):o.map(l=>r[l].data[t])}return a}_getCacheValue(e){const{selectedKeys:t}=this.getStates(),i=Array.from(t)[0];let r;if(Hr(e[i]))if(Np(i,"not-exist-")){const s=i.match(/not-exist-(\S*)/)[1];Hr(e[s])?r=s:r=e[s].valuePath}else r=i;else r=e[i].valuePath;return r}collectOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{treeData:t,value:i,defaultValue:r}=this.getProps(),s=X1e(t);this._adapter.rePositionDropdown();let a;e?a=r:Hr(s)||(a=this._getCacheValue(s));const o=this._isControlledComponent()?lr(i)?[]:i:a;J1t(o)?this.updateSelectedKey(o,s):this._adapter.updateStates({keyEntities:s})}handleValueChange(e){const{keyEntities:t}=this.getStates();this.updateSelectedKey(e,t)}_getClearSelectedKey(e){const t={},{searchPlaceholder:i,placeholder:r,multiple:s}=this.getProps();return t.selectedKeys=new Set([]),t.activeKeys=new Set([]),t.filteredKeys=new Set([]),e&&!s&&(t.inputPlaceHolder=i||r||"",t.inputValue=""),t}updateSelectedKey(e,t){const{changeOnSelect:i,onChangeWithObject:r,multiple:s}=this.getProps(),{activeKeys:a,loading:o,keyEntities:l,selectedKeys:u}=this.getStates(),c=this._adapter.getLoadingKeyRefValue(),d=this._isFilterable(),h=[...a].filter(y=>c.has(y)),f=eTt(e),p=r&&jo(f[0])?f.map(y=>y.value):f,g=iTt(p);let m={};const v=g.length>0?g[0]:void 0,_=v?t[v]:void 0;if(_)if(i||this._isLeaf(_.data)){if(m.selectedKeys=new Set([v]),h.length||(m.activeKeys=new Set(_.path)),d&&!s){const y=this.renderDisplayText(v,t);m.inputPlaceHolder=y}}else Kn(g,Array.from(u))&&(m=this._getClearSelectedKey(d));else if(e&&e.length){const y=p[p.length-1],x=`not-exist-${y}`,w={data:{label:y,value:y},key:x,path:p,_notExist:!0};if(m.selectedKeys=new Set([x]),d&&!s){const T=this._defaultRenderText(p);m.inputPlaceHolder=T}t[x]=w}else if(o||c!=null&&c.size){m.keyEntities=OCt(l,t),this._adapter.updateStates(m);return}else m=this._getClearSelectedKey(d);m.keyEntities=t,this._adapter.updateStates(m)}open(){const e=this._isFilterable(),{multiple:t}=this.getProps();this._adapter.openMenu(),e&&(this._clearInput(),!t&&this.toggle2SearchInput(!0)),this._isControlledComponent()&&this.reCalcActiveKeys(),this._adapter.notifyDropdownVisibleChange(!0),this._adapter.registerClickOutsideHandler(i=>this.close(i)),this._setEmptyContentMinWidth()}reCalcActiveKeys(){const{selectedKeys:e,activeKeys:t,keyEntities:i}=this.getStates(),r=[...e][0],s=i[r];if(!s)return;const a=new Set(s.path);Kn(a,t)||this._adapter.updateStates({activeKeys:a})}close(e,t){const{multiple:i}=this.getProps();if(this._adapter.closeMenu(),this._adapter.notifyDropdownVisibleChange(!1),this._adapter.unregisterClickOutsideHandler(),this._isFilterable()){const{selectedKeys:r,isSearching:s}=this.getStates();let a="";t&&!i?a=this.renderDisplayText(t):r.size&&!i&&(a=this.renderDisplayText([...r][0])),this._adapter.updateStates({inputValue:a}),!i&&this.toggle2SearchInput(!1),!i&&this._adapter.updateFocusState(!1)}this._notifyBlur(e)}focus(){const{filterTreeNode:e}=this.getProps();e&&this._adapter.focusInput(),this._adapter.updateFocusState(!0)}blur(){const{filterTreeNode:e}=this.getProps();e&&this._adapter.blurInput(),this._adapter.updateFocusState(!1)}toggle2SearchInput(e){e?this._adapter.toggleInputShow(e,()=>this.focus()):this._adapter.toggleInputShow(e,()=>{})}handleItemClick(e,t){this._isDisabled()||(this.handleSingleSelect(e,t),this._adapter.rePositionDropdown())}handleItemHover(e,t){this._isDisabled()||this.handleShowNextByHover(t)}handleShowNextByHover(e){const{keyEntities:t}=this.getStates(),{data:i,key:r}=e,s=this._isLeaf(i),a=t[r].path;this._adapter.updateStates({activeKeys:new Set(a)}),s||this.notifyIfLoadData(e)}onItemCheckboxClick(e){this._isDisabled()||(this._handleMultipleSelect(e),this._adapter.rePositionDropdown())}handleClick(e){const t=this._isDisabled(),i=this._isFilterable(),{isOpen:r}=this.getStates();t||(r?r&&!i&&this.close(e):(this.open(),this._notifyFocus(e)))}handleSelectionEnterPress(e){gc(e)&&this.handleClick(e)}toggleHoverState(e){this._adapter.toggleHovering(e)}_defaultRenderText(e,t){const i=this.getProp("separator");return t&&typeof t=="function"?t(e):e.join(i)}renderDisplayText(e,t){const i=this.getProp("displayRender"),r=this.getProp("displayProp"),s=this.getItemPropPath(e,r,t);return this._defaultRenderText(s,i)}handleNodeLoad(e){const{data:t,key:i}=e,r=new Set(this._adapter.getLoadingKeyRefValue()),a=new Set(this._adapter.getLoadedKeyRefValue()).add(i),o=new Set([...r]);o.delete(i),this._adapter.notifyOnLoad(a,t),this._adapter.updateLoadingKeyRefValue(o),this._adapter.updateLoadedKeyRefValue(a),this._adapter.updateStates({loadingKeys:o,loadedKeys:a})}notifyIfLoadData(e){const{data:t,key:i}=e;if(this._adapter.updateStates({loading:!1}),!t.isLeaf&&!t.children&&this.getProp("loadData")){const r=this._adapter.getLoadedKeyRefValue(),s=new Set(this._adapter.getLoadingKeyRefValue());if(r.has(i)||s.has(i))return;this._adapter.updateStates({loading:!0});const{keyEntities:a}=this.getStates(),o=this.getItemPropPath(i,[],a),l=s.add(i);this._adapter.updateLoadingKeyRefValue(l),this._adapter.updateStates({loadingKeys:l}),this._adapter.notifyLoadData(o,this.handleNodeLoad.bind(this,e))}}handleSingleSelect(e,t){const{changeOnSelect:i,filterLeafOnly:r,multiple:s,enableLeafClick:a}=this.getProps(),{keyEntities:o,selectedKeys:l,isSearching:u}=this.getStates(),c=this._isFilterable(),{data:d,key:h}=t,f=this._isLeaf(d),p=o[h].path,g=[h],m=h!==[...l][0];if(!f&&!i&&!u){this._adapter.updateStates({activeKeys:new Set(p)}),this.notifyIfLoadData(t);return}if(s)this._adapter.updateStates({activeKeys:new Set(p)}),f&&a&&this.onItemCheckboxClick(t);else if(this._adapter.notifySelect(d.value),m){if(this._notifyChange(t),this.notifyIfLoadData(t),this._isControlledComponent()){this._adapter.updateStates({activeKeys:new Set(p)}),f&&this.close(e);return}this._adapter.updateStates({activeKeys:new Set(p),selectedKeys:new Set(g)});const v=this.renderDisplayText(h);c&&this._adapter.updateInputPlaceHolder(v),f?this.close(e,h):!r&&u&&this.close(e,h)}else this.close(e)}_handleMultipleSelect(e){const{checkRelation:t}=this.getProps();t===Bs.RELATED?this._handleRelatedMultipleSelect(e):t==="unRelated"&&this._handleUnRelatedMultipleSelect(e),this._adapter.updateStates({inputValue:""})}_handleRelatedMultipleSelect(e){const{key:t}=e,{checkedKeys:i,keyEntities:r,resolvedCheckedKeys:s}=this.getStates(),{autoMergeValue:a,max:o,disableStrictly:l,leafOnly:u}=this.getProps(),c=i.has(t),d=l?this.calcCheckedStatus(!c,t):!c,{checkedKeys:h,halfCheckedKeys:f}=l?this.calcNonDisabledCheckedKeys(t,d):this.calcCheckedKeys(t,d),p=iG(a,u),g=p===Bs.LEAF_ONLY_MERGE_TYPE,m=p===Bs.NONE_MERGE_TYPE,v=new Set(pf(h,r,g)),_=m?h:v;if(Ns(o)){if(m){if(i.size<h.size&&h.size>o){const y=[];h.forEach(x=>{y.push(r[x])}),this._adapter.notifyOnExceed(y);return}}else if(s.size<v.size&&v.size>o){const y=[];v.forEach(x=>{y.push(r[x])}),this._adapter.notifyOnExceed(y);return}}this._isControlledComponent()||this._adapter.updateStates({checkedKeys:h,halfCheckedKeys:f,resolvedCheckedKeys:v}),this._notifyChange(_),d&&this._notifySelect(_)}_handleUnRelatedMultipleSelect(e){const{key:t}=e,{checkedKeys:i,keyEntities:r}=this.getStates(),{max:s}=this.getProps(),a=new Set(i);let o;if(i.has(t))a.delete(t),o=!1;else{if(Ns(s)&&i.size>=s){const u=[];i.forEach(c=>{u.push(r[c])}),this._adapter.notifyOnExceed(u);return}a.add(t),o=!0}this._isControlledComponent()||this._adapter.updateStates({checkedKeys:a}),this._notifyChange(a),o&&this._notifySelect(a)}calcNonDisabledCheckedKeys(e,t){const{keyEntities:i,disabledKeys:r}=this.getStates(),s=new Set(this.getState("checkedKeys")),a=pf(Jp([e],i,!1),i,!0);if(!a.some(c=>r.has(c)))return this.calcCheckedKeys(e,t);const l=a.filter(c=>!r.has(c)),u=t?[...l,...s]:_C(pf([...s],i,!0),l);return ZP(u,i)}calcCheckedStatus(e,t){if(!e)return e;const{checkedKeys:i,keyEntities:r,disabledKeys:s}=this.getStates(),a=pf(Jp([t],r,!1),r,!0);return a.some(c=>s.has(c))?!a.filter(c=>!s.has(c)).every(c=>i.has(c)):e}_notifySelect(e){const{keyEntities:t}=this.getStates(),i=[];e.forEach(s=>{var a,o;const l=(o=(a=t[s])===null||a===void 0?void 0:a.data)===null||o===void 0?void 0:o.value;l!==void 0&&i.push(l)});const r=i.length===1?i[0]:i;this._adapter.notifySelect(r)}calcCheckedKeys(e,t){const{keyEntities:i}=this.getStates(),r=new Set(this.getState("checkedKeys")),s=new Set(this.getState("halfCheckedKeys"));return t?W1e(e,i,r,s):U1e(e,i,r,s)}handleInputChange(e){this._adapter.updateInputValue(e);const{keyEntities:t}=this.getStates(),{treeNodeFilterProp:i,filterTreeNode:r,filterLeafOnly:s}=this.getProps();let a=[];e&&(a=Object.values(t).filter(o=>{const{key:l,_notExist:u,data:c}=o;if(u)return!1;const d=this.getItemPropPath(l,i);return tTt(e,c,r,d)}).filter(o=>r&&!s||this._isLeaf(o)).map(o=>o.key)),this._adapter.updateStates({isSearching:!!e,filteredKeys:new Set(a)}),this._adapter.notifyOnSearch(e),this._adapter.rePositionDropdown()}handleClear(){const{isSearching:e}=this.getStates(),{searchPlaceholder:t,placeholder:i,multiple:r}=this.getProps(),s=this._isFilterable(),a=this._isControlledComponent(),o={};r?(o.isSearching=!1,this._adapter.updateInputValue(""),this._adapter.notifyOnSearch(""),o.checkedKeys=new Set([]),o.halfCheckedKeys=new Set([]),o.selectedKeys=new Set([]),o.activeKeys=new Set([]),o.resolvedCheckedKeys=new Set([]),this._adapter.notifyChange([])):s&&e?(o.isSearching=!1,this._adapter.updateInputValue(""),this._adapter.notifyOnSearch("")):(s&&(o.inputValue="",o.inputPlaceHolder=t||i||"",this._adapter.updateInputValue(""),this._adapter.notifyOnSearch("")),a||(o.selectedKeys=new Set([])),o.activeKeys=new Set([]),o.filteredKeys=new Set([]),this._adapter.notifyChange([])),this._adapter.updateStates(o),this._adapter.notifyClear(),this._adapter.rePositionDropdown()}handleClearEnterPress(e){gc(e)&&this.handleClear()}getRenderData(){const{keyEntities:e,isSearching:t}=this.getStates(),i=this._isFilterable();return t&&i?this.getFilteredData():Object.values(e).filter(r=>r.parentKey===null&&!r._notExist).sort((r,s)=>parseInt(r.ind,10)-parseInt(s.ind,10))}getFilteredData(){const{treeNodeFilterProp:e,filterSorter:t}=this.getProps(),{filteredKeys:i,keyEntities:r,inputValue:s}=this.getStates(),a=[];return[...i].forEach(l=>{const u=r[l];if(!u)return;const c=this.getItemPropPath(l,[]),d=c.map(f=>f[e]),h=this._isOptionDisabled(l,r);a.push({data:u.data,pathData:c,key:l,disabled:h,searchText:d})}),Mn(t)&&a.sort((l,u)=>t(l.pathData,u.pathData,s)),a}handleListScroll(e,t){const{activeKeys:i,keyEntities:r}=this.getStates(),s=[...i][i.size-1],a=s?Ce(r,[s,"data"],null):null;this._adapter.notifyListScroll(e,{panelIndex:t,activeNode:a})}}var aTt=Ff,oTt=_c,lTt="[object Boolean]";function uTt(n){return n===!0||n===!1||oTt(n)&&aTt(n)==lTt}var cTt=uTt;const q1e=yn(cTt),k2={PREFIX:`${nt}-checkbox`,INPUT:`${nt}-checkbox-input`,WRAPPER:""},dTt={PREFIX:`${nt}-checkboxGroup`},jp={DIRECTION_SET:["horizontal","vertical"],TYPE_DEFAULT:"default",TYPE_CARD:"card",TYPE_PURECARD:"pureCard",DEFAULT_DIRECTION:"vertical"};class hTt extends jn{constructor(e){super(Object.assign({},e)),this.clickState=!1,this.handleFocusVisible=t=>{const{target:i}=t;try{if(this.clickState){this.clickState=!1;return}i.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch{gs(!0,"Warning: [Semi Checkbox] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this.clickState=!1,this._adapter.setFocusVisible(!1)}}init(){const{children:e,extra:t,extraId:i,addonId:r}=this.getProps();e&&!r&&this._adapter.setAddonId(),t&&!i&&this._adapter.setExtraId()}notifyChange(e,t){const i=this._adapter.generateEvent(e,t);this._adapter.notifyChange(i)}handleChange(e){if(this.getProp("disabled"))return;if((e==null?void 0:e.type)==="click"&&(this.clickState=!0),this._adapter.focusCheckboxEntity(),this._adapter.getIsInGroup()){this._adapter.getGroupDisabled()||this.handleChangeInGroup(e);return}const s=!this.getState("checked");this._isControlledComponent("checked")?this.notifyChange(s,e):(this.setChecked(s),this.notifyChange(s,e))}handleChangeInGroup(e){const{value:t}=this.getProps(),s=!this._adapter.getGroupValue().includes(t),a=this._adapter.generateEvent(s,e);this._adapter.notifyChange(a),this._adapter.notifyGroupChange(a)}handleEnterPress(e){gc(e)&&this.handleChange(e)}setChecked(e){this._adapter.setNativeControlChecked(e)}destroy(){}}const jX=M.createContext({});class cj extends q.PureComponent{blur(){this.inputEntity.blur()}focus(){const{preventScroll:e}=this.props;this.inputEntity.focus({preventScroll:e})}render(){const{indeterminate:e,checked:t,disabled:i,prefixCls:r,name:s,isPureCardType:a,addonId:o,extraId:l,focusInner:u,onInputFocus:c,onInputBlur:d}=this.props,h=r||k2.PREFIX,f=le({[`${h}-inner`]:!0,[`${h}-inner-checked`]:!!t,[`${h}-inner-pureCardType`]:a},k2.WRAPPER),p=le({[`${h}-inner-display`]:!0,[`${h}-focus`]:u,[`${h}-focus-border`]:u&&!t}),g=t?M.createElement(ISt,null):e?M.createElement(PSt,null):null,m={type:"checkbox","aria-label":this.props["aria-label"],"aria-disabled":i,"aria-checked":t,"aria-labelledby":o,"aria-describedby":l||this.props["aria-describedby"],"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-required":this.props["aria-required"],className:k2.INPUT,onChange:be,checked:t,disabled:i,onFocus:c,onBlur:d};return s&&(m.name=s),M.createElement("span",{className:f},M.createElement("input",Object.assign({},m,{ref:v=>{this.inputEntity=v}})),M.createElement("span",{className:p},g))}}cj.contextType=jX;cj.propTypes={"aria-describedby":S.string,"aria-errormessage":S.string,"aria-invalid":S.bool,"aria-labelledby":S.string,"aria-required":S.bool,checked:S.bool,disabled:S.bool,onChange:S.func,children:S.node,grouped:S.bool,value:S.any,isPureCardType:S.bool,addonId:S.string,extraId:S.string,focusInner:S.bool,onInputFocus:S.func,onInputBlur:S.func,preventScroll:S.bool};cj.defaultProps={onChange:be};class Of extends An{get adapter(){return Object.assign(Object.assign({},super.adapter),{setNativeControlChecked:e=>{this.setState({checked:e})},notifyChange:e=>{const{onChange:t}=this.props;t&&t(e)},generateEvent:(e,t)=>{const{props:i}=this;return{target:Object.assign(Object.assign({},i),{checked:e}),stopPropagation:()=>{t.stopPropagation()},preventDefault:()=>{t.preventDefault()},nativeEvent:{stopImmediatePropagation:()=>{t.nativeEvent&&typeof t.nativeEvent.stopImmediatePropagation=="function"&&t.nativeEvent.stopImmediatePropagation()}}}},getIsInGroup:()=>this.isInGroup(),getGroupValue:()=>this.context&&this.context.checkboxGroup.value||[],notifyGroupChange:e=>{this.context.checkboxGroup.onChange(e)},getGroupDisabled:()=>this.context&&this.context.checkboxGroup.disabled,setAddonId:()=>{this.setState({addonId:Dm({prefix:"addon"})})},setExtraId:()=>{this.setState({extraId:Dm({prefix:"extra"})})},setFocusVisible:e=>{this.setState({focusVisible:e})},focusCheckboxEntity:()=>{this.focus()}})}constructor(e){super(e),this.handleChange=i=>this.foundation.handleChange(i),this.handleEnterPress=i=>this.foundation.handleEnterPress(i),this.handleFocusVisible=i=>{this.foundation.handleFocusVisible(i)},this.handleBlur=i=>{this.foundation.handleBlur()};const t=!1;this.state={checked:e.checked||e.defaultChecked||t,addonId:e.addonId,extraId:e.extraId,focusVisible:!1},this.checkboxEntity=null,this.foundation=new hTt(this.adapter)}componentDidUpdate(e){this.props.checked!==e.checked&&(lr(this.props.checked)?this.foundation.setChecked(!1):q1e(this.props.checked)&&this.foundation.setChecked(this.props.checked))}isInGroup(){return!!(this.context&&this.context.checkboxGroup&&"value"in this.props)}focus(){this.checkboxEntity&&this.checkboxEntity.focus()}blur(){this.checkboxEntity&&this.checkboxEntity.blur()}render(){const{disabled:e,style:t,prefixCls:i,className:r,indeterminate:s,children:a,onMouseEnter:o,onMouseLeave:l,extra:u,value:c,role:d,tabIndex:h,id:f,type:p}=this.props,{checked:g,addonId:m,extraId:v,focusVisible:_}=this.state,y={checked:g,disabled:e},x=this.isInGroup();if(x){if(this.context.checkboxGroup.value){const L=(this.context.checkboxGroup.value||[]).includes(c);y.checked=L}this.context.checkboxGroup.disabled&&(y.disabled=this.context.checkboxGroup.disabled||this.props.disabled);const{isCardType:I,isPureCardType:D}=this.context.checkboxGroup;y.isCardType=I,y.isPureCardType=D,y.name=this.context.checkboxGroup.name}else y.isPureCardType=p===jp.TYPE_PURECARD,y.isCardType=p===jp.TYPE_CARD||y.isPureCardType;const w=i||k2.PREFIX,T=y.isCardType||y.isPureCardType,E=le(w,{[`${w}-disabled`]:y.disabled,[`${w}-indeterminate`]:s,[`${w}-checked`]:y.checked,[`${w}-unChecked`]:!y.checked,[`${w}-cardType`]:y.isCardType,[`${w}-cardType_disabled`]:y.disabled&&y.isCardType,[`${w}-cardType_enable`]:!(y.disabled&&y.isCardType),[`${w}-cardType_checked`]:y.isCardType&&y.checked&&!y.disabled,[`${w}-cardType_checked_disabled`]:y.isCardType&&y.checked&&y.disabled,[r]:!!r,[`${w}-focus`]:_&&T}),A=le(`${w}-extra`,{[`${w}-cardType_extra_noChildren`]:y.isCardType&&!a});x&&this.context.checkboxGroup.name;const k=this.props["x-semi-children-alias"]||"children",P=()=>!a&&!u?null:M.createElement("div",{className:`${w}-content`},a?M.createElement("span",{id:m,className:`${w}-addon`,"x-semi-prop":k},a):null,u?M.createElement("div",{id:v,className:A,"x-semi-prop":"extra"},u):null);return M.createElement("span",Object.assign({role:d,tabIndex:h,style:t,className:E,id:f,onMouseEnter:o,onMouseLeave:l,onClick:this.handleChange,onKeyPress:this.handleEnterPress,"aria-labelledby":this.props["aria-labelledby"]},this.getDataAttr(this.props)),M.createElement(cj,Object.assign({},this.props,y,{addonId:a&&m,extraId:u&&v,isPureCardType:y.isPureCardType,ref:I=>{this.checkboxEntity=I},focusInner:_&&!T,onInputFocus:this.handleFocusVisible,onInputBlur:this.handleBlur})),P())}}Of.contextType=jX;Of.propTypes={"aria-describedby":S.string,"aria-errormessage":S.string,"aria-invalid":S.bool,"aria-labelledby":S.string,"aria-required":S.bool,checked:S.bool,defaultChecked:S.bool,disabled:S.bool,indeterminate:S.bool,onChange:S.func,value:S.any,style:S.object,className:S.string,prefixCls:S.string,onMouseEnter:S.func,onMouseLeave:S.func,extra:S.node,index:S.number,"aria-label":S.string,tabIndex:S.number,preventScroll:S.bool,type:S.string};Of.defaultProps={defaultChecked:!1,indeterminate:!1,onChange:be,onMouseEnter:be,onMouseLeave:be,type:"default"};Of.elementType="Checkbox";class zX extends jn{static get checkboxGroupDefaultAdapter(){return{}}constructor(e){super(Object.assign(Object.assign({},zX.checkboxGroupDefaultAdapter),e))}init(){const{defaultValue:e,value:t}=this.getProps();typeof e<"u"&&!Array.isArray(e)&&gs(!0,"Warning: [Semi CheckboxGroup] defaultValue should be an Array"),typeof t<"u"&&!Array.isArray(t)&&gs(!0,"Warning: [Semi CheckboxGroup] value should be an Array")}notifyChange(e){this._adapter.notifyChange(e)}handleChange(e){const t=this.getState("value");let i=[];Array.isArray(t)||(i=[t]),e.target.checked?i=[...t,e.target.value]:i=t.filter((s,a)=>s!==e.target.value),"value"in this.getProps()?this.notifyChange(i):(this._adapter.updateGroupValue(i),this.notifyChange(i))}getFormatName(){return this.getProp("name")||"default"}handlePropValueChange(e){Array.isArray(e)?this._adapter.updateGroupValue(e):(typeof e>"u"&&this._adapter.updateGroupValue([]),gs(!0,"Warning: [Semi CheckboxGroup] value should be an Array"))}destroy(){}}class QP extends An{get adapter(){return Object.assign(Object.assign({},super.adapter),{updateGroupValue:e=>{this.setState({value:e})},notifyChange:e=>{this.props.onChange&&this.props.onChange(e)}})}constructor(e){super(e),this.state={value:e.value||e.defaultValue},this.foundation=new zX(this.adapter),this.onChange=this.onChange.bind(this)}componentDidMount(){this.foundation.init()}componentDidUpdate(e){Kn(e.value,this.props.value)||this.foundation.handlePropValueChange(this.props.value)}componentWillUnmount(){this.foundation.destroy()}onChange(e){this.foundation.handleChange(e)}render(){const{children:e,options:t,prefixCls:i,direction:r,className:s,id:a,style:o,type:l,disabled:u}=this.props,c=l===jp.TYPE_PURECARD,d=l===jp.TYPE_CARD||c,h=i||dTt.PREFIX,f=le({[h]:!0,[`${h}-wrapper`]:!0,[`${h}-${r}`]:r,[`${h}-${r}-cardType`]:r&&d,[`${h}-${r}-pureCardType`]:r&&c},s),p=this.state.value.slice();let g;return t?g=(t||[]).map((m,v)=>typeof m=="string"?M.createElement(Of,{role:"listitem",key:v,disabled:this.props.disabled,value:m,prefixCls:i},m):M.createElement(Of,{role:"listitem",key:v,disabled:m.disabled||this.props.disabled,value:m.value,prefixCls:i,extra:m.extra,className:m.className,style:m.style,onChange:m.onChange},m.label)):e&&(g=M.Children.toArray(e).map((m,v)=>M.cloneElement(m,{key:v,role:"listitem"}))),M.createElement("div",Object.assign({id:a,role:"list","aria-label":this.props["aria-label"],className:f,style:o,"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"]},this.getDataAttr(this.props)),M.createElement(jX.Provider,{value:{checkboxGroup:{onChange:this.onChange,value:p,disabled:this.props.disabled,name:this.foundation.getFormatName(),isCardType:d,isPureCardType:c}}},g))}}QP.propTypes={"aria-describedby":S.string,"aria-errormessage":S.string,"aria-invalid":S.bool,"aria-labelledby":S.string,"aria-required":S.bool,defaultValue:S.array,disabled:S.bool,name:S.string,options:S.array,value:S.array,onChange:S.func,children:S.node,prefixCls:S.string,direction:S.oneOf(jp.DIRECTION_SET),className:S.string,type:S.oneOf([jp.TYPE_DEFAULT,jp.TYPE_CARD,jp.TYPE_PURECARD]),style:S.object};QP.defaultProps={disabled:!1,onChange:()=>{},type:jp.TYPE_DEFAULT,defaultValue:[],direction:jp.DEFAULT_DIRECTION};class Zk extends Of{}Zk.Group=QP;function rG(){return rG=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},rG.apply(null,arguments)}function fTt(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,qL(n,e)}var fle=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function pTt(n,e){return!!(n===e||fle(n)&&fle(e))}function gTt(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!pTt(n[t],e[t]))return!1;return!0}function Cb(n,e){e===void 0&&(e=gTt);var t,i=[],r,s=!1;function a(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return s&&t===this&&e(o,i)||(r=n.apply(this,o),s=!0,t=this,i=o),r}return a}var mTt=typeof performance=="object"&&typeof performance.now=="function",ple=mTt?function(){return performance.now()}:function(){return Date.now()};function gle(n){cancelAnimationFrame(n.id)}function vTt(n,e){var t=ple();function i(){ple()-t>=e?n.call(null):r.id=requestAnimationFrame(i)}var r={id:requestAnimationFrame(i)};return r}var jV=-1;function mle(n){if(n===void 0&&(n=!1),jV===-1||n){var e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",document.body.appendChild(e),jV=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return jV}var YS=null;function vle(n){if(n===void 0&&(n=!1),YS===null||n){var e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";var i=document.createElement("div"),r=i.style;return r.width="100px",r.height="100px",e.appendChild(i),document.body.appendChild(e),e.scrollLeft>0?YS="positive-descending":(e.scrollLeft=1,e.scrollLeft===0?YS="negative":YS="positive-ascending"),document.body.removeChild(e),YS}return YS}var yTt=150,_Tt=function(e,t){return e};function Z1e(n){var e,t=n.getItemOffset,i=n.getEstimatedTotalSize,r=n.getItemSize,s=n.getOffsetForIndexAndAlignment,a=n.getStartIndexForOffset,o=n.getStopIndexForStartIndex,l=n.initInstanceProps,u=n.shouldResetStyleCacheOnItemSizeChange,c=n.validateProps;return e=function(d){fTt(h,d);function h(p){var g;return g=d.call(this,p)||this,g._instanceProps=l(g.props,Zt(g)),g._outerRef=void 0,g._resetIsScrollingTimeoutId=null,g.state={instance:Zt(g),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof g.props.initialScrollOffset=="number"?g.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},g._callOnItemsRendered=void 0,g._callOnItemsRendered=Cb(function(m,v,_,y){return g.props.onItemsRendered({overscanStartIndex:m,overscanStopIndex:v,visibleStartIndex:_,visibleStopIndex:y})}),g._callOnScroll=void 0,g._callOnScroll=Cb(function(m,v,_){return g.props.onScroll({scrollDirection:m,scrollOffset:v,scrollUpdateWasRequested:_})}),g._getItemStyle=void 0,g._getItemStyle=function(m){var v=g.props,_=v.direction,y=v.itemSize,x=v.layout,w=g._getItemStyleCache(u&&y,u&&x,u&&_),T;if(w.hasOwnProperty(m))T=w[m];else{var E=t(g.props,m,g._instanceProps),A=r(g.props,m,g._instanceProps),k=_==="horizontal"||x==="horizontal",P=_==="rtl",I=k?E:0;w[m]=T={position:"absolute",left:P?void 0:I,right:P?I:void 0,top:k?0:E,height:k?"100%":A,width:k?A:"100%"}}return T},g._getItemStyleCache=void 0,g._getItemStyleCache=Cb(function(m,v,_){return{}}),g._onScrollHorizontal=function(m){var v=m.currentTarget,_=v.clientWidth,y=v.scrollLeft,x=v.scrollWidth;g.setState(function(w){if(w.scrollOffset===y)return null;var T=g.props.direction,E=y;if(T==="rtl")switch(vle()){case"negative":E=-y;break;case"positive-descending":E=x-_-y;break}return E=Math.max(0,Math.min(E,x-_)),{isScrolling:!0,scrollDirection:w.scrollOffset<E?"forward":"backward",scrollOffset:E,scrollUpdateWasRequested:!1}},g._resetIsScrollingDebounced)},g._onScrollVertical=function(m){var v=m.currentTarget,_=v.clientHeight,y=v.scrollHeight,x=v.scrollTop;g.setState(function(w){if(w.scrollOffset===x)return null;var T=Math.max(0,Math.min(x,y-_));return{isScrolling:!0,scrollDirection:w.scrollOffset<T?"forward":"backward",scrollOffset:T,scrollUpdateWasRequested:!1}},g._resetIsScrollingDebounced)},g._outerRefSetter=function(m){var v=g.props.outerRef;g._outerRef=m,typeof v=="function"?v(m):v!=null&&typeof v=="object"&&v.hasOwnProperty("current")&&(v.current=m)},g._resetIsScrollingDebounced=function(){g._resetIsScrollingTimeoutId!==null&&gle(g._resetIsScrollingTimeoutId),g._resetIsScrollingTimeoutId=vTt(g._resetIsScrolling,yTt)},g._resetIsScrolling=function(){g._resetIsScrollingTimeoutId=null,g.setState({isScrolling:!1},function(){g._getItemStyleCache(-1,null)})},g}h.getDerivedStateFromProps=function(g,m){return bTt(g,m),c(g),null};var f=h.prototype;return f.scrollTo=function(g){g=Math.max(0,g),this.setState(function(m){return m.scrollOffset===g?null:{scrollDirection:m.scrollOffset<g?"forward":"backward",scrollOffset:g,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},f.scrollToItem=function(g,m){m===void 0&&(m="auto");var v=this.props,_=v.itemCount,y=v.layout,x=this.state.scrollOffset;g=Math.max(0,Math.min(g,_-1));var w=0;if(this._outerRef){var T=this._outerRef;y==="vertical"?w=T.scrollWidth>T.clientWidth?mle():0:w=T.scrollHeight>T.clientHeight?mle():0}this.scrollTo(s(this.props,g,m,x,this._instanceProps,w))},f.componentDidMount=function(){var g=this.props,m=g.direction,v=g.initialScrollOffset,_=g.layout;if(typeof v=="number"&&this._outerRef!=null){var y=this._outerRef;m==="horizontal"||_==="horizontal"?y.scrollLeft=v:y.scrollTop=v}this._callPropsCallbacks()},f.componentDidUpdate=function(){var g=this.props,m=g.direction,v=g.layout,_=this.state,y=_.scrollOffset,x=_.scrollUpdateWasRequested;if(x&&this._outerRef!=null){var w=this._outerRef;if(m==="horizontal"||v==="horizontal")if(m==="rtl")switch(vle()){case"negative":w.scrollLeft=-y;break;case"positive-ascending":w.scrollLeft=y;break;default:var T=w.clientWidth,E=w.scrollWidth;w.scrollLeft=E-T-y;break}else w.scrollLeft=y;else w.scrollTop=y}this._callPropsCallbacks()},f.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&gle(this._resetIsScrollingTimeoutId)},f.render=function(){var g=this.props,m=g.children,v=g.className,_=g.direction,y=g.height,x=g.innerRef,w=g.innerElementType,T=g.innerTagName,E=g.itemCount,A=g.itemData,k=g.itemKey,P=k===void 0?_Tt:k,I=g.layout,D=g.outerElementType,L=g.outerTagName,B=g.style,F=g.useIsScrolling,$=g.width,z=this.state.isScrolling,N=_==="horizontal"||I==="horizontal",V=N?this._onScrollHorizontal:this._onScrollVertical,H=this._getRangeToRender(),K=H[0],U=H[1],X=[];if(E>0)for(var Z=K;Z<=U;Z++)X.push(q.createElement(m,{data:A,key:P(Z,A),index:Z,isScrolling:F?z:void 0,style:this._getItemStyle(Z)}));var Q=i(this.props,this._instanceProps);return q.createElement(D||L||"div",{className:v,onScroll:V,ref:this._outerRefSetter,style:rG({position:"relative",height:y,width:$,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:_},B)},q.createElement(w||T||"div",{children:X,ref:x,style:{height:N?"100%":Q,pointerEvents:z?"none":void 0,width:N?Q:"100%"}}))},f._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var g=this.props.itemCount;if(g>0){var m=this._getRangeToRender(),v=m[0],_=m[1],y=m[2],x=m[3];this._callOnItemsRendered(v,_,y,x)}}if(typeof this.props.onScroll=="function"){var w=this.state,T=w.scrollDirection,E=w.scrollOffset,A=w.scrollUpdateWasRequested;this._callOnScroll(T,E,A)}},f._getRangeToRender=function(){var g=this.props,m=g.itemCount,v=g.overscanCount,_=this.state,y=_.isScrolling,x=_.scrollDirection,w=_.scrollOffset;if(m===0)return[0,0,0,0];var T=a(this.props,w,this._instanceProps),E=o(this.props,T,w,this._instanceProps),A=!y||x==="backward"?Math.max(1,v):1,k=!y||x==="forward"?Math.max(1,v):1;return[Math.max(0,T-A),Math.max(0,Math.min(m-1,E+k)),T,E]},h}(q.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},e}var bTt=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},STt=50,Hx=function(e,t,i){var r=e,s=r.itemSize,a=i.itemMetadataMap,o=i.lastMeasuredIndex;if(t>o){var l=0;if(o>=0){var u=a[o];l=u.offset+u.size}for(var c=o+1;c<=t;c++){var d=s(c);a[c]={offset:l,size:d},l+=d}i.lastMeasuredIndex=t}return a[t]},xTt=function(e,t,i){var r=t.itemMetadataMap,s=t.lastMeasuredIndex,a=s>0?r[s].offset:0;return a>=i?Q1e(e,t,s,0,i):wTt(e,t,Math.max(0,s),i)},Q1e=function(e,t,i,r,s){for(;r<=i;){var a=r+Math.floor((i-r)/2),o=Hx(e,a,t).offset;if(o===s)return a;o<s?r=a+1:o>s&&(i=a-1)}return r>0?r-1:0},wTt=function(e,t,i,r){for(var s=e.itemCount,a=1;i<s&&Hx(e,i,t).offset<r;)i+=a,a*=2;return Q1e(e,t,Math.min(i,s-1),Math.floor(i/2),r)},yle=function(e,t){var i=e.itemCount,r=t.itemMetadataMap,s=t.estimatedItemSize,a=t.lastMeasuredIndex,o=0;if(a>=i&&(a=i-1),a>=0){var l=r[a];o=l.offset+l.size}var u=i-a-1,c=u*s;return o+c},CTt=Z1e({getItemOffset:function(e,t,i){return Hx(e,t,i).offset},getItemSize:function(e,t,i){return i.itemMetadataMap[t].size},getEstimatedTotalSize:yle,getOffsetForIndexAndAlignment:function(e,t,i,r,s,a){var o=e.direction,l=e.height,u=e.layout,c=e.width,d=o==="horizontal"||u==="horizontal",h=d?c:l,f=Hx(e,t,s),p=yle(e,s),g=Math.max(0,Math.min(p-h,f.offset)),m=Math.max(0,f.offset-h+f.size+a);switch(i==="smart"&&(r>=m-h&&r<=g+h?i="auto":i="center"),i){case"start":return g;case"end":return m;case"center":return Math.round(m+(g-m)/2);case"auto":default:return r>=m&&r<=g?r:r<m?m:g}},getStartIndexForOffset:function(e,t,i){return xTt(e,i,t)},getStopIndexForStartIndex:function(e,t,i,r){for(var s=e.direction,a=e.height,o=e.itemCount,l=e.layout,u=e.width,c=s==="horizontal"||l==="horizontal",d=c?u:a,h=Hx(e,t,r),f=i+d,p=h.offset+h.size,g=t;g<o-1&&p<f;)g++,p+=Hx(e,g,r).size;return g},initInstanceProps:function(e,t){var i=e,r=i.estimatedItemSize,s={itemMetadataMap:{},estimatedItemSize:r||STt,lastMeasuredIndex:-1};return t.resetAfterIndex=function(a,o){o===void 0&&(o=!0),s.lastMeasuredIndex=Math.min(s.lastMeasuredIndex,a-1),t._getItemStyleCache(-1),o&&t.forceUpdate()},s},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}}),dj=Z1e({getItemOffset:function(e,t){var i=e.itemSize;return t*i},getItemSize:function(e,t){var i=e.itemSize;return i},getEstimatedTotalSize:function(e){var t=e.itemCount,i=e.itemSize;return i*t},getOffsetForIndexAndAlignment:function(e,t,i,r,s,a){var o=e.direction,l=e.height,u=e.itemCount,c=e.itemSize,d=e.layout,h=e.width,f=o==="horizontal"||d==="horizontal",p=f?h:l,g=Math.max(0,u*c-p),m=Math.min(g,t*c),v=Math.max(0,t*c-p+c+a);switch(i==="smart"&&(r>=v-p&&r<=m+p?i="auto":i="center"),i){case"start":return m;case"end":return v;case"center":{var _=Math.round(v+(m-v)/2);return _<Math.ceil(p/2)?0:_>g+Math.floor(p/2)?g:_}case"auto":default:return r>=v&&r<=m?r:r<v?v:m}},getStartIndexForOffset:function(e,t){var i=e.itemCount,r=e.itemSize;return Math.max(0,Math.min(i-1,Math.floor(t/r)))},getStopIndexForStartIndex:function(e,t,i){var r=e.direction,s=e.height,a=e.itemCount,o=e.itemSize,l=e.layout,u=e.width,c=r==="horizontal"||l==="horizontal",d=t*o,h=c?u:s,f=Math.ceil((h+i-d)/o);return Math.max(0,Math.min(a-1,t+f-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});const TTt=n=>{let{index:e,data:t,style:i}=n;const{visibleOptions:r,renderOption:s}=t,a=r[e];return s(a,e,i)},$r=Y1e.PREFIX_OPTION;let hj=class extends q.PureComponent{constructor(){var e;super(...arguments),e=this,this.onClick=(t,i)=>{const{onItemClick:r}=this.props;i.data.disabled||"disabled"in i&&i.disabled||r(t,i)},this.handleItemEnterPress=(t,i)=>{gc(t)&&this.onClick(t,i)},this.onHover=(t,i)=>{const{showNext:r,onItemHover:s}=this.props;i.data.disabled||r===Bs.SHOW_NEXT_BY_HOVER&&s(t,i)},this.onCheckboxChange=(t,i)=>{const{onItemCheckboxClick:r}=this.props;t.stopPropagation(),t.nativeEvent&&typeof t.nativeEvent.stopImmediatePropagation=="function"&&t.nativeEvent.stopImmediatePropagation(),r(i)},this.getItemStatus=t=>{const{activeKeys:i,selectedKeys:r,loadedKeys:s,loadingKeys:a}=this.props,o={active:!1,selected:!1,loading:!1};return i.has(t)&&(o.active=!0),r.has(t)&&(o.selected=!0),a.has(t)&&!s.has(t)&&(o.loading=!0),o},this.renderIcon=function(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=s=>s+(i?` ${$r}-icon-left`:"");switch(t){case"child":const{expandIcon:s}=e.props;return s||M.createElement(UP,{className:r(`${$r}-icon ${$r}-icon-expand`)});case"tick":return M.createElement(mC,{className:r(`${$r}-icon ${$r}-icon-active`)});case"loading":return M.createElement(bh,{wrapperClassName:r(`${$r}-spin-icon`)});case"empty":return M.createElement("span",{"aria-hidden":!0,className:r(`${$r}-icon ${$r}-icon-empty`)});default:return null}},this.highlight=t=>{const i=[],{keyword:r,separator:s}=this.props;return t.forEach((a,o)=>{typeof a=="string"&&Np(a,r)?a.split(r).forEach((l,u)=>{u>0&&i.push(M.createElement("span",{className:`${$r}-label-highlight`,key:`${u}-${o}`},r)),i.push(l)}):i.push(a),o!==t.length-1&&i.push(s)}),i},this.renderFlattenOptionItem=(t,i,r)=>{var s;const{multiple:a,selectedKeys:o,checkedKeys:l,halfCheckedKeys:u,keyword:c,filterRender:d,virtualize:h}=this.props,{searchText:f,key:p,disabled:g,pathData:m}=t,v=o.has(p),_=le($r,{[`${$r}-flatten`]:!d,[`${$r}-disabled`]:g,[`${$r}-select`]:v&&!a}),y=T=>{this.onClick(T,t)},x=T=>this.handleItemEnterPress(T,t),w=T=>this.onCheckboxChange(T,t);if(d){const T={className:_,inputValue:c,disabled:g,data:m,checkStatus:{checked:l.has(t.key),halfChecked:u.has(t.key)},selected:v,onClick:y,onCheck:w},E=d(T),A=h?{key:p,style:Object.assign(Object.assign({},(s=E.props.style)!==null&&s!==void 0?s:{}),r)}:{key:p};return M.cloneElement(E,A)}return M.createElement("li",{role:"menuitem",className:_,style:r,key:p,onClick:y,onKeyPress:x},M.createElement("span",{className:`${$r}-label`},!a&&this.renderIcon("empty"),a&&M.createElement(Zk,{onChange:w,disabled:g,indeterminate:u.has(t.key),checked:l.has(t.key),className:`${$r}-label-checkbox`}),this.highlight(f)))},this.renderFlattenOption=t=>{const{virtualize:i}=this.props;return M.createElement("ul",{className:`${$r}-list`,key:"flatten-list"},i?this.renderVirtualizeList(t):t.map(s=>this.renderFlattenOptionItem(s)))},this.renderVirtualizeList=t=>{var i;const{direction:r}=this.context,{virtualize:s}=this.props;return M.createElement(dj,{height:s.height,itemCount:t.length,itemSize:s.itemSize,itemData:{visibleOptions:t,renderOption:this.renderFlattenOptionItem},width:(i=s.width)!==null&&i!==void 0?i:"100%",style:{direction:r}},TTt)}}renderItem(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const{multiple:i,checkedKeys:r,halfCheckedKeys:s}=this.props;let a;const o=t.length;return t.push(M.createElement("ul",{role:"menu",className:`${$r}-list`,key:e[0].key,onScroll:l=>this.props.onListScroll(l,o)},e.map(l=>{const{data:u,key:c,parentKey:d}=l,{children:h,label:f,disabled:p,isLeaf:g}=u,{active:m,selected:v,loading:_}=this.getItemStatus(c),y=!!h&&h.length,x=y||this.props.loadData&&!g;m&&y&&(a=l);const w=le($r,{[`${$r}-active`]:m&&!v,[`${$r}-select`]:v&&!i,[`${$r}-disabled`]:p}),T=d?{"aria-owns":`cascaderItem-${d}`}:{};return M.createElement("li",Object.assign({role:"menuitem",id:`cascaderItem-${c}`,"aria-expanded":m,"aria-haspopup":!!x,"aria-disabled":p},T,{className:w,key:c,onClick:E=>{this.onClick(E,l)},onKeyPress:E=>this.handleItemEnterPress(E,l),onMouseEnter:E=>{this.onHover(E,l)}}),M.createElement("span",{className:`${$r}-label`},v&&!i&&this.renderIcon("tick"),!v&&!i&&this.renderIcon("empty"),i&&M.createElement(Zk,{onChange:E=>this.onCheckboxChange(E,l),disabled:p,indeterminate:s.has(l.key),checked:r.has(l.key),className:`${$r}-label-checkbox`}),M.createElement("span",null,f)),x?this.renderIcon(_?"loading":"child",!0):null)}))),a&&t.concat(this.renderItem(a.children,t)),t}renderEmpty(){const{emptyContent:e}=this.props;return e===null?null:M.createElement(Qr,{componentName:"Cascader"},t=>M.createElement("ul",{className:`${$r} ${$r}-empty`,key:"empty-list"},M.createElement("span",{className:`${$r}-label`,"x-semi-prop":"emptyContent"},e||t.emptyText)))}render(){const{data:e,searchable:t}=this.props,{direction:i}=this.context,r=!e||!e.length;let s;const a=le({[`${$r}-lists`]:!0,[`${$r}-lists-rtl`]:i==="rtl",[`${$r}-lists-empty`]:r});return r?s=this.renderEmpty():s=t?this.renderFlattenOption(e):this.renderItem(e),M.createElement("div",{className:a},s)}};hj.contextType=Ql;hj.propTypes={data:S.array,emptyContent:S.node,searchable:S.bool,onItemClick:S.func,onItemHover:S.func,multiple:S.bool,showNext:S.oneOf([Bs.SHOW_NEXT_BY_CLICK,Bs.SHOW_NEXT_BY_HOVER]),checkedKeys:S.object,halfCheckedKeys:S.object,onItemCheckboxClick:S.func,separator:S.string,keyword:S.string,virtualize:S.object,expandIcon:S.node};hj.defaultProps={empty:!1};const J1e={PREFIX:`${nt}-tag`},O1={TAG_SIZE:["default","small","large"],TAG_COLOR:["grey","red","pink","purple","violet","indigo","blue","light-blue","cyan","teal","green","light-green","lime","yellow","amber","orange","white"],TAG_TYPE:["light","solid","ghost"],AVATAR_SHAPE:["square","circle"]};var ETt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const $o=J1e.PREFIX,eTe=O1.TAG_COLOR,tTe=O1.TAG_SIZE,nTe=O1.TAG_TYPE,ATt=O1.AVATAR_SHAPE;let fh=class iTe extends q.Component{constructor(e){super(e),this.state={visible:!0},this.close=this.close.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}static getDerivedStateFromProps(e){return"visible"in e?{visible:e.visible}:null}setVisible(e){"visible"in this.props||this.setState({visible:e})}close(e,t,i){const{onClose:r}=this.props;e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),r&&r(t,e,i),!e.defaultPrevented&&this.setVisible(!1)}handleKeyDown(e){const{closable:t,onClick:i,onKeyDown:r}=this.props;switch(e.key){case"Backspace":case"Delete":t&&this.close(e,this.props.children,this.props.tagKey),xu(e);break;case"Enter":i(e),xu(e);break;case"Escape":e.target.blur();break}r&&r(e)}renderAvatar(){const{avatarShape:e,avatarSrc:t}=this.props;return M.createElement(yC,{src:t,shape:e})}render(){const e=this.props,{tagKey:t,children:i,size:r,color:s,closable:a,visible:o,onClose:l,onClick:u,className:c,type:d,shape:h,avatarSrc:f,avatarShape:p,tabIndex:g,prefixIcon:m,suffixIcon:v,colorful:_,gradient:y}=e,x=ETt(e,["tagKey","children","size","color","closable","visible","onClose","onClick","className","type","shape","avatarSrc","avatarShape","tabIndex","prefixIcon","suffixIcon","colorful","gradient"]),{visible:w}=this.state,T=u!==iTe.defaultProps.onClick||a,E={role:"button",tabIndex:g||0,onKeyDown:this.handleKeyDown},A=Object.assign(Object.assign({},x),{onClick:u,tabIndex:g,className:le($o,{[`${$o}-default`]:r==="default",[`${$o}-small`]:r==="small",[`${$o}-large`]:r==="large",[`${$o}-square`]:h==="square",[`${$o}-circle`]:h==="circle",[`${$o}-${d}`]:d,[`${$o}-${s}-${d}`]:s&&d,[`${$o}-closable`]:a,[`${$o}-invisible`]:!w,[`${$o}-avatar-${p}`]:f,[`${$o}-colorful`]:_,[`${$o}-gradient`]:y},c)}),k=T?Object.assign(Object.assign({},A),E):A,P=a?M.createElement("div",{className:`${$o}-close`,onClick:L=>this.close(L,i,t)},M.createElement(ij,{size:"small"})):null,I=oi(i),D=le(`${$o}-content`,`${$o}-content-${I?"ellipsis":"center"}`);return M.createElement("div",Object.assign({"aria-label":this.props["aria-label"]||I?`${a?"Closable ":""}Tag: ${i}`:""},k),m?M.createElement("div",{className:`${$o}-prefix-icon`},m):null,f?this.renderAvatar():null,M.createElement("div",{className:D},i),v?M.createElement("div",{className:`${$o}-suffix-icon`},v):null,P)}};fh.defaultProps={size:tTe[0],color:eTe[0],closable:!1,type:nTe[0],onClose:()=>{},onClick:()=>{},onMouseEnter:()=>{},style:{},className:"",shape:"square",avatarShape:"square",prefixIcon:null,suffixIcon:null,colorful:!1,gradient:!1};fh.propTypes={children:S.node,tagKey:S.oneOfType([S.string,S.number]),size:S.oneOf(tTe),color:S.oneOf(eTe),type:S.oneOf(nTe),closable:S.bool,visible:S.bool,onClose:S.func,onClick:S.func,prefixIcon:S.node,suffixIcon:S.node,style:S.object,className:S.string,avatarSrc:S.string,colorful:S.bool,gradient:S.bool,avatarShape:S.oneOf(ATt),"aria-label":S.string};const kTt={PREFIX:`${nt}-tagInput`},_le={SIZE_SET:["large","default","small"],STATUS:["success","default","error","warning"]},qR=(n,e)=>{let t=[];if(oi(e)||Ns(e))t=n.split(e);else if(Z9(e)){const i=e[0];t=n;for(let r=1;r<e.length;r++)t=t.split(e[r]).join(i);t=t.split(i)}else t.push(n);return t};function OTt(n,e,t){const i=n.slice();return i.splice(t<0?i.length+t:t,0,i.splice(e,1)[0]),i}class PTt extends jn{constructor(e){super(Object.assign({},e)),this.handleInputChange=t=>{const{value:i}=t.target,{entering:r}=this.getStates();r?this._onInputChange(i,t):this._checkInputChangeValid(i)&&this._onInputChange(i,t)},this.handleInputCompositionStart=t=>{const{maxLength:i}=this.getProps();Ns(i)&&this._adapter.setEntering(!0)},this.handleInputCompositionEnd=t=>{const{value:i}=t.target,{maxLength:r,onInputExceed:s,separator:a}=this.getProps();if(!Ns(r))return;this._adapter.setEntering(!1);let o=!0;const l=qR(i,a);let u=0;for(;u<l.length;u++)if(l[u].length>r){o=!1,Mn(s)&&s(i);break}if(o)this._adapter.setInputValue(i);else{const c=l.slice(0,u);u<l.length&&c.push(l[u].slice(0,r)),this._adapter.setInputValue(c.join(a))}},this._checkInputChangeValid=t=>{const{maxLength:i,onInputExceed:r,separator:s}=this._adapter.getProps(),{inputValue:a}=this._adapter.getStates();let o=!0;if(Ns(i)){const l=qR(t,s),u=qR(a,s),c=Math.max(l.length,u.length);for(let d=0;d<c;d++)if(!lr(l[d])&&(lr(u[d])||l[d].length>u[d].length)&&l[d].length>i){o=!1,Mn(r)&&r(t);break}}return o},this.handleKeyDown=t=>{const{inputValue:i,tagsArray:r}=this._adapter.getStates(),s=t.keyCode;s===Ho.ENTER&&(t.preventDefault(),i!==""&&this._handleAddTags(t));const{length:a}=r;if(s===Ho.BACKSPACE&&i===""&&a>0){const o=r.slice(0,a-1),l=r[a-1];this._onRemove(o,l,a-1)}this._adapter.notifyKeyDown(t)}}_handleAddTags(e){const{separator:t,max:i,onExceed:r,allowDuplicates:s}=this._adapter.getProps(),{inputValue:a,tagsArray:o}=this._adapter.getStates();let l=qR(a,t);l=l.filter((c,d)=>!s&&(o.includes(c)||l.indexOf(c)!==d)?!1:oi(c)&&c.trim()!=="");let u=o.concat(l);Ns(i)&&u.length>i&&(Mn(r)&&r(u),u=u.slice(0,i),l=l.slice(0,i-o.length)),l.length>0&&this._onAdd(u,l),this._onInputChange("",e)}handleInputBlur(e){const{addOnBlur:t}=this._adapter.getProps();t===!0&&this._handleAddTags(e),this._adapter.setFocusing(!1),this._adapter.notifyBlur(e)}handleInputFocus(e){this._adapter.setFocusing(!0),this._adapter.notifyFocus(e)}handleClearEnterPress(e){gc(e)&&this.handleClearBtn(e)}handleClearBtn(e){const{inputValue:t,tagsArray:i}=this._adapter.getStates();i.length>0&&(this._adapter.setTagsArray([]),this._adapter.notifyTagChange([])),t.length>0&&this._onInputChange("",e),e.stopPropagation()}handleTagClose(e){const{tagsArray:t}=this._adapter.getStates(),i=[...t];i.splice(e,1);const r=t[e];this._onRemove(i,r,e)}handleInputMouseEnter(){this._adapter.setHovering(!0)}handleInputMouseLeave(){this._adapter.setHovering(!1)}handleClick(e){const{disabled:t}=this.getProps();if(t)return;this._adapter.getClickOutsideHandler()||(this._adapter.setActive(!0),this._adapter.registerClickOutsideHandler(r=>this.clickOutsideCallBack()))}clickOutsideCallBack(){this._adapter.unregisterClickOutsideHandler(),this._adapter.setActive(!1)}handleClickPrefixOrSuffix(e){const{disabled:t}=this._adapter.getProps(),{isFocus:i}=this._adapter.getStates();!t&&!i&&this._adapter.toggleFocusing(!0)}handlePreventMouseDown(e){e&&Mn(e.preventDefault)&&e.preventDefault()}_onRemove(e,t,i){this._isControlledComponent()||this._adapter.setTagsArray(e),this._adapter.notifyTagChange(e),this._adapter.notifyTagRemove(t,i)}_onAdd(e,t){this._isControlledComponent()||this._adapter.setTagsArray(e),this._adapter.notifyTagChange(e),this._adapter.notifyTagAdd(t)}_onInputChange(e,t){this._adapter.setInputValue(e),this._adapter.notifyInputChange(e,t)}handleSortEnd(e){const{oldIndex:t,newIndex:i}=e,{tagsArray:r}=this.getStates(),s=OTt(r,t,i);this._isControlledComponent()||this._adapter.setTagsArray(s),this._adapter.notifyTagChange(s)}}function MTt(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return q.useMemo(()=>i=>{e.forEach(r=>r(i))},e)}const fj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function P1(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function HX(n){return"nodeType"in n}function Lu(n){var e,t;return n?P1(n)?n:HX(n)&&(e=(t=n.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function VX(n){const{Document:e}=Lu(n);return n instanceof e}function JP(n){return P1(n)?!1:n instanceof Lu(n).HTMLElement}function rTe(n){return n instanceof Lu(n).SVGElement}function M1(n){return n?P1(n)?n.document:HX(n)?VX(n)?n:JP(n)||rTe(n)?n.ownerDocument:document:document:document}const Pf=fj?q.useLayoutEffect:q.useEffect;function pj(n){const e=q.useRef(n);return Pf(()=>{e.current=n}),q.useCallback(function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e.current==null?void 0:e.current(...i)},[])}function ITt(){const n=q.useRef(null),e=q.useCallback((i,r)=>{n.current=setInterval(i,r)},[]),t=q.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,t]}function Qk(n,e){e===void 0&&(e=[n]);const t=q.useRef(n);return Pf(()=>{t.current!==n&&(t.current=n)},e),t}function eM(n,e){const t=q.useRef();return q.useMemo(()=>{const i=n(t.current);return t.current=i,i},[...e])}function rF(n){const e=pj(n),t=q.useRef(null),i=q.useCallback(r=>{r!==t.current&&(e==null||e(r,t.current)),t.current=r},[]);return[t,i]}function sF(n){const e=q.useRef();return q.useEffect(()=>{e.current=n},[n]),e.current}let zV={};function tM(n,e){return q.useMemo(()=>{if(e)return e;const t=zV[n]==null?0:zV[n]+1;return zV[n]=t,n+"-"+t},[n,e])}function sTe(n){return function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return i.reduce((s,a)=>{const o=Object.entries(a);for(const[l,u]of o){const c=s[l];c!=null&&(s[l]=c+n*u)}return s},{...e})}}const Ow=sTe(1),Jk=sTe(-1);function RTt(n){return"clientX"in n&&"clientY"in n}function gj(n){if(!n)return!1;const{KeyboardEvent:e}=Lu(n.target);return e&&n instanceof e}function DTt(n){if(!n)return!1;const{TouchEvent:e}=Lu(n.target);return e&&n instanceof e}function aF(n){if(DTt(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:t}=n.touches[0];return{x:e,y:t}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:t}=n.changedTouches[0];return{x:e,y:t}}}return RTt(n)?{x:n.clientX,y:n.clientY}:null}const Ly=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:t}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:t}=n;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(n){if(n)return[Ly.Translate.toString(n),Ly.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:t,easing:i}=n;return e+" "+t+"ms "+i}}}),ble="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function LTt(n){return n.matches(ble)?n:n.querySelector(ble)}const FTt={display:"none"};function BTt(n){let{id:e,value:t}=n;return M.createElement("div",{id:e,style:FTt},t)}function $Tt(n){let{id:e,announcement:t,ariaLiveType:i="assertive"}=n;const r={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return M.createElement("div",{id:e,style:r,role:"status","aria-live":i,"aria-atomic":!0},t)}function NTt(){const[n,e]=q.useState("");return{announce:q.useCallback(i=>{i!=null&&e(i)},[]),announcement:n}}const aTe=q.createContext(null);function jTt(n){const e=q.useContext(aTe);q.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function zTt(){const[n]=q.useState(()=>new Set),e=q.useCallback(i=>(n.add(i),()=>n.delete(i)),[n]);return[q.useCallback(i=>{let{type:r,event:s}=i;n.forEach(a=>{var o;return(o=a[r])==null?void 0:o.call(a,s)})},[n]),e]}const HTt={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},VTt={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function WTt(n){let{announcements:e=VTt,container:t,hiddenTextDescribedById:i,screenReaderInstructions:r=HTt}=n;const{announce:s,announcement:a}=NTt(),o=tM("DndLiveRegion"),[l,u]=q.useState(!1);if(q.useEffect(()=>{u(!0)},[]),jTt(q.useMemo(()=>({onDragStart(d){let{active:h}=d;s(e.onDragStart({active:h}))},onDragMove(d){let{active:h,over:f}=d;e.onDragMove&&s(e.onDragMove({active:h,over:f}))},onDragOver(d){let{active:h,over:f}=d;s(e.onDragOver({active:h,over:f}))},onDragEnd(d){let{active:h,over:f}=d;s(e.onDragEnd({active:h,over:f}))},onDragCancel(d){let{active:h,over:f}=d;s(e.onDragCancel({active:h,over:f}))}}),[s,e])),!l)return null;const c=M.createElement(M.Fragment,null,M.createElement(BTt,{id:i,value:r.draggable}),M.createElement($Tt,{id:o,announcement:a}));return t?Yc.createPortal(c,t):c}var _o;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(_o||(_o={}));function oF(){}function HV(n,e){return q.useMemo(()=>({sensor:n,options:e??{}}),[n,e])}function UTt(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return q.useMemo(()=>[...e].filter(i=>i!=null),[...e])}const Mf=Object.freeze({x:0,y:0});function oTe(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function GTt(n,e){const t=aF(n);if(!t)return"0 0";const i={x:(t.x-e.left)/e.width*100,y:(t.y-e.top)/e.height*100};return i.x+"% "+i.y+"%"}function lTe(n,e){let{data:{value:t}}=n,{data:{value:i}}=e;return t-i}function YTt(n,e){let{data:{value:t}}=n,{data:{value:i}}=e;return i-t}function Sle(n){let{left:e,top:t,height:i,width:r}=n;return[{x:e,y:t},{x:e+r,y:t},{x:e,y:t+i},{x:e+r,y:t+i}]}function uTe(n,e){if(!n||n.length===0)return null;const[t]=n;return t[e]}function xle(n,e,t){return e===void 0&&(e=n.left),t===void 0&&(t=n.top),{x:e+n.width*.5,y:t+n.height*.5}}const KTt=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:i}=n;const r=xle(e,e.left,e.top),s=[];for(const a of i){const{id:o}=a,l=t.get(o);if(l){const u=oTe(xle(l),r);s.push({id:o,data:{droppableContainer:a,value:u}})}}return s.sort(lTe)},XTt=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:i}=n;const r=Sle(e),s=[];for(const a of i){const{id:o}=a,l=t.get(o);if(l){const u=Sle(l),c=r.reduce((h,f,p)=>h+oTe(u[p],f),0),d=Number((c/4).toFixed(4));s.push({id:o,data:{droppableContainer:a,value:d}})}}return s.sort(lTe)};function qTt(n,e){const t=Math.max(e.top,n.top),i=Math.max(e.left,n.left),r=Math.min(e.left+e.width,n.left+n.width),s=Math.min(e.top+e.height,n.top+n.height),a=r-i,o=s-t;if(i<r&&t<s){const l=e.width*e.height,u=n.width*n.height,c=a*o,d=c/(l+u-c);return Number(d.toFixed(4))}return 0}const ZTt=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:i}=n;const r=[];for(const s of i){const{id:a}=s,o=t.get(a);if(o){const l=qTt(o,e);l>0&&r.push({id:a,data:{droppableContainer:s,value:l}})}}return r.sort(YTt)};function QTt(n,e,t){return{...n,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function cTe(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:Mf}function JTt(n){return function(t){for(var i=arguments.length,r=new Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];return r.reduce((a,o)=>({...a,top:a.top+n*o.y,bottom:a.bottom+n*o.y,left:a.left+n*o.x,right:a.right+n*o.x}),{...t})}}const eEt=JTt(1);function dTe(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function tEt(n,e,t){const i=dTe(e);if(!i)return n;const{scaleX:r,scaleY:s,x:a,y:o}=i,l=n.left-a-(1-r)*parseFloat(t),u=n.top-o-(1-s)*parseFloat(t.slice(t.indexOf(" ")+1)),c=r?n.width/r:n.width,d=s?n.height/s:n.height;return{width:c,height:d,top:u,right:l+c,bottom:u+d,left:l}}const nEt={ignoreTransform:!1};function I1(n,e){e===void 0&&(e=nEt);let t=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:u,transformOrigin:c}=Lu(n).getComputedStyle(n);u&&(t=tEt(t,u,c))}const{top:i,left:r,width:s,height:a,bottom:o,right:l}=t;return{top:i,left:r,width:s,height:a,bottom:o,right:l}}function wle(n){return I1(n,{ignoreTransform:!0})}function iEt(n){const e=n.innerWidth,t=n.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function rEt(n,e){return e===void 0&&(e=Lu(n).getComputedStyle(n)),e.position==="fixed"}function sEt(n,e){e===void 0&&(e=Lu(n).getComputedStyle(n));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(r=>{const s=e[r];return typeof s=="string"?t.test(s):!1})}function mj(n,e){const t=[];function i(r){if(e!=null&&t.length>=e||!r)return t;if(VX(r)&&r.scrollingElement!=null&&!t.includes(r.scrollingElement))return t.push(r.scrollingElement),t;if(!JP(r)||rTe(r)||t.includes(r))return t;const s=Lu(n).getComputedStyle(r);return r!==n&&sEt(r,s)&&t.push(r),rEt(r,s)?t:i(r.parentNode)}return n?i(n):t}function hTe(n){const[e]=mj(n,1);return e??null}function VV(n){return!fj||!n?null:P1(n)?n:HX(n)?VX(n)||n===M1(n).scrollingElement?window:JP(n)?n:null:null}function fTe(n){return P1(n)?n.scrollX:n.scrollLeft}function pTe(n){return P1(n)?n.scrollY:n.scrollTop}function sG(n){return{x:fTe(n),y:pTe(n)}}var zo;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(zo||(zo={}));function gTe(n){return!fj||!n?!1:n===document.scrollingElement}function mTe(n){const e={x:0,y:0},t=gTe(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},i={x:n.scrollWidth-t.width,y:n.scrollHeight-t.height},r=n.scrollTop<=e.y,s=n.scrollLeft<=e.x,a=n.scrollTop>=i.y,o=n.scrollLeft>=i.x;return{isTop:r,isLeft:s,isBottom:a,isRight:o,maxScroll:i,minScroll:e}}const aEt={x:.2,y:.2};function oEt(n,e,t,i,r){let{top:s,left:a,right:o,bottom:l}=t;i===void 0&&(i=10),r===void 0&&(r=aEt);const{isTop:u,isBottom:c,isLeft:d,isRight:h}=mTe(n),f={x:0,y:0},p={x:0,y:0},g={height:e.height*r.y,width:e.width*r.x};return!u&&s<=e.top+g.height?(f.y=zo.Backward,p.y=i*Math.abs((e.top+g.height-s)/g.height)):!c&&l>=e.bottom-g.height&&(f.y=zo.Forward,p.y=i*Math.abs((e.bottom-g.height-l)/g.height)),!h&&o>=e.right-g.width?(f.x=zo.Forward,p.x=i*Math.abs((e.right-g.width-o)/g.width)):!d&&a<=e.left+g.width&&(f.x=zo.Backward,p.x=i*Math.abs((e.left+g.width-a)/g.width)),{direction:f,speed:p}}function lEt(n){if(n===document.scrollingElement){const{innerWidth:s,innerHeight:a}=window;return{top:0,left:0,right:s,bottom:a,width:s,height:a}}const{top:e,left:t,right:i,bottom:r}=n.getBoundingClientRect();return{top:e,left:t,right:i,bottom:r,width:n.clientWidth,height:n.clientHeight}}function vTe(n){return n.reduce((e,t)=>Ow(e,sG(t)),Mf)}function uEt(n){return n.reduce((e,t)=>e+fTe(t),0)}function cEt(n){return n.reduce((e,t)=>e+pTe(t),0)}function yTe(n,e){if(e===void 0&&(e=I1),!n)return;const{top:t,left:i,bottom:r,right:s}=e(n);hTe(n)&&(r<=0||s<=0||t>=window.innerHeight||i>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const dEt=[["x",["left","right"],uEt],["y",["top","bottom"],cEt]];let WX=class{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=mj(t),r=vTe(i);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,a,o]of dEt)for(const l of a)Object.defineProperty(this,l,{get:()=>{const u=o(i),c=r[s]-u;return this.rect[l]+c},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}};class hA{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...t)})},this.target=e}add(e,t,i){var r;(r=this.target)==null||r.addEventListener(e,t,i),this.listeners.push([e,t,i])}}function hEt(n){const{EventTarget:e}=Lu(n);return n instanceof e?n:M1(n)}function WV(n,e){const t=Math.abs(n.x),i=Math.abs(n.y);return typeof e=="number"?Math.sqrt(t**2+i**2)>e:"x"in e&&"y"in e?t>e.x&&i>e.y:"x"in e?t>e.x:"y"in e?i>e.y:!1}var Vd;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(Vd||(Vd={}));function Cle(n){n.preventDefault()}function fEt(n){n.stopPropagation()}var Ui;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(Ui||(Ui={}));const _Te={start:[Ui.Space,Ui.Enter],cancel:[Ui.Esc],end:[Ui.Space,Ui.Enter,Ui.Tab]},pEt=(n,e)=>{let{currentCoordinates:t}=e;switch(n.code){case Ui.Right:return{...t,x:t.x+25};case Ui.Left:return{...t,x:t.x-25};case Ui.Down:return{...t,y:t.y+25};case Ui.Up:return{...t,y:t.y-25}}};class UX{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new hA(M1(t)),this.windowListeners=new hA(Lu(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Vd.Resize,this.handleCancel),this.windowListeners.add(Vd.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Vd.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,i=e.node.current;i&&yTe(i),t(Mf)}handleKeyDown(e){if(gj(e)){const{active:t,context:i,options:r}=this.props,{keyboardCodes:s=_Te,coordinateGetter:a=pEt,scrollBehavior:o="smooth"}=r,{code:l}=e;if(s.end.includes(l)){this.handleEnd(e);return}if(s.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:u}=i.current,c=u?{x:u.left,y:u.top}:Mf;this.referenceCoordinates||(this.referenceCoordinates=c);const d=a(e,{active:t,context:i.current,currentCoordinates:c});if(d){const h=Jk(d,c),f={x:0,y:0},{scrollableAncestors:p}=i.current;for(const g of p){const m=e.code,{isTop:v,isRight:_,isLeft:y,isBottom:x,maxScroll:w,minScroll:T}=mTe(g),E=lEt(g),A={x:Math.min(m===Ui.Right?E.right-E.width/2:E.right,Math.max(m===Ui.Right?E.left:E.left+E.width/2,d.x)),y:Math.min(m===Ui.Down?E.bottom-E.height/2:E.bottom,Math.max(m===Ui.Down?E.top:E.top+E.height/2,d.y))},k=m===Ui.Right&&!_||m===Ui.Left&&!y,P=m===Ui.Down&&!x||m===Ui.Up&&!v;if(k&&A.x!==d.x){const I=g.scrollLeft+h.x,D=m===Ui.Right&&I<=w.x||m===Ui.Left&&I>=T.x;if(D&&!h.y){g.scrollTo({left:I,behavior:o});return}D?f.x=g.scrollLeft-I:f.x=m===Ui.Right?g.scrollLeft-w.x:g.scrollLeft-T.x,f.x&&g.scrollBy({left:-f.x,behavior:o});break}else if(P&&A.y!==d.y){const I=g.scrollTop+h.y,D=m===Ui.Down&&I<=w.y||m===Ui.Up&&I>=T.y;if(D&&!h.x){g.scrollTo({top:I,behavior:o});return}D?f.y=g.scrollTop-I:f.y=m===Ui.Down?g.scrollTop-w.y:g.scrollTop-T.y,f.y&&g.scrollBy({top:-f.y,behavior:o});break}}this.handleMove(e,Ow(Jk(d,this.referenceCoordinates),f))}}}handleMove(e,t){const{onMove:i}=this.props;e.preventDefault(),i(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}UX.activators=[{eventName:"onKeyDown",handler:(n,e,t)=>{let{keyboardCodes:i=_Te,onActivation:r}=e,{active:s}=t;const{code:a}=n.nativeEvent;if(i.start.includes(a)){const o=s.activatorNode.current;return o&&n.target!==o?!1:(n.preventDefault(),r==null||r({event:n.nativeEvent}),!0)}return!1}}];function Tle(n){return!!(n&&"distance"in n)}function Ele(n){return!!(n&&"delay"in n)}class GX{constructor(e,t,i){var r;i===void 0&&(i=hEt(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:s}=e,{target:a}=s;this.props=e,this.events=t,this.document=M1(a),this.documentListeners=new hA(this.document),this.listeners=new hA(i),this.windowListeners=new hA(Lu(a)),this.initialCoordinates=(r=aF(s))!=null?r:Mf,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:i}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Vd.Resize,this.handleCancel),this.windowListeners.add(Vd.DragStart,Cle),this.windowListeners.add(Vd.VisibilityChange,this.handleCancel),this.windowListeners.add(Vd.ContextMenu,Cle),this.documentListeners.add(Vd.Keydown,this.handleKeydown),t){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Ele(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(Tle(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:i,onPending:r}=this.props;r(i,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Vd.Click,fEt,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Vd.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:i,initialCoordinates:r,props:s}=this,{onMove:a,options:{activationConstraint:o}}=s;if(!r)return;const l=(t=aF(e))!=null?t:Mf,u=Jk(r,l);if(!i&&o){if(Tle(o)){if(o.tolerance!=null&&WV(u,o.tolerance))return this.handleCancel();if(WV(u,o.distance))return this.handleStart()}if(Ele(o)&&WV(u,o.tolerance))return this.handleCancel();this.handlePending(o,u);return}e.cancelable&&e.preventDefault(),a(l)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===Ui.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const gEt={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class bTe extends GX{constructor(e){const{event:t}=e,i=M1(t.target);super(e,gEt,i)}}bTe.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:i}=e;return!t.isPrimary||t.button!==0?!1:(i==null||i({event:t}),!0)}}];const mEt={move:{name:"mousemove"},end:{name:"mouseup"}};var aG;(function(n){n[n.RightClick=2]="RightClick"})(aG||(aG={}));class STe extends GX{constructor(e){super(e,mEt,M1(e.event.target))}}STe.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:i}=e;return t.button===aG.RightClick?!1:(i==null||i({event:t}),!0)}}];const UV={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class xTe extends GX{constructor(e){super(e,UV)}static setup(){return window.addEventListener(UV.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(UV.move.name,e)};function e(){}}}xTe.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:i}=e;const{touches:r}=t;return r.length>1?!1:(i==null||i({event:t}),!0)}}];var fA;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(fA||(fA={}));var eO;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(eO||(eO={}));function vEt(n){let{acceleration:e,activator:t=fA.Pointer,canScroll:i,draggingRect:r,enabled:s,interval:a=5,order:o=eO.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:c,delta:d,threshold:h}=n;const f=_Et({delta:d,disabled:!s}),[p,g]=ITt(),m=q.useRef({x:0,y:0}),v=q.useRef({x:0,y:0}),_=q.useMemo(()=>{switch(t){case fA.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case fA.DraggableRect:return r}},[t,r,l]),y=q.useRef(null),x=q.useCallback(()=>{const T=y.current;if(!T)return;const E=m.current.x*v.current.x,A=m.current.y*v.current.y;T.scrollBy(E,A)},[]),w=q.useMemo(()=>o===eO.TreeOrder?[...u].reverse():u,[o,u]);q.useEffect(()=>{if(!s||!u.length||!_){g();return}for(const T of w){if((i==null?void 0:i(T))===!1)continue;const E=u.indexOf(T),A=c[E];if(!A)continue;const{direction:k,speed:P}=oEt(T,A,_,e,h);for(const I of["x","y"])f[I][k[I]]||(P[I]=0,k[I]=0);if(P.x>0||P.y>0){g(),y.current=T,p(x,a),m.current=P,v.current=k;return}}m.current={x:0,y:0},v.current={x:0,y:0},g()},[e,x,i,g,s,a,JSON.stringify(_),JSON.stringify(f),p,u,w,c,JSON.stringify(h)])}const yEt={x:{[zo.Backward]:!1,[zo.Forward]:!1},y:{[zo.Backward]:!1,[zo.Forward]:!1}};function _Et(n){let{delta:e,disabled:t}=n;const i=sF(e);return eM(r=>{if(t||!i||!r)return yEt;const s={x:Math.sign(e.x-i.x),y:Math.sign(e.y-i.y)};return{x:{[zo.Backward]:r.x[zo.Backward]||s.x===-1,[zo.Forward]:r.x[zo.Forward]||s.x===1},y:{[zo.Backward]:r.y[zo.Backward]||s.y===-1,[zo.Forward]:r.y[zo.Forward]||s.y===1}}},[t,e,i])}function bEt(n,e){const t=e!=null?n.get(e):void 0,i=t?t.node.current:null;return eM(r=>{var s;return e==null?null:(s=i??r)!=null?s:null},[i,e])}function SEt(n,e){return q.useMemo(()=>n.reduce((t,i)=>{const{sensor:r}=i,s=r.activators.map(a=>({eventName:a.eventName,handler:e(a.handler,i)}));return[...t,...s]},[]),[n,e])}var tO;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(tO||(tO={}));var oG;(function(n){n.Optimized="optimized"})(oG||(oG={}));const Ale=new Map;function xEt(n,e){let{dragging:t,dependencies:i,config:r}=e;const[s,a]=q.useState(null),{frequency:o,measure:l,strategy:u}=r,c=q.useRef(n),d=m(),h=Qk(d),f=q.useCallback(function(v){v===void 0&&(v=[]),!h.current&&a(_=>_===null?v:_.concat(v.filter(y=>!_.includes(y))))},[h]),p=q.useRef(null),g=eM(v=>{if(d&&!t)return Ale;if(!v||v===Ale||c.current!==n||s!=null){const _=new Map;for(let y of n){if(!y)continue;if(s&&s.length>0&&!s.includes(y.id)&&y.rect.current){_.set(y.id,y.rect.current);continue}const x=y.node.current,w=x?new WX(l(x),x):null;y.rect.current=w,w&&_.set(y.id,w)}return _}return v},[n,s,t,d,l]);return q.useEffect(()=>{c.current=n},[n]),q.useEffect(()=>{d||f()},[t,d]),q.useEffect(()=>{s&&s.length>0&&a(null)},[JSON.stringify(s)]),q.useEffect(()=>{d||typeof o!="number"||p.current!==null||(p.current=setTimeout(()=>{f(),p.current=null},o))},[o,d,f,...i]),{droppableRects:g,measureDroppableContainers:f,measuringScheduled:s!=null};function m(){switch(u){case tO.Always:return!1;case tO.BeforeDragging:return t;default:return!t}}}function YX(n,e){return eM(t=>n?t||(typeof e=="function"?e(n):n):null,[e,n])}function wEt(n,e){return YX(n,e)}function CEt(n){let{callback:e,disabled:t}=n;const i=pj(e),r=q.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(i)},[i,t]);return q.useEffect(()=>()=>r==null?void 0:r.disconnect(),[r]),r}function vj(n){let{callback:e,disabled:t}=n;const i=pj(e),r=q.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(i)},[t]);return q.useEffect(()=>()=>r==null?void 0:r.disconnect(),[r]),r}function TEt(n){return new WX(I1(n),n)}function kle(n,e,t){e===void 0&&(e=TEt);const[i,r]=q.useState(null);function s(){r(l=>{if(!n)return null;if(n.isConnected===!1){var u;return(u=l??t)!=null?u:null}const c=e(n);return JSON.stringify(l)===JSON.stringify(c)?l:c})}const a=CEt({callback(l){if(n)for(const u of l){const{type:c,target:d}=u;if(c==="childList"&&d instanceof HTMLElement&&d.contains(n)){s();break}}}}),o=vj({callback:s});return Pf(()=>{s(),n?(o==null||o.observe(n),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(o==null||o.disconnect(),a==null||a.disconnect())},[n]),i}function EEt(n){const e=YX(n);return cTe(n,e)}const Ole=[];function AEt(n){const e=q.useRef(n),t=eM(i=>n?i&&i!==Ole&&n&&e.current&&n.parentNode===e.current.parentNode?i:mj(n):Ole,[n]);return q.useEffect(()=>{e.current=n},[n]),t}function kEt(n){const[e,t]=q.useState(null),i=q.useRef(n),r=q.useCallback(s=>{const a=VV(s.target);a&&t(o=>o?(o.set(a,sG(a)),new Map(o)):null)},[]);return q.useEffect(()=>{const s=i.current;if(n!==s){a(s);const o=n.map(l=>{const u=VV(l);return u?(u.addEventListener("scroll",r,{passive:!0}),[u,sG(u)]):null}).filter(l=>l!=null);t(o.length?new Map(o):null),i.current=n}return()=>{a(n),a(s)};function a(o){o.forEach(l=>{const u=VV(l);u==null||u.removeEventListener("scroll",r)})}},[r,n]),q.useMemo(()=>n.length?e?Array.from(e.values()).reduce((s,a)=>Ow(s,a),Mf):vTe(n):Mf,[n,e])}function Ple(n,e){e===void 0&&(e=[]);const t=q.useRef(null);return q.useEffect(()=>{t.current=null},e),q.useEffect(()=>{const i=n!==Mf;i&&!t.current&&(t.current=n),!i&&t.current&&(t.current=null)},[n]),t.current?Jk(n,t.current):Mf}function OEt(n){q.useEffect(()=>{if(!fj)return;const e=n.map(t=>{let{sensor:i}=t;return i.setup==null?void 0:i.setup()});return()=>{for(const t of e)t==null||t()}},n.map(e=>{let{sensor:t}=e;return t}))}function PEt(n,e){return q.useMemo(()=>n.reduce((t,i)=>{let{eventName:r,handler:s}=i;return t[r]=a=>{s(a,e)},t},{}),[n,e])}function wTe(n){return q.useMemo(()=>n?iEt(n):null,[n])}const Mle=[];function MEt(n,e){e===void 0&&(e=I1);const[t]=n,i=wTe(t?Lu(t):null),[r,s]=q.useState(Mle);function a(){s(()=>n.length?n.map(l=>gTe(l)?i:new WX(e(l),l)):Mle)}const o=vj({callback:a});return Pf(()=>{o==null||o.disconnect(),a(),n.forEach(l=>o==null?void 0:o.observe(l))},[n]),r}function CTe(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return JP(e)?e:n}function IEt(n){let{measure:e}=n;const[t,i]=q.useState(null),r=q.useCallback(u=>{for(const{target:c}of u)if(JP(c)){i(d=>{const h=e(c);return d?{...d,width:h.width,height:h.height}:h});break}},[e]),s=vj({callback:r}),a=q.useCallback(u=>{const c=CTe(u);s==null||s.disconnect(),c&&(s==null||s.observe(c)),i(c?e(c):null)},[e,s]),[o,l]=rF(a);return q.useMemo(()=>({nodeRef:o,rect:t,setRef:l}),[t,o,l])}const REt=[{sensor:bTe,options:{}},{sensor:UX,options:{}}],DEt={current:{}},O2={draggable:{measure:wle},droppable:{measure:wle,strategy:tO.WhileDragging,frequency:oG.Optimized},dragOverlay:{measure:I1}};class pA extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,i;return(t=(i=this.get(e))==null?void 0:i.node.current)!=null?t:void 0}}const LEt={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new pA,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:oF},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:O2,measureDroppableContainers:oF,windowRect:null,measuringScheduled:!1},TTe={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:oF,draggableNodes:new Map,over:null,measureDroppableContainers:oF},nM=q.createContext(TTe),ETe=q.createContext(LEt);function FEt(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new pA}}}function BEt(n,e){switch(e.type){case _o.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case _o.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}};case _o.DragEnd:case _o.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case _o.RegisterDroppable:{const{element:t}=e,{id:i}=t,r=new pA(n.droppable.containers);return r.set(i,t),{...n,droppable:{...n.droppable,containers:r}}}case _o.SetDroppableDisabled:{const{id:t,key:i,disabled:r}=e,s=n.droppable.containers.get(t);if(!s||i!==s.key)return n;const a=new pA(n.droppable.containers);return a.set(t,{...s,disabled:r}),{...n,droppable:{...n.droppable,containers:a}}}case _o.UnregisterDroppable:{const{id:t,key:i}=e,r=n.droppable.containers.get(t);if(!r||i!==r.key)return n;const s=new pA(n.droppable.containers);return s.delete(t),{...n,droppable:{...n.droppable,containers:s}}}default:return n}}function $Et(n){let{disabled:e}=n;const{active:t,activatorEvent:i,draggableNodes:r}=q.useContext(nM),s=sF(i),a=sF(t==null?void 0:t.id);return q.useEffect(()=>{if(!e&&!i&&s&&a!=null){if(!gj(s)||document.activeElement===s.target)return;const o=r.get(a);if(!o)return;const{activatorNode:l,node:u}=o;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const c of[l.current,u.current]){if(!c)continue;const d=LTt(c);if(d){d.focus();break}}})}},[i,e,r,a,s]),null}function ATe(n,e){let{transform:t,...i}=e;return n!=null&&n.length?n.reduce((r,s)=>s({transform:r,...i}),t):t}function NEt(n){return q.useMemo(()=>({draggable:{...O2.draggable,...n==null?void 0:n.draggable},droppable:{...O2.droppable,...n==null?void 0:n.droppable},dragOverlay:{...O2.dragOverlay,...n==null?void 0:n.dragOverlay}}),[n==null?void 0:n.draggable,n==null?void 0:n.droppable,n==null?void 0:n.dragOverlay])}function jEt(n){let{activeNode:e,measure:t,initialRect:i,config:r=!0}=n;const s=q.useRef(!1),{x:a,y:o}=typeof r=="boolean"?{x:r,y:r}:r;Pf(()=>{if(!a&&!o||!e){s.current=!1;return}if(s.current||!i)return;const u=e==null?void 0:e.node.current;if(!u||u.isConnected===!1)return;const c=t(u),d=cTe(c,i);if(a||(d.x=0),o||(d.y=0),s.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const h=hTe(u);h&&h.scrollBy({top:d.y,left:d.x})}},[e,a,o,i,t])}const yj=q.createContext({...Mf,scaleX:1,scaleY:1});var Wv;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(Wv||(Wv={}));const zEt=q.memo(function(e){var t,i,r,s;let{id:a,accessibility:o,autoScroll:l=!0,children:u,sensors:c=REt,collisionDetection:d=ZTt,measuring:h,modifiers:f,...p}=e;const g=q.useReducer(BEt,void 0,FEt),[m,v]=g,[_,y]=zTt(),[x,w]=q.useState(Wv.Uninitialized),T=x===Wv.Initialized,{draggable:{active:E,nodes:A,translate:k},droppable:{containers:P}}=m,I=E!=null?A.get(E):null,D=q.useRef({initial:null,translated:null}),L=q.useMemo(()=>{var ut;return E!=null?{id:E,data:(ut=I==null?void 0:I.data)!=null?ut:DEt,rect:D}:null},[E,I]),B=q.useRef(null),[F,$]=q.useState(null),[z,N]=q.useState(null),V=Qk(p,Object.values(p)),H=tM("DndDescribedBy",a),K=q.useMemo(()=>P.getEnabled(),[P]),U=NEt(h),{droppableRects:X,measureDroppableContainers:Z,measuringScheduled:Q}=xEt(K,{dragging:T,dependencies:[k.x,k.y],config:U.droppable}),se=bEt(A,E),ae=q.useMemo(()=>z?aF(z):null,[z]),ue=gi(),oe=wEt(se,U.draggable.measure);jEt({activeNode:E!=null?A.get(E):null,config:ue.layoutShiftCompensation,initialRect:oe,measure:U.draggable.measure});const re=kle(se,U.draggable.measure,oe),fe=kle(se?se.parentElement:null),ve=q.useRef({activatorEvent:null,active:null,activeNode:se,collisionRect:null,collisions:null,droppableRects:X,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:P,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),xe=P.getNodeFor((t=ve.current.over)==null?void 0:t.id),ye=IEt({measure:U.dragOverlay.measure}),Ee=(i=ye.nodeRef.current)!=null?i:se,Se=T?(r=ye.rect)!=null?r:re:null,Fe=!!(ye.nodeRef.current&&ye.rect),Ge=EEt(Fe?null:re),Pe=wTe(Ee?Lu(Ee):null),je=AEt(T?xe??se:null),qe=MEt(je),ot=ATe(f,{transform:{x:k.x-Ge.x,y:k.y-Ge.y,scaleX:1,scaleY:1},activatorEvent:z,active:L,activeNodeRect:re,containerNodeRect:fe,draggingNodeRect:Se,over:ve.current.over,overlayNodeRect:ye.rect,scrollableAncestors:je,scrollableAncestorRects:qe,windowRect:Pe}),$e=ae?Ow(ae,k):null,et=kEt(je),Mt=Ple(et),Ct=Ple(et,[re]),tt=Ow(ot,Mt),xt=Se?eEt(Se,ot):null,dt=L&&xt?d({active:L,collisionRect:xt,droppableRects:X,droppableContainers:K,pointerCoordinates:$e}):null,bt=uTe(dt,"id"),[rt,Dt]=q.useState(null),Je=Fe?ot:Ow(ot,Ct),At=QTt(Je,(s=rt==null?void 0:rt.rect)!=null?s:null,re),Ft=q.useRef(null),on=q.useCallback((ut,gt)=>{let{sensor:ct,options:en}=gt;if(B.current==null)return;const Bt=A.get(B.current);if(!Bt)return;const Qt=ut.nativeEvent,kn=new ct({active:B.current,activeNode:Bt,event:Qt,options:en,context:ve,onAbort(Ht){if(!A.get(Ht))return;const{onDragAbort:Ze}=V.current,Ue={id:Ht};Ze==null||Ze(Ue),_({type:"onDragAbort",event:Ue})},onPending(Ht,kt,Ze,Ue){if(!A.get(Ht))return;const{onDragPending:it}=V.current,St={id:Ht,constraint:kt,initialCoordinates:Ze,offset:Ue};it==null||it(St),_({type:"onDragPending",event:St})},onStart(Ht){const kt=B.current;if(kt==null)return;const Ze=A.get(kt);if(!Ze)return;const{onDragStart:Ue}=V.current,ze={activatorEvent:Qt,active:{id:kt,data:Ze.data,rect:D}};Yc.unstable_batchedUpdates(()=>{Ue==null||Ue(ze),w(Wv.Initializing),v({type:_o.DragStart,initialCoordinates:Ht,active:kt}),_({type:"onDragStart",event:ze}),$(Ft.current),N(Qt)})},onMove(Ht){v({type:_o.DragMove,coordinates:Ht})},onEnd:jt(_o.DragEnd),onCancel:jt(_o.DragCancel)});Ft.current=kn;function jt(Ht){return async function(){const{active:Ze,collisions:Ue,over:ze,scrollAdjustedTranslate:it}=ve.current;let St=null;if(Ze&&it){const{cancelDrop:Tt}=V.current;St={activatorEvent:Qt,active:Ze,collisions:Ue,delta:it,over:ze},Ht===_o.DragEnd&&typeof Tt=="function"&&await Promise.resolve(Tt(St))&&(Ht=_o.DragCancel)}B.current=null,Yc.unstable_batchedUpdates(()=>{v({type:Ht}),w(Wv.Uninitialized),Dt(null),$(null),N(null),Ft.current=null;const Tt=Ht===_o.DragEnd?"onDragEnd":"onDragCancel";if(St){const $n=V.current[Tt];$n==null||$n(St),_({type:Tt,event:St})}})}}},[A]),Wt=q.useCallback((ut,gt)=>(ct,en)=>{const Bt=ct.nativeEvent,Qt=A.get(en);if(B.current!==null||!Qt||Bt.dndKit||Bt.defaultPrevented)return;const kn={active:Qt};ut(ct,gt.options,kn)===!0&&(Bt.dndKit={capturedBy:gt.sensor},B.current=en,on(ct,gt))},[A,on]),Cn=SEt(c,Wt);OEt(c),Pf(()=>{re&&x===Wv.Initializing&&w(Wv.Initialized)},[re,x]),q.useEffect(()=>{const{onDragMove:ut}=V.current,{active:gt,activatorEvent:ct,collisions:en,over:Bt}=ve.current;if(!gt||!ct)return;const Qt={active:gt,activatorEvent:ct,collisions:en,delta:{x:tt.x,y:tt.y},over:Bt};Yc.unstable_batchedUpdates(()=>{ut==null||ut(Qt),_({type:"onDragMove",event:Qt})})},[tt.x,tt.y]),q.useEffect(()=>{const{active:ut,activatorEvent:gt,collisions:ct,droppableContainers:en,scrollAdjustedTranslate:Bt}=ve.current;if(!ut||B.current==null||!gt||!Bt)return;const{onDragOver:Qt}=V.current,kn=en.get(bt),jt=kn&&kn.rect.current?{id:kn.id,rect:kn.rect.current,data:kn.data,disabled:kn.disabled}:null,Ht={active:ut,activatorEvent:gt,collisions:ct,delta:{x:Bt.x,y:Bt.y},over:jt};Yc.unstable_batchedUpdates(()=>{Dt(jt),Qt==null||Qt(Ht),_({type:"onDragOver",event:Ht})})},[bt]),Pf(()=>{ve.current={activatorEvent:z,active:L,activeNode:se,collisionRect:xt,collisions:dt,droppableRects:X,draggableNodes:A,draggingNode:Ee,draggingNodeRect:Se,droppableContainers:P,over:rt,scrollableAncestors:je,scrollAdjustedTranslate:tt},D.current={initial:Se,translated:xt}},[L,se,dt,xt,A,Ee,Se,X,P,rt,je,tt]),vEt({...ue,delta:k,draggingRect:xt,pointerCoordinates:$e,scrollableAncestors:je,scrollableAncestorRects:qe});const gn=q.useMemo(()=>({active:L,activeNode:se,activeNodeRect:re,activatorEvent:z,collisions:dt,containerNodeRect:fe,dragOverlay:ye,draggableNodes:A,droppableContainers:P,droppableRects:X,over:rt,measureDroppableContainers:Z,scrollableAncestors:je,scrollableAncestorRects:qe,measuringConfiguration:U,measuringScheduled:Q,windowRect:Pe}),[L,se,re,z,dt,fe,ye,A,P,X,rt,Z,je,qe,U,Q,Pe]),Ln=q.useMemo(()=>({activatorEvent:z,activators:Cn,active:L,activeNodeRect:re,ariaDescribedById:{draggable:H},dispatch:v,draggableNodes:A,over:rt,measureDroppableContainers:Z}),[z,Cn,L,re,v,H,A,rt,Z]);return M.createElement(aTe.Provider,{value:y},M.createElement(nM.Provider,{value:Ln},M.createElement(ETe.Provider,{value:gn},M.createElement(yj.Provider,{value:At},u)),M.createElement($Et,{disabled:(o==null?void 0:o.restoreFocus)===!1})),M.createElement(WTt,{...o,hiddenTextDescribedById:H}));function gi(){const ut=(F==null?void 0:F.autoScrollEnabled)===!1,gt=typeof l=="object"?l.enabled===!1:l===!1,ct=T&&!ut&&!gt;return typeof l=="object"?{...l,enabled:ct}:{enabled:ct}}}),HEt=q.createContext(null),Ile="button",VEt="Draggable";function WEt(n){let{id:e,data:t,disabled:i=!1,attributes:r}=n;const s=tM(VEt),{activators:a,activatorEvent:o,active:l,activeNodeRect:u,ariaDescribedById:c,draggableNodes:d,over:h}=q.useContext(nM),{role:f=Ile,roleDescription:p="draggable",tabIndex:g=0}=r??{},m=(l==null?void 0:l.id)===e,v=q.useContext(m?yj:HEt),[_,y]=rF(),[x,w]=rF(),T=PEt(a,e),E=Qk(t);Pf(()=>(d.set(e,{id:e,key:s,node:_,activatorNode:x,data:E}),()=>{const k=d.get(e);k&&k.key===s&&d.delete(e)}),[d,e]);const A=q.useMemo(()=>({role:f,tabIndex:g,"aria-disabled":i,"aria-pressed":m&&f===Ile?!0:void 0,"aria-roledescription":p,"aria-describedby":c.draggable}),[i,f,g,m,p,c.draggable]);return{active:l,activatorEvent:o,activeNodeRect:u,attributes:A,isDragging:m,listeners:i?void 0:T,node:_,over:h,setNodeRef:y,setActivatorNodeRef:w,transform:v}}function kTe(){return q.useContext(ETe)}const UEt="Droppable",GEt={timeout:25};function YEt(n){let{data:e,disabled:t=!1,id:i,resizeObserverConfig:r}=n;const s=tM(UEt),{active:a,dispatch:o,over:l,measureDroppableContainers:u}=q.useContext(nM),c=q.useRef({disabled:t}),d=q.useRef(!1),h=q.useRef(null),f=q.useRef(null),{disabled:p,updateMeasurementsFor:g,timeout:m}={...GEt,...r},v=Qk(g??i),_=q.useCallback(()=>{if(!d.current){d.current=!0;return}f.current!=null&&clearTimeout(f.current),f.current=setTimeout(()=>{u(Array.isArray(v.current)?v.current:[v.current]),f.current=null},m)},[m]),y=vj({callback:_,disabled:p||!a}),x=q.useCallback((A,k)=>{y&&(k&&(y.unobserve(k),d.current=!1),A&&y.observe(A))},[y]),[w,T]=rF(x),E=Qk(e);return q.useEffect(()=>{!y||!w.current||(y.disconnect(),d.current=!1,y.observe(w.current))},[w,y]),q.useEffect(()=>(o({type:_o.RegisterDroppable,element:{id:i,key:s,disabled:t,node:w,rect:h,data:E}}),()=>o({type:_o.UnregisterDroppable,key:s,id:i})),[i]),q.useEffect(()=>{t!==c.current.disabled&&(o({type:_o.SetDroppableDisabled,id:i,key:s,disabled:t}),c.current.disabled=t)},[i,s,t,o]),{active:a,rect:h,isOver:(l==null?void 0:l.id)===i,node:w,over:l,setNodeRef:T}}function KEt(n){let{animation:e,children:t}=n;const[i,r]=q.useState(null),[s,a]=q.useState(null),o=sF(t);return!t&&!i&&o&&r(o),Pf(()=>{if(!s)return;const l=i==null?void 0:i.key,u=i==null?void 0:i.props.id;if(l==null||u==null){r(null);return}Promise.resolve(e(u,s)).then(()=>{r(null)})},[e,i,s]),M.createElement(M.Fragment,null,t,i?q.cloneElement(i,{ref:a}):null)}const XEt={x:0,y:0,scaleX:1,scaleY:1};function qEt(n){let{children:e}=n;return M.createElement(nM.Provider,{value:TTe},M.createElement(yj.Provider,{value:XEt},e))}const ZEt={position:"fixed",touchAction:"none"},QEt=n=>gj(n)?"transform 250ms ease":void 0,JEt=q.forwardRef((n,e)=>{let{as:t,activatorEvent:i,adjustScale:r,children:s,className:a,rect:o,style:l,transform:u,transition:c=QEt}=n;if(!o)return null;const d=r?u:{...u,scaleX:1,scaleY:1},h={...ZEt,width:o.width,height:o.height,top:o.top,left:o.left,transform:Ly.Transform.toString(d),transformOrigin:r&&i?GTt(i,o):void 0,transition:typeof c=="function"?c(i):c,...l};return M.createElement(t,{className:a,style:h,ref:e},s)}),eAt=n=>e=>{let{active:t,dragOverlay:i}=e;const r={},{styles:s,className:a}=n;if(s!=null&&s.active)for(const[o,l]of Object.entries(s.active))l!==void 0&&(r[o]=t.node.style.getPropertyValue(o),t.node.style.setProperty(o,l));if(s!=null&&s.dragOverlay)for(const[o,l]of Object.entries(s.dragOverlay))l!==void 0&&i.node.style.setProperty(o,l);return a!=null&&a.active&&t.node.classList.add(a.active),a!=null&&a.dragOverlay&&i.node.classList.add(a.dragOverlay),function(){for(const[l,u]of Object.entries(r))t.node.style.setProperty(l,u);a!=null&&a.active&&t.node.classList.remove(a.active)}},tAt=n=>{let{transform:{initial:e,final:t}}=n;return[{transform:Ly.Transform.toString(e)},{transform:Ly.Transform.toString(t)}]},nAt={duration:250,easing:"ease",keyframes:tAt,sideEffects:eAt({styles:{active:{opacity:"0"}}})};function iAt(n){let{config:e,draggableNodes:t,droppableContainers:i,measuringConfiguration:r}=n;return pj((s,a)=>{if(e===null)return;const o=t.get(s);if(!o)return;const l=o.node.current;if(!l)return;const u=CTe(a);if(!u)return;const{transform:c}=Lu(a).getComputedStyle(a),d=dTe(c);if(!d)return;const h=typeof e=="function"?e:rAt(e);return yTe(l,r.draggable.measure),h({active:{id:s,data:o.data,node:l,rect:r.draggable.measure(l)},draggableNodes:t,dragOverlay:{node:a,rect:r.dragOverlay.measure(u)},droppableContainers:i,measuringConfiguration:r,transform:d})})}function rAt(n){const{duration:e,easing:t,sideEffects:i,keyframes:r}={...nAt,...n};return s=>{let{active:a,dragOverlay:o,transform:l,...u}=s;if(!e)return;const c={x:o.rect.left-a.rect.left,y:o.rect.top-a.rect.top},d={scaleX:l.scaleX!==1?a.rect.width*l.scaleX/o.rect.width:1,scaleY:l.scaleY!==1?a.rect.height*l.scaleY/o.rect.height:1},h={x:l.x-c.x,y:l.y-c.y,...d},f=r({...u,active:a,dragOverlay:o,transform:{initial:l,final:h}}),[p]=f,g=f[f.length-1];if(JSON.stringify(p)===JSON.stringify(g))return;const m=i==null?void 0:i({active:a,dragOverlay:o,...u}),v=o.node.animate(f,{duration:e,easing:t,fill:"forwards"});return new Promise(_=>{v.onfinish=()=>{m==null||m(),_()}})}}let Rle=0;function sAt(n){return q.useMemo(()=>{if(n!=null)return Rle++,Rle},[n])}const aAt=M.memo(n=>{let{adjustScale:e=!1,children:t,dropAnimation:i,style:r,transition:s,modifiers:a,wrapperElement:o="div",className:l,zIndex:u=999}=n;const{activatorEvent:c,active:d,activeNodeRect:h,containerNodeRect:f,draggableNodes:p,droppableContainers:g,dragOverlay:m,over:v,measuringConfiguration:_,scrollableAncestors:y,scrollableAncestorRects:x,windowRect:w}=kTe(),T=q.useContext(yj),E=sAt(d==null?void 0:d.id),A=ATe(a,{activatorEvent:c,active:d,activeNodeRect:h,containerNodeRect:f,draggingNodeRect:m.rect,over:v,overlayNodeRect:m.rect,scrollableAncestors:y,scrollableAncestorRects:x,transform:T,windowRect:w}),k=YX(h),P=iAt({config:i,draggableNodes:p,droppableContainers:g,measuringConfiguration:_}),I=k?m.setRef:void 0;return M.createElement(qEt,null,M.createElement(KEt,{animation:P},d&&E?M.createElement(JEt,{key:E,id:d.id,ref:I,as:o,activatorEvent:c,adjustScale:e,className:l,transition:s,rect:k,style:{zIndex:u,...r},transform:A},t):null))});function OTe(n,e,t){const i=n.slice();return i.splice(t<0?i.length+t:t,0,i.splice(e,1)[0]),i}function oAt(n,e){return n.reduce((t,i,r)=>{const s=e.get(i);return s&&(t[r]=s),t},Array(n.length))}function ZR(n){return n!==null&&n>=0}function lAt(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function uAt(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const KX=n=>{let{rects:e,activeIndex:t,overIndex:i,index:r}=n;const s=OTe(e,i,t),a=e[r],o=s[r];return!o||!a?null:{x:o.left-a.left,y:o.top-a.top,scaleX:o.width/a.width,scaleY:o.height/a.height}},PTe="Sortable",MTe=M.createContext({activeIndex:-1,containerId:PTe,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:KX,disabled:{draggable:!1,droppable:!1}});function cAt(n){let{children:e,id:t,items:i,strategy:r=KX,disabled:s=!1}=n;const{active:a,dragOverlay:o,droppableRects:l,over:u,measureDroppableContainers:c}=kTe(),d=tM(PTe,t),h=o.rect!==null,f=q.useMemo(()=>i.map(T=>typeof T=="object"&&"id"in T?T.id:T),[i]),p=a!=null,g=a?f.indexOf(a.id):-1,m=u?f.indexOf(u.id):-1,v=q.useRef(f),_=!lAt(f,v.current),y=m!==-1&&g===-1||_,x=uAt(s);Pf(()=>{_&&p&&c(f)},[_,f,p,c]),q.useEffect(()=>{v.current=f},[f]);const w=q.useMemo(()=>({activeIndex:g,containerId:d,disabled:x,disableTransforms:y,items:f,overIndex:m,useDragOverlay:h,sortedRects:oAt(f,l),strategy:r}),[g,d,x.draggable,x.droppable,y,f,m,l,h,r]);return M.createElement(MTe.Provider,{value:w},e)}const dAt=n=>{let{id:e,items:t,activeIndex:i,overIndex:r}=n;return OTe(t,i,r).indexOf(e)},hAt=n=>{let{containerId:e,isSorting:t,wasDragging:i,index:r,items:s,newIndex:a,previousItems:o,previousContainerId:l,transition:u}=n;return!u||!i||o!==s&&r===a?!1:t?!0:a!==r&&e===l},fAt={duration:200,easing:"ease"},ITe="transform",pAt=Ly.Transition.toString({property:ITe,duration:0,easing:"linear"}),gAt={roleDescription:"sortable"};function mAt(n){let{disabled:e,index:t,node:i,rect:r}=n;const[s,a]=q.useState(null),o=q.useRef(t);return Pf(()=>{if(!e&&t!==o.current&&i.current){const l=r.current;if(l){const u=I1(i.current,{ignoreTransform:!0}),c={x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height};(c.x||c.y)&&a(c)}}t!==o.current&&(o.current=t)},[e,t,i,r]),q.useEffect(()=>{s&&a(null)},[s]),s}function vAt(n){let{animateLayoutChanges:e=hAt,attributes:t,disabled:i,data:r,getNewIndex:s=dAt,id:a,strategy:o,resizeObserverConfig:l,transition:u=fAt}=n;const{items:c,containerId:d,activeIndex:h,disabled:f,disableTransforms:p,sortedRects:g,overIndex:m,useDragOverlay:v,strategy:_}=q.useContext(MTe),y=yAt(i,f),x=c.indexOf(a),w=q.useMemo(()=>({sortable:{containerId:d,index:x,items:c},...r}),[d,r,x,c]),T=q.useMemo(()=>c.slice(c.indexOf(a)),[c,a]),{rect:E,node:A,isOver:k,setNodeRef:P}=YEt({id:a,data:w,disabled:y.droppable,resizeObserverConfig:{updateMeasurementsFor:T,...l}}),{active:I,activatorEvent:D,activeNodeRect:L,attributes:B,setNodeRef:F,listeners:$,isDragging:z,over:N,setActivatorNodeRef:V,transform:H}=WEt({id:a,data:w,attributes:{...gAt,...t},disabled:y.draggable}),K=MTt(P,F),U=!!I,X=U&&!p&&ZR(h)&&ZR(m),Z=!v&&z,Q=Z&&X?H:null,ae=X?Q??(o??_)({rects:g,activeNodeRect:L,activeIndex:h,overIndex:m,index:x}):null,ue=ZR(h)&&ZR(m)?s({id:a,items:c,activeIndex:h,overIndex:m}):x,oe=I==null?void 0:I.id,re=q.useRef({activeId:oe,items:c,newIndex:ue,containerId:d}),fe=c!==re.current.items,ve=e({active:I,containerId:d,isDragging:z,isSorting:U,id:a,index:x,items:c,newIndex:re.current.newIndex,previousItems:re.current.items,previousContainerId:re.current.containerId,transition:u,wasDragging:re.current.activeId!=null}),xe=mAt({disabled:!ve,index:x,node:A,rect:E});return q.useEffect(()=>{U&&re.current.newIndex!==ue&&(re.current.newIndex=ue),d!==re.current.containerId&&(re.current.containerId=d),c!==re.current.items&&(re.current.items=c)},[U,ue,d,c]),q.useEffect(()=>{if(oe===re.current.activeId)return;if(oe&&!re.current.activeId){re.current.activeId=oe;return}const Ee=setTimeout(()=>{re.current.activeId=oe},50);return()=>clearTimeout(Ee)},[oe]),{active:I,activeIndex:h,attributes:B,data:w,rect:E,index:x,newIndex:ue,items:c,isOver:k,isSorting:U,isDragging:z,listeners:$,node:A,overIndex:m,over:N,setNodeRef:K,setActivatorNodeRef:V,setDroppableNodeRef:P,setDraggableNodeRef:F,transform:xe??ae,transition:ye()};function ye(){if(xe||fe&&re.current.newIndex===x)return pAt;if(!(Z&&!gj(D)||!u)&&(U||ve))return Ly.Transition.toString({...u,property:ITe})}}function yAt(n,e){var t,i;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(t=n==null?void 0:n.draggable)!=null?t:e.draggable,droppable:(i=n==null?void 0:n.droppable)!=null?i:e.droppable}}function lF(n){if(!n)return!1;const e=n.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const _At=[Ui.Down,Ui.Right,Ui.Up,Ui.Left],bAt=(n,e)=>{let{context:{active:t,collisionRect:i,droppableRects:r,droppableContainers:s,over:a,scrollableAncestors:o}}=e;if(_At.includes(n.code)){if(n.preventDefault(),!t||!i)return;const l=[];s.getEnabled().forEach(d=>{if(!d||d!=null&&d.disabled)return;const h=r.get(d.id);if(h)switch(n.code){case Ui.Down:i.top<h.top&&l.push(d);break;case Ui.Up:i.top>h.top&&l.push(d);break;case Ui.Left:i.left>h.left&&l.push(d);break;case Ui.Right:i.left<h.left&&l.push(d);break}});const u=XTt({collisionRect:i,droppableRects:r,droppableContainers:l});let c=uTe(u,"id");if(c===(a==null?void 0:a.id)&&u.length>1&&(c=u[1].id),c!=null){const d=s.get(t.id),h=s.get(c),f=h?r.get(h.id):null,p=h==null?void 0:h.node.current;if(p&&f&&d&&h){const m=mj(p).some((T,E)=>o[E]!==T),v=RTe(d,h),_=SAt(d,h),y=m||!v?{x:0,y:0}:{x:_?i.width-f.width:0,y:_?i.height-f.height:0},x={x:f.left,y:f.top};return y.x&&y.y?x:Jk(x,y)}}}};function RTe(n,e){return!lF(n)||!lF(e)?!1:n.data.current.sortable.containerId===e.data.current.sortable.containerId}function SAt(n,e){return!lF(n)||!lF(e)||!RTe(n,e)?!1:n.data.current.sortable.index<e.data.current.sortable.index}const xAt="semi-sortable";function wAt(n){return M.createElement("div",Object.assign({style:{overflow:"auto"}},n))}const CAt={coordinateGetter:bAt};function TAt(n){let{items:e,onSortEnd:t,adjustScale:i,renderItem:r,transition:s,collisionDetection:a=KTt,strategy:o=KX,useDragOverlay:l=!0,dragOverlayCls:u,container:c=wAt,prefix:d=xAt}=n;const[h,f]=q.useState(null),p=UTt(HV(STe),HV(xTe),HV(UX,CAt)),g=q.useCallback(x=>e.indexOf(x),[e]),m=q.useMemo(()=>h?g(h):-1,[g,h]),v=q.useCallback(x=>{let{active:w}=x;w&&f(w.id)},[]),_=q.useCallback(x=>{let{over:w}=x;if(f(null),w){const T=g(w.id);m!==T&&t({oldIndex:m,newIndex:T})}},[m,g,t]),y=q.useCallback(()=>{f(null)},[]);return M.createElement(zEt,{sensors:p,collisionDetection:a,onDragStart:v,onDragEnd:_,onDragCancel:y,autoScroll:{order:eO.ReversedTreeOrder}},M.createElement(cAt,{items:e,strategy:o},M.createElement(c,null,e.map((x,w)=>M.createElement(EAt,{key:x,id:x,index:w,renderItem:r,useDragOverlay:l,prefix:d,transition:s})))),l?Yc.createPortal(M.createElement(aAt,{adjustScale:i,style:{zIndex:void 0},className:u},h?r({id:h,sortableHandle:x=>x}):null),document.body):null)}function EAt(n){let{animateLayoutChanges:e,id:t,renderItem:i,prefix:r,transition:s}=n;const{listeners:a,setNodeRef:o,transform:l,transition:u,active:c,isOver:d,attributes:h}=vAt({id:t,animateLayoutChanges:e,transition:s}),f=q.useCallback(m=>()=>M.createElement("span",Object.assign({},a,{style:{lineHeight:0},onMouseDown:v=>{a.onMouseDown(v),v.preventDefault(),v.stopPropagation()}}),M.createElement(m,null)),[a]),p=le(`${r}-sortable-item`,{[`${r}-sortable-item-over`]:d,[`${r}-sortable-item-active`]:(c==null?void 0:c.id)===t}),g=q.useMemo(()=>Rm(s)?void 0:{transform:Ly.Transform.toString(Object.assign(Object.assign({},l),{scaleX:1,scaleY:1})),transition:u},[s,l,u]);return M.createElement("div",Object.assign({ref:o,style:g,className:p},h),i({id:t,sortableHandle:f}))}var AAt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const Hi=kTt.PREFIX;function kAt(n){return M.createElement("div",Object.assign({className:`${Hi}-sortable-list`},n))}class iM extends An{constructor(e){super(e),this.handleInputChange=t=>{this.foundation.handleInputChange(t)},this.handleKeyDown=t=>{this.foundation.handleKeyDown(t)},this.handleInputFocus=t=>{this.foundation.handleInputFocus(t)},this.handleInputBlur=t=>{this.foundation.handleInputBlur(t)},this.handleClearBtn=t=>{this.foundation.handleClearBtn(t)},this.handleClearEnterPress=t=>{this.foundation.handleClearEnterPress(t)},this.handleTagClose=t=>{this.foundation.handleTagClose(t)},this.handleInputMouseLeave=t=>{this.foundation.handleInputMouseLeave()},this.handleClick=t=>{this.foundation.handleClick(t)},this.handleInputMouseEnter=t=>{this.foundation.handleInputMouseEnter()},this.handleClickPrefixOrSuffix=t=>{this.foundation.handleClickPrefixOrSuffix(t)},this.handlePreventMouseDown=t=>{this.foundation.handlePreventMouseDown(t)},this.getAllTags=()=>{const{tagsArray:t}=this.state;return t.map((i,r)=>this.renderTag(i,r))},this.renderTag=(t,i,r)=>{const{size:s,disabled:a,renderTagItem:o,showContentTooltip:l,draggable:u}=this.props,{active:c}=this.state,d=c&&u,h=le(`${Hi}-wrapper-tag`,{[`${Hi}-wrapper-tag-size-${s}`]:s,[`${Hi}-wrapper-tag-icon`]:d}),f=le(`${Hi}-wrapper-typo`,{[`${Hi}-wrapper-typo-disabled`]:a}),p=le({[`${Hi}-drag-item`]:d,[`${Hi}-wrapper-tag-icon`]:d}),g=r&&r(()=>M.createElement(axt,{className:`${Hi}-drag-handler`})),m=d?t:`${i}${t}`,v=()=>{!a&&this.handleTagClose(i)};return Mn(o)?d&&r?M.createElement("div",{className:p,key:m},M.createElement(g,null),o(t,i,v)):o(t,i,v):M.createElement(fh,{className:h,color:"white",size:s==="small"?"small":"large",type:"light",onClose:v,closable:!a,key:m,visible:!0,"aria-label":`${a?"":"Closable "}Tag: ${t}`},d&&r?M.createElement(g,null):null,M.createElement(aj,{className:f,ellipsis:{showTooltip:l,rows:1}},t))},this.renderSortTag=t=>{const{id:i,sortableHandle:r}=t,{tagsArray:s}=this.state,a=s.indexOf(i);return this.renderTag(i,a,r)},this.onSortEnd=t=>{this.foundation.handleSortEnd(t)},this.handleInputCompositionStart=t=>{this.foundation.handleInputCompositionStart(t)},this.handleInputCompositionEnd=t=>{this.foundation.handleInputCompositionEnd(t)},this.foundation=new PTt(this.adapter),this.state={tagsArray:e.defaultValue||[],inputValue:"",focusing:!1,hovering:!1,active:!1,entering:!1},this.inputRef=M.createRef(),this.tagInputRef=M.createRef(),this.clickOutsideHandler=null}static getDerivedStateFromProps(e,t){const{value:i,inputValue:r}=e,{tagsArray:s}=t;let a;return Z9(i)?a=i:"value"in e&&!i?a=[]:a=s,{tagsArray:a,inputValue:oi(r)?r:t.inputValue}}get adapter(){return Object.assign(Object.assign({},super.adapter),{setInputValue:e=>{this.setState({inputValue:e})},setTagsArray:e=>{this.setState({tagsArray:e})},setFocusing:e=>{this.setState({focusing:e})},toggleFocusing:e=>{const{preventScroll:t}=this.props,i=this.inputRef&&this.inputRef.current;e?i&&i.focus({preventScroll:t}):i&&i.blur(),this.setState({focusing:e})},setHovering:e=>{this.setState({hovering:e})},setActive:e=>{this.setState({active:e})},setEntering:e=>{this.setState({entering:e})},getClickOutsideHandler:()=>this.clickOutsideHandler,notifyBlur:e=>{this.props.onBlur(e)},notifyFocus:e=>{this.props.onFocus(e)},notifyInputChange:(e,t)=>{this.props.onInputChange(e,t)},notifyTagChange:e=>{this.props.onChange(e)},notifyTagAdd:e=>{this.props.onAdd(e)},notifyTagRemove:(e,t)=>{this.props.onRemove(e,t)},notifyKeyDown:e=>{this.props.onKeyDown(e)},registerClickOutsideHandler:e=>{const t=i=>{const r=this.tagInputRef&&this.tagInputRef.current,s=i.target,a=i.composedPath&&i.composedPath()||[s];r&&!r.contains(s)&&!a.includes(r)&&e(i)};this.clickOutsideHandler=t,document.addEventListener("click",t,!1)},unregisterClickOutsideHandler:()=>{document.removeEventListener("click",this.clickOutsideHandler,!1),this.clickOutsideHandler=null}})}componentDidMount(){const{disabled:e,autoFocus:t,preventScroll:i}=this.props;!e&&t&&(this.inputRef.current.focus({preventScroll:i}),this.foundation.handleClick()),this.foundation.init()}renderClearBtn(){const{hovering:e,tagsArray:t,inputValue:i}=this.state,{showClear:r,disabled:s,clearIcon:a}=this.props,o=le(`${Hi}-clearBtn`,{[`${Hi}-clearBtn-invisible`]:!e||i===""&&t.length===0||s});return r?M.createElement("div",{role:"button",tabIndex:0,"aria-label":"Clear TagInput value",className:o,onClick:l=>this.handleClearBtn(l),onKeyPress:l=>this.handleClearEnterPress(l)},a||M.createElement(e_,null)):null}renderPrefix(){const{prefix:e,insetLabel:t,insetLabelId:i}=this.props,r=e||t;if(Rm(r)||lr(r))return null;const s=le(`${Hi}-prefix`,{[`${Hi}-inset-label`]:t,[`${Hi}-prefix-text`]:r&&oi(r),[`${Hi}-prefix-icon`]:Su(r)});return M.createElement("div",{className:s,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,id:i,"x-semi-prop":"prefix"},r)}renderSuffix(){const{suffix:e}=this.props;if(Rm(e)||lr(e))return null;const t=le(`${Hi}-suffix`,{[`${Hi}-suffix-text`]:e&&oi(e),[`${Hi}-suffix-icon`]:Su(e)});return M.createElement("div",{className:t,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,"x-semi-prop":"suffix"},e)}renderTags(){const{disabled:e,maxTagCount:t,showRestTagsPopover:i,restTagsPopoverProps:r={},draggable:s,expandRestTagsOnClick:a}=this.props,{tagsArray:o,active:l}=this.state,u=le(`${Hi}-wrapper-n`,{[`${Hi}-wrapper-n-disabled`]:e}),c=this.getAllTags();let d=[],h=[...c];(!l||!a)&&t&&t<c.length&&(h=c.slice(0,t),d=c.slice(t));const f=M.createElement("span",{className:u},"+",o.length-t),p=c.map((g,m)=>({item:g,key:o[m]}));return l&&s&&p.length>0?M.createElement(TAt,{items:o,onSortEnd:this.onSortEnd,renderItem:this.renderSortTag,container:kAt,prefix:Hi,transition:null,dragOverlayCls:`${Hi}-right-item-drag-item-move`}):M.createElement(M.Fragment,null,h,d.length>0&&(i?M.createElement(Ko,Object.assign({content:d,showArrow:!0,trigger:"hover",position:"top",autoAdjustOverflow:!0},r),f):f))}blur(){this.inputRef.current.blur(),this.foundation.clickOutsideCallBack()}focus(){const{preventScroll:e,disabled:t}=this.props;this.inputRef.current.focus({preventScroll:e}),t||this.foundation.handleClick()}render(){const e=this.props,{size:t,style:i,className:r,disabled:s,placeholder:a,validateStatus:o,prefix:l,insetLabel:u,suffix:c}=e,d=AAt(e,["size","style","className","disabled","placeholder","validateStatus","prefix","insetLabel","suffix"]),{focusing:h,hovering:f,tagsArray:p,inputValue:g,active:m}=this.state,v=le(Hi,r,{[`${Hi}-focus`]:h||m,[`${Hi}-disabled`]:s,[`${Hi}-hover`]:f&&!s,[`${Hi}-error`]:o==="error",[`${Hi}-warning`]:o==="warning",[`${Hi}-small`]:t==="small",[`${Hi}-large`]:t==="large",[`${Hi}-with-prefix`]:!!l||!!u,[`${Hi}-with-suffix`]:!!c}),_=le(`${Hi}-wrapper-input`,`${Hi}-wrapper-input-${t}`),y=le(`${Hi}-wrapper`);return M.createElement("div",Object.assign({ref:this.tagInputRef,style:i,className:v,"aria-disabled":s,"aria-label":this.props["aria-label"],"aria-invalid":o==="error",onMouseEnter:x=>{this.handleInputMouseEnter(x)},onMouseLeave:x=>{this.handleInputMouseLeave(x)},onClick:x=>{this.handleClick(x)}},this.getDataAttr(d)),this.renderPrefix(),M.createElement("div",{className:y},this.renderTags(),M.createElement(Gl,{"aria-label":"input value",ref:this.inputRef,className:_,disabled:s,value:g,size:t,placeholder:p.length===0?a:"",onKeyDown:x=>{this.handleKeyDown(x)},onChange:(x,w)=>{this.handleInputChange(w)},onBlur:x=>{this.handleInputBlur(x)},onFocus:x=>{this.handleInputFocus(x)},onCompositionStart:this.handleInputCompositionStart,onCompositionEnd:this.handleInputCompositionEnd})),this.renderClearBtn(),this.renderSuffix())}}iM.propTypes={children:S.node,clearIcon:S.node,style:S.object,className:S.string,disabled:S.bool,allowDuplicates:S.bool,max:S.number,maxTagCount:S.number,maxLength:S.number,showRestTagsPopover:S.bool,restTagsPopoverProps:S.object,showContentTooltip:S.oneOfType([S.shape({type:S.string,opts:S.object}),S.bool]),defaultValue:S.array,value:S.array,inputValue:S.string,placeholder:S.string,separator:S.oneOfType([S.string,S.array]),showClear:S.bool,addOnBlur:S.bool,draggable:S.bool,expandRestTagsOnClick:S.bool,autoFocus:S.bool,renderTagItem:S.func,onBlur:S.func,onFocus:S.func,onChange:S.func,onInputChange:S.func,onExceed:S.func,onInputExceed:S.func,onAdd:S.func,onRemove:S.func,onKeyDown:S.func,size:S.oneOf(_le.SIZE_SET),validateStatus:S.oneOf(_le.STATUS),prefix:S.oneOfType([S.string,S.node]),suffix:S.oneOfType([S.string,S.node]),"aria-label":S.string,preventScroll:S.bool};iM.defaultProps={showClear:!1,addOnBlur:!1,allowDuplicates:!0,showRestTagsPopover:!0,autoFocus:!1,draggable:!1,expandRestTagsOnClick:!0,showContentTooltip:!0,separator:",",size:"default",validateStatus:"default",onBlur:be,onFocus:be,onChange:be,onInputChange:be,onExceed:be,onInputExceed:be,onAdd:be,onRemove:be,onKeyDown:be};const Mi=Y1e.PREFIX,OAt=0;class bC extends An{constructor(e){super(e),this.search=t=>{this.handleInputChange(t)},this.handleInputChange=t=>{this.foundation.handleInputChange(t)},this.handleTagRemoveInTrigger=t=>{this.foundation.handleTagRemoveInTrigger(t)},this.handleTagClose=(t,i,r)=>{i.preventDefault(),this.foundation.handleTagRemoveByKey(r)},this.renderTagItem=(t,i)=>{const{keyEntities:r,disabledKeys:s}=this.state,{size:a,disabled:o,displayProp:l,displayRender:u,disableStrictly:c}=this.props;if(r[t]){const d=o||r[t].data.disabled||c&&s.has(t),h=le(`${Mi}-selection-tag`,{[`${Mi}-selection-tag-disabled`]:d});return Mn(u)?u(r[t],i):M.createElement(fh,{size:a==="default"?"large":a,key:`tag-${t}-${i}`,color:"white",tagKey:t,className:h,closable:!0,onClose:this.handleTagClose},r[t].data[l])}return null},this.onRemoveInTagInput=t=>{this.foundation.handleTagRemoveByKey(t)},this.handleItemClick=(t,i)=>{this.foundation.handleItemClick(t,i)},this.handleItemHover=(t,i)=>{this.foundation.handleItemHover(t,i)},this.onItemCheckboxClick=t=>{this.foundation.onItemCheckboxClick(t)},this.handleListScroll=(t,i)=>{this.foundation.handleListScroll(t,i)},this.renderContent=()=>{const{inputValue:t,isSearching:i,activeKeys:r,selectedKeys:s,checkedKeys:a,halfCheckedKeys:o,loadedKeys:l,loadingKeys:u}=this.state,{filterTreeNode:c,dropdownClassName:d,dropdownStyle:h,loadData:f,emptyContent:p,separator:g,topSlot:m,bottomSlot:v,showNext:_,multiple:y,filterRender:x,virtualizeInSearch:w,expandIcon:T}=this.props,E=!!c&&i,A=le(d,`${Mi}-popover`),k=this.foundation.getRenderData(),I=!k||!k.length?Object.assign(Object.assign({},h),{minWidth:this.state.emptyContentMinWidth}):h;return M.createElement("div",{className:A,role:"listbox",style:I,onKeyDown:this.foundation.handleKeyDown,ref:this.optionContainerEl},m,M.createElement(hj,{activeKeys:r,selectedKeys:s,separator:g,loadedKeys:l,loadingKeys:u,onItemClick:this.handleItemClick,onItemHover:this.handleItemHover,showNext:_,onItemCheckboxClick:this.onItemCheckboxClick,onListScroll:this.handleListScroll,searchable:E,keyword:t,emptyContent:p,loadData:f,data:k,multiple:y,checkedKeys:a,halfCheckedKeys:o,filterRender:x,virtualize:w,expandIcon:T}),v)},this.renderPlusN=t=>{const{disabled:i,showRestTagsPopover:r,restTagsPopoverProps:s}=this.props,a=le(`${Mi}-selection-n`,{[`${Mi}-selection-n-disabled`]:i}),o=M.createElement("span",{className:a},"+",t.length);return r?M.createElement(Ko,Object.assign({content:t,showArrow:!0,trigger:"hover",position:"top",autoAdjustOverflow:!0},s),o):o},this.renderMultipleTags=()=>{const{autoMergeValue:t,maxTagCount:i,checkRelation:r}=this.props,{checkedKeys:s,resolvedCheckedKeys:a}=this.state,o=this.mergeType===Bs.NONE_MERGE_TYPE||r===Bs.UN_RELATED?s:a,l=[],u=[];return[...o].forEach((c,d)=>{const h=!Ns(i)||i>=d+1,f=this.renderTagItem(c,d);h?l.push(f):u.push(f)}),M.createElement(M.Fragment,null,l,!Hr(u)&&this.renderPlusN(u))},this.renderDisplayText=()=>{const{displayProp:t,separator:i,displayRender:r}=this.props,{selectedKeys:s}=this.state;let a="";if(s.size){const o=this.foundation.getItemPropPath([...s][0],t);r&&typeof r=="function"?a=r(o):a=o.map((l,u)=>M.createElement(q.Fragment,{key:`${l}-${u}`},u<o.length-1?M.createElement(M.Fragment,null,l,i):l))}return a},this.renderSelectContent=()=>{const{placeholder:t,filterTreeNode:i,multiple:r,searchPosition:s}=this.props,{checkedKeys:a}=this.state;if(!(!!i&&s===Bs.SEARCH_POSITION_TRIGGER)){if(r)return a.size===0?M.createElement("span",{className:`${Mi}-selection-placeholder`},t):this.renderMultipleTags();{const u=this.renderDisplayText(),c=le({[`${Mi}-selection-placeholder`]:!u});return M.createElement("span",{className:c},u||t)}}return r?this.renderTagInput():this.renderInput()},this.renderSuffix=()=>{const{suffix:t}=this.props,i=le({[`${Mi}-suffix`]:!0,[`${Mi}-suffix-text`]:t&&oi(t),[`${Mi}-suffix-icon`]:Su(t)});return M.createElement("div",{className:i,"x-semi-prop":"suffix"},t)},this.renderPrefix=()=>{const{prefix:t,insetLabel:i,insetLabelId:r}=this.props,s=t||i,a=le({[`${Mi}-prefix`]:!0,[`${Mi}-inset-label`]:i,[`${Mi}-prefix-text`]:s&&oi(s),[`${Mi}-prefix-icon`]:Su(s)});return M.createElement("div",{className:a,id:r,"x-semi-prop":"prefix,insetLabel"},s)},this.renderCustomTrigger=()=>{var t;const{disabled:i,triggerRender:r,multiple:s}=this.props,{selectedKeys:a,inputValue:o,inputPlaceHolder:l,resolvedCheckedKeys:u,checkedKeys:c,keyEntities:d}=this.state;let h;return s?this.mergeType===Bs.NONE_MERGE_TYPE?(h=new Set,c.forEach(f=>{var p;h.add((p=d[f])===null||p===void 0?void 0:p.pos)})):(h=new Set,u.forEach(f=>{var p;h.add((p=d[f])===null||p===void 0?void 0:p.pos)})):h=(t=d[[...a][0]])===null||t===void 0?void 0:t.pos,M.createElement(z0,{value:h,inputValue:o,onChange:this.handleInputChange,onClear:this.handleClear,placeholder:l,disabled:i,triggerRender:r,componentName:"Cascader",componentProps:Object.assign({},this.props),onSearch:this.handleInputChange,onRemove:this.handleTagRemoveInTrigger})},this.handleMouseOver=()=>{this.foundation.toggleHoverState(!0)},this.handleMouseLeave=()=>{this.foundation.toggleHoverState(!1)},this.handleClear=t=>{t&&t.stopPropagation(),this.foundation.handleClear()},this.handleClearEnterPress=t=>{t&&t.stopPropagation(),this.foundation.handleClearEnterPress(t)},this.showClearBtn=()=>{const{showClear:t,disabled:i,multiple:r}=this.props,{selectedKeys:s,isOpen:a,isHovering:o,checkedKeys:l,inputValue:u}=this.state,c=s.size,d=r&&l.size;return t&&(u||c||d)&&!i&&(a||o)},this.renderClearBtn=()=>{const t=le(`${Mi}-clearbtn`),{clearIcon:i}=this.props;return this.showClearBtn()?M.createElement("div",{className:t,onClick:this.handleClear,onKeyPress:this.handleClearEnterPress,role:"button",tabIndex:0},i||M.createElement(e_,null)):null},this.renderArrow=()=>{const{arrowIcon:t}=this.props;return this.showClearBtn()?null:t?M.createElement("div",{className:le(`${Mi}-arrow`),"x-semi-prop":"arrowIcon"},t):null},this.renderSelection=()=>{const{disabled:t,multiple:i,filterTreeNode:r,style:s,size:a,className:o,validateStatus:l,prefix:u,suffix:c,insetLabel:d,triggerRender:h,showClear:f,id:p,borderless:g}=this.props,{isOpen:m,isFocus:v,isInput:_,checkedKeys:y}=this.state,x=!!r,w=typeof h=="function",T=w?le(o):le(Mi,o,{[`${Mi}-borderless`]:g,[`${Mi}-focus`]:v||m&&!_,[`${Mi}-disabled`]:t,[`${Mi}-single`]:!0,[`${Mi}-filterable`]:x,[`${Mi}-error`]:l==="error",[`${Mi}-warning`]:l==="warning",[`${Mi}-small`]:a==="small",[`${Mi}-large`]:a==="large",[`${Mi}-with-prefix`]:u||d,[`${Mi}-with-suffix`]:c}),E=f?{onMouseEnter:()=>this.handleMouseOver(),onMouseLeave:()=>this.handleMouseLeave()}:{},A=le(`${Mi}-selection`,{[`${Mi}-selection-multiple`]:i&&!Hr(y)}),k=w?this.renderCustomTrigger():[M.createElement(q.Fragment,{key:"prefix"},u||d?this.renderPrefix():null),M.createElement(q.Fragment,{key:"selection"},M.createElement("div",{className:A},this.renderSelectContent())),M.createElement(q.Fragment,{key:"suffix"},c?this.renderSuffix():null),M.createElement(q.Fragment,{key:"clearbtn"},this.renderClearBtn()),M.createElement(q.Fragment,{key:"arrow"},this.renderArrow())];return M.createElement("div",Object.assign({className:T,style:s,ref:this.triggerRef,onClick:P=>this.foundation.handleClick(P),onKeyPress:P=>this.foundation.handleSelectionEnterPress(P),"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"],id:p,onKeyDown:this.foundation.handleKeyDown},E,{role:"combobox",tabIndex:0},this.getDataAttr(this.props)),k)},this.state={emptyContentMinWidth:null,disabledKeys:new Set,isOpen:e.defaultOpen,rePosKey:OAt,keyEntities:{},selectedKeys:new Set([]),activeKeys:new Set([]),filteredKeys:new Set([]),inputValue:"",isSearching:!1,inputPlaceHolder:e.searchPlaceholder||e.placeholder,prevProps:{},isHovering:!1,checkedKeys:new Set([]),halfCheckedKeys:new Set([]),resolvedCheckedKeys:new Set([]),loadedKeys:new Set,loadingKeys:new Set,loading:!1,showInput:!1},this.options={},this.isEmpty=!1,this.mergeType=iG(e.autoMergeValue,e.leafOnly),this.inputRef=M.createRef(),this.triggerRef=M.createRef(),this.optionsRef=M.createRef(),this.optionContainerEl=M.createRef(),this.clickOutsideHandler=null,this.foundation=new sTt(this.adapter),this.loadingKeysRef=M.createRef(),this.loadedKeysRef=M.createRef()}get adapter(){var e=this;const t={updateInputValue:r=>{this.setState({inputValue:r})},updateInputPlaceHolder:r=>{this.setState({inputPlaceHolder:r})},focusInput:()=>{const{preventScroll:r}=this.props;this.inputRef&&this.inputRef.current&&this.inputRef.current.focus({preventScroll:r})},blurInput:()=>{this.inputRef&&this.inputRef.current&&this.inputRef.current.blur()}},i={registerClickOutsideHandler:r=>{const s=a=>{const o=this.triggerRef&&this.triggerRef.current,l=this.optionContainerEl&&this.optionContainerEl.current,u=a.target,c=a.composedPath&&a.composedPath()||[u];l&&(!l.contains(u)||!l.contains(u.parentNode))&&o&&!o.contains(u)&&!(c.includes(o)||c.includes(l))&&r(a)};this.clickOutsideHandler=s,document.addEventListener("mousedown",s,!1)},unregisterClickOutsideHandler:()=>{document.removeEventListener("mousedown",this.clickOutsideHandler,!1)},rePositionDropdown:()=>{let{rePosKey:r}=this.state;r=r+1,this.setState({rePosKey:r})}};return Object.assign(Object.assign(Object.assign(Object.assign({},super.adapter),t),i),{setEmptyContentMinWidth:r=>{this.setState({emptyContentMinWidth:r})},getTriggerWidth:()=>{const r=this.triggerRef.current;return r&&r.getBoundingClientRect().width},updateStates:r=>{this.setState(Object.assign({},r))},openMenu:()=>{this.setState({isOpen:!0})},closeMenu:r=>{this.setState({isOpen:!1},()=>{r&&r()})},updateSelection:r=>this.setState({selectedKeys:r}),notifyChange:r=>{this.props.onChange&&this.props.onChange(r)},notifySelect:r=>{this.props.onSelect&&this.props.onSelect(r)},notifyOnSearch:r=>{this.props.onSearch&&this.props.onSearch(r)},notifyFocus:function(){e.props.onFocus&&e.props.onFocus(...arguments)},notifyBlur:function(){e.props.onBlur&&e.props.onBlur(...arguments)},notifyDropdownVisibleChange:r=>{this.props.onDropdownVisibleChange(r)},toggleHovering:r=>{this.setState({isHovering:r})},notifyLoadData:(r,s)=>{const{loadData:a}=this.props;a&&new Promise(o=>{a(r).then(()=>{setTimeout(()=>{s(),this.setState({loading:!1}),o()})})})},notifyOnLoad:(r,s)=>{const{onLoad:a}=this.props;a&&a(r,s)},notifyListScroll:(r,s)=>{let{panelIndex:a,activeNode:o}=s;this.props.onListScroll(r,{panelIndex:a,activeNode:o})},notifyOnExceed:r=>this.props.onExceed(r),notifyClear:()=>this.props.onClear(),toggleInputShow:(r,s)=>{this.setState({showInput:r},()=>{s()})},updateFocusState:r=>{this.setState({isFocus:r})},updateLoadingKeyRefValue:r=>{this.loadingKeysRef.current=r},getLoadingKeyRefValue:()=>this.loadingKeysRef.current,updateLoadedKeyRefValue:r=>{this.loadedKeysRef.current=r},getLoadedKeyRefValue:()=>this.loadedKeysRef.current})}static getDerivedStateFromProps(e,t){const{multiple:i,value:r,defaultValue:s,onChangeWithObject:a,leafOnly:o,autoMergeValue:l,checkRelation:u,searchPlaceholder:c,placeholder:d}=e,{prevProps:h}=t;let f=t.keyEntities||{};const p={},g=c||d;g!==t.inputPlaceHolder&&(p.inputPlaceHolder=g);const m=y=>{const x=Hr(h)&&y in e,w=h&&!Kn(h[y],e[y]);return x||w},v=()=>{const y=!h&&"treeData"in e,x=h&&h.treeData!==e.treeData;return y||x},_=(y,x)=>{let w=[];Array.isArray(y)?w=Array.isArray(y[0])?y:[y]:y!==void 0&&(w=[[y]]);const T=[];return w.forEach(A=>{const k=a&&jo(A[0])?A.map(P=>P==null?void 0:P.value):A;k.length>0&&T.push(k)}),T.reduce((A,k)=>{const P=iF(k);return x[P]&&A.push(P),A},[])};if(i){const y=m("treeData")||v(),x=m("value")||Hr(h)&&s;if(y||x){y&&(p.treeData=e.treeData,f=X1e(e.treeData),p.keyEntities=f);let w=t.checkedKeys;if(x){const T=m("value")?r:s;w=_(T,f)}else y&&"value"in e&&(w=_(r,f));if(Ap(w)&&(w=[...w]),u===Bs.RELATED){const T=ZP(w,f),E=new Set(T.checkedKeys),A=new Set(T.halfCheckedKeys);e.disableStrictly&&(p.disabledKeys=G1e(f));const k=iG(l,o)===Bs.LEAF_ONLY_MERGE_TYPE;p.checkedKeys=E,p.halfCheckedKeys=A,p.resolvedCheckedKeys=new Set(pf(E,f,k))}else p.checkedKeys=new Set(w);p.prevProps=e}}return p}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}componentDidUpdate(e){if(this.props.multiple)return;let t=!1;Kn(e.treeData,this.props.treeData)||(t=!0,this.foundation.collectOptions()),e.value!==this.props.value&&!t&&this.foundation.handleValueChange(this.props.value)}renderTagInput(){const{size:e,disabled:t,placeholder:i,maxTagCount:r,showRestTagsPopover:s,restTagsPopoverProps:a,checkRelation:o}=this.props,{inputValue:l,checkedKeys:u,keyEntities:c,resolvedCheckedKeys:d,inputPlaceHolder:h}=this.state,f=le(`${Mi}-tagInput-wrapper`),p=this.mergeType===Bs.NONE_MERGE_TYPE||o===Bs.UN_RELATED?u:d;return M.createElement(iM,{className:f,ref:this.inputRef,disabled:t,size:e,value:[...p],showRestTagsPopover:s,restTagsPopoverProps:a,maxTagCount:r,renderTagItem:this.renderTagItem,inputValue:l,onInputChange:this.handleInputChange,onRemove:this.onRemoveInTagInput,placeholder:h,expandRestTagsOnClick:!1})}renderInput(){const{size:e,disabled:t}=this.props,i=le(`${Mi}-input`),{inputValue:r,inputPlaceHolder:s,showInput:a}=this.state,o={disabled:t,value:r,className:i,onChange:this.handleInputChange},l=le({[`${Mi}-search-wrapper`]:!0,[`${Mi}-search-wrapper-${e}`]:e!=="default"}),u=this.renderDisplayText(),c=le({[`${Mi}-selection-placeholder`]:!u,[`${Mi}-selection-text-hide`]:a&&r,[`${Mi}-selection-text-inactive`]:a&&!r});return M.createElement("div",{className:l},M.createElement("span",{className:c},u||s),a&&M.createElement(Gl,Object.assign({ref:this.inputRef,size:e},o)))}close(){this.foundation.close()}open(){this.foundation.open()}focus(){this.foundation.focus()}blur(){this.foundation.blur()}render(){const{zIndex:e,getPopupContainer:t,autoAdjustOverflow:i,stopPropagation:r,mouseLeaveDelay:s,mouseEnterDelay:a,position:o,motion:l,dropdownMargin:u}=this.props,{isOpen:c,rePosKey:d}=this.state,{direction:h}=this.context,f=this.renderContent(),p=this.renderSelection(),g=o??(h==="rtl"?"bottomRight":"bottomLeft");return M.createElement(Ko,{getPopupContainer:t,zIndex:e,motion:l,margin:u,ref:this.optionsRef,content:f,visible:c,trigger:"custom",rePosKey:d,position:g,autoAdjustOverflow:i,stopPropagation:r,mouseLeaveDelay:s,mouseEnterDelay:a,afterClose:()=>this.foundation.updateSearching(!1)},p)}}bC.__SemiComponentName__="Cascader";bC.contextType=Ql;bC.propTypes={"aria-labelledby":S.string,"aria-invalid":S.bool,"aria-errormessage":S.string,"aria-describedby":S.string,"aria-required":S.bool,"aria-label":S.string,arrowIcon:S.node,borderless:S.bool,clearIcon:S.node,changeOnSelect:S.bool,defaultValue:S.oneOfType([S.string,S.array]),disabled:S.bool,dropdownClassName:S.string,dropdownStyle:S.object,dropdownMargin:S.oneOfType([S.number,S.object]),emptyContent:S.node,motion:S.bool,filterTreeNode:S.oneOfType([S.func,S.bool]),filterLeafOnly:S.bool,placeholder:S.string,searchPlaceholder:S.string,size:S.oneOf(Bs.SIZE_SET),style:S.object,className:S.string,treeData:S.arrayOf(S.shape({value:S.oneOfType([S.string,S.number]),label:S.any})),treeNodeFilterProp:S.string,suffix:S.node,prefix:S.node,insetLabel:S.node,insetLabelId:S.string,id:S.string,displayProp:S.string,displayRender:S.func,onChange:S.func,onSearch:S.func,onSelect:S.func,onBlur:S.func,onFocus:S.func,children:S.node,getPopupContainer:S.func,zIndex:S.number,value:S.oneOfType([S.string,S.number,S.array]),validateStatus:S.oneOf(Bs.VALIDATE_STATUS),showNext:S.oneOf([Bs.SHOW_NEXT_BY_CLICK,Bs.SHOW_NEXT_BY_HOVER]),stopPropagation:S.oneOfType([S.bool,S.string]),showClear:S.bool,defaultOpen:S.bool,autoAdjustOverflow:S.bool,onDropdownVisibleChange:S.func,triggerRender:S.func,onListScroll:S.func,onChangeWithObject:S.bool,bottomSlot:S.node,topSlot:S.node,multiple:S.bool,autoMergeValue:S.bool,maxTagCount:S.number,showRestTagsPopover:S.bool,restTagsPopoverProps:S.object,max:S.number,separator:S.string,onExceed:S.func,onClear:S.func,loadData:S.func,onLoad:S.func,loadedKeys:S.array,disableStrictly:S.bool,leafOnly:S.bool,enableLeafClick:S.bool,preventScroll:S.bool,position:S.string,searchPosition:S.string};bC.defaultProps=Du(bC.__SemiComponentName__,{borderless:!1,leafOnly:!1,arrowIcon:M.createElement(k1,null),stopPropagation:!0,motion:!0,defaultOpen:!1,zIndex:mc.DEFAULT_Z_INDEX,showClear:!1,autoClearSearchValue:!0,changeOnSelect:!1,disableStrictly:!1,autoMergeValue:!0,multiple:!1,filterTreeNode:!1,filterLeafOnly:!0,showRestTagsPopover:!1,restTagsPopoverProps:{},separator:" / ",size:"default",treeNodeFilterProp:"label",displayProp:"label",treeData:[],showNext:Bs.SHOW_NEXT_BY_CLICK,onExceed:be,onClear:be,onDropdownVisibleChange:be,onListScroll:be,enableLeafClick:!1,"aria-label":"Cascader",searchPosition:Bs.SEARCH_POSITION_TRIGGER,checkRelation:Bs.RELATED});class PAt extends jn{constructor(e){super(Object.assign({},e)),this.updateDOMInRenderTree=t=>{this._adapter.setDOMInRenderTree(t)},this.updateDOMHeight=t=>{this._adapter.setDOMHeight(t)},this.updateVisible=t=>{this._adapter.setVisible(t)},this.updateIsTransitioning=t=>{this._adapter.setIsTransitioning(t)}}}const Dle={PREFIX:`${nt}-collapsible`};class f0 extends An{constructor(e){super(e),this.domRef=M.createRef(),this.hasBeenRendered=!1,this.handleResize=t=>{const i=t[0];if(i){const r=f0.getEntryInfo(i);this.foundation.updateDOMHeight(r.height),this.foundation.updateDOMInRenderTree(r.isShown)}},this.isChildrenInRenderTree=()=>this.domRef.current?this.domRef.current.offsetHeight>0:!1,this.state={domInRenderTree:!1,domHeight:0,visible:this.props.isOpen,isTransitioning:!1,cacheIsOpen:this.props.isOpen},this.foundation=new PAt(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setDOMInRenderTree:e=>{this.state.domInRenderTree!==e&&this.setState({domInRenderTree:e})},setDOMHeight:e=>{this.state.domHeight!==e&&this.setState({domHeight:e})},setVisible:e=>{this.state.visible!==e&&this.setState({visible:e})},setIsTransitioning:e=>{this.state.isTransitioning!==e&&this.setState({isTransitioning:e})}})}componentDidMount(){super.componentDidMount(),this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.domRef.current);const e=this.isChildrenInRenderTree();this.foundation.updateDOMInRenderTree(e),e&&this.foundation.updateDOMHeight(this.domRef.current.scrollHeight)}static getDerivedStateFromProps(e,t){const i={},r=e.isOpen!==t.cacheIsOpen;return r&&(e.isOpen||!e.motion)&&(i.visible=e.isOpen),e.motion&&r&&(i.isTransitioning=!0),i.cacheIsOpen=e.isOpen,i}componentDidUpdate(e,t,i){const r=Object.keys(Eu(this.props,["reCalcKey"])).filter(a=>!Kn(this.props[a],e[a])),s=Object.keys(Eu(this.state,["domInRenderTree"])).filter(a=>!Kn(this.state[a],t[a]));r.includes("reCalcKey")&&this.foundation.updateDOMHeight(this.domRef.current.scrollHeight),s.includes("domInRenderTree")&&this.state.domInRenderTree&&this.foundation.updateDOMHeight(this.domRef.current.scrollHeight)}componentWillUnmount(){super.componentWillUnmount(),this.resizeObserver.disconnect()}render(){const e=Object.assign({overflow:"hidden",height:this.props.isOpen?this.state.domHeight:this.props.collapseHeight,opacity:this.props.isOpen||!this.props.fade||this.props.collapseHeight!==0?1:0,transitionDuration:`${this.props.motion&&this.state.isTransitioning?this.props.duration:0}ms`},this.props.style),t=le(`${Dle.PREFIX}-wrapper`,{[`${Dle.PREFIX}-transition`]:this.props.motion&&this.state.isTransitioning},this.props.className),i=this.props.keepDOM&&(this.props.lazyRender?this.hasBeenRendered:!0)||this.props.collapseHeight!==0||this.state.visible||this.props.isOpen;return i&&!this.hasBeenRendered&&(this.hasBeenRendered=!0),M.createElement("div",Object.assign({className:t,style:e,onTransitionEnd:()=>{var r,s;this.props.isOpen||this.foundation.updateVisible(!1),this.foundation.updateIsTransitioning(!1),(s=(r=this.props).onMotionEnd)===null||s===void 0||s.call(r)}},this.getDataAttr(this.props)),M.createElement("div",{"x-semi-prop":"children",ref:this.domRef,style:{overflow:"hidden"},id:this.props.id},i&&this.props.children))}}f0.__SemiComponentName__="Collapsible";f0.defaultProps=Du(f0.__SemiComponentName__,{isOpen:!1,duration:250,motion:!0,keepDOM:!1,lazyRender:!1,collapseHeight:0,fade:!1});f0.getEntryInfo=n=>{let e;n.borderBoxSize?e=!(n.borderBoxSize[0].blockSize===0&&n.borderBoxSize[0].inlineSize===0):e=!(n.contentRect.height===0&&n.contentRect.width===0);let t=0;return n.borderBoxSize?t=Math.ceil(n.borderBoxSize[0].blockSize):t=n.target.clientHeight,{isShown:e,height:t}};var MAt=SCe;function IAt(n,e){return n==null?!0:MAt(n,e)}var RAt=IAt;const lG=yn(RAt);var DAt=F0,LAt=XN,FAt=Ao,BAt=y1,$At=jwe,NAt=B0,jAt=VN;function zAt(n){return FAt(n)?DAt(n,NAt):BAt(n)?[n]:LAt($At(jAt(n)))}var HAt=zAt;const nO=yn(HAt),Lle=n=>{const e=nO(n);return Ns(n)&&e.length===1?!1:Number.isInteger(+e[e.length-1])};function VAt(n){if(jo(n)){const e=F1e(n);return e.length?e.every(t=>typeof t>"u"):!0}else return!1}function XX(n,e){if(e.length===0)return;const t=Ce(n,e);(Array.isArray(t)&&t.every(i=>i==null)||VAt(t))&&lG(n,e),XX(n,e.slice(0,e.length-1))}function WAt(n){return F1e(n).length===0}function vu(n,e){return Ce(n,e)}function P2(n,e){lG(n,e);let t=nO(e);t=t.slice(0,t.length-1),XX(n,t)}function GV(n,e,t,i){if(i||t!==void 0)return lc(n,e,t);if(Lle(e)&&vu(n,e)!==void 0){lc(n,e,void 0);let r=nO(e);r=r.slice(0,r.length-1),XX(n,r)}else!Lle(e)&&vu(n,e)!==void 0&&P2(n,e)}function DTe(n,e){return n&&(typeof n=="function"||typeof n=="object")&&e&&(typeof e=="function"||typeof e=="object")&&Object.entries(e).forEach(t=>{let[i,r]=t;n[i]=r}),n}const UAt={DAY_TODAY:`${nt}-datepicker-day-today`,DAY_IN_RANGE:`${nt}-datepicker-day-inrange`,DAY_HOVER:`${nt}-datepicker-day-inhover`,DAY_SELECTED:`${nt}-datepicker-day-selected`,DAY_SELECTED_START:`${nt}-datepicker-day-selected-start`,DAY_SELECTED_END:`${nt}-datepicker-day-selected-end`,DAY_DISABLED:`${nt}-datepicker-day-disabled`,DAY_HOVER_DAY:`${nt}-datepicker-day-hoverday`,DAY_HOVER_DAY_OFFSET:`${nt}-datepicker-day-hoverday-offset`,DAY_IN_OFFSET_RANGE:`${nt}-datepicker-day-inoffsetrange`,DAY_SELECTED_RANGE_HOVER:`${nt}-datepicker-day-selectedrange-hover`,DAY_OFFSET_RANGE_START:`${nt}-datepicker-day-offsetrange-start`,DAY_OFFSET_RANGE_END:`${nt}-datepicker-day-offsetrange-end`,DAY_SELECTED_START_AFTER_HOVER:`${nt}-datepicker-day-selected-start-afterhover`,DAY_SELECTED_END_BEFORE_HOVER:`${nt}-datepicker-day-selected-end-beforehover`,DAY_HOVER_DAY_BEFORE_RANGE:`${nt}-datepicker-day-hoverday-beforerange`,DAY_HOVER_DAY_AFTER_RANGE:`${nt}-datepicker-day-hoverday-afterrange`,DAY_HOVER_DAY_IN_RANGE:`${nt}-datepicker-day-hoverday-inrange`,DAY_HOVER_DAY_AROUND_SINGLE_SELECTED:`${nt}-datepicker-day-hoverday-around-singleselected`},zn=Object.assign({PREFIX:`${nt}-datepicker`,NAVIGATION:`${nt}-datepicker-navigation`,PANEL_YAM:`${nt}-datepicker-panel-yam`,MONTH:`${nt}-datepicker-month`,WEEKDAY:`${nt}-datepicker-weekday`,WEEKS:`${nt}-datepicker-weeks`,WEEK:`${nt}-datepicker-week`,DAY:`${nt}-datepicker-day`},UAt),GAt={FORMAT_FULL_DATE:"yyyy-MM-dd",FORMAT_TIME_PICKER:"HH:mm:ss",FORMAT_DATE_TIME:"yyyy-MM-dd HH:mm:ss",FORMAT_YEAR_MONTH:"yyyy-MM"},vt=Object.assign({DEFAULT_SEPARATOR_MULTIPLE:",",DEFAULT_SEPARATOR_RANGE:" ~ ",SIZE_SET:["small","default","large"],TYPE_SET:["date","dateRange","year","month","monthRange","dateTime","dateTimeRange"],PRESET_POSITION_SET:["left","right","top","bottom"],DENSITY_SET:["default","compact"],PANEL_TYPE_LEFT:"left",PANEL_TYPE_RIGHT:"right",STATUS:w1,POSITION_SET:rj.POSITION_SET,POSITION_INLINE_INPUT:"leftTopOver"},GAt),SC={WEEK_START_ON:0,WEEK_HEIGHT:36,SPACING:mc.SPACING,SPACING_INSET_INPUT:1};var YAt=Ff,KAt=_c,XAt="[object Date]";function qAt(n){return KAt(n)&&YAt(n)==XAt}var ZAt=qAt,QAt=ZAt,JAt=N0,Fle=$P,Ble=Fle&&Fle.isDate,ekt=Ble?JAt(Ble):QAt,tkt=ekt;const $le=yn(tkt);function wm(n){return typeof n=="string"}function Nle(n,e){const t=wm(n)?hh(n):n,i=wm(e)?hh(e):e;return bbt(t,i)}function Vx(n,e){const t=wm(n)?hh(n):n,i=wm(e)?hh(e):e;return t1e(t,i)}function KS(n,e){let{start:t,end:i}=e;const r=wm(n)?hh(n):n,s=wm(t)?hh(t):t,a=wm(i)?hh(i):i;return t1e(s,a)&&y0t(r,{start:s,end:a})&&!XL(r,s)&&!XL(r,a)}function Ev(n,e){const t=wm(n)?hh(n):n,i=wm(e)?hh(e):e;return CX(t,i)}function ph(n){return n&&Object.prototype.toString.call(n)==="[object Date]"&&!isNaN(n)}function nkt(n){return typeof n=="number"||Object.prototype.toString.call(n)==="[object Number]"}function uG(n){return nkt(n)&&ph(new Date(n))}const LTe={date:vt.FORMAT_FULL_DATE,dateTime:vt.FORMAT_DATE_TIME,dateRange:vt.FORMAT_FULL_DATE,dateTimeRange:vt.FORMAT_DATE_TIME,month:vt.FORMAT_YEAR_MONTH,monthRange:vt.FORMAT_YEAR_MONTH},ikt=n=>LTe;function ly(n){return n&&LTe[n]}const rkt=(n,e)=>{const t=new Date().getFullYear();let i=typeof n=="number"?n:t-100,r=typeof e=="number"?e:t+100;return r<i&&([i,r]=[r,i]),Array.from({length:r-i+1},(s,a)=>i+a)},QR=(n,e)=>{if(!e)return"";const t=new Date(e),i=Mn(n)?n(t):t;return _r(new Date(i),vt.FORMAT_FULL_DATE)};function jle(n,e){const t=new Date().getFullYear(),i=new Date().getMonth(),r=e.right||i+2,s=n.right||(r<=12?t:t+1);return{year:{left:n.left||t,right:s},month:{left:e.left||i+1,right:r<=12?r:1}}}var cG={exports:{}},dG={exports:{}},FTe={exports:{}};(function(n){function e(t){return t&&t.__esModule?t:{default:t}}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(FTe);var sa=FTe.exports,hG={exports:{}},fG={exports:{}},BTe={exports:{}};(function(n){function e(t){"@babel/helpers - typeof";return n.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},n.exports.__esModule=!0,n.exports.default=n.exports,e(t)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(BTe);var $Te=BTe.exports,pG={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(i,r){if(r.length<i)throw new TypeError(i+" argument"+(i>1?"s":"")+" required, but only "+r.length+" present")}n.exports=e.default})(pG,pG.exports);var Fu=pG.exports;(function(n,e){var t=sa.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var i=t($Te),r=t(Fu);function s(a){return(0,r.default)(1,arguments),a instanceof Date||(0,i.default)(a)==="object"&&Object.prototype.toString.call(a)==="[object Date]"}n.exports=e.default})(fG,fG.exports);var skt=fG.exports,gG={exports:{}};(function(n,e){var t=sa.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var i=t($Te),r=t(Fu);function s(a){(0,r.default)(1,arguments);var o=Object.prototype.toString.call(a);return a instanceof Date||(0,i.default)(a)==="object"&&o==="[object Date]"?new Date(a.getTime()):typeof a=="number"||o==="[object Number]"?new Date(a):((typeof a=="string"||o==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}n.exports=e.default})(gG,gG.exports);var fg=gG.exports;(function(n,e){var t=sa.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var i=t(skt),r=t(fg),s=t(Fu);function a(o){if((0,s.default)(1,arguments),!(0,i.default)(o)&&typeof o!="number")return!1;var l=(0,r.default)(o);return!isNaN(Number(l))}n.exports=e.default})(hG,hG.exports);var akt=hG.exports,mG={exports:{}},vG={exports:{}},yG={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(i){if(i===null||i===!0||i===!1)return NaN;var r=Number(i);return isNaN(r)?r:r<0?Math.ceil(r):Math.floor(r)}n.exports=e.default})(yG,yG.exports);var H0=yG.exports;(function(n,e){var t=sa.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var i=t(H0),r=t(fg),s=t(Fu);function a(o,l){(0,s.default)(2,arguments);var u=(0,r.default)(o).getTime(),c=(0,i.default)(l);return new Date(u+c)}n.exports=e.default})(vG,vG.exports);var okt=vG.exports;(function(n,e){var t=sa.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var i=t(okt),r=t(Fu),s=t(H0);function a(o,l){(0,r.default)(2,arguments);var u=(0,s.default)(l);return(0,i.default)(o,-u)}n.exports=e.default})(mG,mG.exports);var lkt=mG.exports,_G={exports:{}},bG={exports:{}};(function(n,e){var t=sa.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var i=t(fg),r=t(Fu),s=864e5;function a(o){(0,r.default)(1,arguments);var l=(0,i.default)(o),u=l.getTime();l.setUTCMonth(0,1),l.setUTCHours(0,0,0,0);var c=l.getTime(),d=u-c;return Math.floor(d/s)+1}n.exports=e.default})(bG,bG.exports);var ukt=bG.exports,SG={exports:{}},xG={exports:{}};(function(n,e){var t=sa.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var i=t(fg),r=t(Fu);function s(a){(0,r.default)(1,arguments);var o=1,l=(0,i.default)(a),u=l.getUTCDay(),c=(u<o?7:0)+u-o;return l.setUTCDate(l.getUTCDate()-c),l.setUTCHours(0,0,0,0),l}n.exports=e.default})(xG,xG.exports);var qX=xG.exports,wG={exports:{}},CG={exports:{}};(function(n,e){var t=sa.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var i=t(fg),r=t(Fu),s=t(qX);function a(o){(0,r.default)(1,arguments);var l=(0,i.default)(o),u=l.getUTCFullYear(),c=new Date(0);c.setUTCFullYear(u+1,0,4),c.setUTCHours(0,0,0,0);var d=(0,s.default)(c),h=new Date(0);h.setUTCFullYear(u,0,4),h.setUTCHours(0,0,0,0);var f=(0,s.default)(h);return l.getTime()>=d.getTime()?u+1:l.getTime()>=f.getTime()?u:u-1}n.exports=e.default})(CG,CG.exports);var NTe=CG.exports;(function(n,e){var t=sa.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var i=t(NTe),r=t(qX),s=t(Fu);function a(o){(0,s.default)(1,arguments);var l=(0,i.default)(o),u=new Date(0);u.setUTCFullYear(l,0,4),u.setUTCHours(0,0,0,0);var c=(0,r.default)(u);return c}n.exports=e.default})(wG,wG.exports);var ckt=wG.exports;(function(n,e){var t=sa.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var i=t(fg),r=t(qX),s=t(ckt),a=t(Fu),o=6048e5;function l(u){(0,a.default)(1,arguments);var c=(0,i.default)(u),d=(0,r.default)(c).getTime()-(0,s.default)(c).getTime();return Math.round(d/o)+1}n.exports=e.default})(SG,SG.exports);var dkt=SG.exports,TG={exports:{}},EG={exports:{}},V0={};Object.defineProperty(V0,"__esModule",{value:!0});V0.getDefaultOptions=hkt;V0.setDefaultOptions=fkt;var jTe={};function hkt(){return jTe}function fkt(n){jTe=n}(function(n,e){var t=sa.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=t(fg),r=t(Fu),s=t(H0),a=V0;function o(l,u){var c,d,h,f,p,g,m,v;(0,r.default)(1,arguments);var _=(0,a.getDefaultOptions)(),y=(0,s.default)((c=(d=(h=(f=u==null?void 0:u.weekStartsOn)!==null&&f!==void 0?f:u==null||(p=u.locale)===null||p===void 0||(g=p.options)===null||g===void 0?void 0:g.weekStartsOn)!==null&&h!==void 0?h:_.weekStartsOn)!==null&&d!==void 0?d:(m=_.locale)===null||m===void 0||(v=m.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&c!==void 0?c:0);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var x=(0,i.default)(l),w=x.getUTCDay(),T=(w<y?7:0)+w-y;return x.setUTCDate(x.getUTCDate()-T),x.setUTCHours(0,0,0,0),x}n.exports=e.default})(EG,EG.exports);var ZX=EG.exports,AG={exports:{}},kG={exports:{}};(function(n,e){var t=sa.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var i=t(fg),r=t(Fu),s=t(ZX),a=t(H0),o=V0;function l(u,c){var d,h,f,p,g,m,v,_;(0,r.default)(1,arguments);var y=(0,i.default)(u),x=y.getUTCFullYear(),w=(0,o.getDefaultOptions)(),T=(0,a.default)((d=(h=(f=(p=c==null?void 0:c.firstWeekContainsDate)!==null&&p!==void 0?p:c==null||(g=c.locale)===null||g===void 0||(m=g.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&f!==void 0?f:w.firstWeekContainsDate)!==null&&h!==void 0?h:(v=w.locale)===null||v===void 0||(_=v.options)===null||_===void 0?void 0:_.firstWeekContainsDate)!==null&&d!==void 0?d:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var E=new Date(0);E.setUTCFullYear(x+1,0,T),E.setUTCHours(0,0,0,0);var A=(0,s.default)(E,c),k=new Date(0);k.setUTCFullYear(x,0,T),k.setUTCHours(0,0,0,0);var P=(0,s.default)(k,c);return y.getTime()>=A.getTime()?x+1:y.getTime()>=P.getTime()?x:x-1}n.exports=e.default})(kG,kG.exports);var zTe=kG.exports;(function(n,e){var t=sa.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var i=t(zTe),r=t(Fu),s=t(ZX),a=t(H0),o=V0;function l(u,c){var d,h,f,p,g,m,v,_;(0,r.default)(1,arguments);var y=(0,o.getDefaultOptions)(),x=(0,a.default)((d=(h=(f=(p=c==null?void 0:c.firstWeekContainsDate)!==null&&p!==void 0?p:c==null||(g=c.locale)===null||g===void 0||(m=g.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&f!==void 0?f:y.firstWeekContainsDate)!==null&&h!==void 0?h:(v=y.locale)===null||v===void 0||(_=v.options)===null||_===void 0?void 0:_.firstWeekContainsDate)!==null&&d!==void 0?d:1),w=(0,i.default)(u,c),T=new Date(0);T.setUTCFullYear(w,0,x),T.setUTCHours(0,0,0,0);var E=(0,s.default)(T,c);return E}n.exports=e.default})(AG,AG.exports);var pkt=AG.exports;(function(n,e){var t=sa.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var i=t(fg),r=t(ZX),s=t(pkt),a=t(Fu),o=6048e5;function l(u,c){(0,a.default)(1,arguments);var d=(0,i.default)(u),h=(0,r.default)(d,c).getTime()-(0,s.default)(d,c).getTime();return Math.round(h/o)+1}n.exports=e.default})(TG,TG.exports);var gkt=TG.exports,OG={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(i,r){for(var s=i<0?"-":"",a=Math.abs(i).toString();a.length<r;)a="0"+a;return s+a}n.exports=e.default})(OG,OG.exports);var HTe=OG.exports,PG={exports:{}};(function(n,e){var t=sa.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=t(HTe),r={y:function(o,l){var u=o.getUTCFullYear(),c=u>0?u:1-u;return(0,i.default)(l==="yy"?c%100:c,l.length)},M:function(o,l){var u=o.getUTCMonth();return l==="M"?String(u+1):(0,i.default)(u+1,2)},d:function(o,l){return(0,i.default)(o.getUTCDate(),l.length)},a:function(o,l){var u=o.getUTCHours()/12>=1?"pm":"am";switch(l){case"a":case"aa":return u.toUpperCase();case"aaa":return u;case"aaaaa":return u[0];case"aaaa":default:return u==="am"?"a.m.":"p.m."}},h:function(o,l){return(0,i.default)(o.getUTCHours()%12||12,l.length)},H:function(o,l){return(0,i.default)(o.getUTCHours(),l.length)},m:function(o,l){return(0,i.default)(o.getUTCMinutes(),l.length)},s:function(o,l){return(0,i.default)(o.getUTCSeconds(),l.length)},S:function(o,l){var u=l.length,c=o.getUTCMilliseconds(),d=Math.floor(c*Math.pow(10,u-3));return(0,i.default)(d,l.length)}},s=r;e.default=s,n.exports=e.default})(PG,PG.exports);var mkt=PG.exports;(function(n,e){var t=sa.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=t(ukt),r=t(dkt),s=t(NTe),a=t(gkt),o=t(zTe),l=t(HTe),u=t(mkt),c={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},d={G:function(v,_,y){var x=v.getUTCFullYear()>0?1:0;switch(_){case"G":case"GG":case"GGG":return y.era(x,{width:"abbreviated"});case"GGGGG":return y.era(x,{width:"narrow"});case"GGGG":default:return y.era(x,{width:"wide"})}},y:function(v,_,y){if(_==="yo"){var x=v.getUTCFullYear(),w=x>0?x:1-x;return y.ordinalNumber(w,{unit:"year"})}return u.default.y(v,_)},Y:function(v,_,y,x){var w=(0,o.default)(v,x),T=w>0?w:1-w;if(_==="YY"){var E=T%100;return(0,l.default)(E,2)}return _==="Yo"?y.ordinalNumber(T,{unit:"year"}):(0,l.default)(T,_.length)},R:function(v,_){var y=(0,s.default)(v);return(0,l.default)(y,_.length)},u:function(v,_){var y=v.getUTCFullYear();return(0,l.default)(y,_.length)},Q:function(v,_,y){var x=Math.ceil((v.getUTCMonth()+1)/3);switch(_){case"Q":return String(x);case"QQ":return(0,l.default)(x,2);case"Qo":return y.ordinalNumber(x,{unit:"quarter"});case"QQQ":return y.quarter(x,{width:"abbreviated",context:"formatting"});case"QQQQQ":return y.quarter(x,{width:"narrow",context:"formatting"});case"QQQQ":default:return y.quarter(x,{width:"wide",context:"formatting"})}},q:function(v,_,y){var x=Math.ceil((v.getUTCMonth()+1)/3);switch(_){case"q":return String(x);case"qq":return(0,l.default)(x,2);case"qo":return y.ordinalNumber(x,{unit:"quarter"});case"qqq":return y.quarter(x,{width:"abbreviated",context:"standalone"});case"qqqqq":return y.quarter(x,{width:"narrow",context:"standalone"});case"qqqq":default:return y.quarter(x,{width:"wide",context:"standalone"})}},M:function(v,_,y){var x=v.getUTCMonth();switch(_){case"M":case"MM":return u.default.M(v,_);case"Mo":return y.ordinalNumber(x+1,{unit:"month"});case"MMM":return y.month(x,{width:"abbreviated",context:"formatting"});case"MMMMM":return y.month(x,{width:"narrow",context:"formatting"});case"MMMM":default:return y.month(x,{width:"wide",context:"formatting"})}},L:function(v,_,y){var x=v.getUTCMonth();switch(_){case"L":return String(x+1);case"LL":return(0,l.default)(x+1,2);case"Lo":return y.ordinalNumber(x+1,{unit:"month"});case"LLL":return y.month(x,{width:"abbreviated",context:"standalone"});case"LLLLL":return y.month(x,{width:"narrow",context:"standalone"});case"LLLL":default:return y.month(x,{width:"wide",context:"standalone"})}},w:function(v,_,y,x){var w=(0,a.default)(v,x);return _==="wo"?y.ordinalNumber(w,{unit:"week"}):(0,l.default)(w,_.length)},I:function(v,_,y){var x=(0,r.default)(v);return _==="Io"?y.ordinalNumber(x,{unit:"week"}):(0,l.default)(x,_.length)},d:function(v,_,y){return _==="do"?y.ordinalNumber(v.getUTCDate(),{unit:"date"}):u.default.d(v,_)},D:function(v,_,y){var x=(0,i.default)(v);return _==="Do"?y.ordinalNumber(x,{unit:"dayOfYear"}):(0,l.default)(x,_.length)},E:function(v,_,y){var x=v.getUTCDay();switch(_){case"E":case"EE":case"EEE":return y.day(x,{width:"abbreviated",context:"formatting"});case"EEEEE":return y.day(x,{width:"narrow",context:"formatting"});case"EEEEEE":return y.day(x,{width:"short",context:"formatting"});case"EEEE":default:return y.day(x,{width:"wide",context:"formatting"})}},e:function(v,_,y,x){var w=v.getUTCDay(),T=(w-x.weekStartsOn+8)%7||7;switch(_){case"e":return String(T);case"ee":return(0,l.default)(T,2);case"eo":return y.ordinalNumber(T,{unit:"day"});case"eee":return y.day(w,{width:"abbreviated",context:"formatting"});case"eeeee":return y.day(w,{width:"narrow",context:"formatting"});case"eeeeee":return y.day(w,{width:"short",context:"formatting"});case"eeee":default:return y.day(w,{width:"wide",context:"formatting"})}},c:function(v,_,y,x){var w=v.getUTCDay(),T=(w-x.weekStartsOn+8)%7||7;switch(_){case"c":return String(T);case"cc":return(0,l.default)(T,_.length);case"co":return y.ordinalNumber(T,{unit:"day"});case"ccc":return y.day(w,{width:"abbreviated",context:"standalone"});case"ccccc":return y.day(w,{width:"narrow",context:"standalone"});case"cccccc":return y.day(w,{width:"short",context:"standalone"});case"cccc":default:return y.day(w,{width:"wide",context:"standalone"})}},i:function(v,_,y){var x=v.getUTCDay(),w=x===0?7:x;switch(_){case"i":return String(w);case"ii":return(0,l.default)(w,_.length);case"io":return y.ordinalNumber(w,{unit:"day"});case"iii":return y.day(x,{width:"abbreviated",context:"formatting"});case"iiiii":return y.day(x,{width:"narrow",context:"formatting"});case"iiiiii":return y.day(x,{width:"short",context:"formatting"});case"iiii":default:return y.day(x,{width:"wide",context:"formatting"})}},a:function(v,_,y){var x=v.getUTCHours(),w=x/12>=1?"pm":"am";switch(_){case"a":case"aa":return y.dayPeriod(w,{width:"abbreviated",context:"formatting"});case"aaa":return y.dayPeriod(w,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return y.dayPeriod(w,{width:"narrow",context:"formatting"});case"aaaa":default:return y.dayPeriod(w,{width:"wide",context:"formatting"})}},b:function(v,_,y){var x=v.getUTCHours(),w;switch(x===12?w=c.noon:x===0?w=c.midnight:w=x/12>=1?"pm":"am",_){case"b":case"bb":return y.dayPeriod(w,{width:"abbreviated",context:"formatting"});case"bbb":return y.dayPeriod(w,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return y.dayPeriod(w,{width:"narrow",context:"formatting"});case"bbbb":default:return y.dayPeriod(w,{width:"wide",context:"formatting"})}},B:function(v,_,y){var x=v.getUTCHours(),w;switch(x>=17?w=c.evening:x>=12?w=c.afternoon:x>=4?w=c.morning:w=c.night,_){case"B":case"BB":case"BBB":return y.dayPeriod(w,{width:"abbreviated",context:"formatting"});case"BBBBB":return y.dayPeriod(w,{width:"narrow",context:"formatting"});case"BBBB":default:return y.dayPeriod(w,{width:"wide",context:"formatting"})}},h:function(v,_,y){if(_==="ho"){var x=v.getUTCHours()%12;return x===0&&(x=12),y.ordinalNumber(x,{unit:"hour"})}return u.default.h(v,_)},H:function(v,_,y){return _==="Ho"?y.ordinalNumber(v.getUTCHours(),{unit:"hour"}):u.default.H(v,_)},K:function(v,_,y){var x=v.getUTCHours()%12;return _==="Ko"?y.ordinalNumber(x,{unit:"hour"}):(0,l.default)(x,_.length)},k:function(v,_,y){var x=v.getUTCHours();return x===0&&(x=24),_==="ko"?y.ordinalNumber(x,{unit:"hour"}):(0,l.default)(x,_.length)},m:function(v,_,y){return _==="mo"?y.ordinalNumber(v.getUTCMinutes(),{unit:"minute"}):u.default.m(v,_)},s:function(v,_,y){return _==="so"?y.ordinalNumber(v.getUTCSeconds(),{unit:"second"}):u.default.s(v,_)},S:function(v,_){return u.default.S(v,_)},X:function(v,_,y,x){var w=x._originalDate||v,T=w.getTimezoneOffset();if(T===0)return"Z";switch(_){case"X":return f(T);case"XXXX":case"XX":return p(T);case"XXXXX":case"XXX":default:return p(T,":")}},x:function(v,_,y,x){var w=x._originalDate||v,T=w.getTimezoneOffset();switch(_){case"x":return f(T);case"xxxx":case"xx":return p(T);case"xxxxx":case"xxx":default:return p(T,":")}},O:function(v,_,y,x){var w=x._originalDate||v,T=w.getTimezoneOffset();switch(_){case"O":case"OO":case"OOO":return"GMT"+h(T,":");case"OOOO":default:return"GMT"+p(T,":")}},z:function(v,_,y,x){var w=x._originalDate||v,T=w.getTimezoneOffset();switch(_){case"z":case"zz":case"zzz":return"GMT"+h(T,":");case"zzzz":default:return"GMT"+p(T,":")}},t:function(v,_,y,x){var w=x._originalDate||v,T=Math.floor(w.getTime()/1e3);return(0,l.default)(T,_.length)},T:function(v,_,y,x){var w=x._originalDate||v,T=w.getTime();return(0,l.default)(T,_.length)}};function h(m,v){var _=m>0?"-":"+",y=Math.abs(m),x=Math.floor(y/60),w=y%60;if(w===0)return _+String(x);var T=v;return _+String(x)+T+(0,l.default)(w,2)}function f(m,v){if(m%60===0){var _=m>0?"-":"+";return _+(0,l.default)(Math.abs(m)/60,2)}return p(m,v)}function p(m,v){var _=v||"",y=m>0?"-":"+",x=Math.abs(m),w=(0,l.default)(Math.floor(x/60),2),T=(0,l.default)(x%60,2);return y+w+_+T}var g=d;e.default=g,n.exports=e.default})(_G,_G.exports);var vkt=_G.exports,MG={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(l,u){switch(l){case"P":return u.date({width:"short"});case"PP":return u.date({width:"medium"});case"PPP":return u.date({width:"long"});case"PPPP":default:return u.date({width:"full"})}},i=function(l,u){switch(l){case"p":return u.time({width:"short"});case"pp":return u.time({width:"medium"});case"ppp":return u.time({width:"long"});case"pppp":default:return u.time({width:"full"})}},r=function(l,u){var c=l.match(/(P+)(p+)?/)||[],d=c[1],h=c[2];if(!h)return t(l,u);var f;switch(d){case"P":f=u.dateTime({width:"short"});break;case"PP":f=u.dateTime({width:"medium"});break;case"PPP":f=u.dateTime({width:"long"});break;case"PPPP":default:f=u.dateTime({width:"full"});break}return f.replace("{{date}}",t(d,u)).replace("{{time}}",i(h,u))},s={p:i,P:r},a=s;e.default=a,n.exports=e.default})(MG,MG.exports);var ykt=MG.exports,IG={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(i){var r=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()));return r.setUTCFullYear(i.getFullYear()),i.getTime()-r.getTime()}n.exports=e.default})(IG,IG.exports);var VTe=IG.exports,rM={};Object.defineProperty(rM,"__esModule",{value:!0});rM.isProtectedDayOfYearToken=Skt;rM.isProtectedWeekYearToken=xkt;rM.throwProtectedError=wkt;var _kt=["D","DD"],bkt=["YY","YYYY"];function Skt(n){return _kt.indexOf(n)!==-1}function xkt(n){return bkt.indexOf(n)!==-1}function wkt(n,e,t){if(n==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var RG={exports:{}},DG={exports:{}},LG={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},i=function(a,o,l){var u,c=t[a];return typeof c=="string"?u=c:o===1?u=c.one:u=c.other.replace("{{count}}",o.toString()),l!=null&&l.addSuffix?l.comparison&&l.comparison>0?"in "+u:u+" ago":u},r=i;e.default=r,n.exports=e.default})(LG,LG.exports);var Ckt=LG.exports,FG={exports:{}},BG={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(i){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=r.width?String(r.width):i.defaultWidth,a=i.formats[s]||i.formats[i.defaultWidth];return a}}n.exports=e.default})(BG,BG.exports);var Tkt=BG.exports;(function(n,e){var t=sa.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=t(Tkt),r={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},s={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},a={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},o={date:(0,i.default)({formats:r,defaultWidth:"full"}),time:(0,i.default)({formats:s,defaultWidth:"full"}),dateTime:(0,i.default)({formats:a,defaultWidth:"full"})},l=o;e.default=l,n.exports=e.default})(FG,FG.exports);var Ekt=FG.exports,$G={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},i=function(a,o,l,u){return t[a]},r=i;e.default=r,n.exports=e.default})($G,$G.exports);var Akt=$G.exports,NG={exports:{}},jG={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(i){return function(r,s){var a=s!=null&&s.context?String(s.context):"standalone",o;if(a==="formatting"&&i.formattingValues){var l=i.defaultFormattingWidth||i.defaultWidth,u=s!=null&&s.width?String(s.width):l;o=i.formattingValues[u]||i.formattingValues[l]}else{var c=i.defaultWidth,d=s!=null&&s.width?String(s.width):i.defaultWidth;o=i.values[d]||i.values[c]}var h=i.argumentCallback?i.argumentCallback(r):r;return o[h]}}n.exports=e.default})(jG,jG.exports);var kkt=jG.exports;(function(n,e){var t=sa.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=t(kkt),r={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},s={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},a={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},o={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},l={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},u={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},c=function(p,g){var m=Number(p),v=m%100;if(v>20||v<10)switch(v%10){case 1:return m+"st";case 2:return m+"nd";case 3:return m+"rd"}return m+"th"},d={ordinalNumber:c,era:(0,i.default)({values:r,defaultWidth:"wide"}),quarter:(0,i.default)({values:s,defaultWidth:"wide",argumentCallback:function(p){return p-1}}),month:(0,i.default)({values:a,defaultWidth:"wide"}),day:(0,i.default)({values:o,defaultWidth:"wide"}),dayPeriod:(0,i.default)({values:l,defaultWidth:"wide",formattingValues:u,defaultFormattingWidth:"wide"})},h=d;e.default=h,n.exports=e.default})(NG,NG.exports);var Okt=NG.exports,zG={exports:{}},HG={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(s){return function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=o.width,u=l&&s.matchPatterns[l]||s.matchPatterns[s.defaultMatchWidth],c=a.match(u);if(!c)return null;var d=c[0],h=l&&s.parsePatterns[l]||s.parsePatterns[s.defaultParseWidth],f=Array.isArray(h)?r(h,function(m){return m.test(d)}):i(h,function(m){return m.test(d)}),p;p=s.valueCallback?s.valueCallback(f):f,p=o.valueCallback?o.valueCallback(p):p;var g=a.slice(d.length);return{value:p,rest:g}}}function i(s,a){for(var o in s)if(s.hasOwnProperty(o)&&a(s[o]))return o}function r(s,a){for(var o=0;o<s.length;o++)if(a(s[o]))return o}n.exports=e.default})(HG,HG.exports);var Pkt=HG.exports,VG={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(i){return function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.match(i.matchPattern);if(!a)return null;var o=a[0],l=r.match(i.parsePattern);if(!l)return null;var u=i.valueCallback?i.valueCallback(l[0]):l[0];u=s.valueCallback?s.valueCallback(u):u;var c=r.slice(o.length);return{value:u,rest:c}}}n.exports=e.default})(VG,VG.exports);var Mkt=VG.exports;(function(n,e){var t=sa.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=t(Pkt),r=t(Mkt),s=/^(\d+)(th|st|nd|rd)?/i,a=/\d+/i,o={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},l={any:[/^b/i,/^(a|c)/i]},u={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},c={any:[/1/i,/2/i,/3/i,/4/i]},d={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},h={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},f={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},p={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},g={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},m={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},v={ordinalNumber:(0,r.default)({matchPattern:s,parsePattern:a,valueCallback:function(x){return parseInt(x,10)}}),era:(0,i.default)({matchPatterns:o,defaultMatchWidth:"wide",parsePatterns:l,defaultParseWidth:"any"}),quarter:(0,i.default)({matchPatterns:u,defaultMatchWidth:"wide",parsePatterns:c,defaultParseWidth:"any",valueCallback:function(x){return x+1}}),month:(0,i.default)({matchPatterns:d,defaultMatchWidth:"wide",parsePatterns:h,defaultParseWidth:"any"}),day:(0,i.default)({matchPatterns:f,defaultMatchWidth:"wide",parsePatterns:p,defaultParseWidth:"any"}),dayPeriod:(0,i.default)({matchPatterns:g,defaultMatchWidth:"any",parsePatterns:m,defaultParseWidth:"any"})},_=v;e.default=_,n.exports=e.default})(zG,zG.exports);var Ikt=zG.exports;(function(n,e){var t=sa.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=t(Ckt),r=t(Ekt),s=t(Akt),a=t(Okt),o=t(Ikt),l={code:"en-US",formatDistance:i.default,formatLong:r.default,formatRelative:s.default,localize:a.default,match:o.default,options:{weekStartsOn:0,firstWeekContainsDate:1}},u=l;e.default=u,n.exports=e.default})(DG,DG.exports);var Rkt=DG.exports;(function(n,e){var t=sa.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=t(Rkt),r=i.default;e.default=r,n.exports=e.default})(RG,RG.exports);var Dkt=RG.exports;(function(n,e){var t=sa.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=y;var i=t(akt),r=t(lkt),s=t(fg),a=t(vkt),o=t(ykt),l=t(VTe),u=rM,c=t(H0),d=t(Fu),h=V0,f=t(Dkt),p=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,g=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,m=/^'([^]*?)'?$/,v=/''/g,_=/[a-zA-Z]/;function y(w,T,E){var A,k,P,I,D,L,B,F,$,z,N,V,H,K,U,X,Z,Q;(0,d.default)(2,arguments);var se=String(T),ae=(0,h.getDefaultOptions)(),ue=(A=(k=E==null?void 0:E.locale)!==null&&k!==void 0?k:ae.locale)!==null&&A!==void 0?A:f.default,oe=(0,c.default)((P=(I=(D=(L=E==null?void 0:E.firstWeekContainsDate)!==null&&L!==void 0?L:E==null||(B=E.locale)===null||B===void 0||(F=B.options)===null||F===void 0?void 0:F.firstWeekContainsDate)!==null&&D!==void 0?D:ae.firstWeekContainsDate)!==null&&I!==void 0?I:($=ae.locale)===null||$===void 0||(z=$.options)===null||z===void 0?void 0:z.firstWeekContainsDate)!==null&&P!==void 0?P:1);if(!(oe>=1&&oe<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var re=(0,c.default)((N=(V=(H=(K=E==null?void 0:E.weekStartsOn)!==null&&K!==void 0?K:E==null||(U=E.locale)===null||U===void 0||(X=U.options)===null||X===void 0?void 0:X.weekStartsOn)!==null&&H!==void 0?H:ae.weekStartsOn)!==null&&V!==void 0?V:(Z=ae.locale)===null||Z===void 0||(Q=Z.options)===null||Q===void 0?void 0:Q.weekStartsOn)!==null&&N!==void 0?N:0);if(!(re>=0&&re<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!ue.localize)throw new RangeError("locale must contain localize property");if(!ue.formatLong)throw new RangeError("locale must contain formatLong property");var fe=(0,s.default)(w);if(!(0,i.default)(fe))throw new RangeError("Invalid time value");var ve=(0,l.default)(fe),xe=(0,r.default)(fe,ve),ye={firstWeekContainsDate:oe,weekStartsOn:re,locale:ue,_originalDate:fe},Ee=se.match(g).map(function(Se){var Fe=Se[0];if(Fe==="p"||Fe==="P"){var Ge=o.default[Fe];return Ge(Se,ue.formatLong)}return Se}).join("").match(p).map(function(Se){if(Se==="''")return"'";var Fe=Se[0];if(Fe==="'")return x(Se);var Ge=a.default[Fe];if(Ge)return!(E!=null&&E.useAdditionalWeekYearTokens)&&(0,u.isProtectedWeekYearToken)(Se)&&(0,u.throwProtectedError)(Se,T,String(w)),!(E!=null&&E.useAdditionalDayOfYearTokens)&&(0,u.isProtectedDayOfYearToken)(Se)&&(0,u.throwProtectedError)(Se,T,String(w)),Ge(xe,Se,ue.localize,ye);if(Fe.match(_))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Fe+"`");return Se}).join("");return Ee}function x(w){var T=w.match(m);return T?T[1].replace(v,"'"):w}n.exports=e.default})(dG,dG.exports);var Lkt=dG.exports,WG={exports:{}},UG={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(a,o,l){var u=s(a,l.timeZone,l.locale);return u.formatToParts?i(u,o):r(u,o)}function i(a,o){for(var l=a.formatToParts(o),u=l.length-1;u>=0;--u)if(l[u].type==="timeZoneName")return l[u].value}function r(a,o){var l=a.format(o).replace(/\u200E/g,""),u=/ [\w-+ ]+$/.exec(l);return u?u[0].substr(1):""}function s(a,o,l){if(l&&!l.code)throw new Error("date-fns-tz error: Please set a language code on the locale object imported from date-fns, e.g. `locale.code = 'en-US'`");return new Intl.DateTimeFormat(l?[l.code,"en-US"]:void 0,{timeZone:o,timeZoneName:a})}n.exports=e.default})(UG,UG.exports);var Fkt=UG.exports,GG={exports:{}},YG={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(l,u){var c=o(u);return c.formatToParts?r(c,l):s(c,l)}var i={year:0,month:1,day:2,hour:3,minute:4,second:5};function r(l,u){try{for(var c=l.formatToParts(u),d=[],h=0;h<c.length;h++){var f=i[c[h].type];f>=0&&(d[f]=parseInt(c[h].value,10))}return d}catch(p){if(p instanceof RangeError)return[NaN];throw p}}function s(l,u){var c=l.format(u).replace(/\u200E/g,""),d=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(c);return[d[3],d[1],d[2],d[4],d[5],d[6]]}var a={};function o(l){if(!a[l]){var u=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),c=u==="06/25/2014, 00:00:00"||u==="06/25/2014 00:00:00";a[l]=c?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:l,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:l,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return a[l]}n.exports=e.default})(YG,YG.exports);var Bkt=YG.exports,KG={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(i,r,s,a,o,l,u){var c=new Date(0);return c.setUTCFullYear(i,r,s),c.setUTCHours(a,o,l,u),c}n.exports=e.default})(KG,KG.exports);var WTe=KG.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=r(Bkt),i=r(WTe);function r(g){return g&&g.__esModule?g:{default:g}}var s=36e5,a=6e4,o={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function l(g,m,v){var _,y;if(!g||(_=o.timezoneZ.exec(g),_))return 0;var x;if(_=o.timezoneHH.exec(g),_)return x=parseInt(_[1],10),h(x)?-(x*s):NaN;if(_=o.timezoneHHMM.exec(g),_){x=parseInt(_[1],10);var w=parseInt(_[2],10);return h(x,w)?(y=Math.abs(x)*s+w*a,x>0?-y:y):NaN}if(p(g)){m=new Date(m||Date.now());var T=v?m:u(m),E=c(T,g),A=v?E:d(m,E,g);return-A}return NaN}function u(g){return(0,i.default)(g.getFullYear(),g.getMonth(),g.getDate(),g.getHours(),g.getMinutes(),g.getSeconds(),g.getMilliseconds())}function c(g,m){var v=(0,t.default)(g,m),_=(0,i.default)(v[0],v[1]-1,v[2],v[3]%24,v[4],v[5],0).getTime(),y=g.getTime(),x=y%1e3;return y-=x>=0?x:1e3+x,_-y}function d(g,m,v){var _=g.getTime(),y=_-m,x=c(new Date(y),v);if(m===x)return m;y-=x-m;var w=c(new Date(y),v);return x===w?x:Math.max(x,w)}function h(g,m){return-23<=g&&g<=23&&(m==null||0<=m&&m<=59)}var f={};function p(g){if(f[g])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:g}),f[g]=!0,!0}catch{return!1}}n.exports=e.default})(GG,GG.exports);var sM=GG.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(Fkt),i=r(sM);function r(f){return f&&f.__esModule?f:{default:f}}var s=60*1e3,a={X:function(f,p,g,m){var v=o(m.timeZone,m._originalDate||f);if(v===0)return"Z";switch(p){case"X":return c(v);case"XXXX":case"XX":return u(v);case"XXXXX":case"XXX":default:return u(v,":")}},x:function(f,p,g,m){var v=o(m.timeZone,m._originalDate||f);switch(p){case"x":return c(v);case"xxxx":case"xx":return u(v);case"xxxxx":case"xxx":default:return u(v,":")}},O:function(f,p,g,m){var v=o(m.timeZone,m._originalDate||f);switch(p){case"O":case"OO":case"OOO":return"GMT"+d(v,":");case"OOOO":default:return"GMT"+u(v,":")}},z:function(f,p,g,m){var v=m._originalDate||f;switch(p){case"z":case"zz":case"zzz":return(0,t.default)("short",v,m);case"zzzz":default:return(0,t.default)("long",v,m)}}};function o(f,p){var g=f?(0,i.default)(f,p,!0)/s:p.getTimezoneOffset();if(Number.isNaN(g))throw new RangeError("Invalid time zone specified: "+f);return g}function l(f,p){for(var g=f<0?"-":"",m=Math.abs(f).toString();m.length<p;)m="0"+m;return g+m}function u(f,p){var g=p||"",m=f>0?"-":"+",v=Math.abs(f),_=l(Math.floor(v/60),2),y=l(Math.floor(v%60),2);return m+_+g+y}function c(f,p){if(f%60===0){var g=f>0?"-":"+";return g+l(Math.abs(f)/60,2)}return u(f,p)}function d(f,p){var g=f>0?"-":"+",m=Math.abs(f),v=Math.floor(m/60),_=m%60;if(_===0)return g+String(v);var y=p;return g+String(v)+y+l(_,2)}var h=a;e.default=h,n.exports=e.default})(WG,WG.exports);var $kt=WG.exports,XG={exports:{}},qG={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,i=t;e.default=i,n.exports=e.default})(qG,qG.exports);var UTe=qG.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=d;var t=a(H0),i=a(VTe),r=a(sM),s=a(UTe);function a(A){return A&&A.__esModule?A:{default:A}}var o=36e5,l=6e4,u=2,c={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:s.default};function d(A,k){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(A===null)return new Date(NaN);var P=k||{},I=P.additionalDigits==null?u:(0,t.default)(P.additionalDigits);if(I!==2&&I!==1&&I!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(A instanceof Date||typeof A=="object"&&Object.prototype.toString.call(A)==="[object Date]")return new Date(A.getTime());if(typeof A=="number"||Object.prototype.toString.call(A)==="[object Number]")return new Date(A);if(!(typeof A=="string"||Object.prototype.toString.call(A)==="[object String]"))return new Date(NaN);var D=h(A),L=f(D.date,I),B=L.year,F=L.restDateString,$=p(F,B);if(isNaN($))return new Date(NaN);if($){var z=$.getTime(),N=0,V;if(D.time&&(N=g(D.time),isNaN(N)))return new Date(NaN);if(D.timeZone||P.timeZone){if(V=(0,r.default)(D.timeZone||P.timeZone,new Date(z+N)),isNaN(V))return new Date(NaN)}else V=(0,i.default)(new Date(z+N)),V=(0,i.default)(new Date(z+N+V));return new Date(z+N+V)}else return new Date(NaN)}function h(A){var k={},P=c.dateTimePattern.exec(A),I;if(P?(k.date=P[1],I=P[3]):(P=c.datePattern.exec(A),P?(k.date=P[1],I=P[2]):(k.date=null,I=A)),I){var D=c.timeZone.exec(I);D?(k.time=I.replace(D[1],""),k.timeZone=D[1].trim()):k.time=I}return k}function f(A,k){var P=c.YYY[k],I=c.YYYYY[k],D;if(D=c.YYYY.exec(A)||I.exec(A),D){var L=D[1];return{year:parseInt(L,10),restDateString:A.slice(L.length)}}if(D=c.YY.exec(A)||P.exec(A),D){var B=D[1];return{year:parseInt(B,10)*100,restDateString:A.slice(B.length)}}return{year:null}}function p(A,k){if(k===null)return null;var P,I,D,L;if(A.length===0)return I=new Date(0),I.setUTCFullYear(k),I;if(P=c.MM.exec(A),P)return I=new Date(0),D=parseInt(P[1],10)-1,x(k,D)?(I.setUTCFullYear(k,D),I):new Date(NaN);if(P=c.DDD.exec(A),P){I=new Date(0);var B=parseInt(P[1],10);return w(k,B)?(I.setUTCFullYear(k,0,B),I):new Date(NaN)}if(P=c.MMDD.exec(A),P){I=new Date(0),D=parseInt(P[1],10)-1;var F=parseInt(P[2],10);return x(k,D,F)?(I.setUTCFullYear(k,D,F),I):new Date(NaN)}if(P=c.Www.exec(A),P)return L=parseInt(P[1],10)-1,T(k,L)?m(k,L):new Date(NaN);if(P=c.WwwD.exec(A),P){L=parseInt(P[1],10)-1;var $=parseInt(P[2],10)-1;return T(k,L,$)?m(k,L,$):new Date(NaN)}return null}function g(A){var k,P,I;if(k=c.HH.exec(A),k)return P=parseFloat(k[1].replace(",",".")),E(P)?P%24*o:NaN;if(k=c.HHMM.exec(A),k)return P=parseInt(k[1],10),I=parseFloat(k[2].replace(",",".")),E(P,I)?P%24*o+I*l:NaN;if(k=c.HHMMSS.exec(A),k){P=parseInt(k[1],10),I=parseInt(k[2],10);var D=parseFloat(k[3].replace(",","."));return E(P,I,D)?P%24*o+I*l+D*1e3:NaN}return null}function m(A,k,P){k=k||0,P=P||0;var I=new Date(0);I.setUTCFullYear(A,0,4);var D=I.getUTCDay()||7,L=k*7+P+1-D;return I.setUTCDate(I.getUTCDate()+L),I}var v=[31,28,31,30,31,30,31,31,30,31,30,31],_=[31,29,31,30,31,30,31,31,30,31,30,31];function y(A){return A%400===0||A%4===0&&A%100!==0}function x(A,k,P){if(k<0||k>11)return!1;if(P!=null){if(P<1)return!1;var I=y(A);if(I&&P>_[k]||!I&&P>v[k])return!1}return!0}function w(A,k){if(k<1)return!1;var P=y(A);return!(P&&k>366||!P&&k>365)}function T(A,k,P){return!(k<0||k>52||P!=null&&(P<0||P>6))}function E(A,k,P){return!(A!=null&&(A<0||A>=25)||k!=null&&(k<0||k>=60)||P!=null&&(P<0||P>=60))}n.exports=e.default})(XG,XG.exports);var _j=XG.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=s(Lkt),i=s($kt),r=s(_j);function s(l){return l&&l.__esModule?l:{default:l}}var a=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function o(l,u,c){var d=String(u),h=c||{},f=d.match(a);if(f){var p=(0,r.default)(l,h);d=f.reduce(function(g,m){if(m[0]==="'")return g;var v=g.indexOf(m),_=g[v-1]==="'",y=g.replace(m,"'"+i.default[m[0]](p,m,null,h)+"'");return _?y.substring(0,v-1)+y.substring(v+1):y},d)}return(0,t.default)(l,d,h)}n.exports=e.default})(cG,cG.exports);var GTe=cG.exports,ZG={exports:{}},QG={exports:{}},JG={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(i,r){if(i==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s]);return i}n.exports=e.default})(JG,JG.exports);var Nkt=JG.exports;(function(n,e){var t=sa.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=t(Nkt);function r(s){return(0,i.default)({},s)}n.exports=e.default})(QG,QG.exports);var YTe=QG.exports,e8={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(sM),i=r(_j);function r(a){return a&&a.__esModule?a:{default:a}}function s(a,o,l){var u=(0,i.default)(a,l),c=(0,t.default)(o,u,!0),d=new Date(u.getTime()-c),h=new Date(0);return h.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),h.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),h}n.exports=e.default})(e8,e8.exports);var KTe=e8.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=s(YTe),i=s(GTe),r=s(KTe);function s(o){return o&&o.__esModule?o:{default:o}}function a(o,l,u,c){var d=(0,t.default)(c);return d.timeZone=l,(0,i.default)((0,r.default)(o,l),u,d)}n.exports=e.default})(ZG,ZG.exports);var jkt=ZG.exports,t8={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var t=i(sM);function i(s){return s&&s.__esModule?s:{default:s}}function r(s,a){return-(0,t.default)(s,a)}n.exports=e.default})(t8,t8.exports);var zkt=t8.exports,n8={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=o(YTe),i=o(_j),r=o(UTe),s=o(sM),a=o(WTe);function o(u){return u&&u.__esModule?u:{default:u}}function l(u,c,d){if(typeof u=="string"&&!u.match(r.default)){var h=(0,t.default)(d);return h.timeZone=c,(0,i.default)(u,h)}var f=(0,i.default)(u,d),p=(0,a.default)(f.getFullYear(),f.getMonth(),f.getDate(),f.getHours(),f.getMinutes(),f.getSeconds(),f.getMilliseconds()).getTime(),g=(0,s.default)(c,new Date(p));return new Date(p+g)}n.exports=e.default})(n8,n8.exports);var Hkt=n8.exports,XTe={format:GTe,formatInTimeZone:jkt,getTimezoneOffset:zkt,toDate:_j,utcToZonedTime:KTe,zonedTimeToUtc:Hkt};const Vkt=[[-11,["Pacific/Midway"]],[-10,["Pacific/Honolulu"]],[-9.5,["Pacific/Marquesas"]],[-9,["Pacific/Gambier"]],[-8,["Pacific/Pitcairn"]],[-7,["America/Phoenix"]],[-6,["America/Tegucigalpa"]],[-5,["America/Bogota"]],[-4,["America/Puerto_Rico"]],[-3.5,["America/St_Johns"]],[-3,["America/Montevideo"]],[-2,["Atlantic/South_Georgia"]],[-1,["Atlantic/Cape_Verde"]],[0,["Africa/Accra"]],[1,["Africa/Bangui"]],[2,["Africa/Cairo"]],[3,["Asia/Bahrain","Indian/Antananarivo"]],[3.5,["Asia/Tehran"]],[4,["Asia/Dubai","Asia/Muscat"]],[4.5,["Asia/Kabul"]],[5,["Asia/Samarkand","Asia/Karachi"]],[5.5,["Asia/Kolkata"]],[5.75,["Asia/Kathmandu"]],[6,["Asia/Dhaka"]],[6.5,["Asia/Rangoon","Asia/Rangoon"]],[7,["Asia/Jakarta","Asia/Phnom_Penh","Asia/Bangkok"]],[8,["Asia/Shanghai","Asia/Singapore"]],[8.75,["Australia/Eucla"]],[9,["Asia/Tokyo","Asia/Seoul","Asia/Pyongyang"]],[9.5,["Australia/Darwin"]],[10,["Pacific/Guam"]],[10.5,["Australia/Adelaide"]],[11,["Pacific/Guadalcanal"]],[12,["Pacific/Funafuti"]],[13,["Pacific/Enderbury"]],[13.75,["Pacific/Chatham"]],[14,["Pacific/Kiritimati"]]],zle={0:"Etc/GMT",1:"Etc/GMT-1",2:"Etc/GMT-2",3:"Etc/GMT-3",4:"Etc/GMT-4",5:"Etc/GMT-5",6:"Etc/GMT-6",7:"Etc/GMT-7",8:"Etc/GMT-8",9:"Etc/GMT-9",10:"Etc/GMT-10",11:"Etc/GMT-11",12:"Etc/GMT-12",13:"Etc/GMT-13",14:"Etc/GMT-14","-1":"Etc/GMT+1","-2":"Etc/GMT+2","-3":"Etc/GMT+3","-4":"Etc/GMT+4","-5":"Etc/GMT+5","-6":"Etc/GMT+6","-7":"Etc/GMT+7","-8":"Etc/GMT+8","-9":"Etc/GMT+9","-10":"Etc/GMT+10","-11":"Etc/GMT+11","-12":"Etc/GMT+12"},Wkt=/([\-\+]{1})(\d{2})\:(\d{2})/,qTe=n=>{let e=null;if(typeof n=="string"){if(e=n.match(Wkt),!e)return n;const t=parseInt(e[1]+1,10),i=parseInt(e[2],10),r=parseInt(e[3],10);n=t*(i+r/60)}if(typeof n=="number"){if(n in zle){const i=zle[n];if(Ukt(i))return i}const t=Vkt.find(i=>i[0]===n);return t&&t[1][0]}},Hle={};function Ukt(n){if(Hle[n])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:n}),Hle[n]=!0,!0}catch{return!1}}const i8=(n,e,t)=>XTe.utcToZonedTime(n,qTe(e),t),Pw=(n,e,t)=>XTe.zonedTimeToUtc(n,qTe(e),t);function Zs(n,e,t,i){let r=null;if(n){e&&(t=t||new Date,r=l1e(n,e,t,{locale:i})),Jd(r)||(r=hh(n)),Jd(r)||(r=new Date(Date.parse(n)));const s=Jd(r)&&String(r.getFullYear()).length>4;(!Jd(r)||s)&&(r=null)}return r}function M2(n){const{format:e,type:t}=n,i=/([yMd]{0,4}[^a-z\s]*[yMd]{0,4}[^a-z\s]*[yMd]{0,4})/i,r=/([yMd]{0,4}[^a-z\s]*[yMd]{0,4}[^a-z\s]*[yMd]{0,4}) (H{0,2}[^a-z\s]*m{0,2}[^a-z\s]*s{0,2})/i,s=ly(t);let a;switch(t){case"dateTime":case"dateTimeRange":const o=r.exec(e);a=o&&o[1]&&o[2]?`${o[1]} ${o[2]}`:s;break;case"date":case"month":case"monthRange":case"dateRange":default:const l=i.exec(e);a=l&&l[1]||s;break}return a}function r8(n){const e=" ",{inputValue:t="",rangeSeparator:i,type:r}=n;let s,a,o,l;const u={monthLeft:{dateInput:"",timeInput:""},monthRight:{dateInput:"",timeInput:""}};switch(r){case"date":case"month":case"monthRange":u.monthLeft.dateInput=t;break;case"dateRange":[s="",o=""]=t.split(i),u.monthLeft.dateInput=s,u.monthRight.dateInput=o;break;case"dateTime":[s="",a=""]=t.split(e),u.monthLeft.dateInput=s,u.monthLeft.timeInput=a;break;case"dateTimeRange":const[c="",d=""]=t.split(i);[s="",a=""]=c.split(e),[o="",l=""]=d.split(e),u.monthLeft.dateInput=s,u.monthLeft.timeInput=a,u.monthRight.dateInput=o,u.monthRight.timeInput=l;break}return u}function I2(n){return["string","number"].includes(typeof n)&&n!==""}class Gkt extends jn{constructor(e){super(Object.assign({},e)),this.clearRangeInputFocus=()=>{const{type:t}=this._adapter.getProps(),{rangeInputFocus:i}=this._adapter.getStates();t==="dateTimeRange"&&i&&this._adapter.setRangeInputFocus(!1)},this._isRangeType=()=>{const t=this._adapter.getProp("type");return/range/i.test(t)},this._isRangeValueComplete=t=>{let i=!1;return Array.isArray(t)&&(i=!t.some(r=>br(r))),i}}init(){const e=this.getProp("timeZone");this._isControlledComponent()?this.initFromProps({timeZone:e,value:this.getProp("value")}):this._isInProps("defaultValue")&&this.initFromProps({timeZone:e,value:this.getProp("defaultValue")}),this.initPanelOpenStatus(this.getProp("defaultOpen"))}initFromProps(e){let{value:t,timeZone:i,prevTimeZone:r}=e;const s=(Array.isArray(t)?[...t]:(t||t===0)&&[t])||[],a=this.parseWithTimezone(s,i,r);this._adapter.updatePrevTimezone(r),this.clearInputValue(),this._adapter.updateValue(a),this.resetCachedSelectedValue(a),this.initRangeInputFocus(a),this._adapter.needConfirm()&&this._adapter.updateCachedSelectedValue(a)}initRangeInputFocus(e){const{triggerRender:t}=this.getProps();this._isRangeType()&&Mn(t)&&e.length===0&&this._adapter.setRangeInputFocus("rangeStart")}parseWithTimezone(e,t,i){const r=[];if(Array.isArray(e)&&e.length)for(const s of e){let a=(s||s===0)&&this._parseValue(s);a?(I2(i)&&(a=Pw(a,i)),r.push(I2(t)?i8(a,t):a)):gs(!0,`[Semi DatePicker] value cannot be parsed, value: ${String(s)}`)}return r}_isMultiple(){return!!this.getProp("multiple")}_parseValue(e){const t=this._adapter.getProp("dateFnsLocale");let i;if(!e&&e!==0)return new Date;if(ph(e))i=e;else if(oi(e))i=Zs(e,this.getProp("format"),void 0,t);else if(uG(e))i=new Date(e);else throw new TypeError("defaultValue should be valid Date object/timestamp or string");return i}destroy(){this._adapter.togglePanel(!1),this._adapter.unregisterClickOutSide()}initPanelOpenStatus(e){(this.getProp("open")||e)&&!this.getProp("disabled")?(this._adapter.togglePanel(!0),this._adapter.registerClickOutSide()):(this._adapter.togglePanel(!1),this._adapter.unregisterClickOutSide())}openPanel(){this.getProp("disabled")||(this._isControlledComponent("open")||this.open(),this._adapter.notifyOpenChange(!0))}clearInsetInputValue(){const{insetInput:e}=this._adapter.getProps();e&&this._adapter.updateInsetInputValue(null)}resetCachedSelectedValue(e){const{value:t,cachedSelectedValue:i}=this._adapter.getStates(),r=Array.isArray(e)?e:t;Kn(r,i)||this._adapter.updateCachedSelectedValue(r)}closePanel(){this._isControlledComponent("open")?this.resetInnerSelectedStates():this.close(),this._adapter.notifyOpenChange(!1)}open(){this._adapter.togglePanel(!0),this._adapter.registerClickOutSide()}close(){this._adapter.togglePanel(!1),this.resetInnerSelectedStates(),this._adapter.unregisterClickOutSide()}focus(e){if(this._isRangeType()){const t=e??"rangeStart";this._adapter.setRangeInputFocus(t)}else this._adapter.setInputFocus()}blur(){this._isRangeType()?this._adapter.setRangeInputBlur():this._adapter.setInputBlur()}resetInnerSelectedStates(){setTimeout(()=>{const{value:e,cachedSelectedValue:t}=this._adapter.getStates();Kn(e,t)||this.resetCachedSelectedValue(e)},0),this.resetFocus(),this.clearInputValue()}resetFocus(e){this._adapter.setRangeInputFocus(!1),this._adapter.notifyBlur(e)}isCachedSelectedValueValid(e){const t=e||this._adapter.getState("cachedSelectedValue"),{type:i}=this._adapter.getProps();let r=!0;switch(!0){case i==="dateRange":case i==="dateTimeRange":this._isRangeValueComplete(t)||(r=!1);break;default:const s=t==null?void 0:t.filter(a=>a);Array.isArray(s)&&s.length||(r=!1);break}return r}clearInputValue(){this._adapter.updateInputValue(null),this._adapter.updateInsetInputValue(null)}handleInputChange(e,t){const i=this._isMultiple()?this.parseMultipleInput(e):this.parseInput(e),{value:r}=this.getStates();if(this._updateCachedSelectedValueFromInput(e),i&&i.length||e===""){if(Ce(t,n_.CLEARBTN_CLICKED_EVENT_FLAG)&&this._isControlledComponent("value")){this._notifyChange(i);return}this._updateValueAndInput(i,e==="",e);const s=this._getChangedDates(i);this._someDateDisabled(s,i)||Kn(i,r)||this._notifyChange(i)}else this._adapter.updateInputValue(e)}handleInsetInputChange(e){const{insetInputStr:t,format:i,insetInputValue:r}=e,s=this._isMultiple(),a=s?this.parseMultipleInput(t,i):this.parseInput(t,i),{value:o}=this.getStates();if(this._updateCachedSelectedValueFromInput(t),a&&a.length){const l=this._getChangedDates(a);if(!this._someDateDisabled(l,a)){Kn(a,o)||(!this._isControlledComponent()&&!this._adapter.needConfirm()&&this._adapter.updateValue(a),this._notifyChange(a));const u=s?this.formatMultipleDates(a):this.formatDates(a);this._adapter.updateInputValue(u)}}this._adapter.updateInsetInputValue(r)}_updateCachedSelectedValueFromInput(e){const t=this.getLooseDateFromInput(e),i=this._getChangedDates(t);this._someDateDisabled(i,t)||this.resetCachedSelectedValue(t)}handleInputBlur(){}handleRangeEndTabPress(e){this._adapter.setRangeInputFocus(!1)}handleInputFocus(e,t){const i=this._adapter.getState("rangeInputFocus");t&&this._adapter.setRangeInputFocus(t),(!t||!["rangeStart","rangeEnd"].includes(i))&&this._adapter.notifyFocus(e,t)}handleSetRangeFocus(e){this._adapter.setRangeInputFocus(e)}handleInputClear(e){this._adapter.notifyClear(e)}handleRangeInputClear(e){const t=[];this._isControlledComponent("value")||(this._updateValueAndInput(t,!0,""),this._adapter.updateInsetInputValue(null),this.resetCachedSelectedValue(t)),this._notifyChange(t),this._adapter.setRangeInputFocus(!1),this._adapter.notifyClear(e)}handleRangeInputBlur(e,t){}handleInputComplete(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=e?this._isMultiple()?this.parseMultipleInput(e,",",!0):this.parseInput(e):[];if(t=t&&t.length?t:this.getState("value"),!t||!t.length){const s=new Date;this._isRangeType()?t=[s,s]:t=[s]}this._updateValueAndInput(t);const{value:i}=this.getStates(),r=this._getChangedDates(t);!this._someDateDisabled(r,t)&&!Kn(t,i)&&this._notifyChange(t)}parseInput(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,i=[];const{dateFnsLocale:r,rangeSeparator:s}=this.getProps();if(e&&e.length){const a=this.getProp("type"),o=t||this.getProp("format")||ly(a);let l,u;const c=new Date;switch(a){case"date":case"dateTime":case"month":l=e?Zs(e,o,c,r):"",u=l&&Jd(l)&&this.localeFormat(l,o),l&&u===e&&(i=[l]);break;case"dateRange":case"dateTimeRange":case"monthRange":const d=s,h=e.split(d);l=h&&h.reduce((f,p)=>{const g=p&&Zs(p,o,c,r);return g&&f.push(g),f},[]),u=l&&l.map(f=>f&&Jd(f)&&this.localeFormat(f,o)).join(d),l&&u===e&&(l.sort((f,p)=>f.getTime()-p.getTime()),i=l);break}}return i}getLooseDateFromInput(e){return this._isMultiple()?this.parseMultipleInputLoose(e):this.parseInputLoose(e)}parseInputLoose(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=[];const{dateFnsLocale:i,rangeSeparator:r,type:s,format:a}=this.getProps();if(e&&e.length){const o=a||ly(s);let l,u;const c=new Date;switch(s){case"date":case"dateTime":case"month":const d=Zs(e,o,c,i);ph(d)?(u=this.localeFormat(d,o),u===e&&(l=d)):l=null,t=[l];break;case"dateRange":case"dateTimeRange":const h=r,f=e.split(h);l=f&&f.reduce((p,g)=>{let m=null;const v=Zs(g,o,c,i);return ph(v)&&(u=this.localeFormat(v,o),u===g&&(m=v)),p.push(m),p},[]),Array.isArray(l)&&l.every(p=>Jd(p))&&l.sort((p,g)=>p.getTime()-g.getTime()),t=l;break}}return t}parseMultipleInputLoose(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vt.DEFAULT_SEPARATOR_MULTIPLE,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const r=this.getProp("max"),s=e.split(t),a=[];for(const o of s){let l=o&&this.parseInputLoose(o);if(l=Array.isArray(l)?l:l&&[l],l&&l.length)i?!a.filter(u=>!!l.find(c=>Joe(u,c)))&&a.push(...l):a.push(...l);else return[];if(r&&r>0&&a.length>r)return[]}return a}parseMultipleInput(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vt.DEFAULT_SEPARATOR_MULTIPLE,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const r=this.getProp("max"),s=e.split(t),a=[];for(const o of s){let l=o&&this.parseInput(o);if(l=Array.isArray(l)?l:l&&[l],l&&l.length)i?!a.filter(u=>!!l.find(c=>Joe(u,c)))&&a.push(...l):a.push(...l);else return[];if(r&&r>0&&a.length>r)return[]}return a}formatDates(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,i="";const r=this.getProp("rangeSeparator");if(Array.isArray(e)&&e.length){const s=this.getProp("type"),a=t||this.getProp("format")||ly(s);switch(s){case"date":case"dateTime":case"month":i=this.localeFormat(e[0],a);break;case"dateRange":case"dateTimeRange":case"monthRange":const o=!br(e[0]),l=!br(e[1]);o&&l?i=`${this.localeFormat(e[0],a)}${r}${this.localeFormat(e[1],a)}`:o?i=`${this.localeFormat(e[0],a)}${r}`:l&&(i=`${r}${this.localeFormat(e[1],a)}`);break}}return i}formatMultipleDates(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vt.DEFAULT_SEPARATOR_MULTIPLE,i=arguments.length>2?arguments[2]:void 0;const r=[];if(Array.isArray(e)&&e.length)switch(this.getProp("type")){case"date":case"dateTime":case"month":e.forEach(a=>r.push(this.formatDates([a],i)));break;case"dateRange":case"dateTimeRange":case"monthRange":for(let a=0;a<e.length;a+=2)r.push(this.formatDates(e.slice(a,a+2),i));break}return r.join(t)}_updateValueAndInput(e,t,i){let r;if(t||e){Array.isArray(e)?r=e:r=e?[e]:[];const s=this._getChangedDates(r);!this._isControlledComponent()&&!this._someDateDisabled(s,r)&&!this._adapter.needConfirm()&&this._adapter.updateValue(r)}this._adapter.updateInputValue(i)}handleSelectedChange(e,t){const{type:i,format:r,rangeSeparator:s,insetInput:a}=this._adapter.getProps(),{value:o}=this.getStates(),l=this._isControlledComponent(),u=jo(t)?t.fromPreset:t,c=Ce(t,"closePanel",!0),d=Ce(t,"needCheckFocusRecord",!0),h=Array.isArray(e)?[...e]:e?[e]:[],f=this._getChangedDates(h);let p,g;if(!this._someDateDisabled(f,h)){if(this.resetCachedSelectedValue(h),p=this._isMultiple()?this.formatMultipleDates(h):this.formatDates(h),a){const _=M2({format:r,type:i}),y=this._isMultiple()?this.formatMultipleDates(h,void 0,_):this.formatDates(h,_);g=r8({inputValue:y,type:i,rangeSeparator:s})}if(this._isRangeType()&&!this._isRangeValueComplete(h)){this._adapter.updateInputValue(p),this._adapter.updateInsetInputValue(g);return}else(!l||u)&&(this._updateValueAndInput(h,!0,p),this._adapter.updateInsetInputValue(g));Kn(e,o)||this._notifyChange(e)}const m=!d||d&&this._adapter.couldPanelClosed();(i==="date"&&!this._isMultiple()&&c||i==="dateRange"&&this._isRangeValueComplete(h)&&c&&m)&&this.closePanel()}handleYMSelectedChange(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{currentMonth:t,currentYear:i}=e,{type:r}=this.getProps();if(r==="month"){const s=new Date(i.left,t.left-1);this.handleSelectedChange([s])}else{const s=new Date(i.left,t.left-1),a=new Date(i.right,t.right-1);this.handleSelectedChange([s,a])}}handleConfirm(){const{cachedSelectedValue:e,value:t}=this._adapter.getStates(),i=this._isRangeValueComplete(e),r=i?e:t;if(this._adapter.needConfirm()&&!this._isControlledComponent()&&this._adapter.updateValue(r),this.closePanel(),i){const{notifyValue:s,notifyDate:a}=this.disposeCallbackArgs(e);this._adapter.notifyConfirm(a,s)}}handleCancel(){this.closePanel();const e=this.getState("value"),{notifyValue:t,notifyDate:i}=this.disposeCallbackArgs(e);this._adapter.notifyCancel(i,t)}handlePresetClick(e,t){const{type:i,timeZone:r}=this.getProps(),s=this.getState("prevTimezone"),a=typeof e.start=="function"?e.start():e.start,o=typeof e.end=="function"?e.end():e.end;let l;switch(i){case"month":case"dateTime":case"date":l=this.parseWithTimezone([a],r,s),this.handleSelectedChange(l);break;case"dateTimeRange":case"dateRange":l=this.parseWithTimezone([a,o],r,s),this.handleSelectedChange(l,{needCheckFocusRecord:!1});break}this._adapter.notifyPresetsClick(e,t)}disposeCallbackArgs(e){let t=Array.isArray(e)?e:e&&[e]||[];const i=this.getProp("timeZone");I2(i)&&(t=t.map(l=>Pw(l,i)));const r=this.getProp("type"),s=this.getProp("format")||ly(r);let a,o;switch(r){case"date":case"dateTime":case"month":this._isMultiple()?(a=t.map(l=>l&&this.localeFormat(l,s)),o=[...t]):(a=t[0]&&this.localeFormat(t[0],s),[o]=t);break;case"dateRange":case"dateTimeRange":case"monthRange":a=t.map(l=>l&&this.localeFormat(l,s)),o=[...t];break}return{notifyValue:a,notifyDate:o}}_notifyChange(e){if(this._isRangeType()&&!this._isRangeValueComplete(e))return;const{onChangeWithDateFirst:t}=this.getProps(),{notifyValue:i,notifyDate:r}=this.disposeCallbackArgs(e);t?this._adapter.notifyChange(r,i):this._adapter.notifyChange(i,r)}_getChangedDates(e){const t=this._adapter.getProp("type"),{cachedSelectedValue:i}=this._adapter.getStates(),r=[];switch(t){case"dateRange":case"dateTimeRange":const[s,a]=i,[o,l]=e;XL(o,s)||r.push(o),XL(l,a)||r.push(l);break;default:const u=new Set;i.forEach(c=>u.add(Q6(c)&&c.valueOf()));for(const c of e)u.has(Q6(c)&&c.valueOf())||r.push(c)}return r}_someDateDisabled(e,t){const{rangeInputFocus:i}=this.getStates(),r={rangeStart:"",rangeEnd:"",rangeInputFocus:i};if(this._isRangeType()&&Array.isArray(t)){if(Jd(t[0])){const a=_r(t[0],"yyyy-MM-dd");r.rangeStart=a}if(Jd(t[1])){const a=_r(t[1],"yyyy-MM-dd");r.rangeEnd=a}}let s=!1;for(const a of e)if(!br(a)&&this.disabledDisposeDate(a,r)){s=!0;break}return s}localeFormat(e,t){const i=this._adapter.getProp("dateFnsLocale");return _r(e,t,{locale:i})}disposeDateFn(e,t){const{notifyDate:i}=this.disposeCallbackArgs(t),r=Array.isArray(t),s=Array.isArray(i);let a;r===s?a=i:a=r?[i]:i[0];for(var o=arguments.length,l=new Array(o>2?o-2:0),u=2;u<o;u++)l[u-2]=arguments[u];return e(a,...l)}disabledDisposeDate(e){const{disabledDate:t}=this.getProps();for(var i=arguments.length,r=new Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];return this.disposeDateFn(t,e,...r)}disabledDisposeTime(e){const{disabledTime:t}=this.getProps();for(var i=arguments.length,r=new Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];return this.disposeDateFn(t,e,...r)}handleTriggerWrapperClick(e){const{disabled:t,triggerRender:i}=this._adapter.getProps(),{rangeInputFocus:r}=this._adapter.getStates();t||(this._isRangeType()&&!r?(this._adapter.isEventTarget(e)?setTimeout(()=>{this.handleInputFocus(e,"rangeStart")},0):Mn(i)&&this._adapter.setRangeInputFocus("rangeStart"),this.openPanel()):this.openPanel())}handlePanelVisibleChange(e){e?(this._adapter.setInsetInputFocus(),setTimeout(()=>{this._adapter.setTriggerDisabled(!0)},0)):this._adapter.setTriggerDisabled(!1)}}function XS(n,e){let{groupInnerSeparator:t=vt.DEFAULT_SEPARATOR_RANGE,groupSize:i=1,groupSeparator:r=vt.DEFAULT_SEPARATOR_MULTIPLE}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0,a="";if((i<=0||typeof i!="number")&&(i=1),Array.isArray(n)&&n.length){const o=[],{length:l}=n;for(let u=0;u<l;u++){u%i===0&&o.push([]);const c=Math.floor(u/i);o[c].push(n[u])}a=o.map(u=>u.map(c=>c?_r(c,e,{locale:s}):"").join(t)).join(r)}return a}function ZTe(n){const{defaultPickerValue:e,format:t,dateFnsLocale:i}=n;let r=Array.isArray(e)?e[0]:e,s=Array.isArray(e)?e[1]:void 0;switch(!0){case ph(r):break;case uG(r):r=new Date(r);break;case typeof r=="string":r=Zs(r,t,void 0,i);break;default:r=new Date;break}switch(!0){case ph(s):break;case uG(s):s=new Date(s);break;case typeof s=="string":s=Zs(s,t,void 0,i);break;default:s=oy(r,1);break}return{nowDate:r,nextDate:s}}var Ykt=Function.prototype.toString,YV=Object.create,Kkt=Object.prototype.toString,Xkt=function(){function n(){this._keys=[],this._values=[]}return n.prototype.has=function(e){return!!~this._keys.indexOf(e)},n.prototype.get=function(e){return this._values[this._keys.indexOf(e)]},n.prototype.set=function(e,t){this._keys.push(e),this._values.push(t)},n}();function qkt(){return new Xkt}function Zkt(){return new WeakMap}var Qkt=typeof WeakMap<"u"?Zkt:qkt;function QX(n){if(!n)return YV(null);var e=n.constructor;if(e===Object)return n===Object.prototype?{}:YV(n);if(e&&~Ykt.call(e).indexOf("[native code]"))try{return new e}catch{}return YV(n)}function Jkt(n){var e="";return n.global&&(e+="g"),n.ignoreCase&&(e+="i"),n.multiline&&(e+="m"),n.unicode&&(e+="u"),n.sticky&&(e+="y"),e}function eOt(n){return n.flags}var tOt=/test/g.flags==="g"?eOt:Jkt;function QTe(n){var e=Kkt.call(n);return e.substring(8,e.length-1)}function nOt(n){return n[Symbol.toStringTag]||QTe(n)}var iOt=typeof Symbol<"u"?nOt:QTe,rOt=Object.defineProperty,sOt=Object.getOwnPropertyDescriptor,JTe=Object.getOwnPropertyNames,JX=Object.getOwnPropertySymbols,eEe=Object.prototype,tEe=eEe.hasOwnProperty,aOt=eEe.propertyIsEnumerable,nEe=typeof JX=="function";function oOt(n){return JTe(n).concat(JX(n))}var lOt=nEe?oOt:JTe;function bj(n,e,t){for(var i=lOt(n),r=0,s=i.length,a=void 0,o=void 0;r<s;++r)if(a=i[r],!(a==="callee"||a==="caller")){if(o=sOt(n,a),!o){e[a]=t.copier(n[a],t);continue}!o.get&&!o.set&&(o.value=t.copier(o.value,t));try{rOt(e,a,o)}catch{e[a]=o.value}}return e}function uOt(n,e){var t=new e.Constructor;e.cache.set(n,t);for(var i=0,r=n.length;i<r;++i)t[i]=e.copier(n[i],e);return t}function cOt(n,e){var t=new e.Constructor;return e.cache.set(n,t),bj(n,t,e)}function iEe(n,e){return n.slice(0)}function dOt(n,e){return n.slice(0,n.size,n.type)}function hOt(n,e){return new e.Constructor(iEe(n.buffer))}function fOt(n,e){return new e.Constructor(n.getTime())}function rEe(n,e){var t=new e.Constructor;return e.cache.set(n,t),n.forEach(function(i,r){t.set(r,e.copier(i,e))}),t}function pOt(n,e){return bj(n,rEe(n,e),e)}function gOt(n,e){var t=QX(e.prototype);e.cache.set(n,t);for(var i in n)tEe.call(n,i)&&(t[i]=e.copier(n[i],e));return t}function mOt(n,e){var t=QX(e.prototype);e.cache.set(n,t);for(var i in n)tEe.call(n,i)&&(t[i]=e.copier(n[i],e));for(var r=JX(n),s=0,a=r.length,o=void 0;s<a;++s)o=r[s],aOt.call(n,o)&&(t[o]=e.copier(n[o],e));return t}var vOt=nEe?mOt:gOt;function yOt(n,e){var t=QX(e.prototype);return e.cache.set(n,t),bj(n,t,e)}function KV(n,e){return new e.Constructor(n.valueOf())}function _Ot(n,e){var t=new e.Constructor(n.source,tOt(n));return t.lastIndex=n.lastIndex,t}function R2(n,e){return n}function sEe(n,e){var t=new e.Constructor;return e.cache.set(n,t),n.forEach(function(i){t.add(e.copier(i,e))}),t}function bOt(n,e){return bj(n,sEe(n,e),e)}var SOt=Array.isArray,eq=Object.assign,xOt=Object.getPrototypeOf||function(n){return n.__proto__},aEe={array:uOt,arrayBuffer:iEe,blob:dOt,dataView:hOt,date:fOt,error:R2,map:rEe,object:vOt,regExp:_Ot,set:sEe},wOt=eq({},aEe,{array:cOt,map:pOt,object:yOt,set:bOt});function COt(n){return{Arguments:n.object,Array:n.array,ArrayBuffer:n.arrayBuffer,Blob:n.blob,Boolean:KV,DataView:n.dataView,Date:n.date,Error:n.error,Float32Array:n.arrayBuffer,Float64Array:n.arrayBuffer,Int8Array:n.arrayBuffer,Int16Array:n.arrayBuffer,Int32Array:n.arrayBuffer,Map:n.map,Number:KV,Object:n.object,Promise:R2,RegExp:n.regExp,Set:n.set,String:KV,WeakMap:R2,WeakSet:R2,Uint8Array:n.arrayBuffer,Uint8ClampedArray:n.arrayBuffer,Uint16Array:n.arrayBuffer,Uint32Array:n.arrayBuffer,Uint64Array:n.arrayBuffer}}function oEe(n){var e=eq({},aEe,n),t=COt(e),i=t.Array,r=t.Object;function s(a,o){if(o.prototype=o.Constructor=void 0,!a||typeof a!="object")return a;if(o.cache.has(a))return o.cache.get(a);if(o.prototype=xOt(a),o.Constructor=o.prototype&&o.prototype.constructor,!o.Constructor||o.Constructor===Object)return r(a,o);if(SOt(a))return i(a,o);var l=t[iOt(a)];return l?l(a,o):typeof a.then=="function"?a:r(a,o)}return function(o){return s(o,{Constructor:void 0,cache:Qkt(),copier:s,prototype:void 0})}}function TOt(n){return oEe(eq({},wOt,n))}TOt({});var Fm=oEe({});const Vle="Enter",EOt="Tab";class AOt extends jn{constructor(e){super(Object.assign({},e))}init(){}destroy(){}handleClick(e){this._adapter.notifyClick(e)}handleChange(e,t){this._adapter.notifyChange(e,t)}handleInputComplete(e){e.key===Vle&&this._adapter.notifyEnter(e.target.value)}handleInputClear(e){this._adapter.notifyClear(e)}handleRangeInputClear(e){this.stopPropagation(e),this._adapter.notifyRangeInputClear(e)}handleRangeInputEnterPress(e,t){e.key===Vle&&this._adapter.notifyEnter(t)}handleRangeInputEndKeyPress(e){e.key===EOt&&this._adapter.notifyTabPress(e)}handleRangeInputFocus(e,t){this._adapter.notifyRangeInputFocus(e,t)}formatShowText(e,t){const{type:i,dateFnsLocale:r,format:s,rangeSeparator:a}=this._adapter.getProps(),o=t||s||ly(i);let l="";switch(i){case"date":l=XS(e,o,void 0,r);break;case"dateRange":l=XS(e,o,{groupSize:2,groupInnerSeparator:a},r);break;case"dateTime":l=XS(e,o,void 0,r);break;case"dateTimeRange":l=XS(e,o,{groupSize:2,groupInnerSeparator:a},r);break;case"month":l=XS(e,o,void 0,r);break;case"monthRange":l=XS(e,o,{groupSize:2,groupInnerSeparator:a},r);break}return l}handleInsetInputChange(e){const{value:t,valuePath:i,insetInputValue:r}=e,{format:s,type:a,rangeSeparator:o}=this._adapter.getProps(),l=M2({type:a,format:s}),u=lc(Fm(r),i,t),c=this.concatInsetInputValue({insetInputValue:u}),d=r8({inputValue:c,type:a,rangeSeparator:o}),h=this._autoFillTimeToInsetInputValue({insetInputValue:d,valuePath:i,format:l}),f=this.concatInsetInputValue({insetInputValue:h});this._adapter.notifyInsetInputChange({insetInputValue:h,format:l,insetInputStr:f})}_autoFillTimeToInsetInputValue(e){const{valuePath:t,insetInputValue:i,format:r}=e,{type:s,defaultPickerValue:a,dateFnsLocale:o}=this._adapter.getProps(),l=Fm(i),{nowDate:u,nextDate:c}=ZTe({defaultPickerValue:a,format:r,dateFnsLocale:o});if(s.includes("Time")){let d="";const h=Ce(r.split(" "),"0",vt.FORMAT_FULL_DATE),f=Ce(r.split(" "),"1",vt.FORMAT_TIME_PICKER);switch(t){case"monthLeft.dateInput":const p=l.monthLeft.dateInput;if(!l.monthLeft.timeInput&&p.length===h.length){const m=Zs(l.monthLeft.dateInput,h);ph(m)&&(d=_r(u,f),l.monthLeft.timeInput=d)}break;case"monthRight.dateInput":const g=l.monthRight.dateInput;if(!l.monthRight.timeInput&&g.length===h.length){const m=Zs(g,h);ph(m)&&(d=_r(c,f),l.monthRight.timeInput=d)}break}}return l}getInsetInputPlaceholder(){const{type:e,format:t,rangeSeparator:i}=this._adapter.getProps(),r=M2({type:e,format:t});let s,a;switch(e){case"date":case"month":case"dateRange":s=r;break;case"dateTime":case"dateTimeRange":[s,a]=r.split(" ");break;case"monthRange":s=r+i+r;break}return{datePlaceholder:s,timePlaceholder:a}}getInsetInputValue(e){let{value:t,insetInputValue:i}=e;const{type:r,rangeSeparator:s,format:a}=this._adapter.getProps();let o="";if(jo(i))o=this.concatInsetInputValue({insetInputValue:i});else{const u=M2({format:a,type:r});o=this.formatShowText(t,u)}return r8({inputValue:o,type:r,rangeSeparator:s})}concatInsetDateAndTime(e){let{date:t,time:i}=e;return`${t} ${i}`}concatInsetDateRange(e){let{rangeStart:t,rangeEnd:i}=e;const{rangeSeparator:r}=this._adapter.getProps();return`${t}${r}${i}`}concatInsetInputValue(e){let{insetInputValue:t}=e;const{type:i}=this._adapter.getProps();let r="";switch(i){case"date":case"month":case"monthRange":r=t.monthLeft.dateInput;break;case"dateRange":r=this.concatInsetDateRange({rangeStart:t.monthLeft.dateInput,rangeEnd:t.monthRight.dateInput});break;case"dateTime":r=this.concatInsetDateAndTime({date:t.monthLeft.dateInput,time:t.monthLeft.timeInput});break;case"dateTimeRange":const s=this.concatInsetDateAndTime({date:t.monthLeft.dateInput,time:t.monthLeft.timeInput}),a=this.concatInsetDateAndTime({date:t.monthRight.dateInput,time:t.monthRight.timeInput});r=this.concatInsetDateRange({rangeStart:s,rangeEnd:a});break}return r}}function Wle(n){const{insetInputValue:e,valuePath:t,onFocus:i,onChange:r,placeholder:s,forwardRef:a}=n,o=Ce(e,t);return M.createElement(Gl,{value:o,onChange:(l,u)=>{r({value:l,event:u,insetInputValue:e,valuePath:t})},onFocus:i,placeholder:s,ref:a})}function Ule(n){const{insetInputValue:e,valuePath:t,type:i,onFocus:r,onChange:s,placeholder:a,disabled:o}=n;if(!i.includes("Time"))return null;const u=Ce(e,t);return M.createElement(Gl,{value:u,onChange:(c,d)=>{s({value:c,event:d,insetInputValue:e,valuePath:t})},onFocus:r,placeholder:a,disabled:o})}var kOt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};class uF extends An{constructor(e){super(e),this.handleChange=(t,i)=>this.foundation.handleChange(t,i),this.handleEnterPress=t=>this.foundation.handleInputComplete(t),this.handleInputClear=t=>this.foundation.handleInputClear(t),this.handleRangeInputChange=(t,i,r)=>{const s=this.getRangeInputValue(t,i);this.foundation.handleChange(s,r)},this.handleRangeInputClear=t=>{this.foundation.handleRangeInputClear(t)},this.handleRangeInputEnterPress=(t,i,r)=>{const s=this.getRangeInputValue(i,r);this.foundation.handleRangeInputEnterPress(t,s)},this.handleRangeInputEndKeyPress=t=>{this.foundation.handleRangeInputEndKeyPress(t)},this.handleRangeInputFocus=(t,i)=>{this.foundation.handleRangeInputFocus(t,i)},this.handleRangeStartFocus=t=>{this.handleRangeInputFocus(t,"rangeStart")},this.handleInsetInputChange=t=>{this.foundation.handleInsetInputChange(t)},this.getRangeInputValue=(t,i)=>{const{rangeSeparator:r}=this.props;return`${t}${r}${i}`},this.foundation=new AOt(this.adapter)}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{updateIsFocusing:t=>this.setState({isFocusing:t}),notifyClick:function(){return e.props.onClick(...arguments)},notifyChange:function(){return e.props.onChange(...arguments)},notifyEnter:function(){return e.props.onEnterPress(...arguments)},notifyBlur:function(){return e.props.onBlur(...arguments)},notifyClear:function(){return e.props.onClear(...arguments)},notifyFocus:function(){return e.props.onFocus(...arguments)},notifyRangeInputClear:function(){return e.props.onRangeClear(...arguments)},notifyRangeInputFocus:function(){return e.props.onFocus(...arguments)},notifyTabPress:function(){return e.props.onRangeEndTabPress(...arguments)},notifyInsetInputChange:t=>this.props.onInsetInputChange(t)})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}formatText(e){return e&&e.length?this.foundation.formatShowText(e):""}renderRangePrefix(){const{prefix:e,insetLabel:t,prefixCls:i,disabled:r,rangeInputFocus:s}=this.props,a=e||t;return a?M.createElement("div",{className:`${i}-range-input-prefix`,onClick:o=>!r&&!s&&this.handleRangeStartFocus(o),"x-semi-prop":"prefix,insetLabel"},a):null}renderRangeSeparator(e,t){const{disabled:i,rangeSeparator:r}=this.props,s=le({[`${zn.PREFIX}-range-input-separator`]:!0,[`${zn.PREFIX}-range-input-separator-active`]:(e||t)&&!i});return M.createElement("span",{onClick:a=>!i&&this.handleRangeStartFocus(a),className:s},r)}renderRangeClearBtn(e,t){const{showClear:i,prefixCls:r,disabled:s,clearIcon:a,showClearIgnoreDisabled:o}=this.props;return(e||t)&&i&&!(s&&!o)?M.createElement("div",{role:"button",tabIndex:0,"aria-label":"Clear range input value",className:`${r}-range-input-clearbtn`,onMouseDown:c=>this.handleRangeInputClear(c)},a||M.createElement(e_,{"aria-hidden":!0})):null}renderRangeSuffix(e){const{prefixCls:t,disabled:i,rangeInputFocus:r}=this.props;return e?M.createElement("div",{className:`${t}-range-input-suffix`,onClick:a=>!i&&!r&&this.handleRangeStartFocus(a)},e):null}renderRangeInput(e){const{placeholder:t,inputStyle:i,disabled:r,inputReadOnly:s,autofocus:a,size:o,text:l,suffix:u,inputCls:c,rangeInputStartRef:d,rangeInputEndRef:h,rangeInputFocus:f,prefixCls:p,rangeSeparator:g,borderless:m}=e,[v,_=""]=l.split(g)||[],y=o==="large"?"default":"small",x=Array.isArray(t)?t:[t,t],[w,T]=x,E=le(`${p}-range-input-wrapper-start`,`${p}-range-input-wrapper`,{[`${p}-range-input-wrapper-active`]:f==="rangeStart"&&!r,[`${p}-range-input-wrapper-start-with-prefix`]:this.props.prefix||this.props.insetLabel,[`${p}-borderless`]:m}),A=le(`${p}-range-input-wrapper-end`,`${p}-range-input-wrapper`,{[`${p}-range-input-wrapper-active`]:f==="rangeEnd"&&!r,[`${p}-borderless`]:m});return M.createElement(M.Fragment,null,this.renderRangePrefix(),M.createElement("div",{onClick:k=>!r&&this.handleRangeInputFocus(k,"rangeStart"),className:`${c} ${E}`},M.createElement(Gl,{borderless:m,size:y,style:i,disabled:r,readonly:s,placeholder:w,value:v,onChange:(k,P)=>this.handleRangeInputChange(k,_,P),onEnterPress:k=>this.handleRangeInputEnterPress(k,v,_),onFocus:k=>this.handleRangeInputFocus(k,"rangeStart"),autoFocus:a,ref:d})),this.renderRangeSeparator(v,_),M.createElement("div",{className:`${c} ${A}`,onClick:k=>!r&&this.handleRangeInputFocus(k,"rangeEnd")},M.createElement(Gl,{borderless:m,size:y,style:i,disabled:r,readonly:s,placeholder:T,value:_,onChange:(k,P)=>this.handleRangeInputChange(v,k,P),onEnterPress:k=>this.handleRangeInputEnterPress(k,v,_),onFocus:k=>this.handleRangeInputFocus(k,"rangeEnd"),onKeyDown:this.handleRangeInputEndKeyPress,ref:h})),this.renderRangeClearBtn(v,_),this.renderRangeSuffix(u))}isRenderMultipleInputs(){const{type:e}=this.props;return e.includes("Range")&&e!=="monthRange"}renderInputInset(){const{type:e,handleInsetDateFocus:t,handleInsetTimeFocus:i,value:r,insetInputValue:s,prefixCls:a,rangeInputStartRef:o,rangeInputEndRef:l,density:u,insetInput:c}=this.props,d=this.foundation.getInsetInputValue({value:r,insetInputValue:s}),{dateStart:h,dateEnd:f,timeStart:p,timeEnd:g}=Ce(c,"placeholder",{}),{datePlaceholder:m,timePlaceholder:v}=this.foundation.getInsetInputPlaceholder(),_=`${a}-inset-input-wrapper`,y=`${a}-inset-input-separator`;return M.createElement("div",{className:_,"x-type":e},M.createElement(Wle,{forwardRef:o,insetInputValue:d,placeholder:h??m,valuePath:"monthLeft.dateInput",onChange:this.handleInsetInputChange,onFocus:x=>t(x,"rangeStart")}),M.createElement(Ule,{disabled:!d.monthLeft.dateInput,insetInputValue:d,placeholder:p??v,type:e,valuePath:"monthLeft.timeInput",onChange:this.handleInsetInputChange,onFocus:i}),this.isRenderMultipleInputs()&&M.createElement(M.Fragment,null,M.createElement("div",{className:y},u==="compact"?null:"-"),M.createElement(Wle,{forwardRef:l,insetInputValue:d,placeholder:f??m,valuePath:"monthRight.dateInput",onChange:this.handleInsetInputChange,onFocus:x=>t(x,"rangeEnd")}),M.createElement(Ule,{disabled:!d.monthRight.dateInput,insetInputValue:d,placeholder:g??v,type:e,valuePath:"monthRight.timeInput",onChange:this.handleInsetInputChange,onFocus:i})))}renderTriggerInput(){const e=this.props,{placeholder:t,type:i,value:r,inputValue:s,inputStyle:a,disabled:o,showClear:l,inputReadOnly:u,insetLabel:c,validateStatus:d,block:h,prefixCls:f,multiple:p,dateFnsLocale:g,onBlur:m,onClear:v,onFocus:_,prefix:y,autofocus:x,size:w,inputRef:T,rangeInputStartRef:E,rangeInputEndRef:A,onRangeClear:k,onRangeBlur:P,onRangeEndTabPress:I,rangeInputFocus:D,rangeSeparator:L,insetInput:B,insetInputValue:F,defaultPickerValue:$,showClearIgnoreDisabled:z}=e,N=kOt(e,["placeholder","type","value","inputValue","inputStyle","disabled","showClear","inputReadOnly","insetLabel","validateStatus","block","prefixCls","multiple","dateFnsLocale","onBlur","onClear","onFocus","prefix","autofocus","size","inputRef","rangeInputStartRef","rangeInputEndRef","onRangeClear","onRangeBlur","onRangeEndTabPress","rangeInputFocus","rangeSeparator","insetInput","insetInputValue","defaultPickerValue","showClearIgnoreDisabled"]),V=M.createElement(p1e,{"aria-hidden":!0}),H=M.createElement(CSt,{"aria-hidden":!0}),K=i.includes("Time")?H:V;let U="";br(s)?r&&(U=this.formatText(r)):U=s;const X=le({[`${f}-input-readonly`]:u,[`${f}-monthRange-input`]:i==="monthRange"}),Z=Object.assign(Object.assign({},this.props),{text:U,suffix:K,inputCls:X});return this.isRenderMultipleInputs()?this.renderRangeInput(Z):M.createElement(Gl,Object.assign({},N,{ref:T,insetLabel:c,disabled:o,showClearIgnoreDisabled:z,readonly:u,className:X,style:a,hideSuffix:l,placeholder:i==="monthRange"&&Array.isArray(t)?t[0]+L+t[1]:t,onEnterPress:this.handleEnterPress,onChange:this.handleChange,onClear:this.handleInputClear,suffix:K,showClear:l,value:U,validateStatus:d,prefix:y,autoFocus:x,size:w,onBlur:m,onFocus:_}))}render(){const{insetInput:e}=this.props;return e?this.renderInputInset():this.renderTriggerInput()}}uF.propTypes={borderless:S.bool,onClick:S.func,onChange:S.func,onEnterPress:S.func,onBlur:S.func,onClear:S.func,onFocus:S.func,value:S.array,disabled:S.bool,type:S.oneOf(vt.TYPE_SET),showClear:S.bool,format:S.string,inputStyle:S.object,inputReadOnly:S.bool,insetLabel:S.node,validateStatus:S.string,prefix:S.node,prefixCls:S.string,dateFnsLocale:S.object.isRequired,placeholder:S.oneOfType([S.string,S.array]),rangeInputFocus:S.oneOfType([S.string,S.bool]),rangeInputStartRef:S.object,rangeInputEndRef:S.object,rangeSeparator:S.string,insetInput:S.oneOfType([S.bool,S.object]),insetInputValue:S.object,defaultPickerValue:S.oneOfType([S.string,S.number,S.object,S.array])};uF.defaultProps={borderless:!1,showClear:!0,onClick:Xr,onChange:Xr,onEnterPress:Xr,onBlur:Xr,onClear:Xr,onFocus:Xr,type:"date",inputStyle:{},inputReadOnly:!1,prefixCls:zn.PREFIX,rangeSeparator:vt.DEFAULT_SEPARATOR_RANGE};function lEe(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",i="";const r=typeof e=="number"&&e<10?`0${e}`:e.toString(),s=typeof t=="number"&&t<10?`0${t}`:t.toString();return i=`${String(n)}-${r}-${s}`,i}function OOt(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const t={dayNumber:"",dateNumberFull:"",fullDate:""},i=e1e(n),r=_r(n,"yyyy"),s=_r(n,"MM"),a=_bt(n),o=T_t(n),l=Number(_r(o,"e",{weekStartsOn:e})),u=[];let c=[];for(let d=1;d<l;d++)c.push(t);for(let d=0;d<i;d++){const h=d+1,f=h<10?`0${h}`:h.toString(),p=lEe(r,s,h);c.push({dayNumber:h,dayNumberFull:f,fullDate:p}),c.length===7?(u.push(c),c=[]):p===_r(a,"yyyy-MM-dd")&&(u.push(c),c=[])}return u}const POt=(n,e)=>{const t=OOt(n,e);return{monthText:_r(n,"yyyy-MM"),weeks:t,month:n}},Gle={month:rb,year:C_t},MOt={prevMonth:D0t,nextMonth:oy,prevYear:L0t,nextYear:YL};class IOt extends jn{constructor(e){super(Object.assign({},e)),this.newBiMonthPanelDate=[this.getState("monthLeft").pickerDate,this.getState("monthRight").pickerDate]}init(){const e=this.getProp("defaultValue");this.initDefaultPickerValue(),this.updateSelectedFromProps(e)}initDefaultPickerValue(){const e=Zs(this.getProp("defaultPickerValue"));e&&ph(e)&&(this._updatePanelDetail(vt.PANEL_TYPE_LEFT,{pickerDate:e}),this._updatePanelDetail(vt.PANEL_TYPE_RIGHT,{pickerDate:oy(e,1)}))}updateSelectedFromProps(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const i=this.getProp("type"),{selected:r,rangeStart:s,rangeEnd:a}=this.getStates();if(e&&(e!=null&&e.length))switch(i){case"date":this._initDatePickerFromValue(e,t);break;case"dateRange":this._initDateRangePickerFromValue(e);break;case"dateTime":this._initDateTimePickerFromValue(e);break;case"dateTimeRange":this._initDateTimeRangePickerFormValue(e);break}else(Array.isArray(e)&&!e.length||!e)&&(Ap(r)&&r.size&&this._adapter.updateDaySelected(new Set),s&&this._adapter.setRangeStart(""),a&&this._adapter.setRangeEnd(""))}calcDisabledTime(e){const{disabledTime:t,type:i}=this.getProps();if(typeof t=="function"&&e&&["dateTime","dateTimeRange"].includes(i)){const{rangeStart:r,rangeEnd:s,monthLeft:a}=this.getStates(),o=[];i==="dateTimeRange"?(r&&o.push(r),r&&s&&o.push(s)):a&&a.showDate&&o.push(a.showDate);const l=o.map(c=>c instanceof Date?c:hh(c)),u=i==="dateTimeRange"?l:l[0];return t(u,e)}}_initDatePickerFromValue(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const{monthLeft:i}=this._adapter.getStates(),r=Object.assign({},i);this._adapter.updateMonthOnLeft(r);const s=new Set,a=this._isMultiple();a?e.forEach(o=>{o&&s.add(_r(o,vt.FORMAT_FULL_DATE))}):e[0]&&s.add(_r(e[0],vt.FORMAT_FULL_DATE)),t?a?!(e!=null&&e.some(l=>l&&rb(l,i.pickerDate)===0))&&this.handleShowDateAndTime(vt.PANEL_TYPE_LEFT,e[0]||r.pickerDate):this.handleShowDateAndTime(vt.PANEL_TYPE_LEFT,e[0]||r.pickerDate):this.handleShowDateAndTime(vt.PANEL_TYPE_LEFT,r.pickerDate),this._adapter.updateDaySelected(s)}_initDateRangePickerFromValue(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const i=this.getState("monthLeft"),r=this.getState("monthRight"),s=this._autoAdjustMonth(Object.assign(Object.assign({},i),{pickerDate:e[0]||i.pickerDate}),Object.assign(Object.assign({},r),{pickerDate:e[1]||r.pickerDate}));if(Array.isArray(e)&&e.filter(c=>c).length>1)this.handleShowDateAndTime(vt.PANEL_TYPE_LEFT,s.monthLeft.pickerDate),this.handleShowDateAndTime(vt.PANEL_TYPE_RIGHT,s.monthRight.pickerDate);else{const c=e.find(d=>d);if(c){const d=Math.abs(rb(c,i.pickerDate))>0,h=Math.abs(rb(c,r.pickerDate))>0;d&&h&&(this.handleShowDateAndTime(vt.PANEL_TYPE_LEFT,s.monthLeft.pickerDate),this.handleShowDateAndTime(vt.PANEL_TYPE_RIGHT,s.monthRight.pickerDate))}}const o=t?vt.FORMAT_DATE_TIME:vt.FORMAT_FULL_DATE;let l=e[0]&&_r(e[0],o),u=e[1]&&_r(e[1],o);this._isNeedSwap(l,u)&&([l,u]=[u,l]),this._adapter.setRangeStart(l),this._adapter.setRangeEnd(u),this._adapter.setHoverDay(u)}_initDateTimePickerFromValue(e){this._initDatePickerFromValue(e)}_initDateTimeRangePickerFormValue(e){this._initDateRangePickerFromValue(e,!0)}destroy(){}handleSyncChangeMonths(e){const{panelType:t,target:i}=e,{type:r}=this._adapter.getProps(),{monthLeft:s,monthRight:a}=this._adapter.getStates();this.isRangeType(r)&&(t==="right"&&rb(i,s.pickerDate)===0?this.handleYearOrMonthChange("prevMonth","left",1,!0):t==="left"&&rb(a.pickerDate,i)===0&&this.handleYearOrMonthChange("nextMonth","right",1,!0))}getTargetChangeDate(e){const{panelType:t,switchType:i}=e,{monthRight:r,monthLeft:s}=this._adapter.getStates(),a=t==="left"?s.pickerDate:r.pickerDate;let o;switch(i){case"prevMonth":o=oy(a,-1);break;case"nextMonth":o=oy(a,1);break;case"prevYear":o=YL(a,-1);break;case"nextYear":o=YL(a,1);break}return o}toMonth(e,t){const{type:i}=this._adapter.getProps(),r=this._getDiff("month",t,e);this.handleYearOrMonthChange(r<0?"prevMonth":"nextMonth",e,Math.abs(r),!1),this.isRangeType(i)&&this.handleSyncChangeMonths({panelType:e,target:t})}toYear(e,t){const i=this._getDiff("year",t,e);this.handleYearOrMonthChange(i<0?"prevYear":"nextYear",e,Math.abs(i),!1)}toYearMonth(e,t){this.toYear(e,t),this.toMonth(e,t)}isRangeType(e){const{type:t}=this.getProps(),i=e||t;return typeof i=="string"&&/range/i.test(i)}handleSwitchMonthOrYear(e,t){const{type:i,syncSwitchMonth:r}=this.getProps(),s=this.isRangeType(i);if(s&&r)this.handleYearOrMonthChange(e,"left",1,!0),this.handleYearOrMonthChange(e,"right",1,!0);else if(this.handleYearOrMonthChange(e,t),s){const a=this.getTargetChangeDate({panelType:t,switchType:e});this.handleSyncChangeMonths({panelType:t,target:a})}}prevMonth(e){this.handleSwitchMonthOrYear("prevMonth",e)}nextMonth(e){this.handleSwitchMonthOrYear("nextMonth",e)}prevYear(e){this.handleSwitchMonthOrYear("prevYear",e)}nextYear(e){this.handleSwitchMonthOrYear("nextYear",e)}_getDiff(e,t,i){const r=this._getPanelDetail(i);return Gle[e]&&Gle[e](t,r.pickerDate)}_getPanelDetail(e){return e===vt.PANEL_TYPE_RIGHT?this.getState("monthRight"):this.getState("monthLeft")}localeFormat(e,t){const i=this._adapter.getProp("dateFnsLocale");return _r(e,t,{locale:i})}disposeCallbackArgs(e){let t=Array.isArray(e)?e:e&&[e]||[];const i=this.getProp("timeZone");I2(i)&&(t=t.map(l=>Pw(l,i)));const r=this.getProp("type"),s=this.getProp("format")||ly(r);let a,o;switch(r){case"date":case"dateTime":case"month":this._isMultiple()?(a=t.map(l=>l&&this.localeFormat(l,s)),o=[...t]):(a=t[0]&&this.localeFormat(t[0],s),[o]=t);break;case"dateRange":case"dateTimeRange":a=t.map(l=>l&&this.localeFormat(l,s)),o=[...t];break}return{notifyValue:a,notifyDate:o}}handleYearOrMonthChange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vt.PANEL_TYPE_LEFT,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const{autoSwitchDate:s,type:a}=this.getProps(),{monthLeft:o,monthRight:l}=this.getStates(),u=this.isRangeType(a),c=u&&t===vt.PANEL_TYPE_LEFT,d=this._getPanelDetail(t),{pickerDate:h}=d,f=MOt[e],p=f(h,i),g=t===vt.PANEL_TYPE_LEFT&&!Kn(p,o.pickerDate)||t===vt.PANEL_TYPE_RIGHT&&!Kn(p,l.pickerDate);if(this._updatePanelDetail(t,{pickerDate:p}),g)if(u){if(c?this.newBiMonthPanelDate[0]=p:this.newBiMonthPanelDate[1]=p,!(c&&r)){const{notifyValue:m,notifyDate:v}=this.disposeCallbackArgs(this.newBiMonthPanelDate);this._adapter.notifyPanelChange(v,m)}}else{const{notifyValue:m,notifyDate:v}=this.disposeCallbackArgs(p);this._adapter.notifyPanelChange(v,m)}s&&this.updateDateAfterChangeYM(e,p)}updateDateAfterChangeYM(e,t){const{multiple:i,disabledDate:r,type:s}=this.getProps(),{selected:a,rangeStart:o,rangeEnd:l,monthLeft:u}=this.getStates(),c=["dateRange","dateTimeRange"].includes(e),d={closePanel:!1};if(!i&&!c&&a.size){const h=Array.from(a)[0],f=new Date(h),p=t.getFullYear(),g=t.getMonth();let m=c1e(f,{year:p,month:g});if(s==="dateTime"&&(m=this._mergeDateAndTime(m,u.pickerDate)),r(m,{rangeStart:o,rangeEnd:l}))return;this._adapter.notifySelectedChange([m],d)}}_isMultiple(){return!!this.getProp("multiple")&&this.getProp("type")==="date"}_isRange(){}handleDayClick(e,t){const i=this.getProp("type");switch(!0){case(i==="date"||i==="dateTime"):this.handleDateSelected(e,t);break;case(i==="dateRange"||i==="dateTimeRange"):this.handleRangeSelected(e);break}}handleDateSelected(e,t){const{max:i,type:r,isControlledComponent:s,dateFnsLocale:a}=this.getProps(),o=this._isMultiple(),{selected:l}=this.getStates(),u=this._getPanelDetail(t),c=new Set(o?[...l]:[]),{fullDate:d}=e,h=u.pickerDate,f=d;o?c.has(f)?c.delete(f):i&&c.size===i?this._adapter.notifyMaxLimit():c.add(f):c.add(f);const p=[...c].map(g=>r==="dateTime"?this._mergeDateAndTime(g,h):Zs(g,vt.FORMAT_FULL_DATE,void 0,a));this.handleShowDateAndTime(t,h),s||this._adapter.updateDaySelected(c),this._adapter.notifySelectedChange(p)}handleShowDateAndTime(e,t,i){const r=i||t;this._updatePanelDetail(e,{showDate:r,pickerDate:t})}_mergeDateAndTime(e,t){const i=this._adapter.getProp("dateFnsLocale"),r=_r(ph(e)?e:Zs(e,vt.FORMAT_FULL_DATE,void 0,i),vt.FORMAT_FULL_DATE),s=_r(ph(t)?t:Zs(t,vt.FORMAT_TIME_PICKER,void 0,i),vt.FORMAT_TIME_PICKER),a=this.getValidTimeFormat();return Zs(`${r} ${s}`,a,void 0,i)}handleRangeSelected(e){let{rangeStart:t,rangeEnd:i}=this.getStates();const{startDateOffset:r,endDateOffset:s,type:a,dateFnsLocale:o,rangeInputFocus:l,triggerRender:u}=this._adapter.getProps(),{fullDate:c}=e;let d=!1,h=!1;const f=(r||s)&&a==="dateRange";f?(t=QR(r,c),i=QR(s,c)):l==="rangeEnd"?(i=c,t&&i&&Vx(i,t.trim().split(/\s+/)[0])&&(t=null,d=!0)):(l==="rangeStart"||!l)&&(t=c,t&&i&&Vx(i.trim().split(/\s+/)[0],t)&&(i=null,h=!0)),/range/i.test(a)&&(f?(this._adapter.setRangeStart(t),this._adapter.setRangeEnd(i)):l==="rangeEnd"?(this._adapter.setRangeEnd(i),d&&this._adapter.setRangeStart(t),(!this._adapter.isAnotherPanelHasOpened("rangeEnd")||!t)&&this._adapter.setRangeInputFocus("rangeStart")):(l==="rangeStart"||!l)&&(this._adapter.setRangeStart(t),h&&this._adapter.setRangeEnd(i),(!this._adapter.isAnotherPanelHasOpened("rangeStart")||!i)&&this._adapter.setRangeInputFocus("rangeEnd")));const g=this.getValidDateFormat();if(t||i){const[m,v]=[Zs(t,g,void 0,o),Zs(i,g,void 0,o)];let _=[m,v];if(a==="dateTimeRange"){const x=this.getState("monthLeft").pickerDate,w=this.getState("monthRight").pickerDate,T=t?this._mergeDateAndTime(t,x):null,E=i?this._mergeDateAndTime(i,w):null;CX(m,v)&&Vx(E,T)?_=[T,T]:_=[T,E]}const y=!(a==="dateRange"&&f);this._adapter.notifySelectedChange(_,{needCheckFocusRecord:y})}}_isNeedSwap(e,t){return e&&t&&Vx(t,e)}handleDayHover(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{fullDate:""};const{fullDate:t}=e,{startDateOffset:i,endDateOffset:r,type:s}=this.getProps();if(this._adapter.setHoverDay(t),(i||r)&&s==="dateRange"){const a=QR(i,t),o=QR(r,t);this._adapter.setOffsetRangeStart(a),this._adapter.setOffsetRangeEnd(o)}}_autoAdjustMonth(e,t){let i=e,r=t;const s=rb(e.pickerDate,t.pickerDate);return s>0?(i=Object.assign({},t),r=Object.assign({},e)):s===0&&(i=e,r=Object.assign(Object.assign({},t),{pickerDate:oy(t.pickerDate,1)})),{monthLeft:i,monthRight:r}}getValidTimeFormat(){const e=this.getProp("format")||vt.FORMAT_TIME_PICKER,t=[];return(Np(e,"h")||Np(e,"H"))&&t.push("HH"),Np(e,"m")&&t.push("mm"),Np(e,"s")&&t.push("ss"),t.join(":")}getValidDateFormat(){return this.getProp("format")||ikt(this.getProp("type"))}handleTimeChange(e,t){const{rangeEnd:i,rangeStart:r}=this.getStates(),s=this.getProp("dateFnsLocale"),a=e.timeStampValue,o=this.getProp("type"),l=this._getPanelDetail(t),{showDate:u}=l,c=new Date(a),d=this.getValidDateFormat(),h=t===vt.PANEL_TYPE_RIGHT?i:r;let f,p,g;if(o==="dateTimeRange"&&h){const T=Zs(h,d,void 0,s);f=T.getFullYear(),p=T.getMonth(),g=T.getDate()}else f=u.getFullYear(),p=u.getMonth(),g=u.getDate();const m=c.getHours(),v=c.getMinutes(),_=c.getSeconds(),y=c.getMilliseconds(),x=[f,p,g,m,v,_,y],w=new Date(...x);if(o==="dateTimeRange")this.handleShowDateAndTime(t,w,u),this._updateTimeInDateRange(t,w);else{const T=lEe(f,p+1,g);this.handleDateSelected({fullDate:T,fullValidDate:w},t),this.handleShowDateAndTime(t,w),this._adapter.notifySelectedChange([w])}}_updateTimeInDateRange(e,t){const{isControlledComponent:i,dateFnsLocale:r}=this.getProps();let s=this.getState("rangeStart"),a=this.getState("rangeEnd");const o=this.getValidDateFormat();if(s&&a){let l=Zs(s,o,void 0,r),u=Zs(a,o,void 0,r);e===vt.PANEL_TYPE_RIGHT?(u=this._mergeDateAndTime(t,t),a=_r(u,vt.FORMAT_DATE_TIME),this._isNeedSwap(s,a)&&([s,a]=[a,s],[l,u]=[u,l]),i||this._adapter.setRangeEnd(a)):(l=this._mergeDateAndTime(t,t),s=_r(l,vt.FORMAT_DATE_TIME),this._isNeedSwap(s,a)&&([s,a]=[a,s],[l,u]=[u,l]),i||this._adapter.setRangeStart(s)),this._adapter.notifySelectedChange([l,u])}}_updatePanelDetail(e,t){const{monthLeft:i,monthRight:r}=this.getStates();e===vt.PANEL_TYPE_RIGHT?this._adapter.updateMonthOnRight(Object.assign(Object.assign({},r),t)):this._adapter.updateMonthOnLeft(Object.assign(Object.assign({},i),t))}showYearPicker(e){this._updatePanelDetail(e,{isTimePickerOpen:!1,isYearPickerOpen:!0})}showTimePicker(e,t){this.getProp("disabledTimePicker")||this._updatePanelDetail(e,{isTimePickerOpen:!0,isYearPickerOpen:!1})}showDatePanel(e){this._updatePanelDetail(e,{isTimePickerOpen:!1,isYearPickerOpen:!1})}getYAMOpenType(){const{monthLeft:e,monthRight:t}=this._adapter.getStates(),i=e.isYearPickerOpen,r=t.isYearPickerOpen;return i&&r?"both":i?"left":r?"right":"none"}}const Yle=zn.NAVIGATION;class tq extends q.PureComponent{constructor(e){super(e),this.navRef=M.createRef()}render(){const{forwardRef:e,monthText:t,onMonthClick:i,onNextMonth:r,onPrevMonth:s,onPrevYear:a,onNextYear:o,density:l,shouldBimonthSwitch:u,panelType:c}=this.props,d="borderless",h=l==="compact"?"default":"large",f=!0,p=l==="compact"?"small":"default",g=c===vt.PANEL_TYPE_LEFT,m=c===vt.PANEL_TYPE_RIGHT,v=u&&g,_=u&&m,y={},x={};_&&(y.visibility="hidden"),v&&(x.visibility="hidden");const w=e||this.navRef;return M.createElement("div",{className:Yle,ref:w},M.createElement(ff,{key:"double-chevron-left","aria-label":"Previous year",icon:M.createElement(USt,{"aria-hidden":!0,size:h}),size:p,theme:d,noHorizontalPadding:f,onClick:a,style:y}),M.createElement(ff,{key:"chevron-left","aria-label":"Previous month",icon:M.createElement(nj,{"aria-hidden":!0,size:h}),size:p,onClick:s,theme:d,noHorizontalPadding:f,style:y}),M.createElement("div",{className:`${Yle}-month`},M.createElement(Xl,{onClick:i,theme:d,size:p},M.createElement("span",null,t))),M.createElement(ff,{key:"chevron-right","aria-label":"Next month",icon:M.createElement(UP,{"aria-hidden":!0,size:h}),size:p,onClick:r,theme:d,noHorizontalPadding:f,style:x}),M.createElement(ff,{key:"double-chevron-right","aria-label":"Next year",icon:M.createElement(YSt,{"aria-hidden":!0,size:h}),size:p,theme:d,noHorizontalPadding:f,onClick:o,style:x}))}}tq.propTypes={monthText:S.string,density:S.string,onMonthClick:S.func,onNextMonth:S.func,onPrevMonth:S.func,onNextYear:S.func,onPrevYear:S.func,navPrev:S.node,navNext:S.node,shouldBimonthSwitch:S.bool,panelType:S.oneOf([vt.PANEL_TYPE_LEFT,vt.PANEL_TYPE_RIGHT])};tq.defaultProps={monthText:"",onMonthClick:be,onNextMonth:be,onPrevMonth:be,onNextYear:be,onPrevYear:be};const ROt=n=>{let{weekStartsOn:e=0}=n;const t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];for(let i=0;i<e;i++)t.push(t.shift());return t};class DOt extends jn{constructor(e){super(Object.assign({},e))}init(){this._getToday(),this.getMonthTable()}_getToday(){const t=_r(new Date,"yyyy-MM-dd");this._adapter.updateToday(t)}getMonthTable(){const e=this._adapter.getProp("month"),t=this.getState("weeksRowNum");if(e){this.updateWeekDays();const i=this._adapter.getProp("weekStartsOn"),r=POt(e,i),{weeks:s}=r;this._adapter.updateMonthTable(r),br(t)?this._adapter.setWeeksRowNum(s.length):Array.isArray(s)&&s.length!==t&&this._adapter.setWeeksRowNum(s.length,()=>{this._adapter.notifyWeeksRowNumChange(s.length)})}}updateWeekDays(){const e=this._adapter.getProp("weekStartsOn"),t=ROt({weekStartsOn:e});this._adapter.setWeekDays(t)}destroy(){}handleClick(e){this._adapter.notifyDayClick(e)}handleHover(e){this._adapter.notifyDayHover(e)}}const LOt=zn.PREFIX;class nq extends An{constructor(e){super(e),this.state={weekdays:[],month:{weeks:[],monthText:""},todayText:"",weeksRowNum:e.weeksRowNum},this.monthRef=M.createRef()}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateToday:e=>this.setState({todayText:e}),setWeekDays:e=>this.setState({weekdays:e}),setWeeksRowNum:(e,t)=>this.setState({weeksRowNum:e},t),updateMonthTable:e=>this.setState({month:e}),notifyDayClick:e=>this.props.onDayClick(e),notifyDayHover:e=>this.props.onDayHover(e),notifyWeeksRowNumChange:e=>this.props.onWeeksRowNumChange(e)})}componentDidMount(){this.foundation=new DOt(this.adapter),this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}componentDidUpdate(e,t){e.month!==this.props.month&&this.foundation.getMonthTable()}getSingleDayStatus(e){const{rangeInputFocus:t}=this.props,{fullDate:i,todayText:r,selected:s,disabledDate:a,rangeStart:o,rangeEnd:l}=e,u={rangeStart:o,rangeEnd:l,rangeInputFocus:t},c=i===r,d=s.has(i);let h=a&&a(hh(i),u);return!h&&this.props.rangeInputFocus==="rangeStart"&&l&&this.props.focusRecordsRef&&this.props.focusRecordsRef.current.rangeEnd&&(h=Nle(i,l.trim().split(/\s+/)[0])),!h&&this.props.rangeInputFocus==="rangeEnd"&&o&&this.props.focusRecordsRef&&this.props.focusRecordsRef.current.rangeStart&&(h=Vx(i,o.trim().split(/\s+/)[0])),{isToday:c,isSelected:d,isDisabled:h}}getDateRangeStatus(e){const{rangeStart:t,rangeEnd:i,fullDate:r,hoverDay:s,offsetRangeStart:a,offsetRangeEnd:o,rangeInputFocus:l}=e,u=!!(t||i),c=!!(t&&i),d=a||o;if(!u)return{};const h=Ev(s,r);let f,p,g,m,v;t&&(g=Ev(r,t),l==="rangeEnd"&&(f=KS(r,{start:t,end:s}))),i&&(m=Ev(r,i),l==="rangeStart"&&(p=KS(r,{start:s,end:i}))),!c&&u&&(v=h);let _;d||(_=f||p||h);let y,x,w,T,E,A;return c&&(y=KS(r,{start:t,end:i}),d||(x=g&&Nle(t,s),w=m&&Vx(i,s),T=h&&l==="rangeStart",E=h&&l==="rangeEnd",A=h&&KS(s,{start:t,end:i}))),{isHoverDay:h,isSelectedStart:g,isSelectedEnd:m,isInRange:y,isHover:_,isSelectedStartAfterHover:x,isSelectedEndBeforeHover:w,isHoverDayInRange:A,isHoverDayInStartSelection:T,isHoverDayInEndSelection:E,isHoverDayAroundOneSelected:v}}getOffsetDateStatus(e){const{offsetRangeStart:t,offsetRangeEnd:i,rangeStart:r,rangeEnd:s,fullDate:a,hoverDay:o}=e;if(!(t||i))return{};const u=KS(a,{start:r,end:s}),c=Ev(o,a),d=r&&Ev(a,r),h=s&&Ev(a,s),f=!!(r&&s),p=Ev(a,t),g=Ev(a,i),m=c;let v,_;return f&&(v=u&&c),!!(t&&i)&&(_=d||KS(a,{start:t,end:i})||h),{isOffsetRangeStart:p,isOffsetRangeEnd:g,isHoverInOffsetRange:v,isHoverDayOffset:m,isInOffsetRange:_}}getDayStatus(e,t){const{fullDate:i}=e,{hoverDay:r,rangeStart:s,rangeEnd:a,todayText:o,offsetRangeStart:l,offsetRangeEnd:u,disabledDate:c,selected:d,rangeInputFocus:h}=t,f=this.getSingleDayStatus({fullDate:i,todayText:o,hoverDay:r,selected:d,disabledDate:c,rangeStart:s,rangeEnd:a}),p=this.getDateRangeStatus(Object.assign({fullDate:i,rangeStart:s,rangeEnd:a,hoverDay:r,offsetRangeStart:l,offsetRangeEnd:u,rangeInputFocus:h},f)),g=this.getOffsetDateStatus(Object.assign(Object.assign({offsetRangeStart:l,offsetRangeEnd:u,rangeStart:s,rangeEnd:a,fullDate:i,hoverDay:r},f),p));return Object.assign(Object.assign(Object.assign({},f),p),g)}renderDayOfWeek(){const{locale:e}=this.props,t=le(zn.WEEKDAY),i=le(`${LOt}-weekday-item`),{weekdays:r}=this.state,s=r.map(a=>e.weeks[a]);return M.createElement("div",{role:"row",className:t},s.map((a,o)=>M.createElement("div",{role:"columnheader",key:a+o,className:i},a)))}renderWeeks(){const{month:e}=this.state,{weeks:t}=e,{weeksRowNum:i}=this.props;let r={};i&&(r={height:i*SC.WEEK_HEIGHT});const s=le(zn.WEEKS);return M.createElement("div",{className:s,style:r},t.map((a,o)=>this.renderWeek(a,o)))}renderWeek(e,t){const i=zn.WEEK;return M.createElement("div",{role:"row",className:i,key:t},e.map((r,s)=>this.renderDay(r,s)))}renderDay(e,t){const{todayText:i}=this.state,{renderFullDate:r,renderDate:s}=this.props,{fullDate:a,dayNumber:o}=e;if(!a)return M.createElement("div",{role:"gridcell",tabIndex:-1,key:o+t,className:zn.DAY},M.createElement("span",null));const l=this.getDayStatus(e,Object.assign({todayText:i},this.props)),u=le(zn.DAY,{[zn.DAY_TODAY]:l.isToday,[zn.DAY_IN_RANGE]:l.isInRange,[zn.DAY_HOVER]:l.isHover,[zn.DAY_SELECTED]:l.isSelected,[zn.DAY_SELECTED_START]:l.isSelectedStart,[zn.DAY_SELECTED_END]:l.isSelectedEnd,[zn.DAY_DISABLED]:l.isDisabled,[zn.DAY_HOVER_DAY]:l.isHoverDayOffset,[zn.DAY_IN_OFFSET_RANGE]:l.isInOffsetRange,[zn.DAY_SELECTED_RANGE_HOVER]:l.isHoverInOffsetRange,[zn.DAY_OFFSET_RANGE_START]:l.isOffsetRangeStart,[zn.DAY_OFFSET_RANGE_END]:l.isOffsetRangeEnd,[zn.DAY_SELECTED_START_AFTER_HOVER]:l.isSelectedStartAfterHover,[zn.DAY_SELECTED_END_BEFORE_HOVER]:l.isSelectedEndBeforeHover,[zn.DAY_HOVER_DAY_BEFORE_RANGE]:l.isHoverDayInStartSelection,[zn.DAY_HOVER_DAY_AFTER_RANGE]:l.isHoverDayInEndSelection,[zn.DAY_HOVER_DAY_AROUND_SINGLE_SELECTED]:l.isHoverDayAroundOneSelected}),c=le({[`${zn.DAY}-main`]:!0}),d=[o,a,l],h=Mn(r);return M.createElement("div",{role:"gridcell",tabIndex:l.isDisabled?-1:0,"aria-disabled":l.isDisabled,"aria-selected":l.isSelected,"aria-label":a,className:h?zn.DAY:u,title:a,key:o+t,onClick:f=>!l.isDisabled&&this.foundation.handleClick(e),onMouseEnter:()=>this.foundation.handleHover(e),onMouseLeave:()=>this.foundation.handleHover()},h?r(...d):M.createElement("div",{className:c},Mn(s)?s(o,a):M.createElement("span",null,o)))}render(){const{forwardRef:e,multiple:t}=this.props,i=this.renderDayOfWeek(),r=this.renderWeeks(),s=le(zn.MONTH),a=e||this.monthRef;return M.createElement("div",{role:"grid","aria-multiselectable":t,ref:a,className:s},i,r)}}nq.propTypes={month:S.object,selected:S.object,rangeStart:S.string,rangeEnd:S.string,offsetRangeStart:S.string,offsetRangeEnd:S.string,onDayClick:S.func,onDayHover:S.func,weekStartsOn:S.number,disabledDate:S.func,weeksRowNum:S.number,onWeeksRowNumChange:S.func,renderDate:S.func,renderFullDate:S.func,hoverDay:S.string,startDateOffset:S.func,endDateOffset:S.func,rangeInputFocus:S.oneOfType([S.string,S.bool]),focusRecordsRef:S.object,multiple:S.bool};nq.defaultProps={month:new Date,selected:new Set,rangeStart:"",rangeEnd:"",onDayClick:be,onDayHover:be,onWeeksRowNumChange:be,weekStartsOn:SC.WEEK_START_ON,disabledDate:Kk,weeksRowNum:0};const XV="time",qV="timeRange",FOt=" ~ ",s8={PREFIX:`${nt}-timepicker`,RANGE_PICKER:`${nt}-timepicker-range-panel`,RANGE_PANEL_LISTS:`${nt}-timepicker-lists`},va={TYPES:[XV,qV],TYPE_TIME_RANGE_PICKER:qV,DEFAULT_TYPE:XV,DEFAULT_RANGE_SEPARATOR:FOt,SIZE:n_.SIZE,DEFAULT_FORMAT:"HH:mm:ss",DEFAULT_FORMAT_A:"a h:mm:ss",STATUS:w1,DEFAULT_POSITION:{[XV]:"bottomLeft",[qV]:"bottomLeft"}},Xu={PREFIX:`${nt}-scrolllist`,SELECTED:`${nt}-scrolllist-item-selected`},BOt={MODE:["normal","wheel"]},JR={DEFAULT_ITEM_HEIGHT:36,DEFAULT_SCROLL_DURATION:120};var $Ot=Jwe,NOt=FCe,jOt=qP,zOt=9007199254740991,ZV=4294967295,HOt=Math.min;function VOt(n,e){if(n=jOt(n),n<1||n>zOt)return[];var t=ZV,i=HOt(n,ZV);e=NOt(e),n-=ZV;for(var r=$Ot(i,e);++t<n;)e(t);return r}var WOt=VOt;const Kle=yn(WOt);var UOt=UN,GOt=ej,YOt=1,KOt=2;function XOt(n,e,t,i){var r=t.length,s=r,a=!i;if(n==null)return!s;for(n=Object(n);r--;){var o=t[r];if(a&&o[2]?o[1]!==n[o[0]]:!(o[0]in n))return!1}for(;++r<s;){o=t[r];var l=o[0],u=n[l],c=o[1];if(a&&o[2]){if(u===void 0&&!(l in n))return!1}else{var d=new UOt;if(i)var h=i(u,c,l,n,e,d);if(!(h===void 0?GOt(c,u,YOt|KOt,i,d):h))return!1}}return!0}var qOt=XOt,ZOt=bc;function QOt(n){return n===n&&!ZOt(n)}var uEe=QOt,JOt=uEe,ePt=Jy;function tPt(n){for(var e=ePt(n),t=e.length;t--;){var i=e[t],r=n[i];e[t]=[i,r,JOt(r)]}return e}var nPt=tPt;function iPt(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}var cEe=iPt,rPt=qOt,sPt=nPt,aPt=cEe;function oPt(n){var e=sPt(n);return e.length==1&&e[0][2]?aPt(e[0][0],e[0][1]):function(t){return t===n||rPt(t,n,e)}}var lPt=oPt,uPt=ej,cPt=Vwe,dPt=j1e,hPt=Q9,fPt=uEe,pPt=cEe,gPt=B0,mPt=1,vPt=2;function yPt(n,e){return hPt(n)&&fPt(e)?pPt(gPt(n),e):function(t){var i=cPt(t,n);return i===void 0&&i===e?dPt(t,n):uPt(e,i,mPt|vPt)}}var _Pt=yPt;function bPt(n){return function(e){return e==null?void 0:e[n]}}var dEe=bPt,SPt=WN;function xPt(n){return function(e){return SPt(e,n)}}var wPt=xPt,CPt=dEe,TPt=wPt,EPt=Q9,APt=B0;function kPt(n){return EPt(n)?CPt(APt(n)):TPt(n)}var OPt=kPt,PPt=lPt,MPt=_Pt,IPt=zP,RPt=Ao,DPt=OPt;function LPt(n){return typeof n=="function"?n:n==null?IPt:typeof n=="object"?RPt(n)?MPt(n[0],n[1]):PPt(n):DPt(n)}var R1=LPt,FPt=BX,BPt=R1,$Pt=qP,NPt=Math.max;function jPt(n,e,t){var i=n==null?0:n.length;if(!i)return-1;var r=t==null?0:$Pt(t);return r<0&&(r=NPt(i+r,0)),FPt(n,BPt(e),r)}var hEe=jPt;const sh=yn(hEe);var zPt=tj,HPt=Bf;function VPt(n,e){var t=-1,i=HPt(n)?Array(n.length):[];return zPt(n,function(r,s,a){i[++t]=e(r,s,a)}),i}var WPt=VPt,UPt=F0,GPt=R1,YPt=WPt,KPt=Ao;function XPt(n,e){var t=KPt(n)?UPt:YPt;return t(n,GPt(e))}var qPt=XPt;const iO=yn(qPt);var ZPt=R1,QPt=Bf,JPt=Jy;function eMt(n){return function(e,t,i){var r=Object(e);if(!QPt(e)){var s=ZPt(t);e=JPt(e),t=function(o){return s(r[o],o,r)}}var a=n(e,t,i);return a>-1?r[s?e[a]:a]:void 0}}var tMt=eMt,nMt=tMt,iMt=hEe,rMt=nMt(iMt),sMt=rMt;const ag=yn(sMt);var aMt=hX,oMt=JN,Xle=qP;function lMt(n,e,t){var i=n==null?0:n.length;return i?(t&&typeof t!="number"&&oMt(n,e,t)?(e=0,t=i):(e=e==null?0:Xle(e),t=t===void 0?i:Xle(t)),aMt(n,e,t)):[]}var uMt=lMt;const D2=yn(uMt);class cMt extends jn{constructor(){super(...arguments),this._cachedSelectedNode=null}selectIndex(e,t){const{type:i,list:r}=this.getProps();if(e>-1&&Array.isArray(r)&&r.length&&sr(t)){const s=e%r.length,a=r[s],o=t.children[e];this._adapter.setSelectedNode(o),this._adapter.notifySelectItem(Object.assign(Object.assign({},a),{value:a.value,type:i,index:s}))}}selectNode(e,t){const{type:i,list:r}=this.getProps();if(sr(e)&&sr(t)){const a=sh(t.children,c=>c===e)%r.length,l=sh(t.children,c=>c===this._cachedSelectedNode)%r.length,u=r[a];this._adapter.setSelectedNode(e),this._adapter.scrollToCenter(e),this._cachedSelectedNode!==e&&(this._cachedSelectedNode=e,l!==a&&this._adapter.notifySelectItem(Object.assign(Object.assign({},u),{value:u.value,type:i,index:a})))}}shouldAppend(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2;const r="li";if(sr(e)&&sr(t)){const s=e.querySelectorAll(r),a=s[s.length-1],{list:o}=this.getProps();if(a){const l=t.getBoundingClientRect(),u=a.getBoundingClientRect(),c=u.height*o.length;let d=u.top,h=0;for(;d<=l.top+l.height*i;)h+=1,d+=c;return h}}return!1}shouldPrepend(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2;const r="li";if(sr(e)&&sr(t)){const a=e.querySelectorAll(r)[0],{list:o}=this.getProps();if(a){const l=t.getBoundingClientRect(),u=a.getBoundingClientRect(),c=u.height*o.length;let d=u.top,h=0;for(;d+u.height>=l.top-l.height*i;)h+=1,d-=c;return h}}return 0}initWheelList(e,t,i){const{list:r}=this.getProps();if(sr(t)&&sr(e)&&r&&r.length){const s=e.children;D2(s,0,r.length);const a=this.shouldPrepend(e,t),o=this.shouldAppend(e,t);this._adapter.setState({prependCount:a,appendCount:o},i)}}adjustInfiniteList(e,t,i){const{list:r}=this.getProps(),s="li";if(sr(t)&&sr(e)&&r&&r.length){const a=e.querySelectorAll(s),o=a.length,l=1,u=this.shouldPrepend(e,t,l),c=this.shouldAppend(e,t,l);if(u)for(let d=0;d<u;d++){const h=D2(a,o-r.length*(d+1),o-r.length*d);Myt(e,...h)}if(c)for(let d=0;d<c;d++){const h=D2(a,d*r.length,(d+1)*r.length);$Ce(e,...h)}}}getNearestNodeInfo(e,t){if(sr(e)&&sr(t)){const r=t.getBoundingClientRect().top,s=e.querySelectorAll("li");let a=null,o=-1,l=1/0;return Array.from(s).map((u,c)=>{const h=u.getBoundingClientRect().top,f=Math.abs(h-r);f<l&&!this._adapter.isDisabledIndex(c)&&(l=f,a=u,o=c)}),{nearestNode:a,nearestIndex:o}}}getTargetNode(e,t){if(e&&sr(t)){const i="li",r=e.target,s=t.querySelectorAll(i),a=this.getProp("list"),o=Array.isArray(a)?a.length:0;let l=-1,u=-1,c=null;const d=ag(s,(h,f)=>{if(h===r||h.contains(r))return l=f,o>0&&(u=f%o),!0});return u>-1&&(c=a[u]),{targetNode:d,targetIndex:l,indexInList:u,infoInList:c}}return null}}const dMt=(n,e,t)=>{const i=new R1e({from:{scrollTop:n.scrollTop},to:{scrollTop:e}},{duration:t});return i.on("frame",r=>{let{scrollTop:s}=r;n.scrollTop=s}),i},qle=1e3/60,Zle=/^\s*$/,L2="wheel";class um extends An{constructor(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),e=this,this._cacheNode=(i,r)=>i&&r&&Object.prototype.hasOwnProperty.call(this,i)&&(this[i]=r),this._cacheSelectedNode=i=>this._cacheNode("selectedNode",i),this._cacheWillSelectNode=i=>this._cacheNode("willSelectNode",i),this._cacheListNode=i=>this._cacheNode("list",i),this._cacheSelectorNode=i=>this._cacheNode("selector",i),this._cacheWrapperNode=i=>this._cacheNode("wrapper",i),this._isFirst=i=>{const{list:r}=this;if(sr(i)&&sr(r)){const s=r.children;return sh(s,i)===0}return!1},this._isLast=i=>{const{list:r}=this;if(sr(i)&&sr(r)){const{children:s}=r;return sh(s,i)===s.length-1}return!1},this.indexIsSame=(i,r)=>{const{list:s}=this.props;if(s.length)return i%s.length===r%s.length},this.isDisabledIndex=i=>{const{list:r}=this.props;if(Array.isArray(r)&&r.length&&i>-1){const s=r.length,a=i%s;return this.isDisabledData(r[a])}return!1},this.isDisabledNode=i=>{const r=this.list;if(sr(i)&&sr(r)){const s=sh(r.children,a=>a===i);return this.isDisabledIndex(s)}return!1},this.isDisabledData=i=>i&&typeof i=="object"&&i.disabled,this.isWheelMode=()=>this.props.mode===L2,this.addClassToNode=function(i){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xu.SELECTED;const{list:s}=e;if(i=i||e.selectedNode,sr(i)&&sr(s)){const{children:a}=s,o=new RegExp(`\\s*${r}\\s*`,"g");iO(a,l=>{l.className=l.className&&l.className.replace(o," "),Zle.test(l.className)&&(l.className="")}),i.className&&!Zle.test(i.className)?i.className+=` ${r}`:i.className=r}},this.getIndexByNode=i=>sh(this.list.children,i),this.getNodeByIndex=i=>i>-1?ag(this.list.children,(s,a)=>a===i):ag(this.list.children,s=>!this.isDisabledNode(s)),this.scrollToIndex=(i,r)=>{r=typeof r=="number"?r:JR.DEFAULT_SCROLL_DURATION,i=i??this.props.selectedIndex,this.scrollToNode(this.selectedNode,r)},this.scrollToNode=(i,r)=>{const{wrapper:s}=this,a=s.offsetHeight,o=this.getItmHeight(i),l=(i.offsetTop||this.list.children.length*o/2)-(a-o)/2;this.scrollToPos(l,r)},this.scrollToPos=function(i){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:JR.DEFAULT_SCROLL_DURATION;const{wrapper:s}=e;if(r&&e.props.motion)if(e.scrollAnimation&&(e.scrollAnimation.destroy(),e.scrolling=!1),s.scrollTop===i){if(e.isWheelMode()){const a=e.foundation.getNearestNodeInfo(e.list,e.selector);e.addClassToNode(a.nearestNode)}}else e.scrollAnimation=dMt(s,i,r),e.scrollAnimation.on("rest",()=>{if(e.isWheelMode()){const a=e.foundation.getNearestNodeInfo(e.list,e.selector);e.addClassToNode(a.nearestNode)}}),e.scrollAnimation.start();else s.scrollTop=i},this.scrollToSelectItem=i=>{const{nearestNode:r}=this.foundation.getNearestNodeInfo(this.list,this.selector);this.props.cycled&&this.throttledAdjustList(i,r),this.debouncedSelect(i,r)},this.scrollToCenter=(i,r,s)=>{if(i=i||this.selectedNode,r=r||this.wrapper,sr(i)&&sr(r)){const a=r.getBoundingClientRect(),o=i.getBoundingClientRect(),l=r.scrollTop+(o.top-(a.top+a.height/2-o.height/2));this.scrollToPos(l,typeof s=="number"?s:JR.DEFAULT_SCROLL_DURATION)}},this.clickToSelectItem=i=>{i&&i.nativeEvent&&i.nativeEvent.stopImmediatePropagation();const{targetNode:r,infoInList:s}=this.foundation.getTargetNode(i,this.list);r&&s&&!s.disabled&&this.debouncedSelect(null,r)},this.getItmHeight=i=>i&&i.offsetHeight||JR.DEFAULT_ITEM_HEIGHT,this.renderItemList=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const{selectedIndex:r,mode:s,transform:a,list:o}=e.props;return o.map((l,u)=>{const{transform:c}=l,d=typeof c=="function"?c:a,h=r===u,f=le({[`${Xu.PREFIX}-item-sel`]:h&&s!==L2,[`${Xu.PREFIX}-item-disabled`]:!!l.disabled});let p="";h&&typeof d=="function"?p=d(l.value,l.text):p=l.text==null?l.value:l.text;const g={};return!e.isWheelMode()&&!l.disabled&&(g.onClick=()=>e.foundation.selectIndex(u,e.list)),M.createElement("li",Object.assign({key:i+u},g,{className:f,role:"option","aria-disabled":l.disabled}),p)})},this.renderNormalList=()=>{const{list:i,className:r,style:s}=this.props,a=this.renderItemList(),o=le(`${Xu.PREFIX}-item`,r);return M.createElement("div",{style:s,className:o,ref:this._cacheWrapperNode},M.createElement("ul",{role:"listbox","aria-multiselectable":!1,"aria-label":this.props["aria-label"],ref:this._cacheListNode},a))},this.renderInfiniteList=()=>{const{list:i,cycled:r,className:s,style:a}=this.props,{prependCount:o,appendCount:l}=this.state,u=Kle(o).reduce((v,_)=>{const y=this.renderItemList(`pre_${_}_`);return v.unshift(...y),v},[]),c=Kle(l).reduce((v,_)=>{const y=this.renderItemList(`app_${_}_`);return v.push(...y),v},[]),d=this.renderItemList(),h=le(`${Xu.PREFIX}-list-outer`,{[`${Xu.PREFIX}-list-outer-nocycle`]:!r}),f=le(`${Xu.PREFIX}-item-wheel`,s),p=le(`${Xu.PREFIX}-selector`),g=le(`${Xu.PREFIX}-shade`,`${Xu.PREFIX}-shade-pre`),m=le(`${Xu.PREFIX}-shade`,`${Xu.PREFIX}-shade-post`);return M.createElement("div",{className:f,style:a},M.createElement("div",{className:g}),M.createElement("div",{className:p,ref:this._cacheSelectorNode}),M.createElement("div",{className:m}),M.createElement("div",{className:h,ref:this._cacheWrapperNode,onScroll:this.scrollToSelectItem},M.createElement("ul",{role:"listbox","aria-label":this.props["aria-label"],"aria-multiselectable":!1,ref:this._cacheListNode,onClick:this.clickToSelectItem},u,d,c)))},this.state={prependCount:0,appendCount:0},this.selectedNode=null,this.willSelectNode=null,this.list=null,this.wrapper=null,this.selector=null,this.scrollAnimation=null,this.foundation=new cMt(this.adapter),this.throttledAdjustList=HL((i,r)=>{this.foundation.adjustInfiniteList(this.list,this.wrapper,r)},qle),this.debouncedSelect=iX((i,r)=>{this._cacheSelectedNode(r),this.foundation.selectNode(r,this.list)},qle*2)}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{setState:(t,i)=>this.setState(Object.assign({},t),i),setPrependCount:t=>this.setState({prependCount:t}),setAppendCount:t=>this.setState({appendCount:t}),isDisabledIndex:this.isDisabledIndex,setSelectedNode:t=>this._cacheWillSelectNode(t),notifySelectItem:function(){return e.props.onSelect(...arguments)},scrollToCenter:this.scrollToCenter})}componentWillUnmount(){this.props.cycled&&(this.throttledAdjustList.cancel(),this.debouncedSelect.cancel())}componentDidMount(){this.foundation.init();const{mode:e,cycled:t,selectedIndex:i,list:r}=this.props,s=this.getNodeByIndex(typeof i=="number"&&i>-1?i:0);this._cacheSelectedNode(s),this._cacheWillSelectNode(s),e===L2&&t?this.foundation.initWheelList(this.list,this.wrapper,()=>{this.scrollToNode(s,0)}):this.scrollToNode(s,0)}componentDidUpdate(e){const{selectedIndex:t}=this.props;if(e.selectedIndex!==t){const i=this.getIndexByNode(this.willSelectNode);if(!this.indexIsSame(i,t)){const r=this.getNodeByOffset(this.selectedNode,t-e.selectedIndex,this.list);this._cacheWillSelectNode(r)}this._cacheSelectedNode(this.willSelectNode),this.scrollToIndex(t)}}getNodeByOffset(e,t,i){const{list:r}=this.props;if(sr(e)&&sr(i)&&typeof t=="number"&&Array.isArray(r)&&r.length){t=t%r.length;let a=this.getIndexByNode(e)+t;for(;a<0;)a+=r.length;if(t)return this.getNodeByIndex(a)}return e}render(){return this.isWheelMode()?this.renderInfiniteList():this.renderNormalList()}}um.propTypes={mode:S.oneOf(BOt.MODE),cycled:S.bool,list:S.array,selectedIndex:S.number,onSelect:S.func,transform:S.func,className:S.string,style:S.object,motion:S.oneOfType([S.func,S.bool]),type:S.oneOfType([S.string,S.number])};um.defaultProps={selectedIndex:0,motion:!0,list:[],onSelect:be,cycled:!1,mode:L2};class hMt extends jn{}var fMt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};class Sj extends An{constructor(e){super(e),this.foundation=new hMt(this.adapter)}render(){const e=this.props,{children:t,header:i,footer:r,prefixCls:s,bodyHeight:a,className:o,style:l}=e,u=fMt(e,["children","header","footer","prefixCls","bodyHeight","className","style"]),c=le(o,{[s||Xu.PREFIX]:!0}),d=le({[`${s||Xu.PREFIX}-header`]:!0});return M.createElement("div",Object.assign({className:c,style:l},this.getDataAttr(u)),i?M.createElement("div",{className:d},M.createElement("div",{className:`${d}-title`,"x-semi-prop":this.props["x-semi-header-alias"]||"header"},i),M.createElement("div",{className:`${c}-line`})):null,M.createElement("div",{className:`${c}-body`,style:{height:a||""},"x-semi-prop":"children"},t),r?M.createElement("div",{className:`${c}-footer`,"x-semi-prop":this.props["x-semi-footer-alias"]||"footer"},r):null)}}Sj.Item=um;Sj.propTypes={className:S.string,header:S.node,footer:S.node,children:S.node,bodyHeight:S.oneOfType([S.number,S.string])};const QV=(n,e)=>{let t=`${n}`;n<10&&(t=`0${n}`);let i=!1;return e&&e.indexOf(n)>=0&&(i=!0),{value:t,disabled:i}};function JV(n,e,t){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;const r=[];for(let s=0;s<n;s+=i)(!e||e.indexOf(s)<0||!t)&&r.push(s);return r}class pMt extends jn{constructor(e){super(Object.assign({},e))}isAM(){return this.getProp("isAM")}initData(){const{timeStampValue:e,hourStep:t,disabledMinutes:i,disabledSeconds:r,hideDisabledOptions:s,minuteStep:a,secondStep:o}=this.getProps(),l=this.getValidFormat(),u=this.getDisplayDateFromTimeStamp(e),c=this.disabledHours(),d=i(u?u.getHours():null),h=r(u?u.getHours():null,u?u.getMinutes():null),f=JV(24,c,s,t),p=JV(60,d,s,a),g=JV(60,h,s,o);return{showHour:!!l.match(/HH|hh|H|h/g),showMinute:!!l.match(/mm/g),showSecond:!!l.match(/ss/g),hourOptions:f,minuteOptions:p,secondOptions:g}}getPosition(){const e=this.getProp("position"),t=this.getProp("type")||va.DEFAULT_TYPE;return e||va.DEFAULT_POSITION[t]}getDefaultFormatIfNeed(){return this._isInProps("format")?this.getProp("format"):this.getProp("use12Hours")?va.DEFAULT_FORMAT_A:va.DEFAULT_FORMAT}disabledHours(){const{use12Hours:e,disabledHours:t}=this.getProps();let i=t&&t();return e&&Array.isArray(i)&&(this.isAM()?i=i.filter(r=>r<12).map(r=>r===0?12:r):i=i.map(r=>r===12?12:r-12)),i}getValidFormat(e){let t=br(e)?this.getProp("format"):e;return t=this.getDefaultFormatIfNeed(),t=typeof t=="string"?t:va.DEFAULT_FORMAT,t}getDisplayDateFromTimeStamp(e){let t;return e&&(t=new Date(e)),!e||!ph(t)?this.createDateDefault():t}createDateDefault(){const e=new Date;return new Date(e.getFullYear(),e.getMonth(),e.getDate())}}class rO extends An{constructor(e){super(e),this.cacheRefCurrent=(t,i)=>{t&&typeof t=="string"&&this.adapter.setCache(t,i)},this.reselect=()=>{["ampm","hour","minute","second"].forEach(i=>{const r=this.adapter.getCache(i);r&&r.scrollToIndex&&r.scrollToIndex()})},this.onItemChange=t=>{let{type:i,value:r,disabled:s}=t,{onChange:a,use12Hours:o,isAM:l,format:u,timeStampValue:c}=this.props;const d=this.foundation.getDisplayDateFromTimeStamp(c);if(i==="hour")o?l?d.setHours(Number(r)%12):d.setHours(Number(r)%12+12):d.setHours(Number(r));else if(i==="minute")d.setMinutes(Number(r));else if(i==="ampm"){const h=r.toUpperCase();o&&(h==="PM"&&(l=!1,d.getHours()<12&&d.setHours(d.getHours()%12+12)),h==="AM"&&(l=!0,d.getHours()>=12&&d.setHours(d.getHours()-12)))}else d.setSeconds(Number(r));a&&a({isAM:l,value:_r(d,u&&u.replace(/(\s+)A/g,"$1a")),timeStampValue:Number(d)})},this.onEnterSelectPanel=t=>{const{onCurrentSelectPanelChange:i}=this.props;i(t)},this.getDisplayDateFromTimeStamp=t=>this.foundation.getDisplayDateFromTimeStamp(t),this.foundation=new pMt(this.adapter),this.state=Object.assign({},this.foundation.initData())}componentDidUpdate(e,t){(e.timeStampValue!==this.props.timeStampValue||e.format!==this.props.format)&&this.setState(Object.assign({},this.foundation.initData()))}componentWillUnmount(){}componentDidMount(){}renderHourSelect(e,t){const{prefixCls:i,disabledHours:r,use12Hours:s,scrollItemProps:a}=this.props,{showHour:o,hourOptions:l}=this.state;if(!o)return null;const u=r();let c,d;s?(c=[12].concat(l.filter(p=>p<12&&p>0)),d=e%12||12):(c=l,d=e);const h=p=>p+t.hour,f=`${i}-list-hour`;return M.createElement(um,Object.assign({ref:p=>this.cacheRefCurrent("hour",p),mode:"normal",transform:h,className:f,list:c.map(p=>QV(p,u)),selectedIndex:c.indexOf(d),type:"hour",onSelect:this.onItemChange},a))}renderMinuteSelect(e,t){const{prefixCls:i,disabledMinutes:r,timeStampValue:s,scrollItemProps:a}=this.props,{showMinute:o,minuteOptions:l}=this.state;if(!o)return null;const u=new Date(s),c=r&&r(u.getHours()),d=`${i}-list-minute`,h=f=>f+t.minute;return M.createElement(um,Object.assign({ref:f=>this.cacheRefCurrent("minute",f),mode:"normal",transform:h,list:l.map(f=>QV(f,c)),selectedIndex:l.indexOf(e),type:"minute",onSelect:this.onItemChange,className:d},a))}renderSecondSelect(e,t){const{prefixCls:i,disabledSeconds:r,timeStampValue:s,scrollItemProps:a}=this.props,{showSecond:o,secondOptions:l}=this.state;if(!o)return null;const u=new Date(s),c=r&&r(u.getHours(),u.getMinutes()),d=`${i}-list-second`,h=f=>String(f)+t.second;return M.createElement(um,Object.assign({ref:f=>this.cacheRefCurrent("second",f),mode:"normal",transform:h,list:l.map(f=>QV(f,c)),selectedIndex:l.indexOf(e),className:d,type:"second",onSelect:this.onItemChange},a))}renderAMPMSelect(e,t){const{prefixCls:i,use12Hours:r,isAM:s,scrollItemProps:a}=this.props;if(!r)return null;const o=[{value:"AM",text:e.AM||""},{value:"PM",text:e.PM||""}],l=s?0:1,u=`${i}-list-ampm`;return M.createElement(um,Object.assign({ref:c=>this.cacheRefCurrent("ampm",c),mode:"normal",className:u,list:o,selectedIndex:l,type:"ampm",onSelect:this.onItemChange},a))}render(){const{timeStampValue:e,panelHeader:t,panelFooter:i}=this.props,r=this.getDisplayDateFromTimeStamp(e);return M.createElement(Qr,{componentName:"TimePicker"},(s,a)=>M.createElement(Sj,{header:t,footer:i,"x-semi-header-alias":"panelHeader","x-semi-footer-alias":"panelFooter"},this.renderAMPMSelect(s,a),this.renderHourSelect(r.getHours(),s),this.renderMinuteSelect(r.getMinutes(),s),this.renderSecondSelect(r.getSeconds(),s)))}}rO.propTypes={format:S.string,defaultOpenValue:S.object,prefixCls:S.string,onChange:S.func,showHour:S.bool,showMinute:S.bool,showSecond:S.bool,disabledHours:S.func,disabledMinutes:S.func,disabledSeconds:S.func,hideDisabledOptions:S.bool,onCurrentSelectPanelChange:S.func,use12Hours:S.bool,isAM:S.bool,timeStampValue:S.any,scrollItemProps:S.object};rO.defaultProps={disabledHours:be,disabledMinutes:be,disabledSeconds:be,format:va.DEFAULT_FORMAT};class gMt extends jn{constructor(e){super(Object.assign({},e))}init(){}destroy(){}selectYear(e,t){const{currentYear:i,currentMonth:r}=this.getStates(),{type:s}=this.getProps(),a=vt.PANEL_TYPE_LEFT,o=vt.PANEL_TYPE_RIGHT,l=Fm(i);if(l[t]=e.value,s==="monthRange"){const u=l[a]===l[o]&&r[a]>r[o];t===a&&e.value>l[o]||t===a&&u?l[o]=e.value+1:t===o&&u&&(l[a]=e.value-1)}this._adapter.setCurrentYear(l,()=>this.autoSelectMonth(e,t,l)),this._adapter.notifySelectYear(l)}selectMonth(e,t){const{currentMonth:i,currentYear:r}=this.getStates(),{type:s}=this.getProps(),a=vt.PANEL_TYPE_LEFT,o=vt.PANEL_TYPE_RIGHT,l=Fm(i);l[t]=e.month,s==="monthRange"&&t===a&&r[a]===r[o]&&e.month>l[o]&&(l[o]=e.month),this._adapter.setCurrentMonth(l),this._adapter.notifySelectMonth(l)}autoSelectMonth(e,t,i){const{disabledDate:r,locale:s}=this._adapter.getProps(),{months:a,currentMonth:o}=this._adapter.getStates(),l=t===vt.PANEL_TYPE_LEFT?"right":"left",u=eG(Date.now(),e.year),c=r(wb(u,o[t]-1)),d=r(wb(eG(Date.now(),i[l]),o[l]-1));if(!c&&!d)return;let h=i,f=o;if(c){const p=a.findIndex(m=>{let{month:v}=m;return v===o[t]});let g;g=a.slice(p).find(m=>{let{month:v}=m;return!r(wb(u,v-1))}),g||(g=a.slice(0,p).find(m=>{let{month:v}=m;return!r(wb(u,v-1))})),g&&!d?f[t]=g.month:g&&d&&(h={left:e.year,right:e.year},f={left:g.month,right:g.month})}else!c&&d&&(h={left:e.year,right:e.year},f={left:o[t],right:o[t]});this._adapter.setCurrentYearAndMonth(h,f),this._adapter.notifySelectYearAndMonth(h,f)}backToMain(){this._adapter.notifyBackToMain()}}const Qle=`${nt}-datepicker`;class xj extends An{constructor(e){super(e),this.selectYear=(a,o)=>{this.foundation.selectYear(a,o)},this.selectMonth=(a,o)=>{this.foundation.selectMonth(a,o)},this.reselect=()=>{["yearRef","monthRef"].forEach(o=>{const l=this[o];l&&l.current&&l.current.scrollToIndex&&l.current.scrollToIndex()})},this.backToMain=a=>{a.nativeEvent.stopImmediatePropagation(),this.foundation.backToMain()};let{currentYear:t,currentMonth:i}=e;const{year:r,month:s}=jle(t,i);this.state={years:rkt(e.startYear,e.endYear).map(a=>({value:a,year:a})),months:Array(12).fill(0).map((a,o)=>({value:o+1,month:o+1})),currentYear:r,currentMonth:s},this.yearRef=M.createRef(),this.monthRef=M.createRef(),this.foundation=new gMt(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setCurrentYear:(e,t)=>this.setState({currentYear:e},t),setCurrentMonth:e=>this.setState({currentMonth:e}),setCurrentYearAndMonth:(e,t)=>this.setState({currentYear:e,currentMonth:t}),notifySelectYear:e=>this.props.onSelect({currentMonth:this.state.currentMonth,currentYear:e}),notifySelectMonth:e=>this.props.onSelect({currentYear:this.state.currentYear,currentMonth:e}),notifySelectYearAndMonth:(e,t)=>this.props.onSelect({currentYear:e,currentMonth:t}),notifyBackToMain:()=>this.props.onBackToMain()})}static getDerivedStateFromProps(e,t){const i={},{year:r,month:s}=jle(e.currentYear,e.currentMonth);return Kn(e.currentYear,t.currentYear)||(i.currentYear=r),Kn(e.currentMonth,t.currentMonth)||(i.currentMonth=s),i}renderColYear(e){const{years:t,currentYear:i,currentMonth:r,months:s}=this.state,{disabledDate:a,localeCode:o,yearCycled:l,yearAndMonthOpts:u}=this.props,c=wb(Date.now(),r[e]-1),d=vt.PANEL_TYPE_LEFT,h=vt.PANEL_TYPE_RIGHT,f=m=>e===h&&i[d]?i[d]>m:!1,p=t.map(m=>{let{value:v,year:_}=m;const y=s.every(w=>{let{month:T}=w;return a(c1e(c,{year:_,month:T-1}))}),x=f(_);return{year:_,value:v,disabled:y||x}});let g=m=>m;return(o==="zh-CN"||o==="zh-TW")&&(g=m=>`${m}`),M.createElement(um,Object.assign({ref:this.yearRef,cycled:l,list:p,transform:g,selectedIndex:t.findIndex(m=>m.value===i[e]),type:"year",onSelect:m=>this.selectYear(m,e),mode:"normal"},u))}renderColMonth(e){const{months:t,currentMonth:i,currentYear:r}=this.state,{locale:s,localeCode:a,monthCycled:o,disabledDate:l,yearAndMonthOpts:u}=this.props;let c=m=>m;const d=eG(Date.now(),r[e]),h=vt.PANEL_TYPE_LEFT,f=vt.PANEL_TYPE_RIGHT;(a==="zh-CN"||a==="zh-TW")&&(c=m=>`${m}`);const p=t.map(m=>{let{value:v,month:_}=m;const y=e===f&&i[h]&&r[h]===r[f]&&i[h]>_;return{month:_,disabled:l(wb(d,_-1))||y,value:s.fullMonths[v]}}),g=p.findIndex(m=>m.month===i[e]);return M.createElement(um,Object.assign({ref:this.monthRef,cycled:o,list:p,transform:c,selectedIndex:g,type:"month",onSelect:m=>this.selectMonth(m,e),mode:"normal"},u))}renderPanel(e){return M.createElement(M.Fragment,null,M.createElement(Sj,null,this.renderColYear(e),this.renderColMonth(e)))}render(){const{locale:e,noBackBtn:t,density:i,presetPosition:r,renderQuickControls:s,renderDateInput:a,type:o}=this.props,l=`${Qle}-yearmonth-header`,u=`${Qle}-yearmonth-body`,c=e.selectDate,d=i==="compact"?"default":"large",h=i==="compact"?"small":"default",f=vt.PANEL_TYPE_LEFT,p=vt.PANEL_TYPE_RIGHT;let g=null;return o==="month"?g=this.renderPanel(f):g=M.createElement("div",{className:u},this.renderPanel(f),this.renderPanel(p)),M.createElement(M.Fragment,null,t?null:M.createElement("div",{className:l},M.createElement(ff,{noHorizontalPadding:!1,icon:M.createElement(nj,{"aria-hidden":!0,size:d}),size:h,onClick:this.backToMain},M.createElement("span",null,c))),r?M.createElement("div",{style:{display:"flex"}},r==="left"&&o!=="monthRange"&&s,M.createElement("div",null,a,g),r==="right"&&o!=="monthRange"&&s):M.createElement(M.Fragment,null,a,g))}}xj.propTypes={currentYear:S.object,currentMonth:S.object,onSelect:S.func,locale:S.object,localeCode:S.string,monthCycled:S.bool,yearCycled:S.bool,noBackBtn:S.bool,disabledDate:S.func,density:S.string,presetPosition:S.oneOf(vt.PRESET_POSITION_SET),renderQuickControls:S.node,renderDateInput:S.node,type:S.oneOf(vt.TYPE_SET),startYear:S.number,endYear:S.number};xj.defaultProps={disabledDate:Kk,monthCycled:!1,yearCycled:!1,noBackBtn:!1,onSelect:be,type:"month"};const Fc=zn.PREFIX;class iq extends An{constructor(e){super(e),this.cacheRefCurrent=(o,l)=>{typeof o=="string"&&o.length&&this.adapter.setCache(o,l)},this.leftIsYearOrTime=o=>{const{monthLeft:l}=o||this.state;return!!(l&&(l.isTimePickerOpen||l.isYearPickerOpen))},this.rightIsYearOrTime=o=>{const{monthRight:l}=o||this.state;return!!(l&&(l.isTimePickerOpen||l.isYearPickerOpen))},this.calcScrollListHeight=()=>{const o=this.adapter.getCache(`wrap-${vt.PANEL_TYPE_LEFT}`),l=this.adapter.getCache(`wrap-${vt.PANEL_TYPE_RIGHT}`),u=this.adapter.getCache(`switch-${vt.PANEL_TYPE_LEFT}`),c=this.adapter.getCache(`switch-${vt.PANEL_TYPE_RIGHT}`),d=o&&o.getBoundingClientRect(),h=l&&l.getBoundingClientRect();let f=d&&d.height||0,p=h&&h.height||0;return u&&(f+=u.getBoundingClientRect().height),c&&(p+=c.getBoundingClientRect().height),Math.max(f,p)},this.handleWeeksRowNumChange=(o,l)=>{const u=l===vt.PANEL_TYPE_RIGHT,c=l===vt.PANEL_TYPE_RIGHT,d=this.leftIsYearOrTime()&&this.rightIsYearOrTime();if(this.foundation.isRangeType()&&!d){const h={weeksRowNum:o,currentPanelHeight:this.calcScrollListHeight()};this.setState(h,()=>{(this.leftIsYearOrTime()&&c||this.rightIsYearOrTime()&&u)&&this.reselect()})}},this.reselect=()=>{[`timepicker-${vt.PANEL_TYPE_LEFT}`,`timepicker-${vt.PANEL_TYPE_RIGHT}`,`yam-${vt.PANEL_TYPE_LEFT}`,`yam-${vt.PANEL_TYPE_RIGHT}`].forEach(l=>{const u=this.adapter.getCache(l);u&&typeof u.reselect=="function"&&u.reselect()})},this.getYAMOpenType=()=>this.foundation.getYAMOpenType();const t=e.format||ly(e.type),{nowDate:i,nextDate:r}=ZTe({defaultPickerValue:e.defaultPickerValue,format:t,dateFnsLocale:e.dateFnsLocale}),s={selected:new Set},a={monthLeft:{pickerDate:i,showDate:i,isTimePickerOpen:!1,isYearPickerOpen:!1},monthRight:{pickerDate:r,showDate:r,isTimePickerOpen:!1,isYearPickerOpen:!1},maxWeekNum:0,hoverDay:"",rangeStart:e.rangeStart,rangeEnd:"",currentPanelHeight:0,offsetRangeStart:"",offsetRangeEnd:""};this.state=Object.assign(Object.assign({},s),a),this.foundation=new IOt(this.adapter)}get dateAdapter(){return{updateDaySelected:e=>this.setState({selected:e})}}get rangeAdapter(){return{setRangeStart:e=>this.setState({rangeStart:e}),setRangeEnd:e=>this.setState({rangeEnd:e}),setHoverDay:e=>this.setState({hoverDay:e}),setWeeksHeight:e=>this.setState({maxWeekNum:e}),setOffsetRangeStart:e=>this.setState({offsetRangeStart:e}),setOffsetRangeEnd:e=>this.setState({offsetRangeEnd:e})}}get adapter(){return Object.assign(Object.assign(Object.assign(Object.assign({},super.adapter),this.dateAdapter),this.rangeAdapter),{updateMonthOnLeft:e=>this.setState({monthLeft:e}),updateMonthOnRight:e=>this.setState({monthRight:e}),notifySelectedChange:(e,t)=>this.props.onChange(e,t),notifyMaxLimit:e=>this.props.onMaxSelect(e),notifyPanelChange:(e,t)=>this.props.onPanelChange(e,t),setRangeInputFocus:e=>this.props.setRangeInputFocus(e),isAnotherPanelHasOpened:e=>this.props.isAnotherPanelHasOpened(e)})}componentDidMount(){super.componentDidMount()}componentDidUpdate(e,t){const{defaultValue:i,defaultPickerValue:r}=this.props;if(e.defaultValue!==i&&this.foundation.updateSelectedFromProps(i),e.defaultPickerValue!==r&&this.foundation.initDefaultPickerValue(),this.foundation.isRangeType()){const a=this.leftIsYearOrTime(t)&&this.rightIsYearOrTime(t),o=this.leftIsYearOrTime(t)&&!this.rightIsYearOrTime(t)||!this.leftIsYearOrTime(t)&&this.rightIsYearOrTime(t),l=this.leftIsYearOrTime()&&this.rightIsYearOrTime(),u=this.leftIsYearOrTime()&&!this.rightIsYearOrTime()||!this.leftIsYearOrTime()&&this.rightIsYearOrTime();o&&l?this.setState({currentPanelHeight:this.calcScrollListHeight()},this.reselect):a&&u&&this.reselect()}}renderPanel(e,t){let i=le(`${Fc}-month-grid-${t}`);const{monthLeft:r,monthRight:s,currentPanelHeight:a}=this.state,{insetInput:o}=this.props,l=t===vt.PANEL_TYPE_RIGHT?s:r,{isTimePickerOpen:u,isYearPickerOpen:c}=l,d=this.renderMonth(e,t),h=c?M.createElement("div",{className:`${Fc}-yam`},this.renderYearAndMonth(t,l)):null,f=u?M.createElement("div",{className:`${Fc}-tpk`},this.renderTimePicker(t,l)):null,p={},g=this.adapter.getCache(`wrap-${vt.PANEL_TYPE_LEFT}`),m=this.adapter.getCache(`wrap-${vt.PANEL_TYPE_RIGHT}`),v=t===vt.PANEL_TYPE_RIGHT?m:g;this.foundation.isRangeType()?((c||u)&&(p.minWidth=v.getBoundingClientRect().width),this.leftIsYearOrTime()&&this.rightIsYearOrTime()&&!o&&(p.minHeight=a||this.calcScrollListHeight())):this.props.type!=="year"&&this.props.type!=="month"&&(u||c)&&(i=le(i,`${Fc}-yam-showing`));const y=!(c||u)?"date":c?"year":"time";return M.createElement("div",{className:i,key:t,style:p,"x-open-type":y},h,f,this.foundation.isRangeType()?d:c||u?null:d,this.renderSwitch(t))}showYearPicker(e,t){t.nativeEvent.stopImmediatePropagation(),this.foundation.showYearPicker(e)}renderMonth(e,t){const{selected:i,rangeStart:r,rangeEnd:s,hoverDay:a,maxWeekNum:o,offsetRangeStart:l,offsetRangeEnd:u}=this.state,{weekStartsOn:c,disabledDate:d,locale:h,localeCode:f,renderDate:p,renderFullDate:g,startDateOffset:m,endDateOffset:v,density:_,rangeInputFocus:y,syncSwitchMonth:x,multiple:w}=this.props;let T="";if(e){const I=e?_r(e,"yyyy"):"",D=e?_r(e,"L"):"",L=h.months[D];T=h.monthText.replace("${year}",I).replace("${month}",L)}let E={};const A=t===vt.PANEL_TYPE_RIGHT?this.state.monthRight:this.state.monthLeft,k=this.foundation.isRangeType(),P=k&&x;return k&&A&&(A.isYearPickerOpen||A.isTimePickerOpen)&&(E={visibility:"hidden",position:"absolute",pointerEvents:"none"}),M.createElement("div",{ref:I=>this.cacheRefCurrent(`wrap-${t}`,I),style:E},M.createElement(tq,{forwardRef:I=>this.cacheRefCurrent(`nav-${t}`,I),monthText:T,density:_,onMonthClick:I=>this.showYearPicker(t,I),onPrevMonth:()=>this.foundation.prevMonth(t),onNextMonth:()=>this.foundation.nextMonth(t),onNextYear:()=>this.foundation.nextYear(t),onPrevYear:()=>this.foundation.prevYear(t),shouldBimonthSwitch:P,panelType:t}),M.createElement(nq,{locale:h,localeCode:f,forwardRef:I=>this.cacheRefCurrent(`month-${t}`,I),disabledDate:d,weekStartsOn:c,month:e,selected:i,rangeStart:r,rangeEnd:s,rangeInputFocus:y,offsetRangeStart:l,offsetRangeEnd:u,hoverDay:a,weeksRowNum:o,renderDate:p,renderFullDate:g,onDayClick:I=>this.foundation.handleDayClick(I,t),onDayHover:I=>this.foundation.handleDayHover(I,t),onWeeksRowNumChange:I=>this.handleWeeksRowNumChange(I,t),startDateOffset:m,endDateOffset:v,focusRecordsRef:this.props.focusRecordsRef,multiple:w}))}renderTimePicker(e,t){const{type:i,locale:r,format:s,hideDisabledOptions:a,timePickerOpts:o,dateFnsLocale:l}=this.props,{pickerDate:u}=t,c=le(`${Fc}-time`),d=Object.assign(Object.assign({},o),{hideDisabledOptions:a}),h=this.foundation.calcDisabledTime(e);h&&["disabledHours","disabledMinutes","disabledSeconds"].forEach(y=>{h[y]&&(d[y]=h[y])});const{rangeStart:f,rangeEnd:p}=this.state,g=this.foundation.getValidDateFormat();let m,v;i==="dateTimeRange"&&f&&p&&CX(m=Zs(f,g,void 0,l),v=Zs(p,g,void 0,l))&&(e===vt.PANEL_TYPE_RIGHT?f&&(d.startDate=m):p&&(d.endDate=v));const _=r.selectTime;return M.createElement("div",{className:c},M.createElement(rO,Object.assign({ref:y=>this.cacheRefCurrent(`timepicker-${e}`,y),panelHeader:_,format:s||vt.FORMAT_TIME_PICKER,timeStampValue:u,onChange:y=>this.foundation.handleTimeChange(y,e)},d)))}renderYearAndMonth(e,t){const{pickerDate:i}=t,{locale:r,localeCode:s,density:a,yearAndMonthOpts:o,startYear:l,endYear:u}=this.props,c=i.getFullYear(),d=i.getMonth()+1;return M.createElement(xj,{ref:h=>this.cacheRefCurrent(`yam-${e}`,h),locale:r,localeCode:s,currentYear:{left:c,right:0},currentMonth:{left:d,right:0},onSelect:h=>this.foundation.toYearMonth(e,new Date(h.currentYear.left,h.currentMonth.left-1)),onBackToMain:()=>{this.foundation.showDatePanel(e);const h=this.adapter.getCache(`wrap-${e}`);h&&(h.style.height="auto")},density:a,yearAndMonthOpts:o,startYear:l,endYear:u})}renderSwitch(e){const{rangeStart:t,rangeEnd:i,monthLeft:r,monthRight:s}=this.state,{type:a,locale:o,disabledTimePicker:l,density:u,dateFnsLocale:c,insetInput:d}=this.props;if(!a.includes("Time")||d)return null;let h,f;const{FORMAT_SWITCH_DATE:p}=o.localeFormatToken,g=this.foundation.getValidTimeFormat(),m=this.foundation.getValidDateFormat();e===vt.PANEL_TYPE_LEFT?(h=r,f=t?_r(Zs(t,m,void 0,c),p):""):(h=s,f=i?_r(Zs(i,m,void 0,c),p):"");const{isTimePickerOpen:v,showDate:_}=h,y=_?_r(_,p):"",x=_?_r(_,g):"",w=["default"].includes(u),T=le(`${Fc}-switch`),E=le({[`${Fc}-switch-date`]:!0,[`${Fc}-switch-date-active`]:!v}),A=le({[`${Fc}-switch-time`]:!0,[`${Fc}-switch-time-disabled`]:l,[`${Fc}-switch-date-active`]:v}),k=le(`${Fc}-switch-text`);return M.createElement("div",{className:T,ref:P=>this.adapter.setCache(`switch-${e}`,P)},M.createElement("div",{role:"button","aria-label":"Switch to date panel",className:E,onClick:P=>this.foundation.showDatePanel(e)},w&&M.createElement(p1e,{"aria-hidden":!0}),M.createElement("span",{className:k},f||y)),M.createElement("div",{role:"button","aria-label":"Switch to time panel",className:A,onClick:P=>this.foundation.showTimePicker(e,!0)},w&&M.createElement(g1e,{"aria-hidden":!0}),M.createElement("span",{className:k},x)))}render(){const{monthLeft:e,monthRight:t}=this.state,{type:i,insetInput:r,presetPosition:s,renderQuickControls:a,renderDateInput:o}=this.props,l=le({[`${Fc}-month-grid`]:!0}),u=vt.PANEL_TYPE_LEFT,c=vt.PANEL_TYPE_RIGHT;let d=null;i==="date"||i==="dateTime"?d=this.renderPanel(e.pickerDate,u):i==="dateRange"||i==="dateTimeRange"?d=[this.renderPanel(e.pickerDate,u),this.renderPanel(t.pickerDate,c)]:(i==="year"||i==="month")&&(d="year month");const h=this.getYAMOpenType();return M.createElement("div",{style:{display:"flex"}},s==="left"&&a,M.createElement("div",null,o,M.createElement("div",{className:l,"x-type":i,"x-panel-yearandmonth-open-type":h,"x-insetinput":r?"true":"false","x-preset-position":a===null?"null":s,ref:f=>this.cacheRefCurrent("monthGrid",f)},d)),s==="right"&&a)}}iq.propTypes={type:S.oneOf(vt.TYPE_SET),defaultValue:S.array,defaultPickerValue:S.oneOfType([S.string,S.number,S.object,S.array]),multiple:S.bool,max:S.number,weekStartsOn:S.number,disabledDate:S.func,disabledTime:S.func,disabledTimePicker:S.bool,hideDisabledOptions:S.bool,navPrev:S.node,navNext:S.node,onMaxSelect:S.func,timePickerOpts:S.object,isControlledComponent:S.bool,rangeStart:S.oneOfType([S.string]),rangeInputFocus:S.oneOfType([S.bool,S.string]),locale:S.object,localeCode:S.string,format:S.string,renderDate:S.func,renderFullDate:S.func,startDateOffset:S.func,endDateOffset:S.func,autoSwitchDate:S.bool,density:S.string,dateFnsLocale:S.object.isRequired,timeZone:S.oneOfType([S.string,S.number]),syncSwitchMonth:S.bool,onPanelChange:S.func,focusRecordsRef:S.object,triggerRender:S.func,presetPosition:S.oneOf(vt.PRESET_POSITION_SET),renderQuickControls:S.node,renderDateInput:S.node};iq.defaultProps={type:"date",rangeStart:"",multiple:!1,weekStartsOn:SC.WEEK_START_ON,disabledDate:Kk,onMaxSelect:be,locale:{}};const Uu=zn.PREFIX,{Text:mMt}=t_;class rq extends q.PureComponent{render(){const{presets:e,onPresetClick:t,type:i,presetPosition:r,insetInput:s,locale:a}=this.props,o=i==="dateRange"||i==="dateTimeRange",l=r==="top"||r==="bottom",u=i==="month",c=l&&o,d=l&&u,h=le(`${Uu}-quick-control`,{[`${Uu}-quick-control-${i}`]:i,[`${Uu}-quick-control-${r}`]:!0}),f=le({[`${Uu}-quick-control-header`]:!0}),p=le({[`${Uu}-quick-control-${r}-content-wrapper`]:!0}),g=le({[`${Uu}-quick-control-${r}-content`]:!c&&!d,[`${Uu}-quick-control-${r}-range-content`]:c,[`${Uu}-quick-control-${r}-month-content`]:d}),m=le({[`${Uu}-quick-control-${r}-content-item`]:!c&&!d,[`${Uu}-quick-control-${r}-range-content-item`]:c,[`${Uu}-quick-control-${r}-month-content-item`]:d}),v=le({[`${Uu}-quick-control-${r}-content-item-ellipsis`]:!c&&!d,[`${Uu}-quick-control-${r}-range-content-item-ellipsis`]:c,[`${Uu}-quick-control-${r}-month-content-item-ellipsis`]:d});return e.length?M.createElement("div",{className:h,"x-insetinput":s?"true":"false"},!l&&M.createElement("div",{className:f},a.presets),M.createElement("div",{className:p},M.createElement("div",{className:g},e.map((_,y)=>{const x=typeof _=="function"?_():_;return M.createElement(Xl,{size:"small",type:"primary",onClick:w=>t(x,w),key:y},M.createElement("div",{className:m},M.createElement(mMt,{ellipsis:{showTooltip:!0},className:v},x.text)))})))):null}}rq.propTypes={presets:S.array,presetPosition:S.oneOf(vt.PRESET_POSITION_SET),onPresetClick:S.func,type:S.string,insetInput:S.oneOfType([S.bool,S.object]),locale:S.object};rq.defaultProps={presets:[],presetPosition:"bottom",onPresetClick:Xr};function vMt(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{prefixCls:e,locale:t,onCancelClick:i,onConfirmClick:r}=n,s=le(`${e}-footer`);return M.createElement("div",{className:s},M.createElement(Xl,{theme:"borderless",onClick:i},Ce(t,"footer.cancel","")),M.createElement(Xl,{theme:"solid",onClick:r},Ce(t,"footer.confirm","")))}var yMt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};let p0=class extends An{constructor(e){var t;super(e),t=this,this.setTriggerRef=i=>this.triggerElRef.current=i,this.handleSelectedChange=(i,r)=>this.foundation.handleSelectedChange(i,r),this.handleYMSelectedChange=i=>this.foundation.handleYMSelectedChange(i),this.disabledDisposeDate=function(i){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return t.foundation.disabledDisposeDate(i,...s)},this.disabledDisposeTime=function(i){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return t.foundation.disabledDisposeTime(i,...s)},this.handleOpenPanel=()=>this.foundation.openPanel(),this.handleInputChange=function(){return t.foundation.handleInputChange(...arguments)},this.handleInsetInputChange=i=>this.foundation.handleInsetInputChange(i),this.handleInputComplete=i=>this.foundation.handleInputComplete(i),this.handleInputBlur=i=>this.foundation.handleInputBlur(Ce(i,"nativeEvent.target.value"),i),this.handleInputFocus=function(){return t.foundation.handleInputFocus(...arguments)},this.handleInputClear=i=>this.foundation.handleInputClear(i),this.handleTriggerWrapperClick=i=>this.foundation.handleTriggerWrapperClick(i),this.handleSetRangeFocus=i=>this.foundation.handleSetRangeFocus(i),this.handleRangeInputBlur=(i,r)=>this.foundation.handleRangeInputBlur(i,r),this.handleRangeInputClear=i=>this.foundation.handleRangeInputClear(i),this.handleRangeEndTabPress=i=>this.foundation.handleRangeEndTabPress(i),this.isAnotherPanelHasOpened=i=>i==="rangeStart"?this.focusRecordsRef.current.rangeEnd:this.focusRecordsRef.current.rangeStart,this.handleInsetDateFocus=(i,r)=>{const s=Ce(this,"monthGrid.current.foundation");s&&(s.showDatePanel(vt.PANEL_TYPE_LEFT),s.showDatePanel(vt.PANEL_TYPE_RIGHT)),this.handleInputFocus(i,r)},this.handleInsetTimeFocus=()=>{const i=Ce(this,"monthGrid.current.foundation");i&&(i.showTimePicker(vt.PANEL_TYPE_LEFT),i.showTimePicker(vt.PANEL_TYPE_RIGHT))},this.handlePanelVisibleChange=i=>{this.foundation.handlePanelVisibleChange(i)},this.handleConfirm=i=>this.foundation.handleConfirm(),this.handleCancel=i=>this.foundation.handleCancel(),this.renderFooter=(i,r)=>this.adapter.needConfirm()?M.createElement(vMt,Object.assign({},this.props,{locale:i,localeCode:r,onConfirmClick:this.handleConfirm,onCancelClick:this.handleCancel})):null,this.renderPanel=(i,r,s)=>{const{dropdownClassName:a,dropdownStyle:o,density:l,topSlot:u,bottomSlot:c,presetPosition:d,type:h,leftSlot:f,rightSlot:p}=this.props,g=le(zn.PREFIX,{[zn.PANEL_YAM]:this.adapter.typeIsYearOrMonth(),[`${zn.PREFIX}-compact`]:l==="compact"},a);return M.createElement("div",{ref:this.panelRef,className:g,style:o,"x-type":h},M.createElement("div",{className:`${zn.PREFIX}-container`},f&&M.createElement("div",{className:`${zn.PREFIX}-leftSlot`,"x-semi-prop":"leftSlot"},f),M.createElement("div",null,u&&M.createElement("div",{className:`${zn.PREFIX}-topSlot`,"x-semi-prop":"topSlot"},u),d==="top"&&h!=="monthRange"&&this.renderQuickControls(),this.adapter.typeIsYearOrMonth()?this.renderYearMonthPanel(i,r):this.renderMonthGrid(i,r,s),d==="bottom"&&h!=="monthRange"&&this.renderQuickControls(),c&&M.createElement("div",{className:`${zn.PREFIX}-bottomSlot`,"x-semi-prop":"bottomSlot"},c)),p&&M.createElement("div",{className:`${zn.PREFIX}-rightSlot`,"x-semi-prop":"rightSlot"},p)),this.renderFooter(i,r))},this.renderYearMonthPanel=(i,r)=>{const{density:s,presetPosition:a,yearAndMonthOpts:o,type:l,startYear:u,endYear:c}=this.props,d=this.state.value[0],h={left:0,right:0},f={left:0,right:0};if($le(d)&&(h.left=d.getFullYear(),f.left=d.getMonth()+1),l==="monthRange"){const p=this.state.value[1];$le(p)&&(h.right=p.getFullYear(),f.right=p.getMonth()+1)}return M.createElement(xj,{locale:i,localeCode:r,disabledDate:this.disabledDisposeDate,noBackBtn:!0,monthCycled:!0,onSelect:this.handleYMSelectedChange,currentYear:h,currentMonth:f,density:s,presetPosition:a,renderQuickControls:this.renderQuickControls(),renderDateInput:this.renderDateInput(),type:l,yearAndMonthOpts:o,startYear:u,endYear:c})},this.wrapPopover=i=>{const{panelShow:r}=this.state,{direction:s}=this.context,a=s==="rtl"?"bottomRight":"bottomLeft",{motion:o,zIndex:l,position:u=a,getPopupContainer:c,locale:d,localeCode:h,dateFnsLocale:f,stopPropagation:p,autoAdjustOverflow:g,spacing:m,dropdownMargin:v}=this.props;return M.createElement(Ko,{getPopupContainer:c,autoAdjustOverflow:g,zIndex:l,motion:o,margin:v,content:this.renderPanel(d,h,f),trigger:"custom",position:u,visible:r,stopPropagation:p,spacing:m,onVisibleChange:this.handlePanelVisibleChange},i)},this.state={panelShow:e.open||e.defaultOpen,isRange:!1,inputValue:null,value:[],cachedSelectedValue:[],prevTimeZone:null,rangeInputFocus:void 0,autofocus:e.autoFocus||this.isRangeType(e.type,e.triggerRender)&&(e.open||e.defaultOpen),insetInputValue:null,triggerDisabled:void 0},this.triggerElRef=M.createRef(),this.panelRef=M.createRef(),this.monthGrid=M.createRef(),this.inputRef=M.createRef(),this.rangeInputStartRef=M.createRef(),this.rangeInputEndRef=M.createRef(),this.focusRecordsRef=M.createRef(),this.focusRecordsRef.current={rangeStart:!1,rangeEnd:!1},this.foundation=new Gkt(this.adapter)}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{togglePanel:(t,i)=>{this.setState({panelShow:t},i),t||(this.focusRecordsRef.current.rangeEnd=!1,this.focusRecordsRef.current.rangeStart=!1)},registerClickOutSide:()=>{this.clickOutSideHandler&&(this.adapter.unregisterClickOutSide(),this.clickOutSideHandler=null),this.clickOutSideHandler=t=>{const i=this.triggerElRef&&this.triggerElRef.current,r=this.panelRef&&this.panelRef.current,s=t.target,a=t.composedPath&&t.composedPath()||[s];!(i&&i.contains(s))&&!(r&&r.contains(s))&&!(a.includes(i)||a.includes(r))&&(this.props.onClickOutSide(t),this.adapter.needConfirm()||this.foundation.closePanel())},document.addEventListener("mousedown",this.clickOutSideHandler)},unregisterClickOutSide:()=>{document.removeEventListener("mousedown",this.clickOutSideHandler)},notifyBlur:function(){return e.props.onBlur(...arguments)},notifyFocus:function(){return e.props.onFocus(...arguments)},notifyClear:function(){return e.props.onClear(...arguments)},notifyChange:function(){return e.props.onChange(...arguments)},notifyCancel:function(){return e.props.onCancel(...arguments)},notifyConfirm:function(){return e.props.onConfirm(...arguments)},notifyOpenChange:function(){return e.props.onOpenChange(...arguments)},notifyPresetsClick:function(){return e.props.onPresetClick(...arguments)},updateValue:t=>this.setState({value:t}),updatePrevTimezone:t=>this.setState({prevTimeZone:t}),updateCachedSelectedValue:t=>{let i=t;t&&!Array.isArray(t)&&(i=[...t]),this.setState({cachedSelectedValue:i})},updateInputValue:t=>{this.setState({inputValue:t})},updateInsetInputValue:t=>{const{insetInput:i}=this.props;i&&!Kn(t,this.state.insetInputValue)&&this.setState({insetInputValue:t})},needConfirm:()=>["dateTime","dateTimeRange"].includes(this.props.type)&&this.props.needConfirm===!0,typeIsYearOrMonth:()=>["month","year","monthRange"].includes(this.props.type),setRangeInputFocus:t=>{const{preventScroll:i}=this.props;switch(t!==this.state.rangeInputFocus&&this.setState({rangeInputFocus:t}),t){case"rangeStart":const r=Ce(this,"rangeInputStartRef.current");r&&r.focus({preventScroll:i}),setTimeout(()=>{this.focusRecordsRef.current.rangeStart=!0},0);break;case"rangeEnd":const s=Ce(this,"rangeInputEndRef.current");s&&s.focus({preventScroll:i}),setTimeout(()=>{this.focusRecordsRef.current.rangeEnd=!0},0);break;default:return}},couldPanelClosed:()=>this.focusRecordsRef.current.rangeStart&&this.focusRecordsRef.current.rangeEnd,isEventTarget:t=>t&&t.target===t.currentTarget,setInsetInputFocus:()=>{const{preventScroll:t}=this.props,{rangeInputFocus:i}=this.state;switch(i){case"rangeEnd":if(document.activeElement!==this.rangeInputEndRef.current){const r=Ce(this,"rangeInputEndRef.current");r&&r.focus({preventScroll:t})}break;case"rangeStart":default:if(document.activeElement!==this.rangeInputStartRef.current){const r=Ce(this,"rangeInputStartRef.current");r&&r.focus({preventScroll:t})}break}},setInputFocus:()=>{const{preventScroll:t}=this.props,i=Ce(this,"inputRef.current");i&&i.focus({preventScroll:t})},setInputBlur:()=>{const t=Ce(this,"inputRef.current");t&&t.blur()},setRangeInputBlur:()=>{const{rangeInputFocus:t}=this.state;if(t==="rangeStart"){const i=Ce(this,"rangeInputStartRef.current");i&&i.blur()}else if(t==="rangeEnd"){const i=Ce(this,"rangeInputEndRef.current");i&&i.blur()}this.adapter.setRangeInputFocus(!1)},setTriggerDisabled:t=>{this.setState({triggerDisabled:t})}})}isRangeType(e,t){return/range/i.test(e)&&!Mn(t)}componentDidUpdate(e){Kn(e.value,this.props.value)?this.props.timeZone!==e.timeZone&&this.foundation.initFromProps({value:this.state.value,timeZone:this.props.timeZone,prevTimeZone:e.timeZone}):this.foundation.initFromProps(Object.assign({},this.props)),e.open!==this.props.open&&(this.foundation.initPanelOpenStatus(),this.props.open||this.foundation.clearRangeInputFocus())}componentDidMount(){this._mounted=!0,super.componentDidMount()}componentWillUnmount(){this._mounted=!1,super.componentWillUnmount()}open(){this.foundation.open()}close(){this.foundation.close()}focus(e){this.foundation.focus(e)}blur(){this.foundation.blur()}renderMonthGrid(e,t,i){const{type:r,multiple:s,max:a,weekStartsOn:o,timePickerOpts:l,defaultPickerValue:u,format:c,hideDisabledOptions:d,disabledTimePicker:h,renderDate:f,renderFullDate:p,startDateOffset:g,endDateOffset:m,autoSwitchDate:v,density:_,syncSwitchMonth:y,onPanelChange:x,timeZone:w,triggerRender:T,insetInput:E,presetPosition:A,yearAndMonthOpts:k,startYear:P,endYear:I}=this.props,{cachedSelectedValue:D,rangeInputFocus:L}=this.state,B=D;return M.createElement(iq,{ref:this.monthGrid,locale:e,localeCode:t,dateFnsLocale:i,weekStartsOn:o,type:r,multiple:s,max:a,format:c,disabledDate:this.disabledDisposeDate,hideDisabledOptions:d,disabledTimePicker:h,disabledTime:this.disabledDisposeTime,defaultValue:B,defaultPickerValue:u,timePickerOpts:l,isControlledComponent:!this.adapter.needConfirm()&&this.isControlled("value"),onChange:this.handleSelectedChange,renderDate:f,renderFullDate:p,startDateOffset:g,endDateOffset:m,autoSwitchDate:v,density:_,rangeInputFocus:L,setRangeInputFocus:this.handleSetRangeFocus,isAnotherPanelHasOpened:this.isAnotherPanelHasOpened,syncSwitchMonth:y,onPanelChange:x,timeZone:w,focusRecordsRef:this.focusRecordsRef,triggerRender:T,insetInput:E,presetPosition:A,renderQuickControls:this.renderQuickControls(),renderDateInput:this.renderDateInput(),yearAndMonthOpts:k,startYear:P,endYear:I})}renderQuickControls(){const{presets:e,type:t,presetPosition:i,insetInput:r,locale:s}=this.props;return M.createElement(rq,{type:t,presets:e,insetInput:r,presetPosition:i,onPresetClick:(a,o)=>this.foundation.handlePresetClick(a,o),locale:s})}renderDateInput(){const{insetInput:e,dateFnsLocale:t,density:i,type:r,format:s,rangeSeparator:a,defaultPickerValue:o}=this.props,{insetInputValue:l,value:u}=this.state,c={dateFnsLocale:t,format:s,insetInputValue:l,rangeSeparator:a,type:r,value:u,handleInsetDateFocus:this.handleInsetDateFocus,handleInsetTimeFocus:this.handleInsetTimeFocus,onInsetInputChange:this.handleInsetInputChange,rangeInputStartRef:this.rangeInputStartRef,rangeInputEndRef:this.rangeInputEndRef,density:i,defaultPickerValue:o};return e?M.createElement(uF,Object.assign({},c,{insetInput:e})):null}renderInner(e){const{clearIcon:t,type:i,format:r,multiple:s,disabled:a,showClear:o,insetLabel:l,insetLabelId:u,placeholder:c,validateStatus:d,inputStyle:h,prefix:f,locale:p,dateFnsLocale:g,triggerRender:m,size:v,inputReadOnly:_,rangeSeparator:y,insetInput:x,defaultPickerValue:w,borderless:T}=this.props,{value:E,inputValue:A,rangeInputFocus:k,triggerDisabled:P}=this.state,I=this.isRangeType(i,m),D=a||x&&P,L=le(`${zn.PREFIX}-input`,{[`${zn.PREFIX}-range-input`]:I,[`${zn.PREFIX}-range-input-${v}`]:I&&v,[`${zn.PREFIX}-range-input-active`]:I&&k&&!D,[`${zn.PREFIX}-range-input-disabled`]:I&&D,[`${zn.PREFIX}-range-input-${d}`]:I&&d,[`${zn.PREFIX}-borderless`]:T}),B=c||p.placeholder[i],F=Object.assign(Object.assign({},e),{showClearIgnoreDisabled:!!x,placeholder:B,clearIcon:t,disabled:D,inputValue:A,value:E,defaultPickerValue:w,onChange:this.handleInputChange,onEnterPress:this.handleInputComplete,block:!0,inputStyle:h,showClear:o,insetLabel:l,insetLabelId:u,type:i,format:r,multiple:s,validateStatus:d,inputReadOnly:_||!!x,onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,onClear:this.handleInputClear,prefix:f,size:v,autofocus:this.state.autofocus,dateFnsLocale:g,rangeInputFocus:k,rangeSeparator:y,onRangeBlur:this.handleRangeInputBlur,onRangeClear:this.handleRangeInputClear,onRangeEndTabPress:this.handleRangeEndTabPress,rangeInputStartRef:x?null:this.rangeInputStartRef,rangeInputEndRef:x?null:this.rangeInputEndRef,inputRef:this.inputRef});return M.createElement("div",{role:"combobox","aria-label":Array.isArray(E)&&E.length?"Change date":"Choose date","aria-disabled":a,onClick:this.handleTriggerWrapperClick,className:L},typeof m=="function"?M.createElement(z0,Object.assign({},F,{triggerRender:m,componentName:"DatePicker",componentProps:Object.assign({},this.props)})):M.createElement(uF,Object.assign({},F)))}render(){const e=this.props,{style:t,className:i,prefixCls:r,type:s}=e,a=yMt(e,["style","className","prefixCls","type"]),o=Object.assign({style:t,className:le(i,{[r]:!0}),ref:this.setTriggerRef,"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"]},this.getDataAttr(a)),l=[];s.toLowerCase().includes("range")||l.push("borderless");const u=this.renderInner(Eu(this.props,l)),c=this.wrapPopover(u);return M.createElement("div",Object.assign({},o),c)}};p0.contextType=Ql;p0.propTypes={"aria-describedby":S.string,"aria-errormessage":S.string,"aria-invalid":S.bool,"aria-labelledby":S.string,"aria-required":S.bool,borderless:S.bool,type:S.oneOf(vt.TYPE_SET),size:S.oneOf(vt.SIZE_SET),clearIcon:S.node,density:S.oneOf(vt.DENSITY_SET),defaultValue:S.oneOfType([S.string,S.number,S.object,S.array]),value:S.oneOfType([S.string,S.number,S.object,S.array]),defaultPickerValue:S.oneOfType([S.string,S.number,S.object,S.array]),disabledTime:S.func,disabledTimePicker:S.bool,hideDisabledOptions:S.bool,format:S.string,disabled:S.bool,multiple:S.bool,max:S.number,placeholder:S.oneOfType([S.string,S.array]),presets:S.array,presetPosition:S.oneOf(vt.PRESET_POSITION_SET),onChange:S.func,onChangeWithDateFirst:S.bool,weekStartsOn:S.number,disabledDate:S.func,timePickerOpts:S.object,showClear:S.bool,onOpenChange:S.func,open:S.bool,defaultOpen:S.bool,motion:S.oneOfType([S.bool,S.func,S.object]),className:S.string,prefixCls:S.string,prefix:S.node,insetLabel:S.node,insetLabelId:S.string,zIndex:S.number,position:S.oneOf(rj.POSITION_SET),getPopupContainer:S.func,onCancel:S.func,onConfirm:S.func,needConfirm:S.bool,inputStyle:S.object,timeZone:S.oneOfType([S.string,S.number]),triggerRender:S.func,stopPropagation:S.oneOfType([S.bool,S.string]),autoAdjustOverflow:S.bool,onBlur:S.func,onFocus:S.func,onClear:S.func,style:S.object,autoFocus:S.bool,inputReadOnly:S.bool,validateStatus:S.oneOf(vt.STATUS),renderDate:S.func,renderFullDate:S.func,spacing:S.oneOfType([S.number,S.object]),startDateOffset:S.func,endDateOffset:S.func,autoSwitchDate:S.bool,dropdownClassName:S.string,dropdownStyle:S.object,dropdownMargin:S.oneOfType([S.number,S.object]),topSlot:S.node,bottomSlot:S.node,dateFnsLocale:S.object,syncSwitchMonth:S.bool,onPanelChange:S.func,rangeSeparator:S.string,preventScroll:S.bool,yearAndMonthOpts:S.object,onClickOutSide:S.func};p0.__SemiComponentName__="DatePicker";p0.defaultProps=Du(p0.__SemiComponentName__,{onChangeWithDateFirst:!0,borderless:!1,autoAdjustOverflow:!0,stopPropagation:!0,motion:!0,prefixCls:zn.PREFIX,presetPosition:"bottom",zIndex:mc.DEFAULT_Z_INDEX,type:"date",size:"default",density:"default",multiple:!1,defaultOpen:!1,disabledHours:be,disabledMinutes:be,disabledSeconds:be,hideDisabledOptions:!1,onBlur:be,onFocus:be,onClear:be,onCancel:be,onConfirm:be,onChange:be,onOpenChange:be,onPanelChange:be,onPresetClick:be,weekStartsOn:SC.WEEK_START_ON,disabledDate:Kk,disabledTime:Kk,inputReadOnly:!1,spacing:SC.SPACING,autoSwitchDate:!0,syncSwitchMonth:!1,rangeSeparator:vt.DEFAULT_SEPARATOR_RANGE,insetInput:!1,onClickOutSide:be});const _Mt=DTe(M.forwardRef((n,e)=>{const t=Object.assign({},n),{type:i,format:r,rangeSeparator:s}=t;return typeof r=="string"&&r&&(/[Hhms]+/.test(r)||(i==="dateTime"?t.type="date":i==="dateTimeRange"&&(t.type="dateRange"))),s&&typeof s=="string"&&(t.rangeSeparator=` ${s.trim()} `),t.insetInput&&(t.position||(t.position=vt.POSITION_INLINE_INPUT),t.position.includes("Over")&&!t.spacing&&(t.spacing=SC.SPACING_INSET_INPUT)),M.createElement(Ql.Consumer,null,a=>{let{timeZone:o}=a;return M.createElement(Qr,{componentName:"DatePicker"},(l,u,c)=>M.createElement(p0,Object.assign({timeZone:o,localeCode:u,locale:l,dateFnsLocale:c},t,{ref:e})))})}),p0),bMt={PREFIX:`${nt}`};var SMt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const j_=bMt.PREFIX,Kg=n=>{const{layout:e="horizontal",dashed:t,align:i="center",className:r,margin:s,style:a,children:o}=n,l=SMt(n,["layout","dashed","align","className","margin","style","children"]),u=le(`${j_}-divider`,r,{[`${j_}-divider-horizontal`]:e==="horizontal",[`${j_}-divider-vertical`]:e==="vertical",[`${j_}-divider-dashed`]:!!t,[`${j_}-divider-with-text`]:o&&e==="horizontal",[`${j_}-divider-with-text-${i}`]:o&&e==="horizontal"});let c={};return s!==void 0&&(e==="vertical"?c={marginLeft:s,marginRight:s}:e==="horizontal"&&(c={marginTop:s,marginBottom:s})),M.createElement("div",Object.assign({},l,{className:u,style:Object.assign(Object.assign({},c),a)}),o&&e==="horizontal"?typeof o=="string"?M.createElement("span",{className:`${j_}-divider_inner-text`,"x-semi-prop":"children"},o):o:null)},xMt={PREFIX:`${nt}-empty`};var wMt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const z_=xMt.PREFIX;class F2 extends An{constructor(e){super(e),this.observe=t=>{for(const i of t)i.type==="attributes"&&i.attributeName==="theme-mode"&&this.updateMode()},this.updateMode=()=>{const t=this.body.getAttribute("theme-mode");t!==this.state.mode&&this.setState({mode:t})},this.state={mode:null}}componentDidMount(){if(this.props.darkModeImage){this.body=window.document.body,this.updateMode();const e={attributes:!0,childList:!1,subtree:!1};this.observer=new MutationObserver(this.observe),this.observer.observe(this.body,e)}}componentWillUnmount(){this.observer&&this.observer.disconnect()}render(){const e=this.props,{className:t,image:i,description:r,style:s,title:a,imageStyle:o,children:l,layout:u,darkModeImage:c}=e,d=wMt(e,["className","image","description","style","title","imageStyle","children","layout","darkModeImage"]),h=typeof r=="string"?r:"empty",f=this.state.mode==="dark"&&c?c:i;let p=null;typeof f=="string"?p=M.createElement("img",{alt:h,src:f}):f&&"id"in f?p=M.createElement("svg",{"aria-hidden":"true"},M.createElement("use",{xlinkHref:`#${f.id}`})):p=f;const g=le(t,z_,{[`${z_}-${u}`]:u}),m=p?{heading:4}:{heading:6,style:{fontWeight:400}};return M.createElement("div",Object.assign({className:g,style:s},this.getDataAttr(d)),M.createElement("div",{className:`${z_}-image`,style:o,"x-semi-prop":"image,darkModeImage"},p),M.createElement("div",{className:`${z_}-content`},a?M.createElement(t_.Title,Object.assign({},m,{className:`${z_}-title`,"x-semi-prop":"title"}),a):null,r?M.createElement("div",{className:`${z_}-description`,"x-semi-prop":"description"},r):null,l?M.createElement("div",{className:`${z_}-footer`,"x-semi-prop":"children"},l):null))}}F2.defaultProps={layout:"vertical"};const gr={DIALOG:`${nt}-modal`},Jle={SIZE:["small","medium","large","full-width"],directions:["ltr","rtl"]};function CMt(n){return n!==null&&typeof n=="object"}function sO(n){return CMt(n)&&typeof n.then=="function"}class TMt extends jn{constructor(e){super(Object.assign({},e)),this.toggleDisplayNone=(t,i)=>{this._adapter.toggleDisplayNone(t,i)}}destroy(){this.afterHide()}handleCancel(e){var t;const i=this._adapter.notifyCancel(e);sO(i)&&(this._adapter.setState({onCancelReturnPromiseStatus:"pending"}),(t=i==null?void 0:i.then(()=>{this._adapter.setState({onCancelReturnPromiseStatus:"fulfilled"})}))===null||t===void 0||t.catch(r=>{throw this._adapter.setState({onCancelReturnPromiseStatus:"rejected"}),r}))}handleOk(e){var t;const i=this._adapter.notifyOk(e);sO(i)&&(this._adapter.setState({onOKReturnPromiseStatus:"pending"}),(t=i==null?void 0:i.then(()=>{this._adapter.setState({onOKReturnPromiseStatus:"fulfilled"})}))===null||t===void 0||t.catch(r=>{throw this._adapter.setState({onOKReturnPromiseStatus:"rejected"}),r}))}beforeShow(){this._adapter.disabledBodyScroll()}afterHide(){this._adapter.enabledBodyScroll(),this._adapter.notifyClose()}enabledBodyScroll(){this._adapter.enabledBodyScroll()}}class sq extends jn{constructor(e){super(Object.assign(Object.assign({},sq.defaultAdapter),e)),this.handleKeyDown=t=>{const{closeOnEsc:i}=this.getProps();if(i&&t.keyCode===Ho.ESC){t.stopPropagation(),this.close(t);return}}}destroy(){this.handleKeyDownEventListenerUnmount(),this.modalDialogBlur(),this.prevFocusElementReFocus()}handleDialogMouseDown(){this._adapter.notifyDialogMouseDown()}handleMaskMouseUp(){this._adapter.notifyDialogMouseUp()}handleKeyDownEventListenerMount(){this._adapter.addKeyDownEventListener()}handleKeyDownEventListenerUnmount(){this._adapter.removeKeyDownEventListener()}getMouseState(){this._adapter.getMouseState()}handleMaskClick(e){const{dialogMouseDown:t}=this.getStates();e.target===e.currentTarget&&!t&&this.close(e)}close(e){this._adapter.notifyClose(e)}modalDialogFocus(){this._adapter.modalDialogFocus()}modalDialogBlur(){this._adapter.modalDialogBlur()}prevFocusElementReFocus(){this._adapter.prevFocusElementReFocus()}}var EMt=N1e,AMt=QN,kMt=mX,OMt=AMt(function(n,e){return kMt(n)?EMt(n,e):[]}),PMt=OMt;const MMt=yn(PMt);class uy{constructor(e,t){var i;this.addFocusRedirectListener=r=>(this.focusRedirectListenerList.push(r),()=>this.removeFocusRedirectListener(r)),this.removeFocusRedirectListener=r=>{this.focusRedirectListenerList=MMt(this.focusRedirectListenerList,r)},this.destroy=()=>{var r;(r=this.container)===null||r===void 0||r.removeEventListener("keydown",this.onKeyPress)},this.shouldFocusRedirect=r=>{if(!this.enable)return!1;for(const s of this.focusRedirectListenerList)if(!s(r))return!1;return!0},this.focusElement=(r,s)=>{const{preventScroll:a}=this.options;r==null||r.focus({preventScroll:a}),s.preventDefault()},this.onKeyPress=r=>{if(r&&r.key==="Tab"){const s=uy.getFocusableElements(this.container);s.length&&(r.shiftKey?this.handleContainerShiftTabKeyDown(s,r):this.handleContainerTabKeyDown(s,r))}},this.handleContainerTabKeyDown=(r,s)=>{const a=uy.getActiveElement(),o=r[r.length-1]===a,l=r[0];o&&this.shouldFocusRedirect(l)&&this.focusElement(l,s)},this.handleContainerShiftTabKeyDown=(r,s)=>{const a=uy.getActiveElement(),o=r[0]===a,l=r[r.length-1];o&&this.shouldFocusRedirect(l)&&this.focusElement(l,s)},Object.freeze(t),this.container=e,this.options=t,this.enable=(i=t==null?void 0:t.enable)!==null&&i!==void 0?i:!0,this.focusRedirectListenerList=t!=null&&t.onFocusRedirectListener?Array.isArray(t.onFocusRedirectListener)?[...t.onFocusRedirectListener]:[t.onFocusRedirectListener]:[],this.container.addEventListener("keydown",this.onKeyPress)}get enable(){return this._enable}set enable(e){this._enable=e}static getFocusableElements(e){if(!sr(e))return[];const i=["input:not([disabled]):not([tabindex='-1'])","textarea:not([disabled]):not([tabindex='-1'])","button:not([disabled]):not([tabindex='-1'])","a[href]:not([tabindex='-1'])","select:not([disabled]):not([tabindex='-1'])","area[href]:not([tabindex='-1'])","iframe:not([tabindex='-1'])","object:not([tabindex='-1'])","*[tabindex]:not([tabindex='-1'])","*[contenteditable]:not([tabindex='-1'])"].join(",");return Array.from(e.querySelectorAll(i))}static getActiveElement(){return document?document.activeElement:null}}var e4=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};let IMt=0;class wj extends An{constructor(e){super(e),this.onKeyDown=t=>{this.foundation.handleKeyDown(t)},this.onDialogMouseDown=()=>{this.foundation.handleDialogMouseDown()},this.onMaskMouseUp=()=>{this.foundation.handleMaskMouseUp()},this.onMaskClick=t=>{this.foundation.handleMaskClick(t)},this.close=t=>{this.foundation.close(t)},this.getMaskElement=()=>{const t=e4(this.props,[]),{mask:i,maskClassName:r}=t;if(i){const s=le(`${gr.DIALOG}-mask`,{});return M.createElement("div",Object.assign({key:"mask"},this.props.maskExtraProps,{className:le(s,r),style:t.maskStyle}))}return null},this.renderCloseBtn=()=>{const{closable:t,closeIcon:i}=this.props;let r;if(t){const s=i||M.createElement(ij,{"x-semi-prop":"closeIcon"});r=M.createElement(ff,{"aria-label":"close",className:`${gr.DIALOG}-close`,key:"close-btn",onClick:this.close,type:"tertiary",icon:s,theme:"borderless",size:"small"})}return r},this.renderIcon=()=>{const{icon:t}=this.props;return t?M.createElement("span",{className:`${gr.DIALOG}-icon-wrapper`,"x-semi-prop":"icon"},t):null},this.renderHeader=()=>{if("header"in this.props)return this.props.header;const{title:t}=this.props,i=this.renderCloseBtn(),r=this.renderIcon();return t==null?null:M.createElement("div",{className:`${gr.DIALOG}-header`},r,M.createElement(t_.Title,{heading:5,className:`${gr.DIALOG}-title`,id:`${gr.DIALOG}-title`,"x-semi-prop":"title"},t),i)},this.renderBody=()=>{const{bodyStyle:t,children:i,title:r}=this.props,s=le(`${gr.DIALOG}-body`,{[`${gr.DIALOG}-withIcon`]:this.props.icon}),a=this.renderCloseBtn(),o=this.renderIcon();return r!=null||"header"in this.props?M.createElement("div",{className:s,id:`${gr.DIALOG}-body`,style:t,"x-semi-prop":"children"},i):M.createElement("div",{className:`${gr.DIALOG}-body-wrapper`},o,M.createElement("div",{className:s,style:t,"x-semi-prop":"children"},i),a)},this.getDialogElement=()=>{const t=e4(this.props,[]),i={},r=le(`${gr.DIALOG}`,{[`${gr.DIALOG}-centered`]:t.centered,[`${gr.DIALOG}-${t.size}`]:t.size});t.width&&(i.width=t.width),t.height&&(i.height=t.height),t.isFullScreen&&(i.width="100%",i.height="100%",i.margin="unset");const s=this.renderBody(),a=this.renderHeader(),o=t.footer?M.createElement("div",{className:`${gr.DIALOG}-footer`,"x-semi-prop":"footer"},t.footer):null,l=M.createElement("div",{role:"dialog",ref:this.modalDialogRef,"aria-modal":"true","aria-labelledby":`${gr.DIALOG}-title`,"aria-describedby":`${gr.DIALOG}-body`,onAnimationEnd:t.onAnimationEnd,className:le([`${gr.DIALOG}-content`,t.contentClassName,{[`${gr.DIALOG}-content-fullScreen`]:t.isFullScreen,[`${gr.DIALOG}-content-height-set`]:t.height||Ce(t.style,"height")}])},a,s,o);return M.createElement("div",{key:"dialog-element",className:r,onMouseDown:this.onDialogMouseDown,style:Object.assign(Object.assign({},t.style),i),id:this.dialogId},t!=null&&t.modalRender?t==null?void 0:t.modalRender(l):l)},this.state={dialogMouseDown:!1,prevFocusElement:uy.getActiveElement()},this.foundation=new sq(this.adapter),this.dialogId=`dialog-${IMt++}`,this.modalDialogRef=M.createRef()}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyClose:e=>{this.props.onClose(e)},notifyDialogMouseDown:()=>{this.setState({dialogMouseDown:!0})},notifyDialogMouseUp:()=>{this.state.dialogMouseDown&&(this.timeoutId=setTimeout(()=>{this.setState({dialogMouseDown:!1})},0))},addKeyDownEventListener:()=>{this.props.closeOnEsc&&document.addEventListener("keydown",this.foundation.handleKeyDown)},removeKeyDownEventListener:()=>{this.props.closeOnEsc&&document.removeEventListener("keydown",this.foundation.handleKeyDown)},getMouseState:()=>this.state.dialogMouseDown,modalDialogFocus:()=>{var e,t,i;const{preventScroll:r}=this.props;let s;if(this.modalDialogRef){const a=uy.getActiveElement();s=this.modalDialogRef.current.contains(a),(e=this.focusTrapHandle)===null||e===void 0||e.destroy(),this.focusTrapHandle=new uy(this.modalDialogRef.current,{preventScroll:r})}s||(i=(t=this.modalDialogRef)===null||t===void 0?void 0:t.current)===null||i===void 0||i.focus({preventScroll:r})},modalDialogBlur:()=>{var e,t;(e=this.modalDialogRef)===null||e===void 0||e.current.blur(),(t=this.focusTrapHandle)===null||t===void 0||t.destroy()},prevFocusElementReFocus:()=>{const{prevFocusElement:e}=this.state,{preventScroll:t}=this.props,i=Ce(e,"focus");Mn(i)&&e.focus({preventScroll:t})}})}componentDidMount(){var e;this.foundation.handleKeyDownEventListenerMount(),this.foundation.modalDialogFocus();const t=uy.getFocusableElements(this.modalDialogRef.current);this.modalDialogRef.current.contains(document.activeElement)||(e=t[0])===null||e===void 0||e.focus()}componentWillUnmount(){clearTimeout(this.timeoutId),this.foundation.destroy()}render(){var e;const t=this.props,{maskClosable:i,className:r,getPopupContainer:s,maskFixed:a,getContainerContext:o}=t,l=e4(t,["maskClosable","className","getPopupContainer","maskFixed","getContainerContext"]),{direction:u}=this.context,c=le(r,{[`${gr.DIALOG}-popup`]:s&&s()!==((e=globalThis==null?void 0:globalThis.document)===null||e===void 0?void 0:e.body)&&!a,[`${gr.DIALOG}-fixed`]:a,[`${gr.DIALOG}-rtl`]:u==="rtl"}),d=o(),h=this.getDataAttr(l),f=M.createElement("div",Object.assign({className:c},h),this.getMaskElement(),M.createElement("div",Object.assign({role:"none",className:le({[`${gr.DIALOG}-wrap`]:!0,[`${gr.DIALOG}-wrap-center`]:this.props.centered}),onClick:i?this.onMaskClick:null,onMouseUp:i?this.onMaskMouseUp:null},this.props.contentExtraProps),this.getDialogElement()));return d&&d.Provider?M.createElement(d.Provider,{value:d.value},f):f}}wj.contextType=Ql;wj.propTypes={close:S.func,getContainerContext:S.func,contentClassName:S.string,maskClassName:S.string,onAnimationEnd:S.func,preventScroll:S.bool};wj.defaultProps={close:be,getContainerContext:be,contentClassName:"",maskClassName:""};var RMt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const fEe=n=>{const[e,t]=q.useState(!0),[i,r]=q.useState(),[s,a]=q.useState(),{direction:o}=n,{title:l,content:u,icon:c,type:d,onCancel:h,onOk:f,className:p}=n,g=RMt(n,["title","content","icon","type","onCancel","onOk","className"]),m=q.useCallback(A=>{const k=f&&f(A);k&&k.then?(r(!0),k.then(function(){t(!1),r(!1)},P=>{r(!1)})):t(!1)},[f]),v=q.useCallback(A=>{const k=h&&h(A);k&&k.then?(a(!0),k.then(function(){t(!1),a(!1)},P=>{a(!1)})):t(!1)},[h]),_=`${gr.DIALOG}-confirm`,y=le(p,_,{[`${_}-rtl`]:o==="rtl"}),x=le(`${gr.DIALOG}-${d}`),w=Su(c)?M.cloneElement(c,{className:`${_}-icon ${x}-icon`,size:"extra-large"}):c,T=l==null?null:M.createElement("span",{className:`${_}-title-text`},l),E=le(`${_}-content`,{[`${_}-content-withIcon`]:n.icon});return M.createElement(id,Object.assign({className:y,title:T,confirmLoading:i,cancelLoading:s,onOk:m,onCancel:v,icon:w,visible:e},g),M.createElement("div",{className:E,"x-semi-prop":"content"},u))};function aM(n){const e=document.createElement("div");document.body.appendChild(e);let t=Object.assign({},n);const i=()=>{nA.unmountComponentAtNode(e)&&e.parentNode&&e.parentNode.removeChild(e);for(let l=0;l<Tb.length;l++)if(Tb[l]===s){Tb.splice(l,1);break}};function r(o){const{afterClose:l}=o;nA.render(M.createElement(fEe,Object.assign({},o,{afterClose:function(){l==null||l(...arguments),i()},motion:n.motion})),e)}function s(){t=Object.assign(Object.assign({},t),{visible:!1}),r(t)}function a(o){t=Object.assign(Object.assign({},t),o),r(t)}return r(t),Tb.push(s),{destroy:s,update:a}}function pEe(n){return Object.assign({type:"info",icon:M.createElement(dxt,null)},n)}function gEe(n){return Object.assign({type:"success",icon:M.createElement(wxt,null)},n)}function mEe(n){return Object.assign({type:"warning",icon:M.createElement(h1e,null)},n)}function vEe(n){return Object.assign({type:"error",icon:M.createElement(JL,null),okButtonProps:Object.assign({type:"danger"},n.okButtonProps)},Co(n,["okButtonProps"]))}function yEe(n){return Object.assign({type:"confirm",icon:M.createElement(uxt,null)},n)}var DMt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const LMt=(n,e)=>{var{afterClose:t,config:i}=n;DMt(n,["afterClose","config"]);const[r,s]=M.useState(i);M.useImperativeHandle(e,()=>({destroy:()=>{s(o=>Object.assign(Object.assign({},o),{visible:!1}))},update:o=>{s(l=>Object.assign(Object.assign({},l),o))}}));const a=()=>{var o;(o=i==null?void 0:i.afterClose)===null||o===void 0||o.call(i),t()};return M.createElement(fEe,Object.assign({},r,{afterClose:a}))},FMt=M.forwardRef(LMt);let eue=0;function BMt(){const[n,e]=M.useState([]);function t(i){return e(r=>[...r,i]),()=>{e(r=>r.filter(s=>s!==i))}}return[n,t]}function $Mt(){const[n,e]=BMt();function t(i){return function(s){eue+=1;const a=M.createRef();let o;const l=M.createElement(FMt,{key:`semi-modal-${eue}`,config:i(s),ref:a,afterClose:()=>{o()}});return o=e(l),{destroy:()=>{a.current&&a.current.destroy()},update:u=>{a.current&&a.current.update(u)}}}}return[{info:t(pEe),success:t(gEe),error:t(vEe),warning:t(mEe),confirm:t(yEe)},M.createElement(M.Fragment,null,n)]}var NMt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};let Tb=[];class id extends An{constructor(e){super(e),this.bodyOverflow=null,this.handleCancel=t=>{this.foundation.handleCancel(t)},this.handleOk=t=>{this.foundation.handleOk(t)},this.updateState=()=>{const{visible:t}=this.props;this.foundation.toggleDisplayNone(!t)},this.renderFooter=()=>{const{okText:t,okType:i,cancelText:r,confirmLoading:s,cancelLoading:a,hasCancel:o,footerFill:l}=this.props,u=c=>{var d;return o?M.createElement(Xl,Object.assign({"aria-label":"cancel",onClick:this.handleCancel,loading:a===void 0?this.state.onCancelReturnPromiseStatus==="pending":a,type:"tertiary",block:l,autoFocus:!0},this.props.cancelButtonProps,{style:Object.assign(Object.assign({},l?{marginLeft:"unset"}:{}),(d=this.props.cancelButtonProps)===null||d===void 0?void 0:d.style),"x-semi-children-alias":"cancelText"}),r||c.cancel):null};return M.createElement(Qr,{componentName:"Modal"},(c,d)=>M.createElement("div",{className:le({[`${gr.DIALOG}-footerfill`]:l})},u(c),M.createElement(Xl,Object.assign({"aria-label":"confirm",type:i,theme:"solid",block:l,loading:s===void 0?this.state.onOKReturnPromiseStatus==="pending":s,onClick:this.handleOk},this.props.okButtonProps,{"x-semi-children-alias":"okText"}),t||c.confirm)))},this.renderDialog=()=>{var t;let i=this.props,{footer:r,className:s,motion:a,maskStyle:o,keepDOM:l,style:u,zIndex:c,getPopupContainer:d,visible:h,modalContentClass:f}=i,p=NMt(i,["footer","className","motion","maskStyle","keepDOM","style","zIndex","getPopupContainer","visible","modalContentClass"]),g=u;const m=o,v="footer"in this.props?r:this.renderFooter();let _={zIndex:c};d&&d()!==((t=globalThis==null?void 0:globalThis.document)===null||t===void 0?void 0:t.body)&&(_={zIndex:c,position:"static"});const y=le(s,{[`${gr.DIALOG}-displayNone`]:l&&this.state.displayNone}),x=this.props.visible||this.props.keepDOM&&(!this.props.lazyRender||this._haveRendered)||this.props.motion&&!this.state.displayNone;return x&&(this._haveRendered=!0),M.createElement(pC,{motion:this.props.motion,animationState:h?"enter":"leave",startClassName:h?`${gr.DIALOG}-content-animate-show`:`${gr.DIALOG}-content-animate-hide`,onAnimationEnd:()=>{this.updateState()}},w=>{let{animationClassName:T,animationEventsNeedBind:E}=w;return M.createElement(pC,{motion:this.props.motion,animationState:h?"enter":"leave",startClassName:h?`${gr.DIALOG}-mask-animate-show`:`${gr.DIALOG}-mask-animate-hide`,onAnimationEnd:()=>{this.updateState()}},A=>{let{animationClassName:k,animationEventsNeedBind:P}=A;return x?M.createElement(WP,{style:_,getPopupContainer:d}," ",M.createElement(wj,Object.assign({},p,{contentExtraProps:E,maskExtraProps:P,isFullScreen:this.state.isFullScreen,contentClassName:`${T} ${f}`,maskClassName:k,className:y,getPopupContainer:d,maskStyle:m,style:g,ref:this.modalRef,footer:v,onClose:this.handleCancel}))):M.createElement(M.Fragment,null)})})},this.state={displayNone:!e.visible,isFullScreen:e.fullScreen},this.foundation=new TMt(this.adapter),this.modalRef=M.createRef(),this.scrollBarWidth=0,this.originBodyWidth="100%"}get adapter(){return Object.assign(Object.assign({},super.adapter),{getProps:()=>this.props,disabledBodyScroll:()=>{var e;const{getPopupContainer:t}=this.props;this.bodyOverflow=document.body.style.overflow||"",(!t||t()===((e=globalThis==null?void 0:globalThis.document)===null||e===void 0?void 0:e.body))&&this.bodyOverflow!=="hidden"&&(document.body.style.overflow="hidden",document.body.style.width=`calc(${this.originBodyWidth||"100%"} - ${this.scrollBarWidth}px)`)},enabledBodyScroll:()=>{var e;const{getPopupContainer:t}=this.props;(!t||t()===((e=globalThis==null?void 0:globalThis.document)===null||e===void 0?void 0:e.body))&&this.bodyOverflow!==null&&this.bodyOverflow!=="hidden"&&(document.body.style.overflow=this.bodyOverflow,document.body.style.width=this.originBodyWidth)},notifyCancel:e=>this.props.onCancel(e),notifyOk:e=>this.props.onOk(e),notifyClose:()=>{this.props.afterClose()},toggleDisplayNone:(e,t)=>{e!==this.state.displayNone&&this.setState({displayNone:e},t||be)},notifyFullScreen:e=>{e!==this.state.isFullScreen&&this.setState({isFullScreen:e})}})}static getDerivedStateFromProps(e,t){const i={};return e.fullScreen!==t.isFullScreen&&(i.isFullScreen=e.fullScreen),e.visible&&t.displayNone&&(i.displayNone=!1),i}componentDidMount(){this.scrollBarWidth=s_t(),this.originBodyWidth=document.body.style.width,this.props.visible&&this.foundation.beforeShow()}componentDidUpdate(e,t,i){!e.visible&&this.props.visible&&this.foundation.beforeShow(),!t.displayNone&&this.state.displayNone&&this.foundation.afterHide()}componentWillUnmount(){this.props.visible?this.foundation.destroy():this.foundation.enabledBodyScroll()}render(){const{visible:e,keepDOM:t,lazyRender:i}=this.props;return this.renderDialog()}}id.propTypes={mask:S.bool,closable:S.bool,centered:S.bool,visible:S.bool,width:S.oneOfType([S.string,S.number]),height:S.oneOfType([S.string,S.number]),confirmLoading:S.bool,cancelLoading:S.bool,okText:S.string,okType:S.string,cancelText:S.string,maskClosable:S.bool,onCancel:S.func,onOk:S.func,modalRender:S.func,afterClose:S.func,okButtonProps:S.object,cancelButtonProps:S.object,style:S.object,className:S.string,maskStyle:S.object,bodyStyle:S.object,zIndex:S.number,title:S.node,icon:S.node,header:S.node,footer:S.node,hasCancel:S.bool,motion:S.bool,children:S.node,getPopupContainer:S.func,getContainerContext:S.func,maskFixed:S.bool,closeIcon:S.node,closeOnEsc:S.bool,size:S.oneOf(Jle.SIZE),keepDOM:S.bool,lazyRender:S.bool,direction:S.oneOf(Jle.directions),fullScreen:S.bool,footerFill:S.bool};id.__SemiComponentName__="Modal";id.defaultProps=Du(id.__SemiComponentName__,{zIndex:1e3,motion:!0,mask:!0,centered:!1,closable:!0,visible:!1,okType:"primary",maskClosable:!0,hasCancel:!0,onCancel:be,onOk:be,afterClose:be,maskFixed:!1,closeOnEsc:!0,size:"small",keepDOM:!1,lazyRender:!0,fullScreen:!1});id.useModal=$Mt;id.info=function(n){return aM(pEe(n))};id.success=function(n){return aM(gEe(n))};id.error=function(n){return aM(vEe(n))};id.warning=function(n){return aM(mEe(n))};id.confirm=function(n){return aM(yEe(n))};id.destroyAll=function(){for(let e=0,t=Tb.length;e<t;e++){const i=Tb[e];i&&i()}Tb=[]};const oM={PREFIX:`${nt}-dropdown`},Cj={POSITION_SET:Ey.POSITION_SET,TRIGGER_SET:["hover","focus","click","custom","contextMenu"],DEFAULT_LEAVE_DELAY:100,ITEM_TYPE:["primary","secondary","tertiary","warning","danger"]},tue={SPACING:4,NESTED_SPACING:2};class jMt extends jn{handleVisibleChange(e){this._adapter.setPopVisible(e),this._adapter.notifyVisibleChange(e);const{trigger:t}=this.getProps();if(e&&t==="click"){const i=this._adapter.getPopupId();this.setFocusToFirstMenuItem(i)}}getMenuItemNodes(e){const t=document.getElementById(e);return t?Array.from(t.getElementsByTagName("li")).filter(i=>i.ariaDisabled==="false"):null}setFocusToFirstMenuItem(e){const t=this.getMenuItemNodes(e);t&&Dyt(t)}setFocusToLastMenuItem(e){const t=this.getMenuItemNodes(e);t&&Lyt(t)}handleKeyDown(e){var t,i;const r=(i=(t=e.target)===null||t===void 0?void 0:t.attributes["data-popupid"])===null||i===void 0?void 0:i.value,{visible:s}=this._adapter.getStates();switch(e.key){case" ":case"Enter":e.target.click();break;case"ArrowDown":this.setFocusToFirstMenuItem(r),s&&xu(e);break;case"ArrowUp":this.setFocusToLastMenuItem(r),s&&xu(e);break}}}class zMt extends jn{constructor(){super(...arguments),this.menuItemNodes=null,this.firstChars=[]}handleEscape(e){this._adapter.getContext("trigger")==="custom"&&(e&&jyt(document.querySelectorAll("[data-popupid]"),e.id)).focus()}setFocusByFirstCharacter(e,t){const i=$yt(this.menuItemNodes,e,this.firstChars,t);i>=0&&VP(this.menuItemNodes,this.menuItemNodes[i])}onMenuKeydown(e){const t=Nyt(e.target,"tooltip");this.menuItemNodes||(this.menuItemNodes=[...e.target.parentNode.getElementsByTagName("li")].filter(r=>r.ariaDisabled!=="true")),this.firstChars.length===0&&this.menuItemNodes.forEach(r=>{var s;this.firstChars.push((s=r.textContent.trim()[0])===null||s===void 0?void 0:s.toLowerCase())});const i=this.menuItemNodes.find(r=>r.tabIndex===0);switch(e.key){case" ":case"Enter":e.target.click();break;case"Escape":this.handleEscape(t);break;case"ArrowUp":Fyt(this.menuItemNodes,i),xu(e);break;case"ArrowDown":Byt(this.menuItemNodes,i),xu(e);break;default:Ryt(e.key)&&this.setFocusByFirstCharacter(i,e.key);break}}}const xC=M.createContext({level:0});var HMt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const VMt=oM.PREFIX;class aq extends An{constructor(e){super(e),this.foundation=new zMt(this.adapter)}get adapter(){return Object.assign({},super.adapter)}render(){const e=this.props,{children:t,className:i,style:r}=e,s=HMt(e,["children","className","style"]);return M.createElement("ul",Object.assign({role:"menu","aria-orientation":"vertical"},s,{className:le(`${VMt}-menu`,i),style:r,onKeyDown:a=>this.foundation.onMenuKeydown(a)}),t)}}aq.propTypes={children:S.node,className:S.string,style:S.object};aq.contextType=xC;const H_=oM.PREFIX;class lM extends An{render(){const{children:e,disabled:t,className:i,forwardRef:r,style:s,type:a,active:o,icon:l,onKeyDown:u,showTick:c,hover:d}=this.props,{showTick:h}=this.context,f=h??c,p=le(i,{[`${H_}-item`]:!0,[`${H_}-item-disabled`]:t,[`${H_}-item-hover`]:d,[`${H_}-item-withTick`]:f,[`${H_}-item-${a}`]:a,[`${H_}-item-active`]:o}),g={};t||["onClick","onMouseEnter","onMouseLeave","onContextMenu"].forEach(_=>{this.context.level!==1&&_==="onClick"?g.onMouseDown=x=>{var w,T;x.button===0&&((T=(w=this.props)[_])===null||T===void 0||T.call(w,x))}:g[_]=this.props[_]});let m=null;switch(!0){case(f&&o):m=M.createElement(mC,null);break;case(f&&!o):m=M.createElement(mC,{style:{color:"transparent"}});break;default:m=null;break}let v=null;return l&&(v=M.createElement("div",{className:`${H_}-item-icon`},l)),M.createElement("li",Object.assign({role:"menuitem",tabIndex:-1,"aria-disabled":t},g,{onKeyDown:u,ref:_=>r(_),className:p,style:s},this.getDataAttr(this.props)),m,v,e)}}lM.propTypes={children:S.oneOfType([S.string,S.node]),name:S.string,disabled:S.bool,selected:S.bool,onClick:S.func,onMouseEnter:S.func,onMouseLeave:S.func,onContextMenu:S.func,className:S.string,style:S.object,forwardRef:S.func,type:S.oneOf(Cj.ITEM_TYPE),active:S.bool,icon:S.node};lM.contextType=xC;lM.defaultProps={disabled:!1,divided:!1,selected:!1,onMouseEnter:be,onMouseLeave:be,forwardRef:be};lM.elementType="Dropdown.Item";const WMt=oM.PREFIX,UMt=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{style:e,className:t}=n;return M.createElement("div",{className:le(`${WMt}-divider`,t),style:e})},nue=oM.PREFIX;class oq extends q.PureComponent{render(){const{className:e,style:t,children:i}=this.props,{showTick:r}=this.context,s=le({[`${nue}-title`]:!0,[`${nue}-title-withTick`]:r},e);return M.createElement("div",{className:s,style:t},i)}}oq.propTypes={children:S.node,className:S.string,style:S.object};oq.contextType=xC;var t4=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const GMt=Cj.POSITION_SET,YMt=Cj.TRIGGER_SET;class ja extends An{constructor(e){super(e),this.handleVisibleChange=t=>this.foundation.handleVisibleChange(t),this.state={popVisible:e.visible},this.foundation=new jMt(this.adapter),this.tooltipRef=M.createRef()}get adapter(){return Object.assign(Object.assign({},super.adapter),{setPopVisible:e=>this.setState({popVisible:e}),notifyVisibleChange:e=>{var t,i;return(i=(t=this.props).onVisibleChange)===null||i===void 0?void 0:i.call(t,e)},getPopupId:()=>this.tooltipRef.current.getPopupId()})}renderContent(){const{render:e,menu:t,contentClassName:i,style:r,showTick:s,prefixCls:a,trigger:o}=this.props,l=le(a,i),{level:u=0}=this.context,c={showTick:s,level:u+1,trigger:o};let d=null;return M.isValidElement(e)?d=e:Array.isArray(t)&&(d=this.renderMenu()),M.createElement(xC.Provider,{value:c},M.createElement("div",{className:l,style:r},M.createElement("div",{className:`${a}-content`,"x-semi-prop":"render"},d)))}renderMenu(){const{menu:e}=this.props,t=e.map((i,r)=>{switch(i.node){case"title":{const{name:s,node:a}=i,o=t4(i,["name","node"]);return M.createElement(ja.Title,Object.assign({},o,{key:a+s+r}),s)}case"item":{const{node:s,name:a}=i,o=t4(i,["node","name"]);return M.createElement(ja.Item,Object.assign({},o,{key:s+a+r}),a)}case"divider":return M.createElement(ja.Divider,{key:i.node+r});default:return null}});return M.createElement(ja.Menu,null,t)}renderPopCard(){const{render:e,contentClassName:t,style:i,showTick:r,prefixCls:s}=this.props,a=le(s,t),{level:o=0}=this.context,l={showTick:r,level:o+1};return M.createElement(xC.Provider,{value:l},M.createElement("div",{className:a,style:i},M.createElement("div",{className:`${s}-content`},e)))}render(){const e=this.props,{children:t,position:i,trigger:r,onVisibleChange:s,zIndex:a,className:o,motion:l,margin:u,style:c,prefixCls:d}=e,h=t4(e,["children","position","trigger","onVisibleChange","zIndex","className","motion","margin","style","prefixCls"]);let{spacing:f}=this.props;const{level:p}=this.context,{popVisible:g}=this.state,m=this.renderContent();return p>0?f=typeof f=="number"?f:tue.NESTED_SPACING:(f===null||typeof f>"u")&&(f=tue.SPACING),M.createElement(xo,Object.assign({zIndex:a,motion:l,margin:u,content:m,className:o,prefixCls:d,spacing:f,position:i,trigger:r,onVisibleChange:this.handleVisibleChange,showArrow:!1,returnFocusOnClose:!0,ref:this.tooltipRef},h),M.isValidElement(t)?M.cloneElement(t,{className:le(Ce(t,"props.className"),{[`${d}-showing`]:g}),"aria-haspopup":!0,"aria-expanded":g,onKeyDown:v=>{this.foundation.handleKeyDown(v);const _=Ce(t,"props.onKeyDown");_&&_(v)}}):t)}}ja.Menu=aq;ja.Item=lM;ja.Divider=UMt;ja.Title=oq;ja.contextType=xC;ja.propTypes={children:S.node,contentClassName:S.oneOfType([S.string,S.array]),className:S.string,getPopupContainer:S.func,margin:S.oneOfType([S.number,S.object]),mouseEnterDelay:S.number,mouseLeaveDelay:S.number,menu:S.array,motion:S.oneOfType([S.bool,S.func,S.object]),onVisibleChange:S.func,prefixCls:S.string,position:S.oneOf(GMt),rePosKey:S.oneOfType([S.string,S.number]),render:S.node,spacing:S.oneOfType([S.number,S.object]),showTick:S.bool,style:S.object,trigger:S.oneOf(YMt),visible:S.bool,zIndex:S.number};ja.__SemiComponentName__="Dropdown";ja.defaultProps=Du(ja.__SemiComponentName__,{onVisibleChange:be,prefixCls:oM.PREFIX,zIndex:Vv.DEFAULT_Z_INDEX,motion:!0,trigger:"hover",position:"bottom",mouseLeaveDelay:Cj.DEFAULT_LEAVE_DELAY,showTick:!1,closeOnEsc:!0,onEscKeyDown:be});const _Ee={PREFIX:`${nt}`};var KMt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const iue=["xxl","xl","lg","md","sm","xs"],bEe=M.createContext(null),rue={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"};class D1 extends M.Component{constructor(){super(...arguments),this.state={screens:{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}},this.unRegisters=[]}componentDidMount(){this.unRegisters=Object.keys(rue).map(e=>r_t(rue[e],{match:()=>{typeof this.props.gutter=="object"&&this.setState(t=>({screens:Object.assign(Object.assign({},t.screens),{[e]:!0})}))},unmatch:()=>{typeof this.props.gutter=="object"&&this.setState(t=>({screens:Object.assign(Object.assign({},t.screens),{[e]:!1})}))}}))}componentWillUnmount(){this.unRegisters.forEach(e=>e())}getGutter(){const{gutter:e=0}=this.props,t=[0,0];return(Array.isArray(e)?e.slice(0,2):[e,0]).forEach((r,s)=>{if(typeof r=="object")for(let a=0;a<iue.length;a++){const o=iue[a];if(this.state.screens[o]&&r[o]!==void 0){t[s]=r[o];break}}else t[s]=r||0}),t}render(){const e=this.props,{prefixCls:t,type:i,justify:r,align:s,className:a,style:o,children:l}=e,u=KMt(e,["prefixCls","type","justify","align","className","style","children"]),c=this.getGutter(),d=`${t}-row`,h=le({[d]:i!=="flex",[`${d}-${i}`]:i,[`${d}-${i}-${r}`]:i&&r,[`${d}-${i}-${s}`]:i&&s},a),f=Object.assign(Object.assign(Object.assign({},c[0]>0?{marginLeft:c[0]/-2,marginRight:c[0]/-2}:{}),c[1]>0?{marginTop:c[1]/-2,marginBottom:c[1]/-2}:{}),o),p=Object.assign({},u);return delete p.gutter,M.createElement(bEe.Provider,{value:{gutters:c}},M.createElement("div",Object.assign({},p,{className:h,style:f,"x-semi-prop":"children"}),l))}}D1.propTypes={type:S.oneOf(["flex"]),align:S.oneOf(["top","middle","bottom"]),justify:S.oneOf(["start","end","center","space-around","space-between"]),className:S.string,style:S.object,children:S.node,gutter:S.oneOfType([S.object,S.number,S.array]),prefixCls:S.string};D1.defaultProps={prefixCls:_Ee.PREFIX};D1.RowContext={gutters:S.any};var XMt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const qS=S.oneOfType([S.object,S.number]);class so extends M.Component{render(){const{props:e}=this,{prefixCls:t,span:i,order:r,offset:s,push:a,pull:o,className:l,children:u}=e,c=XMt(e,["prefixCls","span","order","offset","push","pull","className","children"]);let d={};const h=`${t}-col`;["xs","sm","md","lg","xl","xxl"].forEach(m=>{let v={};typeof e[m]=="number"?v.span=e[m]:typeof e[m]=="object"&&(v=e[m]||{}),delete c[m],d=Object.assign(Object.assign({},d),{[`${h}-${m}-${v.span}`]:v.span!==void 0,[`${h}-${m}-order-${v.order}`]:v.order||v.order===0,[`${h}-${m}-offset-${v.offset}`]:v.offset||v.offset===0,[`${h}-${m}-push-${v.push}`]:v.push||v.push===0,[`${h}-${m}-pull-${v.pull}`]:v.pull||v.pull===0})});const f=le(h,{[`${h}-${i}`]:i!==void 0,[`${h}-order-${r}`]:r,[`${h}-offset-${s}`]:s,[`${h}-push-${a}`]:a,[`${h}-pull-${o}`]:o},l,d);let{style:p}=c,g;try{g=this.context.gutters}catch{throw new Error("please make sure <Col> inside <Row>")}return p=Object.assign(Object.assign(Object.assign({},g[0]>0?{paddingLeft:g[0]/2,paddingRight:g[0]/2}:{}),g[1]>0?{paddingTop:g[1]/2,paddingBottom:g[1]/2}:{}),p),M.createElement("div",Object.assign({},c,{style:p,className:f,"x-semi-prop":"children"}),u)}}so.contextType=bEe;so.propTypes={span:S.number,order:S.number,offset:S.number,push:S.number,pull:S.number,className:S.string,children:S.node,xs:qS,sm:qS,md:qS,lg:qS,xl:qS,xxl:qS,prefixCls:S.string};so.defaultProps={prefixCls:_Ee.PREFIX};const gf={PREFIX:`${nt}-form`},IE={LAYOUT:["horizontal","vertical"],LABEL_POS:["left","top","inset"],LABEL_ALIGN:["left","right"],EXTRA_POS:["middle","bottom"],DEFAULT_TRIGGER:"change"},Fg=gf.PREFIX;let tg=class extends q.PureComponent{render(){const{children:e,required:t,text:i,disabled:r,name:s,width:a,align:o,style:l,className:u,extra:c,id:d,optional:h}=this.props,f=le(u,{[`${Fg}-field-label`]:!0,[`${Fg}-field-label-left`]:o==="left",[`${Fg}-field-label-right`]:o==="right",[`${Fg}-field-label-required`]:t,[`${Fg}-field-label-disabled`]:r,[`${Fg}-field-label-with-extra`]:c}),p=l||{};a&&(p.width=a);const g=M.createElement(Qr,{componentName:"Form"},_=>M.createElement("span",{className:`${Fg}-field-label-optional-text`},_.optional)),m=M.createElement("div",{className:`${Fg}-field-label-text`,"x-semi-prop":"label"},typeof i<"u"?i:e,h?g:null),v=M.createElement(M.Fragment,null,m,M.createElement("div",{className:`${Fg}-field-label-extra`},c));return M.createElement("label",{className:f,htmlFor:s,style:p,id:d},c?v:m)}};tg.defaultProps={required:!1,name:"",align:"left",className:"",optional:!1};tg.propTypes={id:S.string,children:S.node,required:S.bool,text:S.node,disabled:S.bool,name:S.string,align:S.string,width:S.oneOfType([S.number,S.string]),style:S.object,className:S.string,extra:S.node,optional:S.bool};var sue=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const V_=oj.PREFIX,qMt=n_.SIZE;class lq extends An{renderGroupWithLabel(e){const t=this.props,{size:i,className:r,label:s,labelPosition:a}=t;sue(t,["size","className","label","labelPosition"]);const o=le({[`${V_}-group-wrapper`]:!0,[`${V_}-group-wrapper-with-top-label`]:a==="top",[`${V_}-group-wrapper-with-left-label`]:a==="left"}),l=le(`${V_}-group`,r,{[`${V_}-${i}`]:i!=="default"}),u="input-group";return M.createElement("div",{className:o},s&&s.text?M.createElement(tg,Object.assign({name:u},s)):null,M.createElement("span",{role:"group","aria-disabled":this.props.disabled,id:s&&s.name||u,className:l,style:this.props.style,onFocus:this.props.onFocus,onBlur:this.props.onBlur},e))}render(){const e=this.props,{size:t,style:i,className:r,children:s,label:a,onBlur:o,onFocus:l,disabled:u}=e,c=sue(e,["size","style","className","children","label","onBlur","onFocus","disabled"]),d=le(`${V_}-group`,{[`${V_}-${t}`]:t!=="default"},r);let h;return s&&(h=(Array.isArray(s)?s:[s]).map((f,p)=>{if(f){const{onBlur:g,onFocus:m,disabled:v}=f.props,_=Mn(g)&&Ce(g,"name")!=="noop"?g:o,y=Mn(m)&&Ce(m,"name")!=="noop"?m:l,x=typeof v=="boolean"?v:u;return M.cloneElement(f,Object.assign(Object.assign({key:p},c),{size:t,onBlur:_,onFocus:y,disabled:x}))}return null})),a&&a.text?this.renderGroupWithLabel(h):M.createElement("span",{role:"group","aria-label":"Input group","aria-disabled":this.props.disabled,className:d,style:i,onFocus:this.props.onFocus,onBlur:this.props.onBlur},h)}}lq.propTypes={className:S.string,children:S.node,size:S.oneOf(qMt),style:S.object,onBlur:S.func,onFocus:S.func,label:S.object,labelPosition:S.string};lq.defaultProps={size:"default",className:"",onBlur:Xr,onFocus:Xr};let Bc=null;const aue={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},oue=n=>{Object.keys(aue).forEach(e=>{n.style.setProperty(e,aue[e],"important")})},lue=(n,e)=>{const t=n.scrollHeight;return e.sizingStyle.boxSizing==="border-box"?t+e.borderSize:t-e.paddingSize};function ZMt(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/0;Bc||(Bc=document.createElement("textarea"),Bc.setAttribute("tab-index","-1"),Bc.setAttribute("aria-hidden","true"),oue(Bc)),Bc.parentNode===null&&document.body.appendChild(Bc);const{paddingSize:r,borderSize:s,sizingStyle:a}=n,{boxSizing:o}=a;Object.keys(a).forEach(h=>{Bc.style[h]=a[h]}),oue(Bc),Bc.value=e;let l=lue(Bc,n);Bc.value="x";const u=lue(Bc,n)-r-s;let c=u*t;o==="border-box"&&(c=c+r+s),l=Math.max(c,l);let d=u*i;return o==="border-box"&&(d=d+r+s),l=Math.min(d,l),l}const QMt=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"],JMt=n=>{const e=window.getComputedStyle(n);if(e===null)return null;const t=Eu(e,QMt),{boxSizing:i}=t;if(i==="")return null;const r=parseFloat(t.paddingBottom)+parseFloat(t.paddingTop),s=parseFloat(t.borderBottomWidth)+parseFloat(t.borderTopWidth);return{sizingStyle:t,paddingSize:r,borderSize:s}};class uq extends jn{static get textAreaDefaultAdapter(){return{notifyChange:be,setValue:be,toggleFocusing:be,toggleHovering:be,notifyFocus:be,notifyBlur:be,notifyKeyDown:be,notifyEnterPress:be}}constructor(e){super(Object.assign(Object.assign({},uq.textAreaDefaultAdapter),e)),this.compositionEnter=!1,this._changeValue=(t,i)=>{this._isControlledComponent()?this._adapter.notifyChange(t,i):(this._adapter.setValue(t),this._adapter.notifyChange(t,i))},this.getNextValue=t=>{const{maxLength:i,minLength:r,getValueLength:s}=this._adapter.getProps();return Mn(s)?i?this.handleVisibleMaxLength(t):(r&&this.handleVisibleMinLength(t),t):t},this.handleCompositionStart=t=>{this.compositionEnter=!0,this._adapter.notifyCompositionStart(t)},this.handleCompositionEnd=t=>{this.compositionEnter=!1,this._adapter.notifyCompositionEnd(t);const{getValueLength:i,maxLength:r,minLength:s}=this.getProps();if(!Mn(i))return;const a=t.target.value;if(r){const o=this.handleVisibleMaxLength(a);o!==a&&this._changeValue(o,t)}s&&this.handleVisibleMinLength(a)},this.handleCompositionUpdate=t=>{this._adapter.notifyCompositionUpdate(t)},this.resizeTextarea=()=>{var t;const{height:i}=this.getStates(),{rows:r,autosize:s}=this.getProps(),a=this._adapter.getRef(),o=JMt(a);if(!o)return;const[l,u]=s!==null&&typeof s=="object"?[(t=s==null?void 0:s.minRows)!==null&&t!==void 0?t:r,s==null?void 0:s.maxRows]:[r],c=ZMt(o,a.value||a.placeholder||"x",l,u);if(i!==c){this._adapter.notifyHeightUpdate(c),a.style.height=`${c}px`;return}}}destroy(){}handleValueChange(e){this._adapter.setValue(e)}handleChange(e,t){const{maxLength:i,minLength:r,getValueLength:s}=this._adapter.getProps();let a=e;this.compositionEnter||(a=this.getNextValue(a)),this._changeValue(a,t)}handleVisibleMinLength(e){const{minLength:t,getValueLength:i}=this._adapter.getProps(),{minLength:r}=this._adapter.getStates();if(Ns(t)&&t>=0&&Mn(i)&&oi(e)){const s=i(e);if(s<t){const a=e.length+(t-s);a!==r&&this._adapter.setMinLength(a)}else r!==t&&this._adapter.setMinLength(t)}}handleVisibleMaxLength(e){const{maxLength:t,getValueLength:i}=this._adapter.getProps();if(Ns(t)&&t>=0&&oi(e)){if(Mn(i)){if(i(e)>t)return console.warn("[Semi TextArea] The input character is truncated because the input length exceeds the maximum length limit"),this.handleTruncateValue(e,t)}else if(e.length>t)return console.warn("[Semi TextArea] The input character is truncated because the input length exceeds the maximum length limit"),e.slice(0,t);return e}}handleTruncateValue(e,t){const{getValueLength:i}=this._adapter.getProps();return A1e({value:e,maxLength:t,getValueLength:i})}handleFocus(e){const{value:t}=this.getStates();this._adapter.toggleFocusing(!0),this._adapter.notifyFocus(t,e)}handleBlur(e){const{value:t}=this.getStates(),{maxLength:i}=this.getProps();let r=t;i&&(r=this.handleVisibleMaxLength(t),r!==t&&(this._isControlledComponent()||this._adapter.setValue(r),this._adapter.notifyChange(r,e))),this._adapter.toggleFocusing(!1),this._adapter.notifyBlur(r,e)}handleKeyDown(e){const{disabledEnterStartNewLine:t}=this.getProps();t&&e.key==="Enter"&&!e.shiftKey&&e.preventDefault(),this._adapter.notifyKeyDown(e),e.keyCode===13&&this._adapter.notifyPressEnter(e)}handleMouseEnter(e){this._adapter.toggleHovering(!0)}handleMouseLeave(e){this._adapter.toggleHovering(!1)}isAllowClear(){const{value:e,isFocus:t,isHover:i}=this._adapter.getStates(),{showClear:r,disabled:s,readonly:a}=this._adapter.getProps();return e&&r&&!s&&(t||i)&&!a}handleClear(e){const{isFocus:t}=this.getStates();this._isControlledComponent("value")?this._adapter.setState({isFocus:!1}):this._adapter.setState({value:"",isFocus:!1}),t&&this._adapter.notifyBlur("",e),this._adapter.notifyChange("",e),this._adapter.notifyClear(e),this.stopPropagation(e)}}var eIt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const du=oj.PREFIX;class cq extends An{constructor(e){super(e),this.handleClear=i=>{this.foundation.handleClear(i)},this.setRef=i=>{this.libRef.current=i;const{forwardRef:r}=this.props;typeof r=="function"?r(i):r&&typeof r=="object"&&(r.current=i)};const t="value"in e?e.value:e.defaultValue;this.state={value:t,isFocus:!1,isHover:!1,height:0,minLength:e.minLength,cachedValue:e.value},this.focusing=!1,this.foundation=new uq(this.adapter),this.libRef=M.createRef(),this.throttledResizeTextarea=HL(this.foundation.resizeTextarea,10)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setValue:e=>this.setState({value:e},()=>{this.props.autosize&&this.foundation.resizeTextarea()}),getRef:()=>this.libRef.current,toggleFocusing:e=>this.setState({isFocus:e}),toggleHovering:e=>this.setState({isHover:e}),notifyChange:(e,t)=>{this.props.onChange(e,t)},notifyClear:e=>this.props.onClear(e),notifyBlur:(e,t)=>this.props.onBlur(t),notifyFocus:(e,t)=>this.props.onFocus(t),notifyKeyDown:e=>{this.props.onKeyDown(e)},notifyHeightUpdate:e=>{this.setState({height:e}),this.props.onResize({height:e})},notifyPressEnter:e=>{this.props.onEnterPress&&this.props.onEnterPress(e)},notifyCompositionStart:e=>this.props.onCompositionStart(e),notifyCompositionEnd:e=>this.props.onCompositionEnd(e),notifyCompositionUpdate:e=>this.props.onCompositionUpdate(e),setMinLength:e=>this.setState({minLength:e})})}static getDerivedStateFromProps(e,t){const i={};return e.value!==t.cachedValue&&(i.value=e.value,i.cachedValue=e.value),i}componentWillUnmount(){var e,t;this.throttledResizeTextarea&&((t=(e=this.throttledResizeTextarea)===null||e===void 0?void 0:e.cancel)===null||t===void 0||t.call(e),this.throttledResizeTextarea=null)}componentDidUpdate(e,t){(this.props.value!==e.value||this.props.placeholder!==e.placeholder)&&this.props.autosize&&this.foundation.resizeTextarea()}renderClearBtn(){const{showClear:e}=this.props,t=this.foundation.isAllowClear(),i=le(`${du}-clearbtn`,{[`${du}-clearbtn-hidden`]:!t});return e?M.createElement("div",{className:i,onClick:this.handleClear},M.createElement(e_,null)):null}renderCounter(){let e,t,i,r;const{showCounter:s,maxCount:a,getValueLength:o}=this.props;if(s||a){const{value:l}=this.state;t=l?Mn(o)?o(l):l.length:0,i=a||null,r=le(`${du}-textarea-counter`,{[`${du}-textarea-counter-exceed`]:t>i}),e=M.createElement("div",{className:r},t,i?"/":null,i)}else e=null;return e}render(){const e=this.props,{autosize:t,placeholder:i,onEnterPress:r,onResize:s,disabled:a,readonly:o,className:l,showCounter:u,validateStatus:c,maxCount:d,defaultValue:h,style:f,forwardRef:p,getValueLength:g,maxLength:m,minLength:v,showClear:_,borderless:y,autoFocus:x}=e,w=eIt(e,["autosize","placeholder","onEnterPress","onResize","disabled","readonly","className","showCounter","validateStatus","maxCount","defaultValue","style","forwardRef","getValueLength","maxLength","minLength","showClear","borderless","autoFocus"]),{isFocus:T,value:E,minLength:A}=this.state,k=le(l,`${du}-textarea-wrapper`,{[`${du}-textarea-borderless`]:y,[`${du}-textarea-wrapper-disabled`]:a,[`${du}-textarea-wrapper-readonly`]:o,[`${du}-textarea-wrapper-${c}`]:!!c,[`${du}-textarea-wrapper-focus`]:T}),P=le(`${du}-textarea`,{[`${du}-textarea-disabled`]:a,[`${du}-textarea-readonly`]:o,[`${du}-textarea-autosize`]:jo(t)?lr(t==null?void 0:t.maxRows):t,[`${du}-textarea-showClear`]:_}),I=Object.assign(Object.assign({},Co(w,"insetLabel","insetLabelId","getValueLength","onClear","showClear","disabledEnterStartNewLine")),{autoFocus:x||this.props.autofocus,className:P,disabled:a,readOnly:o,placeholder:i||null,onChange:D=>this.foundation.handleChange(D.target.value,D),onFocus:D=>this.foundation.handleFocus(D),onBlur:D=>this.foundation.handleBlur(D.nativeEvent),onKeyDown:D=>this.foundation.handleKeyDown(D),value:E??"",onCompositionStart:this.foundation.handleCompositionStart,onCompositionEnd:this.foundation.handleCompositionEnd,onCompositionUpdate:this.foundation.handleCompositionUpdate});return Mn(g)||(I.maxLength=m),A&&(I.minLength=A),M.createElement("div",{className:k,style:f,onMouseEnter:D=>this.foundation.handleMouseEnter(D),onMouseLeave:D=>this.foundation.handleMouseLeave(D)},t?M.createElement(Ay,{onResize:this.throttledResizeTextarea},M.createElement("textarea",Object.assign({},I,{ref:this.setRef}))):M.createElement("textarea",Object.assign({},I,{ref:this.setRef})),this.renderClearBtn(),this.renderCounter())}}cq.propTypes={autosize:S.oneOfType([S.bool,S.object]),borderless:S.bool,placeholder:S.string,value:S.string,rows:S.number,cols:S.number,maxCount:S.number,onEnterPress:S.func,validateStatus:S.string,className:S.string,style:S.object,showClear:S.bool,onClear:S.func,onResize:S.func,onCompositionStart:S.func,onCompositionEnd:S.func,onCompositionUpdate:S.func,getValueLength:S.func,disabledEnterStartNewLine:S.bool};cq.defaultProps={autosize:!1,borderless:!1,rows:4,cols:20,showCounter:!1,showClear:!1,onEnterPress:be,onChange:be,onBlur:be,onFocus:be,onKeyDown:be,onResize:be,onClear:be,onCompositionStart:be,onCompositionEnd:be,onCompositionUpdate:be};const tIt=M.forwardRef((n,e)=>M.createElement(cq,Object.assign({},n,{forwardRef:e})));var nIt=T1e;function iIt(n){return nIt(n)&&n!=+n}var rIt=iIt;const sIt=yn(rIt),aIt=(n,e)=>{const{isNaN:t}=Number;return t(n)&&t(e)},oIt=Object.assign({},oj),Eb=Object.assign(Object.assign({},Qxt),{DEFAULT_STEP:1,DEFAULT_SHIFT_STEP:10,DEFAULT_PRESS_TIMEOUT:250,DEFAULT_PRESS_INTERVAL:0,MOUSE_BUTTON_LEFT:0}),lIt=Object.assign({},n_);function uIt(n,e){const t=(n.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,r=Math.pow(10,Math.max(t,i));return Math.round(n*r+e*r)/r}function uue(n,e){return uIt(n,-e)}class cIt extends jn{constructor(){super(...arguments),this._decimalPointSymbol=void 0,this._currencySymbol=""}init(){this._isCurrency()&&this._setCurrencySymbol(),this._setInitValue()}destroy(){this._unregisterInterval(),this._unregisterTimer(),this._adapter.unregisterGlobalEvent("mouseup")}isControlled(){return this._isControlledComponent("value")}_isCurrency(){const{currency:e}=this.getProps();return e===!0||typeof e=="string"&&e.trim()!==""}_getFinalCurrency(){const{currency:e}=this.getProps();return e===!0?this.getProp("defaultCurrency"):e}_doInput(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=e,s=e,a=!0;const o=this.isControlled();typeof e!="number"&&(s=this.doParse(e,!1),a=!isNaN(s)),a&&(r=s,o||this._adapter.setNumber(s)),o||this._adapter.setValue(e,i),this.getProp("keepFocus")&&this._adapter.setFocusing(!0,()=>{this._adapter.setClickUpOrDown(!0)}),this.notifyChange(r,t)}_registerInterval(e){const t=this.getProp("pressInterval")||Eb.DEFAULT_PRESS_INTERVAL;this._intervalHasRegistered=!0,this._interval=setInterval(()=>{typeof e=="function"&&this._intervalHasRegistered&&e()},t)}_unregisterInterval(){this._interval&&(this._intervalHasRegistered=!1,clearInterval(this._interval),this._interval=null)}_registerTimer(e){const t=this.getProp("pressTimeout")||Eb.DEFAULT_PRESS_TIMEOUT;this._timerHasRegistered=!0,this._timer=setTimeout(()=>{this._timerHasRegistered&&typeof e=="function"&&e()},t)}_unregisterTimer(){this._timer&&(this._timerHasRegistered=!1,clearTimeout(this._timer),this._timer=null)}_setCurrencySymbol(){const{localeCode:e,currencyDisplay:t}=this.getProps(),i=new Intl.NumberFormat(e,{style:"currency",currency:this._getFinalCurrency()||this.getCurrencyByLocaleCode(),currencyDisplay:t}).formatToParts(1234.5);for(const r of i)r.type==="decimal"&&(this._decimalPointSymbol=r.value,console.log("this._decimalPointSymbol: ",this._decimalPointSymbol)),r.type==="currency"&&(this._currencySymbol=r.value)}handleInputFocus(e){this.getState("value"),this._adapter.recordCursorPosition(),this._adapter.setFocusing(!0,null),this._adapter.setClickUpOrDown(!1),this._adapter.notifyFocus(e)}handleInputChange(e,t){const i=this.doParse(e,!0,!0,!0),r=this.doParse(e,!1,!1,!1),s=this.afterParser(e);this._adapter.recordCursorPosition();let a,o=r,l=e;if(e==="")this.isControlled()||(o=null);else if(this.isValidNumber(r)&&this.isValidNumber(i))a=r,l=this.doFormat(r,!1);else{if(typeof r=="number"&&!isNaN(r)){l=this.doFormat(r,!1);const u=s.lastIndexOf("."),c=s.length-1-u,d=this._getPrecLen(r);if(d){if(d<c)for(let h=0;h<c-d;h++)l+="0"}else{const h=u>-1?s.slice(u):"";l+=h}o=r}else l=this.doFormat(s,!1);a=s}!this.isControlled()&&(o===null||typeof o=="number"&&!isNaN(o))&&this._adapter.setNumber(o),this._adapter.setValue(this.isControlled()&&!this._isCurrency()?l:this.doFormat(s,!1),()=>{this._adapter.restoreCursor()}),this.notifyChange(a,t)}handleInputKeyDown(e){const t=e.keyCode;if(t===Ho.UP||t===Ho.DOWN){this._adapter.setClickUpOrDown(!0),this._adapter.recordCursorPosition();const i=t===Ho.UP?this.add(null,e):this.minus(null,e);this._doInput(i,e,()=>{this._adapter.restoreCursor()}),e.preventDefault()}this._adapter.notifyKeyDown(e)}handleInputBlur(e){const t=Hv(this.getState("value"));let i=this.getState("number");if(i!=null||t!=null&&t!==""){const r=this.doParse(t,!1,!0,!0);let s=!1,a=!1,o,l;this.isValidNumber(r)&&i!==r&&(o=r,this.isControlled()||(i=o),s=!0);const u=this.doFormat(i,!0,!0);if(u!==t&&(l=u,a=!0),a||s){const c=l??o;l!=null&&this._adapter.setValue(l),o!=null&&(this._isControlledComponent("value")||this._adapter.setNumber(o)),this.notifyChange(c,e)}}this._adapter.setFocusing(!1),this._adapter.notifyBlur(e)}handleInputMouseEnter(e){this._adapter.setHovering(!0)}handleInputMouseLeave(e){this._adapter.setHovering(!1)}handleInputMouseMove(e){this._adapter.setHovering(!0)}handleMouseUp(e){this._unregisterInterval(),this._unregisterTimer(),this._adapter.unregisterGlobalEvent("mouseup")}handleUpClick(e){const{readonly:t}=this.getProps();!this._isMouseButtonLeft(e)||t||(this._adapter.setClickUpOrDown(!0),e&&(this._persistEvent(e),e.stopPropagation(),this._preventDefault(e)),this.upClick(e),this._registerTimer(()=>{this._registerInterval(()=>{this.upClick(e)})}))}handleDownClick(e){const{readonly:t}=this.getProps();!this._isMouseButtonLeft(e)||t||(this._adapter.setClickUpOrDown(!0),e&&(this._persistEvent(e),e.stopPropagation(),this._preventDefault(e)),this.downClick(e),this._registerTimer(()=>{this._registerInterval(()=>{this.downClick(e)})}))}_isMouseButtonLeft(e){return Ce(e,"button")===Eb.MOUSE_BUTTON_LEFT}_preventDefault(e){const t=this._adapter.getProp("keepFocus"),i=this._adapter.getProp("innerButtons");(t||i)&&e.preventDefault()}handleMouseLeave(e){this._adapter.registerGlobalEvent("mouseup",()=>{this.handleMouseUp(e)})}upClick(e){const t=this.add(null,e);this._doInput(t,e),this._adapter.notifyUpClick(t,e)}downClick(e){const t=this.minus(null,e);this._doInput(t,e),this._adapter.notifyDownClick(t,e)}_setInitValue(){const{defaultValue:e,value:t}=this.getProps(),i=this._isControlledComponent("value")?t:e,r=this.doParse(this._isCurrency()?i:Hv(i),!1,!0,!0);let s=null;typeof r=="number"&&!isNaN(r)&&(s=r);const a=typeof s=="number"?this.doFormat(s,!0,!0):"";this._adapter.setNumber(s),this._adapter.setValue(a),oi(a)&&a!==String(i??"")&&this.notifyChange(a,null)}add(e,t){const r=t&&t.shiftKey?this.getProp("shiftStep"):this.getProp("step");e=e==null?r:Number(e);const s=Math.abs(Qd(e)),a=this.getState("number");let o=this.toNumber(a)||0;const l=this.getProp("min"),u=this.getProp("max"),c=this._getPrecLen(l),d=this._getPrecLen(u),h=this._getPrecLen(o),f=this._getPrecLen(e),p=Math.pow(10,Math.max(c,d,h,f));return e<0?Math.abs(uue(l,o))>=s&&(o=Math.round(o*p+e*p)/p):e>0&&Math.abs(uue(u,o))>=s&&(o=Math.round(o*p+e*p)/p),typeof l=="number"&&l>o&&(o=l),typeof u=="number"&&u<o&&(o=u),this.doFormat(o,!0,!0)}minus(e,t){const r=t&&t.shiftKey?this.getProp("shiftStep"):this.getProp("step");return e=e==null?r:Number(e),this.add(-e,t)}_getPrecLen(e){typeof e!="string"&&(e=String(Math.abs(Number(e||""))));const t=e.indexOf(".")+1;return t?e.length-t:0}_adjustPrec(e){const t=this.getProp("precision");return typeof t=="number"&&e!==""&&e!==null&&!Number.isNaN(Number(e))&&(e=Number(e).toFixed(t)),Hv(e)}formatCurrency(e){const{localeCode:t,minimumFractionDigits:i,precision:r,maximumFractionDigits:s,currencyDisplay:a,showCurrencySymbol:o}=this.getProps();let l=e;typeof e=="string"&&Number.isNaN(Number(e))&&(l=this.parseInternationalCurrency(e));const c=new Intl.NumberFormat(t,{style:"currency",currency:this._getFinalCurrency()||this.getCurrencyByLocaleCode(),currencyDisplay:a,minimumFractionDigits:i||r||void 0,maximumFractionDigits:s||r||void 0}).format(Number(l));return o?c:c.replace(this._currencySymbol,"").trim()}doFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{formatter:r}=this.getProps();let s;return this._isCurrency()&&i?s=this.formatCurrency(e):t?s=this._adjustPrec(e):s=Hv(e),typeof r=="function"&&(s=r(s)),s}fetchMinOrMax(e){const{min:t,max:i}=this.getProps();return e<t?t:e>i?i:e}parseInternationalCurrency(e){let t=e.replace(this._currencySymbol,"").replace(new RegExp(`[^\\d${this._decimalPointSymbol}\\-]`,"g"),"");return this._decimalPointSymbol&&this._decimalPointSymbol!=="."&&(t=t.replace(this._decimalPointSymbol,".")),parseFloat(t)}doParse(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(this._isCurrency()&&typeof e=="string"&&(e=this.parseInternationalCurrency(e)),typeof e=="number")return r&&(e=this.fetchMinOrMax(e)),i&&(e=this._adjustPrec(e)),Qd(e);const s=this.getProp("parser");if(typeof s=="function"&&(e=s(e)),t&&typeof e=="string"){const a=e.indexOf(".")===-1||e.indexOf(".")>-1&&(e==="0"||e.lastIndexOf("0")<e.length-1),o=e.lastIndexOf(".")<e.length-1&&e.split("").filter(l=>l===".").length<2;if(!a||!o)return NaN}return i&&(e=this._adjustPrec(e)),typeof e=="string"&&e.length?r?this.fetchMinOrMax(Qd(e)):Qd(e):NaN}afterParser(e){const t=this.getProp("parser");return Hv(typeof e=="string"&&typeof t=="function"?t(e):e)}toNumber(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(typeof e=="number")return e;if(typeof e=="string"){const{parser:i}=this.getProps();this._isCurrency()&&(e=this.parseInternationalCurrency(e)),typeof i=="function"&&(e=i(e)),t&&(e=this._adjustPrec(e))}return Qd(e)}isValidNumber(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(typeof e=="number"&&!isNaN(e)){const{min:i,max:r,precision:s}=this.getProps(),a=this._getPrecLen(e),o=t?typeof s=="number"&&a<=s||typeof s!="number":!0;if(e>=i&&e<=r&&o)return!0}return!1}isValidString(e){if(typeof e=="string"&&e.length){const t=this.doParse(e);return this.isValidNumber(t)}return!1}notifyChange(e,t){if(e==null||e==="")this._adapter.notifyChange("",t);else{const i=this.toNumber(e,!0);typeof i=="number"&&!isNaN(i)?(this._adapter.notifyChange(i,t),this.notifyNumberChange(i,t)):this._adapter.notifyChange(this.afterParser(e),t)}}notifyNumberChange(e,t){const{number:i}=this.getStates();this.isValidNumber(e)&&e!==i&&this._adapter.notifyNumberChange(e,t)}updateStates(e,t){this._adapter.updateStates(e,t)}getCurrencyByLocaleCode(){const{localeCode:e}=this.getProps(),t={"zh-CN":"CNY","zh-HK":"HKD","zh-TW":"TWD","ja-JP":"JPY","ko-KR":"KRW","th-TH":"THB","vi-VN":"VND","ms-MY":"MYR","id-ID":"IDR","hi-IN":"INR","ar-SA":"SAR","en-GB":"GBP","de-DE":"EUR","fr-FR":"EUR","it-IT":"EUR","es-ES":"EUR","pt-PT":"EUR","ru-RU":"RUB","en-US":"USD","en-CA":"CAD","es-MX":"MXN","pt-BR":"BRL","es-AR":"ARS","en-AU":"AUD","en-NZ":"NZD","en-ZA":"ZAR","ar-EG":"EGP"};if(t[e])return t[e];const i=e.split("-")[0],r={en:"USD",zh:"CNY",es:"EUR",fr:"EUR",de:"EUR",it:"EUR",ja:"JPY",ko:"KRW",ru:"RUB",ar:"SAR"};return r[i]?r[i]:"USD"}}var dIt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};class cF extends An{get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{setValue:(t,i)=>this.setState({value:t},i),setNumber:(t,i)=>this.setState({number:t},i),setFocusing:(t,i)=>this.setState({focusing:t},i),setHovering:t=>this.setState({hovering:t}),notifyChange:function(){return e.props.onChange(...arguments)},notifyNumberChange:function(){return e.props.onNumberChange(...arguments)},notifyBlur:t=>this.props.onBlur(t),notifyFocus:t=>this.props.onFocus(t),notifyUpClick:(t,i)=>this.props.onUpClick(t,i),notifyDownClick:(t,i)=>this.props.onDownClick(t,i),notifyKeyDown:t=>this.props.onKeyDown(t),registerGlobalEvent:(t,i)=>{t&&typeof i=="function"&&(this.adapter.unregisterGlobalEvent(t),this.adapter.setCache(t,i),document.addEventListener(t,i))},unregisterGlobalEvent:t=>{if(t){const i=this.adapter.getCache(t);document.removeEventListener(t,i),this.adapter.setCache(t,null)}},getInputCharacter:t=>this.inputNode.value[t],recordCursorPosition:()=>{try{this.inputNode&&(this.cursorStart=this.inputNode.selectionStart,this.cursorEnd=this.inputNode.selectionEnd,this.currentValue=this.inputNode.value,this.cursorBefore=this.inputNode.value.substring(0,this.cursorStart),this.cursorAfter=this.inputNode.value.substring(this.cursorEnd))}catch(t){console.warn(t)}},restoreByAfter:t=>{if(br(t))return!1;const i=this.inputNode.value,r=i.lastIndexOf(t);return r===-1?!1:r+t.length===i.length?(this.adapter.fixCaret(r,r),!0):!1},restoreCursor:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.cursorAfter;return br(t)?!1:Array.prototype.some.call(t,(i,r)=>{const s=t.substring(r);return e.adapter.restoreByAfter(s)})},fixCaret:(t,i)=>{if(!(t===void 0||i===void 0||!this.inputNode||!this.inputNode.value))try{const r=this.inputNode.selectionStart,s=this.inputNode.selectionEnd;(t!==r||i!==s)&&this.inputNode.setSelectionRange(t,i)}catch{}},setClickUpOrDown:t=>{this.clickUpOrDown=t},updateStates:(t,i)=>{this.setState(t,i)}})}constructor(e){super(e),this.setInputRef=t=>{const{forwardedRef:i}=this.props;this.inputNode=t,i&&typeof i=="object"?i.current=t:typeof i=="function"&&i(t)},this.handleInputFocus=t=>this.foundation.handleInputFocus(t),this.handleInputChange=(t,i)=>this.foundation.handleInputChange(t,i),this.handleInputBlur=t=>this.foundation.handleInputBlur(t),this.handleInputKeyDown=t=>this.foundation.handleInputKeyDown(t),this.handleInputMouseEnter=t=>this.foundation.handleInputMouseEnter(t),this.handleInputMouseLeave=t=>this.foundation.handleInputMouseLeave(t),this.handleInputMouseMove=t=>this.foundation.handleInputMouseMove(t),this.handleUpClick=t=>this.foundation.handleUpClick(t),this.handleDownClick=t=>this.foundation.handleDownClick(t),this.handleMouseUp=t=>this.foundation.handleMouseUp(t),this.handleMouseLeave=t=>this.foundation.handleMouseLeave(t),this.renderButtons=()=>{const{prefixCls:t,disabled:i,innerButtons:r,max:s,min:a}=this.props,{hovering:o,focusing:l,number:u}=this.state,c=i||u===s,d=i||u===a,h=le(`${t}-number-suffix-btns`,{[`${t}-number-suffix-btns-inner`]:r,[`${t}-number-suffix-btns-inner-hover`]:r&&o&&!l}),f=le(`${t}-number-button`,`${t}-number-button-up`,{[`${t}-number-button-up-disabled`]:i,[`${t}-number-button-up-not-allowed`]:c}),p=le(`${t}-number-button`,`${t}-number-button-down`,{[`${t}-number-button-down-disabled`]:i,[`${t}-number-button-down-not-allowed`]:d});return M.createElement("div",{className:h},M.createElement("span",{className:f,onMouseDown:c?be:this.handleUpClick,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave},M.createElement(BSt,{size:"extra-small"})),M.createElement("span",{className:p,onMouseDown:d?be:this.handleDownClick,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave},M.createElement(k1,{size:"extra-small"})))},this.renderSuffix=()=>{const{innerButtons:t,suffix:i}=this.props,{hovering:r,focusing:s}=this.state;return t&&(r||s)?this.renderButtons():i},this.state={value:"",number:null,focusing:!!e.autofocus||!1,hovering:!1},this.inputNode=null,this.foundation=new cIt(this.adapter),this.clickUpOrDown=!1}componentDidUpdate(e){const{value:t,preventScroll:i}=this.props,{focusing:r}=this.state;let s;if(t!==e.value&&!aIt(t,e.value)){if(br(t)||t==="")s="",this.foundation.updateStates({value:s,number:null});else{let a=t;typeof t=="number"&&(a=this.foundation.doFormat(t));const o=this.foundation.doParse(a,!1,!0,!0),l=typeof t=="number"?t:this.foundation.doParse(a,!1,!1,!1);if(r)if(this.foundation.isValidNumber(o)&&o!==this.state.number){const u={number:o};this.clickUpOrDown&&(u.value=this.foundation.doFormat(u.number,!0),s=u.value),this.foundation.updateStates(u,()=>this.adapter.restoreCursor())}else sIt(l)?this.foundation.updateStates({value:a}):(s=this.foundation.doFormat(l,!1),this.foundation.updateStates({value:s}));else this.foundation.isValidNumber(o)?(s=this.foundation.doFormat(o,!0,!0),this.foundation.updateStates({number:o,value:s})):(s="",this.foundation.updateStates({number:null,value:s}))}if(s&&oi(s)&&s!==String(this.props.value))if(this.foundation._isCurrency()){const a=this.foundation.doParse(s),o=typeof this.props.value=="string"?this.foundation.doParse(this.props.value):this.props.value;a!==o&&this.foundation.notifyChange(s,null)}else this.foundation.notifyChange(s,null)}this.clickUpOrDown&&this.props.keepFocus&&this.state.focusing&&document.activeElement!==this.inputNode&&this.inputNode.focus({preventScroll:i})}render(){const e=this.props,{disabled:t,className:i,prefixCls:r,min:s,max:a,step:o,shiftStep:l,precision:u,formatter:c,parser:d,forwardedRef:h,onUpClick:f,onDownClick:p,pressInterval:g,pressTimeout:m,suffix:v,size:_,hideButtons:y,innerButtons:x,style:w,onNumberChange:T,keepFocus:E,defaultValue:A,defaultCurrency:k,currency:P,currencyDisplay:I,minimumFractionDigits:D,maximumFractionDigits:L,showCurrencySymbol:B,localeCode:F}=e,$=dIt(e,["disabled","className","prefixCls","min","max","step","shiftStep","precision","formatter","parser","forwardedRef","onUpClick","onDownClick","pressInterval","pressTimeout","suffix","size","hideButtons","innerButtons","style","onNumberChange","keepFocus","defaultValue","defaultCurrency","currency","currencyDisplay","minimumFractionDigits","maximumFractionDigits","showCurrencySymbol","localeCode"]),{value:z,number:N}=this.state,V=le(i,`${r}-number`,{[`${r}-number-size-${_}`]:_}),H=this.renderButtons(),K={"aria-disabled":t,step:o};return N&&(K["aria-valuenow"]=N),a!==1/0&&(K["aria-valuemax"]=a),s!==-1/0&&(K["aria-valuemin"]=s),M.createElement("div",{className:V,style:w,onMouseMove:X=>this.handleInputMouseMove(X),onMouseEnter:X=>this.handleInputMouseEnter(X),onMouseLeave:X=>this.handleInputMouseLeave(X)},M.createElement(Gl,Object.assign({role:"spinbutton"},K,$,{size:_,disabled:t,ref:this.setInputRef,value:z,onFocus:this.handleInputFocus,onChange:this.handleInputChange,onBlur:this.handleInputBlur,onKeyDown:this.handleInputKeyDown,suffix:this.renderSuffix()})),y||x?null:H)}}cF.propTypes={"aria-label":S.string,"aria-labelledby":S.string,"aria-invalid":S.bool,"aria-errormessage":S.string,"aria-describedby":S.string,"aria-required":S.bool,autofocus:S.bool,clearIcon:S.node,className:S.string,defaultValue:S.oneOfType([S.number,S.string]),disabled:S.bool,formatter:S.func,forwardedRef:S.any,hideButtons:S.bool,innerButtons:S.bool,insetLabel:S.node,insetLabelId:S.string,keepFocus:S.bool,max:S.number,min:S.number,parser:S.func,precision:S.number,prefixCls:S.string,pressInterval:S.number,pressTimeout:S.number,preventScroll:S.bool,shiftStep:S.number,showCurrencySymbol:S.bool,step:S.number,style:S.object,suffix:S.any,value:S.oneOfType([S.number,S.string]),onBlur:S.func,onChange:S.func,onDownClick:S.func,onKeyDown:S.func,onNumberChange:S.func,onUpClick:S.func};cF.defaultProps={forwardedRef:be,innerButtons:!1,keepFocus:!1,max:1/0,min:-1/0,prefixCls:oIt.PREFIX,pressInterval:Eb.DEFAULT_PRESS_TIMEOUT,pressTimeout:Eb.DEFAULT_PRESS_TIMEOUT,shiftStep:Eb.DEFAULT_SHIFT_STEP,showCurrencySymbol:!0,size:lIt.DEFAULT_SIZE,step:Eb.DEFAULT_STEP,onBlur:be,onChange:be,onDownClick:be,onFocus:be,onKeyDown:be,onNumberChange:be,onUpClick:be};const Tj=DTe(M.forwardRef(function(e,t){return M.createElement(Qr,{componentName:"InputNumber"},(i,r,s,a)=>M.createElement(cF,Object.assign({localeCode:r,defaultCurrency:a},e,{forwardedRef:t})))}),cF),hIt={PREFIX:nt+"-overflow-list"},cue={COLLAPSE:"collapse",SCROLL:"scroll"},due={START:"start",END:"end"},fIt={GROW:1},Wb={BOUNDARY_SET:Object.values(due),POSITION_SET:["vertical","horizontal"],MODE_SET:Object.values(cue),MODE_MAP:cue,BOUNDARY_MAP:due,OVERFLOW_DIR:fIt},hue={MINIMUM_HTML_ELEMENT_WIDTH:4};class dq extends M.PureComponent{componentDidMount(){const{items:e}=this.props;this.cachedKeys=Object.keys(e);const{root:t,threshold:i,rootMargin:r,option:s,onIntersect:a}=this.props;this.observer=new IntersectionObserver(a,Object.assign({root:t,threshold:i,rootMargin:r},s)),this.observeElement()}componentDidUpdate(){const{items:e}=this.props,t=Object.keys(e);Kn(this.cachedKeys,t)||(this.observeElement(!0),this.cachedKeys=t)}componentWillUnmount(){this.observer&&(this.observer.disconnect(),this.observer=null)}observeElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{items:t}=this.props;if(Hr(t)){this.observer.disconnect();return}e&&this.observer.disconnect(),Object.keys(t).forEach(i=>{const r=t[i];r&&sr(r)&&this.observer.observe(r)})}render(){const{children:e}=this.props;return e}}dq.propTypes={onIntersect:S.func,option:S.object,root:S.any,threshold:S.number,rootMargin:S.string,items:S.object};dq.defaultProps={onIntersect:()=>{},threshold:.75,rootMargin:"0px",option:{},items:{}};const pIt=Wb.BOUNDARY_MAP;class gIt extends jn{constructor(e){super(Object.assign({},e)),this.previousY=void 0,this.isScrollMode=()=>{const{renderMode:t}=this.getProps();return t==="scroll"},this.getReversedItems=()=>{const{items:t}=this.getProps();return Fm(t).reverse()}}getOverflowItem(){const{items:e}=this.getProps(),{visibleState:t,overflow:i}=this.getStates();if(!this.isScrollMode())return i;const r=e.map(l=>{let{key:u}=l;return!!t.get(u)}),s=r.indexOf(!0),a=r.lastIndexOf(!0),o=[];return o[0]=s>=0?e.slice(0,s):[],o[1]=a>=0?e.slice(a+1,e.length):e.slice(),o}handleIntersect(e){const t=Fm(this.getState("visibleState")),i={};e.forEach(l=>{const u=Ce(l,"target.dataset.scrollkey"),c=l.isIntersecting;i[u]=l,t.set(u,c)});let r=!1;for(const l of t.values())if(l){r=!0;break}const s=r,[a]=e,o=a.boundingClientRect.y;if(!s&&this.previousY!==void 0&&o!==this.previousY){this.previousY=o;return}this.previousY=o,this._adapter.updateVisibleState(t),this._adapter.notifyIntersect(i)}handleCollapseOverflow(){const{minVisibleItems:e,collapseFrom:t}=this.getProps(),{overflowWidth:i,containerWidth:r,pivot:s,overflowStatus:a}=this.getStates(),{items:o,onOverflow:l}=this.getProps();let u=i,c=0,d=!1;for(const h of this._adapter.getItemSizeMap().values()){if(u+=h,u>r){d=!0;break}if(c===o.length-1){this._adapter.updateStates({overflowStatus:"normal",pivot:o.length-1,visible:o,overflow:[]});break}c++}if(d){const h=Math.max(e,c),f=t===pIt.START,p=f?this.getReversedItems().slice(0,h).reverse():o.slice(0,h),g=f?this.getReversedItems().slice(h).reverse():o.slice(h);this._adapter.updateStates({overflowStatus:"overflowed",pivot:h,visible:p,overflow:g}),s!==h&&l(g);return}}}const qT=hIt.PREFIX,n4=Wb.BOUNDARY_MAP,fue=Wb.OVERFLOW_DIR,ZT=Wb.MODE_MAP;class wC extends An{constructor(e){var t;super(e),t=this,this.scroller=null,this.spacer=null,this.isScrollMode=()=>{const{renderMode:i}=this.props;return i===ZT.SCROLL},this.resize=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];var r;const s=(r=i[0])===null||r===void 0?void 0:r.target.clientWidth;t.setState({containerWidth:s,overflowStatus:"calculating"})},this.reintersect=i=>{this.foundation.handleIntersect(i)},this.mergeRef=(i,r,s)=>{this.itemRefs[s]=r,typeof i=="function"?i(r):typeof i=="object"&&i&&"current"in i&&(i.current=r)},this.renderOverflow=()=>{const i=this.foundation.getOverflowItem();return this.props.overflowRenderer(i)},this.getItemKey=(i,r)=>{const{itemKey:s}=this.props;return Mn(s)?s(i):Ce(i,s||"key",r)},this.renderItemList=()=>{const{className:i,wrapperClassName:r,wrapperStyle:s,style:a,visibleItemRenderer:o,renderMode:l,collapseFrom:u}=this.props,{visible:c,overflowStatus:d}=this.state;let h=this.renderOverflow();if(!this.isScrollMode()&&(Array.isArray(h)&&(h=M.createElement(M.Fragment,null,h)),M.isValidElement(h))){const g=M.cloneElement(h);h=M.createElement(Ay,{onResize:m=>{let[v]=m;this.setState({overflowWidth:v.target.clientWidth,overflowStatus:"calculating"})}},M.createElement("div",{className:`${qT}-overflow`},g))}const f=l===ZT.SCROLL?(()=>{const g=[M.createElement("div",{className:le(r,`${qT}-scroll-wrapper`),ref:m=>{this.scroller=m},style:Object.assign({},s),key:`${qT}-scroll-wrapper`},c.map(o).map(m=>{const{forwardRef:v,key:_}=m;return M.cloneElement(m,{ref:y=>this.mergeRef(v,y,_),"data-scrollkey":`${_}`,key:_})}))];return this.props.overflowRenderDirection==="both"?(g.unshift(h[0]),g.push(h[1])):this.props.overflowRenderDirection==="start"?(g.unshift(h[1]),g.unshift(h[0])):(g.push(h[0]),g.push(h[1])),g})():[u===n4.START?h:null,c.map((g,m)=>{const{key:v}=g,_=o(g,m),y=M.cloneElement(_);return M.createElement(Ay,{key:v??m,onResize:x=>{let[w]=x;return this.onItemResize(w,g,m)}},M.createElement("div",{key:v??m,className:`${qT}-item`},y))}),u===n4.END?h:null];return M.createElement("div",{className:le(`${qT}`,i),style:Object.assign(Object.assign({},a),l===ZT.COLLAPSE?{maxWidth:"100%",visibility:d==="calculating"?"hidden":"visible"}:null)},...f)},this.onItemResize=(i,r,s)=>{const a=this.getItemKey(r,s),o=this.itemSizeMap.get(a);o?o!==i.target.clientWidth&&(this.itemSizeMap.set(a,i.target.clientWidth),this.setState({overflowStatus:"calculating"})):this.itemSizeMap.set(a,i.target.clientWidth);const{maxCount:l}=this.state;this.itemSizeMap.size===l&&this.setState({overflowStatus:"calculating"})},this.state={direction:fue.GROW,lastOverflowCount:0,overflow:[],visible:[],containerWidth:0,visibleState:new Map,itemSizeMap:new Map,overflowStatus:"calculating",pivot:-1,overflowWidth:0,maxCount:0},this.foundation=new gIt(this.adapter),this.previousWidths=new Map,this.itemRefs={},this.itemSizeMap=new Map}static getDerivedStateFromProps(e,t){const{prevProps:i}=t,r={};r.prevProps=e;const s=a=>!i&&a in e||i&&!Kn(i[a],e[a]);if(s("items")||s("style")){if(r.direction=fue.GROW,r.lastOverflowCount=0,r.maxCount=0,e.renderMode===ZT.SCROLL)r.visible=e.items,r.overflow=[];else{let a=e.items.length;Math.floor(t.containerWidth/hue.MINIMUM_HTML_ELEMENT_WIDTH)!==0&&(a=Math.min(a,Math.floor(t.containerWidth/hue.MINIMUM_HTML_ELEMENT_WIDTH)));const o=e.collapseFrom===n4.START,l=o?Fm(e.items).reverse().slice(0,a):e.items.slice(0,a),u=o?Fm(e.items).reverse().slice(a):e.items.slice(a);r.visible=l,r.overflow=u,r.maxCount=a}r.pivot=-1,r.overflowStatus="calculating"}return r}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateVisibleState:e=>{this.setState({visibleState:e},()=>{var t,i;(i=(t=this.props).onVisibleStateChange)===null||i===void 0||i.call(t,e)})},updateStates:e=>{this.setState(Object.assign({},e))},notifyIntersect:e=>{this.props.onIntersect&&this.props.onIntersect(e)},getItemSizeMap:()=>this.itemSizeMap})}componentDidUpdate(e,t){const i=e.items.map(u=>u.key),r=this.props.items.map(u=>u.key);Kn(i,r)||(this.itemRefs={},this.setState({visibleState:new Map}));const{overflow:s,containerWidth:a,visible:o,overflowStatus:l}=this.state;this.isScrollMode()||l!=="calculating"||this.foundation.handleCollapseOverflow()}render(){const e=this.renderItemList(),{renderMode:t}=this.props;return t===ZT.SCROLL?M.createElement(dq,{onIntersect:this.reintersect,root:this.scroller,threshold:this.props.threshold,items:this.itemRefs},e):M.createElement(Ay,{onResize:this.resize},e)}}wC.__SemiComponentName__="OverflowList";wC.defaultProps=Du(wC.__SemiComponentName__,{collapseFrom:"end",minVisibleItems:0,overflowRenderer:()=>null,renderMode:"collapse",threshold:.75,visibleItemRenderer:()=>null,onOverflow:()=>null,overflowRenderDirection:"both"});wC.propTypes={className:S.string,collapseFrom:S.oneOf(Wb.BOUNDARY_SET),direction:S.oneOf(Wb.POSITION_SET),items:S.array,minVisibleItems:S.number,onIntersect:S.func,onOverflow:S.func,overflowRenderer:S.func,renderMode:S.oneOf(Wb.MODE_SET),style:S.object,threshold:S.number,visibleItemRenderer:S.func,wrapperClassName:S.string,wrapperStyle:S.object,collapseMask:S.object,overflowRenderDirection:S.string};const mIt={PREFIX:`${nt}-page`},hq={PAGE_SHOW_MAX:7,DEFAULT_PAGE_SIZE:10,PAGE_SIZE_OPTION:[10,20,40,100],REST_PAGE_MAX_SIZE:1e6};class vIt extends jn{constructor(e){super(Object.assign({},e))}init(){const{currentPage:e,total:t,pageSize:i}=this.getStates();this._updateDisabled({currentPage:e,total:t,pageSize:i}),this._updatePageList({currentPage:e,total:t,pageSize:i}),this._registerEventHandler()}destroy(){this._unregisterEventHandler()}_registerEventHandler(){this._adapter.registerKeyDownHandler(this.handleKeyDown)}_unregisterEventHandler(){this._adapter.unregisterKeyDownHandler(this.handleKeyDown)}_updateDisabled(e){const{currentPage:t,total:i,pageSize:r}=e,s=this._getTotalPageNumber(i,r);let a=!1,o=!1;t===1?(a=!0,o=s<2):t===s&&(a=!1,o=!0),this._adapter.setDisabled(a,o)}goPage(e){if(e==="...")return;const{pageSize:t,currentPage:i}=this.getStates(),r=this._isInProps("currentPage");e!==i&&(r?(this._adapter.notifyPageChange(e),this._adapter.notifyChange(e,t)):(this.updatePage(e),this._adapter.notifyPageChange(e),this._adapter.notifyChange(e,t)))}updatePage(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;(t===null||typeof t>"u")&&(t=this.getState("total")),(i===null||typeof i>"u")&&(i=this.getState("pageSize")),this._updateDisabled({currentPage:e,total:t,pageSize:i}),this._updatePageList({currentPage:e,total:t,pageSize:i}),this._adapter.updateTotal(t),this._adapter.setCurrentPage(e),this._adapter.updatePageSize(i)}updateAllPageNumbers(e,t){const{size:i,hoverShowPageSelect:r,disabled:s}=this.getProps();if(!(i!=="small"||!r||s)){const a=Array.from({length:Math.ceil(e/t)},(o,l)=>l+1);this._adapter.updateAllPageNumbers(a)}}goPrev(){const{currentPage:e}=this.getStates();e>1&&this.goPage(e-1)}goNext(){const{currentPage:e,total:t,pageSize:i}=this.getStates(),r=this._getTotalPageNumber(t,i);e<=r-1&&this.goPage(e+1)}_updatePageList(e){const{currentPage:t,total:i,pageSize:r}=e;let s=[],a=[],o=[];const l=this._getTotalPageNumber(i,r),{PAGE_SHOW_MAX:u,REST_PAGE_MAX_SIZE:c}=hq;if(l<=u)s=Array.from({length:l},(d,h)=>h+1),a=[],o=[];else switch(!0){case t<4:s=[1,2,3,4,"...",l-1,l],o=Array.from({length:Math.min(l-6,c)},(f,p)=>p+5),a=[];break;case t===4:s=[1,2,3,4,5,"...",l],o=Array.from({length:Math.min(l-6,c)},(f,p)=>p+6),a=[];break;case(4<t&&t<l-3):const d=Array.from({length:3},(f,p)=>t+(p-1));s=[1].concat("...",d,"...",l),o=Array.from({length:Math.min(l-t-2,c)},(f,p)=>t+p+2),a=Array.from({length:Math.min(t-3,c)},(f,p)=>p+2);break;case(t-3<=t&&t<=l):const h=Array.from({length:5},(f,p)=>l-(4-p));s=[1,"..."].concat(h),o=[],a=Array.from({length:Math.min(h[0]-2,c)},(f,p)=>p+2);break}this._adapter.setPageList({pageList:s,restLeftPageList:a,restRightPageList:o})}changePageSize(e){const{pageSize:t}=this.getStates();this._adapter.updatePageSize(e),this._adapter.notifyPageSizeChange(e);const{total:i,currentPage:r}=this.getStates(),s=(r-1)*t+1,a=Math.ceil(s/e);this.updatePage(a,i,e),r!==a&&this._adapter.notifyPageChange(a),this._adapter.notifyChange(a,e)}handleKeyDown(){}pageSizeInOpts(){const{pageSizeOpts:e}=this.getProps(),{pageSize:t}=this.getStates(),i=[...e];if(i.indexOf(t)===-1){const r=i.findIndex(s=>s>t);i.splice(r,0,t)}return i}handleQuickJumpNumberChange(e){this._adapter.updateQuickJumpPage(e)}_handleQuickJump(e){let t=Number(e);const{pageSize:i,total:r}=this.getStates(),s=this._getTotalPageNumber(r,i);Number.isNaN(t)||(t>s&&(t=s),t<=0&&(t=1),this._adapter.updateQuickJumpPage(""),this.goPage(t))}handleQuickJumpBlur(){const{quickJumpPage:e}=this.getStates();(typeof e=="string"&&e||typeof e=="number")&&this._handleQuickJump(e)}handleQuickJumpEnterPress(e){this._handleQuickJump(e)}_getTotalPageNumber(e,t){return Math.ceil(e/t)}}const fq={PREFIX:`${nt}-select`,PREFIX_OPTION:`${nt}-select-option`,PREFIX_GROUP:`${nt}-select-group`},Cm={SIZE_SET:["small","large","default"],POSITION_SET:Ey.POSITION_SET,STATUS:w1,SEARCH_POSITION_TRIGGER:"trigger",SEARCH_POSITION_DROPDOWN:"dropdown"},SEe={LIST_HEIGHT:270};var pue=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};class yIt extends jn{constructor(e){super(Object.assign({},e)),this._keydownHandler=null}init(){this._setDropdownWidth();const e=this.getProp("defaultOpen"),t=this.getProp("open"),i=this._collectOptions();this._setDefaultSelection(i),(e||t)&&this.open(void 0,i),this.getProp("autoFocus")&&this.focus()}focus(){const e=this._isFilterable(),t=this._isMultiple();this._adapter.updateFocusState(!0),this._adapter.setIsFocusInContainer(!1),e&&t?this.focusInput():e&&!t?this.toggle2SearchInput(!0):this._focusTrigger()}_focusTrigger(){this._adapter.focusTrigger()}destroy(){this._adapter.unregisterClickOutsideHandler()}_setDropdownWidth(){const{style:e,dropdownMatchSelectWidth:t}=this.getProps();let i;t&&(e&&Ns(e.width)||e&&oi(e.width)&&!e.width.includes("%")?i=e.width:i=this._adapter.getTriggerWidth(),this._adapter.setOptionWrapperWidth(i))}_collectOptions(){const e=this._adapter.getOptionsFromChildren();return this._adapter.updateOptions(e),this._adapter.rePositionDropdown(),e}_setDefaultSelection(e){let{value:t}=this.getProps();const{defaultValue:i}=this.getProps();this._isControlledComponent()||(t=i),this._update(t,e)}handleOptionListChange(){const e=this._collectOptions(),{selections:t}=this.getStates();this.updateOptionsActiveStatus(t,e);const{defaultActiveFirstOption:i}=this.getProps();i&&this._adapter.updateFocusIndex(0)}handleOptionListChangeHadDefaultValue(){const e=this.getState("selections");let t;const{onChangeWithObject:i}=this.getProps(),r=this._isMultiple();switch(!0){case(r&&!!e.size):try{t=[...e].map(a=>i?a[1]:a[1].value)}catch{t=[]}break;case(r&&!e.size):t=[];break;case(!r&&!!e.size):try{t=i?[...e][0][1]:[...e][0][1].value}catch{}break;case(!r&&!e.size):break}const s=this._adapter.getOptionsFromChildren();this._update(t,s)}handleValueChange(e){const{allowCreate:t,autoClearSearchValue:i,remote:r}=this.getProps(),{inputValue:s}=this.getStates();let a;t&&this._isControlledComponent()?(a=this.getState("options"),a.forEach(o=>o._show=!0)):a=this._adapter.getOptionsFromChildren(),this._adapter.rePositionDropdown(),this._isFilterable()&&!i&&s&&!r&&(a=this._filterOption(a,s)),this._update(e,a)}_update(e,t){let i;this._isMultiple()?(i=this._updateMultiple(e,t),this.updateOverflowItemCount(i.size)):i=this._updateSingle(e,t),this._adapter.updateSelection(i),this.updateOptionsActiveStatus(i,t)}_updateSingle(e,t){const i=new Map,{onChangeWithObject:r}=this.getProps(),s=r&&typeof e<"u"?e.value:e,a=t.filter(l=>l.value===s),o=!a.length&&typeof s<"u"&&s!==null;if(a.length){const l=a[0],u=Object.assign({},l);i.set(u.label,u)}else if(o){let l={value:e,label:e,_notExist:!0,_scrollIndex:-1};r&&(l=Object.assign(Object.assign({},e),{_notExist:!0,_scrollIndex:-1})),i.set(l.label,l)}return i}_updateMultiple(e,t){const i=this.getState("selections");let r=[];const s=Array.isArray(e);this.checkMultipleProps(),i.size&&(r=[...i].map(u=>u[1]));const a=new Map;let o=e;const{onChangeWithObject:l}=this.getProps();return l&&s&&(o=e.map(u=>u.value)),s&&o.length&&o.forEach((u,c)=>{const d=t.findIndex(h=>h.value===u);if(d!==-1)a.set(t[d].label,t[d]);else{const h=r.findIndex(f=>f.value===u);if(h!==-1){const f=r[h];if(l){const p=Object.assign({},e[c]);Kn(p,f)?a.set(f.label,f):a.set(p.label,p)}else a.set(f.label,f)}else{let f={value:u,label:u,_notExist:!0};l&&(f=Object.assign(Object.assign({},e[c]),{_notExist:!0})),a.set(f.label,Object.assign(Object.assign({},f),{_scrollIndex:-1}))}}}),a}_isMultiple(){return this.getProp("multiple")}_isDisabled(){return this.getProp("disabled")}_isFilterable(){return!!this.getProp("filter")}handleClick(e){const{clickToHide:t}=this.getProps(),{isOpen:i}=this.getStates();this._isDisabled()||(i?i&&t?this.close({event:e}):i&&!t&&this.focusInput():(this.open(),this._notifyFocus(e)))}open(e,t){const i=this._isFilterable(),r=t||this.getState("options");if(i){const a=this._filterOption(r,"").filter(o=>!o._inputCreateOnly);this._adapter.updateOptions(a),this.toggle2SearchInput(!0)}else this._adapter.updateFocusState(!0);this._adapter.openMenu(()=>{const{searchPosition:s,autoFocus:a}=this.getProps();a&&s===Cm.SEARCH_POSITION_DROPDOWN&&this._adapter.focusDropdownInput()}),this._setDropdownWidth(),this._adapter.notifyDropdownVisibleChange(!0),this.bindKeyBoardEvent(),this._adapter.registerClickOutsideHandler(s=>{this.close({event:s}),this._notifyBlur(s),this._adapter.updateFocusState(!1)})}toggle2SearchInput(e){e?this._adapter.toggleInputShow(e,()=>this.focusInput()):this._adapter.toggleInputShow(e,()=>{})}close(e){const{event:t,closeCb:i,notToggleInput:r}=e||{},{isFocus:s}=this.getStates();this._adapter.closeMenu(),this._adapter.notifyDropdownVisibleChange(!1),this._adapter.setIsFocusInContainer(!1),s&&this._focusTrigger(),this._adapter.unregisterClickOutsideHandler();const a=this._isFilterable();a&&!r&&this.toggle2SearchInput(!1),this._adapter.once("popoverClose",()=>{a&&this.clearInput(t),i&&i()})}onSelect(e,t,i){if(this._isDisabled())return;e._inputCreateOnly&&this._adapter.notifyCreate(e),this._isMultiple()?this._handleMultipleSelect(e,i):this._handleSingleSelect(e,i),this._adapter.updateFocusIndex(t)}_handleSingleSelect(e,t){var{value:i,label:r}=e,s=pue(e,["value","label"]);const a=new Map().set(r,Object.assign({value:i,label:r},s));this._notifySelect(i,Object.assign({value:i,label:r},s));const o=this._isFilterable();this._isControlledComponent()?this.close({event:t,notToggleInput:!0,closeCb:()=>{this._notifyChange(a),o&&this.toggle2SearchInput(!1)}}):(this._adapter.updateSelection(a),this._notifyChange(a),this.close({event:t,closeCb:()=>{this.updateOptionsActiveStatus(a)}}))}_handleMultipleSelect(e,t){var{value:i,label:r}=e,s=pue(e,["value","label"]);const a=this._adapter.getMaxLimit(),o=this._adapter.getSelections(),{autoClearSearchValue:l}=this.getProps();if(o.has(r))this._notifyDeselect(i,Object.assign({value:i,label:r},s)),o.delete(r);else if(a&&o.size===a){this._adapter.notifyMaxLimit(Object.assign({value:i,label:r},Co(s,"_scrollIndex")));return}else this._notifySelect(i,Object.assign({value:i,label:r},s)),o.set(r,Object.assign({value:i,label:r},s));if(this._isControlledComponent())this._notifyChange(o),this._isFilterable()&&(l&&this.clearInput(t),this.focusInput());else{this._adapter.updateSelection(o),this.updateOverflowItemCount(o.size),this._adapter.rePositionDropdown();let{options:u}=this.getStates();this._isFilterable()&&(l&&(this.clearInput(t),u=this._filterOption(u,"")),this.focusInput()),this.updateOptionsActiveStatus(o,u),this._notifyChange(o)}}clearSelected(){const e=new Map;this._isControlledComponent()?(this._notifyChange(e),this._adapter.notifyClear()):(this._adapter.updateSelection(e),this.updateOptionsActiveStatus(e),this._notifyChange(e),this._adapter.notifyClear());const{isOpen:t}=this.getStates();t&&this._adapter.rePositionDropdown()}updateOptionsActiveStatus(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getState("options");const{allowCreate:i}=this.getProps(),r=t.map(s=>(e.has(s.label)?(s._selected=!0,i&&delete s._inputCreateOnly):(s._inputCreateOnly&&(s._show=!1),s._selected=!1),s));this._adapter.updateOptions(r)}removeTag(e){const t=this._adapter.getSelections();t.delete(e.label),this._isControlledComponent()?(this._notifyDeselect(e.value,e),this._notifyChange(t)):(this._notifyDeselect(e.value,e),this._adapter.updateSelection(t),this.updateOverflowItemCount(t.size),this.updateOptionsActiveStatus(t),this._adapter.rePositionDropdown(),this._notifyChange(t))}clearInput(e){const{inputValue:t}=this.getStates();if(t!==""){this._adapter.updateInputValue(""),this._adapter.notifySearch("",e);const{options:i}=this.getStates(),{remote:r}=this.getProps();let s=i;r||(s=this._filterOption(i,"")),this._adapter.updateOptions(s)}}focusInput(){this._adapter.focusInput(),this._adapter.updateFocusState(!0),this._adapter.setIsFocusInContainer(!1)}handleInputChange(e,t){this._adapter.updateInputValue(e);const{options:i,isOpen:r}=this.getStates(),{allowCreate:s,remote:a}=this.getProps();let o=i;a||(o=this._filterOption(i,e)),o=this._createOptionByInput(s,o,e),this._adapter.updateOptions(o),this._adapter.notifySearch(e,t),this._isMultiple()&&this._adapter.rePositionDropdown()}_filterOption(e,t){const i=this.getProp("filter");if(i){if(typeof i=="boolean"&&i){const r=t.toLowerCase();return e.map(s=>{const a=s.label.toString().toLowerCase(),o=s._parentGroup&&s._parentGroup.label,l=a.includes(r),u=oi(o)&&o.toLowerCase().includes(r);return l||u?s._show=!0:s._show=!1,s})}else if(typeof i=="function")return e.map(r=>(i(t,r)?r._show=!0:r._show=!1,r))}else return e}_createOptionByInput(e,t,i){if(e)if(i){const r={_show:!0,_selected:!1,value:i,label:i,_inputCreateOnly:!0};let s=-1,a=-1;t.forEach((o,l)=>{!o._show&&!o._inputCreateOnly||(o.label===i&&(a=l),o._inputCreateOnly&&(s=l,o.value=i,o.label=i,o._show=!0))}),s===-1&&a===-1&&t.push(r),a!==-1&&(t=t.filter(o=>!o._inputCreateOnly))}else t=t.filter(r=>!r._inputCreateOnly);return t}bindKeyBoardEvent(){this._keydownHandler=e=>{this._handleKeyDown(e)},this._adapter.registerKeyDown(this._keydownHandler)}unBindKeyBoardEvent(){this._keydownHandler&&this._adapter.unregisterKeyDown()}_handleKeyDown(e){const t=e.keyCode,{loading:i,filter:r,multiple:s,disabled:a}=this.getProps(),{isOpen:o}=this.getStates();if(!(i||a))switch(t){case Ho.UP:e.preventDefault(),this._handleArrowKeyDown(-1);break;case Ho.DOWN:e.preventDefault(),this._handleArrowKeyDown(1);break;case Ho.BACKSPACE:this._handleBackspaceKeyDown();break;case Ho.ENTER:xu(e),this._handleEnterKeyDown(e);break;case Ho.ESC:o&&this.close({event:e}),r&&!s&&this._focusTrigger();break;case Ho.TAB:this._handleTabKeyDown(e);break}}handleContainerKeyDown(e){const t=e.keyCode,{isOpen:i}=this.getStates();switch(t){case Ho.TAB:i&&this._handleTabKeyDown(e);break}}_getEnableFocusIndex(e){const{focusIndex:t,options:i}=this.getStates(),r=i.filter(o=>o._show),s=r.length;let a=t+e;if(a<0&&(a=s-1),a>=s&&(a=0),e>0){let o=-1;for(let l=0;l<r.length&&(!r[l].disabled&&(o=l),!(o>=a));l++);a=o}else{let o=r.length;for(let l=s-1;l>=0&&(!r[l].disabled&&(o=l),!(o<=a));l--);a=o}this._adapter.updateFocusIndex(a),this._adapter.updateScrollTop(a)}_handleArrowKeyDown(e){const{isOpen:t}=this.getStates();t?this._getEnableFocusIndex(e):this.open()}_handleTabKeyDown(e){const{isOpen:t}=this.getStates();if(this._adapter.updateFocusState(!1),t){const i=this._adapter.getContainer(),r=this._adapter.getFocusableElements(i);r.length>0?e.shiftKey?this._handlePanelOpenShiftTabKeyDown(r,e):this._handlePanelOpenTabKeyDown(r,e):(this.close({event:e}),this._notifyBlur(e))}else this._notifyBlur(e)}_handlePanelOpenTabKeyDown(e,t){const i=this._adapter.getActiveElement();this._adapter.getIsFocusInContainer()?i===e[e.length-1]&&(this._focusTrigger(),this.close({event:t}),xu(t)):(e[0].focus(),this._adapter.setIsFocusInContainer(!0),xu(t))}_handlePanelOpenShiftTabKeyDown(e,t){const i=this._adapter.getActiveElement();this._adapter.getIsFocusInContainer()?i===e[0]&&(this._focusTrigger(),this._adapter.setIsFocusInContainer(!1),xu(t)):(this.close({event:t}),this._notifyBlur(t))}_handleEnterKeyDown(e){const{isOpen:t,options:i,focusIndex:r}=this.getStates();if(!t)this.open();else if(r!==-1){const s=i.filter(o=>o._show),{length:a}=s;if(a<=r)return;if(s&&a){const o=s[r];if(o.disabled)return;this.onSelect(o,r,e)}}else this.close({event:e})}_handleBackspaceKeyDown(){if(this._isMultiple()){const e=this._adapter.getSelections(),{inputValue:t}=this.getStates(),i=e.size;if(i&&!t){const r=[...e.keys()];let s=i-1,a=r[s],o=e.get(a),l=!1;if(o.disabled&&s===0)return;for(;o.disabled&&s!==0;)s=s-1,a=r[s],o=e.get(a),s==0&&o.disabled&&(l=!0);l||this.removeTag(o)}}}_notifyChange(e){const{onChangeWithObject:t}=this.getProps(),i=this.getState("selections");let r;const s=[...e.values()],a=this._isMultiple();if(this._diffSelections(e,i,a))switch(!0){case t:this._notifyChangeWithObject(e);break;case(!t&&!a):r=s.length?s[0].value:void 0,this._adapter.notifyChange(r);break;case(!t&&a):r=s.length?s.map(l=>l.value):[],this._adapter.notifyChange(r);break}}_removeInternalKey(e){let t=Object.assign({},e);return delete t._parentGroup,delete t._show,delete t._selected,delete t._scrollIndex,delete t._keyInJsx,"_keyInOptionList"in t&&(t.key=t._keyInOptionList,delete t._keyInOptionList),t}_notifySelect(e,t){const i=this._removeInternalKey(t);this._adapter.notifySelect(e,i)}_notifyDeselect(e,t){const i=this._removeInternalKey(t);this._adapter.notifyDeselect(e,i)}_diffSelections(e,t,i){let r=!0,s=!0;if(!i){const a=[...e.values()],o=[...t.values()],l=a[0]?a[0].value:a[0],u=o[0]?o[0].value:o[0];s=!Kn(l,u);const c=a[0]?a[0].label:a[0],d=o[0]?o[0].label:o[0];r=!Kn(c,d)}return s||r}_notifyChangeWithObject(e){this.getState("selections");const t=[];for(const i of e.entries()){let r=Object.assign({label:i[0]},i[1]);r=this._removeInternalKey(r),t.push(r)}this._isMultiple()?this._adapter.notifyChange(t):this._adapter.notifyChange(t[0])}_notifyBlur(e){this._adapter.notifyBlur(e)}_notifyFocus(e){this._adapter.notifyFocus(e)}handleMouseEnter(e){this._adapter.updateHovering(!0),this._adapter.notifyMouseEnter(e)}handleMouseLeave(e){this._adapter.updateHovering(!1),this._adapter.notifyMouseLeave(e)}handleClearClick(e){const{filter:t,searchPosition:i}=this.getProps();t&&i===Cm.SEARCH_POSITION_TRIGGER&&this.clearInput(e),this.focus(),this.clearSelected(),e.stopPropagation()}handleKeyPress(e){e&&e.key===OX&&this.handleClick(e)}handleClearBtnEnterPress(e){gc(e)&&this.handleClearClick(e)}handleOptionMouseEnter(e){this._adapter.updateFocusIndex(e)}handleListScroll(e){this._adapter.notifyListScroll(e)}handleTriggerFocus(e){this.bindKeyBoardEvent(),this._adapter.setIsFocusInContainer(!1)}handleTriggerBlur(e){const{filter:t,autoFocus:i}=this.getProps(),{isOpen:r,isFocus:s}=this.getStates();s&&!r&&(this._notifyBlur(e),this._adapter.updateFocusState(!1))}handleInputBlur(e){const{filter:t,autoFocus:i}=this.getProps(),{showInput:r,isOpen:s}=this.getStates(),a=this._isMultiple();t&&!a&&(r||i)&&!s&&this.toggle2SearchInput(!1)}selectAll(){const{options:e}=this.getStates(),{onChangeWithObject:t}=this.getProps();let i=[];if(!this._isMultiple()){console.warn(`[Semi Select]: It seems that you have called the selectAll method in the single-selection Select.
                Please note that this is not a legal way to use it`);return}t?i=e:i=e.map(s=>s.value),this.handleValueChange(i),this._adapter.notifyChange(i)}checkMultipleProps(e){if(this._isMultiple()){const t=e||this.getProps(),{defaultValue:i,value:r}=t,s=r||i;!br(s)&&!Array.isArray(s)&&gs(!0,"[Semi Select] defaultValue/value should be array type in multiple mode")}}updateScrollTop(){this._adapter.updateScrollTop()}updateOverflowItemCount(e,t){const{maxTagCount:i,ellipsisTrigger:r}=this.getProps();r&&(t?this._adapter.updateOverflowItemCount(t):typeof i=="number"&&(e-i>0?this._adapter.updateOverflowItemCount(e-i):this._adapter.updateOverflowItemCount(0)))}updateIsFullTags(){const{isFullTags:e}=this.getStates();e||this._adapter.setState({isFullTags:!0})}handlePopoverClose(){this._adapter.emit("popoverClose")}handleSlotMouseEnter(){this._adapter.updateFocusIndex(-1)}}const QT=J1e.PREFIX,xEe=O1.TAG_SIZE,_It=O1.AVATAR_SHAPE;class aO extends q.PureComponent{renderNTag(e,t){const{size:i,showPopover:r,popoverProps:s,onPlusNMouseEnter:a}=this.props;let o=M.createElement(fh,{closable:!1,size:i,color:"grey",style:{backgroundColor:"transparent"},key:"_+n",onMouseEnter:a},"+",e);return r&&(o=M.createElement(Ko,Object.assign({showArrow:!0,content:t,trigger:"hover",position:"top",autoAdjustOverflow:!0,className:`${QT}-rest-group-popover`},s,{key:"_+n_Popover"}),o)),o}renderMergeTags(e){const{maxTagCount:t,tagList:i,restCount:r}=this.props,s=r||i.length-t;let a=e;const o=e.slice(0,t),l=e.slice(t);let u=null;return s>0&&(u=this.renderNTag(s,l),o.push(u),a=o),a}renderAllTags(){const{tagList:e,size:t,mode:i,avatarShape:r,onTagClose:s}=this.props;return e.map(o=>{if(i==="custom")return o;const l=Object.assign({},o);return l.size||(l.size=t),l.avatarShape||(l.avatarShape=r),l.tagKey||(typeof l.children=="string"||typeof l.children=="number"?l.tagKey=l.children:l.tagKey=Math.random()),M.createElement(fh,Object.assign({},l,{key:l.tagKey,onClose:(u,c,d)=>{l.onClose&&l.onClose(u,c,d),s&&s(u,c,d)}}))})}render(){const{style:e,className:t,maxTagCount:i,size:r}=this.props,s=le({[`${QT}-group`]:!0,[`${QT}-group-max`]:i,[`${QT}-group-small`]:r==="small",[`${QT}-group-large`]:r==="large"},t),a=this.renderAllTags(),o=typeof i>"u"?a:this.renderMergeTags(a);return M.createElement("div",{style:e,className:s},o)}}aO.defaultProps={style:{},className:"",size:xEe[0],avatarShape:"square",onTagClose:()=>{},onPlusNMouseEnter:()=>{}};aO.propTypes={children:S.node,style:S.object,className:S.string,maxTagCount:S.number,restCount:S.number,tagList:S.array,size:S.oneOf(xEe),mode:S.string,onTagClose:S.func,showPopover:S.bool,popoverProps:S.object,avatarShape:S.oneOf(_It)};var bIt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const gue=(n,e,t,i)=>{const r=n.props;if(!n||!r)return null;const s=Object.assign(Object.assign({value:r.value,label:r.label||r.children||r.value,_show:!0,_selected:!1,_scrollIndex:t},r),{_parentGroup:e});return s._keyInJsx=i||n.key,s},SIt=n=>{let e=[],t=[];const i={label:"",children:[],_show:!1};let r=M.Children.toArray(n);r=r.filter(o=>o&&o.props);let s="",a=-1;return r.forEach(o=>{if(o.type.isSelectOption){s="option",a++;const l=gue(o,void 0,a);i.children.push(l),t.push(l)}else if(o.type.isSelectOptionGroup){s="group";let l=o.props,{children:u}=l,c=bIt(l,["children"]);c.key=o.key;let d=[];Array.isArray(u)?d=u.map(p=>p.key):d.push(u.key),u=M.Children.toArray(u);const h=u.map((p,g)=>{let m=p.key;return d[g]===null&&(m=o.key+""+p.key),a++,gue(p,c,a,m)}),f=Object.assign(Object.assign({},o.props),{children:h,key:o.key});e.push(f),t=t.concat(h)}else gs(!0,"[Semi Select] The children of `Select` should be `Select.Option` or `Select.OptionGroup`")}),s==="option"&&(e=[i]),{optionGroups:e,options:t}},wEe=n=>{let{index:e,data:t,style:i}=n;const{visibleOptions:r,renderOption:s}=t,a=r[e];return s(a,e,i)};var mue=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};let Ub=class extends q.PureComponent{onClick(e,t){var{value:i,label:r,children:s}=e,a=mue(e,["value","label","children"]);const{props:o}=this;o.disabled||o.onSelect(Object.assign(Object.assign({},a),{value:i,label:r||s}),t)}renderOptionContent(e){let{config:t,children:i,inputValue:r,prefixCls:s}=e;return oi(i)&&r?M.createElement(GP,{searchWords:t.searchWords,sourceString:t.sourceString,highlightClassName:t.highlightClassName}):i}render(){const e=this.props,{children:t,disabled:i,value:r,selected:s,label:a,empty:o,emptyContent:l,onSelect:u,focused:c,showTick:d,className:h,style:f,onMouseEnter:p,prefixCls:g,renderOptionItem:m,inputValue:v,semiOptionId:_}=e,y=mue(e,["children","disabled","value","selected","label","empty","emptyContent","onSelect","focused","showTick","className","style","onMouseEnter","prefixCls","renderOptionItem","inputValue","semiOptionId"]),x=le(g,{[`${g}-disabled`]:i,[`${g}-selected`]:s,[`${g}-focused`]:c,[`${g}-empty`]:o,[h]:h}),w=le([`${g}-icon`]);if(o)return l===null?null:M.createElement(Qr,{componentName:"Select"},E=>M.createElement("div",{className:x,"x-semi-prop":"emptyContent"},l||E.emptyText));if(typeof m=="function"){const E=le(h,{[`${g}-custom`]:!0,[`${g}-custom-selected`]:s});return m(Object.assign({disabled:i,focused:c,selected:s,style:f,label:a,value:r,inputValue:v,onMouseEnter:A=>p(A),onClick:A=>this.onClick(Object.assign({value:r,label:a,children:t},y),A),className:E},y))}const T={searchWords:[v],sourceString:t,highlightClassName:`${g}-keyword`};return M.createElement("div",Object.assign({className:x,onClick:E=>{this.onClick(Object.assign({value:r,label:a,children:t},y),E)},onMouseEnter:E=>p&&p(E),role:"option",id:_,"aria-selected":s?"true":"false","aria-disabled":i?"true":"false",style:f},h0(y)),d?M.createElement("div",{className:w},M.createElement(mC,null)):null,oi(t)?M.createElement("div",{className:`${g}-text`},this.renderOptionContent({children:t,config:T,inputValue:v,prefixCls:g})):t)}};Ub.isSelectOption=!0;Ub.propTypes={children:S.node,disabled:S.bool,value:S.oneOfType([S.string,S.number]),selected:S.bool,label:S.node,empty:S.bool,emptyContent:S.node,onSelect:S.func,focused:S.bool,showTick:S.bool,className:S.string,style:S.object,onMouseEnter:S.func,prefixCls:S.string,renderOptionItem:S.func,inputValue:S.string};Ub.defaultProps={prefixCls:fq.PREFIX_OPTION};var xIt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const wIt=fq.PREFIX_GROUP;class Ej extends An{render(){const e=this.props,{label:t,className:i,style:r}=e,s=xIt(e,["label","className","style"]),a=le(i,{[wIt]:!0});return!t&&typeof t!="number"?null:M.createElement("div",Object.assign({className:a,style:r},this.getDataAttr(s)),t)}}Ej.isSelectOptionGroup=!0;Ej.propTypes={children:S.oneOfType([S.array,S.node]),label:S.node,className:S.string,style:S.object};var CIt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const dn=fq.PREFIX,TIt=0;class vr extends An{constructor(e){super(e),this.setOptionContainerEl=t=>this.optionContainerEl={current:t},this.handleInputChange=(t,i)=>this.foundation.handleInputChange(t,i),this.getTagItem=(t,i,r)=>{const{size:s,disabled:a}=this.props,o=t[0],{value:l}=t[1],u=t[1].disabled||a,c=(p,g)=>{g&&typeof g.preventDefault=="function"&&g.preventDefault(),this.foundation.removeTag({label:o,value:l})},{content:d,isRenderInTag:h}=r(t[1],{index:i,disabled:u,onClose:c}),f={disabled:u,closable:!u,onClose:c};return h?M.createElement(fh,Object.assign({},f,{color:"white",size:s||"large",key:l,tabIndex:-1}),d):M.createElement(q.Fragment,{key:l},d)},this.state={isOpen:!1,isFocus:!1,options:[],selections:new Map,dropdownMinWidth:null,optionKey:TIt,inputValue:"",showInput:!1,focusIndex:e.defaultActiveFirstOption?0:-1,keyboardEventSet:{},optionGroups:[],isHovering:!1,isFocusInContainer:!1,isFullTags:!1,overflowItemCount:0},this.selectOptionListID="",this.selectID="",this.virtualizeListRef=M.createRef(),this.inputRef=M.createRef(),this.dropdownInputRef=M.createRef(),this.triggerRef=M.createRef(),this.optionsRef=M.createRef(),this.optionContainerEl=M.createRef(),this.clickOutsideHandler=null,this.onSelect=this.onSelect.bind(this),this.onClear=this.onClear.bind(this),this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this.renderOption=this.renderOption.bind(this),this.onKeyPress=this.onKeyPress.bind(this),this.eventManager=new BCe,this.foundation=new yIt(this.adapter)}get adapter(){var e=this;const t={registerKeyDown:s=>{const a={onKeyDown:s};this.setState({keyboardEventSet:a})},unregisterKeyDown:()=>{this.setState({keyboardEventSet:{}})},updateFocusIndex:s=>{this.setState({focusIndex:s})},scrollToFocusOption:()=>{}},i={updateInputValue:s=>{this.setState({inputValue:s})},toggleInputShow:(s,a)=>{this.setState({showInput:s},()=>{a()})},focusInput:()=>{const{preventScroll:s}=this.props;this.inputRef&&this.inputRef.current&&this.inputRef.current.focus({preventScroll:s})},focusDropdownInput:()=>{const{preventScroll:s}=this.props;this.dropdownInputRef&&this.dropdownInputRef.current&&this.dropdownInputRef.current.focus({preventScroll:s})}},r={notifyMaxLimit:s=>this.props.onExceed(s),getMaxLimit:()=>this.props.max,registerClickOutsideHandler:s=>{const a=o=>{const l=this.triggerRef&&this.triggerRef.current,u=this.optionContainerEl&&this.optionContainerEl.current,c=o.target,d=o.composedPath&&o.composedPath()||[c];!(u&&u.contains(c))&&!(l&&l.contains(c))&&!(d.includes(l)||d.includes(u))&&s(o)};this.clickOutsideHandler=a,document.addEventListener("mousedown",a,!1)},unregisterClickOutsideHandler:()=>{this.clickOutsideHandler&&(document.removeEventListener("mousedown",this.clickOutsideHandler,!1),this.clickOutsideHandler=null)},rePositionDropdown:()=>{let{optionKey:s}=this.state;s=s+1,this.setState({optionKey:s})},notifyDeselect:(s,a)=>{delete a._parentGroup,this.props.onDeselect(s,a)}};return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},super.adapter),t),i),r),{on:(s,a)=>this.eventManager.on(s,a),off:s=>this.eventManager.off(s),once:(s,a)=>this.eventManager.once(s,a),emit:s=>this.eventManager.emit(s),getOptionsFromChildren:function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.props.children,a=[],o=[];const{optionList:l}=e.props;if(l&&l.length)o=l.map((u,c)=>Object.assign({_show:!0,_selected:!1,_scrollIndex:c},u)),a[0]={children:o,label:""};else{const u=SIt(s);a=u.optionGroups,o=u.options}return e.setState({optionGroups:a}),o},updateOptions:s=>{this.setState({options:s})},openMenu:s=>{this.setState({isOpen:!0},()=>{s==null||s()})},closeMenu:()=>{this.setState({isOpen:!1})},getTriggerWidth:()=>{const s=this.triggerRef.current;return s&&s.getBoundingClientRect().width},setOptionWrapperWidth:s=>{this.setState({dropdownMinWidth:s})},updateSelection:s=>{this.setState({selections:s})},getSelections:()=>new Map(this.state.selections),notifyChange:s=>{this.props.onChange(s)},notifySelect:(s,a)=>{delete a._parentGroup,this.props.onSelect(s,a)},notifyDropdownVisibleChange:s=>{this.props.onDropdownVisibleChange(s)},notifySearch:(s,a)=>{this.props.onSearch(s,a)},notifyCreate:s=>{this.props.onCreate(s)},notifyMouseEnter:s=>{this.props.onMouseEnter(s)},notifyMouseLeave:s=>{this.props.onMouseLeave(s)},notifyFocus:s=>{this.props.onFocus(s)},notifyBlur:s=>{this.props.onBlur(s)},notifyClear:()=>{this.props.onClear()},notifyListScroll:s=>{this.props.onListScroll(s)},updateHovering:s=>{this.setState({isHovering:s})},updateFocusState:s=>{this.setState({isFocus:s})},updateOverflowItemCount:s=>{this.setState({overflowItemCount:s})},focusTrigger:()=>{try{const{preventScroll:s}=this.props;this.triggerRef.current.focus({preventScroll:s})}catch{}},getContainer:()=>this.optionContainerEl&&this.optionContainerEl.current,getFocusableElements:s=>HCe(s),getActiveElement:()=>zCe(),setIsFocusInContainer:s=>{this.setState({isFocusInContainer:s})},getIsFocusInContainer:()=>this.state.isFocusInContainer,updateScrollTop:s=>{let a;"renderOptionItem"in this.props?(a=`.${dn}-option-custom-selected`,s!==void 0&&(a=`.${dn}-option-custom:nth-child(${s+1})`)):(a=`.${dn}-option-selected`,s!==void 0&&(a=`.${dn}-option:nth-child(${s+1})`));let o=document.querySelector(`#${dn}-${this.selectOptionListID} ${a}`);if(Array.isArray(o)&&(o=o[0]),o){const l=o.parentNode;l.scrollTop=o.offsetTop-l.offsetTop-l.clientHeight/2+o.clientHeight/2}}})}componentDidMount(){this.foundation.init(),this.selectOptionListID=Dm(),this.selectID=this.props.id||Dm()}componentWillUnmount(){this.foundation.destroy()}componentDidUpdate(e,t){const i=M.Children.toArray(e.children).map(a=>a.key),r=M.Children.toArray(this.props.children).map(a=>a.key);let s=!1;(!Kn(i,r)||!Kn(e.optionList,this.props.optionList))&&(s=!0,this.foundation.handleOptionListChange()),(!Kn(this.props.value,e.value)||s)&&("value"in this.props?this.foundation.handleValueChange(this.props.value):this.foundation.handleOptionListChangeHadDefaultValue())}renderTriggerInput(){const{size:e,multiple:t,disabled:i,inputProps:r,filter:s}=this.props,a=Ce(r,"className"),o=le(`${dn}-input`,{[`${dn}-input-single`]:!t,[`${dn}-input-multiple`]:t},a),{inputValue:l,focusIndex:u}=this.state,c=Object.assign({value:l,disabled:i,className:o,onChange:this.handleInputChange},r);let d={};return t&&(d={width:l?`${l.length*16}px`:"2px"},c.style=d),M.createElement(Gl,Object.assign({ref:this.inputRef,size:e,"aria-activedescendant":u!==-1?`${this.selectID}-option-${u}`:"",onFocus:h=>{t&&s&&this.setState({isFocus:!0}),h.stopPropagation()},onBlur:h=>this.foundation.handleInputBlur(h)},c))}renderDropdownInput(){const{size:e,multiple:t,disabled:i,inputProps:r,filter:s,searchPosition:a,searchPlaceholder:o}=this.props,{inputValue:l,focusIndex:u}=this.state,c=le(`${dn}-dropdown-search-wrapper`,{}),d=Ce(r,"className"),h=le(`${dn}-dropdown-input`,{[`${dn}-dropdown-input-single`]:!t,[`${dn}-dropdown-input-multiple`]:t},d),f=Object.assign(Object.assign({value:l,disabled:i,className:h,onChange:this.handleInputChange,placeholder:o,showClear:!0},r),{onKeyDown:p=>this.foundation._handleKeyDown(p)});return M.createElement("div",{className:c},M.createElement(Gl,Object.assign({ref:this.dropdownInputRef,prefix:M.createElement(_1e,null),"aria-activedescendant":u!==-1?`${this.selectID}-option-${u}`:""},f)))}close(){this.foundation.close()}open(){this.foundation.open()}clearInput(){this.foundation.clearInput()}selectAll(){this.foundation.selectAll()}deselectAll(){this.foundation.clearSelected()}focus(){this.foundation.focus()}onSelect(e,t,i){this.foundation.onSelect(e,t,i)}onClear(e){e.nativeEvent.stopImmediatePropagation(),this.foundation.handleClearClick(e)}search(e,t){this.handleInputChange(e,t)}renderEmpty(){return M.createElement(Ub,{empty:!0,emptyContent:this.props.emptyContent})}renderLoading(){const e=`${dn}-loading-wrapper`;return M.createElement("div",{className:e},M.createElement(bh,null))}renderOption(e,t,i){const{focusIndex:r,inputValue:s}=this.state,{renderOptionItem:a}=this.props;let o;const l=t===r;let u=i||{};return e.style&&(u=Object.assign(Object.assign({},u),e.style)),e._inputCreateOnly?o=this.renderCreateOption(e,l,t,i):("key"in e&&(e._keyInOptionList=e.key),o=M.createElement(Ub,Object.assign({showTick:!0},e,{selected:e._selected,onSelect:(c,d)=>this.onSelect(c,t,d),focused:l,onMouseEnter:()=>this.onOptionHover(t),style:u,key:e._keyInOptionList||e._keyInJsx||e.label+e.value+t,renderOptionItem:a,inputValue:s,semiOptionId:`${this.selectID}-option-${t}`}),e.label)),o}renderCreateOption(e,t,i,r){const{renderCreateItem:s}=this.props;if(typeof s>"u")return M.createElement(Ub,Object.assign({key:e.key||e.label+e.value,onSelect:(l,u)=>this.onSelect(l,i,u),onMouseEnter:()=>this.onOptionHover(i),showTick:!0},e,{focused:t,style:r}),M.createElement(Qr,{componentName:"Select"},l=>M.createElement(M.Fragment,null,M.createElement("span",{className:`${dn}-create-tips`},l.createText),e.value)));const a=s(e.value,t,r);return M.createElement("div",{role:"button","aria-label":"Use the input box to create an optional item",onClick:o=>this.onSelect(e,i,o),key:e.key||e.label},a)}onOptionHover(e){this.foundation.handleOptionMouseEnter(e)}renderWithGroup(e){const t=[],i=new Map;return e.forEach((r,s)=>{const a=r._parentGroup,o=this.renderOption(r,s);if(a&&!i.has(a.label)){const l=typeof a.label=="string"||typeof a.label=="number"?a.label:a.key,u=M.createElement(Ej,Object.assign({},a,{key:l}));i.set(a.label,!0),t.push(u)}t.push(o)}),t}renderVirtualizeList(e){const{virtualize:t}=this.props,{direction:i}=this.context,{height:r,width:s,itemSize:a}=t;return M.createElement(dj,{ref:this.virtualizeListRef,height:r||SEe.LIST_HEIGHT,itemCount:e.length,itemSize:a,itemData:{visibleOptions:e,renderOption:this.renderOption},width:s||"100%",style:{direction:i}},wEe)}renderOptions(e){const{dropdownMinWidth:t,options:i,selections:r}=this.state,{maxHeight:s,dropdownClassName:a,dropdownStyle:o,outerTopSlot:l,innerTopSlot:u,outerBottomSlot:c,innerBottomSlot:d,loading:h,virtualize:f,multiple:p,emptyContent:g,searchPosition:m,filter:v}=this.props,_=i.filter(E=>E._show);let y=this.renderWithGroup(_);f&&(y=this.renderVirtualizeList(_));const x=Object.assign({minWidth:t},o),w=le({[`${dn}-option-list`]:!0,[`${dn}-option-list-chosen`]:r.size}),T=!i.length||!i.some(E=>E._show);return M.createElement("div",{id:`${dn}-${this.selectOptionListID}`,className:le({[`${dn}-option-list-wrapper`]:!(T&&g===null)},a),style:x,ref:this.setOptionContainerEl,onKeyDown:E=>this.foundation.handleContainerKeyDown(E)},l?M.createElement("div",{className:`${dn}-option-list-outer-top-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},l):null,m===Cm.SEARCH_POSITION_DROPDOWN&&v?this.renderDropdownInput():null,M.createElement("div",{style:{maxHeight:`${s}px`},className:w,role:"listbox","aria-multiselectable":p,onScroll:E=>this.foundation.handleListScroll(E)},u?M.createElement("div",{className:`${dn}-option-list-inner-top-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},u):null,h?this.renderLoading():T?this.renderEmpty():y,d?M.createElement("div",{className:`${dn}-option-list-inner-bottom-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},d):null),c?M.createElement("div",{className:`${dn}-option-list-outer-bottom-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},c):null)}renderSingleSelection(e,t){let{renderSelectedItem:i,searchPosition:r}=this.props;const{placeholder:s}=this.props,{showInput:a,inputValue:o}=this.state;let l="";const u=[...e];if(typeof i>"u"&&(i=f=>f.label),u.length){const f=u[0][1];l=i(f)}const c=r===Cm.SEARCH_POSITION_TRIGGER,d=le({[`${dn}-selection-text`]:!0,[`${dn}-selection-placeholder`]:!l&&l!==0,[`${dn}-selection-text-hide`]:o&&a&&c,[`${dn}-selection-text-inactive`]:!o&&a&&c}),h=`${dn}-content-wrapper`;return M.createElement(M.Fragment,null,M.createElement("div",{className:h},M.createElement("span",{className:d,"x-semi-prop":"placeholder"},l||l===0?l:s),t&&a&&c?this.renderTriggerInput():null))}renderTag(e,t,i){const{size:r,disabled:s}=this.props;let{renderSelectedItem:a}=this.props;const o=e[0],{value:l}=e[1],u=e[1].disabled||s,c=(g,m)=>{m&&typeof m.preventDefault=="function"&&m.preventDefault(),this.foundation.removeTag({label:o,value:l})};typeof a>"u"&&(a=g=>({isRenderInTag:!0,content:g.label}));const{content:d,isRenderInTag:h}=a(e[1],{index:t,disabled:u,onClose:c}),f={disabled:u,closable:!u,onClose:c},p=i&&!Mn(this.props.renderSelectedItem)?M.createElement(sj,{size:"small",ellipsis:{rows:1,showTooltip:{type:"popover",opts:{style:{width:"auto",fontSize:12}}}}},d):d;return h?M.createElement(fh,Object.assign({},f,{color:"white",size:r||"large",key:l,style:{maxWidth:"100%"}}),p):M.createElement(q.Fragment,{key:l},p)}renderNTag(e,t){const{size:i,showRestTagsPopover:r,restTagsPopoverProps:s}=this.props;let a=M.createElement(fh,{closable:!1,size:i||"large",color:"grey",className:`${dn}-content-wrapper-collapse-tag`,key:`_+${e}`,style:{marginRight:0,flexShrink:0}},"+",e);return r&&(a=M.createElement(Ko,Object.assign({showArrow:!0,content:M.createElement(FX,{spacing:2,wrap:!0,style:{maxWidth:"400px"}},t.map((o,l)=>this.renderTag(o,l))),trigger:"hover",position:"top",autoAdjustOverflow:!0},s,{key:`_+${e}_Popover`}),a)),a}renderOverflow(e,t){return e.length&&e[0]?this.renderTag(e[0],t,!0):null}handleOverflow(e){const{overflowItemCount:t,selections:i}=this.state,{maxTagCount:r}=this.props,s=i.size-r>0?i.size-r+e.length-1:e.length-1;t!==s&&this.foundation.updateOverflowItemCount(i.size,s)}renderCollapsedTags(e,t){const{overflowItemCount:i}=this.state,r=typeof t=="number"?e.slice(0,t):e;return M.createElement("div",{className:`${dn}-content-wrapper-collapse`},M.createElement(wC,{items:r,key:String(e.length),overflowRenderer:s=>this.renderOverflow(s,t-1),onOverflow:s=>this.handleOverflow(s),visibleItemRenderer:(s,a)=>this.renderTag(s,a)}),i>0&&this.renderNTag(i,e.slice(e.length-i)))}renderOneLineTags(e,t){let{renderSelectedItem:i}=this.props;const{showRestTagsPopover:r,restTagsPopoverProps:s,maxTagCount:a}=this.props,{isFullTags:o}=this.state;let l;if(typeof i>"u"&&(i=u=>({isRenderInTag:!0,content:u.label})),r){const c=(o?e:e.slice(0,a)).map((d,h)=>this.getTagItem(d,h,i));l=M.createElement(aO,{tagList:c,maxTagCount:t,restCount:o?void 0:e.length-a,size:"large",mode:"custom",showPopover:r,popoverProps:s,onPlusNMouseEnter:()=>{this.foundation.updateIsFullTags()}})}else{const c=e.slice(0,a).map((d,h)=>this.getTagItem(d,h,i));l=M.createElement(aO,{tagList:c,maxTagCount:t,restCount:e.length-a,size:"large",mode:"custom"})}return l}renderMultipleSelection(e,t){let{renderSelectedItem:i,searchPosition:r}=this.props;const{placeholder:s,maxTagCount:a,expandRestTagsOnClick:o,ellipsisTrigger:l}=this.props,{inputValue:u,isOpen:c}=this.state,d=[...e];typeof i>"u"&&(i=x=>({isRenderInTag:!0,content:x.label}));const h=le({[`${dn}-content-wrapper`]:!0,[`${dn}-content-wrapper-one-line`]:a&&!c,[`${dn}-content-wrapper-empty`]:!d.length}),f=le({[`${dn}-selection-text`]:!0,[`${dn}-selection-placeholder`]:!d.length,[`${dn}-selection-text-hide`]:d&&d.length}),p=s&&!u?M.createElement("span",{className:f},s):null,g=d.length>a?a:void 0,m=!a,v=l?this.renderCollapsedTags(d,g):this.renderOneLineTags(d,g),_=m||o&&c?d.map((x,w)=>this.renderTag(x,w)):v,y=t&&r===Cm.SEARCH_POSITION_TRIGGER;return M.createElement(M.Fragment,null,M.createElement("div",{className:h},d&&d.length?_:p,y?this.renderTriggerInput():null))}onMouseEnter(e){this.foundation.handleMouseEnter(e)}onMouseLeave(e){this.foundation.handleMouseLeave(e)}onKeyPress(e){this.foundation.handleKeyPress(e)}handlePopoverVisibleChange(e){const{virtualize:t}=this.props,{selections:i}=this.state;if(e)if(t){let r=-1;if(i.forEach(s=>{const a=Ce(s,"_scrollIndex");Ns(a)&&a>=0&&(r=r!==-1&&r<a?r:a)}),r!==-1)try{this.virtualizeListRef.current.scrollToItem(r,"center")}catch{}}else this.foundation.updateScrollTop()}renderSuffix(){const{suffix:e}=this.props,t=le({[`${dn}-suffix`]:!0,[`${dn}-suffix-text`]:e&&oi(e),[`${dn}-suffix-icon`]:Su(e)});return M.createElement("div",{className:t,"x-semi-prop":"suffix"},e)}renderPrefix(){const{prefix:e,insetLabel:t,insetLabelId:i}=this.props,r=e||t,s=le({[`${dn}-prefix`]:!0,[`${dn}-inset-label`]:t,[`${dn}-prefix-text`]:r&&oi(r),[`${dn}-prefix-icon`]:Su(r)});return M.createElement("div",{className:s,id:i,"x-semi-prop":"prefix,insetLabel"},r)}renderSelection(){const e=this.props,{disabled:t,multiple:i,filter:r,style:s,id:a,size:o,className:l,validateStatus:u,showArrow:c,suffix:d,prefix:h,insetLabel:f,placeholder:p,triggerRender:g,arrowIcon:m,clearIcon:v,borderless:_}=e,y=CIt(e,["disabled","multiple","filter","style","id","size","className","validateStatus","showArrow","suffix","prefix","insetLabel","placeholder","triggerRender","arrowIcon","clearIcon","borderless"]),{selections:x,isOpen:w,keyboardEventSet:T,inputValue:E,isHovering:A,isFocus:k,showInput:P,focusIndex:I}=this.state,D=typeof g=="function",L=!!r,B=D?le(l):le(dn,l,{[`${dn}-borderless`]:_,[`${dn}-open`]:w,[`${dn}-focus`]:k,[`${dn}-disabled`]:t,[`${dn}-single`]:!i,[`${dn}-multiple`]:i,[`${dn}-filterable`]:L,[`${dn}-small`]:o==="small",[`${dn}-large`]:o==="large",[`${dn}-error`]:u==="error",[`${dn}-warning`]:u==="warning",[`${dn}-no-arrow`]:!c,[`${dn}-with-prefix`]:h||f,[`${dn}-with-suffix`]:d}),F=this.props.showClear&&(x.size||E)&&!t&&(A||w),$=c?M.createElement("div",{className:`${dn}-arrow`,"x-semi-prop":"arrowIcon"},m):M.createElement("div",{className:`${dn}-arrow-empty`}),z=v||M.createElement(e_,null),N=D?M.createElement(z0,{value:Array.from(x.values()),inputValue:E,onChange:this.handleInputChange,onSearch:this.handleInputChange,onRemove:H=>this.foundation.removeTag(H),onClear:this.onClear,disabled:t,triggerRender:g,placeholder:p,componentName:"Select",componentProps:Object.assign({},this.props)}):[M.createElement(q.Fragment,{key:"prefix"},h||f?this.renderPrefix():null),M.createElement(q.Fragment,{key:"selection"},M.createElement("div",{className:le(`${dn}-selection`)},i?this.renderMultipleSelection(x,L):this.renderSingleSelection(x,L))),M.createElement(q.Fragment,{key:"suffix"},d?this.renderSuffix():null),M.createElement(q.Fragment,{key:"clearicon"},F?M.createElement("div",{className:le(`${dn}-clear`),onClick:this.onClear},z):$)],V=t||L&&P||L&&i?-1:0;return M.createElement("div",Object.assign({role:"combobox","aria-disabled":t,"aria-expanded":w,"aria-controls":`${dn}-${this.selectOptionListID}`,"aria-haspopup":"listbox","aria-label":x.size?"selected":"","aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"],className:B,ref:H=>{this.triggerRef.current=H},onClick:H=>this.foundation.handleClick(H),style:s,id:this.selectID,tabIndex:V,"aria-activedescendant":I!==-1?`${this.selectID}-option-${I}`:"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:H=>this.foundation.handleTriggerFocus(H),onBlur:H=>this.foundation.handleTriggerBlur(H),onKeyPress:this.onKeyPress},T,this.getDataAttr(y)),N)}render(){const{direction:e}=this.context,t=e==="rtl"?"bottomRight":"bottomLeft",{children:i,position:r=t,zIndex:s,getPopupContainer:a,motion:o,autoAdjustOverflow:l,mouseLeaveDelay:u,mouseEnterDelay:c,spacing:d,stopPropagation:h,dropdownMargin:f}=this.props,{isOpen:p,optionKey:g}=this.state,m=this.renderSelection();return M.createElement(Ko,{getPopupContainer:a,motion:o,margin:f,autoAdjustOverflow:l,mouseLeaveDelay:u,mouseEnterDelay:c,zIndex:s,ref:this.optionsRef,content:()=>this.renderOptions(i),visible:p,trigger:"custom",rePosKey:g,position:r,spacing:d,stopPropagation:h,disableArrowKeyDown:!0,onVisibleChange:v=>this.handlePopoverVisibleChange(v),afterClose:()=>this.foundation.handlePopoverClose()},m)}}vr.contextType=Ql;vr.Option=Ub;vr.OptGroup=Ej;vr.propTypes={"aria-describedby":S.string,"aria-errormessage":S.string,"aria-invalid":S.bool,"aria-labelledby":S.string,"aria-required":S.bool,autoFocus:S.bool,autoClearSearchValue:S.bool,borderless:S.bool,children:S.node,clearIcon:S.node,defaultValue:S.oneOfType([S.string,S.number,S.array,S.object]),ellipsisTrigger:S.bool,value:S.oneOfType([S.string,S.number,S.array,S.object]),placeholder:S.node,onChange:S.func,multiple:S.bool,filter:S.oneOfType([S.func,S.bool]),max:S.number,maxTagCount:S.number,maxHeight:S.oneOfType([S.string,S.number]),style:S.object,className:S.string,size:S.oneOf(Cm.SIZE_SET),disabled:S.bool,emptyContent:S.node,expandRestTagsOnClick:S.bool,onDropdownVisibleChange:S.func,zIndex:S.number,position:S.oneOf(Cm.POSITION_SET),onSearch:S.func,getPopupContainer:S.func,dropdownClassName:S.string,dropdownStyle:S.object,dropdownMargin:S.oneOfType([S.number,S.object]),outerTopSlot:S.node,innerTopSlot:S.node,inputProps:S.object,outerBottomSlot:S.node,innerBottomSlot:S.node,optionList:S.array,dropdownMatchSelectWidth:S.bool,loading:S.bool,defaultOpen:S.bool,validateStatus:S.oneOf(Cm.STATUS),defaultActiveFirstOption:S.bool,triggerRender:S.func,stopPropagation:S.bool,searchPosition:S.string,motion:S.bool,onChangeWithObject:S.bool,suffix:S.node,prefix:S.node,insetLabel:S.node,insetLabelId:S.string,showClear:S.bool,showArrow:S.bool,renderSelectedItem:S.func,allowCreate:S.bool,renderCreateItem:S.func,onMouseEnter:S.func,onMouseLeave:S.func,clickToHide:S.bool,onExceed:S.func,onCreate:S.func,remote:S.bool,onDeselect:S.func,onSelect:S.func,autoAdjustOverflow:S.bool,mouseEnterDelay:S.number,mouseLeaveDelay:S.number,spacing:S.oneOfType([S.number,S.object]),onBlur:S.func,onFocus:S.func,onClear:S.func,virtualize:S.object,renderOptionItem:S.func,onListScroll:S.func,arrowIcon:S.node,preventScroll:S.bool};vr.__SemiComponentName__="Select";vr.defaultProps=Du(vr.__SemiComponentName__,{stopPropagation:!0,motion:!0,borderless:!1,zIndex:mc.DEFAULT_Z_INDEX,filter:!1,multiple:!1,disabled:!1,defaultOpen:!1,allowCreate:!1,placeholder:"",onDropdownVisibleChange:be,onChangeWithObject:!1,onChange:be,onSearch:be,onMouseEnter:be,onMouseLeave:be,onDeselect:be,onSelect:be,onCreate:be,onExceed:be,onFocus:be,onBlur:be,onClear:be,onListScroll:be,maxHeight:SEe.LIST_HEIGHT,dropdownMatchSelectWidth:!0,defaultActiveFirstOption:!0,showArrow:!0,showClear:!1,searchPosition:Cm.SEARCH_POSITION_TRIGGER,remote:!1,autoAdjustOverflow:!0,autoClearSearchValue:!0,arrowIcon:M.createElement(k1,{"aria-label":""}),showRestTagsPopover:!1,restTagsPopoverProps:{},expandRestTagsOnClick:!1,ellipsisTrigger:!1});var vue=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const us=mIt.PREFIX,{Option:EIt}=vr;class Aj extends An{constructor(e){super(e);const t=e.total,i=e.pageSize||e.pageSizeOpts[0]||hq.DEFAULT_PAGE_SIZE,r=e.size==="small"&&e.hoverShowPageSelect&&!e.disabled;this.state={total:t,showTotal:e.showTotal,currentPage:e.currentPage||e.defaultCurrentPage,pageSize:i,pageList:[],prevDisabled:!1,nextDisabled:!1,restLeftPageList:[],restRightPageList:[],quickJumpPage:"",allPageNumbers:r?Array.from({length:Math.ceil(t/i)},(s,a)=>a+1):[]},this.foundation=new vIt(this.adapter),this.renderDefaultPage=this.renderDefaultPage.bind(this),this.renderSmallPage=this.renderSmallPage.bind(this),gs(!!(e.showSizeChanger&&e.hideOnSinglePage),"[Semi Pagination] You should not use showSizeChanger and hideOnSinglePage in ths same time. At this time, hideOnSinglePage no longer takes effect, otherwise there may be a problem that the switch entry disappears")}get adapter(){return Object.assign(Object.assign({},super.adapter),{setPageList:e=>{const{pageList:t,restLeftPageList:i,restRightPageList:r}=e;this.setState({pageList:t,restLeftPageList:i,restRightPageList:r})},setDisabled:(e,t)=>{this.setState({prevDisabled:e,nextDisabled:t})},updateTotal:e=>this.setState({total:e}),updatePageSize:e=>this.setState({pageSize:e}),updateQuickJumpPage:e=>this.setState({quickJumpPage:e}),updateAllPageNumbers:e=>this.setState({allPageNumbers:e}),setCurrentPage:e=>{this.setState({currentPage:e})},registerKeyDownHandler:e=>{document.addEventListener("keydown",e)},unregisterKeyDownHandler:e=>{document.removeEventListener("keydown",e)},notifyPageChange:e=>{this.props.onPageChange(e)},notifyPageSizeChange:e=>{this.props.onPageSizeChange(e)},notifyChange:(e,t)=>{this.props.onChange(e,t)}})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}componentDidUpdate(e){const t={currentPage:this.props.currentPage,total:this.props.total,pageSize:this.props.pageSize};let i=!1,r=!1;e.currentPage!==this.props.currentPage&&(i=!0),e.total!==this.props.total&&(i=!0,r=!0),e.pageSize!==this.props.pageSize&&(i=!0,r=!0),i&&this.foundation.updatePage(t.currentPage,t.total,t.pageSize),r&&this.foundation.updateAllPageNumbers(t.total,t.pageSize)}renderPrevBtn(){const{prevText:e,disabled:t}=this.props,{prevDisabled:i}=this.state,r=i||t,s=le({[`${us}-item`]:!0,[`${us}-prev`]:!0,[`${us}-item-disabled`]:r});return M.createElement("li",{role:"button","aria-disabled":!!r,"aria-label":"Previous",onClick:a=>!r&&this.foundation.goPrev(a),className:s,"x-semi-prop":"prevText"},e||M.createElement(nj,{size:"large"}))}renderNextBtn(){const{nextText:e,disabled:t}=this.props,{nextDisabled:i}=this.state,r=i||t,s=le({[`${us}-item`]:!0,[`${us}-item-disabled`]:r,[`${us}-next`]:!0});return M.createElement("li",{role:"button","aria-disabled":!!r,"aria-label":"Next",onClick:a=>!r&&this.foundation.goNext(a),className:s,"x-semi-prop":"nextText"},e||M.createElement(UP,{size:"large"}))}renderPageSizeSwitch(e){const{direction:t}=this.context,i=t==="rtl"?"bottomRight":"bottomLeft",{showSizeChanger:r,popoverPosition:s=i,disabled:a,popoverZIndex:o}=this.props,{pageSize:l}=this.state,u=le(`${us}-switch`);if(!r)return null;const c=this.foundation.pageSizeInOpts(),d=e.pageSize,h=c.map(f=>M.createElement(EIt,{value:f,key:f},M.createElement("span",null,d.replace("${pageSize}",f.toString()))));return M.createElement("div",{className:u},M.createElement(vr,{"aria-label":"Page size selector",disabled:a,onChange:f=>this.foundation.changePageSize(f),value:l,key:l+d,position:s||"bottomRight",clickToHide:!0,zIndex:o,dropdownClassName:`${us}-select-dropdown`},h))}renderQuickJump(e){const{showQuickJumper:t,disabled:i}=this.props,{quickJumpPage:r,total:s,pageSize:a}=this.state;if(!t)return null;const l=this.foundation._getTotalPageNumber(s,a)===1||i,u=le({[`${us}-quickjump`]:!0,[`${us}-quickjump-disabled`]:l});return M.createElement("div",{className:u},M.createElement("span",null,e.jumpTo),M.createElement(Tj,{value:r,className:`${us}-quickjump-input-number`,hideButtons:!0,disabled:l,onBlur:c=>this.foundation.handleQuickJumpBlur(),onEnterPress:c=>this.foundation.handleQuickJumpEnterPress(c.target.value),onChange:c=>this.foundation.handleQuickJumpNumberChange(c)}),M.createElement("span",null,e.page))}renderPageList(){const{pageList:e,currentPage:t,restLeftPageList:i,restRightPageList:r}=this.state,{popoverPosition:s,popoverZIndex:a,disabled:o}=this.props;return e.map((l,u)=>{const c=le(`${us}-item`,{[`${us}-item-active`]:t===l,[`${us}-item-all-disabled`]:o,[`${us}-item-all-disabled-active`]:t===l&&o}),d=M.createElement("li",{key:`${l}${u}`,onClick:()=>!o&&this.foundation.goPage(l,u),className:c,"aria-label":l==="..."?"More":`Page ${l}`,"aria-current":t===l?"page":!1},l);if(l==="..."&&!o){let h;return u<3?h=i:h=r,M.createElement(Ko,{rePosKey:this.props.currentPage,trigger:"hover",content:this.renderRestPageList(h),key:`${l}${u}`,position:s,zIndex:a},d)}return d})}renderRestPageList(e){const{direction:t}=this.context,i=le(`${us}-rest-item`),r=e.length,s=l=>{const{index:u,style:c}=l,d=e[u];return M.createElement("div",{role:"listitem",key:`${d}${u}`,className:i,onClick:()=>this.foundation.goPage(d,u),style:c,"aria-label":`${d}`},d)},a=32,o=r>=5?a*5:a*r;return M.createElement(dj,{className:`${us}-rest-list`,itemData:e,itemSize:a,width:78,itemCount:r,height:o,style:{direction:t}},s)}renderSmallPageSelect(e){const t=this.state.allPageNumbers,i=this.renderRestPageList(t);return M.createElement(Ko,{content:i},e)}renderSmallPage(e){const t=this.props,{className:i,style:r,hideOnSinglePage:s,hoverShowPageSelect:a,showSizeChanger:o,disabled:l}=t,u=vue(t,["className","style","hideOnSinglePage","hoverShowPageSelect","showSizeChanger","disabled"]),c=le(`${us}-small`,us,i,{[`${us}-disabled`]:l}),{currentPage:d,total:h,pageSize:f}=this.state,p=Math.ceil(h/f);if(p<2&&s&&!o)return null;const g=le({[`${us}-item`]:!0,[`${us}-item-small`]:!0,[`${us}-item-all-disabled`]:l}),m=M.createElement("div",{className:g},d,"/",p," ");return M.createElement("div",Object.assign({className:c,style:r},this.getDataAttr(u)),this.renderPrevBtn(),a&&!l?this.renderSmallPageSelect(m):m,this.renderNextBtn(),this.renderQuickJump(e))}renderDefaultPage(e){const{total:t,pageSize:i}=this.state,r=this.props,{showTotal:s,className:a,style:o,hideOnSinglePage:l,showSizeChanger:u,disabled:c}=r,d=vue(r,["showTotal","className","style","hideOnSinglePage","showSizeChanger","disabled"]),h=le(a,`${us}`,{[`${us}-disabled`]:c}),f=`${us}-total`;if(Math.ceil(t/i)<2&&l&&!u)return null;const g=Math.ceil(t/i),m=e.total.replace("${total}",g.toString());return M.createElement("ul",Object.assign({className:h,style:o},this.getDataAttr(d)),s?M.createElement("span",{className:f},m):null,this.renderPrevBtn(),this.renderPageList(),this.renderNextBtn(),this.renderPageSizeSwitch(e),this.renderQuickJump(e))}render(){const{size:e}=this.props;return M.createElement(Qr,{componentName:"Pagination"},t=>e==="small"?this.renderSmallPage(t):this.renderDefaultPage(t))}}Aj.contextType=Ql;Aj.propTypes={total:S.number,showTotal:S.bool,pageSize:S.number,pageSizeOpts:S.array,size:S.string,currentPage:S.number,defaultCurrentPage:S.number,onPageChange:S.func,onPageSizeChange:S.func,onChange:S.func,prevText:S.node,nextText:S.node,showSizeChanger:S.bool,popoverZIndex:S.number,popoverPosition:S.string,style:S.object,className:S.string,hideOnSinglePage:S.bool,hoverShowPageSelect:S.bool,showQuickJumper:S.bool,disabled:S.bool};Aj.defaultProps={total:1,popoverZIndex:mc.DEFAULT_Z_INDEX,showTotal:!1,pageSize:null,pageSizeOpts:hq.PAGE_SIZE_OPTION,defaultCurrentPage:1,size:"default",onPageChange:be,onPageSizeChange:be,onChange:be,showSizeChanger:!1,className:"",hideOnSinglePage:!1,showQuickJumper:!1,disabled:!1};const AIt={PREFIX:`${nt}-progress`},Xc={types:["line","circle"],DEFAULT_TYPE:"line",STROKE_DEFAULT:"var(--semi-color-success)",strokeLineCap:["square","round"],DEFAULT_LINECAP:"round",sizes:["default","small","large"],DEFAULT_SIZE:"default",directions:["vertical","horizontal"],DEFAULT_DIRECTION:"horizontal"};function kIt(n,e,t){try{const i=OIt(n,e,t);if(i.length!==0)return i}catch{return}}function OIt(n,e,t){if(n.sort((r,s)=>r.percent-s.percent),n[0].percent>e)return Xc.STROKE_DEFAULT;const i=n[n.length-1];if(i.percent<e)return JT(i.color);for(const[r,s]of n.entries()){if(s.percent===e)return JT(s.color);if(e>s.percent)continue;const a=n[r-1];return t?PIt({startColor:JT(a.color),endColor:JT(s.color),size:s.percent-a.percent-1},e-a.percent-1):JT(a.color)}}function PIt(n,e){const{startColor:t,endColor:i,size:r}=n,s=t.split(""),a=i.split(""),o=[parseInt(`${s[1]}${s[2]}`,16),parseInt(`${a[1]}${a[2]}`,16)],l=[parseInt(`${s[3]}${s[4]}`,16),parseInt(`${a[3]}${a[4]}`,16)],u=[parseInt(`${s[5]}${s[6]}`,16),parseInt(`${a[5]}${a[6]}`,16)],c=[parseInt(`${s[7]}${s[8]}`,16),parseInt(`${a[7]}${a[8]}`,16)],d=(o[0]-o[1])/(r+1),h=(l[0]-l[1])/(r+1),f=(u[0]-u[1])/(r+1),p=(c[0]-c[1])/(r+1);function g(v){const _=Math.round(o[0]-d*(v+1)).toString(16),y=Math.round(l[0]-h*(v+1)).toString(16),x=Math.round(u[0]-f*(v+1)).toString(16),w=`${m(_)}${m(y)}${m(x)}`,T=Math.floor(p*(v+1)+c[1]).toString(16);return jd.Hex(`#${w}`,T)}function m(v){return v.length===1?`0${v}`:v.length===0?"00":v}if(typeof e>"u"){const v=[t];for(let _=0;_<r;_+=1)v.push(g(_));return v}return g(e)}function JT(n){if(n=n.trim().toLowerCase(),Wx.hex.test(n))return jd.Hex(n,void 0);if(Wx.hslA.test(n))return jd.Hex(jd.HslA(n),void 0);if(Wx.rgbA.test(n))return jd.Hex(jd.RgbA(n),void 0);if(Wx.semiDesignTokens.test(n))return yue.ALONG.indexOf(n)!==-1?jd.SemiDesignToken(n):yue.SEQUENCE.indexOf(n)!==-1?jd.SemiDesignToken(`${n}-5`):jd.SemiDesignToken(`${n}`)}const jd={Hex(n,e){return n=n.replace("#",""),n.length===8?`#${n}`:n.length===6?`#${n}${e||"ff"}`:(n.length===3&&(n=n.split("").map(t=>t+t).join("")),`#${n}${e||"ff"}`)},SemiDesignToken(n){if(typeof window>"u")return;const e=getComputedStyle(document.body).getPropertyValue(`--semi-${n}`);if(e==="")return;const t=`rgba(${e}, 1)`;return jd.RgbA(t)},HslA(n){const e=Wx.hslA.exec(n),t=parseInt(e[2]),i=parseInt(e[3])/100,r=parseInt(e[4])/100,s=e[5],a=(1-Math.abs(2*r-1))*i,o=a*(1-Math.abs(t/60%2-1)),l=r-a/2;let u=0,c=0,d=0;return 0<=t&&t<60?(u=a,c=o,d=0):60<=t&&t<120?(u=o,c=a,d=0):120<=t&&t<180?(u=0,c=a,d=o):180<=t&&t<240?(u=0,c=o,d=a):240<=t&&t<300?(u=o,c=0,d=a):300<=t&&t<360&&(u=a,c=0,d=o),u=Math.round((u+l)*255).toString(16),c=Math.round((c+l)*255).toString(16),d=Math.round((d+l)*255).toString(16),jd.utils.pAL(u,c,d,s)},RgbA(n){const e=Wx.rgbA.exec(n),t=parseInt(e[2],10).toString(16),i=parseInt(e[3],10).toString(16),r=parseInt(e[4],10).toString(16),s=e[5];return jd.utils.pAL(t,i,r,s)},utils:{pAL(n,e,t,i){return n.length==1&&(n="0"+n),e.length==1&&(e="0"+e),t.length==1&&(t="0"+t),typeof i<"u"?(i=Math.round(parseInt(i)*255).toString(16),i.length==1&&(i="0"+i),"#"+n+e+t+i):"#"+n+e+t}}},Wx={hex:/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,hslA:/(hsl)a?\(\s*?(\d+),?\s*?(\d+)%,?\s*?(\d+)%,?\s*?\/?(\s*?[\d.]+)?\s*?\)/,rgbA:/(rgb)a?\(\s*?(\d+),?\s*?(\d+),?\s*?(\d+),?\s*?\/?(\s*?[\d.]+)?\s*?\)/,semiDesignTokens:/(\w+)?-?(\w+)-?(\d)?/},yue={ALONG:["black","white"],SEQUENCE:["amber","blue","cyan","green","grey","indigo","light-blue","light-green","lime","orange","pink","purple","red","teal","violet","yellow"]};var _ue=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const Pd=AIt.PREFIX;class dF extends q.Component{constructor(e){super(e),this._mounted=!0,this._mounted=!0,this.state={percentNumber:this.props.percent}}componentDidUpdate(e){if(isNaN(this.props.percent)||isNaN(e.percent))throw new Error("[Semi Progress]:percent can not be NaN");if(e.percent!==this.props.percent){if(!this.props.motion){this.setState({percentNumber:this.props.percent});return}this.animation&&this.animation.destroy&&this.animation.destroy(),this.animation=new R1e({from:{value:e.percent},to:{value:this.props.percent}},{easing:"linear",duration:300}),this.animation.on("frame",t=>{if(this._mounted===!1)return;const i=parseInt(t.value);this.setState({percentNumber:i})}),this.animation.on("rest",()=>{this._mounted!==!1&&this.setState({percentNumber:this.props.percent})}),this.animation.start()}}componentWillUnmount(){this.animation&&this.animation.destroy(),this._mounted=!1}renderCircleProgress(){const e=this.props,{strokeLinecap:t,style:i,className:r,strokeWidth:s,format:a,size:o,stroke:l,strokeGradient:u,showInfo:c,percent:d,orbitStroke:h,id:f}=e,p=_ue(e,["strokeLinecap","style","className","strokeWidth","format","size","stroke","strokeGradient","showInfo","percent","orbitStroke","id"]),g=this.props["aria-label"],m=this.props["aria-labelledby"],v=this.props["aria-valuetext"],{percentNumber:_}=this.state,y={wrapper:le(`${Pd}-circle`,r),svg:le(`${Pd}-circle-ring`),circle:le(`${Pd}-circle-ring-inner`),track:le(`${Pd}-circle-ring-track`)},x=this.calcPercent(d),w=this.calcPercent(_);let T;this.props.width?T=this.props.width:o===Xc.DEFAULT_SIZE?T=72:T=24;const E=this.selectStroke(l,d,u),A=T/2,k=T/2,P=(T-s)/2,I=P*2*Math.PI,D=(1-x/100)*I,L=`${I} ${I}`,B=a(w);return M.createElement("div",Object.assign({id:f,className:y.wrapper,style:i,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":w,"aria-labelledby":m,"aria-label":g,"aria-valuetext":v},h0(p)),M.createElement("svg",{key:o,className:y.svg,height:T,width:T,"aria-hidden":!0},M.createElement("circle",{className:y.track,strokeDashoffset:0,strokeWidth:s,strokeDasharray:L,strokeLinecap:t,fill:"transparent",style:{stroke:h},r:P,cx:k,cy:A,"aria-hidden":!0}),M.createElement("circle",{className:y.circle,strokeDashoffset:D,strokeWidth:s,strokeDasharray:L,strokeLinecap:t,fill:"transparent",style:{stroke:E},r:P,cx:k,cy:A,"aria-hidden":!0})),c&&o!=="small"?M.createElement("span",{className:`${Pd}-circle-text`},B):null)}calcPercent(e){let t;return e>100?t=100:e<0?t=0:t=e,t}selectStroke(e,t,i){if(typeof e=="string")return e;const r=kIt(e,t,i);return typeof r<"u"?r:null}renderLineProgress(){const e=this.props,{className:t,style:i,stroke:r,strokeGradient:s,direction:a,format:o,showInfo:l,size:u,percent:c,orbitStroke:d,id:h}=e,f=_ue(e,["className","style","stroke","strokeGradient","direction","format","showInfo","size","percent","orbitStroke","id"]),p=this.props["aria-label"],g=this.props["aria-labelledby"],m=this.props["aria-valuetext"],{percentNumber:v}=this.state,_=le(Pd,t,{[`${Pd}-horizontal`]:a===Xc.DEFAULT_DIRECTION,[`${Pd}-vertical`]:a!==Xc.DEFAULT_DIRECTION,[`${Pd}-large`]:u==="large"}),y=le({[`${Pd}-track`]:!0}),x=le(`${Pd}-track-inner`),w=this.calcPercent(c),T=this.calcPercent(v),A={background:this.selectStroke(r,c,s)};a===Xc.DEFAULT_DIRECTION?A.width=`${w}%`:A.height=`${w}%`;const k=o(T);return M.createElement("div",Object.assign({id:h,className:_,style:i,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":w,"aria-labelledby":g,"aria-label":p,"aria-valuetext":m},h0(f)),M.createElement("div",{className:y,style:d?{backgroundColor:d}:{},"aria-hidden":!0},M.createElement("div",{className:x,style:A,"aria-hidden":!0})),l?M.createElement("div",{className:`${Pd}-line-text`},k):null)}render(){const{type:e}=this.props;return e==="line"?this.renderLineProgress():this.renderCircleProgress()}}dF.propTypes={"aria-label":S.string,"aria-labelledby":S.string,"aria-valuetext":S.string,className:S.string,direction:S.oneOf(Xc.directions),format:S.oneOfType([S.func,S.node]),id:S.string,motion:S.oneOfType([S.bool,S.func,S.object]),orbitStroke:S.string,percent:S.number,scale:S.number,showInfo:S.bool,size:S.oneOf(Xc.sizes),stroke:S.oneOfType([S.string,S.arrayOf(S.shape({percent:S.number,color:S.string}))]),strokeGradient:S.bool,strokeLinecap:S.oneOf(Xc.strokeLineCap),strokeWidth:S.number,style:S.object,type:S.oneOf(Xc.types),width:S.number};dF.defaultProps={className:"",direction:Xc.DEFAULT_DIRECTION,format:n=>`${n}%`,motion:!0,percent:0,showInfo:!1,size:Xc.DEFAULT_SIZE,strokeGradient:!1,strokeLinecap:Xc.DEFAULT_LINECAP,strokeWidth:4,style:{},type:Xc.DEFAULT_TYPE};const CEe={PREFIX:`${nt}-radio`},MIt={PREFIX:`${nt}-radioGroup`},Da={DIRECTION_SET:["horizontal","vertical"],DEFAULT_DIRECTION:"horizontal",MODE:["advanced",""],TYPE_DEFAULT:"default",TYPE_BUTTON:"button",TYPE_CARD:"card",TYPE_PURECARD:"pureCard",BUTTON_SIZE:["middle","small","large"]};class IIt extends jn{constructor(e){super(Object.assign({},e))}init(){const e=this._getDisplayValue();this._setValue(e)}_getDisplayValue(){const{value:e,defaultValue:t}=this.getProps();let i;return"value"in this.getProps()?i=e:"defaultValue"in this.getProps()&&(i=t),i}handleChange(e){const t=this.getProp("mode"),i=this.getState("value"),{checked:r,value:s}=e.target,a=this._adapter.isInProps("value"),o=Object.assign(Object.assign({},e),{target:Object.assign(Object.assign({},e.target),{value:s})});t==="advanced"&&!r&&(o.target.value=void 0),a||(t==="advanced"&&!r?this._setValue(void 0):this._setValue(s)),(t==="advanced"||i!==s)&&this._adapter.notifyChange(o)}handlePropValueChange(e){this._setValue(e)}_setValue(e){this._adapter.setValue(e)}destroy(){}}const pq=M.createContext(null);class RIt extends jn{constructor(){super(...arguments),this.handleFocusVisible=e=>{const{target:t}=e;try{t.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch{gs(!0,"Warning: [Semi Radio] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this._adapter.setFocusVisible(!1)}}init(){const{children:e,extra:t,extraId:i,addonId:r}=this._adapter.getProps();e&&!r&&this._adapter.setAddonId(),t&&!i&&this._adapter.setExtraId()}setHover(e){this._adapter.setHover(e)}setChecked(e){this._adapter.setChecked(e)}}class DIt extends jn{constructor(e){super(Object.assign({},e))}init(){const e=this._adapter.getProp("checked"),t=this._adapter.getProp("defaultChecked");this.setChecked(e||t)}setChecked(e){this._adapter.setNativeControlChecked(e)}getChecked(){return this._adapter.getProp("checked")}handleChange(e){const t="checked"in this.getProps(),{checked:i}=e.target,r=()=>{e.stopPropagation()},s=()=>{e.preventDefault()},a={target:Object.assign(Object.assign({},this.getProps()),{checked:i}),stopPropagation:r,preventDefault:s};t?this._adapter.notifyChange(a):(this.setChecked(i),this._adapter.notifyChange(a))}destroy(){}}class kj extends An{constructor(e){super(e),this.state={checked:!1},this.foundation=new DIt(this.adapter),this.onChange=this.onChange.bind(this)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setNativeControlChecked:e=>{this.setState({checked:e})},notifyChange:e=>{this.props.onChange(e)}})}componentDidMount(){this.foundation.init()}componentDidUpdate(e){e.checked!==this.props.checked&&this.foundation.setChecked(this.props.checked)}componentWillUnmount(){this.foundation.destroy()}blur(){this.inputEntity.blur()}focus(){const{preventScroll:e}=this.props;this.inputEntity.focus({preventScroll:e})}onChange(e){this.foundation.handleChange(e)}render(){const{disabled:e,mode:t,autoFocus:i,name:r,isButtonRadio:s,isPureCardRadioGroup:a,addonId:o,extraId:l,"aria-label":u,focusInner:c,onInputFocus:d,onInputBlur:h}=this.props,{checked:f}=this.state,p=this.props.prefixCls||CEe.PREFIX,g=le({[`${p}-inner`]:!0,[`${p}-inner-checked`]:!!f,[`${p}-inner-buttonRadio`]:s,[`${p}-inner-pureCardRadio`]:a}),m=le({[`${p}-focus`]:c,[`${p}-focus-border`]:c&&!f,[`${p}-inner-display`]:!s});return M.createElement("span",{className:g},M.createElement("input",{ref:v=>{this.inputEntity=v},autoFocus:i,type:t==="advanced"?"checkbox":"radio",checked:!!f,disabled:e,onChange:this.onChange,name:r,"aria-label":u,"aria-labelledby":o,"aria-describedby":l,onFocus:d,onBlur:h}),M.createElement("span",{className:m},f?M.createElement(gxt,null):null))}}kj.contextType=pq;kj.propTypes={checked:S.bool,disabled:S.bool,isButtonRadio:S.bool,onChange:S.func,mode:S.oneOf(["advanced",""]),"aria-label":S.string,focusInner:S.bool,onInputFocus:S.func,onInputBlur:S.func,preventScroll:S.bool};kj.defaultProps={onChange:be,isButtonRadio:!1};var LIt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};class Bm extends An{constructor(e){super(e),this.onChange=t=>{const{onChange:i}=this.props;if(this.isInGroup()){const{radioGroup:r}=this.context;r.onChange&&r.onChange(t)}!("checked"in this.props)&&this.foundation.setChecked(t.target.checked),i&&i(t)},this.handleMouseEnter=t=>{this.props.onMouseEnter(t),this.foundation.setHover(!0)},this.handleMouseLeave=t=>{this.props.onMouseLeave(t),this.foundation.setHover(!1)},this.handleFocusVisible=t=>{this.foundation.handleFocusVisible(t)},this.handleBlur=t=>{this.foundation.handleBlur()},this.state={hover:!1,addonId:e.addonId,extraId:e.extraId,checked:e.checked||e.defaultChecked||!1},this.foundation=new RIt(this.adapter),this.radioEntity=null}componentDidUpdate(e){this.props.checked!==e.checked&&(lr(this.props.checked)?this.foundation.setChecked(!1):q1e(this.props.checked)&&this.foundation.setChecked(this.props.checked))}get adapter(){return Object.assign(Object.assign({},super.adapter),{setHover:e=>{this.setState({hover:e})},setAddonId:()=>{this.setState({addonId:Dm({prefix:"addon"})})},setChecked:e=>{this.setState({checked:e})},setExtraId:()=>{this.setState({extraId:Dm({prefix:"extra"})})},setFocusVisible:e=>{this.setState({focusVisible:e})}})}isInGroup(){return this.context&&this.context.radioGroup}focus(){this.radioEntity.focus()}blur(){this.radioEntity.blur()}render(){const e=this.props,{addonClassName:t,addonStyle:i,disabled:r,style:s,className:a,prefixCls:o,displayMode:l,children:u,extra:c,mode:d,type:h,value:f,name:p}=e,g=LIt(e,["addonClassName","addonStyle","disabled","style","className","prefixCls","displayMode","children","extra","mode","type","value","name"]);let m,v,_,y,x,w,T,E,A;const{hover:k,addonId:P,extraId:I,focusVisible:D,checked:L}=this.state,B={checked:L,disabled:r};this.isInGroup()?(m=this.context.radioGroup.value===f,v=r||this.context.radioGroup.disabled,_=this.context.mode,y=this.context.radioGroup.isButtonRadio,x=this.context.radioGroup.isCardRadio,w=this.context.radioGroup.isPureCardRadio,E=this.context.radioGroup.buttonSize,A=o||this.context.radioGroup.prefixCls,B.checked=m,B.disabled=v):(m=L,v=r,_=d,T=h==="button",A=o,y=h===Da.TYPE_BUTTON,w=h===Da.TYPE_PURECARD,x=h===Da.TYPE_CARD||w);const F=typeof y>"u"?T:y,$=A||CEe.PREFIX,z=x||w||F,N=le($,{[`${$}-disabled`]:v,[`${$}-checked`]:m,[`${$}-${l}`]:!!l,[`${$}-buttonRadioComponent`]:T,[`${$}-buttonRadioGroup`]:y,[`${$}-buttonRadioGroup-${E}`]:y&&E,[`${$}-cardRadioGroup`]:x,[`${$}-cardRadioGroup_disabled`]:v&&x,[`${$}-cardRadioGroup_checked`]:x&&m&&!v,[`${$}-cardRadioGroup_checked_disabled`]:x&&m&&v,[`${$}-cardRadioGroup_hover`]:x&&!m&&k&&!v,[a]:!!a,[`${$}-focus`]:D&&(x||w)}),V=this.isInGroup()&&this.context.radioGroup.name,H=le({[`${$}-addon`]:!F,[`${$}-addon-buttonRadio`]:F,[`${$}-addon-buttonRadio-checked`]:F&&m,[`${$}-addon-buttonRadio-disabled`]:F&&v,[`${$}-addon-buttonRadio-hover`]:F&&!m&&!v&&k,[`${$}-addon-buttonRadio-${E}`]:F&&E,[`${$}-focus`]:D&&F},t),K=()=>!u&&!c?null:M.createElement("div",{className:le([`${$}-content`,{[`${$}-isCardRadioGroup_content`]:x}])},u?M.createElement("span",{className:H,style:i,id:P,"x-semi-prop":"children"},u):null,c&&!F?M.createElement("div",{className:`${$}-extra`,id:I,"x-semi-prop":"extra"},c):null);return M.createElement("label",Object.assign({style:s,className:N,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},this.getDataAttr(g)),M.createElement(kj,Object.assign({},this.props,B,{mode:_,name:p??V,isButtonRadio:F,isPureCardRadioGroup:w,onChange:this.onChange,ref:U=>{this.radioEntity=U},addonId:u&&P,extraId:c&&I,focusInner:D&&!z,onInputFocus:this.handleFocusVisible,onInputBlur:this.handleBlur})),K())}}Bm.contextType=pq;Bm.propTypes={autoFocus:S.bool,checked:S.bool,defaultChecked:S.bool,value:S.any,style:S.object,className:S.string,disabled:S.bool,prefixCls:S.string,displayMode:S.oneOf(["vertical",""]),onChange:S.func,onMouseEnter:S.func,onMouseLeave:S.func,mode:S.oneOf(Da.MODE),extra:S.node,addonStyle:S.object,addonClassName:S.string,type:S.oneOf([Da.TYPE_DEFAULT,Da.TYPE_BUTTON,Da.TYPE_CARD,Da.TYPE_PURECARD]),"aria-label":S.string,preventScroll:S.bool};Bm.defaultProps={autoFocus:!1,defaultChecked:!1,value:void 0,style:void 0,onMouseEnter:be,onMouseLeave:be,mode:"",type:"default"};Bm.elementType="Radio";var FIt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};class Uc extends An{constructor(e){super(e),this.onChange=t=>{this.foundation.handleChange(t)},this.getFormatName=()=>this.props.name||"default",this.state={value:e.value||e.defaultValue},this.foundation=new IIt(this.adapter)}componentDidMount(){this.foundation.init()}componentDidUpdate(e){typeof e.value=="number"&&isNaN(e.value)&&typeof this.props.value=="number"&&isNaN(this.props.value)||e.value!==this.props.value&&this.foundation.handlePropValueChange(this.props.value)}componentWillUnmount(){this.foundation.destroy()}get adapter(){return Object.assign(Object.assign({},super.adapter),{setValue:e=>{this.setState({value:e})},getProps:()=>this.props,isInProps:e=>e in this.props,notifyChange:e=>{this.props.onChange&&this.props.onChange(e)}})}render(){const e=this.props,{children:t,options:i,mode:r,prefixCls:s,className:a,style:o,direction:l,type:u,buttonSize:c,id:d}=e,h=FIt(e,["children","options","mode","prefixCls","className","style","direction","type","buttonSize","id"]),f=u===Da.TYPE_BUTTON,p=u===Da.TYPE_PURECARD,g=u===Da.TYPE_CARD||p,m=u===Da.TYPE_DEFAULT,v=s||MIt.PREFIX,_=le(a,{[v]:!0,[`${v}-wrapper`]:!0,[`${v}-${l}`]:l&&!f,[`${v}-${l}-default`]:l&&m,[`${v}-${l}-card`]:l&&g,[`${v}-buttonRadio`]:f}),y=this.state.value;let x;return i?x=(i||[]).map((w,T)=>typeof w=="string"?M.createElement(Bm,{key:T,disabled:this.props.disabled,value:w},w):M.createElement(Bm,{key:T,disabled:w.disabled||this.props.disabled,value:w.value,extra:w.extra,className:w.className,style:w.style,addonId:w.addonId,addonStyle:w.addonStyle,addonClassName:w.addonClassName,extraId:w.extraId},w.label)):t&&(x=M.Children.map(t,(w,T)=>M.isValidElement(w)?M.cloneElement(w,{key:T}):null)),M.createElement("div",Object.assign({className:_,style:o,id:d,"aria-label":this.props["aria-label"],"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"]},this.getDataAttr(h)),M.createElement(pq.Provider,{value:{radioGroup:{onChange:this.onChange,value:y,disabled:this.props.disabled,name:this.getFormatName(),isButtonRadio:f,isCardRadio:g,isPureCardRadio:p,buttonSize:c,prefixCls:s},mode:r}},x))}}Uc.propTypes={defaultValue:S.any,disabled:S.bool,name:S.string,options:S.array,buttonSize:S.oneOf(Da.BUTTON_SIZE),type:S.oneOf([Da.TYPE_DEFAULT,Da.TYPE_BUTTON,Da.TYPE_CARD,Da.TYPE_PURECARD]),value:S.any,onChange:S.func,children:S.node,prefixCls:S.string,className:S.string,style:S.object,direction:S.oneOf(Da.DIRECTION_SET),mode:S.oneOf(Da.MODE),"aria-label":S.string,"aria-describedby":S.string,"aria-errormessage":S.string,"aria-invalid":S.bool,"aria-labelledby":S.string,"aria-required":S.bool,id:S.string};Uc.defaultProps={disabled:!1,onChange:be,direction:Da.DEFAULT_DIRECTION,mode:"",type:Da.TYPE_DEFAULT,buttonSize:"middle"};class Ds extends Bm{}Ds.Group=Uc;const B2={PREFIX:`${nt}-rating`},TEe={SIZE_SET:["default","small"]};class gq extends jn{constructor(e){super(Object.assign(Object.assign({},gq.defaultAdapter),e)),this.handleStarFocusVisible=t=>{const{target:i}=t,{count:r}=this.getProps();try{i.matches(":focus-visible")&&this._adapter.setEmptyStarFocusVisible(!0)}catch{gs(!0,"Warning: [Semi Rating] The current browser does not support the focus-visible")}},this.handleStarBlur=t=>{const{emptyStarFocusVisible:i}=this.getStates();i&&this._adapter.setEmptyStarFocusVisible(!1)}}init(){const{autoFocus:e,disabled:t}=this.getProps();e&&!t&&this._adapter.focus()}_getScroll(e,t){let i=t?e.pageYOffset:e.pageXOffset;const r=t?"scrollTop":"scrollLeft";if(typeof i!="number"){const s=e.document;i=s.documentElement[r],typeof i!="number"&&(i=s.body[r])}return i}_getClientPosition(e){let t,i;const r=e.ownerDocument,{body:s}=r,a=r&&r.documentElement,o=e.getBoundingClientRect();return t=o.left,i=o.top,t-=a.clientLeft||s.clientLeft||0,i-=a.clientTop||s.clientTop||0,{left:t,top:i}}_getOffsetLeft(e){const t=this._getClientPosition(e),i=e.ownerDocument,r=i.defaultView||i.parentWindow;return t.left+=this._getScroll(r),t.left}getStarValue(e,t){const{allowHalf:i}=this.getProps(),s=this._adapter.getContext("direction")==="rtl";let a=e+1;if(i){const o=this._adapter.getStarDOM(e),l=this._getOffsetLeft(o),u=o.clientWidth;(s&&t-l>u/2||!s&&t-l<u/2)&&(a-=.5)}return a}handleHover(e,t){const i=this.getStarValue(t,e.pageX),{clearedValue:r,hoverValue:s}=this.getStates();i!==s&&i!==r&&this._adapter.notifyHoverChange(i,null)}handleMouseLeave(){this._adapter.notifyHoverChange(void 0,null)}handleClick(e,t){const{allowClear:i}=this.getProps(),{value:r}=this.getStates(),s=this.getStarValue(t,e.pageX),a=i?s===r:!1;this._adapter.updateValue(a?0:s),a?this._adapter.notifyHoverChange(void 0,s):this._adapter.clearValue(null)}handleFocus(e){this._adapter.notifyFocus(e)}handleBlur(e){this._adapter.notifyBlur(e)}handleKeyDown(e,t){const{key:i}=e,{count:r,allowHalf:s}=this.getProps(),o=this._adapter.getContext("direction")==="rtl",l=s?.5:1;let u,c;i==="ArrowRight"||i==="ArrowUp"?u=t+(o?-l:l):(i==="ArrowLeft"||i==="ArrowDown")&&(u=t+(o?l:-l)),u>r?c=0:u<0?c=r:c=u,["ArrowRight","ArrowUp","ArrowLeft","ArrowDown"].includes(i)&&(this._adapter.notifyKeyDown(e),this._adapter.updateValue(c),this.changeFocusStar(c,e),e.preventDefault(),this._adapter.notifyHoverChange(void 0,null))}changeFocusStar(e,t){const{count:i,allowHalf:r,preventScroll:s,tooltips:a}=this.getProps(),o=Math.ceil(e)-1,l=[...t.currentTarget.childNodes].map(u=>a?u.childNodes[0].childNodes[0].childNodes:u.childNodes[0].childNodes);o<0?l[i][0].focus({preventScroll:s}):l[o][r?e*10%10===5?0:1:0].focus({preventScroll:s})}}class mq extends jn{constructor(e){super(Object.assign(Object.assign({},mq.defaultAdapter),e)),this.handleFocusVisible=(t,i)=>{const{target:r}=t;try{r.matches(":focus-visible")&&(i==="first"?this._adapter.setFirstStarFocus(!0):this._adapter.setSecondStarFocus(!0))}catch{gs(!0,"Warning: [Semi Rating] The current browser does not support the focus-visible")}},this.handleBlur=(t,i)=>{const{firstStarFocus:r,secondStarFocus:s}=this.getStates();i==="first"?r&&this._adapter.setFirstStarFocus(!1):s&&this._adapter.setSecondStarFocus(!1)}}}class EEe extends An{constructor(e){super(e),this.getDomNode=()=>this.liRef&&this.liRef.current,this.firstStar=null,this.secondStar=null,this.onHover=t=>{const{onHover:i,index:r}=this.props;i(t,r)},this.onClick=t=>{const{onClick:i,index:r}=this.props;i(t,r)},this.onFocus=(t,i)=>{const{onFocus:r}=this.props;r&&r(t),this.foundation.handleFocusVisible(t,i)},this.onBlur=(t,i)=>{const{onBlur:r}=this.props;r&&r(t),this.foundation.handleBlur(t,i)},this.onKeyDown=t=>{const{onClick:i,index:r}=this.props;t.keyCode===13&&i(t,r)},this.starFocus=()=>{const{value:t,index:i,preventScroll:r}=this.props;t-i===.5?this.firstStar.focus({preventScroll:r}):this.secondStar.focus({preventScroll:r})},this.saveFirstStar=t=>{this.firstStar=t},this.saveSecondStar=t=>{this.secondStar=t},this.liRef=M.createRef(),this.state={firstStarFocus:!1,secondStarFocus:!1},this.foundation=new mq(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setFirstStarFocus:e=>{this.setState({firstStarFocus:e})},setSecondStarFocus:e=>{this.setState({secondStarFocus:e})}})}render(){const{index:e,prefixCls:t,character:i,count:r,value:s,disabled:a,allowHalf:o,focused:l,size:u,ariaLabelPrefix:c}=this.props,{firstStarFocus:d,secondStarFocus:h}=this.state,f=e+1,p=f-s,g=o&&p<1&&p>0,m=1-p,v=f<=s,_=typeof u=="number",y=le(t,{[`${t}-half`]:g,[`${t}-full`]:v,[`${t}-${u}`]:!_}),x=_?{width:u,height:u,fontSize:u}:{},w=_?"inherit":u==="small"?"default":"extra-large",T=i||M.createElement(bxt,{size:w,style:{display:"block"}}),E=e===r,A=le(`${t}-wrapper`,{[`${t}-disabled`]:a,[`${B2.PREFIX}-focus`]:(d||h)&&s!==0}),k={onClick:a?null:this.onClick,onKeyDown:a?null:this.onKeyDown,onMouseMove:a?null:this.onHover,className:A},P=o?r*2+1:r+1,I={ref:this.saveFirstStar,role:"radio","aria-checked":s===e+.5,"aria-posinset":2*e+1,"aria-setsize":P,"aria-disabled":a,"aria-label":`${e+.5} ${c}s`,"aria-labelledby":this.props["aria-describedby"],"aria-describedby":this.props["aria-describedby"],className:le(`${t}-first`,`${B2.PREFIX}-no-focus`),tabIndex:!a&&s===e+.5?0:-1,onFocus:B=>{this.onFocus(B,"first")},onBlur:B=>{this.onBlur(B,"first")}},D=!a&&(s===e+1||E&&s===0)?0:-1,L={ref:this.saveSecondStar,role:"radio","aria-checked":E?s===0:s===e+1,"aria-posinset":o?2*(e+1):e+1,"aria-setsize":P,"aria-disabled":a,"aria-label":`${E?0:e+1} ${c}${e===0?"":"s"}`,"aria-labelledby":this.props["aria-describedby"],"aria-describedby":this.props["aria-describedby"],className:le(`${t}-second`,`${B2.PREFIX}-no-focus`),tabIndex:D,onFocus:B=>{this.onFocus(B,"second")},onBlur:B=>{this.onBlur(B,"second")}};return M.createElement("li",{className:y,style:Object.assign({},x),key:e,ref:this.liRef},M.createElement("div",Object.assign({},k),o&&!E&&M.createElement("div",Object.assign({},I,{style:{width:`${m*100}%`}}),T),M.createElement("div",Object.assign({},L,{"x-semi-prop":"character"}),T)))}}EEe.propTypes={value:S.number,index:S.number,prefixCls:S.string,allowHalf:S.bool,onHover:S.func,onClick:S.func,character:S.node,focused:S.bool,disabled:S.bool,count:S.number,ariaLabelPrefix:S.string,size:S.oneOfType([S.oneOf(TEe.SIZE_SET),S.number]),"aria-describedby":S.string,onFocus:S.func,onBlur:S.func,preventScroll:S.bool};var BIt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};class Oj extends An{constructor(e){super(e),this.rate=null,this.onHover=(i,r)=>{this.foundation.handleHover(i,r)},this.onMouseLeave=()=>{this.foundation.handleMouseLeave()},this.onClick=(i,r)=>{this.foundation.handleClick(i,r)},this.onFocus=i=>{this.foundation.handleFocus(i)},this.onBlur=i=>{this.foundation.handleBlur(i)},this.onKeyDown=i=>{const{value:r}=this.state;this.foundation.handleKeyDown(i,r)},this.focus=()=>{const{disabled:i,preventScroll:r}=this.props;i||this.rate.focus({preventScroll:r})},this.blur=()=>{const{disabled:i}=this.props;i||this.rate.blur()},this.saveRef=i=>r=>{this.stars[i]=r},this.saveRate=i=>{this.rate=i},this.handleStarFocusVisible=i=>{this.foundation.handleStarFocusVisible(i)},this.handleStarBlur=i=>{this.foundation.handleStarBlur(i)},this.getAriaLabelPrefix=()=>{if(this.props["aria-label"])return this.props["aria-label"];let i="star";const{character:r}=this.props;return typeof r=="string"&&(i=r),i},this.getItemList=i=>{const{count:r,allowHalf:s,prefixCls:a,disabled:o,character:l,size:u,tooltips:c}=this.props,{value:d,hoverValue:h,focused:f}=this.state;return[...Array(r+1).keys()].map(g=>{const m=M.createElement(EEe,{ref:this.saveRef(g),index:g,count:r,prefixCls:`${a}-star`,allowHalf:s,value:h===void 0?d:h,onClick:o?Xr:this.onClick,onHover:o?Xr:this.onHover,key:g,disabled:o,character:l,focused:f,size:g===r?0:u,ariaLabelPrefix:i,onFocus:o||r!==g?Xr:this.handleStarFocusVisible,onBlur:o||r!==g?Xr:this.handleStarBlur});if(c){const v=c[g]?c[g]:"",_=h-1===g;return M.createElement(xo,{visible:_,trigger:"custom",content:v,key:`${g}-${_}`},M.createElement("span",{className:`${a}-star-outer`},m))}return m})};const t=e.value===void 0?e.defaultValue:e.value;this.stars={},this.state={value:t,focused:!1,hoverValue:void 0,clearedValue:null,emptyStarFocusVisible:!1},this.foundation=new gq(this.adapter)}static getDerivedStateFromProps(e,t){return"value"in e&&e.value!==void 0?Object.assign(Object.assign({},t),{value:e.value}):t}get adapter(){return Object.assign(Object.assign({},super.adapter),{focus:()=>{const{disabled:e,count:t}=this.props,{value:i}=this.state;if(!e){const r=Math.ceil(i)-1;this.stars[r<0?t:r].starFocus()}},getStarDOM:e=>(this.stars&&this.stars[e]).getDomNode(),notifyHoverChange:(e,t)=>{const{onHoverChange:i}=this.props;this.setState({hoverValue:e,clearedValue:t}),i(e)},updateValue:e=>{const{onChange:t}=this.props;"value"in this.props||this.setState({value:e}),t(e)},clearValue:e=>{this.setState({clearedValue:e})},notifyFocus:e=>{const{onFocus:t}=this.props;this.setState({focused:!0}),t&&t(e)},notifyBlur:e=>{const{onBlur:t}=this.props;this.setState({focused:!1}),t&&t(e)},notifyKeyDown:e=>{const{onKeyDown:t}=this.props;this.setState({focused:!1}),t&&t(e)},setEmptyStarFocusVisible:e=>{this.setState({emptyStarFocusVisible:e})}})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}render(){const e=this.props,{style:t,prefixCls:i,disabled:r,className:s,id:a,count:o,tabIndex:l}=e,u=BIt(e,["style","prefixCls","disabled","className","id","count","tabIndex"]),{value:c,emptyStarFocusVisible:d}=this.state,h=this.getAriaLabelPrefix(),f=`Rating: ${c} of ${o} ${h}${c===1?"":"s"},`,p=this.getItemList(h),g=le(i,{[`${i}-disabled`]:r,[`${i}-focus`]:d},s);return M.createElement("ul",Object.assign({"aria-label":f,"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],className:g,style:t,onMouseLeave:r?Xr:this.onMouseLeave,tabIndex:r?-1:l,onFocus:r?Xr:this.onFocus,onBlur:r?Xr:this.onBlur,onKeyDown:r?Xr:this.onKeyDown,ref:this.saveRate,id:a},this.getDataAttr(u)),p)}}Oj.contextType=Ql;Oj.propTypes={"aria-describedby":S.string,"aria-errormessage":S.string,"aria-invalid":S.bool,"aria-label":S.string,"aria-labelledby":S.string,"aria-required":S.bool,disabled:S.bool,value:S.number,defaultValue:S.number,count:S.number,allowHalf:S.bool,allowClear:S.bool,style:S.object,prefixCls:S.string,onChange:S.func,onHoverChange:S.func,className:S.string,character:S.node,tabIndex:S.number,onFocus:S.func,onBlur:S.func,onKeyDown:S.func,autoFocus:S.bool,size:S.oneOfType([S.oneOf(TEe.SIZE_SET),S.number]),tooltips:S.arrayOf(S.string),id:S.string,preventScroll:S.bool};Oj.defaultProps={defaultValue:0,count:5,allowHalf:!1,allowClear:!0,style:{},prefixCls:B2.PREFIX,onChange:Xr,onHoverChange:Xr,tabIndex:-1,size:"default"};const Fl={PREFIX:`${nt}-slider`,VERTICAL:`${nt}-slider-vertical`,TRACK:`${nt}-slider-track`,DOTS:`${nt}-slider-dots`,MARKS:`${nt}-slider-marks`,HANDLE:`${nt}-slider-handle`,HANDLE_DOT:`${nt}-slider-handle-dot`},bue=(n,e)=>(!globalThis.Touch||!(n instanceof Touch)||["stopPropagation","preventDefault"].forEach(i=>{let r=e[i];r&&(typeof r=="function"&&(r=function(){return e[i](...arguments)}),n[i]?gs(!0,`"The key ${i}" exist in Touch.`):n[i]=r)}),n);class vq extends jn{constructor(e){var t;super(Object.assign(Object.assign({},vq.defaultAdapter),e)),t=this,this.getMinAndMaxPercent=i=>{const{range:r,min:s,max:a}=this._adapter.getProps(),o=r?(i[0]-s)/(a-s):(i-s)/(a-s),l=r?(i[1]-s)/(a-s):1;return{min:this._checkValidity(o),max:this._checkValidity(l)}},this._checkValidity=function(i){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return i>s?s:i<r?r:i},this.computeHandleVisibleVal=(i,r,s)=>{const{focusPos:a,currentValue:o}=this._adapter.getStates(),l={min:!1,max:!1};let u;return r?u={min:r(s?this.outPutValue(o[0]):this.outPutValue(o)),max:s?r(this.outPutValue(o[1])):null}:u={min:s?this.outPutValue(o[0]):this.outPutValue(o),max:s?this.outPutValue(o[1]):null},i?(l.min=!0,l.max=!0):typeof i>"u"&&r&&(a==="min"?l.min=!0:a==="max"&&(l.max=!0)),{tipVisible:l,tipChildren:u}},this.valueFormatIsCorrect=i=>Array.isArray(i)?typeof i[0]=="number"&&typeof i[0]=="number":typeof i=="number",this.handleMousePos=(i,r)=>{const s=this._adapter.getParentRect(),a=s?s.left:0,o=s?s.top:0;return{x:i-a,y:r-o}},this.getScrollParent=i=>{const r=i,s=/(auto|scroll)/,a=(u,c)=>window.getComputedStyle(u,null).getPropertyValue(c),o=u=>s.test(a(u,"overflow")+a(u,"overflow-y")+a(u,"overflow-x")),l=u=>!u||u===document.body||!(u instanceof Element)?document.body:o(u)?u:l(u.parentNode);return l(r)},this.checkMeetMinMax=i=>{const{vertical:r,verticalReverse:s,range:a}=this._adapter.getProps(),o=this._adapter.getState("currentValue");this.transValueToPos(o);const{sliderX:l,sliderY:u,sliderWidth:c,sliderHeight:d}=this._adapter.getSliderLengths(),{chooseMovePos:h,isDrag:f}=this._adapter.getStates(),p=r?d:c;let g;r&&s?g=u+p:g=r?u:l;let m;return r&&s?m=u:m=r?u+d:l+c,r&&s?i>=g?i=g:i<=m&&(i=m):i<=g?i=g:i>=m&&(i=m),i},this.transPosToValue=(i,r)=>{const s=this.checkMeetMinMax(i),{min:a,max:o,currentValue:l}=this._adapter.getStates(),{range:u,vertical:c,step:d,verticalReverse:h}=this._adapter.getProps(),{sliderX:f,sliderY:p,sliderWidth:g,sliderHeight:m}=this._adapter.getSliderLengths(),v=c?p:f,_=c?m:g;let y;c&&h?y=(v+_-s)/_*(o-a)+a:y=(s-v)/_*(o-a)+a;let x;return u?x=r?l[0]:l[1]:x=l,d!==1&&(y=Math.round(y/d)*d),u&&y!==x?r?[y,l[1]]:[l[0],y]:!u&&y!==x?y:!1},this.transValueToPos=i=>{const{min:r,max:s}=this._adapter.getStates(),{vertical:a,range:o,verticalReverse:l}=this._adapter.getProps(),{sliderX:u,sliderY:c,sliderWidth:d,sliderHeight:h}=this._adapter.getSliderLengths(),f=a?c:u,p=a?h:d;return o?[(i[0]-r)*p/(s-r)+f,(i[1]-r)*p/(s-r)+f]:(i-r)*p/(s-r)+f},this.isMarkActive=i=>{const{min:r,max:s,range:a,included:o}=this._adapter.getProps(),l=this._adapter.getState("currentValue");return typeof(i/1)=="number"&&i>=r&&i<=s?a?(i>l[1]||i<l[0])&&o?"unActive":"active":i<=l&&o?"active":"unActive":!1},this.outPutValue=i=>{const r=o=>{var l,u;return/^\d+(\.\d+)?$/.test(String(o))&&(u=(l=o.toString().split(".")[1])===null||l===void 0?void 0:l.length)!==null&&u!==void 0?u:0},s=this._adapter.getProp("step"),a=(()=>{const o=r(s),l=Math.pow(10,o);return u=>Math.round(u*l)/l})();if(Array.isArray(i)){const o=a(i[0]),l=a(i[1]);return o>l?this.getState("focusPos")==="min"?[l,l]:[o,o]:[o,l]}else return a(i)},this.handleDisabledChange=i=>{this._adapter.updateDisabled(i)},this.checkAndUpdateIsInRenderTreeState=()=>this._adapter.checkAndUpdateIsInRenderTreeState(),this.calculateOutputValue=(i,r)=>{const s=this.transPosToValue(i,r);if(s!==!1)return this.outPutValue(s)},this.handleValueChange=(i,r)=>{const{min:s,max:a}=this._adapter.getStates();let o=null;const l={};this.valueFormatIsCorrect(r)?(Array.isArray(i)&&Array.isArray(r)&&(r=[r[0]<s?s:r[0],r[1]>a?a:r[1]],o=Object.assign(l,{currentValue:r})),typeof i=="number"&&typeof r=="number"&&(r>a?r=a:r=r<s?s:r,o=Object.assign(l,{currentValue:r}))):o=l,o&&this._adapter.transNewPropsToState(o)},this.onHandleDown=(i,r)=>{this._adapter.onHandleDown(i);const s=this._adapter.getState("disabled"),{vertical:a}=this._adapter.getProps(),{dragging:o}=this._adapter.getOverallVars();if(s)return!1;this._adapter.setStateVal("isDrag",!0),this._adapter.setStateVal("chooseMovePos",r),r==="min"?this._adapter.setDragging([!0,o[1]]):this._adapter.setDragging([o[0],!0]);const l=this.handleMousePos(i.clientX,i.clientY);let u=a?l.y:l.x;if(!this._adapter.isEventFromHandle(i))this._dragOffset=0;else{const c=this._getHandleCenterPosition(a,i.target);this._dragOffset=u-c,u=c}return!0},this.onHandleMove=i=>{this._adapter.setEventDefault(i);const{disabled:r,chooseMovePos:s}=this._adapter.getStates(),{vertical:a}=this._adapter.getProps(),{dragging:o}=this._adapter.getOverallVars();if(r)return!1;this.onHandleEnter(s);const l=this.handleMousePos(i.clientX,i.clientY);let u=a?l.y:l.x;if(u=u-this._dragOffset,s==="min"&&o[0]||s==="max"&&o[1]){const c=this.calculateOutputValue(u,s==="min");if(c===void 0)return!1;this._adapter.notifyChange(c),this._adapter.onHandleMove(u,s==="min",void 0,!1,c)}return!0},this.onHandleTouchStart=(i,r)=>{const s=this._adapter.getMinHandleEl(),a=this._adapter.getMaxHandleEl();if(i.target===s||i.target===a){xu(i);const o=bue(i.touches[0],i);this.onHandleDown(o,r)}},this.onHandleTouchMove=i=>{const r=this._adapter.getMinHandleEl(),s=this._adapter.getMaxHandleEl();if(i.target===r||i.target===s){const a=bue(i.touches[0],i);this.onHandleMove(a)}},this.onHandleEnter=i=>{const{disabled:r,focusPos:s}=this._adapter.getStates();r||!s&&i!==s&&this._adapter.onHandleEnter(i)},this.onHandleLeave=()=>{const i=this._adapter.getState("disabled"),r=this._adapter.getState("isDrag");!i&&!r&&this._adapter.onHandleLeave()},this.onHandleUp=i=>{this._adapter.onHandleUpBefore(i);const{disabled:r,chooseMovePos:s}=this._adapter.getStates(),{dragging:a}=this._adapter.getOverallVars();return r?!1:(s==="min"?this._adapter.setDragging([!1,a[1]]):this._adapter.setDragging([a[0],!1]),this._adapter.setStateVal("isDrag",!1),this._adapter.onHandleLeave(),this._adapter.onHandleUpAfter(),!0)},this._handleValueDecreaseWithKeyBoard=(i,r)=>{const{min:s,currentValue:a}=this.getStates(),{range:o}=this.getProps();if(r==="min")if(o){let l=a[0]-i;return l=l<s?s:l,[l,a[1]]}else{let l=a-i;return l=l<s?s:l,l}else{let l=a[1]-i;return l=l<a[0]?a[0]:l,[a[0],l]}},this._handleValueIncreaseWithKeyBoard=(i,r)=>{const{max:s,currentValue:a}=this.getStates(),{range:o}=this.getProps();if(r==="min")if(o){let l=a[0]+i;return l=l>a[1]?a[1]:l,[l,a[1]]}else{let l=a+i;return l=l>s?s:l,l}else{let l=a[1]+i;return l=l>s?s:l,[a[0],l]}},this._handleHomeKey=i=>{const{min:r,currentValue:s}=this.getStates(),{range:a}=this.getProps();return i==="min"?a?[r,s[1]]:r:[s[0],s[0]]},this._handleEndKey=i=>{const{max:r,currentValue:s}=this.getStates(),{range:a}=this.getProps();return i==="min"?a?[s[1],s[1]]:r:[s[0],r]},this.handleKeyDown=(i,r)=>{const{min:s,max:a,currentValue:o}=this.getStates(),{step:l,range:u}=this.getProps();let c;switch(i.key){case"ArrowLeft":case"ArrowDown":c=this._handleValueDecreaseWithKeyBoard(l,r);break;case"ArrowRight":case"ArrowUp":c=this._handleValueIncreaseWithKeyBoard(l,r);break;case"PageUp":c=this._handleValueIncreaseWithKeyBoard(10*l,r);break;case"PageDown":c=this._handleValueDecreaseWithKeyBoard(10*l,r);break;case"Home":c=this._handleHomeKey(r);break;case"End":c=this._handleEndKey(r);break}if(["ArrowLeft","ArrowDown","ArrowRight","ArrowUp","PageUp","PageDown","Home","End"].includes(i.key)){let d=!0;Array.isArray(o)?d=!(o[0]===c[0]&&o[1]===c[1]):d=o!==c,d&&(this._adapter.updateCurrentValue(c),this._adapter.notifyChange(c)),xu(i)}},this._noTooltip=()=>{const{tipFormatter:i,tooltipVisible:r}=this.getProps();return i===null||r===!1},this.onFocus=(i,r)=>{if(this._noTooltip())return;xu(i);const{target:a}=i;try{a.matches(":focus-visible")&&(r==="min"?this._adapter.setStateVal("firstDotFocusVisible",!0):this._adapter.setStateVal("secondDotFocusVisible",!0))}catch{gs(!0,"Warning: [Semi Slider] The current browser does not support the focus-visible")}},this.onBlur=(i,r)=>{if(this._noTooltip())return;const{firstDotFocusVisible:a,secondDotFocusVisible:o}=this.getStates();r==="min"?a&&this._adapter.setStateVal("firstDotFocusVisible",!1):o&&this._adapter.setStateVal("secondDotFocusVisible",!1)},this.handleWrapClick=i=>{const{disabled:r,isDrag:s}=this._adapter.getStates();if(s||r||this._adapter.isEventFromHandle(i))return;const{vertical:a}=this.getProps(),o=this.handleMousePos(i.clientX,i.clientY),l=a?o.y:o.x,u=this.checkWhichHandle(l),c=this.calculateOutputValue(l,u);c!==void 0&&(this._adapter.notifyChange(c),!this._isControlledComponent()&&this.setHandlePos(l,u,!0,c))},this.setHandlePos=function(i,r){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3?arguments[3]:void 0;t._adapter.onHandleMove(i,r,()=>t._adapter.onHandleUpAfter(),s,a)},this.checkWhichHandle=i=>{const{vertical:r,verticalReverse:s}=this.getProps(),{currentValue:a}=this._adapter.getStates(),o=this.transValueToPos(a);let l=!0;return Array.isArray(o)&&(i>o[1]||Math.abs(i-o[0])>Math.abs(i-o[1]))&&(l=!1),r&&s&&(l=!l),l},this.handleWrapperEnter=()=>{this._adapter.setStateVal("showBoundary",!0)},this.handleWrapperLeave=()=>{this._adapter.setStateVal("showBoundary",!1)}}init(){this._checkCurrentValue(),this._dragOffset=0}_checkCurrentValue(){const{currentValue:e,min:t,max:i}=this.getStates();let r;Array.isArray(e)?(r=[],r[0]=this._checkValidity(e[0],t,i),r[1]=this._checkValidity(e[1],t,i)):r=this._checkValidity(e,t,i),this._adapter.updateCurrentValue(r)}destroy(){this._adapter.unSubscribeEventListener()}_getHandleCenterPosition(e,t){const i=t.getBoundingClientRect(),{x:r,y:s}=this.handleMousePos(i.left+i.width*.5,i.top+i.height*.5);return e?s:r}}var $It=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const Md=Fl.PREFIX;function NIt(n){return n?!!(n.offsetWidth||n.offsetHeight||n.getClientRects().length):!1}let yq=class extends An{constructor(e){super(e),this.renderHandle=()=>{var i,r,s,a,o;const{vertical:l,range:u,tooltipVisible:c,tipFormatter:d,"aria-label":h,"aria-labelledby":f,"aria-valuetext":p,getAriaValueText:g,disabled:m}=this.props,{chooseMovePos:v,isDrag:_,isInRenderTree:y,firstDotFocusVisible:x,secondDotFocusVisible:w}=this.state,T=l?"top":"left",E=this.foundation.getMinAndMaxPercent(this.state.currentValue),A=E.min,k=E.max,{tipVisible:P,tipChildren:I}=this.foundation.computeHandleVisibleVal(c&&y,d,u),D=le(Fl.HANDLE,{[`${Fl.HANDLE}-clicked`]:v==="min"&&_}),L=le(Fl.HANDLE,{[`${Fl.HANDLE}-clicked`]:v==="max"&&_}),{min:B,max:F,currentValue:$}=this.state,z={"aria-label":h??(m?"Disabled Slider":void 0),"aria-labelledby":f,"aria-disabled":m};l&&Object.assign(z,{"aria-orientation":"vertical"});const N=this.props.handleDot;return u?M.createElement(M.Fragment,null,M.createElement(xo,{content:I.min,position:"top",trigger:"custom",rePosKey:A,visible:y&&(P.min||x),className:`${Fl.HANDLE}-tooltip`},M.createElement("span",Object.assign({ref:this.minHanleEl,className:D,style:{[T]:`${A*100}%`,zIndex:v==="min"?2:1},onMouseDown:H=>{this.foundation.onHandleDown(H,"min")},onMouseEnter:()=>{this.foundation.onHandleEnter("min")},onTouchStart:H=>{this.foundation.onHandleTouchStart(H,"min")},onMouseLeave:()=>{this.foundation.onHandleLeave()},onKeyUp:H=>{this.foundation.onHandleUp(H)},onTouchEnd:H=>{this.foundation.onHandleUp(H)},onKeyDown:H=>{this.foundation.handleKeyDown(H,"min")},onFocus:H=>{this.foundation.onFocus(H,"min")},onBlur:H=>{this.foundation.onBlur(H,"min")},role:"slider",tabIndex:m?-1:0},z,{"aria-valuetext":g?g($[0],0):p,"aria-valuenow":$[0],"aria-valuemax":$[1],"aria-valuemin":B}),(N==null?void 0:N[0])&&M.createElement("div",{className:Fl.HANDLE_DOT,style:Object.assign(Object.assign({},!((i=N[0])===null||i===void 0)&&i.size?{width:N[0].size,height:N[0].size}:{}),!((r=N[0])===null||r===void 0)&&r.color?{backgroundColor:N[0].color}:{})}))),M.createElement(xo,{content:I.max,position:"top",trigger:"custom",rePosKey:k,visible:y&&(P.max||w),className:`${Fl.HANDLE}-tooltip`},M.createElement("span",Object.assign({ref:this.maxHanleEl,className:L,style:{[T]:`${k*100}%`,zIndex:v==="max"?2:1},onMouseDown:H=>{this.foundation.onHandleDown(H,"max")},onMouseEnter:()=>{this.foundation.onHandleEnter("max")},onMouseLeave:()=>{this.foundation.onHandleLeave()},onKeyUp:H=>{this.foundation.onHandleUp(H)},onTouchStart:H=>{this.foundation.onHandleTouchStart(H,"max")},onTouchEnd:H=>{this.foundation.onHandleUp(H)},onKeyDown:H=>{this.foundation.handleKeyDown(H,"max")},onFocus:H=>{this.foundation.onFocus(H,"max")},onBlur:H=>{this.foundation.onBlur(H,"max")},role:"slider",tabIndex:m?-1:0},z,{"aria-valuetext":g?g($[1],1):p,"aria-valuenow":$[1],"aria-valuemax":F,"aria-valuemin":$[0]}),((s=this.props.handleDot)===null||s===void 0?void 0:s[1])&&M.createElement("div",{className:Fl.HANDLE_DOT,style:Object.assign(Object.assign({},!((a=this.props.handleDot[1])===null||a===void 0)&&a.size?{width:this.props.handleDot[1].size,height:this.props.handleDot[1].size}:{}),!((o=this.props.handleDot[1])===null||o===void 0)&&o.color?{backgroundColor:this.props.handleDot[1].color}:{})})))):M.createElement(xo,{content:I.min,showArrow:this.props.showArrow,position:"top",trigger:"custom",rePosKey:A,visible:y&&(P.min||x),className:`${Fl.HANDLE}-tooltip`},M.createElement("span",Object.assign({onMouseOver:this.foundation.checkAndUpdateIsInRenderTreeState,ref:this.minHanleEl,className:D,style:{[T]:`${A*100}%`,zIndex:v==="min"&&_?2:1},onMouseDown:H=>{this.foundation.onHandleDown(H,"min")},onMouseEnter:()=>{this.foundation.onHandleEnter("min")},onTouchStart:H=>{this.foundation.onHandleTouchStart(H,"min")},onMouseLeave:()=>{this.foundation.onHandleLeave()},onKeyUp:H=>{this.foundation.onHandleUp(H)},onTouchEnd:H=>{this.foundation.onHandleUp(H)},onKeyDown:H=>{this.foundation.handleKeyDown(H,"min")},onFocus:H=>{this.foundation.onFocus(H,"min")},onBlur:H=>{this.foundation.onBlur(H,"min")},role:"slider","aria-valuetext":g?g($,0):p,tabIndex:m?-1:0},z,{"aria-valuenow":$,"aria-valuemax":F,"aria-valuemin":B}),N&&M.createElement("div",{className:Fl.HANDLE_DOT,style:Object.assign(Object.assign({},N!=null&&N.size?{width:N.size,height:N.size}:{}),N!=null&&N.color?{backgroundColor:N.color}:{})})))},this.renderTrack=()=>{const{range:i,included:r,vertical:s}=this.props,a=this.foundation.getMinAndMaxPercent(this.state.currentValue),o=a.min,l=a.max;let u=s?{height:i?`${Math.abs(l-o)*100}%`:`${o*100}%`,top:i?`${Math.min(o,l)*100}%`:0}:{width:i?`${Math.abs(l-o)*100}%`:`${o*100}%`,left:i?`${Math.min(o,l)*100}%`:0};return u=r?u:{},M.createElement("div",{className:Fl.TRACK,style:u,onClick:this.foundation.handleWrapClick})},this.renderStepDot=()=>{const{min:i,max:r,vertical:s,marks:a}=this.props,o=s?"top":"left";return a&&Object.keys(a).length>0?M.createElement("div",{className:Fl.DOTS},Object.keys(a).map(u=>{const c=this.foundation.isMarkActive(Number(u)),d=le(`${Md}-dot`,{[`${Md}-dot-active`]:this.foundation.isMarkActive(Number(u))==="active"}),h=(Number(u)-i)/(r-i),f=M.createElement("span",{key:u,onClick:this.foundation.handleWrapClick,className:d,style:{[o]:`calc(${h*100}% - 2px)`}});return c?this.props.tooltipOnMark?M.createElement(xo,{content:a[u]},f):f:null})):null},this.renderLabel=()=>{if(!this.props.showMarkLabel)return null;const{min:i,max:r,vertical:s,marks:a,verticalReverse:o}=this.props,l=s?"top":"left";return a&&Object.keys(a).length>0?M.createElement("div",{className:Fl.MARKS+(s&&o?"-reverse":"")},Object.keys(a).map(c=>{const d=this.foundation.isMarkActive(Number(c)),h=(Number(c)-i)/(r-i);return d?M.createElement("span",{key:c,className:le(`${Md}-mark${s&&o?"-reverse":""}`),style:{[l]:`${h*100}%`},onClick:this.foundation.handleWrapClick},a[c]):null})):null},this._getAriaValueText=(i,r)=>{const{getAriaValueText:s}=this.props;return s?s(i,r):i};let{value:t}=this.props;t||(t=this.props.defaultValue),this.state={currentValue:t||(this.props.range?[0,0]:0),min:this.props.min||0,max:this.props.max||0,focusPos:"",onChange:this.props.onChange,disabled:this.props.disabled||!1,chooseMovePos:"",isDrag:!1,clickValue:0,showBoundary:!1,isInRenderTree:!0,firstDotFocusVisible:!1,secondDotFocusVisible:!1},this.sliderEl=M.createRef(),this.minHanleEl=M.createRef(),this.maxHanleEl=M.createRef(),this.dragging=[!1,!1],this.foundation=new vq(this.adapter),this.eventListenerSet=new Set,this.handleDownEventListenerSet=new Set}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{getSliderLengths:()=>{var t;if(this.sliderEl&&this.sliderEl.current){const i=this.sliderEl.current.getBoundingClientRect(),r=(t=this.sliderEl.current.offsetParent)===null||t===void 0?void 0:t.getBoundingClientRect(),s={x:r?i.left-r.left:this.sliderEl.current.offsetLeft,y:r?i.top-r.top:this.sliderEl.current.offsetTop};return{sliderX:s.x,sliderY:s.y,sliderWidth:i.width,sliderHeight:i.height}}return{sliderX:0,sliderY:0,sliderWidth:0,sliderHeight:0}},getParentRect:()=>{const t=this.sliderEl&&this.sliderEl.current&&this.sliderEl.current.offsetParent;if(t)return t.getBoundingClientRect()},getScrollParentVal:()=>{const t=this.foundation.getScrollParent(this.sliderEl.current);return{scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}},isEventFromHandle:t=>{const i=[this.minHanleEl,this.maxHanleEl];let r=!1;return i.forEach(s=>{if(!s)return;const a=s&&s.current;a&&a.contains(t.target)&&(r=!0)}),r},getOverallVars:()=>({dragging:this.dragging}),updateDisabled:t=>{this.setState({disabled:t})},transNewPropsToState(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:be;this.setState(t,i)},notifyChange:t=>{this.props.onChange(Array.isArray(t)?[...t].sort((i,r)=>i-r):t)},setDragging:t=>{this.dragging=t},updateCurrentValue:t=>{const{currentValue:i}=this.state;t!==i&&this.setState({currentValue:t})},setOverallVars:(t,i)=>{this[t]=i},getMinHandleEl:()=>this.minHanleEl.current,getMaxHandleEl:()=>this.maxHanleEl.current,onHandleDown:t=>{this.handleDownEventListenerSet.add(this._addEventListener(document.body,"mousemove",this.foundation.onHandleMove,!1)),this.handleDownEventListenerSet.add(this._addEventListener(window,"mouseup",this.foundation.onHandleUp,!1)),this.handleDownEventListenerSet.add(this._addEventListener(document.body,"touchmove",this.foundation.onHandleTouchMove,!1))},onHandleMove:function(t,i){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:be,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=arguments.length>4?arguments[4]:void 0;if(!e.foundation.checkAndUpdateIsInRenderTreeState())return;const{value:l}=e.props;let u=a;if(u===void 0){const d=e.foundation.transPosToValue(t,i);if(d===!1)return;u=e.foundation.outPutValue(d)}const{currentValue:c}=e.state;if(!Kn(e.foundation.outPutValue(c),u)){if(!s&&e.foundation.valueFormatIsCorrect(l))return!1;e.setState({currentValue:u},r)}},setEventDefault:t=>{t.stopPropagation(),t.preventDefault()},setStateVal:(t,i)=>{this.setState({[t]:i})},checkAndUpdateIsInRenderTreeState:()=>{const t=NIt(this.sliderEl.current);return t!==this.state.isInRenderTree&&this.setState({isInRenderTree:t}),t},onHandleEnter:t=>{this.setState({focusPos:t})},onHandleLeave:()=>{this.setState({focusPos:""})},onHandleUpBefore:t=>{var i,r;(r=(i=this.props).onMouseUp)===null||r===void 0||r.call(i,t),t.stopPropagation(),t.preventDefault(),Array.from(this.handleDownEventListenerSet).forEach(s=>s()),this.handleDownEventListenerSet.clear()},onHandleUpAfter:()=>{const{currentValue:t}=this.state,i=this.foundation.outPutValue(t);this.props.onAfterChange(i)},unSubscribeEventListener:()=>{Array.from(this.eventListenerSet).forEach(t=>t())}})}componentDidMount(){this.foundation.init()}componentDidUpdate(e,t){const i=!Kn(this.props.value,e.value);if(this.props.disabled!==e.disabled&&this.foundation.handleDisabledChange(this.props.disabled),i){const s=this.props.value,a=this.state.currentValue;this.foundation.handleValueChange(a,s),this.props.onAfterChange(this.props.value)}}componentWillUnmount(){this.foundation.destroy()}render(){const{disabled:e,currentValue:t,min:i,max:r}=this.state,s=this.props,{vertical:a,verticalReverse:o,style:l,railStyle:u,range:c,className:d}=s,h=$It(s,["vertical","verticalReverse","style","railStyle","range","className"]),f=le(`${Md}-wrapper`,{[`${Md}-disabled`]:e,[`${Fl.VERTICAL}-wrapper`]:a,[`${Md}-reverse`]:a&&o},d),p=le(`${Md}-boundary`,{[`${Md}-boundary-show`]:this.props.showBoundary&&this.state.showBoundary}),g=le({[`${Md}`]:!a,[Fl.VERTICAL]:a}),m=Array.isArray(t)?[...t].sort():t,v=c?`Range: ${this._getAriaValueText(m[0],0)} to ${this._getAriaValueText(m[1],1)}`:void 0,_=M.createElement("div",Object.assign({className:f,style:l,ref:this.sliderEl,"aria-label":v,onMouseEnter:()=>this.foundation.handleWrapperEnter(),onMouseLeave:()=>this.foundation.handleWrapperLeave()},this.getDataAttr(h)),M.createElement("div",{className:`${Md}-rail`,onClick:this.foundation.handleWrapClick,style:u}),this.renderTrack(),this.renderStepDot(),M.createElement("div",null,this.renderHandle()),this.renderLabel(),M.createElement("div",{className:p},M.createElement("span",{className:`${Md}-boundary-min`},i),M.createElement("span",{className:`${Md}-boundary-max`},r)));return a?_:M.createElement("div",{className:g},_)}_addEventListener(e,t,i){if(e.addEventListener){for(var r=arguments.length,s=new Array(r>3?r-3:0),a=3;a<r;a++)s[a-3]=arguments[a];e.addEventListener(t,i,...s);const o=()=>{e==null||e.removeEventListener(t,i),Promise.resolve().then(()=>{this.eventListenerSet.delete(o)})};return this.eventListenerSet.add(o),o}else return be}};yq.propTypes={defaultValue:S.oneOfType([S.number,S.array]),disabled:S.bool,showMarkLabel:S.bool,included:S.bool,marks:S.object,max:S.number,min:S.number,range:S.bool,step:S.number,tipFormatter:S.func,value:S.oneOfType([S.number,S.array]),vertical:S.bool,onAfterChange:S.func,onChange:S.func,onMouseUp:S.func,tooltipOnMark:S.bool,tooltipVisible:S.bool,showArrow:S.bool,style:S.object,className:S.string,showBoundary:S.bool,railStyle:S.object,verticalReverse:S.bool,getAriaValueText:S.func,handleDot:S.oneOfType([S.shape({size:S.string,color:S.string}),S.arrayOf(S.shape({size:S.string,color:S.string}))])};yq.defaultProps={disabled:!1,showMarkLabel:!0,tooltipOnMark:!1,included:!0,max:100,min:0,range:!1,showArrow:!0,step:1,tipFormatter:n=>n,vertical:!1,showBoundary:!1,onAfterChange:n=>{},onChange:n=>{},verticalReverse:!1};class jIt extends jn{constructor(e){super(Object.assign({},e)),this.handleFocusVisible=t=>{const{target:i}=t;try{i.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch{gs(!0,"Warning: [Semi Switch] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this._adapter.setFocusVisible(!1)}}init(){const{disabled:e}=this.getProps();this.setDisabled(e)}setChecked(e){this._adapter.setNativeControlChecked(e)}setDisabled(e){this._adapter.setNativeControlDisabled(e)}handleChange(e,t){typeof this.getProps().checked<"u"?this._adapter.notifyChange(e,t):(this._adapter.setNativeControlChecked(e),this._adapter.notifyChange(e,t))}destroy(){}}const Id={PREFIX:`${nt}-switch`,FOCUS:`${nt}-switch-focus`,LARGE:`${nt}-switch-large`,SMALL:`${nt}-switch-small`,CHECKED:`${nt}-switch-checked`,DISABLED:`${nt}-switch-disabled`,KNOB:`${nt}-switch-knob`,NATIVE_CONTROL:`${nt}-switch-native-control`,CHECKED_TEXT:`${nt}-switch-checked-text`,UNCHECKED_TEXT:`${nt}-switch-unchecked-text`,LOADING_SPIN:`${nt}-switch-loading-spin`,LOADING:`${nt}-switch-loading`},zIt={SIZE_MAP:["default","small","large"]};var HIt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};class Pj extends An{constructor(e){super(e),this.handleFocusVisible=t=>{this.foundation.handleFocusVisible(t)},this.handleBlur=t=>{this.foundation.handleBlur()},this.state={nativeControlChecked:e.defaultChecked||e.checked,nativeControlDisabled:!1,focusVisible:!1},this.switchRef=M.createRef(),this.foundation=new jIt(this.adapter)}componentDidMount(){this.foundation.init()}componentDidUpdate(e){this.props.checked!==e.checked&&this.foundation.setChecked(this.props.checked),this.props.disabled!==e.disabled&&this.foundation.setDisabled(this.props.disabled)}componentWillUnmount(){this.foundation.destroy()}get adapter(){return Object.assign(Object.assign({},super.adapter),{setNativeControlChecked:e=>{this.setState({nativeControlChecked:e})},setNativeControlDisabled:e=>{this.setState({nativeControlDisabled:e})},setFocusVisible:e=>{this.setState({focusVisible:e})},notifyChange:(e,t)=>{this.props.onChange(e,t)}})}render(){const{nativeControlChecked:e,nativeControlDisabled:t,focusVisible:i}=this.state,r=this.props,{className:s,style:a,onMouseEnter:o,onMouseLeave:l,size:u,checkedText:c,uncheckedText:d,loading:h,id:f}=r,p=HIt(r,["className","style","onMouseEnter","onMouseLeave","size","checkedText","uncheckedText","loading","id"]),g=le(s,{[Id.PREFIX]:!0,[Id.CHECKED]:e,[Id.DISABLED]:t,[Id.LARGE]:u==="large",[Id.SMALL]:u==="small",[Id.LOADING]:h,[Id.FOCUS]:i}),m={type:"checkbox",className:Id.NATIVE_CONTROL,disabled:t||h,checked:e||!1},v=c&&e&&u!=="small",_=d&&!e&&u!=="small";return M.createElement("div",Object.assign({className:g,style:a,onMouseEnter:o,onMouseLeave:l},this.getDataAttr(p)),h?M.createElement(bh,{wrapperClassName:Id.LOADING_SPIN,size:u==="default"?"middle":u}):M.createElement("div",{className:Id.KNOB,"aria-hidden":!0}),v?M.createElement("div",{className:Id.CHECKED_TEXT,"x-semi-prop":"checkedText"},c):null,_?M.createElement("div",{className:Id.UNCHECKED_TEXT,"x-semi-prop":"uncheckedText"},d):null,M.createElement("input",Object.assign({},m,{ref:this.switchRef,id:f,role:"switch","aria-checked":e,"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-disabled":this.props.disabled,onChange:y=>this.foundation.handleChange(y.target.checked,y),onFocus:y=>this.handleFocusVisible(y),onBlur:y=>this.handleBlur(y)})))}}Pj.propTypes={"aria-label":S.string,"aria-labelledby":S.string,"aria-invalid":S.bool,"aria-errormessage":S.string,"aria-describedby":S.string,className:S.string,checked:S.bool,checkedText:S.node,defaultChecked:S.bool,disabled:S.bool,loading:S.bool,onChange:S.func,onMouseEnter:S.func,onMouseLeave:S.func,style:S.object,size:S.oneOf(zIt.SIZE_MAP),uncheckedText:S.node,id:S.string};Pj.defaultProps={disabled:!1,className:"",onChange:be,loading:!1,onMouseEnter:be,onMouseLeave:be,size:"default"};var VIt=pX,WIt=1/0;function UIt(n){var e=n==null?0:n.length;return e?VIt(n,WIt):[]}var GIt=UIt;const YIt=yn(GIt);var KIt=tj;function XIt(n,e){var t;return KIt(n,function(i,r,s){return t=e(i,r,s),!t}),!!t}var qIt=XIt,ZIt=RCe,QIt=R1,JIt=qIt,eRt=Ao,tRt=JN;function nRt(n,e,t){var i=eRt(n)?ZIt:JIt;return t&&tRt(n,e,t)&&(e=void 0),i(n,QIt(e))}var iRt=nRt;const $2=yn(iRt);var rRt=tj;function sRt(n,e){var t=[];return rRt(n,function(i,r,s){e(i,r,s)&&t.push(i)}),t}var aRt=sRt,oRt=sCe,lRt=aRt,uRt=R1,cRt=Ao;function dRt(n,e){var t=cRt(n)?oRt:lRt;return t(n,uRt(e))}var hRt=dRt;const CC=yn(hRt);var fRt=ej;function pRt(n,e,t){t=typeof t=="function"?t:void 0;var i=t?t(n,e):void 0;return i===void 0?fRt(n,e,void 0,t):!!i}var gRt=pRt;const mRt=yn(gRt),Au={PREFIX:`${nt}-table`},En={SIZE_SMALL:"small",SIZE_MIDDLE:"middle",SIZES:["small","default","middle"],LAYOUTS:["","auto","fixed"],PAGINATION_POSITIONS:["bottom","top","both"],SORT_DIRECTIONS:["ascend","descend"],FIXED_SET:[!1,!0,"left","right"],ALIGNS:["left","right","center"],DEFAULT_KEY_COLUMN_SELECTION:"column-selection",DEFAULT_KEY_COLUMN_EXPAND:"column-expand",DEFAULT_KEY_COLUMN_TITLE:"column-title",DEFAULT_KEY_COLUMN_SORTER:"column-sorter",DEFAULT_KEY_COLUMN_FILTER:"column-filter",DEFAULT_KEY_COLUMN_SCROLLBAR:"column-scrollbar",DEFAULT_COMPONENTS:{body:{cell:"td"}},EXPAND_RELATED_PROPS:["expandedRowRender","dataSource","hideExpandedColumn","childrenRecordName","rowExpandable"]},L1=1,_q=0,AEe=16,kEe=16,OEe=12,PEe=12,MEe=8,IEe=8,bq=20,Sue=bq+L1+_q+AEe+kEe,vRt=AEe+kEe+L1,xue=bq+L1+_q+OEe+PEe,yRt=OEe+PEe+L1,wue=bq+L1+_q+IEe+MEe,_Rt=MEe+IEe+L1,eo={DEFAULT_PAGE_SIZE:10,DEFAULT_WIDTH_COLUMN_EXPAND:60,DEFAULT_WIDTH_COLUMN_SELECTION:60,DEFAULT_INDENT_WIDTH:20,DEFAULT_CELL_PADDING_LEFT:16,DEFAULT_CELL_PADDING_RIGHT:16,DEFAULT_CELL_BORDER_WIDTH_LEFT:1,DEFAULT_CELL_BORDER_WIDTH_RIGHT:1,DEFAULT_VIRTUALIZED_SECTION_ROW_HEIGHT:Sue,DEFAULT_VIRTUALIZED_ROW_HEIGHT:Sue,DEFAULT_VIRTUALIZED_ROW_MIN_HEIGHT:vRt,DEFAULT_VIRTUALIZED_SECTION_ROW_MIDDLE_HEIGHT:xue,DEFAULT_VIRTUALIZED_ROW_MIDDLE_HEIGHT:xue,DEFAULT_VIRTUALIZED_ROW_MIDDLE_MIN_HEIGHT:yRt,DEFAULT_VIRTUALIZED_SECTION_ROW_SMALL_HEIGHT:wue,DEFAULT_VIRTUALIZED_ROW_SMALL_HEIGHT:wue,DEFAULT_VIRTUALIZED_ROW_SMALL_MIN_HEIGHT:_Rt};let REe=class{constructor(e){this._prefix=e}_isEmpty(e){return e==null||e===""}_baseLog(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"log";if(typeof console[e]=="function"){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];const s=[...i];this._isEmpty(this._prefix)||s.unshift(this._prefix,":"),console[e](...s)}}log(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this._baseLog("log",...t)}warn(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this._baseLog("warn",...t)}error(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this._baseLog("error",...t)}info(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this._baseLog("info",...t)}};function bRt(n,e,t){return mRt(n,e,function(i,r){if(typeof i=="function"&&typeof r=="function")return Hv(i)===Hv(r)})}function Cue(n,e){e=Array.isArray(e)?e:["key","dataIndex"];let t=null;return ll(e,i=>{if(t=Ce(n,i),t!=null)return!1}),t}function TC(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=arguments.length>2?arguments[2]:void 0;e=e<0||typeof e!="number"?0:e,t=t>n.length||typeof t!="number"?n.length:t;let i=0;return ll(n,(r,s)=>{s>=e&&s<t&&(i+=typeof r=="number"&&!isNaN(r)?r:0)}),i}function a8(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:["key"];const i=CC(n,s=>s.fixed===!0||s.fixed==="left"),r=sh(i,s=>t.every(a=>s[a]!=null&&s[a]===e[a]));return i.length>0&&r===i.length-1}function o8(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:["key"];const i=CC(n,s=>s.fixed==="right"),r=sh(i,s=>t.every(a=>s[a]!=null&&s[a]===e[a]));return i.length>0&&r===0}function N2(n){return["left",!0].includes(Ce(n,"fixed"))}function j2(n){return["right"].includes(Ce(n,"fixed"))}function SRt(n){return[En.DEFAULT_KEY_COLUMN_EXPAND,En.DEFAULT_KEY_COLUMN_SCROLLBAR,En.DEFAULT_KEY_COLUMN_SELECTION].includes(n)}function DEe(n){return Ce(n,"key")===En.DEFAULT_KEY_COLUMN_EXPAND}function xRt(n){return Ce(n,"key")===En.DEFAULT_KEY_COLUMN_SCROLLBAR}function wRt(n){return Ce(n,"key")===En.DEFAULT_KEY_COLUMN_SELECTION}function Sq(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[En.DEFAULT_KEY_COLUMN_SCROLLBAR];return CC(n,t=>!e.includes(t.key))}function cy(n,e){return e===void 0&&(e="key"),typeof e=="function"?e(n):Ce(n,e)}function i4(n,e){return e!=null&&Np(n,e)}function CRt(n,e){return e!==null&&n.has(e)}function TRt(n,e){return e!==null&&n.has(e)}function Tue(n,e,t){return t===void 0&&(t="key"),ag(n,i=>e!=null&&e!==""&&cy(i,t)===e)}function ERt(n,e){return e===void 0&&(e="children"),Ce(n,e)}function LEe(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;return e===void 0&&(e="__expanded_row"),n+e}function ARt(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const t={};return n==="small"?(t.height=e?eo.DEFAULT_VIRTUALIZED_SECTION_ROW_SMALL_HEIGHT:eo.DEFAULT_VIRTUALIZED_ROW_SMALL_HEIGHT,t.minHeight=eo.DEFAULT_VIRTUALIZED_ROW_SMALL_MIN_HEIGHT):n==="middle"?(t.height=e?eo.DEFAULT_VIRTUALIZED_SECTION_ROW_MIDDLE_HEIGHT:eo.DEFAULT_VIRTUALIZED_ROW_MIDDLE_HEIGHT,t.minHeight=eo.DEFAULT_VIRTUALIZED_ROW_MIDDLE_MIN_HEIGHT):(t.height=e?eo.DEFAULT_VIRTUALIZED_SECTION_ROW_HEIGHT:eo.DEFAULT_VIRTUALIZED_ROW_HEIGHT,t.minHeight=eo.DEFAULT_VIRTUALIZED_ROW_MIN_HEIGHT),t}function Mw(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"children";const t=[];if(Array.isArray(n)&&n.length)for(const i of n)Array.isArray(i[e])&&i[e].length?t.push(...Mw(i[e],e)):(PRt(i),t.push(i));return t}function hF(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"children",t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const i=[];return ll(n,(r,s)=>{if(r.key==null){const a=r.dataIndex||s;r.key=`${t}-${a}`}Array.isArray(r[e])&&r[e].length&&i.push(...r[e])}),i.length&&hF(i,e,t+1),n}function FEe(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"children",i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;const r=[];return Array.isArray(n)&&n.length&&i<=e&&n.forEach(s=>{const a=s[t];Array.isArray(a)&&a.length&&i<e?r.push(...FEe(a,e,t,i+1)):r.push(s)}),r}function z2(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"children",i;return ll(n,r=>{if(r&&r.key!=null&&!i&&r.key===e.key&&(i=r),r&&Array.isArray(r[t])&&!i&&(i=z2(r[t],e,t)),i)return!1}),i}function kRt(n){const{expandedRowRender:e,dataSource:t,hideExpandedColumn:i,childrenRecordName:r,rowExpandable:s}=n,a=typeof e=="function";return i&&a||!a&&t.some(o=>{const l=Ce(o,r);return!!(Array.isArray(l)&&l.length||s(o))})}function BEe(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t;const i=e.findIndex(r=>n.dataIndex===r.dataIndex?(t=Object.assign(Object.assign({},r),n),!0):!1);return i>-1?e.splice(i,1,t):e.push(t),[...e]}function ORt(n,e){const t=[...e];for(const i of n)if(!br(i.width)){const r=i.key,s=sh(t,a=>a.key===r);s!==-1&&(t[s].width=Ce(i,"width"))}return t}function $Ee(n){let{dataSource:e,getCheckboxProps:t,childrenRecordName:i,rowKey:r}=n;const s=[];if(Array.isArray(e)&&e.length&&typeof t=="function")for(const a of e){const o=t(a),l=typeof r=="function"?r(a):Ce(a,r);o&&o.disabled&&s.push(l);const u=Ce(a,i);if(Array.isArray(u)&&u.length){const c=$Ee({dataSource:u,getCheckboxProps:t});s.push(...c)}}return s}function PRt(n){if(typeof n=="object"&&n!==null){const{filters:e,sorter:t,dataIndex:i,onFilter:r}=n,s=new REe("[@douyinfe/semi-ui Table]");(Array.isArray(e)||Mn(r)||Mn(t))&&br(i)&&s.warn("The column with sorter or filter must pass the 'dataIndex' prop")}}function MRt(n){let{dataSource:e,childrenRecordName:t="children"}=n,i=!1;if(Array.isArray(e))for(const r of e){const s=Ce(r,t);if(Array.isArray(s)&&s.length){i=!0;break}}return i}function NEe(n,e){if(e==="rtl")switch(n){case"left":return"right";case"right":return"left";default:return n}return n}function IRt(n,e){if(e==="rtl")switch(n){case"left":return"flex-end";case"right":return"flex-start";default:return n}else switch(n){case"left":return"flex-start";case"right":return"flex-end";default:return n}}function xq(n){return n===!0||Ce(n,"showTitle",!0)}class RRt{constructor(e){this._state=Object.assign({},e),this._listeners=[]}subscribe(e){return this._listeners.push(e),()=>{const i=this._listeners.indexOf(e);i>-1&&this._listeners.splice(i,1)}}setState(e){Object.assign(this._state,Object.assign({},e));for(const t of this._listeners)typeof t=="function"&&t(this._state)}getState(){return this._state}}function DRt(n,e,t,i){for(var r=t-1,s=n.length;++r<s;)if(i(n[r],e))return r;return-1}var LRt=DRt,FRt=F0,BRt=$X,$Rt=LRt,NRt=N0,jRt=XN,zRt=Array.prototype,Eue=zRt.splice;function HRt(n,e,t,i){var r=i?$Rt:BRt,s=-1,a=e.length,o=n;for(n===e&&(e=jRt(e)),t&&(o=FRt(n,NRt(t)));++s<a;)for(var l=0,u=e[s],c=t?t(u):u;(l=r(o,c,l,i))>-1;)o!==n&&Eue.call(o,l,1),Eue.call(n,l,1);return n}var VRt=HRt,WRt=VRt;function URt(n,e){return n&&n.length&&e&&e.length?WRt(n,e):n}var GRt=URt,YRt=QN,KRt=GRt,XRt=YRt(KRt),qRt=XRt;const ZRt=yn(qRt);function QRt(n){return new Set(n)}function JRt(n,e){if(n===e&&(e=QRt(e)),Ap(n)&&n.size&&Ap(e)&&e.size){for(const t of e)n.has(t)&&n.delete(t);return n}return n}function Aue(n,e){if(n!==null&&n.length&&e!==null&&e.length){const t=new Set(n),i=new Set(e),r=JRt(t,i);return Array.from(r)}return n}function eDt(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ascend";switch(e){case"descend":return(t,i)=>{const r=Number(n(t,i,e));return r!==0?-r:r};case"ascend":default:return(t,i)=>n(t,i,e)}}class oO extends jn{static initColumnsFilteredValueAndSorterOrder(e){return e.forEach(t=>{oO.initFilteredValue(t),oO.initSorterOrder(t)}),e}static initFilteredValue(e){const{defaultFilteredValue:t,filteredValue:i}=e;lr(i)&&(Array.isArray(t)&&t.length?e.filteredValue=t:e.filteredValue=[])}static initSorterOrder(e){const{defaultSortOrder:t,sortOrder:i,sorter:r}=e;r&&lr(i)&&(lr(t)?e.sortOrder=!1:e.sortOrder=t)}constructor(e){super(Object.assign({},e)),this.setPage=(r,s)=>{r=r||this._adapter.getCurrentPage();const a=this.getState("pagination"),{dataSource:o,pagination:l,disabledRowKeys:u,allRowKeys:c}=this.getCurrentPageData(null,Object.assign(Object.assign({},a),{currentPage:r,pageSize:s}));!this._pagerIsControlled()&&r>0&&(this._adapter.setDisabledRowKeys(u),this._adapter.setAllRowKeys(c),this._adapter.setPagination(l),this._adapter.setDataSource(o)),this._notifyChange(l,void 0,void 0,{changeType:"pagination"})},this.setCachedFilteredSortedDataSource=r=>{this._adapter.setCachedFilteredSortedDataSource(r);const s=this.getAllRowKeys(r);this._adapter.setCachedFilteredSortedRowKeys(s)},this.handleMouseDown=r=>{var s,a;this.mouseDownTarget={targetName:(s=r.target)===null||s===void 0?void 0:s.tagName,className:(a=r.target)===null||a===void 0?void 0:a.className}},this.isSortOrderValid=r=>En.SORT_DIRECTIONS.includes(r)||r===!1;const t=this._adapter.getHandleColumns(),i=this._adapter.getMergePagination();this.mouseDownTarget=null,this.memoizedWithFnsColumns=Cb(t,Kn),this.memoizedFilterColumns=Cb(Sq),this.memoizedFlattenFnsColumns=Cb(Mw),this.memoizedPagination=Cb(i,Kn)}init(){const e=[...this.getProp("dataSource")],{queries:t}=this._adapter.getStates(),i=this.getFilteredSortedDataSource(e,t),r=this.getAllDisabledRowKeys(i),s=this.getCurrentPageData(i);this.setAdapterPageData(s),this.initExpandedRowKeys(s),this.initSelectedRowKeys(s),this.setCachedFilteredSortedDataSource(i),this.setAllDisabledRowKeys(r)}initExpandedRowKeys(){let{groups:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{defaultExpandAllRows:t,defaultExpandedRowKeys:i=[],expandedRowKeys:r=[],dataSource:s=[],expandAllRows:a,defaultExpandAllGroupRows:o,expandAllGroupRows:l}=this.getProps(),u=[];t||a?this._addNoDuplicatedItemsToArr(u,this.getAllRowKeys(s),e&&Xk(e)&&e.size?Array.from(e.keys()):[]):o||l?this._addNoDuplicatedItemsToArr(u,r,e&&Xk(e)&&e.size?Array.from(e.keys()):[]):Array.isArray(i)&&i.length?this._addNoDuplicatedItemsToArr(u,i):Array.isArray(r)&&r.length&&this._addNoDuplicatedItemsToArr(u,r),this._adapter.setExpandedRowKeys(u)}initSelectedRowKeys(e){let{disabledRowKeys:t}=e;const i=this.getProp("rowSelection"),r=[];if(i){const s=Ce(i,"selectedRowKeys"),a=Ce(i,"defaultSelectedRowKeys");Array.isArray(s)?this._addNoDuplicatedItemsToArr(r,s):Array.isArray(a)&&this._addNoDuplicatedItemsToArr(r,a),Array.isArray(t)&&t.length&&ZRt(r,...t),this._adapter.setSelectedRowKeys(r)}}getFilteredSortedDataSource(e,t){const i=this.filterDataSource(e,t.filter(s=>{const a=s.filteredValue?s.filteredValue:s.defaultFilteredValue;return Mn(s.onFilter)&&Array.isArray(a)&&a.length}));return this.sortDataSource(i,t.filter(s=>s&&Mn(s.sorter)))}getCurrentPageData(e,t,i){const r=this._adapter.getCachedFilteredSortedDataSource();e=e??[...r],t=t??(this.getState("pagination")&&Object.assign({},this.getState("pagination"))),i=i??[...this.getState("queries")];let s;if(this.getProp("groupBy")!=null){const{groups:u,dataSource:c}=this.groupDataSource(e);e=c,s=u}t=this.normalizePagination(t,e),e=this.limitPageDataSource(e,t);const a=this.getAllDisabledRowKeys(e),o=this.getAllRowKeys(e);return{dataSource:e,groups:s,pagination:t,disabledRowKeys:a,allRowKeys:o,queries:i}}groupDataSource(e,t){t=t??this.getProp("groupBy");const i=new Map,r=[];return t!=null&&ll(e,(s,a)=>{const o=typeof t=="function"?t(s):Ce(s,t);if(o!=null&&o!==""){const l=this.getRecordKey(s);let u=i.get(o);Ap(u)?u.add(l):(u=new Set([l]),i.set(o,u))}}),i&&i.size?i.forEach((s,a)=>{Ap(s)&&s.forEach(o=>{r.push(this._getRecord(o))})}):r.push(...e),{groups:i,dataSource:r}}sortDataSource(e,t){return ll(t,i=>{const{sorter:r,sortOrder:s,defaultSortOrder:a,sortChildrenRecord:o}=i,l=this.isSortOrderValid(s)?s:a;if(Mn(r)&&l&&En.SORT_DIRECTIONS.includes(l)){if(o){const u=this.getProp("childrenRecordName");e=e&&e.map(c=>{const d=this._getRecordChildren(c);return Array.isArray(d)&&d.length?Object.assign(Object.assign({},c),{[u]:this.sortDataSource(d,[i])}):c})}return e.sort(eDt(r,l)),!1}}),e}filterDataSource(e,t){let i=null,r=!1;const s=this.getProp("childrenRecordName");return ll(t,a=>{const{onFilter:o,filteredValue:l,filterChildrenRecord:u,defaultFilteredValue:c}=a,d=Array.isArray(l)?l:c;typeof o=="function"&&Array.isArray(d)&&d.length&&(r=!0,i===null?i=new Map:(e=Array.from(i&&i.values()),i=new Map),ll(e,h=>{ll(d,f=>{const p=Ce(h,s),g=this.getRecordKey(h);let m;if(Array.isArray(p)&&p.length&&u&&(m=this.filterDataSource(p,[a])),Array.isArray(m)&&m.length){if(g!=null){const v=Ce(i.get(g),s,[]);i.set(g,Object.assign(Object.assign({},h),{[s]:m.reduce((_,y)=>(_.find(x=>this.getRecordKey(x)===this.getRecordKey(y))==null&&_.push(y),_),[...v])}))}}else o(f,h)&&i.set(g,h)})}))}),r&&(e=Array.from(i&&i.values())),e}limitPageDataSource(e,t){e=e??this.getProp("dataSource"),t=t??this.getState("pagination");let i=e;const r=Ce(t,"currentPage");if(this.getProp("pagination")!==!1&&r&&e&&t&&!this._pagerIsControlled()){const{pageSize:s=eo.DEFAULT_PAGE_SIZE}=t,a=(r-1)*s,o=r*s;i=D2(e,a,o)}return i}normalizePagination(e,t){e=e??this._getPagination(),t=t??this._getDataSource();const i=this.getProp("pagination");if(e&&(e=typeof e=="object"?Object.assign({},e):{},e=HP({total:t&&t.length||0,pageSize:eo.DEFAULT_PAGE_SIZE,currentPage:Ce(i,"defaultCurrentPage",1),position:En.PAGINATION_POSITIONS[0]},e),!this._pagerIsControlled())){const r=Ce(i,"total",t.length),{currentPage:s,pageSize:a}=e,o=Math.ceil(r/a);e.total=r,s>o&&(e.currentPage=1)}return e}setAdapterPageData(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{pagination:t,dataSource:i,disabledRowKeys:r,allRowKeys:s,groups:a}=e;this._adapter.setDisabledRowKeys(r),this._adapter.setAllRowKeys(s),this._adapter.setPagination(t),this._adapter.setGroups(a),this._adapter.setDataSource(i)}destroy(){}setAllDisabledRowKeys(e){this._adapter.setAllDisabledRowKeys(e)}handleClick(e){}handleMouseEnter(e){}handleMouseLeave(e){}stopPropagation(e){this._adapter.stopPropagation(e)}_addNoDuplicatedItemsToArr(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];for(const s of i)if(Array.isArray(s))for(const a of s)e.includes(a)||e.push(a);return e}_notifyChange(e,t,i,r){e=e??this._getPagination(),t=t??this._getAllFilters(),i=i??this._getAllSorters()[0],Ce(this.getProp("scroll"),"scrollToFirstRowOnChange")&&this._adapter.resetScrollY(),this._adapter.notifyChange({pagination:Object.assign({},e),filters:[...t],sorter:i,extra:Object.assign({},r)})}_rowExpansionIsControlled(){return Array.isArray(this.getProp("expandedRowKeys"))}_pagerIsControlled(){return Ce(this.getProp("pagination"),"currentPage")!=null}_selectionIsControlled(){return Array.isArray(Ce(this.getProp("rowSelection"),"selectedRowKeys"))}_sorterIsControlled(e){const t=e&&this.getQuery(e,this.getState("flattenColumns"));return!!(t&&t.sortOrder!=null)}_filterIsControlled(e){const t=e&&this.getQuery(e,this.getState("flattenColumns"));return!!(t&&Array.isArray(t.filteredValue))}_filterShowIsControlled(e){const t=e&&this.getQuery(e,this.getState("flattenColumns"));return!!(t&&(t.filterDropdownVisible===!0||t.filterDropdownVisible===!1))}_getSelectedRowKeys(){const e=this.getState("rowSelection");return[...Ce(e,"selectedRowKeys",[])]}_getSelectedRowKeysSet(){const e=this.getState("rowSelection");return Ce(e,"selectedRowKeysSet",new Set)}_getDataSource(){return this.getProp("dataSource")||[]}_getRecord(e){return ag(this.getProp("dataSource"),t=>e!=null&&e!==""&&this.getRecordKey(t)===e)}_getRecordChildren(e){return Ce(e,this.getProp("childrenRecordName"))}_getPagination(){return this.getState("pagination")||{}}_getAllFilters(e){e=e||this.getState("queries");const t=[];return ll(e,i=>{Array.isArray(i.filteredValue)&&(i.filteredValue.length||this._filterIsControlled(i.dataIndex))&&t.push(i)}),t}_getAllSorters(e){return e=e||this.getState("queries"),CC(e,t=>t.sorter&&t.sortOrder)}_filterQueries(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:["dataIndex"];t=t??this.getState("queries");const r=[],s=[];return ll(t,(a,o)=>{$2(i,u=>u&&e[u]!=null&&e[u]===a[u])&&(r.push(a),s.push(o))}),{filteredQueries:r,filteredIndexes:s}}_mergeToQueries(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:["dataIndex"];t=t??this.getState("queries"),t=[...t],e=Object.assign({},e);const{filteredQueries:r,filteredIndexes:s}=this._filterQueries(e,t,i);return ll(r,(a,o)=>{t[s[o]]=Object.assign({},e)}),t}getRecordKey(e){if(!e)return;const t=this.getProp("rowKey");return typeof t=="function"?t(e):Ce(e,t)}isEmpty(e){return e=e??this.getProp("dataSource"),!(Array.isArray(e)&&e.length>0)}handleSelectRow(e,t,i){if(this.stopPropagation(i),typeof t=="boolean"&&e!=null){const r=this._getSelectedRowKeys();let s=-1;const a=this.getSelectedRows(null,[e])[0];let o;(s=r.indexOf(e))>-1&&t===!1?(r.splice(s,1),o=this.getSelectedRows(null,r),this._selectionIsControlled()||this._adapter.setSelectedRowKeys(r),this._adapter.notifySelect(a,t,o,i),this._adapter.notifySelectionChange(r,o)):r.indexOf(e)===-1&&t===!0&&(r.push(e),o=this.getSelectedRows(null,r),this._selectionIsControlled()||this._adapter.setSelectedRowKeys(r),this._adapter.notifySelect(a,t,o,i),this._adapter.notifySelectionChange(r,o))}}handleSelectAllRow(e,t){if(this.stopPropagation(t),typeof e=="boolean"){const i=this._getSelectedRowKeys();let r=[...i];const s=this._getSelectedRowKeysSet();let a=[...this._adapter.getCachedFilteredSortedRowKeys()];const o=this._adapter.getAllDisabledRowKeys(),l=this._adapter.getAllDisabledRowKeysSet();let u;if(e){for(const h of a)!l.has(h)&&!s.has(h)&&r.push(h);a=Aue(a,[...o,...i]),u=[...a]}else r=Aue(r,a),u=[...i];const c=this.getSelectedRows(null,u||[]),d=this.getSelectedRows(null,r||[]);this._selectionIsControlled()||this._adapter.setSelectedRowKeys(r),this._adapter.notifySelectAll(e,d,c,t),this._adapter.notifySelectionChange(r,d)}}getSelectedRows(e,t,i){e=e??this._getDataSource(),t=t??this._getSelectedRowKeys(),Ap(i)||(i=new Set(t));const r=this.getProp("childrenRecordName"),s=[];if(Ap(i)&&i.size&&Array.isArray(e)&&e.length&&(s.push(...e.filter(a=>i.has(this.getRecordKey(a)))),s.length<t.length))for(const a of e){const o=Ce(a,r);if(Array.isArray(o)&&o.length){const l=this.getSelectedRows(o,t,i);s.push(...l)}}return s}getAllDisabledRowKeys(e,t){e=e??this._getDataSource(),t=t??Ce(this.getProp("rowSelection"),"getCheckboxProps");const i=this.getProp("childrenRecordName"),r=[];if(Array.isArray(e)&&e.length&&typeof t=="function")for(const s of e){const a=t(s);a&&a.disabled&&r.push(this.getRecordKey(s));const o=Ce(s,i);if(Array.isArray(o)&&o.length){const l=this.getAllDisabledRowKeys(o,t);r.push(...l)}}return r}getAllRowKeys(e){e=e??this._getDataSource();const t=this.getProp("childrenRecordName"),i=[];if(Array.isArray(e)&&e.length)for(const r of e){const s=[],a=Ce(r,t);Array.isArray(a)&&a.length&&s.push(...this.getAllRowKeys(a)),i.push(this.getRecordKey(r),...s)}return i}hasRowSelected(e,t){return!!(Array.isArray(e)&&e.length&&Ap(t)&&t.size&&e.filter(i=>t.has(i)).length)}handleRowExpanded(e,t,i){this.stopPropagation(i);const r=[...this.getState("expandedRowKeys")],s=r.indexOf(t),a=typeof t=="string"||typeof t=="number";a&&e&&s===-1?r.push(t):a&&!e&&s>-1&&r.splice(s,1),this._rowExpansionIsControlled()||this._adapter.setExpandedRowKeys(r);const o=this.getSelectedRows(null,r);let l=this.getSelectedRows(null,[t])[0];const u=this._getGroups();if(u){u.has(t)&&(l={groupKey:t});for(let c=0,d=r.length;c<d;c++)u.has(t)&&o.push({groupKey:r[c]})}this._adapter.notifyExpand(e,l,i),this._adapter.notifyExpandedRowsChange(o)}_getGroups(){return this._adapter.getProp("groupBy")!==null?this._adapter.getState("groups"):null}allIsSelected(e,t,i){const r=CC(i,s=>s!=null&&!t.has(s));if(r&&r.length){for(const s of r)if(s!=null&&!e.has(s))return!1;return!0}else return i.length&&i.every(a=>e.has(a))||!1}allIsNotSelected(e,t){for(const i of t)if(i!=null&&Array.isArray(e)&&e.includes(i))return!0;return!1}formatPaginationInfo(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i="";const r=Ce(this.getProp("pagination"),"formatPageText"),{total:s,pageSize:a,currentPage:o}=e,l=Math.min((o-1)*a+1,s),u=Math.min(o*a,s);return(r||r!==!1&&t&&s>0)&&(i=typeof r=="function"?r({currentStart:l,currentEnd:u,total:s}):t.replace("${currentStart}",l).replace("${currentEnd}",u).replace("${total}",s)),i}toggleShowFilter(e,t){let i=this.getQuery(e);const r=t;i=Object.assign(Object.assign({},i),{filterDropdownVisible:r}),this._filterShowIsControlled(),this._adapter.notifyFilterDropdownVisibleChange(r,e)}handleFilterSelect(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getQuery(e),r=[...this._adapter.getState("queries")];const{filteredValue:s}=t;i=Object.assign(Object.assign({},i),{filteredValue:s}),r=BEe(i,r);const a=this._mergeToQueries(i,null),o=this._getAllFilters(a);this._filterIsControlled(e)||(this._adapter.setQueries(r),this.handleClickFilterOrSorter(r)),this._notifyChange(null,o,void 0,{changeType:"filter"})}handleSort(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var r,s,a,o;if(this.stopPropagation(t),i){if(this.mouseDownTarget&&((r=this.mouseDownTarget)===null||r===void 0?void 0:r.targetName)==="SPAN"&&(!((o=(a=(s=this.mouseDownTarget)===null||s===void 0?void 0:s.className)===null||a===void 0?void 0:a.includes)===null||o===void 0)&&o.call(a,"react-resizable-handle")))return;this.mouseDownTarget=null}const{dataIndex:l}=e;let u=this.getState("queries"),c=null;u=[...u],ll(u,(d,h,f)=>{if(d.sorter){const p=Object.assign({},d),g=Ce(p,"sortOrder"),m=Ce(p,"defaultSortOrder",!1);let v=this.isSortOrderValid(g)?g:m;l&&l===p.dataIndex?v===En.SORT_DIRECTIONS[0]?v=En.SORT_DIRECTIONS[1]:v===En.SORT_DIRECTIONS[1]?v=!1:v=En.SORT_DIRECTIONS[0]:v=!1,f[h]=Object.assign(Object.assign({},p),{sortOrder:v}),l===p.dataIndex&&(c=f[h])}}),this._sorterIsControlled(l)||(this._adapter.setQueries(u),this.handleClickFilterOrSorter(u)),this._notifyChange(null,null,c,{changeType:"sorter"})}handleClickFilterOrSorter(e){const t=[...this.getProp("dataSource")],i=this.getFilteredSortedDataSource(t,e),r=this.getAllDisabledRowKeys(i);this.setCachedFilteredSortedDataSource(i),this.setAllDisabledRowKeys(r);const s=this.getCurrentPageData(i);this.setAdapterPageData(s)}getQuery(e,t){if(t=t||this.getState("queries"),e!=null)return ag(t,i=>i.dataIndex===e)}getCellWidths(e,t,i){return this._adapter.getCellWidths(e,t,i)}setHeadWidths(e,t){return this._adapter.setHeadWidths(e,t)}getHeadWidths(e){return this._adapter.getHeadWidths(e)}mergedRowExpandable(e){return this._adapter.mergedRowExpandable(e)}setBodyHasScrollbar(e){this._adapter.setBodyHasScrollbar(e)}}const jEe={align:S.oneOf(En.ALIGNS),className:S.string,colSpan:S.number,dataIndex:S.string,defaultSortOrder:S.oneOf(En.SORT_DIRECTIONS),filterChildrenRecord:S.bool,filterDropdownProps:S.object,filterDropdown:S.node,filterDropdownVisible:S.bool,filterIcon:S.func,filterMultiple:S.bool,filteredValue:S.arrayOf(S.any),filters:S.array,fixed:S.oneOf(En.FIXED_SET),onCell:S.func,onFilter:S.func,onFilterDropdownVisibleChange:S.func,onHeaderCell:S.func,onSorterChange:S.func,render:S.func,renderFilterDropdownItem:S.func,sortChildrenRecord:S.bool,sortDirections:S.arrayOf(S.string),sortOrder:S.oneOfType([S.bool,S.string]),sorter:S.oneOfType([S.bool,S.func]),title:S.oneOfType([S.func,S.node]),useFullRender:S.bool,width:S.oneOfType([S.number,S.string]),showSortTip:S.bool};class Mj extends M.PureComponent{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e)}render(){return null}}Mj.propTypes=Object.assign({},jEe);Mj.elementType="Column";function fF(n){if(n){const e=[];return M.Children.forEach(n,t=>{if(M.isValidElement(t)&&(t.type===Mj||Ce(t,"type.elementType")==="Column")){const i=Co(t.props,["children"]);Array.isArray(t.props.children)&&t.props.children.length&&(i.children=fF(t.props.children)),e.push(Object.assign({key:t.key},i))}}),e}return[]}const W0=M.createContext({headWidths:[],setHeadWidths:be,handleRowExpanded:be}),tDt=n=>{let{children:e,anyColumnFixed:t,flattenedColumns:i,tableWidth:r,headWidths:s,setHeadWidths:a,getHeadWidths:o,getCellWidths:l,handleRowExpanded:u,renderExpandIcon:c,renderSelection:d,getVirtualizedListRef:h,setBodyHasScrollbar:f,direction:p}=n;const g=q.useMemo(()=>({anyColumnFixed:t,flattenedColumns:i,renderExpandIcon:c,renderSelection:d,setHeadWidths:a,getHeadWidths:o,getCellWidths:l,headWidths:s,tableWidth:r,handleRowExpanded:u,getVirtualizedListRef:h,setBodyHasScrollbar:f,direction:p}),[t,i,c,d,a,o,l,s,r,u,h,f,p]);return M.createElement(W0.Provider,{value:g},e)};class nDt extends jn{handleChange(e){const t=e.target.checked;this._adapter.notifyChange(t,e)}}class pF extends An{get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{notifyChange:function(){return e.props.onChange(...arguments)}})}constructor(e){super(e),this.handleChange=t=>this.foundation.handleChange(t),this.foundation=new nDt(this.adapter)}render(){const{selected:e,getCheckboxProps:t,indeterminate:i,disabled:r,prefixCls:s,className:a}=this.props,o=this.props["aria-label"];let l={onChange:this.handleChange,disabled:r,indeterminate:i,checked:e};typeof t=="function"&&(l=Object.assign(Object.assign({},l),t()));const u=le(`${s}-selection-wrap`,{[`${s}-selection-disabled`]:r},a);return M.createElement("span",{className:u},M.createElement(Of,Object.assign({"aria-label":o},l)))}}pF.propTypes={columnTitle:S.string,getCheckboxProps:S.func,type:S.string,onChange:S.func,selected:S.bool,disabled:S.bool,indeterminate:S.bool,prefixCls:S.string,className:S.string,"aria-label":S.string};pF.defaultProps={disabled:!1,onChange:be,prefixCls:Au.PREFIX};class wq extends q.PureComponent{render(){const{pagination:e,prefixCls:t,info:i,renderPagination:r}=this.props,s=Ce(e,"total"),a=r&&Mn(r)?r(e):null;return M.createElement("div",{className:`${t}-pagination-outer`},q.isValidElement(a)?a:M.createElement(M.Fragment,null,M.createElement("span",{className:`${t}-pagination-info`},i),M.createElement("span",{className:`${t}-pagination-wrapper`},s>0?M.createElement(Aj,Object.assign({},e,{key:Ce(e,"pageSize","pagination")})):null)))}}wq.propTypes={style:S.object,prefixCls:S.string,pagination:S.object,info:S.oneOfType([S.string,S.node]),renderPagination:S.func};wq.defaultProps={prefixCls:Au.PREFIX};function zEe(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const{filterMultiple:i=!0,filters:r=[],filteredValue:s=[],filterDropdownVisible:a,onSelect:o=be,onFilterDropdownVisibleChange:l=be,trigger:u="click",position:c="bottom",renderFilterDropdown:d,renderFilterDropdownItem:h}=n??{},f=Eu(n,["tempFilteredValue","setTempFilteredValue","confirm","clear","close","filters"]),p=typeof d=="function"?d(f):M.createElement(ja.Menu,null,Array.isArray(r)&&r.map((m,v)=>{const _=k=>{const P=k&&k.nativeEvent;P&&(P.stopImmediatePropagation(),P.stopPropagation(),P.preventDefault());let I=[...s];const D=I.includes(m.value),L=I.indexOf(m.value);return L>-1?I.splice(L,1):i?I.push(m.value):I=[m.value],o({value:m.value,filteredValue:I,included:!D,domEvent:P})},y=s.includes(m.value),{text:x}=m,{value:w}=m,T=`${t}_${v}`,E=typeof h=="function"?h({onChange:_,filterMultiple:i,value:w,text:x,checked:y,filteredValue:s,level:t}):null;let A=E&&M.isValidElement(E)?M.cloneElement(E,{key:T}):M.createElement(ja.Item,{key:T,onClick:_},i?M.createElement(Of,{checked:y},x):M.createElement(Bm,{checked:y},x));if(Array.isArray(m.children)&&m.children.length){const k=Object.assign(Object.assign({},n),{filters:m.children,trigger:"hover",position:"right"});delete k.filterDropdownVisible,A=zEe(k,A,t+1)}return A})),g=Object.assign(Object.assign({},n),{onVisibleChange:m=>l(m),trigger:u,position:c,render:p});return a!=null&&(g.visible=a),M.createElement(ja,Object.assign({},g,{key:`Dropdown_level_${t}`,className:`${Au.PREFIX}-column-filter-dropdown`}),e)}function iDt(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{prefixCls:e=Au.PREFIX,filteredValue:t,filterIcon:i="filter",filterDropdownProps:r,onSelect:s,filterDropdownVisible:a,renderFilterDropdown:o,onFilterDropdownVisibleChange:l}=n;let{filterDropdown:u=null}=n;const c=typeof a<"u",h=!c&&typeof o=="function",[f,p]=q.useState(t),g=h?!1:a,[m,v]=q.useState(g);q.useEffect(()=>{typeof a<"u"&&v(a)},[a]),q.useEffect(()=>{p(t)},[t]);const _=function(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const I=(P==null?void 0:P.filteredValue)||f;Kn(I,t)||s({filteredValue:I}),P.closeDropdown&&v(!1)},y=function(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};p([]),s({filteredValue:[]}),P.closeDropdown&&v(!1)},x=()=>{v(!1)},w=P=>{h&&v(P),l(P)},T={tempFilteredValue:f,setTempFilteredValue:p,confirm:_,clear:y,close:x},E=le(`${e}-column-filter`,{on:Array.isArray(t)&&t.length});let A;typeof i=="function"?A=i(Array.isArray(t)&&t.length>0):q.isValidElement(i)?A=i:A=M.createElement("div",{className:E},"",M.createElement(dA,{role:"button","aria-label":"Filter data with this column","aria-haspopup":"listbox",tabIndex:-1,size:"default"}));const k=Object.assign(Object.assign(Object.assign(Object.assign({},n),r),T),{filterDropdownVisible:c?a:m,onFilterDropdownVisibleChange:w});return u=M.isValidElement(u)?u:zEe(k,A),u}var rDt=dX,sDt=4;function aDt(n){return rDt(n,sDt)}var oDt=aDt;const lDt=yn(oDt);let r4,s4;const kue={position:"absolute",top:"-9999px",width:"50px",height:"50px"};function uDt(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"vertical";if(typeof document>"u"||typeof window>"u")return 0;const e=n==="vertical";if(e&&r4)return r4;if(!e&&s4)return s4;const t=document.createElement("div");Object.keys(kue).forEach(r=>{t.style[r]=kue[r]}),e?t.style.overflowY="scroll":t.style.overflowX="scroll",document.body.appendChild(t);let i=0;return e?(i=t.offsetWidth-t.clientWidth,r4=i):(i=t.offsetHeight-t.clientHeight,s4=i),document.body.removeChild(t),i}function HEe(n){return typeof n=="number"?n-eo.DEFAULT_CELL_PADDING_LEFT-eo.DEFAULT_CELL_PADDING_RIGHT-eo.DEFAULT_CELL_BORDER_WIDTH_LEFT-eo.DEFAULT_CELL_BORDER_WIDTH_RIGHT-uDt("vertical"):void 0}function Oue(n,e){return HP({},{table:"table",header:{outer:"table",wrapper:"thead",row:"tr",cell:"th"},body:e?{outer:"div",wrapper:"div",row:"div",cell:"div",colgroup:{wrapper:"div",col:"div"}}:{outer:"table",wrapper:"tbody",row:"tr",cell:"td",colgroup:{wrapper:"colgroup",col:"col"}},footer:{wrapper:"tfoot",row:"tr",cell:"td"}},n)}const gA=new REe("[@douyinfe/semi-ui Table]");function l8(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const r=[],s=i?cf:lDt;return iO(e,a=>{a=Object.assign({},a);const o=Cue(a,t),l=o!=null&&ag(n,u=>Cue(u,t)===o);l?r.push(s(Object.assign(Object.assign({},l),a))):r.push(s(a))}),r}function VEe(n){switch(n){case En.SORT_DIRECTIONS[0]:return En.SORT_DIRECTIONS[1];case En.SORT_DIRECTIONS[1]:return"cancelSort";default:return En.SORT_DIRECTIONS[0]}}class Cq extends q.PureComponent{render(){const{prefixCls:e,onClick:t,sortOrder:i,style:r,title:s,sortIcon:a,showTooltip:o}=this.props,l="default",u=le(`${e}-column-sorter-up`,{on:i===En.SORT_DIRECTIONS[0]}),c=le(`${e}-column-sorter-down`,{on:i===En.SORT_DIRECTIONS[1]}),d={"aria-label":`Current sort order is ${i?`${i}ing`:"none"}`,"aria-roledescription":"Sort data with this column"},h=()=>{if(typeof a=="function")return a({sortOrder:i});{const f=M.createElement("div",{style:r,className:`${e}-column-sorter`},M.createElement("span",{className:`${u}`},M.createElement(kSt,{size:l})),M.createElement("span",{className:`${c}`},M.createElement(ESt,{size:l})));if(o){let p=VEe(i);return M.createElement(Qr,{componentName:"Table"},(g,m)=>M.createElement(xo,{content:g[p]},f))}return f}};return M.createElement("div",Object.assign({role:"button"},d,{tabIndex:-1,className:`${e}-column-sorter-wrapper`,onClick:t,onKeyPress:f=>gc(f)&&t(f)}),s,h())}}Cq.propTypes={className:S.string,style:S.object,onClick:S.func,prefixCls:S.string,sortOrder:S.oneOfType([S.string,S.bool]),sortIcon:S.func,showTooltip:S.bool};Cq.defaultProps={prefixCls:Au.PREFIX,onClick:be,sortOrder:!1,showTooltip:!1};function cDt(n){const{expanded:e,componentType:t="expand",onClick:i=be,onMouseEnter:r=be,onMouseLeave:s=be,expandIcon:a,prefixCls:o=Au.PREFIX,motion:l=!0}=n;let u;M.isValidElement(a)?u=a:typeof a=="function"?u=a(e):t==="tree"?u=e&&!l?M.createElement(b1e,{size:"small"}):M.createElement(Ext,{size:"small"}):u=e&&!l?M.createElement(k1,null):M.createElement(UP,null);const c=q.useCallback(d=>{typeof i=="function"&&i(!e,d)},[e]);if(l){const d=u;u=M.createElement(pC,{animationState:e?"enter":"leave",startClassName:`${Au.PREFIX}-expandedIcon-${e?"show":"hide"}`},h=>{let{animationClassName:f}=h;return M.cloneElement(d,{className:(d.props.className||"")+" "+f})})}return M.createElement("span",{role:"button","aria-label":"Expand this row",tabIndex:-1,onClick:c,onMouseEnter:r,onMouseLeave:s,className:`${o}-expand-icon`,onKeyPress:d=>gc(d)&&c(d)},u)}class Ij extends M.PureComponent{render(){const{columns:e,className:t,style:i,prefixCls:r,components:s}=this.props,a=Ce(s,"colgroup.wrapper","colgroup"),o=Ce(s,"colgroup.col","col"),l=Mw(e).map((c,d)=>{const h={};return c.width&&(h.width=c.width,h.minWidth=h.width),M.createElement(o,{className:le(`${r}-col`,c.className),key:c.key||c.dataIndex||d,style:h})}),u=le(`${r}-colgroup`,t);return M.createElement(a,{className:u,style:i},l)}}Ij.propTypes={columns:S.array,prefixCls:S.string,className:S.string,style:S.object,components:S.object};Ij.defaultProps={columns:[],prefixCls:Au.PREFIX};var dDt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};class Rj extends An{get adapter(){return Object.assign({},super.adapter)}constructor(e){super(e),this.cacheRef=t=>{if(this.headerNode=t,t&&this.context.setHeadWidths){const{prefixCls:i,row:r,index:s}=this.props,a=`.${i}-row-head`,o=t&&t.querySelectorAll&&t.querySelectorAll(a);this.context.setHeadWidths(iO(o,(l,u)=>{let c=Ce(r,[u,"column","width"]);const d=Ce(r,[u,"column","key"]);return typeof c!="number"&&(c=l&&l.getBoundingClientRect().width||0),{width:c,key:d}}),s)}},this.headerNode=null}componentDidUpdate(e){e.columns!==this.props.columns&&this.headerNode&&this.cacheRef(this.headerNode)}render(){const{components:e,row:t,prefixCls:i,onHeaderRow:r,index:s,style:a,columns:o}=this.props,{getCellWidths:l,direction:u}=this.context,c=u==="rtl",d=FEe(o,s),h=l(d),f=Ce(e,"header.row","tr"),p=Ce(e,"header.cell","th"),g=r(o,s)||{};lc(g,"className",le(Ce(g,"className"),`${i}-row`));const m=iO(t,(v,_)=>{const{column:y}=v,x=dDt(v,["column"]),w=typeof y.onHeaderCell=="function"?y.onHeaderCell(y,_,s):{};let T=Object.assign({},w.style);if(y.align){const F=NEe(y.align,u);T=Object.assign(Object.assign({},T),{textAlign:F}),w.className=le(w.className,y.className,{[`${i}-align-${F}`]:!!F})}let E,A,k,P;if(c?(E=j2(y),A=N2(y),k=o8(d,y),P=a8(d,y)):(E=N2(y),A=j2(y),k=a8(d,y),P=o8(d,y)),w.className=le(`${i}-row-head`,y.className,w.className,{[`${i}-cell-fixed-left`]:E,[`${i}-cell-fixed-left-last`]:k,[`${i}-cell-fixed-right`]:A,[`${i}-cell-fixed-right-first`]:P,[`${i}-row-head-ellipsis`]:y.ellipsis,[`${i}-row-head-clickSort`]:y.clickToSort}),h.length&&d.length){const F=sh(d,$=>$&&$.key!=null&&$.key===y.key);if(F>-1){if(N2(y)){const $=c?"right":"left";T=Object.assign(Object.assign({},T),{position:"sticky",[$]:TC(h,0,F)})}else if(j2(y)){const $=c?"left":"right";T=Object.assign(Object.assign({},T),{position:"sticky",[$]:TC(h,F+1)})}}}Object.assign(x,{resize:y.resize});const I=Co(Object.assign(Object.assign({},x),w),["colStart","colEnd","hasSubColumns","parents","level"]),{rowSpan:D,colSpan:L}=I;if(D===0||L===0)return null;if(typeof y.clickToSort=="function")if(I.onClick){const F=I.onClick;I.onClick=$=>{F($),y.clickToSort($)}}else I.onClick=y.clickToSort;if(typeof y.mouseDown=="function")if(I.onMouseDown){const F=I.onMouseDown;I.onMouseDown=$=>{F($),y.mouseDown($)}}else I.onMouseDown=y.mouseDown;const B=M.createElement(p,Object.assign({role:"columnheader","aria-colindex":_+1},I,{style:T,key:y.key||y.dataIndex||_}));if(typeof y.clickToSort=="function"&&y.showSortTip===!0){let F=VEe(y.sortOrder);return M.createElement(Qr,{componentName:"Table",key:y.key||y.dataIndex||_},($,z)=>M.createElement(xo,{content:$[F]},B))}return B});return M.createElement(f,Object.assign({role:"row","aria-rowindex":s+1},g,{style:a,ref:this.cacheRef}),m)}}Rj.contextType=W0;Rj.propTypes={components:S.object,row:S.array,prefixCls:S.string,onHeaderRow:S.func,index:S.oneOfType([S.string,S.number]),style:S.object,columns:S.array,fixed:S.oneOfType([S.bool,S.string]),selectedRowKeysSet:S.instanceOf(Set).isRequired};Rj.defaultProps={onHeaderRow:be,prefixCls:Au.PREFIX,columns:[],components:{header:{wrapper:"thead",row:"tr",cell:"th"}}};function hDt(n){const e=[];function t(r,s){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;e[o]=e[o]||[];let u=s;return r.map(d=>{const h={key:d.key,className:d.className||"",children:Mn(d.title)?d.title():d.title,column:d,colStart:u,level:l,parents:a};let f=1;const p=d.children;p&&p.length>0&&(f=t(p,u,[...a,h],o+1,l+1).reduce((v,_)=>v+_,0),h.hasSubColumns=!0),"colSpan"in d&&({colSpan:f}=d),"rowSpan"in d&&(h.rowSpan=d.rowSpan),d.key===En.DEFAULT_KEY_COLUMN_SCROLLBAR&&(h["x-type"]=En.DEFAULT_KEY_COLUMN_SCROLLBAR),h.colSpan=f,h.colEnd=h.colStart+f-1,e[o].push(h),u+=f;const g=d==null?void 0:d.ellipsis;return xq(g)&&typeof h.children=="string"&&(h.title=h.children),f})}t(n,0);const i=e.length;for(let r=0;r<i;r+=1)e[r].forEach(s=>{!("rowSpan"in s)&&!s.hasSubColumns&&(s.rowSpan=i-r)});return e}class Tq extends An{get adapter(){return Object.assign({},super.adapter)}render(){const{components:e,columns:t,prefixCls:i,fixed:r,onHeaderRow:s,forwardedRef:a,selectedRowKeysSet:o}=this.props,l=hDt(t),u=e.header.wrapper;return M.createElement(u,{className:`${i}-thead`,ref:a},l.map((c,d)=>M.createElement(Rj,{prefixCls:i,key:d,index:d,fixed:r,columns:t,row:c,components:e,onHeaderRow:s,selectedRowKeysSet:o})))}}Tq.propTypes={components:S.any,columns:S.array,columnManager:S.object,prefixCls:S.string,onHeaderRow:S.func,onDidUpdate:S.func,fixed:S.oneOfType([S.bool,S.string]),selectedRowKeysSet:S.instanceOf(Set).isRequired};Tq.defaultProps={columns:[],prefixCls:Au.PREFIX,onHeaderRow:be,onDidUpdate:be,components:{header:{wrapper:"thead",row:"tr",cell:"th"}}};const WEe=M.forwardRef((n,e)=>M.createElement(Tq,Object.assign({},n,{forwardedRef:e})));class Eq extends M.PureComponent{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{selectedRowKeysSet:new Set};super(e)}render(){const{scroll:e,prefixCls:t,fixed:i,forwardedRef:r,handleBodyScroll:s,columns:a,components:o,onDidUpdate:l,showHeader:u,tableLayout:c,bodyHasScrollBar:d,sticky:h}=this.props,f=Ce(o,"header.outer","table"),p=Ce(e,"x"),g={},m={};p&&!i&&(m.width=p),d&&(g.overflowY="scroll");const v=M.createElement(Ij,{columns:a,prefixCls:t}),_=M.createElement(WEe,Object.assign({},this.props,{columns:a,components:o,onDidUpdate:l})),y=le(`${t}-header`,{[`${t}-header-sticky`]:h,[`${t}-header-hidden`]:!u}),x=Ce(h,"top",0);return typeof x=="number"&&(g.top=x),M.createElement("div",{key:"headTable",style:g,className:y,ref:r,onScroll:s},M.createElement(f,{style:m,className:le(t,{[`${t}-fixed`]:c==="fixed"})},v,_))}}Eq.propTypes={tableLayout:S.string,bodyHasScrollBar:S.bool,columns:S.array,components:S.object,dataSource:S.array,fixed:S.oneOfType([S.bool,S.string]),handleBodyScroll:S.func,prefixCls:S.string,forwardedRef:S.oneOfType([S.object,S.func]),scroll:S.shape({x:S.oneOfType([S.number,S.string,S.bool]),y:S.oneOfType([S.number,S.string])}),selectedRowKeysSet:S.instanceOf(Set).isRequired,showHeader:S.bool,onDidUpdate:S.func,onHeaderRow:S.func};Eq.defaultProps={handleBodyScroll:be};const fDt=M.forwardRef((n,e)=>M.createElement(Eq,Object.assign({},n,{forwardedRef:e})));var pDt=dEe,gDt=pDt("length"),mDt=gDt,vDt="\\ud800-\\udfff",yDt="\\u0300-\\u036f",_Dt="\\ufe20-\\ufe2f",bDt="\\u20d0-\\u20ff",SDt=yDt+_Dt+bDt,xDt="\\ufe0e\\ufe0f",wDt="\\u200d",CDt=RegExp("["+wDt+vDt+SDt+xDt+"]");function TDt(n){return CDt.test(n)}var Aq=TDt,UEe="\\ud800-\\udfff",EDt="\\u0300-\\u036f",ADt="\\ufe20-\\ufe2f",kDt="\\u20d0-\\u20ff",ODt=EDt+ADt+kDt,PDt="\\ufe0e\\ufe0f",MDt="["+UEe+"]",u8="["+ODt+"]",c8="\\ud83c[\\udffb-\\udfff]",IDt="(?:"+u8+"|"+c8+")",GEe="[^"+UEe+"]",YEe="(?:\\ud83c[\\udde6-\\uddff]){2}",KEe="[\\ud800-\\udbff][\\udc00-\\udfff]",RDt="\\u200d",XEe=IDt+"?",qEe="["+PDt+"]?",DDt="(?:"+RDt+"(?:"+[GEe,YEe,KEe].join("|")+")"+qEe+XEe+")*",LDt=qEe+XEe+DDt,FDt="(?:"+[GEe+u8+"?",u8,YEe,KEe,MDt].join("|")+")",Pue=RegExp(c8+"(?="+c8+")|"+FDt+LDt,"g");function BDt(n){for(var e=Pue.lastIndex=0;Pue.test(n);)++e;return e}var $Dt=BDt,NDt=mDt,jDt=Aq,zDt=$Dt;function HDt(n){return jDt(n)?zDt(n):NDt(n)}var VDt=HDt,WDt=aX,UDt=E1,GDt=Bf,YDt=gX,KDt=VDt,XDt="[object Map]",qDt="[object Set]";function ZDt(n){if(n==null)return 0;if(GDt(n))return YDt(n)?KDt(n):n.length;var e=UDt(n);return e==XDt||e==qDt?n.size:WDt(n).length}var QDt=ZDt;const eD=yn(QDt);var JDt=BX,e2t=R1,t2t=qP,n2t=Math.max,i2t=Math.min;function r2t(n,e,t){var i=n==null?0:n.length;if(!i)return-1;var r=i-1;return t!==void 0&&(r=t2t(t),r=t<0?n2t(i+r,0):i2t(r,i-1)),JDt(n,e2t(e),r,!0)}var s2t=r2t;const a2t=yn(s2t);class o2t extends jn{init(){this.initVirtualizedData(),this.initExpandBtnShouldInRow()}destroy(){this.unobserveBodyResize()}initVirtualizedData(e){this._adapter.setVirtualizedData(this.flattenData(this.getProp("dataSource")),e)}initExpandBtnShouldInRow(e){const t=this.getProps(),i=kRt(t);this._adapter.setCachedExpandBtnShouldInRow(i),!jo(e)&&!e&&(e=En.EXPAND_RELATED_PROPS.map(s=>Ce(t,s,void 0))),this._adapter.setCachedExpandRelatedProps(e)}flattenData(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];const s=[],{rowKey:a,childrenRecordName:o,expandedRowRender:l,expandedRowKeys:u,groups:c}=this.getProps();return t===0&&Xk(c)?c.forEach((d,h)=>{const f=e.findIndex(p=>d.has(cy(p,a)));if(f>-1){const p=a2t(e,m=>d.has(cy(m,a))),g=Np(u,h);s.push({key:h,level:t,sectionRow:!0,group:d,groupKey:h,expanded:g}),g&&s.push(...this.flattenData(e.slice(f,p+1),t+1,[...i],[...r]))}}):e.forEach((d,h)=>{const f=cy(d,a),p=ERt(d,o);t&&r.push(f);const g={key:f,record:d,level:t,parentKeys:[...i],childrenKeys:[...r]};s.push(g);const m=[];Np(u,f)&&(Array.isArray(p)&&p.length?m.push(...this.flattenData(p,t+1,[...g.parentKeys],[...g.childrenKeys])):l&&m.push({key:LEe(f),level:t,expandedRow:!0,record:d}),s.push(...m))}),s}observeBodyResize(e){const{scroll:t}=this.getProps();if(Ce(t,"y"))return this._adapter.observeBodyResize(e)}unobserveBodyResize(){return this._adapter.unobserveBodyResize()}}function l2t(){return!0}var u2t=l2t;const c2t=yn(u2t);function d2t(n,e){if(n===e)return!0;if(!n||!e)return!1;const t=Object.keys(n),i=Object.keys(e),r=t.length;if(i.length!==r)return!1;for(let s=0;s<r;s++){const a=t[s];if(n[a]!==e[a]||!Object.prototype.hasOwnProperty.call(e,a))return!1}return!0}class h2t extends jn{handleClick(e){const{expanded:t,rowKey:i}=this.getProps();this._adapter.notifyClick(i,e,t)}handleDoubleClick(e){this._adapter.notifyDoubleClick(this.getProp("record"),e)}handleMouseEnter(e){const t=this.getProp("record");this._adapter.notifyMouseEnter(t,e)}handleMouseLeave(e){const t=this.getProp("record");this._adapter.notifyMouseLeave(t,e)}}class f2t extends jn{handleClick(e){this._adapter.notifyClick(this.getProp("record"),e)}}function Mue(n){return n&&!M.isValidElement(n)&&Object.prototype.toString.call(n)==="[object Object]"}class lO extends An{get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{notifyClick:function(){const{onClick:t}=e.props;typeof t=="function"&&t(...arguments)}})}constructor(e){super(e),this.setRef=t=>this.ref=t,this.handleClick=t=>{this.foundation.handleClick(t);const i=this.adapter.getCache("customCellProps");i&&typeof i.onClick=="function"&&i.onClick(t)},this.ref=q.createRef(),this.foundation=new f2t(this.adapter)}shouldComponentUpdate(e){const t=this.props,{column:i,expandIcon:r}=t,s=wRt(i),{shouldCellUpdate:a}=i;if(typeof a=="function")return a(e,t);const o=DEe(i)||r;if((s||o)&&!Kn(e,this.props))return!0;{const l=["selected","expanded","expandIcon","disabled"],u=Co(t,l),c=Co(e,l);if(!Kn(c,u))return!0}return!1}componentDidUpdate(){this.props.onDidUpdate(this.ref)}getTdProps(){const{record:e,index:t,column:i={},fixedLeft:r,fixedRight:s,width:a,height:o}=this.props;let l={},u={};const{direction:c}=this.context,d=c==="rtl";if(r||typeof r=="number"?lc(l,d?"style.right":"style.left",typeof r=="number"?r:0):(s||typeof s=="number")&&lc(l,d?"style.left":"style.right",typeof s=="number"?s:0),a!=null&&lc(l,"style.width",a),o!=null&&lc(l,"style.height",o),i.onCell){u=i.onCell(e,t),this.adapter.setCache("customCellProps",Object.assign({},u)),l=Object.assign(Object.assign({},l),Co(u,["style","className","onClick"]));const p=Ce(u,"style")||{};l.style=Object.assign(Object.assign({},l.style),p)}if(i.align){const p=NEe(i.align,c),g=IRt(i.align,c);l.style=Object.assign(Object.assign({},l.style),{textAlign:p,justifyContent:g})}return{tdProps:l,customCellProps:u}}renderText(e){const{record:t,indentSize:i,prefixCls:r,indent:s,index:a,expandIcon:o,renderExpandIcon:l,column:u={}}=this.props,{dataIndex:c,render:d,useFullRender:h}=u;let f,p,g;typeof c=="number"?f=Ce(t,c):!c||c.length===0?f=t:f=Ce(t,c);const m=s&&i?M.createElement("span",{style:{paddingLeft:`${i*s}px`},className:`${r}-row-indent indent-level-${s}`}):null,v=typeof l=="function"?l(t):o;if(d){const _={expandIcon:v};if(h){const{renderSelection:y}=this.context,x=typeof y=="function"?y(t):null;Object.assign(_,{selection:x,indentText:m})}f=d(f,t,a,_),Mue(f)&&(e=f.props?HP(e,f.props):e,p=e.colSpan,g=e.rowSpan,f=f.children)}return{text:f,indentText:m,rowSpan:g,colSpan:p,realExpandIcon:v,tdProps:e}}renderInner(e,t,i){const{prefixCls:r,isSection:s,expandIcon:a,column:o={}}=this.props,{tableWidth:l,anyColumnFixed:u}=this.context,{useFullRender:c}=o;let d=null;return c?d=e:d=[M.createElement(q.Fragment,{key:"indentText"},t),M.createElement(q.Fragment,{key:"expandIcon"},a?i:null),M.createElement(q.Fragment,{key:"text"},e)],s&&(d=M.createElement("div",{className:le(`${r}-section-inner`),style:{width:u?HEe(l):void 0}},d)),d}render(){const{prefixCls:e,column:t={},component:i,fixedLeft:r,fixedRight:s,lastFixedLeft:a,firstFixedRight:o,colIndex:l}=this.props,{direction:u}=this.context,c=u==="rtl",{className:d,ellipsis:h}=t,f=r||typeof r=="number",p=s||typeof s=="number",{tdProps:g,customCellProps:m}=this.getTdProps(),v=this.renderText(g);let{text:_}=v;const{indentText:y,rowSpan:x,colSpan:w,realExpandIcon:T,tdProps:E}=v;let A;if(xq(h)&&typeof _=="string"&&(A=_),x===0||w===0)return null;Mue(_)&&(_=null);const P=this.renderInner(_,y,T);let I,D,L,B;c?(I=p,D=o,L=f,B=a):(I=f,D=a,L=p,B=o);const F=le(d,`${e}-row-cell`,Ce(m,"className"),{[`${e}-cell-fixed-left`]:I,[`${e}-cell-fixed-left-last`]:D,[`${e}-cell-fixed-right`]:L,[`${e}-cell-fixed-right-first`]:B,[`${e}-row-cell-ellipsis`]:h});return M.createElement(i,Object.assign({role:"gridcell","aria-colindex":l+1,className:F,onClick:this.handleClick,title:A},E,{ref:this.setRef}),P)}}lO.contextType=W0;lO.defaultProps={indent:0,indentSize:eo.DEFAULT_INDENT_WIDTH,onClick:be,prefixCls:Au.PREFIX,component:"td",onDidUpdate:be,column:{}};lO.propTypes={record:S.object,prefixCls:S.string,index:S.number,fixedLeft:S.oneOfType([S.bool,S.number]),lastFixedLeft:S.bool,fixedRight:S.oneOfType([S.bool,S.number]),firstFixedRight:S.bool,indent:S.number,indentSize:S.number,column:S.object,expandIcon:S.any,renderExpandIcon:S.func,hideExpandedColumn:S.bool,component:S.any,onClick:S.func,onDidUpdate:S.func,isSection:S.bool,width:S.oneOfType([S.string,S.number]),height:S.oneOfType([S.string,S.number]),selected:S.bool,expanded:S.bool,colIndex:S.number};var Iue=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const ZEe={anyColumnFixed:S.bool,cellWidths:S.array.isRequired,className:S.string,columns:S.array.isRequired,components:S.object.isRequired,disabled:S.bool,expandIcon:S.oneOfType([S.bool,S.func,S.node]),expandableRow:S.bool,expanded:S.bool,displayNone:S.bool,expandedRow:S.bool,fixed:S.oneOfType([S.string,S.bool]),height:S.oneOfType([S.string,S.number]),hideExpandedColumn:S.bool,hovered:S.bool.isRequired,indent:S.number,indentSize:S.number,index:S.number,isSection:S.bool,level:S.number,onDidUpdate:S.func,onHover:S.func,onRow:S.func,onRowClick:S.func,onRowContextMenu:S.func,onRowDoubleClick:S.func,onRowMouseEnter:S.func,onRowMouseLeave:S.func,prefixCls:S.string,record:S.object,renderExpandIcon:S.func,replaceClassName:S.string,rowExpandable:S.func,rowKey:S.oneOfType([S.string,S.number]).isRequired,selected:S.bool,store:S.object,style:S.object,virtualized:S.oneOfType([S.object,S.bool]),visible:S.bool.isRequired};class uM extends An{get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{notifyClick:function(){return e.props.onRowClick(...arguments)},notifyDoubleClick:function(){return e.props.onRowDoubleClick(...arguments)},notifyMouseLeave:function(){e.props.onHover(!1,e.props.rowKey),e.props.onRowMouseEnter(...arguments)},notifyMouseEnter:function(){e.props.onHover(!0,e.props.rowKey),e.props.onRowMouseEnter(...arguments)}})}constructor(e){super(e),this.renderExpandIcon=t=>{const{renderExpandIcon:i}=this.props;return i(t,!0)},this.handleMouseEnter=t=>{this.foundation.handleMouseEnter(t);const i=this.adapter.getCache("customRowProps");typeof(i==null?void 0:i.onMouseEnter)=="function"&&i.onMouseEnter(t)},this.handleMouseLeave=t=>{this.foundation.handleMouseLeave(t);const i=this.adapter.getCache("customRowProps");typeof(i==null?void 0:i.onMouseLeave)=="function"&&i.onMouseLeave(t)},this.handleClick=t=>{this.foundation.handleClick(t);const i=this.adapter.getCache("customRowProps");i&&typeof i.onClick=="function"&&i.onClick(t)},this.foundation=new h2t(this.adapter)}componentDidMount(){const{onRow:e,index:t,record:i}=this.props;if(typeof this.adapter.getCache("customRowProps")>"u"){const s=e(i,t)||{},{className:a,style:o}=s,l=Iue(s,["className","style"]);this.adapter.setCache("customRowProps",Object.assign({},l))}}shouldComponentUpdate(e){const t=["cellWidths"];return!d2t(Co(e,t),Co(this.props,t))||!Kn(Eu(e,t),Eu(this.props,t))}renderCells(){const{columns:e,record:t,index:i,prefixCls:r,fixed:s,components:a,expandableRow:o,level:l,expandIcon:u,rowExpandable:c,isSection:d,expandedRow:h,virtualized:f,indentSize:p,hideExpandedColumn:g,cellWidths:m,selected:v,expanded:_,disabled:y,onDidUpdate:x}=this.props,w=Ce(a,"body.cell",En.DEFAULT_COMPONENTS.body.cell),T=[],E=c(t);let A=0;return ll(e,(k,P)=>{const I=Ce(k,"key"),D={};if(s!=="right"&&(SRt(I)&&A++,o&&P===A&&(D.renderExpandIcon=this.renderExpandIcon,(g||d)&&(D.expandIcon=u??!0)),l!=null&&P===A&&(D.indent=l,!o&&g&&(u!==!1||!(typeof u=="boolean")&&u!==null)&&(D.indent=l+1))),DEe(k)&&!E)T.push(M.createElement(lO,{key:P,colIndex:P,isSection:d}));else if(!xRt(k)){const L={};w!==En.DEFAULT_COMPONENTS.body.cell&&f&&!h&&(L.width=Ce(m,P)),T.push(M.createElement(lO,Object.assign({colIndex:P},D,L,{hideExpandedColumn:g,indentSize:p,isSection:d,prefixCls:`${r}`,column:k,key:P,index:i,record:t,component:w,fixedLeft:N2(k)&&TC(m,0,P),lastFixedLeft:a8(e,k),fixedRight:j2(k)&&TC(m,P+1),firstFixedRight:o8(e,k),selected:v,expanded:_,disabled:y,onDidUpdate:x})))}}),T}render(){const{style:e}=this.props,{components:t,prefixCls:i,selected:r,onRow:s,index:a,className:o,replaceClassName:l,record:u,hovered:c,expanded:d,displayNone:h,expandableRow:f,level:p,expandedRow:g,isSection:m,rowKey:v}=this.props,_=t.body.row,y=s(u,a)||{},{className:x,style:w}=y,T=Iue(y,["className","style"]);this.adapter.setCache("customRowProps",Object.assign({},T));const E=Object.assign(Object.assign({},e),w),A=typeof l=="string"&&l.length?le(l,x):le(o,`${i}-row`,{[`${i}-row-selected`]:r,[`${i}-row-expanded`]:d,[`${i}-row-hovered`]:c,[`${i}-row-hidden`]:h},x),k={};return typeof a=="number"&&(k["aria-rowindex"]=a+1),f&&(k["aria-expanded"]=d),(d||g)&&(k["aria-level"]=2),typeof p=="number"&&(k["aria-level"]=p+1),m&&(k["aria-level"]=1),M.createElement(_,Object.assign({role:"row"},k,T,{style:E,className:A,"data-row-key":v,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:this.handleClick}),this.renderCells())}}uM.propTypes=ZEe;uM.defaultProps={columns:[],rowExpandable:c2t,components:{body:{row:"tr",cell:"td"}},prefixCls:Au.PREFIX,onRow:be,onRowClick:be,onRowDoubleClick:be,onRowMouseEnter:be,onRowMouseLeave:be,onHover:be,onDidUpdate:be,visible:!0,hovered:!1,selected:!1,disabled:!1};var p2t=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};class Dj extends q.PureComponent{render(){const{record:e,columns:t=[],prefixCls:i,className:r,expanded:s,expandedRowRender:a,renderExpandIcon:o,index:l,store:u,components:c,style:d,virtualized:h,indentSize:f,cellWidths:p,displayNone:g}=this.props,{tableWidth:m,anyColumnFixed:v,getCellWidths:_}=this.context,y=a(e,l,s);let x=null;const w={};let T={};if(Rm(y))return null;if(q.isValidElement(y))x=y;else if(y&&Object.prototype.toString.call(y)==="[object Object]"){const P=y,{children:I,fixed:D}=P,L=p2t(P,["children","fixed"]);x=I,T=Object.assign({},L)}Ce(c,"body.cell")!==En.DEFAULT_COMPONENTS.body.cell?(h&&lc(w,"style.height","100%"),lc(w,"style.display","block"),lc(w,"style.width",TC(p,0,t.length))):w.colSpan=Sq(t).length;const E=[Object.assign({render:()=>({props:w,children:M.createElement("div",{className:le(`${i}-expand-inner`),style:{width:v?HEe(m):void 0}},x)})},T)],A=le(r,`${i}-row-expand`),k=_(E);return M.createElement(uM,{style:d,components:c,className:A,expandedRow:!0,renderExpandIcon:o,rowKey:`${e.key}-expanded-row`,columns:E,store:u,virtualized:h,indentSize:f,cellWidths:k,displayNone:g})}}Dj.contextType=W0;Dj.propTypes={cellWidths:S.array.isRequired,className:S.string,columns:S.array,components:S.object,defaultExpandAllRows:S.bool,defaultExpandedRowKeys:S.array,expandIcon:S.oneOfType([S.object,S.node,S.func]),expandRowByClick:S.bool,expanded:S.bool,expandedRowKeys:S.array,expandedRowRender:S.func,indentSize:S.number,index:S.oneOfType([S.string,S.number]),onExpand:S.func,onExpandedRowsChange:S.func,prefixCls:S.string,record:S.object,renderExpandIcon:S.func,store:S.object,style:S.object,virtualized:S.oneOfType([S.bool,S.object])};Dj.defaultProps={record:{},prefixCls:Au.PREFIX};var g2t=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const QEe={record:S.object,index:S.number,columns:S.array,group:S.object.isRequired,groupKey:S.oneOfType([S.string,S.number]).isRequired,data:S.array,renderGroupSection:S.func,onGroupedRow:S.func,clickGroupedRowToExpand:S.bool,components:S.object,expanded:S.bool,prefixCls:S.string,onExpand:S.func,virtualized:S.oneOfType([S.bool,S.object]),style:S.object,renderExpandIcon:S.func,className:S.string,store:S.object,rowKey:S.oneOfType([S.string,S.number,S.func])};class Lj extends q.PureComponent{constructor(){var e;super(...arguments),e=this,this.onRow=function(){const{onGroupedRow:t,clickGroupedRowToExpand:i,onExpand:r,groupKey:s,expanded:a}=e.props,o={};return typeof t=="function"&&Object.assign(o,t(...arguments)),Object.assign(Object.assign({},o),{onClick:l=>{typeof r=="function"&&i&&r(!a,s,l),typeof o.onClick=="function"&&o.onClick(l)}})},this.collectGroupedData=()=>{const{data:t,group:i,rowKey:r}=this.props;return Array.isArray(t)&&t.length&&Ap(i)?t.filter(s=>{const a=typeof r=="function"?r(s):Ce(s,r);return a!=null&&a!==""&&i.has(a)}):[]},this.renderExpandIcon=t=>{const{renderExpandIcon:i,groupKey:r}=this.props;return typeof i=="function"?i(t,!1,r):null}}isInnerColumnKey(e){return e!=null?[En.DEFAULT_KEY_COLUMN_EXPAND,En.DEFAULT_KEY_COLUMN_SELECTION].includes(e):!1}render(){const{record:e,columns:t=[],prefixCls:i,className:r,expanded:s,renderGroupSection:a,components:o,index:l,store:u,group:c,groupKey:d,virtualized:h,style:f}=this.props,p={};let g={},m=null;const v=typeof a=="function"?a(d,[...c]):null;if(q.isValidElement(v))m=v;else if(v&&Object.prototype.toString.call(v)==="[object Object]"){const T=v,{children:E}=T,A=g2t(T,["children"]);m=E,g=Object.assign({},A)}p.colSpan=Sq(t).length;const _=[Object.assign({render:()=>({props:p,children:m})},g)],y=le(r,`${i}-row-section`,{on:s}),{getCellWidths:x}=this.context,w=x(_,null,!0);return M.createElement(uM,{components:o,virtualized:h,index:l,onRow:this.onRow,expanded:s,expandIcon:!0,isSection:!0,record:e,replaceClassName:y,expandableRow:!0,renderExpandIcon:this.renderExpandIcon,rowKey:d,columns:_,store:u,style:f,cellWidths:w})}}Lj.contextType=W0;Lj.propTypes=QEe;Lj.defaultProps={prefixCls:Au.PREFIX,components:{body:{row:"tr",cell:"td"}}};var Rue=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};class kq extends An{constructor(e,t){var i;super(e),i=this,this.forwardRef=a=>{const{forwardedRef:o}=this.props;this.ref.current=a,this.foundation.observeBodyResize(a),typeof o=="function"?o(a):o&&typeof o=="object"&&(o.current=a)},this.setListRef=a=>{this.listRef.current=a;const{getVirtualizedListRef:o}=this.context;o&&(this.props.virtualized?o(this.listRef):console.warn("getVirtualizedListRef only works with virtualized. See https://semi.design/en-US/show/table for more information."))},this.itemSize=a=>{const{virtualized:o,size:l}=this.props,{virtualizedData:u}=this.state,c=Ce(u,a),d=ARt(l,c.sectionRow),h=Ce(o,"itemSize",d.height);let f=h;return typeof h=="function"&&(f=h(a,{expandedRow:Ce(c,"expandedRow",!1),sectionRow:Ce(c,"sectionRow",!1)})),f<d.minHeight&&gA.warn(`The computed real \`itemSize\` cannot be less than ${d.minHeight}`),f},this.itemKey=(a,o)=>Ce(o,[a,"key"],a),this.handleRowClick=(a,o,l)=>{const{handleRowExpanded:u}=this.context;u(!l,a,o)},this.handleVirtualizedScroll=function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const o=Ce(i.props.virtualized,"onScroll");typeof o=="function"&&o(a)},this.handleVirtualizedBodyScroll=a=>{const{handleBodyScroll:o}=this.props,l=Ce(a,"nativeEvent.target.scrollLeft"),u=Ce(a,"nativeEvent.target.scrollTop");u===this.state.cache.virtualizedScrollTop&&this.handleVirtualizedScroll({horizontalScrolling:!0}),this.state.cache.virtualizedScrollLeft=l,this.state.cache.virtualizedScrollTop=u,typeof o=="function"&&o(a)},this.getVirtualizedRowWidth=()=>{const{getCellWidths:a}=this.context,{columns:o}=this.props,l=a(o);return TC(l,0,eD(o))},this.renderVirtualizedRow=a=>{const{index:o,style:l}=a,{virtualizedData:u,cachedExpandBtnShouldInRow:c}=this.state,{flattenedColumns:d}=this.context,h=Ce(u,[o],{}),{key:f,parentKeys:p,expandedRow:g,sectionRow:m}=h,v=Rue(h,["key","parentKeys","expandedRow","sectionRow"]),_=this.getVirtualizedRowWidth(),y=c,x=Object.assign(Object.assign(Object.assign(Object.assign({},this.props),{style:Object.assign(Object.assign({},l),{width:_})}),v),{columns:d,index:o,expandBtnShouldInRow:y});return m?this.renderSectionRow(x):g?this.renderExpandedRow(x):this.renderBaseRow(x)},this.renderTbody=M.forwardRef(function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;return M.createElement("div",Object.assign({},a,{onScroll:function(){a.onScroll&&a.onScroll(...arguments)},className:le(a.className,`${i.props.prefixCls}-tbody`),style:Object.assign({},a.style),ref:o}))}),this.renderOuter=M.forwardRef((a,o)=>{const{children:l}=a,u=Rue(a,["children"]),{handleWheel:c,prefixCls:d,emptySlot:h,dataSource:f}=this.props,p=this.getVirtualizedRowWidth(),g=le(`${d}`,`${d}-fixed`);return M.createElement("div",Object.assign({},u,{ref:o,onWheel:function(){c&&c(...arguments),u.onWheel&&u.onWheel(...arguments)},onScroll:function(){i.handleVirtualizedBodyScroll(...arguments),u.onScroll&&u.onScroll(...arguments)}}),M.createElement("div",{style:{width:p},className:g},l),eD(f)===0&&h)}),this.onItemsRendered=a=>{this.state.cache.virtualizedScrollLeft&&this.ref.current&&(this.ref.current.scrollLeft=this.state.cache.virtualizedScrollLeft)},this.renderVirtualizedBody=a=>{const{scroll:o,prefixCls:l,virtualized:u,columns:c}=this.props,{virtualizedData:d}=this.state,{getCellWidths:h}=this.context,f=h(c);if(!eD(f))return null;const p=Ce(o,"y"),g=typeof p=="number",m=g?p:600;g||gA.warn('You have to specific "scroll.y" which must be a number for table virtualization!');const v={width:"100%",height:d!=null&&d.length?m:null,overflowX:"auto",overflowY:"auto"},_=le(`${l}-body`);return M.createElement(CTt,Object.assign({},typeof u=="object"?u:{},{initialScrollOffset:this.state.cache.virtualizedScrollTop,onScroll:this.handleVirtualizedScroll,onItemsRendered:this.onItemsRendered,ref:this.setListRef,className:_,outerRef:this.forwardRef,height:d!=null&&d.length?m:0,width:v.width,itemData:d,itemSize:this.itemSize,itemCount:d.length,itemKey:this.itemKey,innerElementType:this.renderTbody,outerElementType:this.renderOuter,style:Object.assign(Object.assign({},v),{direction:a}),direction:a}),this.renderVirtualizedRow)},this.renderSectionRow=function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{groupKey:void 0};const{dataSource:o,rowKey:l,group:u,groupKey:c,index:d}=a,h=Object.keys(QEe),f=Eu(a,h),{handleRowExpanded:p}=i.context;return M.createElement(Lj,Object.assign({},f,{record:{groupKey:c,records:[...u].map(g=>Tue(o,g,l))},index:d,onExpand:p,data:o,key:c||d}))},this.renderExpandedRow=function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{renderExpandIcon:()=>null};const{style:o,components:l,renderExpandIcon:u,expandedRowRender:c,record:d,columns:h,expanded:f,index:p,rowKey:g,virtualized:m,displayNone:v}=a;let _=cy(d,g);_==null&&(_=p);const{flattenedColumns:y,getCellWidths:x}=i.context;return y!==i.flattenedColumns&&(i.flattenedColumns=y,i.cellWidths=x(y)),M.createElement(Dj,{style:o,components:l,renderExpandIcon:u,expandedRowRender:c,record:d,columns:h,expanded:f,index:p,virtualized:m,key:LEe(_),cellWidths:i.cellWidths,displayNone:v})},this.renderGroupedRows=()=>{const{groups:a,dataSource:o,rowKey:l,expandedRowKeys:u,keepDOM:c}=this.props,{flattenedColumns:d}=this.context,h=new Map,f=[];a!=null&&Array.isArray(o)&&o.length&&o.forEach(g=>{const m=cy(g,l);a.forEach((v,_)=>{if(v.has(m))return h.has(_)||h.set(_,new Set([])),h.get(_).add(m),!1})});let p=-1;return h.forEach((g,m)=>{const v=i4(u,m);if(f.push(this.renderSectionRow(Object.assign(Object.assign({},this.props),{columns:d,index:++p,group:g,groupKey:m,expanded:v}))),v||c){const _=[];g.forEach(y=>{const x=Tue(o,y,l);x!=null&&_.push(x)}),f.push(this.renderBodyRows(_,void 0,[],!v))}}),f},this.renderBody=a=>{const{scroll:o,prefixCls:l,columns:u,components:c,fixed:d,handleWheel:h,headerRef:f,handleBodyScroll:p,anyColumnFixed:g,showHeader:m,emptySlot:v,includeHeader:_,dataSource:y,onScroll:x,groups:w,expandedRowRender:T,tableLayout:E}=this.props,A=Ce(o,"x"),k=Ce(o,"y"),P={},I={},D=Ce(c,"body.outer","table"),L=Ce(c,"body.wrapper")||"tbody";k&&(P.maxHeight=k),A&&(I.width=A),g&&eD(y)&&(P.overflow="auto",P.WebkitTransform="translate3d (0, 0, 0)");const B=M.createElement(Ij,{components:Ce(c,"body"),columns:u,prefixCls:l}),F=`${l}-body`,$=M.createElement("div",{key:"bodyTable",className:F,style:P,ref:this.forwardRef,onWheel:h,onScroll:p},M.createElement(D,{role:Xk(w)||Mn(T)||MRt({dataSource:y})?"treegrid":"grid","aria-rowcount":y&&y.length,"aria-colcount":u&&u.length,style:I,className:le(l,{[`${l}-fixed`]:E==="fixed"})},B,_&&m?M.createElement(WEe,Object.assign({},this.props,{ref:f,components:c,columns:u})):null,M.createElement(L,{className:`${l}-tbody`,onScroll:x},Xk(w)?this.renderGroupedRows():this.renderBodyRows(y))),v);return d&&u.length?M.createElement("div",{key:"bodyTable",className:`${l}-body-outer`},$):$},this.ref=M.createRef(),this.state={virtualizedData:[],cache:{virtualizedScrollTop:null,virtualizedScrollLeft:null},cachedExpandBtnShouldInRow:null,cachedExpandRelatedProps:[]},this.listRef=M.createRef();const{flattenedColumns:r,getCellWidths:s}=t;this.foundation=new o2t(this.adapter),this.flattenedColumns=r,this.cellWidths=s(r),this.observer=null}get adapter(){return Object.assign(Object.assign({},super.adapter),{setVirtualizedData:(e,t)=>this.setState({virtualizedData:e},t),setCachedExpandBtnShouldInRow:e=>this.setState({cachedExpandBtnShouldInRow:e}),setCachedExpandRelatedProps:e=>this.setState({cachedExpandRelatedProps:e}),observeBodyResize:e=>{const{setBodyHasScrollbar:t}=this.context,i=()=>{const r=()=>{const{offsetWidth:a,clientWidth:o}=e,l=o<a;t(l)};(window.requestAnimationFrame||window.setTimeout)(r)};e&&(Ce(window,"ResizeObserver")?(this.observer&&(this.observer.unobserve(e),this.observer=null),this.observer=new ResizeObserver(i),this.observer.observe(e)):gA.warn("The current browser does not support ResizeObserver,and the table may be misaligned after plugging and unplugging the mouse and keyboard.You can try to refresh it."))},unobserveBodyResize:()=>{const e=this.ref.current;this.observer&&(this.observer.unobserve(e),this.observer=null)}})}componentDidUpdate(e,t){const{virtualized:i,dataSource:r,expandedRowKeys:s,columns:a,scroll:o}=this.props;i&&(e.dataSource!==r||e.expandedRowKeys!==s||e.columns!==a)&&this.foundation.initVirtualizedData();const u=En.EXPAND_RELATED_PROPS.map(h=>Ce(this.props,h,void 0));Kn(u,t.cachedExpandRelatedProps)||this.foundation.initExpandBtnShouldInRow(u);const c=Ce(o,"y"),d=this.ref.current;c&&c!==Ce(e,"scroll.y")&&this.foundation.observeBodyResize(d)}renderBaseRow(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{rowKey:t,columns:i,expandedRowKeys:r,rowExpandable:s,record:a,index:o,level:l,expandBtnShouldInRow:u,selectedRowKeysSet:c,disabledRowKeysSet:d,expandRowByClick:h}=e,f=Object.keys(ZEe),p=Eu(e,f);let g=cy(a,t);g==null&&(g=o);const m=i4(r,g),v=s&&s(a),_={level:void 0,expanded:m};(v||u)&&(_.level=l,_.expandableRow=v,h&&(_.onRowClick=this.handleRowClick));const y={selected:CRt(c,g),disabled:TRt(d,g)},{getCellWidths:x}=this.context,w=x(i,null,!0);return M.createElement(uM,Object.assign({},p,_,y,{key:g,rowKey:g,cellWidths:w}))}renderBodyRows(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const{rowKey:s,expandedRowRender:a,expandedRowKeys:o,childrenRecordName:l,rowExpandable:u,keepDOM:c}=this.props,d=typeof a=="function",h=this.state.cachedExpandBtnShouldInRow,{flattenedColumns:f}=this.context;return ll(e,(p,g)=>{let m=cy(p,s);m==null&&(m=g);const v=Ce(p,l),_=!!(Array.isArray(v)&&v.length);i.push(this.renderBaseRow(Object.assign(Object.assign({},this.props),{columns:f,expandBtnShouldInRow:h,displayNone:r,record:p,key:m,level:t,index:g})));const y=i4(o,m),x=y||c;if(d&&u&&u(p)&&x){const w=this.renderExpandedRow(Object.assign(Object.assign({},this.props),{columns:f,level:t,index:g,record:p,expanded:y,displayNone:r||!y}));Rm(w)||i.push(w)}if(_&&x){const w=this.renderBodyRows(v,t+1,[],r||!y);i.push(...w)}}),i}render(){const{virtualized:e}=this.props,{direction:t}=this.context;return e?this.renderVirtualizedBody(t):this.renderBody(t)}}kq.contextType=W0;kq.propTypes={anyColumnFixed:S.bool,childrenRecordName:S.string,columns:S.array,components:S.object,dataSource:S.array,disabledRowKeysSet:S.instanceOf(Set).isRequired,emptySlot:S.node,expandRowByClick:S.bool,expandedRowKeys:S.array,expandedRowRender:S.func,fixed:S.oneOfType([S.string,S.bool]),forwardedRef:S.oneOfType([S.object,S.func]),groups:S.instanceOf(Map),handleBodyScroll:S.func,handleWheel:S.func,headerRef:S.oneOfType([S.object,S.func]),includeHeader:S.bool,onScroll:S.func,prefixCls:S.string,renderExpandIcon:S.func,rowExpandable:S.func,rowKey:S.oneOfType([S.string,S.bool,S.func]),scroll:S.object,selectedRowKeysSet:S.instanceOf(Set).isRequired,showHeader:S.bool,size:S.string,store:S.object,virtualized:S.oneOfType([S.bool,S.object])};const m2t=M.forwardRef(function(e,t){return M.createElement(kq,Object.assign({},e,{forwardedRef:t}))});var v2t=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};let F1=class extends An{get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{resetScrollY:()=>{this.bodyWrapRef.current&&(this.bodyWrapRef.current.scrollTop=0)},setSelectedRowKeys:t=>{this.setState({rowSelection:Object.assign(Object.assign({},this.state.rowSelection),{selectedRowKeys:[...t],selectedRowKeysSet:new Set(t)})})},setDisabledRowKeys:t=>{this.setState({disabledRowKeys:t,disabledRowKeysSet:new Set(t)})},setCurrentPage:t=>{const{pagination:i}=this.state;typeof i=="object"?this.setState({pagination:Object.assign(Object.assign({},i),{currentPage:t})}):this.setState({pagination:{currentPage:t}})},setPagination:t=>this.setState({pagination:t}),setGroups:t=>this.setState({groups:t}),setDataSource:t=>this.setState({dataSource:t}),setExpandedRowKeys:t=>this.setState({expandedRowKeys:[...t]}),setQuery:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=[...e.state.queries];i=BEe(t,i),e.setState({queries:i})},setQueries:t=>this.setState({queries:t}),setFlattenData:t=>this.setState({flattenData:t}),setAllRowKeys:t=>this.setState({allRowKeys:t}),setHoveredRowKey:t=>{this.store.setState({hoveredRowKey:t})},setCachedFilteredSortedDataSource:t=>{this.cachedFilteredSortedDataSource=t},setCachedFilteredSortedRowKeys:t=>{this.cachedFilteredSortedRowKeys=t,this.cachedFilteredSortedRowKeysSet=new Set(t)},setAllDisabledRowKeys:t=>{const i=new Set(t);this.setState({allDisabledRowKeys:t,allDisabledRowKeysSet:i})},getCurrentPage:()=>Ce(this.state,"pagination.currentPage",1),getCurrentPageSize:()=>Ce(this.state,"pagination.pageSize",eo.DEFAULT_PAGE_SIZE),getCachedFilteredSortedDataSource:()=>this.cachedFilteredSortedDataSource,getCachedFilteredSortedRowKeys:()=>this.cachedFilteredSortedRowKeys,getCachedFilteredSortedRowKeysSet:()=>this.cachedFilteredSortedRowKeysSet,getAllDisabledRowKeys:()=>this.state.allDisabledRowKeys,getAllDisabledRowKeysSet:()=>this.state.allDisabledRowKeysSet,notifyFilterDropdownVisibleChange:(t,i)=>this._invokeColumnFn(i,"onFilterDropdownVisibleChange",t),notifyChange:function(){return e.props.onChange(...arguments)},notifyExpand:function(){return e.props.onExpand(...arguments)},notifyExpandedRowsChange:function(){return e.props.onExpandedRowsChange(...arguments)},notifySelect:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e._invokeRowSelection("onSelect",...i)},notifySelectAll:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e._invokeRowSelection("onSelectAll",...i)},notifySelectInvert:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e._invokeRowSelection("onSelectInvert",...i)},notifySelectionChange:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e._invokeRowSelection("onChange",...i)},isAnyColumnFixed:t=>$2(this.getColumns(t||this.props.columns,this.props.children),i=>!!i.fixed),useFixedHeader:()=>{const{scroll:t,sticky:i}=this.props;return!!(Ce(t,"y")||i)},getTableLayout:()=>{let t=!1;const{flattenColumns:i}=this.state;return Array.isArray(i)&&(t=i.some(r=>!!r.ellipsis||!!r.fixed)),this.adapter.useFixedHeader()&&(t=!0),t?"fixed":"auto"},setHeadWidths:function(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;bRt(e.state.headWidths[i],t)||e.setState(r=>{const s=[...r.headWidths];return s[i]=[...t],{headWidths:s}})},getHeadWidths:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.state.headWidths.length&&typeof t=="number"?(e.state.headWidths[t]||[]).map(r=>r.width):[]},getCellWidths:function(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return Array.isArray(t)&&t.length&&(i=i==null&&e.state.headWidths.length?YIt(e.state.headWidths):[],Array.isArray(i)&&i.length)?t.reduce((s,a)=>{const o=a.key===En.DEFAULT_KEY_COLUMN_SCROLLBAR&&r?null:ag(i,l=>l&&l.key!=null&&l.key===a.key);return o&&s.push(o.width),s},[]):[]},mergedRowExpandable:t=>{const{expandedRowRender:i,childrenRecordName:r,rowExpandable:s}=this.props,a=Ce(t,r),o=typeof i=="function",l=typeof s=="function",u=Array.isArray(a)&&a.length,c=l&&s(t);return(o||u)&&(!l||c)||!(o||u)&&c},isAnyColumnUseFullRender:t=>$2(t,i=>!!i.useFullRender),getNormalizeColumns:()=>this.normalizeColumns,getHandleColumns:()=>this.handleColumns,getMergePagination:()=>this.mergePagination,setBodyHasScrollbar:t=>{t!==this.state.bodyHasScrollBar&&this.setState({bodyHasScrollBar:t})},stopPropagation(t){t&&typeof t=="object"&&(typeof t.stopPropagation=="function"&&t.stopPropagation(),t.nativeEvent&&typeof t.nativeEvent.stopPropagation=="function"?t.nativeEvent.stopPropagation():typeof t.stopImmediatePropagation=="function"&&t.stopImmediatePropagation())}})}constructor(e,t){var i;super(e),i=this,this._warnIfNoKey=()=>{(this.props.rowSelection||this.props.expandedRowRender)&&$2(this.props.dataSource,c=>this.foundation.getRecordKey(c)==null)&&gA.error('You must specify a key for each element in the dataSource or use "rowKey" to specify an attribute name as the primary key!')},this._invokeRowSelection=function(c){const d=Ce(i.state,["rowSelection",c]);if(typeof d=="function"){for(var h=arguments.length,f=new Array(h>1?h-1:0),p=1;p<h;p++)f[p-1]=arguments[p];d(...f)}},this._invokeColumnFn=function(c,d){if(c&&d){const g=i.foundation.getQuery(c),m=Ce(g,d,null);if(typeof m=="function"){for(var h=arguments.length,f=new Array(h>2?h-2:0),p=2;p<h;p++)f[p-2]=arguments[p];m(...f)}}},this._cacheHeaderRef=c=>{this.headerWrapRef.current=c},this.getCurrentPageData=()=>{const c=this.foundation.getCurrentPageData(),d=["dataSource","groups"].reduce((h,f)=>(c[f]&&(h[f]=c[f]),h),{});return cf(d)},this.getColumns=(c,d)=>!Array.isArray(c)||!c||!c.length?fF(d):c,this.getCellWidths=function(){return i.foundation.getCellWidths(...arguments)},this.setHeadWidths=function(){return i.foundation.setHeadWidths(...arguments)},this.getHeadWidths=function(){return i.foundation.getHeadWidths(...arguments)},this.mergedRowExpandable=function(){return i.foundation.mergedRowExpandable(...arguments)},this.setBodyHasScrollbar=function(){return i.foundation.setBodyHasScrollbar(...arguments)},this.handleWheel=c=>{const{scroll:d={}}=this.props;if(window.navigator.userAgent.match(/Trident\/7\./)&&d.y){c.preventDefault();const h=c.deltaY,{target:f}=c,p=this.bodyWrapRef.current;let g=0;this.lastScrollTop?g=this.lastScrollTop+h:g=h,p&&f!==p&&(p.scrollTop=g)}},this.handleBodyScrollLeft=c=>{if(c.currentTarget!==c.target)return;const{target:d}=c,h=this.headerWrapRef.current,f=this.bodyWrapRef.current;d.scrollLeft!==this.lastScrollLeft&&(d===f&&h?h.scrollLeft=d.scrollLeft:d===h&&f&&(f.scrollLeft=d.scrollLeft),this.setScrollPositionClassName()),this.lastScrollLeft=d.scrollLeft},this.handleWindowResize=()=>{this.syncTableWidth(),this.setScrollPositionClassName()},this.handleBodyScrollTop=c=>{const{target:d}=c;if(c.currentTarget!==d)return;const{scroll:h={}}=this.props,f=this.headerWrapRef.current,p=this.bodyWrapRef.current;if(d.scrollTop!==this.lastScrollTop&&h.y&&d!==f){const{scrollTop:g}=d;p&&d!==p&&(p.scrollTop=g)}this.lastScrollTop=d.scrollTop},this.handleBodyScroll=c=>{this.handleBodyScrollLeft(c),this.handleBodyScrollTop(c)},this.setScrollPosition=c=>{const{prefixCls:d}=this.props,h=[`${d}-scroll-position-both`,`${d}-scroll-position-middle`,`${d}-scroll-position-left`,`${d}-scroll-position-right`];this.scrollPosition=c;const f=this.wrapRef.current;if(f&&f.nodeType)if(c==="both"){const p=[`${d}-scroll-position-left`,`${d}-scroll-position-right`];f.classList.remove(..._C(h,p)),f.classList.add(...p)}else{const p=[`${d}-scroll-position-${c}`];f.classList.remove(..._C(h,p)),f.classList.add(...p)}},this.setScrollPositionClassName=()=>{const c=this.bodyWrapRef.current;if(c&&c.children&&c.children.length){const d=c.scrollLeft===0,h=Math.abs(c.scrollLeft)+1>=c.children[0].getBoundingClientRect().width-c.getBoundingClientRect().width;d&&h?this.setScrollPosition("both"):d?this.setScrollPosition("left"):h?this.setScrollPosition("right"):this.scrollPosition!=="middle"&&this.setScrollPosition("middle")}},this.syncTableWidth=()=>{this.rootWrapRef&&this.rootWrapRef.current&&this.setState({tableWidth:this.rootWrapRef.current.getBoundingClientRect().width})},this.renderSelection=function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,h=arguments.length>2?arguments[2]:void 0;const{rowSelection:f,allDisabledRowKeysSet:p}=i.state;if(f&&typeof f=="object"){const{selectedRowKeys:g=[],selectedRowKeysSet:m=new Set,getCheckboxProps:v,disabled:_,renderCell:y}=f,x=i.cachedFilteredSortedRowKeys,w=i.cachedFilteredSortedRowKeysSet,T=i.foundation.allIsSelected(m,p,x),A=i.foundation.hasRowSelected(g,w)&&!T;if(d){const k=Ce(f,"key",En.DEFAULT_KEY_COLUMN_SELECTION),P=M.createElement(pF,{"aria-label":`${T?"Deselect":"Select"} all rows`,disabled:_,key:k,selected:T,indeterminate:A,onChange:(D,L)=>{i.toggleSelectAllRow(D,L)}}),I=(D,L)=>i.toggleSelectAllRow(D,L);return Mn(y)?y({selected:T,record:c,originNode:P,inHeader:d,disabled:_,indeterminate:A,selectAll:I}):P}else{const k=i.foundation.getRecordKey(c),P=m.has(k),I=()=>typeof v=="function"?v(c):{},D=M.createElement(pF,{"aria-label":`${P?"Deselect":"Select"} this row`,getCheckboxProps:I,selected:P,onChange:(B,F)=>i.toggleSelectRow(B,k,F)}),L=(B,F)=>i.toggleSelectRow(B,k,F);return Mn(y)?y({selected:P,record:c,index:h,originNode:D,inHeader:!1,disabled:_,indeterminate:A,selectRow:L}):D}}return null},this.renderRowSelectionCallback=function(c){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=arguments.length>2?arguments[2]:void 0;return i.renderSelection(d,!1,h)},this.renderTitleSelectionCallback=()=>this.renderSelection(void 0,!0),this.normalizeSelectionColumn=function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{rowSelection:d,prefixCls:h}=c;let f={};if(d){const p=["selectedRowKeys","selectedRowKeysSet"];f={key:En.DEFAULT_KEY_COLUMN_SELECTION},jo(d)&&(f=Object.assign(Object.assign({},f),Co(d,p))),f.className=le(f.className,`${h}-column-selection`),f.title=i.renderTitleSelectionCallback,f.render=i.renderRowSelectionCallback}return f},this.normalizeScrollbarColumn=function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{scrollbarWidth:d=0}=c;return{key:En.DEFAULT_KEY_COLUMN_SCROLLBAR,width:d,fixed:"right"}},this.renderExpandIcon=function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;const{expandedRowKeys:f}=i.state,{expandIcon:p}=i.props,g=typeof h=="string"||typeof h=="number"?h:i.foundation.getRecordKey(c);return M.createElement(cDt,{key:g,componentType:d?"tree":"expand",expanded:Np(f,g),expandIcon:p,onClick:(m,v)=>i.handleRowExpanded(m,g,v)})},this.handleRowExpanded=function(){return i.foundation.handleRowExpanded(...arguments)},this.normalizeExpandColumn=function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=null;const{prefixCls:h,expandCellFixed:f,expandIcon:p}=c;return d={fixed:f,key:En.DEFAULT_KEY_COLUMN_EXPAND},d.className=le(d.className,`${h}-column-expand`),d.render=p!==!1?function(){let g=arguments.length>1?arguments[1]:void 0;return i.adapter.mergedRowExpandable(g)?i.renderExpandIcon(g):null}:()=>null,d},this.addFnsInColumn=function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{prefixCls:d}=i.props;if(c&&(c.sorter||c.filters||c.onFilter||c.useFullRender)){let h=typeof c.sorter=="function"||c.sorter===!0,f=Array.isArray(c.filters)&&c.filters.length||q.isValidElement(c.filterDropdown)||typeof c.renderFilterDropdown=="function",p=!1;const m=!("sortOrder"in c)&&c.showSortTip===!0,{dataIndex:v,title:_,useFullRender:y}=c,x=h&&!f&&!y,w=i.foundation.getQuery(v),T={},E=[];y&&(T.selection=i.renderSelection(null,!0));const A=Ce(w,"sortOrder"),k=Ce(w,"defaultSortOrder",!1),P=i.foundation.isSortOrderValid(A)?A:k,I=xq(c.ellipsis),D=typeof _!="function"&&M.createElement("span",{className:`${d}-row-head-title`,key:En.DEFAULT_KEY_COLUMN_TITLE,title:I&&typeof _=="string"?_:void 0},_);if(h){const z=M.createElement(Cq,{key:En.DEFAULT_KEY_COLUMN_SORTER,sortOrder:P,sortIcon:c.sortIcon,onClick:y||f?N=>i.foundation.handleSort(c,N):null,title:D,showTooltip:!x&&m});y&&(T.sorter=z),p=!0,E.push(z)}else E.push(D);const L=Ce(w,"filteredValue"),B=Ce(w,"defaultFilteredValue"),F=L||B;if(f){const z=M.createElement(iDt,Object.assign({key:En.DEFAULT_KEY_COLUMN_FILTER},Co(w,"children"),{filteredValue:F,onFilterDropdownVisibleChange:N=>i.foundation.toggleShowFilter(v,N),onSelect:N=>i.foundation.handleFilterSelect(v,N)}));y&&(T.filter=z),p=!0,E.push(z)}const $=typeof _=="function"?()=>_(T):p?M.createElement("div",{className:`${d}-operate-wrapper`},E):E;c=Object.assign(Object.assign({},c),{title:$}),x&&(c.clickToSort=z=>{i.foundation.handleSort(c,z,!0)},c.mouseDown=i.foundation.handleMouseDown,c.sortOrder=P,c.showSortTip=m)}return c},this.toggleSelectRow=(c,d,h)=>{this.foundation.handleSelectRow(d,c,h)},this.toggleSelectAllRow=(c,d)=>{this.foundation.handleSelectAllRow(c,d)},this.renderPagination=(c,d)=>{if(!c)return null;const h=this.foundation.memoizedPagination(c);return M.createElement(Qr,{componentName:"Table"},f=>{const p=this.foundation.formatPaginationInfo(h,f.pageText);return M.createElement(wq,{info:p,pagination:h,renderPagination:d})})},this.renderTitle=function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{title:d}=c;const{prefixCls:h,dataSource:f}=c;return typeof d=="function"&&(d=d(f)),q.isValidElement(d)||typeof d=="string"?M.createElement("div",{className:`${h}-title`,"x-semi-prop":"title"},d):null},this.renderEmpty=function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{prefixCls:d,empty:h,dataSource:f}=c,p=`${d}-placeholder`;return i.foundation.isEmpty(f)?M.createElement(Qr,{componentName:"Table",key:"emptyText"},(m,v)=>M.createElement("div",{className:p},M.createElement("div",{className:`${d}-empty`,"x-semi-prop":"empty"},h||m.emptyText))):null},this.renderFooter=function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{footer:d}=c;const{prefixCls:h,dataSource:f}=c;return typeof d=="function"&&(d=d(f)),q.isValidElement(d)||typeof d=="string"?M.createElement("div",{className:`${h}-footer`,key:"footer","x-semi-prop":"footer"},d):null},this.renderMainTable=c=>{const d=this.adapter.useFixedHeader(),h=this.renderEmpty(c);return[this.renderTable(Object.assign(Object.assign({},c),{fixed:!1,useFixedHeader:d,headerRef:this._cacheHeaderRef,bodyRef:this.bodyWrapRef,includeHeader:!d,emptySlot:h})),this.renderFooter(c)]},this.renderTable=c=>{const{columns:d,filteredColumns:h,fixed:f,useFixedHeader:p,scroll:g,prefixCls:m,anyColumnFixed:v,includeHeader:_,showHeader:y,components:x,headerRef:w,bodyRef:T,onHeaderRow:E,rowSelection:A,dataSource:k,bodyHasScrollBar:P,disabledRowKeysSet:I,sticky:D}=c,L=Ce(A,"selectedRowKeysSet",new Set),B=this.adapter.getTableLayout(),F=f||p?M.createElement(fDt,{key:"head",tableLayout:B,ref:w,columns:h,prefixCls:m,fixed:f,handleBodyScroll:this.handleBodyScrollLeft,components:x,scroll:g,showHeader:y,selectedRowKeysSet:L,onHeaderRow:E,dataSource:k,bodyHasScrollBar:P,sticky:D}):null,$=M.createElement(m2t,Object.assign({},Co(c,["rowSelection","headWidths"]),{key:"body",ref:T,columns:h,fixed:f,prefixCls:m,handleWheel:this.handleWheel,handleBodyScroll:this.handleBodyScroll,anyColumnFixed:v,tableLayout:B,includeHeader:_,showHeader:y,scroll:g,components:x,store:this.store,selectedRowKeysSet:L,disabledRowKeysSet:I}));return[F,$]},this.handleColumns=(c,d)=>{const{hideExpandedColumn:h,scroll:f,prefixCls:p,expandCellFixed:g,expandIcon:m,rowSelection:v}=this.props,_="children";let y=cf(d);const x=function(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];Array.isArray(w)&&w.length&&ll(w,(T,E,A)=>{const k=i.addFnsInColumn(T),P=T[_];if(Array.isArray(P)&&P.length){const I=[...P];x(I),k[_]=I}A[E]=k})};if(x(y),!h){const w=this.normalizeExpandColumn({prefixCls:p,expandCellFixed:g,expandIcon:m}),T=sh(y,E=>E.key===En.DEFAULT_KEY_COLUMN_EXPAND);w&&(T>-1?y[T]=Object.assign(Object.assign({},w),y[T]):w.fixed==="right"?y=[...y,w]:y=[w,...y])}if(v&&!Ce(v,"hidden")){const w=sh(y,E=>E.key===En.DEFAULT_KEY_COLUMN_SELECTION),T=this.normalizeSelectionColumn({rowSelection:v,prefixCls:p});w>-1?y[w]=Object.assign(Object.assign({},T),y[w]):T.fixed==="right"?y=[...y,T]:y=[T,...y]}return hF(y),y},this.normalizeColumns=(c,d)=>cf(this.getColumns(c,d)),this.mergePagination=c=>Object.assign({onChange:this.foundation.setPage},c),this.foundation=new oO(this.adapter);const r=this.getColumns(e.columns,e.children),s=Mw(r),a=oO.initColumnsFilteredValueAndSorterOrder(cf(s)),o=this.foundation.getFilteredSortedDataSource(this.props.dataSource,a),l=wCe(this.props.pagination)?this.props.pagination:{},u=this.foundation.getCurrentPageData(o,l,a);this.state={cachedColumns:r,cachedChildren:e.children,flattenColumns:s,components:Oue(e.components,e.virtualized),queries:a,dataSource:u.dataSource,flattenData:[],expandedRowKeys:[...e.expandedRowKeys||[],...e.defaultExpandedRowKeys||[]],rowSelection:e.rowSelection?jo(e.rowSelection)?Object.assign({},e.rowSelection):{}:null,pagination:u.pagination,groups:null,allRowKeys:[],disabledRowKeys:[],disabledRowKeysSet:new Set,allDisabledRowKeys:[],allDisabledRowKeysSet:new Set,headWidths:[],bodyHasScrollBar:!1,prePropRowSelection:void 0,prePagination:void 0},this.rootWrapRef=q.createRef(),this.wrapRef=q.createRef(),this.bodyWrapRef=q.createRef(),this.headerWrapRef=q.createRef(),this.store=new RRt({hoveredRowKey:null}),this.debouncedWindowResize=iX(this.handleWindowResize,150),this.cachedFilteredSortedDataSource=[],this.cachedFilteredSortedRowKeys=[],this.cachedFilteredSortedRowKeysSet=new Set}static getDerivedStateFromProps(e,t){const i={},{rowSelection:r,dataSource:s,childrenRecordName:a,rowKey:o,pagination:l}=e;if(e.columns&&e.children&&gA.warn("columns should not given by object and children at the same time"),e.columns&&e.columns!==t.cachedColumns){const u=Mw(e.columns);i.flattenColumns=u,i.queries=l8(t.queries,u,null,!1),i.cachedColumns=e.columns,i.cachedChildren=null}else if(e.children&&e.children!==t.cachedChildren){const u=fF(e.children),c=Mw(u),d=l8(t.queries,c,null,!1);i.flattenColumns=c,i.queries=[...d],i.cachedColumns=[...u],i.cachedChildren=e.children}if(r!==t.prePropRowSelection){let u={};jo(t.rowSelection)&&(u=Object.assign(Object.assign({},u),t.rowSelection)),jo(r)&&(u=Object.assign(Object.assign({},u),r));const c=Ce(r,"selectedRowKeys"),d=Ce(r,"getCheckboxProps");if(c&&Array.isArray(c)&&(u.selectedRowKeysSet=new Set(c)),Mn(d)){const h=$Ee({dataSource:s,getCheckboxProps:d,childrenRecordName:a,rowKey:o}),f=new Set(h);i.disabledRowKeys=h,i.disabledRowKeysSet=f,i.allDisabledRowKeys=h,i.allDisabledRowKeysSet=f}i.rowSelection=u,i.prePropRowSelection=r}if(l!==t.prePagination){let u={};jo(t.pagination)&&(u=Object.assign(Object.assign({},u),t.pagination)),jo(l)&&(u=Object.assign(Object.assign({},u),l)),i.pagination=u,i.prePagination=l}return i}componentDidMount(){super.componentDidMount(),this.setScrollPosition("left"),(this.adapter.isAnyColumnFixed()||this.props.showHeader&&this.adapter.useFixedHeader())&&(this.handleWindowResize(),window.addEventListener("resize",this.debouncedWindowResize))}componentDidUpdate(e,t){const{dataSource:i,expandedRowKeys:r,expandAllRows:s,expandAllGroupRows:a,virtualized:o,components:l,pagination:u}=this.props,{pagination:c,queries:d,cachedColumns:h,cachedChildren:f,groups:p}=this.state,g={};if(this._warnIfNoKey(),Array.isArray(r)&&r!==e.expandedRowKeys&&this.setState({expandedRowKeys:r}),(l!==e.components||o!==e.virtualized)&&this.setState({components:Oue(l,o)}),(s!==e.expandAllRows||a!==e.expandAllGroupRows)&&this.foundation.initExpandedRowKeys({groups:p}),i!==e.dataSource||h!==t.cachedColumns||f!==t.cachedChildren){const m=[...i],v=this.foundation.getFilteredSortedDataSource(m,d),_=this.foundation.getAllDisabledRowKeys(v);this.foundation.setCachedFilteredSortedDataSource(v),this.foundation.setAllDisabledRowKeys(_),g.dataSource=v,this.props.groupBy&&(g.groups=null)}if(i!==e.dataSource&&(g.pagination=jo(c)?Object.assign(Object.assign({},c),{currentPage:jo(u)&&u.currentPage?u.currentPage:1}):c),Object.keys(g).length){const{pagination:m=null,queries:v=null,dataSource:_=null}=g,y=this.foundation.getCurrentPageData(_,m,v);this.adapter.setAllRowKeys(y.allRowKeys),this.adapter.setDisabledRowKeys(y.disabledRowKeys),"dataSource"in g&&((this.props.defaultExpandAllRows&&y.groups&&y.groups.size||this.props.expandAllRows||this.props.expandAllGroupRows)&&this.foundation.initExpandedRowKeys(y),g.pagination=y.pagination);const x=Object.keys(g);for(const w of x)this.setState({[w]:y[w]})}(this.adapter.isAnyColumnFixed()||this.props.showHeader&&this.adapter.useFixedHeader())&&(this.debouncedWindowResize||window.addEventListener("resize",this.debouncedWindowResize))}componentWillUnmount(){super.componentWillUnmount(),this.debouncedWindowResize&&(window.removeEventListener("resize",this.debouncedWindowResize),this.debouncedWindowResize.cancel(),this.debouncedWindowResize=null)}render(){let e=this.props,{scroll:t,prefixCls:i,className:r,style:s={},bordered:a,id:o,pagination:l,virtualized:u,size:c,renderPagination:d,getVirtualizedListRef:h,loading:f,hideExpandedColumn:p,rowSelection:g}=e,m=v2t(e,["scroll","prefixCls","className","style","bordered","id","pagination","virtualized","size","renderPagination","getVirtualizedListRef","loading","hideExpandedColumn","rowSelection"]),{rowSelection:v,expandedRowKeys:_,headWidths:y,tableWidth:x,pagination:w,dataSource:T,queries:E,cachedColumns:A,bodyHasScrollBar:k}=this.state;s=Object.assign({},s);let P;if(this.adapter.isAnyColumnUseFullRender(E))P=this.handleColumns(E,A);else{const U=g&&!Ce(g,"hidden");P=this.foundation.memoizedWithFnsColumns(E,A,U,p,k)}const I=this.foundation.memoizedFilterColumns(P),D=this.foundation.memoizedFlattenFnsColumns(P),L=this.adapter.isAnyColumnFixed(P),B=Object.assign(Object.assign(Object.assign({},m),this.state),{virtualized:u,scroll:t,prefixCls:i,size:c,hideExpandedColumn:p,columns:P,anyColumnFixed:L,rowExpandable:this.mergedRowExpandable,pagination:w,dataSource:T,rowSelection:v,expandedRowKeys:_,renderExpandIcon:this.renderExpandIcon,filteredColumns:I}),F=Ce(t,"x"),$=Ce(t,"y");u&&typeof s.width!="number"&&(s.width=F);const z=le({[`${i}-${En.SIZE_SMALL}`]:c===En.SIZE_SMALL,[`${i}-${En.SIZE_MIDDLE}`]:c===En.SIZE_MIDDLE,[`${i}-virtualized`]:!!u,[`${i}-bordered`]:a,[`${i}-fixed-header`]:!!$,[`${i}-scroll-position-left`]:["both","left"].includes(this.position),[`${i}-scroll-position-right`]:["both","right"].includes(this.position)}),N=w&&l?this.renderPagination(w,d):null,V=Ce(l,"position","bottom"),H=Object.assign(Object.assign({},this.context),{headWidths:y,tableWidth:x,anyColumnFixed:L,flattenedColumns:D,renderExpandIcon:this.renderExpandIcon,renderSelection:this.renderSelection,setHeadWidths:this.setHeadWidths,getHeadWidths:this.getHeadWidths,getCellWidths:this.getCellWidths,handleRowExpanded:this.handleRowExpanded,getVirtualizedListRef:h,setBodyHasScrollbar:this.setBodyHasScrollbar}),K=this.getDataAttr(m);return M.createElement("div",Object.assign({ref:this.rootWrapRef,className:le(r,`${i}-wrapper`,`${i}-wrapper-${B.direction}`),"data-column-fixed":L,style:s,id:o},K),M.createElement(tDt,Object.assign({},H,{direction:B.direction}),M.createElement(bh,{spinning:f,size:"large"},M.createElement("div",{ref:this.wrapRef,className:z},M.createElement(M.Fragment,{key:"pagination-top"},["top","both"].includes(V)?N:null),this.renderTitle({title:B.title,dataSource:B.dataSource,prefixCls:B.prefixCls}),M.createElement("div",{className:`${i}-container`},this.renderMainTable(Object.assign({},B))),M.createElement(M.Fragment,{key:"pagination-bottom"},["bottom","both"].includes(V)?N:null)))))}};F1.contextType=W0;F1.propTypes={className:S.string,style:S.object,prefixCls:S.string,components:S.any,bordered:S.bool,loading:S.bool,size:S.oneOf(En.SIZES),tableLayout:S.oneOf(En.LAYOUTS),columns:S.arrayOf(S.shape(jEe)),hideExpandedColumn:S.bool,id:S.string,expandIcon:S.oneOfType([S.bool,S.func,S.node]),expandCellFixed:S.oneOf(En.FIXED_SET),title:S.oneOfType([S.string,S.node,S.func]),onHeaderRow:S.func,showHeader:S.bool,indentSize:S.number,rowKey:S.oneOfType([S.func,S.string,S.number]),onRow:S.func,onExpandedRowsChange:S.func,onExpand:S.func,rowExpandable:S.func,expandedRowRender:S.func,expandedRowKeys:S.array,defaultExpandAllRows:S.bool,expandAllRows:S.bool,defaultExpandAllGroupRows:S.bool,expandAllGroupRows:S.bool,defaultExpandedRowKeys:S.array,pagination:S.oneOfType([S.object,S.bool]),renderPagination:S.func,footer:S.oneOfType([S.func,S.string,S.node]),empty:S.node,dataSource:S.array,childrenRecordName:S.string,rowSelection:S.oneOfType([S.object,S.bool]),onChange:S.func,scroll:S.shape({x:S.oneOfType([S.number,S.string,S.bool]),y:S.oneOfType([S.number,S.string])}),groupBy:S.oneOfType([S.string,S.number,S.func]),renderGroupSection:S.oneOfType([S.func]),onGroupedRow:S.func,clickGroupedRowToExpand:S.bool,virtualized:S.oneOfType([S.object,S.bool]),dropdownPrefixCls:S.string,expandRowByClick:S.bool,getVirtualizedListRef:S.func};F1.defaultProps={tableLayout:"",dataSource:[],prefixCls:Au.PREFIX,rowSelection:null,className:"",childrenRecordName:"children",size:"default",loading:!1,bordered:!1,expandCellFixed:!1,hideExpandedColumn:!0,showHeader:!0,indentSize:eo.DEFAULT_INDENT_WIDTH,onChange:be,pagination:!0,rowKey:"key",defaultExpandedRowKeys:[],defaultExpandAllRows:!1,defaultExpandAllGroupRows:!1,expandAllRows:!1,expandAllGroupRows:!1,onFilterDropdownVisibleChange:be,onExpand:be,onExpandedRowsChange:be,expandRowByClick:!1};var y2t=hX;function _2t(n,e,t){var i=n.length;return t=t===void 0?i:t,!e&&t>=i?n:y2t(n,e,t)}var b2t=_2t,S2t=Ff,x2t=_c,w2t="[object RegExp]";function C2t(n){return x2t(n)&&S2t(n)==w2t}var T2t=C2t,E2t=T2t,A2t=N0,Due=$P,Lue=Due&&Due.isRegExp,k2t=Lue?A2t(Lue):E2t,O2t=k2t;function P2t(n){return n.split("")}var M2t=P2t,JEe="\\ud800-\\udfff",I2t="\\u0300-\\u036f",R2t="\\ufe20-\\ufe2f",D2t="\\u20d0-\\u20ff",L2t=I2t+R2t+D2t,F2t="\\ufe0e\\ufe0f",B2t="["+JEe+"]",d8="["+L2t+"]",h8="\\ud83c[\\udffb-\\udfff]",$2t="(?:"+d8+"|"+h8+")",eAe="[^"+JEe+"]",tAe="(?:\\ud83c[\\udde6-\\uddff]){2}",nAe="[\\ud800-\\udbff][\\udc00-\\udfff]",N2t="\\u200d",iAe=$2t+"?",rAe="["+F2t+"]?",j2t="(?:"+N2t+"(?:"+[eAe,tAe,nAe].join("|")+")"+rAe+iAe+")*",z2t=rAe+iAe+j2t,H2t="(?:"+[eAe+d8+"?",d8,tAe,nAe,B2t].join("|")+")",V2t=RegExp(h8+"(?="+h8+")|"+H2t+z2t,"g");function W2t(n){return n.match(V2t)||[]}var U2t=W2t,G2t=M2t,Y2t=Aq,K2t=U2t;function X2t(n){return Y2t(n)?K2t(n):G2t(n)}var q2t=X2t,Z2t=Hwe,Q2t=b2t,J2t=Aq,eLt=JN,tLt=O2t,nLt=q2t,iLt=VN,rLt=4294967295;function sLt(n,e,t){return t&&typeof t!="number"&&eLt(n,e,t)&&(e=t=void 0),t=t===void 0?rLt:t>>>0,t?(n=iLt(n),n&&(typeof e=="string"||e!=null&&!tLt(e))&&(e=Z2t(e),!e&&J2t(n))?Q2t(nLt(n),0,t):n.split(e,t)):[]}var aLt=sLt;const mA=yn(aLt);function oLt(n){const e=mA(n,/\s+/);for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];const s=CC(i,a=>!e.includes(a));return le(n,...s)}function lLt(n){const e=mA(n,/\s+/);for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return iO(i,s=>{const a=e.indexOf(s);a>-1&&e.splice(a,1)}),le(...e)}var Oq={exports:{}},cM={},Fj={exports:{}},sAe={},f8={exports:{}};function aAe(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=aAe(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Fue(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=aAe(n))&&(i&&(i+=" "),i+=e);return i}f8.exports=Fue,f8.exports.clsx=Fue;var uLt=f8.exports,wa={},pg={};Object.defineProperty(pg,"__esModule",{value:!0});pg.dontSetMe=pLt;pg.findInArray=cLt;pg.int=fLt;pg.isFunction=dLt;pg.isNum=hLt;function cLt(n,e){for(let t=0,i=n.length;t<i;t++)if(e.apply(e,[n[t],t,n]))return n[t]}function dLt(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Function]"}function hLt(n){return typeof n=="number"&&!isNaN(n)}function fLt(n){return parseInt(n,10)}function pLt(n,e,t){if(n[e])return new Error(`Invalid prop ${e} passed to ${t} - do not set this, set it on the child.`)}var U0={};Object.defineProperty(U0,"__esModule",{value:!0});U0.browserPrefixToKey=lAe;U0.browserPrefixToStyle=gLt;U0.default=void 0;U0.getPrefix=oAe;const a4=["Moz","Webkit","O","ms"];function oAe(){var t,i;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const e=(i=(t=window.document)==null?void 0:t.documentElement)==null?void 0:i.style;if(!e||n in e)return"";for(let r=0;r<a4.length;r++)if(lAe(n,a4[r])in e)return a4[r];return""}function lAe(n,e){return e?`${e}${mLt(n)}`:n}function gLt(n,e){return e?`-${e.toLowerCase()}-${n}`:n}function mLt(n){let e="",t=!0;for(let i=0;i<n.length;i++)t?(e+=n[i].toUpperCase(),t=!1):n[i]==="-"?t=!0:e+=n[i];return e}U0.default=oAe();Object.defineProperty(wa,"__esModule",{value:!0});wa.addClassName=dAe;wa.addEvent=yLt;wa.addUserSelectStyles=OLt;wa.createCSSTransform=TLt;wa.createSVGTransform=ELt;wa.getTouch=ALt;wa.getTouchIdentifier=kLt;wa.getTranslation=Pq;wa.innerHeight=xLt;wa.innerWidth=wLt;wa.matchesSelector=cAe;wa.matchesSelectorAndParentsTo=vLt;wa.offsetXYFromParent=CLt;wa.outerHeight=bLt;wa.outerWidth=SLt;wa.removeClassName=hAe;wa.removeEvent=_Lt;wa.scheduleRemoveUserSelectStyles=PLt;var Qc=pg,Bue=uAe(U0);function uAe(n,e){if(typeof WeakMap=="function")var t=new WeakMap,i=new WeakMap;return(uAe=function(r,s){if(!s&&r&&r.__esModule)return r;var a,o,l={__proto__:null,default:r};if(r===null||typeof r!="object"&&typeof r!="function")return l;if(a=s?i:t){if(a.has(r))return a.get(r);a.set(r,l)}for(const u in r)u!=="default"&&{}.hasOwnProperty.call(r,u)&&((o=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(r,u))&&(o.get||o.set)?a(l,u,o):l[u]=r[u]);return l})(n,e)}let tD="";function cAe(n,e){return tD||(tD=(0,Qc.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return(0,Qc.isFunction)(n[t])})),(0,Qc.isFunction)(n[tD])?n[tD](e):!1}function vLt(n,e,t){let i=n;do{if(cAe(i,e))return!0;if(i===t)return!1;i=i.parentNode}while(i);return!1}function yLt(n,e,t,i){if(!n)return;const r={capture:!0,...i};n.addEventListener?n.addEventListener(e,t,r):n.attachEvent?n.attachEvent("on"+e,t):n["on"+e]=t}function _Lt(n,e,t,i){if(!n)return;const r={capture:!0,...i};n.removeEventListener?n.removeEventListener(e,t,r):n.detachEvent?n.detachEvent("on"+e,t):n["on"+e]=null}function bLt(n){let e=n.clientHeight;const t=n.ownerDocument.defaultView.getComputedStyle(n);return e+=(0,Qc.int)(t.borderTopWidth),e+=(0,Qc.int)(t.borderBottomWidth),e}function SLt(n){let e=n.clientWidth;const t=n.ownerDocument.defaultView.getComputedStyle(n);return e+=(0,Qc.int)(t.borderLeftWidth),e+=(0,Qc.int)(t.borderRightWidth),e}function xLt(n){let e=n.clientHeight;const t=n.ownerDocument.defaultView.getComputedStyle(n);return e-=(0,Qc.int)(t.paddingTop),e-=(0,Qc.int)(t.paddingBottom),e}function wLt(n){let e=n.clientWidth;const t=n.ownerDocument.defaultView.getComputedStyle(n);return e-=(0,Qc.int)(t.paddingLeft),e-=(0,Qc.int)(t.paddingRight),e}function CLt(n,e,t){const r=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),s=(n.clientX+e.scrollLeft-r.left)/t,a=(n.clientY+e.scrollTop-r.top)/t;return{x:s,y:a}}function TLt(n,e){const t=Pq(n,e,"px");return{[(0,Bue.browserPrefixToKey)("transform",Bue.default)]:t}}function ELt(n,e){return Pq(n,e,"")}function Pq(n,e,t){let{x:i,y:r}=n,s=`translate(${i}${t},${r}${t})`;if(e){const a=`${typeof e.x=="string"?e.x:e.x+t}`,o=`${typeof e.y=="string"?e.y:e.y+t}`;s=`translate(${a}, ${o})`+s}return s}function ALt(n,e){return n.targetTouches&&(0,Qc.findInArray)(n.targetTouches,t=>e===t.identifier)||n.changedTouches&&(0,Qc.findInArray)(n.changedTouches,t=>e===t.identifier)}function kLt(n){if(n.targetTouches&&n.targetTouches[0])return n.targetTouches[0].identifier;if(n.changedTouches&&n.changedTouches[0])return n.changedTouches[0].identifier}function OLt(n){if(!n)return;let e=n.getElementById("react-draggable-style-el");e||(e=n.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,n.getElementsByTagName("head")[0].appendChild(e)),n.body&&dAe(n.body,"react-draggable-transparent-selection")}function PLt(n){window.requestAnimationFrame?window.requestAnimationFrame(()=>{$ue(n)}):$ue(n)}function $ue(n){if(n)try{if(n.body&&hAe(n.body,"react-draggable-transparent-selection"),n.selection)n.selection.empty();else{const e=(n.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function dAe(n,e){n.classList?n.classList.add(e):n.className.match(new RegExp(`(?:^|\\s)${e}(?!\\S)`))||(n.className+=` ${e}`)}function hAe(n,e){n.classList?n.classList.remove(e):n.className=n.className.replace(new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g"),"")}var gg={};Object.defineProperty(gg,"__esModule",{value:!0});gg.canDragX=RLt;gg.canDragY=DLt;gg.createCoreData=FLt;gg.createDraggableData=BLt;gg.getBoundPosition=MLt;gg.getControlPosition=LLt;gg.snapToGrid=ILt;var jc=pg,Ux=wa;function MLt(n,e,t){if(!n.props.bounds)return[e,t];let{bounds:i}=n.props;i=typeof i=="string"?i:$Lt(i);const r=Mq(n);if(typeof i=="string"){const{ownerDocument:s}=r,a=s.defaultView;let o;if(i==="parent"?o=r.parentNode:o=r.getRootNode().querySelector(i),!(o instanceof a.HTMLElement))throw new Error('Bounds selector "'+i+'" could not find an element.');const l=o,u=a.getComputedStyle(r),c=a.getComputedStyle(l);i={left:-r.offsetLeft+(0,jc.int)(c.paddingLeft)+(0,jc.int)(u.marginLeft),top:-r.offsetTop+(0,jc.int)(c.paddingTop)+(0,jc.int)(u.marginTop),right:(0,Ux.innerWidth)(l)-(0,Ux.outerWidth)(r)-r.offsetLeft+(0,jc.int)(c.paddingRight)-(0,jc.int)(u.marginRight),bottom:(0,Ux.innerHeight)(l)-(0,Ux.outerHeight)(r)-r.offsetTop+(0,jc.int)(c.paddingBottom)-(0,jc.int)(u.marginBottom)}}return(0,jc.isNum)(i.right)&&(e=Math.min(e,i.right)),(0,jc.isNum)(i.bottom)&&(t=Math.min(t,i.bottom)),(0,jc.isNum)(i.left)&&(e=Math.max(e,i.left)),(0,jc.isNum)(i.top)&&(t=Math.max(t,i.top)),[e,t]}function ILt(n,e,t){const i=Math.round(e/n[0])*n[0],r=Math.round(t/n[1])*n[1];return[i,r]}function RLt(n){return n.props.axis==="both"||n.props.axis==="x"}function DLt(n){return n.props.axis==="both"||n.props.axis==="y"}function LLt(n,e,t){const i=typeof e=="number"?(0,Ux.getTouch)(n,e):null;if(typeof e=="number"&&!i)return null;const r=Mq(t),s=t.props.offsetParent||r.offsetParent||r.ownerDocument.body;return(0,Ux.offsetXYFromParent)(i||n,s,t.props.scale)}function FLt(n,e,t){const i=!(0,jc.isNum)(n.lastX),r=Mq(n);return i?{node:r,deltaX:0,deltaY:0,lastX:e,lastY:t,x:e,y:t}:{node:r,deltaX:e-n.lastX,deltaY:t-n.lastY,lastX:n.lastX,lastY:n.lastY,x:e,y:t}}function BLt(n,e){const t=n.props.scale;return{node:e.node,x:n.state.x+e.deltaX/t,y:n.state.y+e.deltaY/t,deltaX:e.deltaX/t,deltaY:e.deltaY/t,lastX:n.state.x,lastY:n.state.y}}function $Lt(n){return{left:n.left,top:n.top,right:n.right,bottom:n.bottom}}function Mq(n){const e=n.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var Bj={},$j={};Object.defineProperty($j,"__esModule",{value:!0});$j.default=NLt;function NLt(){}Object.defineProperty(Bj,"__esModule",{value:!0});Bj.default=void 0;var o4=fAe(q),hu=Iq(LP),jLt=Iq(Yc),Rl=wa,Av=gg,l4=pg,eE=Iq($j);function Iq(n){return n&&n.__esModule?n:{default:n}}function fAe(n,e){if(typeof WeakMap=="function")var t=new WeakMap,i=new WeakMap;return(fAe=function(r,s){if(!s&&r&&r.__esModule)return r;var a,o,l={__proto__:null,default:r};if(r===null||typeof r!="object"&&typeof r!="function")return l;if(a=s?i:t){if(a.has(r))return a.get(r);a.set(r,l)}for(const u in r)u!=="default"&&{}.hasOwnProperty.call(r,u)&&((o=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(r,u))&&(o.get||o.set)?a(l,u,o):l[u]=r[u]);return l})(n,e)}function mu(n,e,t){return(e=zLt(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function zLt(n){var e=HLt(n,"string");return typeof e=="symbol"?e:e+""}function HLt(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}const Qh={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let kv=Qh.mouse,Nj=class extends o4.Component{constructor(){super(...arguments),mu(this,"dragging",!1),mu(this,"lastX",NaN),mu(this,"lastY",NaN),mu(this,"touchIdentifier",null),mu(this,"mounted",!1),mu(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:i}=t;if(this.props.disabled||!(e.target instanceof i.defaultView.Node)||this.props.handle&&!(0,Rl.matchesSelectorAndParentsTo)(e.target,this.props.handle,t)||this.props.cancel&&(0,Rl.matchesSelectorAndParentsTo)(e.target,this.props.cancel,t))return;e.type==="touchstart"&&!this.props.allowMobileScroll&&e.preventDefault();const r=(0,Rl.getTouchIdentifier)(e);this.touchIdentifier=r;const s=(0,Av.getControlPosition)(e,r,this);if(s==null)return;const{x:a,y:o}=s,l=(0,Av.createCoreData)(this,a,o);(0,eE.default)("DraggableCore: handleDragStart: %j",l),(0,eE.default)("calling",this.props.onStart),!(this.props.onStart(e,l)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Rl.addUserSelectStyles)(i),this.dragging=!0,this.lastX=a,this.lastY=o,(0,Rl.addEvent)(i,kv.move,this.handleDrag),(0,Rl.addEvent)(i,kv.stop,this.handleDragStop))}),mu(this,"handleDrag",e=>{const t=(0,Av.getControlPosition)(e,this.touchIdentifier,this);if(t==null)return;let{x:i,y:r}=t;if(Array.isArray(this.props.grid)){let o=i-this.lastX,l=r-this.lastY;if([o,l]=(0,Av.snapToGrid)(this.props.grid,o,l),!o&&!l)return;i=this.lastX+o,r=this.lastY+l}const s=(0,Av.createCoreData)(this,i,r);if((0,eE.default)("DraggableCore: handleDrag: %j",s),this.props.onDrag(e,s)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(l)}return}this.lastX=i,this.lastY=r}),mu(this,"handleDragStop",e=>{if(!this.dragging)return;const t=(0,Av.getControlPosition)(e,this.touchIdentifier,this);if(t==null)return;let{x:i,y:r}=t;if(Array.isArray(this.props.grid)){let l=i-this.lastX||0,u=r-this.lastY||0;[l,u]=(0,Av.snapToGrid)(this.props.grid,l,u),i=this.lastX+l,r=this.lastY+u}const s=(0,Av.createCoreData)(this,i,r);if(this.props.onStop(e,s)===!1||this.mounted===!1)return!1;const o=this.findDOMNode();o&&this.props.enableUserSelectHack&&(0,Rl.scheduleRemoveUserSelectStyles)(o.ownerDocument),(0,eE.default)("DraggableCore: handleDragStop: %j",s),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,o&&((0,eE.default)("DraggableCore: Removing handlers"),(0,Rl.removeEvent)(o.ownerDocument,kv.move,this.handleDrag),(0,Rl.removeEvent)(o.ownerDocument,kv.stop,this.handleDragStop))}),mu(this,"onMouseDown",e=>(kv=Qh.mouse,this.handleDragStart(e))),mu(this,"onMouseUp",e=>(kv=Qh.mouse,this.handleDragStop(e))),mu(this,"onTouchStart",e=>(kv=Qh.touch,this.handleDragStart(e))),mu(this,"onTouchEnd",e=>(kv=Qh.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,Rl.addEvent)(e,Qh.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:t}=e;(0,Rl.removeEvent)(t,Qh.mouse.move,this.handleDrag),(0,Rl.removeEvent)(t,Qh.touch.move,this.handleDrag),(0,Rl.removeEvent)(t,Qh.mouse.stop,this.handleDragStop),(0,Rl.removeEvent)(t,Qh.touch.stop,this.handleDragStop),(0,Rl.removeEvent)(e,Qh.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Rl.scheduleRemoveUserSelectStyles)(t)}}findDOMNode(){var e,t,i;return(e=this.props)!=null&&e.nodeRef?(i=(t=this.props)==null?void 0:t.nodeRef)==null?void 0:i.current:jLt.default.findDOMNode(this)}render(){return o4.cloneElement(o4.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};Bj.default=Nj;mu(Nj,"displayName","DraggableCore");mu(Nj,"propTypes",{allowAnyClick:hu.default.bool,allowMobileScroll:hu.default.bool,children:hu.default.node.isRequired,disabled:hu.default.bool,enableUserSelectHack:hu.default.bool,offsetParent:function(n,e){if(n[e]&&n[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:hu.default.arrayOf(hu.default.number),handle:hu.default.string,cancel:hu.default.string,nodeRef:hu.default.object,onStart:hu.default.func,onDrag:hu.default.func,onStop:hu.default.func,onMouseDown:hu.default.func,scale:hu.default.number,className:l4.dontSetMe,style:l4.dontSetMe,transform:l4.dontSetMe});mu(Nj,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),n.default=void 0;var e=d(q),t=c(LP),i=c(Yc),r=uLt,s=wa,a=gg,o=pg,l=c(Bj),u=c($j);function c(v){return v&&v.__esModule?v:{default:v}}function d(v,_){if(typeof WeakMap=="function")var y=new WeakMap,x=new WeakMap;return(d=function(w,T){if(!T&&w&&w.__esModule)return w;var E,A,k={__proto__:null,default:w};if(w===null||typeof w!="object"&&typeof w!="function")return k;if(E=T?x:y){if(E.has(w))return E.get(w);E.set(w,k)}for(const P in w)P!=="default"&&{}.hasOwnProperty.call(w,P)&&((A=(E=Object.defineProperty)&&Object.getOwnPropertyDescriptor(w,P))&&(A.get||A.set)?E(k,P,A):k[P]=w[P]);return k})(v,_)}function h(){return h=Object.assign?Object.assign.bind():function(v){for(var _=1;_<arguments.length;_++){var y=arguments[_];for(var x in y)({}).hasOwnProperty.call(y,x)&&(v[x]=y[x])}return v},h.apply(null,arguments)}function f(v,_,y){return(_=p(_))in v?Object.defineProperty(v,_,{value:y,enumerable:!0,configurable:!0,writable:!0}):v[_]=y,v}function p(v){var _=g(v,"string");return typeof _=="symbol"?_:_+""}function g(v,_){if(typeof v!="object"||!v)return v;var y=v[Symbol.toPrimitive];if(y!==void 0){var x=y.call(v,_);if(typeof x!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(v)}class m extends e.Component{static getDerivedStateFromProps(_,y){let{position:x}=_,{prevPropsPosition:w}=y;return x&&(!w||x.x!==w.x||x.y!==w.y)?((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:x,prevPropsPosition:w}),{x:x.x,y:x.y,prevPropsPosition:{...x}}):null}constructor(_){super(_),f(this,"onDragStart",(y,x)=>{if((0,u.default)("Draggable: onDragStart: %j",x),this.props.onStart(y,(0,a.createDraggableData)(this,x))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),f(this,"onDrag",(y,x)=>{if(!this.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",x);const w=(0,a.createDraggableData)(this,x),T={x:w.x,y:w.y,slackX:0,slackY:0};if(this.props.bounds){const{x:A,y:k}=T;T.x+=this.state.slackX,T.y+=this.state.slackY;const[P,I]=(0,a.getBoundPosition)(this,T.x,T.y);T.x=P,T.y=I,T.slackX=this.state.slackX+(A-T.x),T.slackY=this.state.slackY+(k-T.y),w.x=T.x,w.y=T.y,w.deltaX=T.x-this.state.x,w.deltaY=T.y-this.state.y}if(this.props.onDrag(y,w)===!1)return!1;this.setState(T)}),f(this,"onDragStop",(y,x)=>{if(!this.state.dragging||this.props.onStop(y,(0,a.createDraggableData)(this,x))===!1)return!1;(0,u.default)("Draggable: onDragStop: %j",x);const T={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:A,y:k}=this.props.position;T.x=A,T.y=k}this.setState(T)}),this.state={dragging:!1,dragged:!1,x:_.position?_.position.x:_.defaultPosition.x,y:_.position?_.position.y:_.defaultPosition.y,prevPropsPosition:{..._.position},slackX:0,slackY:0,isElementSVG:!1},_.position&&!(_.onDrag||_.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var _,y;return((y=(_=this.props)==null?void 0:_.nodeRef)==null?void 0:y.current)??i.default.findDOMNode(this)}render(){const{axis:_,bounds:y,children:x,defaultPosition:w,defaultClassName:T,defaultClassNameDragging:E,defaultClassNameDragged:A,position:k,positionOffset:P,scale:I,...D}=this.props;let L={},B=null;const $=!!!k||this.state.dragging,z=k||w,N={x:(0,a.canDragX)(this)&&$?this.state.x:z.x,y:(0,a.canDragY)(this)&&$?this.state.y:z.y};this.state.isElementSVG?B=(0,s.createSVGTransform)(N,P):L=(0,s.createCSSTransform)(N,P);const V=(0,r.clsx)(x.props.className||"",T,{[E]:this.state.dragging,[A]:this.state.dragged});return e.createElement(l.default,h({},D,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(x),{className:V,style:{...x.props.style,...L},transform:B}))}}n.default=m,f(m,"displayName","Draggable"),f(m,"propTypes",{...l.default.propTypes,axis:t.default.oneOf(["both","x","y","none"]),bounds:t.default.oneOfType([t.default.shape({left:t.default.number,right:t.default.number,top:t.default.number,bottom:t.default.number}),t.default.string,t.default.oneOf([!1])]),defaultClassName:t.default.string,defaultClassNameDragging:t.default.string,defaultClassNameDragged:t.default.string,defaultPosition:t.default.shape({x:t.default.number,y:t.default.number}),positionOffset:t.default.shape({x:t.default.oneOfType([t.default.number,t.default.string]),y:t.default.oneOfType([t.default.number,t.default.string])}),position:t.default.shape({x:t.default.number,y:t.default.number}),className:o.dontSetMe,style:o.dontSetMe,transform:o.dontSetMe}),f(m,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(sAe);const{default:pAe,DraggableCore:VLt}=sAe;Fj.exports=pAe;Fj.exports.default=pAe;Fj.exports.DraggableCore=VLt;var WLt=Fj.exports,Rq={};Rq.__esModule=!0;Rq.cloneElement=qLt;var ULt=GLt(q);function GLt(n){return n&&n.__esModule?n:{default:n}}function Nue(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function jue(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Nue(Object(t),!0).forEach(function(i){YLt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Nue(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function YLt(n,e,t){return e=KLt(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function KLt(n){var e=XLt(n,"string");return typeof e=="symbol"?e:String(e)}function XLt(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function qLt(n,e){return e.style&&n.props.style&&(e.style=jue(jue({},n.props.style),e.style)),e.className&&n.props.className&&(e.className=n.props.className+" "+e.className),ULt.default.cloneElement(n,e)}var dM={};dM.__esModule=!0;dM.resizableProps=void 0;var mi=ZLt(LP);function ZLt(n){return n&&n.__esModule?n:{default:n}}var QLt={axis:mi.default.oneOf(["both","x","y","none"]),className:mi.default.string,children:mi.default.element.isRequired,draggableOpts:mi.default.shape({allowAnyClick:mi.default.bool,cancel:mi.default.string,children:mi.default.node,disabled:mi.default.bool,enableUserSelectHack:mi.default.bool,offsetParent:mi.default.node,grid:mi.default.arrayOf(mi.default.number),handle:mi.default.string,nodeRef:mi.default.object,onStart:mi.default.func,onDrag:mi.default.func,onStop:mi.default.func,onMouseDown:mi.default.func,scale:mi.default.number}),height:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=t[0];if(r.axis==="both"||r.axis==="y"){var s;return(s=mi.default.number).isRequired.apply(s,t)}return mi.default.number.apply(mi.default,t)},handle:mi.default.oneOfType([mi.default.node,mi.default.func]),handleSize:mi.default.arrayOf(mi.default.number),lockAspectRatio:mi.default.bool,maxConstraints:mi.default.arrayOf(mi.default.number),minConstraints:mi.default.arrayOf(mi.default.number),onResizeStop:mi.default.func,onResizeStart:mi.default.func,onResize:mi.default.func,resizeHandles:mi.default.arrayOf(mi.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:mi.default.number,width:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=t[0];if(r.axis==="both"||r.axis==="x"){var s;return(s=mi.default.number).isRequired.apply(s,t)}return mi.default.number.apply(mi.default,t)}};dM.resizableProps=QLt;cM.__esModule=!0;cM.default=void 0;var tE=iFt(q),JLt=WLt,eFt=Rq,tFt=dM,nFt=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function gAe(n){if(typeof WeakMap!="function")return null;var e=new WeakMap,t=new WeakMap;return(gAe=function(r){return r?t:e})(n)}function iFt(n,e){if(n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var t=gAe(e);if(t&&t.has(n))return t.get(n);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in n)if(s!=="default"&&Object.prototype.hasOwnProperty.call(n,s)){var a=r?Object.getOwnPropertyDescriptor(n,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=n[s]}return i.default=n,t&&t.set(n,i),i}function p8(){return p8=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},p8.apply(this,arguments)}function rFt(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function zue(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function u4(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zue(Object(t),!0).forEach(function(i){sFt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):zue(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function sFt(n,e,t){return e=aFt(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function aFt(n){var e=oFt(n,"string");return typeof e=="symbol"?e:String(e)}function oFt(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function lFt(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,g8(n,e)}function g8(n,e){return g8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},g8(n,e)}var Dq=function(n){lFt(e,n);function e(){for(var i,r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i=n.call.apply(n,[this].concat(s))||this,i.handleRefs={},i.lastHandleRect=null,i.slack=null,i}var t=e.prototype;return t.componentWillUnmount=function(){this.resetData()},t.resetData=function(){this.lastHandleRect=this.slack=null},t.runConstraints=function(r,s){var a=this.props,o=a.minConstraints,l=a.maxConstraints,u=a.lockAspectRatio;if(!o&&!l&&!u)return[r,s];if(u){var c=this.props.width/this.props.height,d=r-this.props.width,h=s-this.props.height;Math.abs(d)>Math.abs(h*c)?s=r/c:r=s*c}var f=r,p=s,g=this.slack||[0,0],m=g[0],v=g[1];return r+=m,s+=v,o&&(r=Math.max(o[0],r),s=Math.max(o[1],s)),l&&(r=Math.min(l[0],r),s=Math.min(l[1],s)),this.slack=[m+(f-r),v+(p-s)],[r,s]},t.resizeHandler=function(r,s){var a=this;return function(o,l){var u=l.node,c=l.deltaX,d=l.deltaY;r==="onResizeStart"&&a.resetData();var h=(a.props.axis==="both"||a.props.axis==="x")&&s!=="n"&&s!=="s",f=(a.props.axis==="both"||a.props.axis==="y")&&s!=="e"&&s!=="w";if(!(!h&&!f)){var p=s[0],g=s[s.length-1],m=u.getBoundingClientRect();if(a.lastHandleRect!=null){if(g==="w"){var v=m.left-a.lastHandleRect.left;c+=v}if(p==="n"){var _=m.top-a.lastHandleRect.top;d+=_}}a.lastHandleRect=m,g==="w"&&(c=-c),p==="n"&&(d=-d);var y=a.props.width+(h?c/a.props.transformScale:0),x=a.props.height+(f?d/a.props.transformScale:0),w=a.runConstraints(y,x);y=w[0],x=w[1];var T=y!==a.props.width||x!==a.props.height,E=typeof a.props[r]=="function"?a.props[r]:null,A=r==="onResize"&&!T;E&&!A&&(o.persist==null||o.persist(),E(o,{node:u,size:{width:y,height:x},handle:s})),r==="onResizeStop"&&a.resetData()}}},t.renderResizeHandle=function(r,s){var a=this.props.handle;if(!a)return tE.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+r,ref:s});if(typeof a=="function")return a(r,s);var o=typeof a.type=="string",l=u4({ref:s},o?{}:{handleAxis:r});return tE.cloneElement(a,l)},t.render=function(){var r=this,s=this.props,a=s.children,o=s.className,l=s.draggableOpts;s.width,s.height,s.handle,s.handleSize,s.lockAspectRatio,s.axis,s.minConstraints,s.maxConstraints,s.onResize,s.onResizeStop,s.onResizeStart;var u=s.resizeHandles;s.transformScale;var c=rFt(s,nFt);return(0,eFt.cloneElement)(a,u4(u4({},c),{},{className:(o?o+" ":"")+"react-resizable",children:[].concat(a.props.children,u.map(function(d){var h,f=(h=r.handleRefs[d])!=null?h:r.handleRefs[d]=tE.createRef();return tE.createElement(JLt.DraggableCore,p8({},l,{nodeRef:f,key:"resizableHandle-"+d,onStop:r.resizeHandler("onResizeStop",d),onStart:r.resizeHandler("onResizeStart",d),onDrag:r.resizeHandler("onResize",d)}),r.renderResizeHandle(d,f))}))}))},e}(tE.Component);cM.default=Dq;Dq.propTypes=tFt.resizableProps;Dq.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1};var jj={};jj.__esModule=!0;jj.default=void 0;var c4=fFt(q),uFt=mAe(LP),cFt=mAe(cM),dFt=dM,hFt=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function mAe(n){return n&&n.__esModule?n:{default:n}}function vAe(n){if(typeof WeakMap!="function")return null;var e=new WeakMap,t=new WeakMap;return(vAe=function(r){return r?t:e})(n)}function fFt(n,e){if(n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var t=vAe(e);if(t&&t.has(n))return t.get(n);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in n)if(s!=="default"&&Object.prototype.hasOwnProperty.call(n,s)){var a=r?Object.getOwnPropertyDescriptor(n,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=n[s]}return i.default=n,t&&t.set(n,i),i}function m8(){return m8=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},m8.apply(this,arguments)}function Hue(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function gF(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Hue(Object(t),!0).forEach(function(i){pFt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Hue(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function pFt(n,e,t){return e=gFt(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function gFt(n){var e=mFt(n,"string");return typeof e=="symbol"?e:String(e)}function mFt(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function vFt(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function yFt(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,v8(n,e)}function v8(n,e){return v8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},v8(n,e)}var yAe=function(n){yFt(e,n);function e(){for(var i,r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i=n.call.apply(n,[this].concat(s))||this,i.state={width:i.props.width,height:i.props.height,propsWidth:i.props.width,propsHeight:i.props.height},i.onResize=function(o,l){var u=l.size;i.props.onResize?(o.persist==null||o.persist(),i.setState(u,function(){return i.props.onResize&&i.props.onResize(o,l)})):i.setState(u)},i}e.getDerivedStateFromProps=function(r,s){return s.propsWidth!==r.width||s.propsHeight!==r.height?{width:r.width,height:r.height,propsWidth:r.width,propsHeight:r.height}:null};var t=e.prototype;return t.render=function(){var r=this.props,s=r.handle,a=r.handleSize;r.onResize;var o=r.onResizeStart,l=r.onResizeStop,u=r.draggableOpts,c=r.minConstraints,d=r.maxConstraints,h=r.lockAspectRatio,f=r.axis;r.width,r.height;var p=r.resizeHandles,g=r.style,m=r.transformScale,v=vFt(r,hFt);return c4.createElement(cFt.default,{axis:f,draggableOpts:u,handle:s,handleSize:a,height:this.state.height,lockAspectRatio:h,maxConstraints:d,minConstraints:c,onResizeStart:o,onResize:this.onResize,onResizeStop:l,resizeHandles:p,transformScale:m,width:this.state.width},c4.createElement("div",m8({},v,{style:gF(gF({},g),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},e}(c4.Component);jj.default=yAe;yAe.propTypes=gF(gF({},dFt.resizableProps),{},{children:uFt.default.element});Oq.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")};var _Ft=Oq.exports.Resizable=cM.default;Oq.exports.ResizableBox=jj.default;var bFt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};class SFt extends M.PureComponent{render(){const e=this.props,{onResize:t,onResizeStart:i,onResizeStop:r,width:s,resize:a}=e,o=bFt(e,["onResize","onResizeStart","onResizeStop","width","resize"]);if(typeof s!="number"||a===!1)return M.createElement("th",Object.assign({},o));let{children:l}=o;return l=M.Children.map(l,(u,c)=>M.createElement(M.Fragment,{key:c},u)),M.createElement(_Ft,{width:s,height:0,onResize:t,onResizeStart:i,onResizeStop:r,draggableOpts:{enableUserSelectHack:!1},axis:"x"},M.createElement("th",Object.assign({},o),l))}}var xFt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const wFt=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;const{components:t,columns:i,resizable:r}=n,s=xFt(n,["components","columns","resizable"]),a="children",o=Ce(r,"onResize",be),l=Ce(r,"onResizeStart",be),u=Ce(r,"onResizeStop",be),c=Array.isArray(i)&&i.length?i:fF(n.children),d=hF(cf(c),a),h=hF(cf(c),a);typeof n.expandedRowRender=="function"&&!n.hideExpandedColumn&&!ag(d,E=>E.key===En.DEFAULT_KEY_COLUMN_EXPAND)&&h.unshift({key:En.DEFAULT_KEY_COLUMN_EXPAND,width:eo.DEFAULT_WIDTH_COLUMN_EXPAND}),n.rowSelection&&!Ce(n.rowSelection,"hidden")&&!ag(d,E=>E.key===En.DEFAULT_KEY_COLUMN_SELECTION)&&h.unshift({width:Ce(n,"rowSelection.width",eo.DEFAULT_WIDTH_COLUMN_SELECTION),key:En.DEFAULT_KEY_COLUMN_SELECTION});const[f,p]=q.useState(h);q.useEffect(()=>{const E=ORt(f,h);p(l8(f,E))},[i,n.expandedRowRender,n.hideExpandedColumn,n.rowSelection]);const g=q.useMemo(()=>HP({header:{cell:SFt}},t),[t]),m=Ce(r,"handlerClassName","resizing"),v=E=>(A,k)=>{let{size:P}=k;const I=cf(f),D=z2(I,E,a);let L=Object.assign(Object.assign({},D),{width:P.width});const B=o(L)||{};L=Object.assign(Object.assign({},L),B),Object.assign(D,L),p(I)},_=E=>A=>{const k=cf(f),P=z2(k,E,a);let I=Object.assign(Object.assign({},P),{className:oLt(P.className,m)});const D=l(I)||{};I=Object.assign(Object.assign({},I),D),Object.assign(P,I),p(k)},y=E=>A=>{const k=cf(f),P=z2(k,E,a);let I=Object.assign(Object.assign({},P),{className:lLt(P.className,m)});const D=u(I)||{};I=Object.assign(Object.assign({},I),D),Object.assign(P,I),p(k)},x=function(E,A){let k=arguments.length>3?arguments[3]:void 0;return Object.assign(Object.assign({},E),{onHeaderCell:P=>Object.assign(Object.assign({},k),{width:P.width,onResize:v(P),onResizeStart:_(P),onResizeStop:y(P)})})},w=function(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.isArray(E)&&E.length?E.map((k,P)=>{var I,D;const L=(D=(I=k.onHeaderCell)===null||I===void 0?void 0:I.call(k,k,P,A))!==null&&D!==void 0?D:{};Object.assign(k,x(k,P,A,L));const B=k[a];return Array.isArray(B)&&B.length&&(k[a]=w(B,A+1)),k}):[]},T=q.useMemo(()=>w(f),[f]);return M.createElement(F1,Object.assign({},s,{columns:T,components:g,ref:e}))},CFt=M.forwardRef(wFt);class G0 extends M.PureComponent{constructor(e){super(e),this.getCurrentPageData=()=>this.tableRef.current&&this.tableRef.current.getCurrentPageData(),this.tableRef=M.createRef()}render(){var e;const t=this.props,i=(e=this.props.direction)!==null&&e!==void 0?e:this.context.direction;return t.resizable?M.createElement(CFt,Object.assign({},t,{ref:this.tableRef,direction:i})):M.createElement(F1,Object.assign({},t,{ref:this.tableRef,direction:i}))}}G0.Column=Mj;G0.DEFAULT_KEY_COLUMN_SELECTION=En.DEFAULT_KEY_COLUMN_SELECTION;G0.DEFAULT_KEY_COLUMN_EXPAND=En.DEFAULT_KEY_COLUMN_EXPAND;G0.propTypes=Object.assign(Object.assign({},F1.propTypes),{resizable:S.oneOfType([S.bool,S.object])});G0.defaultProps={hideExpandedColumn:!0};G0.contextType=Ql;const fi={TABS:`${nt}-tabs`,TABS_BAR:`${nt}-tabs-bar`,TABS_BAR_LINE:`${nt}-tabs-bar-line`,TABS_BAR_CARD:`${nt}-tabs-bar-card`,TABS_BAR_BUTTON:`${nt}-tabs-bar-button`,TABS_BAR_SLASH:`${nt}-tabs-bar-slash`,TABS_BAR_EXTRA:`${nt}-tabs-bar-extra`,TABS_TAB:`${nt}-tabs-tab`,TABS_TAB_ACTIVE:`${nt}-tabs-tab-active`,TABS_TAB_DISABLED:`${nt}-tabs-tab-disabled`,TABS_CONTENT:`${nt}-tabs-content`,TABS_PANE:`${nt}-tabs-pane`,TABS_PANE_INACTIVE:`${nt}-tabs-pane-inactive`,TABS_PANE_ACTIVE:`${nt}-tabs-pane-active`,TABS_PANE_MOTION_OVERLAY:`${nt}-tabs-pane-motion-overlay`,TABS_PANE_ANIMATE_LEFT_SHOW:`${nt}-tabs-pane-animate-leftShow`,TABS_PANE_ANIMATE_RIGHT_SHOW:`${nt}-tabs-pane-animate-rightShow`,TABS_PANE_ANIMATE_TOP_SHOW:`${nt}-tabs-pane-animate-topShow`,TABS_PANE_ANIMATE_BOTTOM_SHOW:`${nt}-tabs-pane-animate-bottomShow`},Iw={TYPE_MAP:["line","card","button","slash"],SIZE:["small","medium","large"],POSITION_MAP:["top","left"]};class TFt extends jn{constructor(e){super(Object.assign({},e)),this.destroy=be,this.handlePrevent=t=>{t.stopPropagation(),t.preventDefault()},this.handleKeyDown=(t,i,r)=>{const{preventScroll:s}=this.getProps(),a=[...t.target.parentNode.childNodes].filter(o=>Ce(o,"attributes.data-tabkey.value","").includes("semiTab")&&Ce(o,"attributes.aria-disabled.value","")!=="true");switch(t.key){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":this.determineOrientation(t,a);break;case"Backspace":case"Delete":this.handleDeleteKeyDown(t,a,i,r);break;case"Enter":case" ":this.handleTabClick(i,t),this.handlePrevent(t);break;case"Home":a[0].focus({preventScroll:s}),this.handlePrevent(t);break;case"End":a[a.length-1].focus({preventScroll:s}),this.handlePrevent(t);break}}}init(){this._adapter.collectPane()}_notifyChange(e){const{activeKey:t}=this.getStates();t!==e&&this._adapter.notifyChange(e)}handleTabClick(e,t){this._isInProps("activeKey")?this._notifyChange(e):(this._notifyChange(e),this.handleNewActiveKey(e)),this._adapter.notifyTabClick(e,t)}handleNewActiveKey(e){const{activeKey:t}=this.getStates();t!==e&&this._adapter.setNewActiveKey(e)}getDefaultActiveKey(){let e;const t=this.getProps();return"activeKey"in t?e=t.activeKey:"defaultActiveKey"in t?e=t.defaultActiveKey:e=this._adapter.getDefaultActiveKeyFromChildren(),e}handleTabListChange(){this._adapter.collectPane()}handleTabPanesChange(){this._adapter.collectPane(),this._adapter.collectActiveKey()}handleTabDelete(e){this._adapter.notifyTabDelete(e)}determineOrientation(e,t){const{tabPosition:i}=this.getProps();i==="left"?(e.key==="ArrowUp"||e.key==="ArrowDown")&&(this.switchTabOnArrowPress(e,t),this.handlePrevent(e)):(e.key==="ArrowLeft"||e.key==="ArrowRight")&&(this.switchTabOnArrowPress(e,t),this.handlePrevent(e))}handleDeleteKeyDown(e,t,i,r){const{preventScroll:s}=this.getProps();if(r){this.handleTabDelete(i);const a=t.indexOf(e.target);t.length!==1&&t[a+1>=t.length?a-1:a+1].focus({preventScroll:s})}}switchTabOnArrowPress(e,t){const{preventScroll:i}=this.getProps(),r=t.indexOf(e.target),s={ArrowLeft:-1,ArrowUp:-1,ArrowRight:1,ArrowDown:1};s[e.key]&&r!==void 0&&(t[r+s[e.key]]?t[r+s[e.key]].focus({preventScroll:i}):e.key==="ArrowLeft"||e.key==="ArrowUp"?t[t.length-1].focus({preventScroll:i}):(e.key==="ArrowRight"||e.key=="ArrowDown")&&t[0].focus({preventScroll:i}))}}var EFt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const AFt=(n,e)=>{const{tab:t,size:i,type:r,icon:s,selected:a,closable:o,disabled:l,itemKey:u,deleteTabItem:c,tabPosition:d,handleKeyDown:h,onClick:f}=n,p=EFt(n,["tab","size","type","icon","selected","closable","disabled","itemKey","deleteTabItem","tabPosition","handleKeyDown","onClick"]),g=q.useMemo(()=>o?M.createElement(ij,{"aria-label":"Close",role:"button",className:`${fi.TABS_TAB}-icon-close`,onClick:w=>c(u,w)}):null,[r,o,c,u]),m=q.useCallback(w=>M.createElement("span",{className:`${fi.TABS_BAR}-icon`},w),[]),v=q.useCallback(w=>{h&&h(w,u,o)},[h,u,o]),_=q.useCallback(w=>{!l&&f&&f(u,w)},[u,l,f]),y=s?m(s):null,x=le(fi.TABS_TAB,`${fi.TABS_TAB}-${r}`,`${fi.TABS_TAB}-${d}`,`${fi.TABS_TAB}-single`,{[fi.TABS_TAB_ACTIVE]:a,[fi.TABS_TAB_DISABLED]:l,[`${fi.TABS_TAB}-small`]:i==="small",[`${fi.TABS_TAB}-medium`]:i==="medium"});return M.createElement("div",Object.assign({role:"tab",id:`semiTab${u}`,"data-tabkey":`semiTab${u}`,"aria-controls":`semiTabPanel${u}`,"aria-disabled":l?"true":"false","aria-selected":a?"true":"false",tabIndex:a?0:-1,onKeyDown:v,onClick:_,className:x},p,{ref:e}),y,t,g)},Lq=q.forwardRef(AFt);Lq.elementType="Tabs.TabItem";var kFt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};class y8 extends M.Component{constructor(e){var t;super(e),t=this,this.handleItemClick=(i,r)=>{this.props.onTabClick(i,r)},this.handleKeyDown=(i,r,s)=>{this.props.handleKeyDown(i,r,s)},this.renderTabItem=i=>{const{size:r,type:s,deleteTabItem:a,handleKeyDown:o,tabPosition:l}=this.props,u=this._isActive(i.itemKey);return M.createElement(Lq,Object.assign({},Eu(i,["disabled","icon","itemKey","tab","closable"]),{key:this._getBarItemKeyByItemKey(i.itemKey),selected:u,size:r,type:s,tabPosition:l,handleKeyDown:o,deleteTabItem:a,onClick:this.handleItemClick}))},this.scrollTabItemIntoViewByKey=function(i){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"nearest",s=arguments.length>2?arguments[2]:void 0;const a=document.querySelector(`[data-uuid="${t.state.uuid}"] .${fi.TABS_TAB}[data-scrollkey="${i}"]`);a==null||a.scrollIntoView({behavior:s||"smooth",block:r,inline:r})},this.scrollActiveTabItemIntoView=(i,r)=>{const s=this._getBarItemKeyByItemKey(this.props.activeKey);this.scrollTabItemIntoViewByKey(s,i,r)},this.renderTabComponents=i=>i.map(r=>this.renderTabItem(r)),this.handleArrowClick=(i,r)=>{const s=r==="start"?i.pop():i.shift();if(!s)return;const a=this._getBarItemKeyByItemKey(s.itemKey);this.scrollTabItemIntoViewByKey(a)},this.renderCollapse=(i,r,s)=>{var a;const o=le({[`${fi.TABS_BAR}-arrow-${s}`]:s,[`${fi.TABS_BAR}-arrow`]:!0});if(Hr(i))return M.createElement("div",{role:"presentation",className:o},M.createElement(Xl,{disabled:!0,icon:r,theme:"borderless"}));const{dropdownClassName:l,dropdownStyle:u,showRestInDropdown:c,dropdownProps:d}=this.props,{rePosKey:h}=this.state,f=!i.length,p=M.createElement(ja.Menu,null,i.map(_=>{const{icon:y,tab:x,itemKey:w}=_,T=y?this.renderIcon(_.icon):null;return M.createElement(ja.Item,{key:w,onClick:E=>this.handleItemClick(w,E),active:this._isActive(w)},T,x)})),g=M.createElement("div",{role:"presentation",className:o,onClick:_=>this.handleArrowClick(i,s)},M.createElement(Xl,{disabled:f,icon:r,theme:"borderless"})),m=le(l,{[`${fi.TABS_BAR}-dropdown`]:!0}),v=(a=d==null?void 0:d[s])!==null&&a!==void 0?a:{};return M.createElement(M.Fragment,null,c?M.createElement(ja,Object.assign({className:m,clickToHide:!0,clickTriggerToHide:!0,key:`${h}-${s}`,position:s==="start"?"bottomLeft":"bottomRight",render:f?null:p,showTick:!0,style:u,trigger:"hover",disableFocusListener:!0},v),g):g)},this.renderOverflow=i=>i.map((r,s)=>{const a=s===0?"start":"end",o=s===0?M.createElement(nj,null):M.createElement(UP,null),l=this.renderCollapse(r,o,a);return this.props.renderArrow?this.props.renderArrow(r,a,()=>this.handleArrowClick(r,a),l):l}),this.renderCollapsedTab=()=>{const{list:i}=this.props,r=i.map(s=>{const{itemKey:a}=s;return Object.assign({key:this._getBarItemKeyByItemKey(a),active:this._isActive(a)},s)});return M.createElement(wC,{items:r,overflowRenderDirection:this.props.arrowPosition,wrapperStyle:this.props.visibleTabsStyle,overflowRenderer:this.renderOverflow,renderMode:"scroll",className:`${fi.TABS_BAR}-overflow-list`,visibleItemRenderer:this.renderTabItem,onVisibleStateChange:s=>{var a,o;const l=new Map;s.forEach((u,c)=>{l.set(this._getItemKeyByBarItemKey(c),u)}),this.isFirstShowInViewport&&Array.from(l.values()).some(c=>c)&&(this.scrollActiveTabItemIntoView("nearest","auto"),this.isFirstShowInViewport=!1),(o=(a=this.props).onVisibleTabsChange)===null||o===void 0||o.call(a,l)}})},this.renderWithMoreTrigger=()=>{const{list:i,more:r}=this.props;let s=[],a=M.createElement("div",{className:le({[`${fi.TABS_BAR}-more-trigger`]:!0,[`${fi.TABS_BAR}-more-trigger-${this.props.type}`]:!0})},M.createElement(Qr,{componentName:"Tabs"},(l,u)=>M.createElement("div",{className:`${fi.TABS_BAR}-more-trigger-content`},M.createElement("div",null,l.more),M.createElement(k1,{className:`${fi.TABS_BAR}-more-trigger-content-icon`})))),o;if(typeof r=="number")o=i.length-Math.min(r,i.length),s=i.slice(0,o).map(l=>this.renderTabItem(l));else if(typeof r=="object")o=i.length-Math.min(r.count,i.length),s=i.slice(0,o).map(l=>this.renderTabItem(l)),r.render&&(a=r.render());else if(r!==void 0)throw new Error("[Semi Tabs]: invalid tab props format: more");return M.createElement(M.Fragment,null,s,this.renderMoreDropdown(i.slice(o),r==null?void 0:r.dropdownProps,a))},this.renderMoreDropdown=(i,r,s)=>M.createElement(ja,Object.assign({trigger:"hover",showTick:!0,position:"bottomLeft",className:`${fi.TABS_BAR}-more-dropdown-${this.props.type}`,clickToHide:!0,menu:i.map(a=>({node:"item",name:a.tab,icon:a.icon,onClick:o=>this.props.onTabClick(a.itemKey,o),active:this.props.activeKey===a.itemKey}))},r),s),this._isActive=i=>i===this.props.activeKey,this._getBarItemKeyByItemKey=i=>`${i}-bar`,this._getItemKeyByBarItemKey=i=>i.replace(/-bar$/,""),this.state={endInd:e.list.length,rePosKey:0,startInd:0,uuid:"",currentVisibleItems:[]},this.isFirstShowInViewport=!0}componentDidMount(){this.setState({uuid:cA()})}componentDidUpdate(e){e.activeKey!==this.props.activeKey&&this.props.collapsible&&this.scrollActiveTabItemIntoView()}renderIcon(e){return M.createElement("span",null,e)}renderExtra(){const{tabBarExtraContent:e,type:t,size:i}=this.props,r={float:"right"},s=e&&e.props?e.props.style:{},a=le(fi.TABS_BAR_EXTRA,{[`${fi.TABS_BAR}-${t}-extra`]:t,[`${fi.TABS_BAR}-${t}-extra-${i}`]:i});if(e){const o=Object.assign(Object.assign({},r),s);return M.createElement("div",{className:a,style:o,"x-semi-prop":"tabBarExtraContent"},e)}return null}render(){const e=this.props,{type:t,style:i,className:r,list:s,tabPosition:a,more:o,collapsible:l}=e,u=kFt(e,["type","style","className","list","tabPosition","more","collapsible"]),c=le(r,{[fi.TABS_BAR]:!0,[fi.TABS_BAR_LINE]:t==="line",[fi.TABS_BAR_CARD]:t==="card",[fi.TABS_BAR_BUTTON]:t==="button",[fi.TABS_BAR_SLASH]:t==="slash",[`${fi.TABS_BAR}-${a}`]:a,[`${fi.TABS_BAR}-collapse`]:l}),d=this.renderExtra(),h=l?this.renderCollapsedTab():o?this.renderWithMoreTrigger():this.renderTabComponents(s);return M.createElement("div",Object.assign({role:"tablist","aria-orientation":a==="left"?"vertical":"horizontal",className:c,style:i},h0(u),{"data-uuid":this.state.uuid}),h,d)}}y8.propTypes={activeKey:S.string,className:S.string,collapsible:S.bool,list:S.array,onTabClick:S.func,size:S.oneOf(Iw.SIZE),style:S.object,tabBarExtraContent:S.node,tabPosition:S.oneOf(Iw.POSITION_MAP),type:S.oneOf(Iw.TYPE_MAP),closable:S.bool,deleteTabItem:S.func,more:S.oneOfType([S.number,S.object])};const _Ae=M.createContext({});var OFt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};class Tm extends q.PureComponent{constructor(){super(...arguments),this.ref=q.createRef(),this.getDirection=(e,t,i,r)=>{if(t!==null&&e!==null&&Array.isArray(i)&&i.length){const s=i.findIndex(l=>l.itemKey===e),a=i.findIndex(l=>l.itemKey===t),o=i.findIndex(l=>l.itemKey===r);return s===a?o>s:a<s}return!1},this.shouldRender=()=>{const{itemKey:e}=this.props,{activeKey:t,lazyRender:i}=this.context,r=t===e;return this._active=this._active||r,i?this._active:!0}}render(){const{tabPaneMotion:e,tabPosition:t,prevActiveKey:i}=this.context,r=this.props,{className:s,style:a,children:o,itemKey:l,tabIndex:u}=r,c=OFt(r,["className","style","children","itemKey","tabIndex"]),d=this.context.activeKey===l,h=le(s,{[fi.TABS_PANE_INACTIVE]:!d,[fi.TABS_PANE_ACTIVE]:d,[fi.TABS_PANE]:!0}),f=this.shouldRender(),p=(()=>{const v=this.getDirection(this.context.activeKey,l,this.context.panes,i);return t==="top"?v?fi.TABS_PANE_ANIMATE_RIGHT_SHOW:fi.TABS_PANE_ANIMATE_LEFT_SHOW:v?fi.TABS_PANE_ANIMATE_BOTTOM_SHOW:fi.TABS_PANE_ANIMATE_TOP_SHOW})(),g=!this.context.panes.find(v=>v.itemKey===i),m=e&&d&&!g&&!this.context.forceDisableMotion;return M.createElement("div",Object.assign({ref:this.ref,role:"tabpanel",id:`semiTabPanel${l}`,"aria-labelledby":`semiTab${l}`,className:h,style:a,"aria-hidden":d?"false":"true",tabIndex:u||0},h0(c),{"x-semi-prop":"children"}),M.createElement(pC,{motion:m,animationState:d?"enter":"leave",startClassName:p},v=>{let{animationClassName:_,animationEventsNeedBind:y}=v;return M.createElement("div",Object.assign({className:le(fi.TABS_PANE_MOTION_OVERLAY,_),"x-semi-prop":"children"},y),f?o:null)}))}}Tm.isTabPane=!0;Tm.contextType=_Ae;Tm.propTypes={className:S.string,style:S.object,children:S.node,disabled:S.bool,itemKey:S.string,tab:S.node,icon:S.node,closable:S.bool};var PFt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const Vue=["className","style","disabled","itemKey","tab","icon"];class Fy extends An{constructor(e){super(e),this.setContentRef=t=>{this.contentRef={current:t}},this.getPanes=()=>{const{tabList:t,children:i}=this.props;return Array.isArray(t)&&t.length?t:M.Children.map(i,r=>{if(r){const{tab:s,icon:a,disabled:o,itemKey:l,closable:u}=r.props;return{tab:s,icon:a,disabled:o,itemKey:l,closable:u}}})},this.onTabClick=(t,i)=>{this.foundation.handleTabClick(t,i)},this.rePosChildren=(t,i)=>{const r=[],s=M.Children.toArray(t);return t.length&&(r.push(...s.filter(a=>a.props&&a.props.itemKey===i)),r.push(...s.filter(a=>a.props&&a.props.itemKey!==i))),r},this.getActiveItem=()=>{const{activeKey:t}=this.state,{children:i,tabList:r}=this.props;return r||!Array.isArray(i)?i:M.Children.toArray(i).filter(s=>q.isValidElement(s)&&s.type&&s.type.isTabPane?s.props.itemKey===t:!0)},this.deleteTabItem=(t,i)=>{i.stopPropagation(),this.foundation.handleTabDelete(t)},this.foundation=new TFt(this.adapter),this.state={activeKey:this.foundation.getDefaultActiveKey(),panes:this.getPanes(),prevActiveKey:null,forceDisableMotion:!1},this.contentRef=q.createRef(),this.contentHeight="auto"}get adapter(){return Object.assign(Object.assign({},super.adapter),{collectPane:()=>{const e=this.getPanes();this.setState({panes:e})},collectActiveKey:()=>{const{tabList:e,children:t,activeKey:i}=this.props;if(typeof i<"u")return;const{activeKey:r}=this.state,s=this.getPanes();s.findIndex(a=>a.itemKey===r)===-1&&(s.length>0?this.setState({activeKey:s[0].itemKey}):this.setState({activeKey:""}))},notifyTabClick:(e,t)=>{this.props.onTabClick(e,t)},notifyChange:e=>{this.props.onChange(e)},setNewActiveKey:e=>{this.setState({activeKey:e})},getDefaultActiveKeyFromChildren:()=>{const{tabList:e,children:t}=this.props;let i="";return(e||M.Children.toArray(t).map(s=>q.isValidElement(s)?s.props:null)).forEach(s=>{s&&!i&&!s.disabled&&(i=s.itemKey)}),i},notifyTabDelete:e=>{this.props.onTabClose&&this.props.onTabClose(e)}})}static getDerivedStateFromProps(e,t){const i={};return!br(e.activeKey)&&e.activeKey!==t.activeKey&&(t.prevActiveKey=t.activeKey,i.activeKey=e.activeKey),i}componentDidUpdate(e,t){const i=M.Children.toArray(e.children).map(a=>Eu(q.isValidElement(a)?a.props:null,Vue)),r=M.Children.toArray(this.props.children).map(a=>Eu(q.isValidElement(a)?a.props:null,Vue)),s=this.props.tabList||e.tabList;if(Kn(this.props.tabList,e.tabList)||this.foundation.handleTabListChange(),t.activeKey!==this.state.activeKey&&t.activeKey!==this.state.prevActiveKey&&this.setState({prevActiveKey:t.activeKey}),e.activeKey!==this.props.activeKey){const a=(()=>{const o=new Set(i.map(l=>l.itemKey));return r.map(l=>l.itemKey).filter(l=>!o.has(l))})();this.setState({forceDisableMotion:a.includes(this.props.activeKey)})}!Kn(i,r)&&!s&&this.foundation.handleTabPanesChange()}render(){const e=this.props,{children:t,className:i,collapsible:r,contentStyle:s,keepDOM:a,lazyRender:o,renderTabBar:l,showRestInDropdown:u,size:c,style:d,tabBarClassName:h,tabBarExtraContent:f,tabBarStyle:p,tabPaneMotion:g,tabPosition:m,type:v,more:_,onVisibleTabsChange:y,visibleTabsStyle:x,arrowPosition:w,renderArrow:T,dropdownProps:E}=e,A=PFt(e,["children","className","collapsible","contentStyle","keepDOM","lazyRender","renderTabBar","showRestInDropdown","size","style","tabBarClassName","tabBarExtraContent","tabBarStyle","tabPaneMotion","tabPosition","type","more","onVisibleTabsChange","visibleTabsStyle","arrowPosition","renderArrow","dropdownProps"]),{panes:k,activeKey:P}=this.state,I=le(i,{[fi.TABS]:!0,[`${fi.TABS}-${m}`]:m}),D=le({[fi.TABS_CONTENT]:!0,[`${fi.TABS_CONTENT}-${m}`]:m}),L={activeKey:P,className:h,collapsible:r,list:k,onTabClick:this.onTabClick,showRestInDropdown:u,size:c,style:p,tabBarExtraContent:f,tabPosition:m,type:v,deleteTabItem:this.deleteTabItem,handleKeyDown:this.foundation.handleKeyDown,more:_,onVisibleTabsChange:y,visibleTabsStyle:x,arrowPosition:w,renderArrow:T,dropdownProps:E},B=l?l(L,y8):M.createElement(y8,Object.assign({},L)),F=a?t:this.getActiveItem();return M.createElement("div",Object.assign({className:I,style:d},this.getDataAttr(A)),B,M.createElement(_Ae.Provider,{value:{activeKey:P,lazyRender:o,panes:k,tabPaneMotion:g,tabPosition:m,prevActiveKey:this.state.prevActiveKey,forceDisableMotion:this.state.forceDisableMotion}},M.createElement("div",{ref:this.setContentRef,className:D,style:Object.assign({},s)},F)))}}Fy.TabPane=Tm;Fy.TabItem=Lq;Fy.propTypes={activeKey:S.string,className:S.string,collapsible:S.bool,contentStyle:S.oneOfType([S.object]),defaultActiveKey:S.string,keepDOM:S.bool,lazyRender:S.bool,onChange:S.func,onTabClick:S.func,renderTabBar:S.func,showRestInDropdown:S.bool,size:S.oneOf(Iw.SIZE),style:S.object,tabBarClassName:S.string,tabBarExtraContent:S.node,tabBarStyle:S.object,tabList:S.array,tabPaneMotion:S.bool,tabPosition:S.oneOf(Iw.POSITION_MAP),type:S.oneOf(Iw.TYPE_MAP),onTabClose:S.func,preventScroll:S.bool,more:S.oneOfType([S.number,S.object]),arrowPosition:S.string,renderArrow:S.func,dropdownProps:S.object};Fy.__SemiComponentName__="Tabs";Fy.defaultProps=Du(Fy.__SemiComponentName__,{children:[],collapsible:!1,keepDOM:!0,lazyRender:!1,onChange:()=>{},onTabClick:()=>{},size:"large",tabPaneMotion:!0,tabPosition:"top",type:"line",onTabClose:()=>{},showRestInDropdown:!0,arrowPosition:"both"});const nD=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:va.DEFAULT_FORMAT,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:kX;if(n instanceof Date)return n;if(typeof n=="number")return new Date(Qd(n));if(typeof n=="string"){if(n==="")return;let i=new Date;return i=l1e(n,e,i,{locale:t}),i}else if(typeof n>"u")return;return new Date},iD=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:va.DEFAULT_FORMAT,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:kX;return _r(n,e,{locale:t})},MFt=(n,e)=>{if(typeof n=="function"){const t=n();if(Array.isArray(t)&&!br(e)&&t.some(i=>Qd(i)===Qd(e)))return!0}return!1},IFt=(n,e,t)=>{if(typeof n=="function"){const i=n(e);if(Array.isArray(i)&&!br(e)&&!br(t)&&i.some(r=>Qd(r)===Qd(t)))return!0}return!1},RFt=(n,e,t,i)=>{if(typeof n=="function"){const r=n(e,t);if(Array.isArray(r)&&!br(e)&&!br(t)&&!br(i)&&r.some(s=>Qd(s)===Qd(i)))return!0}return!1},d4=n=>Array.isArray(n)?[...n]:[],DFt=(n,e)=>{let t=!0;const i="BDEGHKLMOPQRSTXYabcehimopqstuwxyz",r=new RegExp(`[${i}]`,"g"),s=new RegExp(`[^${i}]`,"g"),a=/[H|m|s]{1,2}/,o=e.split(s),l=e.replace(r,""),u=new RegExp(`[${l}]`,"g"),c=n.split(u);if(o.length!==c.length)t=!1;else for(let d=0,h=c.length;d<h;d++){const f=o[d],p=c[d];if(a.test(f)&&p.length<f.length){t=!1;break}}return t};let LFt=class extends jn{constructor(e){super(Object.assign({},e))}init(){this.initDataFromDefaultValue(),(this._isControlledComponent("open")?this.getProp("open"):this.getProp("defaultOpen"))&&!this._isControlledComponent("open")&&this._adapter.registerClickOutSide()}getPosition(){const e=this.getProp("position"),t=this.getProp("type")||va.DEFAULT_TYPE,r=this.getContext("direction")==="rtl"?"bottomRight":"";return e||r||va.DEFAULT_POSITION[t]}isDisabledHMS(e){let{hours:t,minutes:i,seconds:r}=e;const{disabledHours:s,disabledMinutes:a,disabledSeconds:o}=this.getProps(),l=!br(t)&&MFt(s,t),u=!br(t)&&!br(i)&&IFt(a,t,i),c=!br(t)&&!br(i)&&!br(r)&&RFt(o,t,i,r);return l||u||c}isValidTimeZone(e){return["string","number"].includes(typeof e)&&e!==""}getDefaultFormatIfNeed(){return this._isInProps("format")?this.getProp("format"):this.getProp("use12Hours")?va.DEFAULT_FORMAT_A:va.DEFAULT_FORMAT}initDataFromDefaultValue(){const e=this.getProp("defaultValue");let t=this.getProp("value");const i=this.getProp("timeZone"),r=this.getValidFormat(),{rangeSeparator:s,dateFnsLocale:a}=this.getProps();t=t||e,Array.isArray(t)||(t=t?[t]:[]);const o=[];let l=!1;t.forEach(d=>{const h=nD(d,r,a);isNaN(h.getTime())||o.push(this.isValidTimeZone(i)?i8(h,i):h)});const u=[!0,!1];o.map((d,h)=>{u[h]=ybt(d)<12}),o.length===t.length?t=o:(t=[],t.length&&(l=!0));let c="";l||(c=t.map(d=>iD(d,r,a)).join(s)),this.setState({isAM:u,value:t,inputValue:c,invalid:l})}getValidFormat(e){let t=e;return br(t)&&(t=this.getDefaultFormatIfNeed()),typeof t!="string"&&(t=va.DEFAULT_FORMAT),t}handlePanelChange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const i=this.getValidFormat(),r=this.getProp("dateFnsLocale"),s=this.getState("value");let a=this.getState("isAM");const o=d4(s);if(a=d4(a),e){const l=!!e.isAM,u=nD(e.timeStampValue,i,r);o[t]=u,a[t]=l;const c=this.formatValue(o);if(this.getState("isAM")[t]!==e.isAM&&this.setState({isAM:a}),!this._isControlledComponent("value")){const d=this.validateDates(o);this.setState({isAM:a,value:o,inputValue:c,invalid:d})}this._hasChanged(o,s)&&this._notifyChange(o,c)}}refreshProps(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{value:t,timeZone:i,__prevTimeZone:r}=e;let s=this.parseValue(t),a=s.some(l=>isNaN(Number(l)));a||(this.isValidTimeZone(i)&&(s=s.map(l=>i8(this.isValidTimeZone(r)?Pw(l,r):l,i))),a=s.some(l=>this.isDisabledHMS({hours:l.getHours(),minutes:l.getMinutes(),seconds:l.getSeconds()})));const o=this.formatValue(s);this.setState({value:s,invalid:a,inputValue:o})}handleFocus(e){this.getState("open")||this.handlePanelOpen(),this._adapter.notifyFocus(e)}setPanel(e){this._adapter.togglePanel(e)}destroy(){this._adapter.unregisterClickOutSide()}handlePanelOpen(){this._isControlledComponent("open")||(this._adapter.registerClickOutSide(),this.setPanel(!0)),this._adapter.notifyOpenChange(!0)}handlePanelClose(e,t){this._isControlledComponent("open")||(this._adapter.unregisterClickOutSide(),this.setPanel(!1)),this._adapter.notifyOpenChange(!1),this._adapter.notifyBlur(t)}handleVisibleChange(e){this._isControlledComponent("open")||this._adapter.togglePanel(e),this._adapter.notifyOpenChange(e)}handleInputChange(e){this._adapter.setInputValue(e);const t=this.getProp("rangeSeparator"),i=mA(e,t),r=this.getValidFormat();if(e!==""&&i.some(c=>!DFt(c,r)))return;const s=this.parseInput(e),a=this.validateDates(s),o={invalid:a},l=this.getState("value");let u=d4(l);a||(o.value=s,u=[...s]),this._isControlledComponent("value")||this.setState(o),this._hasChanged(u,l)&&this._notifyChange(u,e)}doValidate(e){if(typeof e=="string")return this.validateStr(e);if(Array.isArray(e))return this.validateDates(e)}validateStr(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const t=this.parseInput(e);return this.validateDates(t)}validateDates(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=e.some(i=>isNaN(Number(i)));return t||(t=e.some(i=>this.isDisabledHMS({hours:i.getHours(),minutes:i.getMinutes(),seconds:i.getSeconds()}))),t}handleInputBlur(e){const t=this.getState("invalid"),i=this.getState("inputValue"),r=this.getState("value");i?t?this.setState({inputValue:this.formatValue(r),invalid:!1}):this.setState({inputValue:this.formatValue(r)}):this.setState({inputValue:"",value:[],invalid:!1})}formatValue(e){const t=this.getValidFormat(),i=this.getProp("rangeSeparator"),r=this.getProp("dateFnsLocale");let s=e;if(s&&!Array.isArray(s)&&(s=s[s]),s&&Array.isArray(s))return s.map(o=>{let l;return lr(o)?l="":l=iD(o,t,r),l}).join(i)}parseInput(e){const t=this.getValidFormat(),i=this.getProp("rangeSeparator"),r=this.getProp("dateFnsLocale");return e&&typeof e=="string"?mA(e,i).map(s=>nD(s,t,r)):[]}parseValue(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=this.getValidFormat(),i=this.getProp("dateFnsLocale");let r=e;return Array.isArray(r)||(r=r?[r]:[]),Array.isArray(r)?r.map(s=>nD(s,t,i)):[]}_notifyChange(e,t){let i=t,r=e;const s=this.getProp("timeZone");if(this._adapter.isRangePicker()){const o=this.getProp("rangeSeparator");i=mA(t,o)}else r=Array.isArray(r)?r[0]:r;if(this.isValidTimeZone(s)&&r){const o=this.getValidFormat();Array.isArray(r)?(r=r.map(l=>Pw(l,s)),i=r.map(l=>_r(l,o))):(r=Pw(r,s),i=_r(r,o))}this.getProp("onChangeWithDateFirst")?this._adapter.notifyChange(r,i):this._adapter.notifyChange(i,r)}_hasChanged(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const i=this.getValidFormat(),r=this.getProp("dateFnsLocale");return e.length!==t.length||e.some((s,a)=>{const o=t[a];return!(Jd(s)&&Jd(o)&&iD(s,i,r)===iD(o,i,r))})}};class FFt extends jn{constructor(e){super(Object.assign({},e))}init(){}destroy(){}handleFocus(e){this.storeCursor(),this._adapter.notifyFocus(e)}handleChange(e){this.storeCursor(),this._adapter.notifyChange(e)}handleBlur(e){this.clearCursor(),this._adapter.notifyBlur(e)}storeCursor(){const e=this.getCache("inputNode");if(e){const{selectionStart:t}=e;this.setCache("cursorIndex",t)}}restoreCursor(){const e=this.getCache("inputNode"),t=this.getCache("cursorIndex");e&&!br(t)&&(e.selectionStart=t,e.selectionEnd=t)}clearCursor(){this.setCache("cursorIndex",null),this.setCache("beforeStr",null),this.setCache("afterStr",null)}}var BFt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};class Fq extends An{constructor(e){super(e),this.setRef=t=>this.adapter.setCache("inputNode",t),this.handleClick=t=>this.props.onClick(t),this.handleFocus=t=>this.foundation.handleFocus(t),this.handleBlur=t=>this.foundation.handleBlur(t),this.handleChange=t=>this.foundation.handleChange(t),this.foundation=new FFt(this.adapter),this.state={}}componentDidMount(){super.componentDidMount();const{focusOnOpen:e,preventScroll:t}=this.props;e&&(window.requestAnimationFrame||window.setTimeout)(()=>{const r=this.adapter.getCache("inputNode");r&&(r.focus({preventScroll:t}),r.select())})}componentDidUpdate(e){const{timeStampValue:t}=this.props;this.isControlled("timeStampValue")&&t!==this.state.timeStampValue&&this.foundation.restoreCursor(),this.props.value!==e.value&&this.foundation.restoreCursor()}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{notifyChange:function(){return e.props.onChange(...arguments)},notifyFocus:function(){return e.props.onFocus(...arguments)},notifyBlur:function(){return e.props.onBlur(...arguments)}})}getInput(){const e=this.props,{prefixCls:t,placeholder:i,inputReadOnly:r,onFocus:s,disabled:a,type:o,locale:l,localeCode:u,insetLabel:c,validateStatus:d,value:h,onChange:f,invalid:p,format:g,clearText:m,disabledHours:v,disabledMinutes:_,disabledSeconds:y,onEsc:x,defaultOpenValue:w,currentSelectPanel:T,focusOnOpen:E,timeStampValue:A,timeZone:k,defaultOpen:P,dateFnsLocale:I}=e,D=BFt(e,["prefixCls","placeholder","inputReadOnly","onFocus","disabled","type","locale","localeCode","insetLabel","validateStatus","value","onChange","invalid","format","clearText","disabledHours","disabledMinutes","disabledSeconds","onEsc","defaultOpenValue","currentSelectPanel","focusOnOpen","timeStampValue","timeZone","defaultOpen","dateFnsLocale"]),L=le(`${t}-input`,{[`${t}-input-invalid`]:p,[`${t}-input-readonly`]:r}),B=p?"error":d;return M.createElement(Gl,Object.assign({},D,{hideSuffix:!0,className:L,ref:this.setRef,value:h,placeholder:i||l.placeholder[o],readonly:!!r,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,suffix:M.createElement(g1e,{onClick:this.handleClick}),validateStatus:B,disabled:a,insetLabel:c}))}render(){const{prefixCls:e}=this.props;return M.createElement("div",{className:`${e}-input-wrap`},this.getInput())}}Fq.propTypes={borderless:S.bool,format:S.string,prefixCls:S.string,placeholder:S.string,clearText:S.string,inputReadOnly:S.bool,hourOptions:S.array,minuteOptions:S.array,secondOptions:S.array,disabledHours:S.func,disabledMinutes:S.func,disabledSeconds:S.func,onChange:S.func,onFocus:S.func,onBlur:S.func,onEsc:S.func,onClick:S.func,defaultOpenValue:S.object,currentSelectPanel:S.string,focusOnOpen:S.bool,timeStampValue:S.any,locale:S.object,localeCode:S.string,insetLabel:S.node,validateStatus:S.string,preventScroll:S.bool};Fq.defaultProps={borderless:!1,inputReadOnly:!1,onChange:be,onBlur:be,onFocus:be,onClick:be,disabledHours:be,disabledMinutes:be,disabledSeconds:be,format:va.DEFAULT_FORMAT};const Wue={panelHeader:S.oneOfType([S.node,S.string]),panelFooter:S.oneOfType([S.node,S.string])},$Ft={},NFt=[S.string,S.number,S.instanceOf(Date)],Uue=S.oneOfType([...NFt,S.arrayOf(S.string),S.arrayOf(S.number),S.arrayOf(S.instanceOf(Date))]);var jFt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};class B1 extends An{constructor(e){var t;super(e),t=this,this.onCurrentSelectPanelChange=r=>{this.setState({currentSelectPanel:r})},this.handlePanelChange=(r,s)=>this.foundation.handlePanelChange(r,s),this.handleInput=r=>this.foundation.handleInputChange(r),this.createPanelProps=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;const{panels:s,panelFooter:a,panelHeader:o,locale:l}=t.props,u={panelHeader:o,panelFooter:a};if(t.adapter.isRangePicker()){const c={0:l.begin,1:l.end};u.panelHeader=Ce(s,r,br(o)?Ce(c,r,null):Array.isArray(o)?o[r]:o),u.panelFooter=Ce(s,r,Array.isArray(a)?a[r]:a)}return u},this.handlePanelVisibleChange=r=>this.foundation.handleVisibleChange(r),this.openPanel=()=>{this.foundation.handlePanelOpen()},this.handleFocus=r=>{this.foundation.handleFocus(r)},this.handleBlur=r=>this.foundation.handleInputBlur(r),this.setTimePickerRef=r=>this.timePickerRef.current=r;const{format:i=va.DEFAULT_FORMAT}=e;this.state={open:e.open||e.defaultOpen||!1,value:[],inputValue:"",currentSelectPanel:0,isAM:[!0,!1],showHour:!!i.match(/HH|hh|H|h/g),showMinute:!!i.match(/mm/g),showSecond:!!i.match(/ss/g),invalid:void 0},this.foundation=new LFt(this.adapter),this.timePickerRef=M.createRef(),this.savePanelRef=M.createRef(),this.useCustomTrigger=typeof this.props.triggerRender=="function"}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{togglePanel:t=>{this.setState({open:t})},registerClickOutSide:()=>{this.clickOutSideHandler&&this.adapter.unregisterClickOutSide(),this.clickOutSideHandler=t=>{const i=this.savePanelRef&&this.savePanelRef.current,r=this.timePickerRef&&this.timePickerRef.current,s=t.target,a=t.composedPath&&t.composedPath()||[s];!(i&&i.contains(s))&&!(r&&r.contains(s))&&!(a.includes(r)||a.includes(i))&&this.foundation.handlePanelClose(!0,t)},document.addEventListener("mousedown",this.clickOutSideHandler)},setInputValue:(t,i)=>this.setState({inputValue:t},i),unregisterClickOutSide:()=>{this.clickOutSideHandler&&(document.removeEventListener("mousedown",this.clickOutSideHandler),this.clickOutSideHandler=null)},notifyOpenChange:function(){return e.props.onOpenChange(...arguments)},notifyChange:(t,i)=>this.props.onChange&&this.props.onChange(t,i),notifyFocus:function(){return e.props.onFocus&&e.props.onFocus(...arguments)},notifyBlur:function(){return e.props.onBlur&&e.props.onBlur(...arguments)},isRangePicker:()=>this.props.type===va.TYPE_TIME_RANGE_PICKER})}static getDerivedStateFromProps(e,t){return"open"in e&&e.open!==t.open?{open:e.open}:null}componentDidUpdate(e){this.isControlled("value")&&this.props.value!==e.value?this.foundation.refreshProps(Object.assign({},this.props)):this.props.timeZone!==e.timeZone&&this.foundation.refreshProps({timeZone:this.props.timeZone,__prevTimeZone:e.timeZone,value:this.state.value})}getPanelElement(){const{prefixCls:e,type:t}=this.props,{isAM:i,value:r}=this.state,s=this.foundation.getDefaultFormatIfNeed(),a=[M.createElement(rO,Object.assign({},this.props,{key:0,format:s,isAM:i[0],timeStampValue:r[0],prefixCls:`${e}-panel`,onChange:l=>this.handlePanelChange(l,0),onCurrentSelectPanelChange:this.onCurrentSelectPanelChange},this.createPanelProps(0)))];t===va.TYPE_TIME_RANGE_PICKER&&a.push(M.createElement(rO,Object.assign({},this.props,{key:1,format:s,isAM:i[1],timeStampValue:r[1],prefixCls:`${e}-panel`,onChange:l=>this.handlePanelChange(l,1),onCurrentSelectPanelChange:this.onCurrentSelectPanelChange},this.createPanelProps(1))));const o=le({[s8.RANGE_PANEL_LISTS]:this.adapter.isRangePicker()});return M.createElement("div",{ref:this.savePanelRef,className:o},a.map(l=>l))}getPopupClassName(){const{use12Hours:e,prefixCls:t,popupClassName:i}=this.props,{showHour:r,showMinute:s,showSecond:a}=this.state;let o=0;return r&&(o+=1),s&&(o+=1),a&&(o+=1),e&&(o+=1),le(`${t}-panel`,i,{[`${t}-panel-narrow`]:(!r||!s||!a)&&!e,[s8.RANGE_PICKER]:this.adapter.isRangePicker()},`${t}-panel-column-${o}`)}focus(){}blur(){}render(){const e=this.props,{prefixCls:t,placeholder:i,disabled:r,defaultValue:s,dropdownMargin:a,className:o,popupStyle:l,size:u,style:c,locale:d,localeCode:h,zIndex:f,getPopupContainer:p,insetLabel:g,insetLabelId:m,inputStyle:v,showClear:_,panelHeader:y,panelFooter:x,rangeSeparator:w,onOpenChange:T,onChangeWithDateFirst:E,popupClassName:A,hideDisabledOptions:k,use12Hours:P,minuteStep:I,hourStep:D,secondStep:L,scrollItemProps:B,triggerRender:F,motion:$,autoAdjustOverflow:z,stopPropagation:N}=e,V=jFt(e,["prefixCls","placeholder","disabled","defaultValue","dropdownMargin","className","popupStyle","size","style","locale","localeCode","zIndex","getPopupContainer","insetLabel","insetLabelId","inputStyle","showClear","panelHeader","panelFooter","rangeSeparator","onOpenChange","onChangeWithDateFirst","popupClassName","hideDisabledOptions","use12Hours","minuteStep","hourStep","secondStep","scrollItemProps","triggerRender","motion","autoAdjustOverflow","stopPropagation"]),H=this.foundation.getDefaultFormatIfNeed(),K=this.foundation.getPosition(),{open:U,inputValue:X,invalid:Z,value:Q}=this.state,se=this.getPopupClassName(),ae=le({[`${t}-header`]:!0}),ue=le({[`${t}-panel`]:!0,[`${t}-panel-${u}`]:u}),oe=Object.assign(Object.assign({},V),{disabled:r,prefixCls:t,size:u,showClear:r?!1:_,style:v,value:X,onFocus:this.handleFocus,insetLabel:g,insetLabelId:m,format:H,locale:d,localeCode:h,invalid:Z,placeholder:i,onChange:this.handleInput,onBlur:this.handleBlur}),re={};return this.useCustomTrigger&&(re.onClick=this.openPanel),M.createElement("div",Object.assign({ref:this.setTimePickerRef,className:le({[t]:!0},o),style:c},re),M.createElement(Ko,{getPopupContainer:p,zIndex:f,prefixCls:ue,contentClassName:se,style:l,content:this.getPanelElement(),trigger:"custom",position:K,visible:r?!1:!!U,motion:$,margin:a,autoAdjustOverflow:z,stopPropagation:N},this.useCustomTrigger?M.createElement(z0,{triggerRender:F,disabled:r,value:Q,inputValue:X,onChange:this.handleInput,placeholder:i,componentName:"TimePicker",componentProps:Object.assign({},this.props)}):M.createElement("span",{className:ae},M.createElement(Fq,Object.assign({},oe)))))}}B1.contextType=Ql;B1.propTypes=Object.assign(Object.assign({"aria-labelledby":S.string,"aria-invalid":S.bool,"aria-errormessage":S.string,"aria-describedby":S.string,"aria-required":S.bool,prefixCls:S.string,borderless:S.bool,clearText:S.string,clearIcon:S.node,value:Uue,inputReadOnly:S.bool,disabled:S.bool,showClear:S.bool,defaultValue:Uue,open:S.bool,defaultOpen:S.bool,onOpenChange:S.func,position:S.any,getPopupContainer:S.func,placeholder:S.string,format:S.string,style:S.object,className:S.string,popupClassName:S.string,popupStyle:S.object,disabledHours:S.func,disabledMinutes:S.func,disabledSeconds:S.func,dropdownMargin:S.oneOfType([S.number,S.object]),hideDisabledOptions:S.bool,onChange:S.func,use12Hours:S.bool,hourStep:S.number,minuteStep:S.number,secondStep:S.number,focusOnOpen:S.bool,autoFocus:S.bool,size:S.oneOf(va.SIZE),stopPropagation:S.bool,panels:S.arrayOf(S.shape(Wue)),onFocus:S.func,onBlur:S.func,locale:S.object,localeCode:S.string,dateFnsLocale:S.object,zIndex:S.oneOfType([S.number,S.string]),insetLabel:S.node,insetLabelId:S.string,validateStatus:S.oneOf(va.STATUS),type:S.oneOf(va.TYPES),rangeSeparator:S.string,triggerRender:S.func,timeZone:S.oneOfType([S.string,S.number]),scrollItemProps:S.object,motion:S.oneOfType([S.bool,S.func,S.object]),autoAdjustOverflow:S.bool},Wue),{inputStyle:S.object,preventScroll:S.bool});B1.defaultProps=Object.assign({autoAdjustOverflow:!0,borderless:!1,getPopupContainer:()=>document.body,showClear:!0,zIndex:mc.DEFAULT_Z_INDEX,rangeSeparator:va.DEFAULT_RANGE_SEPARATOR,onOpenChange:be,clearText:"clear",prefixCls:s8.PREFIX,inputReadOnly:!1,style:{},stopPropagation:!0,className:"",popupClassName:"",popupStyle:{left:"0px",top:"0px"},disabledHours:()=>[],disabledMinutes:()=>[],disabledSeconds:()=>[],hideDisabledOptions:!1,onFocus:be,onBlur:be,onChange:be,onChangeWithDateFirst:!0,use12Hours:!1,focusOnOpen:!1,onKeyDown:be,size:"default",type:va.DEFAULT_TYPE,motion:!0},$Ft);class uO extends M.PureComponent{render(){const{type:e}=this.props;return M.createElement(Ql.Consumer,null,t=>{let{timeZone:i}=t;return M.createElement(Qr,{componentName:"TimePicker"},(r,s,a)=>M.createElement(B1,Object.assign({timeZone:i,placeholder:Ce(r,["placeholder",e])},this.props,{locale:r,localeCode:s,dateFnsLocale:a})))})}}uO.propTypes=B1.propTypes;uO.__SemiComponentName__="TimePicker";uO.defaultProps=Du(uO.__SemiComponentName__,B1.defaultProps);function h4(n){return jCe(n,e=>{if(wCe(e)&&!e._innerDataTag||M.isValidElement(e))return e})}const zFt=z1e.PREFIX;class Bq extends q.PureComponent{constructor(e){super(e),this._onResize=t=>{const i=t&&t[1]&&t[1].target;if(i){const r=Ce(i,"offsetHeight")||0,s=window.getComputedStyle(i)||{},a=parseInt(Ce(s,"paddingTop"),10)||0,o=parseInt(Ce(s,"paddingBottom"),10)||0,l=r-a-o;this.state.height!==l&&this.setState({height:r-a-o})}},this.state={height:this.props.defaultHeight||0}}componentDidMount(){const{height:e}=this.state}render(){const{children:e,defaultWidth:t,defaultHeight:i}=this.props,{height:r}=this.state;let s=!1;return(r===0||typeof r!="number")&&(s=!0),M.createElement(Ay,{observeParent:!0,onResize:this._onResize},M.createElement("div",{style:{height:i,overflow:"visible"},className:`${zFt}-auto-wrapper`},!s&&e({height:r,width:t})))}}Bq.propTypes={defaultHeight:S.oneOfType([S.number,S.string]),defaultWidth:S.oneOfType([S.number,S.string])};Bq.defaultProps={defaultHeight:"100%",defaultWidth:"100%"};const $q=M.createContext(null),HFt=n=>{let{prefixcls:e,level:t,isEnd:i,showLine:r}=n;const s=`${e}-indent-unit`,a=[];for(let o=0;o<t;o+=1)a.push(q.createElement("span",{key:o,className:le(s,{[`${s}-end`]:i[o]})}));return q.createElement("span",{"aria-hidden":"true",className:le(`${e}-indent`,{[`${e}-indent-show-line`]:r})},a)},VFt=q.memo(HFt);var WFt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const Xi=z1e.PREFIX_OPTION;class Rw extends q.PureComponent{constructor(e){super(e),this.onSelect=t=>{const{onNodeSelect:i}=this.context;i(t,this.props)},this.onExpand=t=>{const{onNodeExpand:i}=this.context;t&&t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),i(t,this.props)},this.onCheck=t=>{var i,r;if(this.isDisabled())return;const{onNodeCheck:s}=this.context;t.stopPropagation(),(r=(i=t.nativeEvent)===null||i===void 0?void 0:i.stopImmediatePropagation)===null||r===void 0||r.call(i),s(t,this.props)},this.handleCheckEnterPress=t=>{gc(t)&&this.onCheck(t)},this.onContextMenu=t=>{const{onNodeRightClick:i}=this.context;i(t,this.props)},this.onClick=t=>{const{expandAction:i}=this.context;if(i==="doubleClick"){this.debounceSelect(t);return}this.onSelect(t),i==="click"&&this.onExpand(t)},this.handleliEnterPress=t=>{gc(t)&&this.onClick(t)},this.onDoubleClick=t=>{const{expandAction:i,onNodeDoubleClick:r}=this.context;t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),Mn(r)&&r(t,this.props),i==="doubleClick"&&this.onExpand(t)},this.onDragStart=t=>{const{onNodeDragStart:i}=this.context;t.stopPropagation(),i(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}));try{t.dataTransfer.setData("text/plain","")}catch{}},this.onDragEnter=t=>{const{onNodeDragEnter:i}=this.context;t.preventDefault(),t.stopPropagation(),i(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.onDragOver=t=>{const{onNodeDragOver:i}=this.context;t.preventDefault(),t.stopPropagation(),i(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.onDragLeave=t=>{const{onNodeDragLeave:i}=this.context;t.stopPropagation(),i(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.onDragEnd=t=>{const{onNodeDragEnd:i}=this.context;t.stopPropagation(),i(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.onDrop=t=>{const{onNodeDrop:i}=this.context;t.preventDefault(),t.stopPropagation(),i(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.getNodeChildren=()=>{const{children:t}=this.props;return t||[]},this.isLeaf=()=>{const{isLeaf:t,loaded:i}=this.props,{loadData:r}=this.context,s=this.getNodeChildren().length!==0;return t===!1?!1:t||!r&&!s||r&&i&&!s},this.isDisabled=()=>{const{disabled:t}=this.props,{treeDisabled:i}=this.context;return t===!1?!1:!!(i||t)},this.renderSwitcher=()=>this.isLeaf()?M.createElement("span",{className:le(`${Xi}-switcher`)},M.createElement("span",{className:`${Xi}-switcher-leaf-line`})):null,this.renderRealLabel=()=>{const{renderLabel:t}=this.context,{label:i,keyword:r,data:s,filtered:a,treeNodeFilterProp:o}=this.props;return Mn(t)?t(i,s,r):oi(i)&&a&&r?M.createElement(GP,{highlightClassName:`${Xi}-highlight`,component:"span",sourceString:i,searchWords:[r]}):i},this.setRef=t=>{this.refNode=t},this.state={},this.debounceSelect=iX(this.onSelect,500,{leading:!0,trailing:!1})}renderArrow(){var e,t;const i=!this.isLeaf(),{loading:r,expanded:s,showLine:a,expandIcon:o}=this.props;if(r)return M.createElement(bh,{wrapperClassName:`${Xi}-spin-icon`});if(i){if(o){if(typeof o=="function")return o({onClick:this.onExpand,className:`${Xi}-expand-icon`,expanded:s});if(M.isValidElement(o)){const l=le(`${Xi}-expand-icon`,{[(e=o==null?void 0:o.props)===null||e===void 0?void 0:e.className]:(t=o==null?void 0:o.props)===null||t===void 0?void 0:t.className});return M.cloneElement(o,{onClick:this.onExpand,className:l})}else return o}return M.createElement(b1e,{role:"button","aria-label":`${s?"Expand":"Collapse"} the tree item`,className:`${Xi}-expand-icon`,size:"small",onClick:this.onExpand})}return a?this.renderSwitcher():M.createElement("span",{className:`${Xi}-empty-icon`})}renderCheckbox(){const{checked:e,halfChecked:t,eventKey:i}=this.props,r=this.isDisabled();return M.createElement("div",{role:"none",onClick:this.onCheck,onKeyPress:this.handleCheckEnterPress},M.createElement(Of,{"aria-label":"Toggle the checked state of checkbox",value:i,indeterminate:t,checked:e,disabled:!!r}))}renderIcon(){const{directory:e,treeIcon:t}=this.context,{expanded:i,icon:r,data:s}=this.props;return r||(t?typeof t=="function"?t(this.props):t:e?this.isLeaf()?M.createElement(tG,{className:`${Xi}-item-icon`}):i?M.createElement(ixt,{className:`${Xi}-item-icon`}):M.createElement(txt,{className:`${Xi}-item-icon`}):null)}renderEmptyNode(){const{emptyContent:e}=this.props,t=le(Xi,{[`${Xi}-empty`]:!0});return M.createElement("ul",{className:t},M.createElement("li",{className:`${Xi}-label ${Xi}-label-empty`,"x-semi-prop":"emptyContent"},e))}render(){const e=this.props,{eventKey:t,expanded:i,selected:r,checked:s,halfChecked:a,loading:o,active:l,level:u,empty:c,filtered:d,treeNodeFilterProp:h,display:f,style:p,isEnd:g,showLine:m}=e,v=WFt(e,["eventKey","expanded","selected","checked","halfChecked","loading","active","level","empty","filtered","treeNodeFilterProp","display","style","isEnd","showLine"]);if(c)return this.renderEmptyNode();const{multiple:_,draggable:y,renderFullLabel:x,dragOverNodeKey:w,dropPosition:T,labelEllipsis:E}=this.context,A=g[g.length-1],k=this.isDisabled(),P=w===t&&T===0,I=w===t&&T===-1,D=w===t&&T===1,L=le(Xi,{[`${Xi}-level-${u+1}`]:!0,[`${Xi}-fullLabel-level-${u+1}`]:x,[`${Xi}-collapsed`]:!i,[`${Xi}-disabled`]:!!k,[`${Xi}-selected`]:r,[`${Xi}-active`]:!_&&l,[`${Xi}-ellipsis`]:E,[`${Xi}-drag-over`]:!k&&P,[`${Xi}-draggable`]:!k&&y&&!x,[`${Xi}-fullLabel-draggable`]:!k&&y&&x,[`${Xi}-fullLabel-drag-over-gap-top`]:!k&&I&&x,[`${Xi}-fullLabel-drag-over-gap-bottom`]:!k&&D&&x,[`${Xi}-tree-node-last-leaf`]:A}),B={onClick:this.onClick,onContextMenu:this.onContextMenu,onDoubleClick:this.onDoubleClick,className:L,onExpand:this.onExpand,data:v.data,level:u,onCheck:this.onCheck,style:p,expandIcon:this.renderArrow(),checkStatus:{checked:s,halfChecked:a},expandStatus:{expanded:i,loading:o},filtered:d,searchWord:v.keyword},F={onDoubleClick:this.onDoubleClick,onDragStart:y?this.onDragStart:void 0,onDragEnter:y?this.onDragEnter:void 0,onDragOver:y?this.onDragOver:void 0,onDragLeave:y?this.onDragLeave:void 0,onDrop:y?this.onDrop:void 0,onDragEnd:y?this.onDragEnd:void 0,draggable:!k&&y||void 0};if(x){const V=x(Object.assign({},B));return y?M.cloneElement(V,Object.assign({ref:this.setRef},F)):Hr(p)?V:M.cloneElement(V,{style:Object.assign(Object.assign({},Ce(V,["props","style"])),p)})}const $=le(`${Xi}-label`,{[`${Xi}-drag-over-gap-top`]:!k&&I,[`${Xi}-drag-over-gap-bottom`]:!k&&D}),z=Ce(v,["data","children","length"]),N=oi(v.pos)?Number(v.pos.split("-")[u+1])+1:1;return M.createElement("li",Object.assign({className:L,role:"treeitem","aria-disabled":k,"aria-checked":s,"aria-selected":r,"aria-setsize":z,"aria-posinset":N,"aria-expanded":i,"aria-level":u+1,"data-key":t,onClick:this.onClick,onKeyPress:this.handleliEnterPress,onContextMenu:this.onContextMenu,onDoubleClick:this.onDoubleClick,ref:this.setRef,style:p},F),M.createElement(VFt,{showLine:m,prefixcls:Xi,level:u,isEnd:g}),this.renderArrow(),M.createElement("span",{className:$},_?this.renderCheckbox():null,this.renderIcon(),M.createElement("span",{className:`${Xi}-label-text`},this.renderRealLabel())))}}Rw.contextType=$q;Rw.propTypes={expanded:S.bool,selected:S.bool,checked:S.bool,halfChecked:S.bool,active:S.bool,disabled:S.bool,loaded:S.bool,loading:S.bool,isLeaf:S.bool,pos:S.string,children:S.oneOfType([S.array,S.object]),icon:S.node,directory:S.bool,keyword:S.string,treeNodeFilterProp:S.string,selectedKey:S.string,motionKey:S.oneOfType([S.string,S.arrayOf(S.string)]),isEnd:S.arrayOf(S.bool),showLine:S.bool,expandIcon:S.oneOfType([S.node,S.func])};Rw.defaultProps={selectedKey:"",motionKey:""};var UFt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function GFt(n){const{open:e,children:t}=n,i=UFt(n,["open","children"]),[r,s]=q.useState(n.open);return q.useEffect(()=>{setTimeout(()=>{s(!n.open)},0)},[]),M.createElement(f0,Object.assign({},i,{isOpen:r}),t)}const Gue=n=>n.key;class bAe extends q.PureComponent{constructor(e){super(e),this.onMotionEnd=()=>{typeof this.props.onMotionEnd=="function"&&this.props.onMotionEnd(),this.setState({transitionNodes:[]})},this.state={transitionNodes:[]}}static getDerivedStateFromProps(e,t){const{flattenNodes:i=[],motionKeys:r,motionType:s,flattenList:a=[]}=e,o=!Kn(t.cachedMotionKeys,r)||!Kn(t.cachedData.map(p=>p.key),i.map(p=>p.key)),l=[...r];if(!o||!l.length)return null;const u=[],c=[];let d=0,h={};return(s==="hide"&&a?a:i).forEach((p,g)=>{const m=Gue(p);r.has(m)?(c.push(p),m===l[0]&&(d=g)):u.push(p)}),u.splice(d,0,c),h={transitionNodes:u,cachedData:i,cachedMotionKeys:r,cachedMotionType:s},h}render(){const{flattenNodes:e,motionType:t,searchTargetIsDeep:i,renderTreeNode:r}=this.props,{transitionNodes:s}=this.state;return(s.length&&!i?s:e).map(l=>{const u=Array.isArray(l);if(u&&!l.length)return null;if(u&&l.length){const c=Gue(l[0]);return M.createElement(GFt,{open:t==="hide",duration:200,motion:!!t,key:`motion-${c}`,onMotionEnd:this.onMotionEnd},l.map(d=>r(d)))}return r(l)})}}bAe.contextType=$q;const SAe={PREFIX:`${nt}-tree-select`,PREFIX_TREE:`${nt}-tree`},bu={SIZE_SET:["small","large","default"],SEARCH_POSITION_DROPDOWN:"dropdown",SEARCH_POSITION_TRIGGER:"trigger",STATUS:w1};class YFt extends jn{constructor(e){super(Object.assign({},e)),this.handleKeyDown=t=>{t.key===S1e&&this.getState("isOpen")&&this.close(t)},this._registerClickOutsideHandler=()=>{this._adapter.registerClickOutsideHandler(t=>{this.handlerTriggerBlur(t),this.close(t)})},this.clearInputValue=()=>{const{inputValue:t}=this.getStates();t&&this._adapter.updateInputValue("")},this.onClickSingleTriggerSearchItem=t=>{this.focusInput(!0)}}init(){const{searchAutoFocus:e,searchPosition:t,filterTreeNode:i}=this.getProps(),r=t===bu.SEARCH_POSITION_TRIGGER&&i,s=e&&r;this._setDropdownWidth();const a=!this._isDisabled();(this.getProp("defaultOpen")||s)&&a&&(this.open(),this._registerClickOutsideHandler()),s&&a&&this.handleTriggerFocus(null)}destroy(){this._adapter.unregisterClickOutsideHandler()}_setDropdownWidth(){const{style:e,dropdownMatchSelectWidth:t}=this.getProps();let i;t&&(e&&Ns(e.width)||e&&oi(e.width)&&!e.width.includes("%")?i=e.width:i=this._adapter.getTriggerWidth(),this._adapter.setOptionWrapperWidth(i))}_isMultiple(){return this.getProp("multiple")}_isAnimated(){return this.getProp("motionExpand")}_isDisabled(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.getProp("disabled")||e.disabled}_isExpandControlled(){return this.getProp("expandedKeys")}_isSelectToClose(){return!this.getProp("expandAction")}_isLoadControlled(){return this.getProp("loadedKeys")}_showFilteredOnly(){const{inputValue:e}=this.getStates(),{showFilteredOnly:t}=this.getProps();return!!e&&t}findDataForValue(e){const{value:t,defaultValue:i,keyMaps:r}=this.getProps(),s=Ce(r,"value","value"),a=Ce(r,"key","key");let o=[];return t?o=Array.isArray(t)?t:[t]:i&&(o=Array.isArray(i)?i:[i]),o.find(l=>l[s]===e||l[a]===e)}constructDataForValue(e){const{treeNodeLabelProp:t,keyMaps:i}=this.getProps(),r=Ce(i,"key","key"),s=Ce(i,"label",t);return{[r]:e,[s]:e}}getDataForKeyNotInKeyEntities(e){const{onChangeWithObject:t}=this.getProps();return t?this.findDataForValue(e):this.constructDataForValue(e)}getTreeNodeProps(e){const{expandedKeys:t=new Set([]),selectedKeys:i=[],checkedKeys:r=new Set([]),halfCheckedKeys:s=new Set([]),realCheckedKeys:a=new Set([]),keyEntities:o={},filteredKeys:l=new Set([]),inputValue:u="",loadedKeys:c,loadingKeys:d,filteredExpandedKeys:h=new Set([]),disabledKeys:f=new Set([])}=this.getStates(),{treeNodeFilterProp:p,checkRelation:g}=this.getProps(),m=o[e];if(!m)return null;let _=!1,y=!1;g==="related"?(_=r.has(e),y=s.has(e)):g==="unRelated"&&(_=a.has(e),y=!1);const w={eventKey:e,expanded:!!u?h.has(e):t.has(e),selected:i.includes(e),checked:_,halfChecked:y,pos:String(m?m.pos:""),level:m.level,filtered:l.has(e),keyword:u,treeNodeFilterProp:p,loading:d.has(e)&&!c.has(e),loaded:c.has(e)};return this.getProp("disableStrictly")&&f.has(e)&&(w.disabled=!0),w}handleNodeLoad(e,t,i,r){const{loadData:s}=this.getProps(),{key:a}=i;return!s||e.has(a)||t.has(a)?{}:(s(i).then(()=>{const o=new Set(this.getState("loadedKeys")),l=new Set(this.getState("loadingKeys")),u=o.add(a),c=new Set([...l]);c.delete(a),this._adapter.notifyLoad(u,i),this._isLoadControlled()||this._adapter.updateState({loadedKeys:u}),this._adapter.setState({loadingKeys:c}),r()}),{loadingKeys:t.add(a)})}focusInput(e){this._adapter.updateInputFocus(e)}_notifyMultipleChange(e,t){const{keyEntities:i}=this.getStates(),{leafOnly:r,checkRelation:s,keyMaps:a,autoMergeValue:o}=this.getProps();let l=[];s==="related"?l=o?pf(e,i,r,!0):e:s==="unRelated"&&(l=e);const u=l.map(c=>i[c]&&i[c].key===c?i[c].data:this.getDataForKeyNotInKeyEntities(c));if(this.getProp("onChangeWithObject"))this._adapter.notifyChangeWithObject(u,t);else{const c=nF(u,a);this._adapter.notifyChange(c,u,t)}}_notifyChange(e,t){const{keyEntities:i}=this.getStates(),{keyMaps:r}=this.getProps();if(this._isMultiple()&&Array.isArray(e))this._notifyMultipleChange(e,t);else{const s=lr(e)?e:i[e].data,a=lr(e)?e:nF(s,r);this.getProp("onChangeWithObject")?this._adapter.notifyChangeWithObject(s,t):this._adapter.notifyChange(a,s,t)}}_notifyFocus(e){this._adapter.notifyFocus(e)}handleTriggerFocus(e){this._adapter.updateIsFocus(!0),this._notifyFocus(e),this._registerClickOutsideHandler()}_notifyBlur(e){this._adapter.notifyBlur(e)}handlerTriggerBlur(e){this.getState("isFocus")&&(this._adapter.updateIsFocus(!1),this._notifyBlur(e),this._adapter.unregisterClickOutsideHandler())}toggleHoverState(e){this._adapter.toggleHovering(e)}open(){this._adapter.openMenu(),this._setDropdownWidth()}close(e){this._adapter.closeMenu(),this.getProp("motionExpand")&&this._adapter.updateState({motionKeys:new Set([])})}handleClick(e){const t=this._isDisabled(),{isOpen:i,inputValue:r,isFocus:s}=this.getStates(),{searchPosition:a,clickTriggerToHide:o}=this.getProps();if(!t)if(s||this.handleTriggerFocus(e),i){if(a==="trigger"&&r)return;o&&this.close(e)}else this.open()}handleSelectionEnterPress(e){gc(e)&&this.handleClick(e)}handleClear(e){const{searchPosition:t,filterTreeNode:i}=this.getProps(),{inputValue:r,selectedKeys:s}=this.getStates(),a=this._isMultiple(),o=this._isControlledComponent(),l=a?[]:void 0;this._notifyChange(l,e),o||(this._adapter.rePositionDropdown(),this._adapter.updateState({selectedKeys:[],checkedKeys:new Set,halfCheckedKeys:new Set,realCheckedKeys:new Set([])})),i&&t===bu.SEARCH_POSITION_TRIGGER&&r!==""&&(Hr(s)?this.handleInputChange(""):this.clearInput()),this._adapter.notifyClear(e)}handleClearEnterPress(e){gc(e)&&this.handleClear(e)}removeTag(e){const{disableStrictly:t,checkRelation:i,keyMaps:r}=this.getProps(),{keyEntities:s,disabledKeys:a,realCheckedKeys:o}=this.getStates(),l=s[e]&&s[e].key===e?s[e].data:this.getDataForKeyNotInKeyEntities(e),u=Ce(r,"disabled","disabled");if(!(l[u]||t&&a.has(e))){if(i==="unRelated"){const c=new Set(o);c.delete(e),this._notifyChange([...c],null),this._isControlledComponent()||(this._adapter.updateState({realCheckedKeys:c}),this._adapter.rePositionDropdown())}else if(i==="related"){const{checkedKeys:c,halfCheckedKeys:d}=this.calcCheckedKeys(e,!1);this._notifyChange([...c],null),this._isControlledComponent()||(this._adapter.updateState({checkedKeys:c,halfCheckedKeys:d}),this._adapter.rePositionDropdown())}this._adapter.notifySelect(e,!1,l),this._adapter.rePositionDropdown()}}clearInput(){const{flattenNodes:e,expandedKeys:t,selectedKeys:i,keyEntities:r,treeData:s}=this.getStates(),{keyMaps:a}=this.getProps(),o=new Set(t);this._isExpandControlled();const l=eg(i,r,!1);l.forEach(c=>o.add(c));const u=Zv(s,o,a);this._adapter.updateState({expandedKeys:o,flattenNodes:u,inputValue:"",motionKeys:new Set([]),filteredKeys:new Set([]),filteredExpandedKeys:new Set(l),filteredShownKeys:new Set([])}),this._adapter.rePositionDropdown()}handleInputChange(e){this._adapter.updateInputValue(e);const{flattenNodes:t,expandedKeys:i,selectedKeys:r,keyEntities:s,treeData:a}=this.getStates(),{showFilteredOnly:o,filterTreeNode:l,treeNodeFilterProp:u,keyMaps:c}=this.getProps(),d=u!=="label"?u:Ce(c,"label","label"),h=new Set(i);let f=[],p=[],g=[],m=[],v=new Set([]);if(!e)g=eg(r,s,!1),g.forEach(y=>h.add(y)),m=Zv(a,h,c);else{const y=Object.values(s).filter(w=>{const{data:T}=w;return V1e(e,T,l,d)});f=y.map(w=>w.data),p=y.map(w=>w.key),g=eg(p,s,!1);const x=Jp(p,s,!0);v=new Set([...x,...g]),m=Zv(a,new Set(g),c,o&&v)}const _=new Set(g);this._adapter.notifySearch(e,Array.from(_),f),this._adapter.updateState({expandedKeys:h,flattenNodes:m,motionKeys:new Set([]),filteredKeys:new Set(p),filteredExpandedKeys:_,filteredShownKeys:v}),this._adapter.rePositionDropdown()}handleNodeSelect(e,t){this._isDisabled(t)||(this._isMultiple()?this.handleMultipleSelect(e,t):this.handleSingleSelect(e,t))}handleSingleSelect(e,t){let i=[...this.getState("selectedKeys")];const{clickToHide:r}=this.getProps(),{selected:s,eventKey:a,data:o}=t;this._adapter.notifySelect(a,!0,o),!i.includes(a)&&!s&&(i=[a],this._notifyChange(a,e),this._isControlledComponent()||this._adapter.updateState({selectedKeys:i})),r&&(this._isSelectToClose()||!o.children)&&(this.close(e),this.handlerTriggerBlur(e))}calcCheckedKeys(e,t){const{keyEntities:i}=this.getStates(),r=new Set(this.getState("checkedKeys")),s=new Set(this.getState("halfCheckedKeys"));return t?W1e(e,i,r,s):U1e(e,i,r,s)}handleMultipleSelect(e,t){const{searchPosition:i,disableStrictly:r,checkRelation:s}=this.getProps(),{inputValue:a,realCheckedKeys:o}=this.getStates(),{checked:l,eventKey:u,data:c}=t;if(s==="related"){const d=r?this.calcCheckedStatus(!l,u):!l,{checkedKeys:h,halfCheckedKeys:f}=r?this.calcNonDisabledCheckedKeys(u,d):this.calcCheckedKeys(u,d);this._adapter.notifySelect(u,d,c),this._notifyChange([...h],e),this._isControlledComponent()||(this._adapter.updateState({checkedKeys:h,halfCheckedKeys:f}),this._adapter.rePositionDropdown())}else if(s==="unRelated"){const d=new Set(o);let h;o.has(u)?(d.delete(u),h=!1):(d.add(u),h=!0),this._adapter.notifySelect(u,h,c),this._notifyChange([...d],e),this._isControlledComponent()||(this._adapter.updateState({realCheckedKeys:d}),this._adapter.rePositionDropdown())}i===bu.SEARCH_POSITION_TRIGGER&&a!==""&&this._adapter.updateState({inputValue:""})}calcNonDisabledCheckedKeys(e,t){const{keyEntities:i,disabledKeys:r}=this.getStates(),s=new Set(this.getState("checkedKeys")),a=pf(Jp([e],i,!1),i,!0);if(!a.some(c=>r.has(c)))return this.calcCheckedKeys(e,t);const l=a.filter(c=>!r.has(c)),u=t?[...l,...s]:_C(pf([...s],i,!0,!0),l);return ZP(u,i)}calcCheckedStatus(e,t){if(!e)return e;const{checkedKeys:i,keyEntities:r,disabledKeys:s}=this.getStates(),a=pf(Jp([t],r,!1),r,!0);return a.some(c=>s.has(c))?!a.filter(c=>!s.has(c)).every(c=>i.has(c)):e}handleNodeExpandInSearch(e,t){const{treeData:i,filteredShownKeys:r,keyEntities:s}=this.getStates(),{keyMaps:a}=this.getProps(),o=this._showFilteredOnly(),l=new Set(this.getState("filteredExpandedKeys"));let u="show";const{eventKey:c,expanded:d,data:h}=t;if(d?l.has(c)&&(l.delete(c),u="hide"):l.add(c),this._adapter.cacheFlattenNodes(u==="hide"&&this._isAnimated()),!this._isExpandControlled()){const f=Zv(i,l,a,o&&r),p=this._isAnimated()?dle(c,l,s):[],g={filteredExpandedKeys:l,flattenNodes:f,motionKeys:new Set(p),motionType:u};this._adapter.updateState(g)}this._adapter.notifyExpand(l,{expanded:!d,node:h})}handleNodeExpand(e,t){const{loadData:i,keyMaps:r}=this.getProps(),{inputValue:s,keyEntities:a}=this.getStates(),o=!!s;if(!i&&(!t.children||!t.children.length))return;const l=this._isExpandControlled();if(o){this.handleNodeExpandInSearch(e,t);return}const{treeData:u}=this.getStates(),c=new Set(this.getState("expandedKeys"));let d="show";const{eventKey:h,expanded:f,data:p}=t;if(f?c.has(h)&&(c.delete(h),d="hide"):c.add(h),this._adapter.cacheFlattenNodes(d==="hide"&&this._isAnimated()),!l){const g=Zv(u,c,r),m=this._isAnimated()?dle(h,c,a):[],v={expandedKeys:c,flattenNodes:g,motionKeys:new Set(m),motionType:d};this._adapter.updateState(v)}this._adapter.notifyExpand(c,{expanded:!f,node:p})}getRenderTextInSingle(){const{renderSelectedItem:e,treeNodeLabelProp:t,keyMaps:i}=this.getProps(),{selectedKeys:r,keyEntities:s}=this.getStates(),a=Ce(i,"label",t),o=Mn(e)?e:c=>Ce(c,a,null);let l;if(r.length){const c=r[0];l=s[c]&&s[c].key===c?s[c].data:this.getDataForKeyNotInKeyEntities(c)}return l?o(l):null}handleInputTriggerBlur(){this._adapter.updateState({inputTriggerFocus:!1})}handleInputTriggerFocus(){this.clearInput(),this._adapter.updateState({inputTriggerFocus:!0})}setLoadKeys(e,t){this._adapter.updateLoadKeys(e,t)}handlePopoverVisibleChange(e){const{filterTreeNode:t,searchAutoFocus:i,searchPosition:r}=this.getProps();e===!1&&t&&this.clearInputValue(),t&&r===bu.SEARCH_POSITION_DROPDOWN&&e&&i&&this.focusInput(!0)}handleAfterClose(){const{filterTreeNode:e}=this.getProps();e&&this.clearInput()}}var KFt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const Ii=SAe.PREFIX,W_=SAe.PREFIX_TREE,XFt=0;class zj extends An{constructor(e){super(e),this.renderSuffix=()=>{const{suffix:t}=this.props,i=le({[`${Ii}-suffix`]:!0,[`${Ii}-suffix-text`]:t&&oi(t),[`${Ii}-suffix-icon`]:Su(t)});return M.createElement("div",{className:i,"x-semi-prop":"suffix"},t)},this.renderPrefix=()=>{const{prefix:t,insetLabel:i,insetLabelId:r}=this.props,s=t||i,a=le({[`${Ii}-prefix`]:!0,[`${Ii}-inset-label`]:i,[`${Ii}-prefix-text`]:s&&oi(s),[`${Ii}-prefix-icon`]:Su(s)});return M.createElement("div",{className:a,id:r,"x-semi-prop":"prefix,insetLabel"},s)},this.renderContent=()=>{const{dropdownMinWidth:t}=this.state,{dropdownStyle:i,dropdownClassName:r}=this.props,s=Object.assign({minWidth:t},i),a=le(r,`${Ii}-popover`);return M.createElement("div",{className:a,style:s,onKeyDown:this.foundation.handleKeyDown,ref:this.optionContainerEl},this.renderTree())},this.removeTag=t=>{this.foundation.removeTag(t)},this.handleClick=t=>{this.foundation.handleClick(t)},this.getDataForKeyNotInKeyEntities=t=>this.foundation.getDataForKeyNotInKeyEntities(t),this.handleSelectionEnterPress=t=>{this.foundation.handleSelectionEnterPress(t)},this.hasValue=()=>{const{multiple:t,checkRelation:i}=this.props,{realCheckedKeys:r,checkedKeys:s,selectedKeys:a}=this.state;let o=!1;return t?i==="related"?o=!!s.size:i==="unRelated"&&(o=!!r.size):o=!!a.length,o},this.showClearBtn=()=>{const{showClear:t,disabled:i,searchPosition:r}=this.props,{inputValue:s,isOpen:a,isHovering:o}=this.state,l=r===bu.SEARCH_POSITION_TRIGGER&&s;return t&&(this.hasValue()||l)&&!i&&(a||o)},this.renderTagList=t=>{const{keyEntities:i,disabledKeys:r}=this.state,{treeNodeLabelProp:s,leafOnly:a,disabled:o,disableStrictly:l,size:u,renderSelectedItem:c,keyMaps:d}=this.props,h=Ce(d,"label",s),f=Mn(c)?c:g=>({isRenderInTag:!0,content:Ce(g,h,null)}),p=[];return t.forEach((g,m)=>{const v=i[g]&&i[g].key===g?i[g].data:this.getDataForKeyNotInKeyEntities(g),_=(E,A)=>{A&&typeof A.preventDefault=="function"&&A.preventDefault(),this.removeTag(g)},{content:y,isRenderInTag:x}=v?f(v,{index:m,onClose:_}):{};if(Rm(y)||lr(y))return;const T={closable:!(o||v.disabled||l&&r.has(v.key)),color:"white",visible:!0,onClose:_,key:`tag-${g}-${m}`,size:u==="small"?"small":"large"};x?p.push(M.createElement(fh,Object.assign({},T),y)):p.push(y)}),p},this.renderSingleTriggerSearchItem=()=>{const{placeholder:t,disabled:i}=this.props,{inputTriggerFocus:r}=this.state,s=this.foundation.getRenderTextInSingle(),a=le(`${Ii}-selection-TriggerSearchItem`,{[`${Ii}-selection-TriggerSearchItem-placeholder`]:(r||!s)&&!i,[`${Ii}-selection-TriggerSearchItem-disabled`]:i});return M.createElement("span",{className:a,onClick:this.foundation.onClickSingleTriggerSearchItem},s||t)},this.renderSingleTriggerSearch=()=>{const{inputValue:t}=this.state;return M.createElement(M.Fragment,null,this.renderInput(),!t&&this.renderSingleTriggerSearchItem())},this.renderSelectContent=t=>{const{multiple:i,placeholder:r,maxTagCount:s,searchPosition:a,filterTreeNode:o,showRestTagsPopover:l,restTagsPopoverProps:u}=this.props;if(o&&a===bu.SEARCH_POSITION_TRIGGER)return i?this.renderTagInput(t):this.renderSingleTriggerSearch();if(!i||!this.hasValue()){const h=this.foundation.getRenderTextInSingle(),f=le(`${Ii}-selection-content`,{[`${Ii}-selection-placeholder`]:!h});return M.createElement("span",{className:f},h||r)}const d=this.renderTagList(t);return M.createElement(aO,{maxTagCount:s,tagList:d,size:"large",mode:"custom",showPopover:l,popoverProps:u})},this.handleClear=t=>{t&&t.stopPropagation(),this.foundation.handleClear(t)},this.handleClearEnterPress=t=>{t&&t.stopPropagation(),this.foundation.handleClearEnterPress(t)},this.handleMouseOver=t=>{this.foundation.toggleHoverState(!0)},this.handleMouseLeave=t=>{this.foundation.toggleHoverState(!1)},this.search=t=>{const{isOpen:i}=this.state;i||this.foundation.open(),this.foundation.handleInputChange(t)},this.close=()=>{this.foundation.close(null)},this.renderArrow=()=>{const t=this.showClearBtn(),{arrowIcon:i}=this.props;return t?null:i?M.createElement("div",{className:le(`${Ii}-arrow`),"x-semi-prop":"arrowIcon"},i):null},this.renderClearBtn=()=>{const t=this.showClearBtn(),{clearIcon:i}=this.props,r=le(`${Ii}-clearbtn`);return t?M.createElement("div",{role:"button",tabIndex:0,"aria-label":"Clear TreeSelect value",className:r,onClick:this.handleClear,onKeyPress:this.handleClearEnterPress},i||M.createElement(e_,null)):null},this.renderSelection=()=>{const t=this.props,{disabled:i,multiple:r,filterTreeNode:s,validateStatus:a,prefix:o,suffix:l,style:u,size:c,insetLabel:d,className:h,placeholder:f,showClear:p,leafOnly:g,searchPosition:m,triggerRender:v,borderless:_,autoMergeValue:y,checkRelation:x}=t,w=KFt(t,["disabled","multiple","filterTreeNode","validateStatus","prefix","suffix","style","size","insetLabel","className","placeholder","showClear","leafOnly","searchPosition","triggerRender","borderless","autoMergeValue","checkRelation"]),{inputValue:T,selectedKeys:E,checkedKeys:A,keyEntities:k,isFocus:P,realCheckedKeys:I}=this.state,D=!!s,L=typeof v=="function",B=p?{onMouseEnter:U=>this.handleMouseOver(U),onMouseLeave:U=>this.handleMouseLeave(U)}:{},F=m===bu.SEARCH_POSITION_TRIGGER&&D,$=F&&Hr(A),z=F&&!Hr(A),N=L?le(h):le(Ii,{[`${Ii}-borderless`]:_,[`${Ii}-focus`]:P,[`${Ii}-disabled`]:i,[`${Ii}-single`]:!r,[`${Ii}-multiple`]:r,[`${Ii}-multiple-tagInput-empty`]:r&&$,[`${Ii}-multiple-tagInput-notEmpty`]:r&&z,[`${Ii}-filterable`]:D,[`${Ii}-error`]:a==="error",[`${Ii}-warning`]:a==="warning",[`${Ii}-small`]:c==="small",[`${Ii}-large`]:c==="large",[`${Ii}-with-prefix`]:o||d,[`${Ii}-with-suffix`]:l,[`${Ii}-with-suffix`]:l},h);let V,H=[];r?y?x==="related"?H=pf([...A],k,g,!0):x==="unRelated"&&(H=[...I]):H=[...A]:H=E,L?V=M.createElement(z0,{inputValue:T,value:H.map(U=>Ce(k,[U,"data"])),disabled:i,placeholder:f,onClear:this.handleClear,componentName:"TreeSelect",triggerRender:v,componentProps:Object.assign({},this.props),onSearch:this.search,onRemove:this.removeTag}):V=[M.createElement(q.Fragment,{key:"prefix"},o||d?this.renderPrefix():null),M.createElement(q.Fragment,{key:"selection"},M.createElement("div",{className:`${Ii}-selection`},this.renderSelectContent(H))),M.createElement(q.Fragment,{key:"suffix"},l?this.renderSuffix():null),M.createElement(q.Fragment,{key:"clearBtn"},p||F&&T?this.renderClearBtn():null),M.createElement(q.Fragment,{key:"arrow"},this.renderArrow())];const K=i?null:0;return M.createElement("div",Object.assign({role:"combobox","aria-disabled":i,"aria-haspopup":"tree",tabIndex:K,className:N,style:u,ref:this.triggerRef,onClick:this.handleClick,onKeyPress:this.handleSelectionEnterPress,onKeyDown:this.foundation.handleKeyDown,"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"]},B,this.getDataAttr(w)),V)},this.renderTagItem=(t,i)=>{const{keyEntities:r,disabledKeys:s}=this.state,{size:a,leafOnly:o,disabled:l,disableStrictly:u,renderSelectedItem:c,treeNodeLabelProp:d,keyMaps:h}=this.props,f=Ce(h,"label",d),g=pf([t],r,o,!0).map(k=>r[t]&&r[t].key===t?r[t].data:this.getDataForKeyNotInKeyEntities(t)),m=nF(g,h),v=le(`${Ii}-selection-tag`,{[`${Ii}-selection-tag-disabled`]:l}),_=!Hr(g)&&!Hr(g[0]),y=u&&_&&s.has(g[0].key),x=_&&!g[0].disabled&&!l&&!y,w=(k,P)=>{P.preventDefault(),this.removeTag(t)},T={size:a==="small"?"small":"large",key:`tag-${m}-${i}`,color:"white",className:v,closable:x,onClose:w},E=g[0],A=Mn(c)?c:k=>({isRenderInTag:!0,content:Ce(k,f,null)});if(Mn(A)){const{content:k,isRenderInTag:P}=E?A(E,{index:i,onClose:w}):{};return P?M.createElement(fh,Object.assign({},T),k):k}return M.createElement(fh,Object.assign({},T),m)},this.renderTagInput=t=>{const{disabled:i,size:r,searchAutoFocus:s,placeholder:a,maxTagCount:o,showRestTagsPopover:l,restTagsPopoverProps:u,searchPosition:c,filterTreeNode:d,preventScroll:h}=this.props,{inputValue:f}=this.state,p=d&&c===bu.SEARCH_POSITION_TRIGGER?s:void 0;return M.createElement(iM,{maxTagCount:o,disabled:i,onInputChange:g=>this.search(g),ref:this.tagInputRef,placeholder:a,value:t,inputValue:f,size:r,showRestTagsPopover:l,restTagsPopoverProps:u,autoFocus:p,renderTagItem:(g,m)=>this.renderTagItem(g,m),onRemove:g=>this.removeTag(g),expandRestTagsOnClick:!1,preventScroll:h})},this.renderInput=()=>{const{searchPlaceholder:t,searchRender:i,showSearchClear:r,searchPosition:s,searchAutoFocus:a,multiple:o,disabled:l,preventScroll:u}=this.props,{inputValue:c,inputTriggerFocus:d}=this.state,h=s===bu.SEARCH_POSITION_DROPDOWN,f=le({[`${W_}-input`]:h,[`${Ii}-inputTrigger`]:!h}),p={value:c,className:f,preventScroll:u,onChange:x=>this.search(x)},v=h?{showClear:r,prefix:M.createElement(_1e,null)}:{autofocus:a,onFocus:x=>this.foundation.handleInputTriggerFocus(),onBlur:x=>this.foundation.handleInputTriggerBlur(),disabled:l},_=le({[`${W_}-search-wrapper`]:h,[`${Ii}-triggerSingleSearch-wrapper`]:!h&&!o,[`${Ii}-triggerSingleSearch-upper`]:!h&&d}),y=typeof i=="function"||typeof i=="boolean";return y&&!i?null:M.createElement("div",{className:_},M.createElement(Qr,{componentName:"TreeSelect"},x=>{const w=h?t||x.searchPlaceholder:"";return y?i(Object.assign(Object.assign(Object.assign({},v),p),{placeholder:w})):M.createElement(Gl,Object.assign({"aria-label":"Filter TreeSelect item",ref:this.inputRef,placeholder:w},p,v))}))},this.renderEmpty=()=>{const{emptyContent:t}=this.props;return t===null?null:t?M.createElement(Rw,{empty:!0,emptyContent:this.props.emptyContent}):M.createElement(Qr,{componentName:"Tree"},i=>M.createElement(Rw,{empty:!0,emptyContent:i.emptyText}))},this.onNodeLoad=t=>new Promise(i=>this.foundation.setLoadKeys(t,i)),this.onNodeSelect=(t,i)=>{this.foundation.handleNodeSelect(t,i)},this.onNodeCheck=(t,i)=>{this.foundation.handleNodeSelect(t,i)},this.onNodeExpand=(t,i)=>{this.foundation.handleNodeExpand(t,i)},this.getTreeNodeRequiredProps=()=>{const{expandedKeys:t,selectedKeys:i,checkedKeys:r,halfCheckedKeys:s,keyEntities:a,filteredKeys:o}=this.state;return{expandedKeys:t||new Set,selectedKeys:i||[],checkedKeys:r||new Set,halfCheckedKeys:s||new Set,filteredKeys:o||new Set,keyEntities:a}},this.getTreeNodeKey=t=>{const{data:i}=t,{key:r}=i;return r},this.handlePopoverVisibleChange=t=>{this.foundation.handlePopoverVisibleChange(t)},this.afterClose=()=>{this.foundation.handleAfterClose()},this.renderTreeNode=(t,i,r)=>{const{data:s,key:a}=t,o=this.foundation.getTreeNodeProps(a),{showLine:l}=this.props;if(!o)return null;const u=Eu(t,["key","label","disabled","isLeaf","icon","isEnd"]),{keyMaps:c,expandIcon:d}=this.props,h=s[Ce(c,"children","children")];return!lr(h)&&(u.children=h),M.createElement(Rw,Object.assign({},o,s,u,{data:s,style:r,showLine:l,expandIcon:d}))},this.itemKey=(t,i)=>{const{visibleOptions:r}=i;return r[t].key},this.renderNodeList=()=>{const{flattenNodes:t,cachedFlattenNodes:i,motionKeys:r,motionType:s,filteredKeys:a}=this.state,{direction:o}=this.context,{virtualize:l,motionExpand:u}=this.props,c="expandedKeys"in this.props;if(!l||Hr(l))return M.createElement(bAe,{flattenNodes:t,flattenList:i,motionKeys:u?r:new Set([]),motionType:s,searchTargetIsDeep:c&&u&&Hr(r)&&!Hr(a),onMotionEnd:this.onMotionEnd,renderTreeNode:this.renderTreeNode});const d={visibleOptions:t,renderOption:this.renderTreeNode};return M.createElement(Bq,{defaultHeight:l.height,defaultWidth:l.width},h=>{let{height:f,width:p}=h;return M.createElement(dj,{itemCount:t.length,itemSize:l.itemSize,height:f,width:p,itemKey:this.itemKey,itemData:d,className:`${W_}-virtual-list`,style:{direction:o}},wEe)})},this.renderTree=()=>{const{keyEntities:t,motionKeys:i,motionType:r,inputValue:s,filteredKeys:a,flattenNodes:o,checkedKeys:l,realCheckedKeys:u}=this.state,{loadData:c,filterTreeNode:d,disabled:h,multiple:f,showFilteredOnly:p,motionExpand:g,outerBottomSlot:m,outerTopSlot:v,expandAction:_,labelEllipsis:y,virtualize:x,optionListStyle:w,searchPosition:T,renderLabel:E,renderFullLabel:A,checkRelation:k,emptyContent:P}=this.props,I=le(`${W_}-wrapper`),D=!!s&&!a.size,L=Hr(o)||p&&D,B=T===bu.SEARCH_POSITION_DROPDOWN,F=le(`${W_}-option-list ${W_}-option-list-block`,{[`${W_}-option-list-hidden`]:P===null&&L});return M.createElement($q.Provider,{value:{loadData:c,treeDisabled:h,motion:g,motionKeys:i,motionType:r,expandAction:_,filterTreeNode:d,keyEntities:t,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeRightClick:be,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,renderTreeNode:this.renderTreeNode,multiple:f,showFilteredOnly:p,isSearching:!!s,renderLabel:E,renderFullLabel:A,labelEllipsis:typeof y>"u"?x:y}},M.createElement("div",{className:I},v,!v&&d&&B&&this.renderInput(),M.createElement("div",{className:F,role:"tree","aria-multiselectable":!!f,style:w},L?this.renderEmpty():f?M.createElement(QP,{value:Array.from(k==="related"?l:u)},this.renderNodeList()):this.renderNodeList()),m))},this.state={inputTriggerFocus:!1,isOpen:!1,isFocus:!1,rePosKey:XFt,dropdownMinWidth:null,inputValue:"",keyEntities:{},treeData:[],flattenNodes:[],cachedFlattenNodes:void 0,selectedKeys:[],checkedKeys:new Set,halfCheckedKeys:new Set,realCheckedKeys:new Set([]),disabledKeys:new Set,motionKeys:new Set([]),motionType:"hide",expandedKeys:new Set(e.expandedKeys),filteredKeys:new Set,filteredExpandedKeys:new Set,filteredShownKeys:new Set,prevProps:null,isHovering:!1,cachedKeyValuePairs:{},loadedKeys:new Set,loadingKeys:new Set},this.inputRef=M.createRef(),this.tagInputRef=M.createRef(),this.triggerRef=M.createRef(),this.optionsRef=M.createRef(),this.optionContainerEl=M.createRef(),this.clickOutsideHandler=null,this.foundation=new YFt(this.adapter),this.treeSelectID=Math.random().toString(36).slice(2),this.onMotionEnd=()=>{this.adapter.rePositionDropdown()}}static getDerivedStateFromProps(e,t){const{prevProps:i,rePosKey:r}=t,{keyMaps:s}=e,a=v=>!i&&v in e||i&&!Kn(i[v],e[v]);let o;const l=e.onChangeWithObject;let u=t.keyEntities||{},c=t.cachedKeyValuePairs||{};const d={prevProps:e},h=a("treeData"),f=a("expandedKeys"),p=!!(e.filterTreeNode&&t.inputValue&&t.inputValue.length);if(h){o=e.treeData,d.treeData=o;const v=K1t(o,s);d.keyEntities=Object.assign({},v.keyEntities),u=d.keyEntities,d.cachedKeyValuePairs=Object.assign({},v.valueEntities),c=d.cachedKeyValuePairs}o&&e.motion&&!Kn(Object.keys(d.keyEntities),Object.keys(t.keyEntities))&&i&&e.motion&&(d.motionKeys=new Set([]),d.motionType=null);const g=h&&e.expandAll;if(p){let v;if(o&&(v=Z1t({treeData:o,inputValue:t.inputValue,filterTreeNode:e.filterTreeNode,filterProps:e.treeNodeFilterProp,showFilteredOnly:e.showFilteredOnly,keyEntities:d.keyEntities,prevExpandedKeys:[...t.filteredExpandedKeys],keyMaps:s}),d.flattenNodes=v.flattenNodes,d.motionKeys=new Set([]),d.filteredKeys=v.filteredKeys,d.filteredShownKeys=v.filteredShownKeys,d.filteredExpandedKeys=v.filteredExpandedKeys),e.expandedKeys){if(d.filteredExpandedKeys=NV(e.expandedKeys,u,e.autoExpandParent||!i),i&&e.motion){const _=t?t.filteredExpandedKeys:new Set([]);if(!o){const y=cle(_,d.filteredExpandedKeys,u);let{motionKeys:x}=y;const{motionType:w}=y;e.showFilteredOnly&&(x=x.filter(T=>t.filteredShownKeys.has(T))),w==="hide"&&(d.cachedFlattenNodes=h4(t.flattenNodes)),d.motionKeys=new Set(x),d.motionType=w}}d.flattenNodes=Zv(o||t.treeData,d.filteredExpandedKeys||t.filteredExpandedKeys,s,e.showFilteredOnly&&t.filteredShownKeys)}}else{if(f||i&&a("autoExpandParent")){if(d.expandedKeys=NV(e.expandedKeys,u,e.autoExpandParent||!i),i&&e.motion&&!o){const{motionKeys:v,motionType:_}=cle(t.expandedKeys,d.expandedKeys,u);d.motionKeys=new Set(v),d.motionType=_,_==="hide"&&(d.cachedFlattenNodes=h4(t.flattenNodes))}}else!i&&(e.defaultExpandAll||e.expandAll)||g?d.expandedKeys=new Set(Object.keys(u)):!i&&e.defaultExpandedKeys?d.expandedKeys=NV(e.defaultExpandedKeys,u):!i&&e.defaultValue?d.expandedKeys=ule(Tv(e.defaultValue,l,s),u,e.multiple,c):!i&&e.value&&(d.expandedKeys=ule(Tv(e.value,l,s),u,e.multiple,c));if(d.expandedKeys||delete d.expandedKeys,o||d.expandedKeys){const v=Zv(o||t.treeData,d.expandedKeys||t.expandedKeys,s);d.flattenNodes=v}}const m=e.multiple;if(!m)a("value")?d.selectedKeys=ob(Tv(e.value,l,s),c,m):!i&&e.defaultValue?d.selectedKeys=ob(Tv(e.defaultValue,l,s),c,m):o&&(e.value?d.selectedKeys=ob(Tv(e.value,l,s)||"",c,m):d.selectedKeys=hle(t.selectedKeys,u));else{let v;if(a("value")?v=ob(Tv(e.value,l,s),c,m):!i&&e.defaultValue?v=ob(Tv(e.defaultValue,l,s),c,m):o&&(e.value?v=ob(Tv(e.value,l,s)||[],c,m):v=hle(e.checkRelation==="related"?t.checkedKeys:t.realCheckedKeys,u)),v){if(e.checkRelation==="unRelated")d.realCheckedKeys=new Set(v);else if(e.checkRelation==="related"){const{checkedKeys:_,halfCheckedKeys:y}=ZP(v,u);d.checkedKeys=_,d.halfCheckedKeys=y}}}return a("loadedKeys")&&(d.loadedKeys=new Set(e.loadedKeys)),(h||a("value"))&&(d.rePosKey=r+1),o&&e.disableStrictly&&e.checkRelation==="related"&&(d.disabledKeys=G1e(u,s)),d}get adapter(){var e=this;const t={updateInputValue:s=>{this.setState({inputValue:s})}},i={registerClickOutsideHandler:s=>{this.adapter.unregisterClickOutsideHandler();const a=o=>{const l=this.triggerRef&&this.triggerRef.current,u=this.optionContainerEl&&this.optionContainerEl.current,c=o.target,d=o.composedPath&&o.composedPath()||[c];u&&(!u.contains(c)||!u.contains(c.parentNode))&&l&&!l.contains(c)&&!(d.includes(l)||d.includes(u))&&s(o)};this.clickOutsideHandler=a,document.addEventListener("mousedown",a,!1)},unregisterClickOutsideHandler:()=>{this.clickOutsideHandler&&(document.removeEventListener("mousedown",this.clickOutsideHandler,!1),this.clickOutsideHandler=null)},rePositionDropdown:()=>{let{rePosKey:s}=this.state;s=s+1,this.setState({rePosKey:s})}},r={updateState:s=>{this.setState(Object.assign({},s))},notifySelect:(s,a,o)=>{this.props.onSelect&&this.props.onSelect(s,a,o)},notifySearch:(s,a,o)=>{this.props.onSearch&&this.props.onSearch(s,a,o)},cacheFlattenNodes:s=>{this.setState({cachedFlattenNodes:s?h4(this.state.flattenNodes):void 0})},notifyLoad:(s,a)=>{const{onLoad:o}=this.props;Mn(o)&&o(s,a)},notifyClear:s=>{this.props.onClear&&this.props.onClear(s)}};return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},super.adapter),t),i),r),{updateLoadKeys:(s,a)=>{this.setState(o=>{let{loadedKeys:l,loadingKeys:u}=o;return this.foundation.handleNodeLoad(l,u,s,a)})},updateState:s=>{this.setState(Object.assign({},s))},openMenu:()=>{this.setState({isOpen:!0},()=>{this.props.onVisibleChange(!0)})},closeMenu:s=>{this.setState({isOpen:!1},()=>{s&&s(),this.props.onVisibleChange(!1)})},getTriggerWidth:()=>{const s=this.triggerRef.current;return s&&s.getBoundingClientRect().width},setOptionWrapperWidth:s=>{this.setState({dropdownMinWidth:s})},notifyChange:(s,a,o)=>{this.props.onChange&&this.props.onChange(s,a,o)},notifyChangeWithObject:(s,a)=>{this.props.onChange&&this.props.onChange(s,a)},notifyExpand:(s,a)=>{let{expanded:o,node:l}=a;this.props.onExpand&&this.props.onExpand([...s],{expanded:o,node:l}),o&&this.props.loadData&&this.onNodeLoad(l)},notifyFocus:function(){e.props.onFocus&&e.props.onFocus(...arguments)},notifyBlur:function(){e.props.onBlur&&e.props.onBlur(...arguments)},toggleHovering:s=>{this.setState({isHovering:s})},updateInputFocus:s=>{if(s){if(this.inputRef&&this.inputRef.current){const{preventScroll:a}=this.props;this.inputRef.current.focus({preventScroll:a})}this.tagInputRef&&this.tagInputRef.current&&this.tagInputRef.current.focus()}else this.inputRef&&this.inputRef.current&&this.inputRef.current.blur(),this.tagInputRef&&this.tagInputRef.current&&this.tagInputRef.current.blur()},updateIsFocus:s=>{this.setState({isFocus:s})}})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}render(){const e=this.renderContent(),{motion:t,zIndex:i,mouseLeaveDelay:r,mouseEnterDelay:s,autoAdjustOverflow:a,stopPropagation:o,getPopupContainer:l,dropdownMargin:u,position:c}=this.props,{isOpen:d,rePosKey:h}=this.state,f=this.renderSelection(),p=c||"bottomLeft";return M.createElement(Ko,{stopPropagation:o,getPopupContainer:l,zIndex:i,motion:t,margin:u,ref:this.optionsRef,content:e,visible:d,trigger:"custom",rePosKey:h,position:p,autoAdjustOverflow:a,mouseLeaveDelay:r,mouseEnterDelay:s,onVisibleChange:this.handlePopoverVisibleChange,afterClose:this.afterClose},f)}}zj.contextType=Ql;zj.propTypes={"aria-describedby":S.string,"aria-errormessage":S.string,"aria-invalid":S.bool,"aria-labelledby":S.string,"aria-required":S.bool,borderless:S.bool,loadedKeys:S.arrayOf(S.string),loadData:S.func,onLoad:S.func,arrowIcon:S.node,clearIcon:S.node,defaultOpen:S.bool,defaultValue:S.oneOfType([S.string,S.array,S.object]),defaultExpandAll:S.bool,defaultExpandedKeys:S.array,expandAll:S.bool,disabled:S.bool,disableStrictly:S.bool,filterTreeNode:S.oneOfType([S.func,S.bool]),multiple:S.bool,searchPlaceholder:S.string,searchAutoFocus:S.bool,virtualize:S.object,treeNodeFilterProp:S.string,onChange:S.func,onClear:S.func,onSearch:S.func,onSelect:S.func,onExpand:S.func,onChangeWithObject:S.bool,onBlur:S.func,onFocus:S.func,value:S.oneOfType([S.string,S.number,S.array,S.object]),expandedKeys:S.array,autoExpandParent:S.bool,showClear:S.bool,showSearchClear:S.bool,autoAdjustOverflow:S.bool,showFilteredOnly:S.bool,showLine:S.bool,motionExpand:S.bool,emptyContent:S.node,keyMaps:S.object,leafOnly:S.bool,treeData:S.arrayOf(S.shape({key:S.string,value:S.oneOfType([S.string,S.number]),label:S.any})),dropdownClassName:S.string,dropdownStyle:S.object,dropdownMargin:S.oneOfType([S.number,S.object]),motion:S.bool,placeholder:S.string,maxTagCount:S.number,size:S.oneOf(bu.SIZE_SET),className:S.string,style:S.object,treeNodeLabelProp:S.string,suffix:S.node,prefix:S.node,insetLabel:S.node,insetLabelId:S.string,zIndex:S.number,getPopupContainer:S.func,dropdownMatchSelectWidth:S.bool,validateStatus:S.oneOf(bu.STATUS),mouseEnterDelay:S.number,mouseLeaveDelay:S.number,triggerRender:S.func,stopPropagation:S.oneOfType([S.bool,S.string]),outerBottomSlot:S.node,outerTopSlot:S.node,onVisibleChange:S.func,expandAction:S.oneOf(["click","doubleClick",!1]),searchPosition:S.oneOf([bu.SEARCH_POSITION_DROPDOWN,bu.SEARCH_POSITION_TRIGGER]),clickToHide:S.bool,renderLabel:S.func,renderFullLabel:S.func,labelEllipsis:S.bool,optionListStyle:S.object,searchRender:S.oneOfType([S.func,S.bool]),renderSelectedItem:S.func,checkRelation:S.string,"aria-label":S.string,showRestTagsPopover:S.bool,restTagsPopoverProps:S.object,preventScroll:S.bool,clickTriggerToHide:S.bool,autoMergeValue:S.bool};zj.defaultProps={borderless:!1,searchPosition:bu.SEARCH_POSITION_DROPDOWN,arrowIcon:M.createElement(k1,null),autoExpandParent:!1,autoAdjustOverflow:!0,stopPropagation:!0,motion:!0,motionExpand:!0,expandAll:!1,zIndex:mc.DEFAULT_Z_INDEX,disableStrictly:!1,multiple:!1,filterTreeNode:!1,size:"default",treeNodeFilterProp:"label",onChangeWithObject:!1,treeNodeLabelProp:"label",dropdownMatchSelectWidth:!0,defaultOpen:!1,showSearchClear:!0,showClear:!1,onVisibleChange:be,expandAction:!1,clickToHide:!0,searchAutoFocus:!1,checkRelation:"related","aria-label":"TreeSelect",showRestTagsPopover:!1,restTagsPopoverProps:{},clickTriggerToHide:!0,autoMergeValue:!0};const qFt=`${nt}-upload`,Yue="picture",Kue="list",ZFt="none",QFt=.95,xAe={PREFIX:qFt},Xue="auto",JFt="custom",Wi={FILE_STATUS_UPLOADING:"uploading",FILE_STATUS_SUCCESS:"success",FILE_STATUS_UPLOAD_FAIL:"uploadFail",FILE_STATUS_VALIDATING:"validating",FILE_STATUS_VALID_FAIL:"validateFail",FILE_STATUS_WAIT_UPLOAD:"wait",FILE_LIST_PIC:Yue,FILE_LIST_DEFAULT:Kue,LIST_TYPE:[Yue,Kue,ZFt],DRAG_AREA_DEFAULT:"default",DRAG_AREA_LEGAL:"legal",DRAG_AREA_ILLEGAL:"illegal",TRIGGER_AUTO:Xue,UPLOAD_TRIGGER:[Xue,JFt],VALIDATE_STATUS:w1,PROMPT_POSITION:["left","right","bottom"]},eBt={PROGRESS_COEFFICIENT:QFt};var _8=function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(c){try{u(i.next(c))}catch(d){a(d)}}function l(c){try{u(i.throw(c))}catch(d){a(d)}}function u(c){c.done?s(c.value):r(c.value).then(o,l)}u((i=i.apply(n,e||[])).next())})};const Gx=1024,f4=1048576;function b8(n){if(n<Gx)return`${(n/Gx).toFixed(2)}KB`;if(n>=Gx&&n<f4)return`${(n/Gx).toFixed(1)}KB`;if(n>=f4)return`${(n/f4).toFixed(1)}MB`}function tBt(n,e){return n.indexOf(e,n.length-e.length)!==-1}function nBt(n){return _8(this,void 0,void 0,function*(){return new Promise((e,t)=>{const i=n.createReader();let r=[];function s(){i.readEntries(a=>{const o=Array.prototype.slice.apply(a);r=r.concat(o),!o.length?e(r):s()},t)}s()})})}function iBt(n){return _8(this,void 0,void 0,function*(){const e=[],t=(i,r)=>_8(this,void 0,void 0,function*(){if(r=r||"",i.path=r,i.isFile)e.push(new Promise((s,a)=>{i.file(o=>{i.fullPath&&!o.webkitRelativePath&&(Object.defineProperties(o,{webkitRelativePath:{writable:!0}}),o.webkitRelativePath=i.fullPath.replace(/^\//,""),Object.defineProperties(o,{webkitRelativePath:{writable:!1}})),s(o)},a)}));else if(i.isDirectory){const s=yield nBt(i);for(let a=0;a<s.length;a++){const o=s[a];yield t(o,`${r}${i.name}/`)}}});try{const i=n.map(s=>t(s.webkitGetAsEntry()));return yield Promise.all(i),yield Promise.all(e)}catch(i){return console.warn("Captured error while loop directory."),console.error(i),[]}})}var rBt=function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(c){try{u(i.next(c))}catch(d){a(d)}}function l(c){try{u(i.throw(c))}catch(d){a(d)}}function u(c){c.done?s(c.value):r(c.value).then(o,l)}u((i=i.apply(n,e||[])).next())})};const{FILE_STATUS_UPLOADING:que,FILE_STATUS_SUCCESS:sBt,FILE_STATUS_UPLOAD_FAIL:aBt,FILE_STATUS_VALID_FAIL:p4,FILE_STATUS_WAIT_UPLOAD:Zue,DRAG_AREA_DEFAULT:g4,DRAG_AREA_LEGAL:oBt,TRIGGER_AUTO:rD}=Wi;class lBt extends jn{constructor(e){super(Object.assign({},e)),this.destroyState=!1}init(){this.destroyState=!1;const{disabled:e,addOnPasting:t}=this.getProps();t&&!e&&this.bindPastingHandler()}destroy(){const{disabled:e,addOnPasting:t}=this.getProps();this.releaseMemory(),e||this.unbindPastingHandler(),this.destroyState=!0}getError(e){let{action:t,xhr:i,message:r,fileName:s}=e;const a=i?i.status:0,o=r||`cannot post ${s} to ${t}, xhr status: ${a}'`,l=new Error(o);return l.status=a,l.method="post",l.url=t,l}getBody(e){if(!e)return;const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}checkFileSize(e){const{size:t}=e,{maxSize:i,minSize:r}=this.getProps();let s=!1;return(t>i*Gx||t<r*Gx)&&(s=!0),s}handleChange(e){const t=[],{limit:i,transformFile:r,accept:s}=this.getProps(),{fileList:a}=this.getStates();let o=Array.from(e);if(typeof s<"u"&&(o=o.filter(u=>{const c=this.checkFileFormat(s,u);return c||t.push(u),c}),t.length!==0&&this._adapter.notifyAcceptInvalid(t),o.length===0))return;o=o.map(u=>(r&&(u=r(u)),u.uid||(u.uid=cA()),this.checkFileSize(u)&&(u._sizeInvalid=!0,u.status=p4,this._adapter.notifySizeError(u,a)),u));const l=a.length+o.length;if(typeof i<"u"&&l>i){if(this._adapter.notifyExceed(o),i===1){o=o.slice(-1),this._adapter.notifyFileSelect(o),this._adapter.resetInput(),this.replaceFileList(o);return}const u=i-a.length;o=o.slice(0,u)}this._adapter.notifyFileSelect(o),this._adapter.resetInput(),this.addFilesToList(o)}handleReplaceChange(e){if(e.length===0)return;const{transformFile:t,uploadTrigger:i,accept:r}=this.getProps(),{replaceIdx:s,fileList:a}=this.getStates();let o=Array.from(e).pop();if(typeof r<"u"&&!this.checkFileFormat(r,o)){this._adapter.notifyAcceptInvalid([o]);return}t&&(o=t(o)),o.uid||(o.uid=cA()),this.checkFileSize(o)&&(o._sizeInvalid=!0,o.status=p4,this._adapter.notifySizeError(o,a)),this._adapter.notifyFileSelect([o]);const l=this.buildFileItem(o,i),u=[...a];u.splice(s,1,l),this._adapter.notifyChange({currentFile:l,fileList:u}),this._adapter.updateFileList(u,()=>{this._adapter.resetReplaceInput(),l._sizeInvalid||this.upload(l)})}buildFileItem(e,t){const{_sizeInvalid:i,status:r}=e;try{delete e._sizeInvalid,delete e.status}catch{}const s={status:r||(t===rD?que:Zue),name:e.name,size:b8(e.size),uid:e.uid,percent:0,fileInstance:e,url:this._createURL(e)};return i&&(s._sizeInvalid=!0),this.isImage(e)&&(s.preview=!0),s}replaceFileList(e){const{uploadTrigger:t}=this.getProps(),i=e.map(r=>this.buildFileItem(r,t));this._adapter.notifyChange({fileList:i,currentFile:i[0]}),this._adapter.updateFileList(i,()=>{t===rD&&this.startUpload(i)})}addFilesToList(e){const t=this.getState("fileList").slice(),{uploadTrigger:i}=this.getProps(),r=e.map(s=>this.buildFileItem(s,i));r.forEach(s=>{const a=t.findIndex(o=>o.uid===s.uid);a!==-1?t[a]=s:(t.push(s),this._adapter.notifyChange({fileList:t,currentFile:s}))}),this._adapter.updateFileList(t,()=>{i===rD&&this.startUpload(r)})}insertFileToList(e,t){const{limit:i,transformFile:r,accept:s,uploadTrigger:a}=this.getProps(),{fileList:o}=this.getStates(),l=[];let u=Array.from(e);if(typeof s<"u"&&(u=u.filter(f=>{const p=this.checkFileFormat(s,f);return p||l.push(f),p}),l.length!==0&&this._adapter.notifyAcceptInvalid(l),u.length===0))return;u=u.map(f=>(f.uid||(f.uid=cA()),this.checkFileSize(f)&&(f._sizeInvalid=!0,f.status=p4,this._adapter.notifySizeError(f,o)),r&&(f=r(f)),f));const c=o.length+u.length;if(typeof i<"u"&&c>i){if(i===1){u=u.slice(-1),this._adapter.notifyFileSelect(u),this._adapter.resetInput(),this.replaceFileList(u);return}const f=i-o.length;u=u.slice(0,f),this._adapter.notifyExceed(u)}const d=u.map(f=>this.buildFileItem(f,a)),h=o.slice();typeof t<"u"?h.splice(t,0,...d):h.push(...d),this._adapter.notifyFileSelect(u),this._adapter.notifyChange({fileList:h,currentFile:null}),this._adapter.updateFileList(h,()=>{a===rD&&this.startUpload(d)})}manualUpload(){const e=this.getState("fileList").filter(t=>t.status===Zue);this.startUpload(e)}startUpload(e){e.forEach(t=>{t._sizeInvalid||this.upload(t)})}upload(e){const{beforeUpload:t}=this.getProps();if(typeof t>"u"){this.post(e);return}if(typeof t=="function"){const{fileList:i}=this.getStates(),r=this._adapter.notifyBeforeUpload({file:e,fileList:i});switch(!0){case r===!0:{this.post(e);break}case r===!1:{const s={shouldUpload:!1,status:Wi.FILE_STATUS_VALID_FAIL};this.handleBeforeUploadResultInObject(s,e);break}case(r&&sO(r)):{Promise.resolve(r).then(s=>{let a={shouldUpload:!0};Object.prototype.toString.call(s).slice(8,-1)==="Object"&&(a=Object.assign(Object.assign({},a),s)),this.handleBeforeUploadResultInObject(a,e)},s=>{let a={shouldUpload:!1,status:Wi.FILE_STATUS_VALID_FAIL};Object.prototype.toString.call(s).slice(8,-1)==="Object"&&(a=Object.assign(Object.assign({},a),s)),this.handleBeforeUploadResultInObject(a,e)});break}case typeof r=="object":this.handleBeforeUploadResultInObject(r,e);break}}}handleBeforeUploadResultInObject(e,t){const{shouldUpload:i,status:r,autoRemove:s,validateMessage:a,fileInstance:o}=e;let l=this.getState("fileList").slice();if(s)l=l.filter(u=>u.uid!==t.uid);else{const u=this._getFileIndex(t,l);if(u<0)return;r&&(l[u].status=r),a&&(l[u].validateMessage=a),o&&(o.uid=t.uid,l[u].fileInstance=o,l[u].size=b8(o.size),l[u].name=o.name,l[u].url=this._createURL(o)),l[u].shouldUpload=i}this._adapter.updateFileList(l),this._adapter.notifyChange({fileList:l,currentFile:t}),i&&this.post(t)}post(e){const{fileInstance:t}=e,i=this.getProps();if(typeof XMLHttpRequest>"u")return;const r=new XMLHttpRequest,s=new FormData,{action:a}=i;let{data:o}=i;o&&(typeof o=="function"&&(o=o(t)),Object.keys(o).forEach(c=>{s.append(c,o[c])}));const l=i.name||i.fileName||t.name;if(i.customRequest)return i.customRequest({fileName:l,data:o,file:e,fileInstance:t,onProgress:c=>this.handleProgress({e:c,fileInstance:t}),onError:(c,d)=>this.handleError({e:d,xhr:c,fileInstance:t}),onSuccess:(c,d)=>this.handleSuccess({response:c,fileInstance:t,e:d,isCustomRequest:!0}),withCredentials:i.withCredentials,action:i.action});s.append(l,t),r.open("post",a,!0),i.withCredentials&&"withCredentials"in r&&(r.withCredentials=!0),r.upload&&(r.upload.onprogress=c=>{this.destroyState?r.abort():this.handleProgress({e:c,fileInstance:t})}),r.onload=c=>{this.destroyState||this.handleOnLoad({e:c,xhr:r,fileInstance:t})},r.onerror=c=>{this.destroyState||this.handleError({e:c,xhr:r,fileInstance:t})};let u=i.headers||{};typeof u=="function"&&(u=u(t));for(const c in u)Object.prototype.hasOwnProperty.call(u,c)&&u[c]!==null&&r.setRequestHeader(c,u[c]);r.send(s)}handleProgress(e){let{e:t,fileInstance:i}=e;const{fileList:r}=this.getStates(),s=r.slice();let a=0;t.total>0&&(a=Number((t.loaded/t.total*100*eBt.PROGRESS_COEFFICIENT).toFixed(0))||0);const o=this._getFileIndex(i,s);o<0||(s[o].percent=a,s[o].status=que,this._adapter.notifyProgress(a,i,s),this._adapter.updateFileList(s),this._adapter.notifyChange({fileList:s,currentFile:s[o]}))}handleOnLoad(e){let{e:t,xhr:i,fileInstance:r}=e;const{fileList:s}=this.getStates(),a=this._getFileIndex(r,s);a<0||(i.status<200||i.status>=300?this.handleError({e:t,xhr:i,fileInstance:r}):this.handleSuccess({e:t,xhr:i,fileInstance:r,index:a}))}handleSuccess(e){let{e:t,fileInstance:i,isCustomRequest:r=!1,xhr:s,response:a}=e;const{fileList:o}=this.getStates();let l=null;const u=this._getFileIndex(i,o);if(u<0)return;r?l=a:l=this.getBody(s);const c=o.slice(),{afterUpload:d}=this.getProps();if(c[u].status=sBt,c[u].percent=100,this._adapter.notifyProgress(100,i,c),c[u].response=l,t&&(c[u].event=t),d&&typeof d=="function"){const{autoRemove:h,status:f,validateMessage:p,name:g,url:m}=this._adapter.notifyAfterUpload({response:l,file:c[u],fileList:c})||{};f&&(c[u].status=f),p&&(c[u].validateMessage=p),g&&(c[u].name=g),m&&(c[u].url=m),h&&c.splice(u,1)}this._adapter.notifySuccess(l,i,c),this._adapter.notifyChange({fileList:c,currentFile:c[u]}),this._adapter.updateFileList(c)}_getFileIndex(e,t){return t.findIndex(i=>i.uid===e.uid)}handleRemove(e){const{disabled:t}=this.getProps();if(t)return;const{fileList:i}=this.getStates();Promise.resolve(this._adapter.notifyBeforeRemove(e,i)).then(r=>{if(r===!1)return;const s=i.slice(),a=this._getFileIndex(e,i);a<0||(s.splice(a,1),this._adapter.notifyRemove(e.fileInstance,s,e),this._adapter.updateFileList(s),this._adapter.notifyChange({fileList:s,currentFile:e}))})}handleError(e){let{e:t,xhr:i,fileInstance:r}=e;const{fileList:s}=this.getStates(),a=this._getFileIndex(r,s);if(a<0)return;const{action:o}=this.getProps(),l=s.slice(),u=this.getError({action:o,xhr:i,fileName:r.name});l[a].status=aBt,l[a].response=u,l[a].event=t,this._adapter.notifyError(u,r,l,i),this._adapter.updateFileList(l),this._adapter.notifyChange({currentFile:l[a],fileList:l})}handleClear(){const{disabled:e}=this.getProps(),{fileList:t}=this.getStates();e||Promise.resolve(this._adapter.notifyBeforeClear(t)).then(i=>{i!==!1&&(this._adapter.updateFileList([]),this._adapter.notifyClear(),this._adapter.notifyChange({fileList:[]}))}).catch(i=>{})}_createURL(e){const t=URL.createObjectURL(e),{localUrls:i}=this.getStates(),r=i.slice();return r.push(t),this._adapter.updateLocalUrls(r),t}releaseMemory(){const{localUrls:e}=this.getStates();e.forEach(t=>{this._releaseBlob(t)})}_releaseBlob(e){try{URL.revokeObjectURL(e)}catch(t){console.log(t)}}isImage(e){return/(webp|svg|png|gif|jpg|jpeg|bmp|dpg)$/i.test(e.type)}isMultiple(){return!!this.getProp("multiple")}handleDragEnter(e){e.preventDefault(),e.stopPropagation(),this._dragEnterTarget=e.currentTarget;const{disabled:t}=this.getProps();t||this._adapter.updateDragAreaStatus(oBt)}handleDirectoryDrop(e){return rBt(this,void 0,void 0,function*(){const t=this.getState("fileList").slice(),i=[].slice.call(e.dataTransfer.items),r=yield iBt(i);this.handleChange(r),this._adapter.updateDragAreaStatus(g4),this._adapter.notifyDrop(e,r,t)})}handleDrop(e){e.preventDefault(),e.stopPropagation();const{disabled:t,directory:i}=this.getProps(),r=this.getState("fileList").slice();if(!t){if(i){this.handleDirectoryDrop(e);return}const s=Array.from(e.dataTransfer.files);this.handleChange(s),this._adapter.updateDragAreaStatus(g4),this._adapter.notifyDrop(e,s,r)}}handleDragOver(e){e.preventDefault(),e.stopPropagation()}handleDragLeave(e){e.preventDefault(),e.stopPropagation(),this._dragEnterTarget===e.target&&this._adapter.updateDragAreaStatus(g4)}checkFileFormat(e,t){const i=e.split(",").map(a=>a.trim()).filter(a=>a),r=t.type||"",s=r.replace(/\/.*$/,"");return i.some(a=>{if(a.charAt(0)==="."){const o=t.name||"",l=a.split(".").pop().toLowerCase();return tBt(o.toLowerCase(),l)}if(/\/\*$/.test(a)){const o=a.replace(/\/.*$/,"");return s===o}return/^[^\/]+\/[^\/]+$/.test(a)?r===a:!1})}retry(e){const{onRetry:t}=this.getProps();t&&typeof t=="function"&&t(e),this.post(e)}handlePreviewClick(e){this._adapter.notifyPreviewClick(e)}readFileFromClipboard(e){for(const t of e)for(const i of t.types)i.startsWith("image")&&t.getType(i).then(r=>r.arrayBuffer()).then(r=>{const s=i.split("/")[1],a=new File([r],`upload.${s}`,{type:i});this.handleChange([a])})}handlePasting(e){const i=this._adapter.isMac()?e.metaKey:e.ctrlKey,{addOnPasting:r}=this.getProps();r&&i&&e.code==="KeyV"&&navigator.permissions.query({name:"clipboard-read"}).then(a=>{a.state==="granted"||a.state==="prompt"?navigator.clipboard.read().then(o=>{this.readFileFromClipboard(o)}):this._adapter.notifyPastingError(a)}).catch(a=>{this._adapter.notifyPastingError(a)})}bindPastingHandler(){this._adapter.registerPastingHandler(e=>this.handlePasting(e))}unbindPastingHandler(){this._adapter.unRegisterPastingHandler()}}class uBt extends jn{constructor(e){super(Object.assign({},e))}handleImageError(e){this._adapter.updateFallbackPreview(!0)}}const Ir=xAe.PREFIX,cBt=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return M.createElement("svg",Object.assign({focusable:!1,"aria-hidden":!0,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),M.createElement("circle",{cx:"7.99992",cy:"7.99992",r:"6.66667",fill:"white"}),M.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.3332 8.00008C15.3332 12.0502 12.0499 15.3334 7.99984 15.3334C3.94975 15.3334 0.666504 12.0502 0.666504 8.00008C0.666504 3.94999 3.94975 0.666748 7.99984 0.666748C12.0499 0.666748 15.3332 3.94999 15.3332 8.00008ZM8.99984 11.6667C8.99984 11.1145 8.55212 10.6667 7.99984 10.6667C7.44755 10.6667 6.99984 11.1145 6.99984 11.6667C6.99984 12.219 7.44755 12.6667 7.99984 12.6667C8.55212 12.6667 8.99984 12.219 8.99984 11.6667ZM7.99984 3.33341C7.27573 3.33341 6.7003 3.94171 6.74046 4.66469L6.94437 8.33495C6.97549 8.89513 7.4388 9.33341 7.99984 9.33341C8.56087 9.33341 9.02419 8.89513 9.05531 8.33495L9.25921 4.66469C9.29938 3.94171 8.72394 3.33341 7.99984 3.33341Z",fill:"#F93920"}))},dBt=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return M.createElement("svg",Object.assign({focusable:!1,"aria-hidden":!0,width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),M.createElement("circle",{cx:"14",cy:"14",r:"14",fill:"#16161A",fillOpacity:"0.6"}),M.createElement("path",{d:"M9 10.25V18.25L10.25 13.25H17.875V11.75C17.875 11.4739 17.6511 11.25 17.375 11.25H14L12.75 9.75H9.5C9.22386 9.75 9 9.97386 9 10.25Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),M.createElement("path",{d:"M18 18.25L19 13.25H10.2031L9 18.25H18Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},hBt=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return M.createElement("svg",Object.assign({focusable:!1,"aria-hidden":!0,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),M.createElement("path",{d:"M6 17V7.58824C6 7.26336 6.26863 7 6.6 7H10.5L12 8.76471H16.05C16.3814 8.76471 16.65 9.02806 16.65 9.35294V11.1176H7.5L6 17ZM6 17L7.44375 11.1176H18L16.8 17L6 17Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))};class Hj extends An{constructor(e){super(e),this.state={fallbackPreview:!1},this.foundation=new uBt(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateFallbackPreview:e=>this.setState({fallbackPreview:e})})}transSize(e){return typeof e=="number"?b8(e):e}renderValidateMessage(){const{status:e,validateMessage:t}=this.props;let i=null;switch(!0){case(typeof t=="string"&&e===Wi.FILE_STATUS_VALIDATING):i=M.createElement(M.Fragment,null,M.createElement(bh,{size:"small",wrapperClassName:`${Ir}-file-card-icon-loading`}),t);break;case typeof t=="string":i=M.createElement(M.Fragment,null,M.createElement(JL,{className:`${Ir}-file-card-icon-error`}),t);break;case Z6(t):i=t;break}return i}renderPicValidateMsg(){const{status:e,validateMessage:t}=this.props;let i=null;switch(!0){case(t&&e===Wi.FILE_STATUS_VALIDATING):i=M.createElement("span",{className:`${Ir}-tooltip-children-wrapper ${Ir}-picture-file-card-icon-loading`},M.createElement(bh,{size:"small"}));break;case(t&&(e===Wi.FILE_STATUS_VALID_FAIL||e===Wi.FILE_STATUS_UPLOAD_FAIL)):i=M.createElement("div",{className:`${Ir}-picture-file-card-icon-error`},M.createElement(cBt,null));break}return i?M.createElement(xo,{content:t,trigger:"hover",position:"bottom"},i):null}renderPic(e){const{fallbackPreview:t}=this.state,{url:i,percent:r,status:s,disabled:a,style:o,onPreviewClick:l,showPicInfo:u,renderPicInfo:c,renderPicClose:d,renderPicPreviewIcon:h,renderThumbnail:f,name:p,index:g,picHeight:m,picWidth:v}=this.props,_=s===Wi.FILE_STATUS_UPLOADING&&r!==100,y=s===Wi.FILE_STATUS_UPLOAD_FAIL&&this.props.showRetry,x=s===Wi.FILE_STATUS_SUCCESS&&this.props.showReplace,w=s===Wi.FILE_STATUS_SUCCESS&&!this.props.showReplace,T=typeof f=="function",E=le({[`${Ir}-picture-file-card`]:!0,[`${Ir}-picture-file-card-preview-fallback`]:t,[`${Ir}-picture-file-card-disabled`]:a,[`${Ir}-picture-file-card-show-pointer`]:typeof l<"u",[`${Ir}-picture-file-card-error`]:s===Wi.FILE_STATUS_UPLOAD_FAIL,[`${Ir}-picture-file-card-uploading`]:_,[`${Ir}-picture-file-card-custom-thumbnail`]:T&&m&&v}),A=M.createElement("div",{role:"button",tabIndex:0,className:`${Ir}-picture-file-card-retry`,onClick:z=>this.onRetry(z)},M.createElement(vxt,{className:`${Ir}-picture-file-card-icon-retry`})),k=M.createElement(xo,{trigger:"hover",position:"top",content:e.replace,showArrow:!1,spacing:4},M.createElement("div",{role:"button",tabIndex:0,className:`${Ir}-picture-file-card-replace`,onClick:z=>this.onReplace(z)},M.createElement(dBt,{className:`${Ir}-picture-file-card-icon-replace`}))),P=M.createElement("div",{className:`${Ir}-picture-file-card-preview`},typeof h=="function"?h(this.props):null),I=M.createElement(M.Fragment,null,typeof d=="function"?M.createElement(M.Fragment,null,d({className:`${Ir}-picture-file-card-close`,remove:z=>this.onRemove(z)})):M.createElement("div",{role:"button",tabIndex:0,className:`${Ir}-picture-file-card-close`,onClick:z=>this.onRemove(z)},M.createElement(e_,{className:`${Ir}-picture-file-card-icon-close`}))),D=typeof c=="function"?c(this.props):M.createElement("div",{className:`${Ir}-picture-file-card-pic-info`},g+1);let L={},B=o?Object.assign({},o):{};m&&(B.height=m,L.height=m),v&&(B.width=v,L.width=v);const $=T?f(this.props):t?M.createElement(tG,{size:"large"}):M.createElement("img",{src:i,alt:p,onError:z=>this.foundation.handleImageError(z),style:L});return M.createElement("div",{role:"listitem",className:E,style:B,onClick:l},$,_?M.createElement(dF,{percent:r,type:"circle",size:"small",orbitStroke:"#FFF","aria-label":"uploading file progress"}):null,y?A:null,x&&k,w&&P,u&&D,!a&&I,this.renderPicValidateMsg())}renderFile(e){const{name:t,size:i,percent:r,url:s,showRetry:a,showReplace:o,preview:l,previewFile:u,status:c,style:d,onPreviewClick:h,renderFileOperation:f,showTooltip:p}=this.props,{fallbackPreview:g}=this.state,m=le({[`${Ir}-file-card`]:!0,[`${Ir}-file-card-fail`]:c===Wi.FILE_STATUS_VALID_FAIL||c===Wi.FILE_STATUS_UPLOAD_FAIL,[`${Ir}-file-card-show-pointer`]:typeof h<"u"}),v=le({[`${Ir}-file-card-preview`]:!0,[`${Ir}-file-card-preview-placeholder`]:!l||u||g}),_=`${Ir}-file-card-info`,y=`${Ir}-file-card-close`,x=`${Ir}-file-card-replace`,w=!(r===100||typeof r>"u")&&c===Wi.FILE_STATUS_UPLOADING,T=c===Wi.FILE_STATUS_UPLOAD_FAIL&&a,E=c===Wi.FILE_STATUS_SUCCESS&&o,A=this.transSize(i);let k=l&&!g?M.createElement("img",{src:s,alt:t,onError:I=>this.foundation.handleImageError(I)}):M.createElement(tG,{size:"large"});u&&(k=u(this.props));const P=typeof f=="function"?f(this.props):M.createElement(Xl,{onClick:I=>this.onRemove(I),type:"tertiary",icon:M.createElement(ij,null),theme:"borderless",size:"small",className:y});return M.createElement("div",{role:"listitem",className:m,style:d,onClick:h},M.createElement("div",{className:v},k),M.createElement("div",{className:`${_}-main`},M.createElement("div",{className:`${_}-main-text`},M.createElement(t_.Text,{className:`${_}-name`,ellipsis:{showTooltip:p}},t),M.createElement("span",null,M.createElement("span",{className:`${_}-size`},A),E&&M.createElement(xo,{trigger:"hover",position:"top",showArrow:!1,content:e.replace},M.createElement("span",{className:`${Ir}-tooltip-children-wrapper ${x}`},M.createElement(Xl,{onClick:I=>this.onReplace(I),type:"tertiary",theme:"borderless",size:"small",icon:M.createElement(hBt,null)}))))),w?M.createElement(dF,{percent:r,style:{width:"100%"},"aria-label":"uploading file progress"}):null,M.createElement("div",{className:`${_}-main-control`},M.createElement("span",{className:`${_}-validate-message`},this.renderValidateMessage()),T?M.createElement("span",{role:"button",tabIndex:0,className:`${_}-retry`,onClick:I=>this.onRetry(I)},e.retry):null)),P)}onRemove(e){e.stopPropagation(),this.props.onRemove()}onReplace(e){e.stopPropagation(),this.props.onReplace()}onRetry(e){e.stopPropagation(),this.props.onRetry()}render(){const{listType:e}=this.props;return e===Wi.FILE_LIST_PIC?M.createElement(Qr,{componentName:"Upload"},t=>this.renderPic(t)):e===Wi.FILE_LIST_DEFAULT?M.createElement(Qr,{componentName:"Upload"},t=>this.renderFile(t)):null}}Hj.propTypes={className:S.string,disabled:S.bool,listType:S.string,name:S.string,onPreviewClick:S.func,onRemove:S.func,onReplace:S.func,onRetry:S.func,percent:S.number,preview:S.bool,previewFile:S.func,picWidth:S.oneOfType([S.number,S.string]),picHeight:S.oneOfType([S.number,S.string]),showReplace:S.bool,showRetry:S.bool,size:S.oneOfType([S.number,S.string]),status:S.string,style:S.object,url:S.string,validateMessage:S.node,index:S.number,showTooltip:S.oneOfType([S.bool,S.object])};Hj.defaultProps={listType:Wi.FILE_LIST_DEFAULT,name:"",onRemove:()=>{},onRetry:()=>{},preview:!1,size:"",showTooltip:!0};var fBt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const qs=xAe.PREFIX;class Vj extends An{constructor(e){super(e),this.inputRef=null,this.replaceInputRef=null,this.onClick=()=>{const{inputRef:t,props:i}=this,{onOpenFileDialog:r}=i;this.props.disabled||!t||!t.current||(t.current.click(),r&&r())},this.onChange=t=>{const{files:i}=t.target;this.foundation.handleChange(i)},this.replace=t=>{this.setState({replaceIdx:t},()=>{this.replaceInputRef.current.click()})},this.onReplaceChange=t=>{const{files:i}=t.target;this.foundation.handleReplaceChange(i)},this.clear=()=>{this.foundation.handleClear()},this.remove=t=>{this.foundation.handleRemove(t)},this.insert=(t,i)=>this.foundation.insertFileToList(t,i),this.upload=()=>{this.foundation.manualUpload()},this.openFileDialog=()=>{this.onClick()},this.renderFile=(t,i,r)=>{const{name:s,status:a,validateMessage:o,_sizeInvalid:l,uid:u}=t,{previewFile:c,listType:d,itemStyle:h,showPicInfo:f,renderPicInfo:p,renderPicClose:g,renderPicPreviewIcon:m,renderFileOperation:v,renderFileItem:_,renderThumbnail:y,disabled:x,onPreviewClick:w,picWidth:T,picHeight:E,showTooltip:A}=this.props,k=()=>this.remove(t),P=()=>{this.foundation.retry(t)},I=()=>{this.replace(i)},D=Object.assign(Object.assign(Object.assign({},Eu(this.props,["showRetry","showReplace",""])),t),{previewFile:c,listType:d,onRemove:k,onRetry:P,index:i,key:u||`${s}${i}`,style:h,disabled:x,showPicInfo:f,renderPicInfo:p,renderPicPreviewIcon:m,renderPicClose:g,renderFileOperation:v,renderThumbnail:y,onReplace:I,onPreviewClick:typeof w<"u"?()=>this.foundation.handlePreviewClick(t):void 0,picWidth:T,picHeight:E,showTooltip:A});return a===Wi.FILE_STATUS_UPLOAD_FAIL&&!o&&(D.validateMessage=r.fail),l&&!o&&(D.validateMessage=r.illegalSize),typeof _>"u"?M.createElement(Hj,Object.assign({},D)):_(D)},this.renderFileList=()=>{const{listType:t}=this.props;return t===Wi.FILE_LIST_PIC?this.renderFileListPic():t===Wi.FILE_LIST_DEFAULT?this.renderFileListDefault():null},this.renderFileListPic=()=>{const{showUploadList:t,limit:i,disabled:r,children:s,draggable:a,hotSpotLocation:o,picHeight:l,picWidth:u}=this.props,{fileList:c,dragAreaStatus:d}=this.state,h=this.props.fileList||c,f=i?i>h.length:!0,p=`${qs}-drag-area`,g=le(`${qs}-add`,{[`${qs}-picture-add`]:!0,[`${qs}-picture-add-disabled`]:r}),m=le(`${qs}-file-list`,{[`${qs}-picture-file-list`]:!0}),v=le({[`${p}-legal`]:d===Wi.DRAG_AREA_LEGAL,[`${p}-illegal`]:d===Wi.DRAG_AREA_ILLEGAL}),_=`${qs}-file-list-main`,y={role:"button",className:g,onClick:this.onClick,style:{height:l,width:u}},x={className:m},w={onDrop:this.onDrop,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDragEnter:this.onDragEnter};a&&Object.assign(y,w,{className:le(g,v)});const T=M.createElement("div",Object.assign({},y,{"x-semi-prop":"children"}),s);return!t||!h.length?f?T:null:M.createElement(Qr,{componentName:"Upload"},E=>M.createElement("div",Object.assign({},x),M.createElement("div",{className:_,role:"list","aria-label":"picture list"},f&&o==="start"?T:null,h.map((A,k)=>this.renderFile(A,k,E)),f&&o==="end"?T:null)))},this.renderFileListDefault=()=>{const{showUploadList:t,limit:i,disabled:r}=this.props,{fileList:s}=this.state,a=this.props.fileList||s,o=le(`${qs}-file-list`),l=`${qs}-file-list-title`,u=`${qs}-file-list-main`,c=i!==1&&a.length,d=this.props.showClear&&!r,h={className:o};return!t||!a.length?null:M.createElement(Qr,{componentName:"Upload"},f=>M.createElement("div",Object.assign({},h),c?M.createElement("div",{className:l},M.createElement("span",{className:`${l}-choosen`},f.selectedFiles),d?M.createElement("span",{role:"button",tabIndex:0,onClick:this.clear,className:`${l}-clear`},f.clear):null):null,M.createElement("div",{className:u,role:"list","aria-label":"file list"},a.map((p,g)=>this.renderFile(p,g,f)))))},this.onDrop=t=>{this.foundation.handleDrop(t)},this.onDragOver=t=>{this.foundation.handleDragOver(t)},this.onDragLeave=t=>{this.foundation.handleDragLeave(t)},this.onDragEnter=t=>{this.foundation.handleDragEnter(t)},this.renderAddContent=()=>{const{draggable:t,children:i,listType:r,disabled:s}=this.props,a=le(`${qs}-add`);return r===Wi.FILE_LIST_PIC?null:t?this.renderDragArea():M.createElement("div",{role:"button",tabIndex:0,"aria-disabled":s,className:a,onClick:this.onClick},i)},this.renderDragArea=()=>{const{dragAreaStatus:t}=this.state,{children:i,dragIcon:r,dragMainText:s,dragSubText:a,disabled:o}=this.props,l=`${qs}-drag-area`,u=le(l,{[`${l}-legal`]:t===Wi.DRAG_AREA_LEGAL,[`${l}-illegal`]:t===Wi.DRAG_AREA_ILLEGAL,[`${l}-custom`]:i});return M.createElement(Qr,{componentName:"Upload"},c=>M.createElement("div",{role:"button",tabIndex:0,"aria-disabled":o,className:u,onDrop:this.onDrop,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDragEnter:this.onDragEnter,onClick:this.onClick},i||M.createElement(M.Fragment,null,M.createElement("div",{className:`${l}-icon`,"x-semi-prop":"dragIcon"},r||M.createElement(kxt,{size:"extra-large"})),M.createElement("div",{className:`${l}-text`},M.createElement("div",{className:`${l}-main-text`,"x-semi-prop":"dragMainText"},s||c.mainText),M.createElement("div",{className:`${l}-sub-text`,"x-semi-prop":"dragSubText"},a),M.createElement("div",{className:`${l}-tips`},t===Wi.DRAG_AREA_LEGAL&&M.createElement("span",{className:`${l}-tips-legal`},c.legalTips),t===Wi.DRAG_AREA_ILLEGAL&&M.createElement("span",{className:`${l}-tips-illegal`},c.illegalTips))))))},this.state={fileList:e.defaultFileList||[],replaceIdx:-1,inputKey:Math.random(),replaceInputKey:Math.random(),dragAreaStatus:"default",localUrls:[]},this.foundation=new lBt(this.adapter),this.inputRef=M.createRef(),this.replaceInputRef=M.createRef()}static getDerivedStateFromProps(e){const{fileList:t}=e;return"fileList"in e?{fileList:t||[]}:null}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyFileSelect:e=>this.props.onFileChange(e),notifyError:(e,t,i,r)=>this.props.onError(e,t,i,r),notifySuccess:(e,t,i)=>this.props.onSuccess(e,t,i),notifyProgress:(e,t,i)=>this.props.onProgress(e,t,i),notifyRemove:(e,t,i)=>this.props.onRemove(e,t,i),notifySizeError:(e,t)=>this.props.onSizeError(e,t),notifyExceed:e=>this.props.onExceed(e),updateFileList:(e,t)=>{typeof t=="function"?this.setState({fileList:e},t):this.setState({fileList:e})},notifyBeforeUpload:e=>{let{file:t,fileList:i}=e;return this.props.beforeUpload({file:t,fileList:i})},notifyAfterUpload:e=>{let{response:t,file:i,fileList:r}=e;return this.props.afterUpload({response:t,file:i,fileList:r})},resetInput:()=>{this.setState(e=>({inputKey:Math.random()}))},resetReplaceInput:()=>{this.setState(e=>({replaceInputKey:Math.random()}))},isMac:()=>navigator.platform.toUpperCase().indexOf("MAC")>=0,registerPastingHandler:e=>{document.body.addEventListener("keydown",e),this.pastingCb=e},unRegisterPastingHandler:()=>{this.pastingCb&&document.body.removeEventListener("keydown",this.pastingCb)},notifyPastingError:e=>this.props.onPastingError(e),updateDragAreaStatus:e=>this.setState({dragAreaStatus:e}),notifyChange:e=>{let{currentFile:t,fileList:i}=e;return this.props.onChange({currentFile:t,fileList:i})},updateLocalUrls:e=>this.setState({localUrls:e}),notifyClear:()=>this.props.onClear(),notifyPreviewClick:e=>this.props.onPreviewClick(e),notifyDrop:(e,t,i)=>this.props.onDrop(e,t,i),notifyAcceptInvalid:e=>this.props.onAcceptInvalid(e),notifyBeforeRemove:(e,t)=>this.props.beforeRemove(e,t),notifyBeforeClear:e=>this.props.beforeClear(e)})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}render(){const e=this.props,{style:t,className:i,multiple:r,accept:s,disabled:a,children:o,capture:l,listType:u,prompt:c,promptPosition:d,draggable:h,validateMessage:f,validateStatus:p,directory:g}=e,m=fBt(e,["style","className","multiple","accept","disabled","children","capture","listType","prompt","promptPosition","draggable","validateMessage","validateStatus","directory"]),v=le(qs,{[`${qs}-picture`]:u===Wi.FILE_LIST_PIC,[`${qs}-disabled`]:a,[`${qs}-default`]:p==="default",[`${qs}-error`]:p==="error",[`${qs}-warning`]:p==="warning",[`${qs}-success`]:p==="success"},i),_=le(`${qs}-hidden-input`),y=le(`${qs}-hidden-input-replace`),x=le(`${qs}-prompt`),w=le(`${qs}-validate-message`),T=g?{directory:"directory",webkitdirectory:"webkitdirectory"}:{};return M.createElement("div",Object.assign({className:v,style:t,"x-prompt-pos":d},this.getDataAttr(m)),M.createElement("input",Object.assign({key:this.state.inputKey,capture:l,multiple:r,accept:s,onChange:this.onChange,type:"file",autoComplete:"off",tabIndex:-1,className:_,ref:this.inputRef},T)),M.createElement("input",{key:this.state.replaceInputKey,multiple:!1,accept:s,onChange:this.onReplaceChange,type:"file",autoComplete:"off",tabIndex:-1,className:y,ref:this.replaceInputRef}),this.renderAddContent(),c?M.createElement("div",{className:x,"x-semi-prop":"prompt"},c):null,f?M.createElement("div",{className:w,"x-semi-prop":"validateMessage"},f):null,this.renderFileList())}}Vj.propTypes={accept:S.string,action:S.string.isRequired,addOnPasting:S.bool,afterUpload:S.func,beforeClear:S.func,beforeRemove:S.func,beforeUpload:S.func,children:S.node,className:S.string,customRequest:S.func,data:S.oneOfType([S.object,S.func]),defaultFileList:S.array,directory:S.bool,disabled:S.bool,dragIcon:S.node,dragMainText:S.node,dragSubText:S.node,draggable:S.bool,fileList:S.array,fileName:S.string,headers:S.oneOfType([S.object,S.func]),hotSpotLocation:S.oneOf(["start","end"]),itemStyle:S.object,limit:S.number,listType:S.oneOf(Wi.LIST_TYPE),maxSize:S.number,minSize:S.number,multiple:S.bool,name:S.string,onAcceptInvalid:S.func,onChange:S.func,onClear:S.func,onDrop:S.func,onError:S.func,onExceed:S.func,onFileChange:S.func,onOpenFileDialog:S.func,onPreviewClick:S.func,onProgress:S.func,onRemove:S.func,onRetry:S.func,onSizeError:S.func,onSuccess:S.func,onPastingError:S.func,previewFile:S.func,prompt:S.node,promptPosition:S.oneOf(Wi.PROMPT_POSITION),picWidth:S.oneOfType([S.number,S.string]),picHeight:S.oneOfType([S.number,S.string]),renderFileItem:S.func,renderPicPreviewIcon:S.func,renderFileOperation:S.func,renderPicClose:S.func,renderPicInfo:S.func,renderThumbnail:S.func,showClear:S.bool,showPicInfo:S.bool,showReplace:S.bool,showRetry:S.bool,showUploadList:S.bool,style:S.object,timeout:S.number,transformFile:S.func,uploadTrigger:S.oneOf(Wi.UPLOAD_TRIGGER),validateMessage:S.node,validateStatus:S.oneOf(Wi.VALIDATE_STATUS),withCredentials:S.bool,showTooltip:S.oneOfType([S.bool,S.object])};Vj.defaultProps={defaultFileList:[],disabled:!1,listType:"list",hotSpotLocation:"end",multiple:!1,onAcceptInvalid:be,onChange:be,beforeRemove:()=>!0,beforeClear:()=>!0,onClear:be,onDrop:be,onError:be,onExceed:be,onFileChange:be,onOpenFileDialog:be,onProgress:be,onRemove:be,onRetry:be,onSizeError:be,onSuccess:be,onPastingError:be,promptPosition:"right",showClear:!0,showPicInfo:!1,showReplace:!1,showRetry:!0,showUploadList:!0,uploadTrigger:"auto",withCredentials:!1,showTooltip:!0};Vj.FileCard=Hj;function Ab(){return Ab=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ab.apply(this,arguments)}function pBt(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,cO(n,e)}function S8(n){return S8=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},S8(n)}function cO(n,e){return cO=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},cO(n,e)}function gBt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function H2(n,e,t){return gBt()?H2=Reflect.construct:H2=function(r,s,a){var o=[null];o.push.apply(o,s);var l=Function.bind.apply(r,o),u=new l;return a&&cO(u,a.prototype),u},H2.apply(null,arguments)}function mBt(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function x8(n){var e=typeof Map=="function"?new Map:void 0;return x8=function(i){if(i===null||!mBt(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(i))return e.get(i);e.set(i,r)}function r(){return H2(i,arguments,S8(this).constructor)}return r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),cO(r,i)},x8(n)}var vBt=/%[sdj%]/g,yBt=function(){};function w8(n){if(!n||!n.length)return null;var e={};return n.forEach(function(t){var i=t.field;e[i]=e[i]||[],e[i].push(t)}),e}function qc(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var i=1,r=e[0],s=e.length;if(typeof r=="function")return r.apply(null,e.slice(1));if(typeof r=="string"){var a=String(r).replace(vBt,function(o){if(o==="%%")return"%";if(i>=s)return o;switch(o){case"%s":return String(e[i++]);case"%d":return Number(e[i++]);case"%j":try{return JSON.stringify(e[i++])}catch{return"[Circular]"}break;default:return o}});return a}return r}function _Bt(n){return n==="string"||n==="url"||n==="hex"||n==="email"||n==="date"||n==="pattern"}function Eo(n,e){return!!(n==null||e==="array"&&Array.isArray(n)&&!n.length||_Bt(e)&&typeof n=="string"&&!n)}function bBt(n,e,t){var i=[],r=0,s=n.length;function a(o){i.push.apply(i,o),r++,r===s&&t(i)}n.forEach(function(o){e(o,a)})}function Que(n,e,t){var i=0,r=n.length;function s(a){if(a&&a.length){t(a);return}var o=i;i=i+1,o<r?e(n[o],s):t([])}s([])}function SBt(n){var e=[];return Object.keys(n).forEach(function(t){e.push.apply(e,n[t])}),e}var Jue=function(n){pBt(e,n);function e(t,i){var r;return r=n.call(this,"Async Validation Error")||this,r.errors=t,r.fields=i,r}return e}(x8(Error));function xBt(n,e,t,i){if(e.first){var r=new Promise(function(d,h){var f=function(m){return i(m),m.length?h(new Jue(m,w8(m))):d()},p=SBt(n);Que(p,t,f)});return r.catch(function(d){return d}),r}var s=e.firstFields||[];s===!0&&(s=Object.keys(n));var a=Object.keys(n),o=a.length,l=0,u=[],c=new Promise(function(d,h){var f=function(g){if(u.push.apply(u,g),l++,l===o)return i(u),u.length?h(new Jue(u,w8(u))):d()};a.length||(i(u),d()),a.forEach(function(p){var g=n[p];s.indexOf(p)!==-1?Que(g,t,f):bBt(g,t,f)})});return c.catch(function(d){return d}),c}function ece(n){return function(e){return e&&e.message?(e.field=e.field||n.fullField,e):{message:typeof e=="function"?e():e,field:e.field||n.fullField}}}function tce(n,e){if(e){for(var t in e)if(e.hasOwnProperty(t)){var i=e[t];typeof i=="object"&&typeof n[t]=="object"?n[t]=Ab({},n[t],i):n[t]=i}}return n}function wAe(n,e,t,i,r,s){n.required&&(!t.hasOwnProperty(n.field)||Eo(e,s||n.type))&&i.push(qc(r.messages.required,n.fullField))}function wBt(n,e,t,i,r){(/^\s+$/.test(e)||e==="")&&i.push(qc(r.messages.whitespace,n.fullField))}var m4={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},RE={integer:function(e){return RE.number(e)&&parseInt(e,10)===e},float:function(e){return RE.number(e)&&!RE.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!RE.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&!!e.match(m4.email)&&e.length<255},url:function(e){return typeof e=="string"&&!!e.match(m4.url)},hex:function(e){return typeof e=="string"&&!!e.match(m4.hex)}};function CBt(n,e,t,i,r){if(n.required&&e===void 0){wAe(n,e,t,i,r);return}var s=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=n.type;s.indexOf(a)>-1?RE[a](e)||i.push(qc(r.messages.types[a],n.fullField,n.type)):a&&typeof e!==n.type&&i.push(qc(r.messages.types[a],n.fullField,n.type))}function TBt(n,e,t,i,r){var s=typeof n.len=="number",a=typeof n.min=="number",o=typeof n.max=="number",l=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=e,c=null,d=typeof e=="number",h=typeof e=="string",f=Array.isArray(e);if(d?c="number":h?c="string":f&&(c="array"),!c)return!1;f&&(u=e.length),h&&(u=e.replace(l,"_").length),s?u!==n.len&&i.push(qc(r.messages[c].len,n.fullField,n.len)):a&&!o&&u<n.min?i.push(qc(r.messages[c].min,n.fullField,n.min)):o&&!a&&u>n.max?i.push(qc(r.messages[c].max,n.fullField,n.max)):a&&o&&(u<n.min||u>n.max)&&i.push(qc(r.messages[c].range,n.fullField,n.min,n.max))}var ZS="enum";function EBt(n,e,t,i,r){n[ZS]=Array.isArray(n[ZS])?n[ZS]:[],n[ZS].indexOf(e)===-1&&i.push(qc(r.messages[ZS],n.fullField,n[ZS].join(", ")))}function ABt(n,e,t,i,r){if(n.pattern){if(n.pattern instanceof RegExp)n.pattern.lastIndex=0,n.pattern.test(e)||i.push(qc(r.messages.pattern.mismatch,n.fullField,e,n.pattern));else if(typeof n.pattern=="string"){var s=new RegExp(n.pattern);s.test(e)||i.push(qc(r.messages.pattern.mismatch,n.fullField,e,n.pattern))}}}var Ni={required:wAe,whitespace:wBt,type:CBt,range:TBt,enum:EBt,pattern:ABt};function kBt(n,e,t,i,r){var s=[],a=n.required||!n.required&&i.hasOwnProperty(n.field);if(a){if(Eo(e,"string")&&!n.required)return t();Ni.required(n,e,i,s,r,"string"),Eo(e,"string")||(Ni.type(n,e,i,s,r),Ni.range(n,e,i,s,r),Ni.pattern(n,e,i,s,r),n.whitespace===!0&&Ni.whitespace(n,e,i,s,r))}t(s)}function OBt(n,e,t,i,r){var s=[],a=n.required||!n.required&&i.hasOwnProperty(n.field);if(a){if(Eo(e)&&!n.required)return t();Ni.required(n,e,i,s,r),e!==void 0&&Ni.type(n,e,i,s,r)}t(s)}function PBt(n,e,t,i,r){var s=[],a=n.required||!n.required&&i.hasOwnProperty(n.field);if(a){if(e===""&&(e=void 0),Eo(e)&&!n.required)return t();Ni.required(n,e,i,s,r),e!==void 0&&(Ni.type(n,e,i,s,r),Ni.range(n,e,i,s,r))}t(s)}function MBt(n,e,t,i,r){var s=[],a=n.required||!n.required&&i.hasOwnProperty(n.field);if(a){if(Eo(e)&&!n.required)return t();Ni.required(n,e,i,s,r),e!==void 0&&Ni.type(n,e,i,s,r)}t(s)}function IBt(n,e,t,i,r){var s=[],a=n.required||!n.required&&i.hasOwnProperty(n.field);if(a){if(Eo(e)&&!n.required)return t();Ni.required(n,e,i,s,r),Eo(e)||Ni.type(n,e,i,s,r)}t(s)}function RBt(n,e,t,i,r){var s=[],a=n.required||!n.required&&i.hasOwnProperty(n.field);if(a){if(Eo(e)&&!n.required)return t();Ni.required(n,e,i,s,r),e!==void 0&&(Ni.type(n,e,i,s,r),Ni.range(n,e,i,s,r))}t(s)}function DBt(n,e,t,i,r){var s=[],a=n.required||!n.required&&i.hasOwnProperty(n.field);if(a){if(Eo(e)&&!n.required)return t();Ni.required(n,e,i,s,r),e!==void 0&&(Ni.type(n,e,i,s,r),Ni.range(n,e,i,s,r))}t(s)}function LBt(n,e,t,i,r){var s=[],a=n.required||!n.required&&i.hasOwnProperty(n.field);if(a){if(e==null&&!n.required)return t();Ni.required(n,e,i,s,r,"array"),e!=null&&(Ni.type(n,e,i,s,r),Ni.range(n,e,i,s,r))}t(s)}function FBt(n,e,t,i,r){var s=[],a=n.required||!n.required&&i.hasOwnProperty(n.field);if(a){if(Eo(e)&&!n.required)return t();Ni.required(n,e,i,s,r),e!==void 0&&Ni.type(n,e,i,s,r)}t(s)}var BBt="enum";function $Bt(n,e,t,i,r){var s=[],a=n.required||!n.required&&i.hasOwnProperty(n.field);if(a){if(Eo(e)&&!n.required)return t();Ni.required(n,e,i,s,r),e!==void 0&&Ni[BBt](n,e,i,s,r)}t(s)}function NBt(n,e,t,i,r){var s=[],a=n.required||!n.required&&i.hasOwnProperty(n.field);if(a){if(Eo(e,"string")&&!n.required)return t();Ni.required(n,e,i,s,r),Eo(e,"string")||Ni.pattern(n,e,i,s,r)}t(s)}function jBt(n,e,t,i,r){var s=[],a=n.required||!n.required&&i.hasOwnProperty(n.field);if(a){if(Eo(e,"date")&&!n.required)return t();if(Ni.required(n,e,i,s,r),!Eo(e,"date")){var o;e instanceof Date?o=e:o=new Date(e),Ni.type(n,o,i,s,r),o&&Ni.range(n,o.getTime(),i,s,r)}}t(s)}function zBt(n,e,t,i,r){var s=[],a=Array.isArray(e)?"array":typeof e;Ni.required(n,e,i,s,r,a),t(s)}function v4(n,e,t,i,r){var s=n.type,a=[],o=n.required||!n.required&&i.hasOwnProperty(n.field);if(o){if(Eo(e,s)&&!n.required)return t();Ni.required(n,e,i,a,r,s),Eo(e,s)||Ni.type(n,e,i,a,r)}t(a)}function HBt(n,e,t,i,r){var s=[],a=n.required||!n.required&&i.hasOwnProperty(n.field);if(a){if(Eo(e)&&!n.required)return t();Ni.required(n,e,i,s,r)}t(s)}var vA={string:kBt,method:OBt,number:PBt,boolean:MBt,regexp:IBt,integer:RBt,float:DBt,array:LBt,object:FBt,enum:$Bt,pattern:NBt,date:jBt,url:v4,hex:v4,email:v4,required:zBt,any:HBt};function C8(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Nq=C8();function ky(n){this.rules=null,this._messages=Nq,this.define(n)}ky.prototype={messages:function(e){return e&&(this._messages=tce(C8(),e)),this._messages},define:function(e){if(!e)throw new Error("Cannot configure a schema with no rules");if(typeof e!="object"||Array.isArray(e))throw new Error("Rules must be an object");this.rules={};var t,i;for(t in e)e.hasOwnProperty(t)&&(i=e[t],this.rules[t]=Array.isArray(i)?i:[i])},validate:function(e,t,i){var r=this;t===void 0&&(t={}),i===void 0&&(i=function(){});var s=e,a=t,o=i;if(typeof a=="function"&&(o=a,a={}),!this.rules||Object.keys(this.rules).length===0)return o&&o(),Promise.resolve();function l(g){var m,v=[],_={};function y(x){if(Array.isArray(x)){var w;v=(w=v).concat.apply(w,x)}else v.push(x)}for(m=0;m<g.length;m++)y(g[m]);v.length?_=w8(v):(v=null,_=null),o(v,_)}if(a.messages){var u=this.messages();u===Nq&&(u=C8()),tce(u,a.messages),a.messages=u}else a.messages=this.messages();var c,d,h={},f=a.keys||Object.keys(this.rules);f.forEach(function(g){c=r.rules[g],d=s[g],c.forEach(function(m){var v=m;typeof v.transform=="function"&&(s===e&&(s=Ab({},s)),d=s[g]=v.transform(d)),typeof v=="function"?v={validator:v}:v=Ab({},v),v.validator=r.getValidationMethod(v),v.field=g,v.fullField=v.fullField||g,v.type=r.getType(v),v.validator&&(h[g]=h[g]||[],h[g].push({rule:v,value:d,source:s,field:g}))})});var p={};return xBt(h,a,function(g,m){var v=g.rule,_=(v.type==="object"||v.type==="array")&&(typeof v.fields=="object"||typeof v.defaultField=="object");_=_&&(v.required||!v.required&&g.value),v.field=g.field;function y(T,E){return Ab({},E,{fullField:v.fullField+"."+T})}function x(T){T===void 0&&(T=[]);var E=T;if(Array.isArray(E)||(E=[E]),!a.suppressWarning&&E.length&&ky.warning("async-validator:",E),E.length&&v.message!==void 0&&(E=[].concat(v.message)),E=E.map(ece(v)),a.first&&E.length)return p[v.field]=1,m(E);if(!_)m(E);else{if(v.required&&!g.value)return v.message!==void 0?E=[].concat(v.message).map(ece(v)):a.error&&(E=[a.error(v,qc(a.messages.required,v.field))]),m(E);var A={};if(v.defaultField)for(var k in g.value)g.value.hasOwnProperty(k)&&(A[k]=v.defaultField);A=Ab({},A,g.rule.fields);for(var P in A)if(A.hasOwnProperty(P)){var I=Array.isArray(A[P])?A[P]:[A[P]];A[P]=I.map(y.bind(null,P))}var D=new ky(A);D.messages(a.messages),g.rule.options&&(g.rule.options.messages=a.messages,g.rule.options.error=a.error),D.validate(g.value,g.rule.options||a,function(L){var B=[];E&&E.length&&B.push.apply(B,E),L&&L.length&&B.push.apply(B,L),m(B.length?B:null)})}}var w;v.asyncValidator?w=v.asyncValidator(v,g.value,x,g.source,a):v.validator&&(w=v.validator(v,g.value,x,g.source,a),w===!0?x():w===!1?x(v.message||v.field+" fails"):w instanceof Array?x(w):w instanceof Error&&x(w.message)),w&&w.then&&w.then(function(){return x()},function(T){return x(T)})},function(g){l(g)})},getType:function(e){if(e.type===void 0&&e.pattern instanceof RegExp&&(e.type="pattern"),typeof e.validator!="function"&&e.type&&!vA.hasOwnProperty(e.type))throw new Error(qc("Unknown rule type %s",e.type));return e.type||"string"},getValidationMethod:function(e){if(typeof e.validator=="function")return e.validator;var t=Object.keys(e),i=t.indexOf("message");return i!==-1&&t.splice(i,1),t.length===1&&t[0]==="required"?vA.required:vA[this.getType(e)]||!1}};ky.register=function(e,t){if(typeof t!="function")throw new Error("Cannot register a validator by type, validator is not a function");vA[e]=t};ky.warning=yBt;ky.messages=Nq;ky.validators=vA;var VBt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function WBt(n){const e=n.displayName||n.name;return e?`SemiField${e}`:"SemiField"}function UBt(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const t={};return t[n]=e,new ky(t)}function GBt(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=!1;return typeof n=="object"&&"required"in n?e=n.required:Array.isArray(n)&&n.length&&n.forEach(t=>{t.required&&(e=!0)}),e}function kb(n){let e=!0;return typeof n=="string"&&n.length?e=!1:Array.isArray(n)&&n.length?e=n.every(t=>kb(t)):typeof n=="boolean"?e=n:n&&typeof n.$$typeof=="symbol"&&n.$$typeof.toString()==="Symbol(react.element)"&&(e=!1),e}function YBt(n,e){let t=[],i=[];return lr(n)?lr(e)?t=IE.DEFAULT_TRIGGER:t=e:t=n,Array.isArray(t)&&(i=t),typeof t=="string"&&(i[0]=t),i}function KBt(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return lr(n)?lr(e)?t:e:n}function XBt(n,e){const i=Object.assign(Object.assign({},{valueKey:"value",onKeyChangeFnName:"onChange",valuePath:"",maintainCursor:!1,shouldInject:!0,shouldMemo:!0}),n),r="field"in e?!0:i.shouldInject;return{options:i,shouldInject:r}}function qBt(n){let t=Object.assign(Object.assign({},{allowEmptyString:!1,allowEmpty:!1,emptyValue:"",noLabel:!1,noErrorMessage:!1,isInInputGroup:!1}),n),{field:i,label:r,labelPosition:s,labelWidth:a,labelAlign:o,labelCol:l,wrapperCol:u,initValue:c,validate:d,validateStatus:h,trigger:f,allowEmptyString:p,allowEmpty:g,emptyValue:m,rules:v,onChange:_,keepState:y,transform:x,name:w,fieldClassName:T,fieldStyle:E,noLabel:A,noErrorMessage:k,isInInputGroup:P,stopValidateWithError:I,convert:D,showValidateIcon:L,helpText:B,extraText:F,extraTextPosition:$,pure:z,id:N}=t,V=VBt(t,["field","label","labelPosition","labelWidth","labelAlign","labelCol","wrapperCol","initValue","validate","validateStatus","trigger","allowEmptyString","allowEmpty","emptyValue","rules","onChange","keepState","transform","name","fieldClassName","fieldStyle","noLabel","noErrorMessage","isInInputGroup","stopValidateWithError","convert","showValidateIcon","helpText","extraText","extraTextPosition","pure","id"]);delete V.defaultChecked,delete V.defaultValue,delete V.checked,typeof c<"u"&&(c=Fm(c));const H=GBt(v);return m=typeof m<"u"?m:"",{field:i,label:r,labelPosition:s,labelWidth:a,labelAlign:o,labelCol:l,wrapperCol:u,noLabel:A,noErrorMessage:k,isInInputGroup:P,initValue:c,validate:d,validateStatus:h,trigger:f,allowEmptyString:p,allowEmpty:g,emptyValue:m,rules:v,required:H,keepState:y,transform:x,name:w,fieldClassName:T,fieldStyle:E,convert:D,stopValidateWithError:I,showValidateIcon:L,helpText:B,extraText:F,extraTextPosition:$,pure:z,rest:V,id:N}}class ZBt extends jn{constructor(e){super(Object.assign({},e));let{initValues:t}=this._adapter.getProps();t=this._adapter.cloneDeep(t),this.data={values:t||{},errors:{},touched:{}},this.fields=new Map,this.registered={},this.registeredArrayField=new Map,this.register=this.register.bind(this),this.unRegister=this.unRegister.bind(this),this.registerArrayField=this.registerArrayField.bind(this),this.unRegisterArrayField=this.unRegisterArrayField.bind(this),this.getArrayField=this.getArrayField.bind(this),this.updateArrayField=this.updateArrayField.bind(this),this.getField=this.getField.bind(this),this.setValues=this.setValues.bind(this),this.updateStateValue=this.updateStateValue.bind(this),this.updateStateError=this.updateStateError.bind(this),this.updateStateTouched=this.updateStateTouched.bind(this),this.getFormState=this.getFormState.bind(this),this.getValue=this.getValue.bind(this),this.getError=this.getError.bind(this),this.getTouched=this.getTouched.bind(this),this.getInitValues=this.getInitValues.bind(this),this.getInitValue=this.getInitValue.bind(this),this.getFormProps=this.getFormProps.bind(this),this.getFieldExist=this.getFieldExist.bind(this),this.scrollToField=this.scrollToField.bind(this),this.scrollToError=this.scrollToError.bind(this)}init(){this._adapter.initFormId()}getField(e){return this.fields.get(e)}register(e,t,i){if(this.registered[e],this.registered[e]=!0,this.fields.set(e,i),!i.keepState){const r=i.allowEmpty||!1,s={notNotify:!0,notUpdate:!1,allowEmpty:r};let a=t.value;!r&&a===""&&(a=void 0),this.updateStateValue(e,a,s),t.error&&this.updateStateError(e,t.error,s)}}unRegister(e){const t=this.fields.get(e);try{t.keepState||(P2(this.data.values,e),P2(this.data.errors,e),P2(this.data.touched,e))}catch{console.error(`some thing wrong when unregister field:${e}`)}this.fields.delete(e),this._adapter.notifyChange(this.data),this._adapter.forceUpdate()}registerArrayField(e,t){this.updateArrayField(e,{updateKey:new Date().valueOf(),initValue:t})}unRegisterArrayField(e){this.registeredArrayField.delete(e)}getArrayField(e){return this.registeredArrayField.get(e)}updateArrayField(e,t){const i=Object.assign(Object.assign({},this.registeredArrayField.get(e)),t);this.registeredArrayField.set(e,i)}validate(e){const{validateFields:t}=this.getProps();return t&&Mn(t)?this._formValidate():this._fieldsValidate(e)}_formValidate(){const{values:e}=this.data,{validateFields:t}=this.getProps();return new Promise((i,r)=>{let s;try{s=t(e)}catch(a){s=a}if(s)sO(s)?s.then(a=>{if(a)this.data.errors=a,this._adapter.notifyChange(this.data),this.injectErrorToField(a),this._adapter.forceUpdate(),this._autoScroll(100),r(a);else{const o=this._adapter.cloneDeep(e);i(o),this.injectErrorToField({})}},a=>{this._autoScroll(100),r(a)}):(this.data.errors=s,this.injectErrorToField(s),this._adapter.notifyChange(this.data),this._adapter.forceUpdate(),this._autoScroll(100),r(s));else{const a=this._adapter.cloneDeep(e);i(a),this.injectErrorToField({})}})}_fieldsValidate(e){const{values:t}=this.data;return new Promise((i,r)=>{let s=[];const a=this._getOperateFieldMap(e);a.forEach((o,l)=>{const u=this.getValue(l),c={notNotify:!0,notUpdate:!0},d=o.fieldApi.validate(u,c);s.push(d),o.fieldApi.setTouched(!0,c)}),Promise.all(s).then(()=>{this._adapter.notifyChange(this.data),this._adapter.forceUpdate();const o=this.getError();if(this._isValid(a)){const l=this._adapter.cloneDeep(t);i(l)}else this._autoScroll(),r(o)})})}submit(e){const{values:t}=this.data;this.validate().then(i=>{const r=this._adapter.cloneDeep(i);this._adapter.notifySubmit(r,e)}).catch(i=>{const r=this._adapter.cloneDeep(i),s=this._adapter.cloneDeep(t);this._adapter.notifySubmitFail(r,s,e)})}_getNestedField(e){const t=this.fields,i=[...t].map(s=>s[0]);let r=new Map;return i.forEach(s=>{let a=nO(s),o=nO(e);if(o.every((l,u)=>o[u]===a[u])){const l=t.get(s);r.set(s,l)}}),r}_getOperateFieldMap(e){let t=new Map;return lr(e)?t=this.fields:e.forEach(i=>{const r=this.fields.get(i);if(lr(r)){const s=this._getNestedField(i);t=new Map([...t,...s])}else t.set(i,r)}),t}reset(e){this._getOperateFieldMap(e).forEach(i=>{i.fieldApi.reset()}),this.registeredArrayField.size&&this._resetArrayField(),this._adapter.notifyChange(this.data),this._adapter.forceUpdate(),this._adapter.notifyReset()}_resetArrayField(){[...this.registeredArrayField.keys()].forEach(t=>{const r=this.registeredArrayField.get(t).initValue;this.updateStateValue(t,r,{notNotify:!0,notUpdate:!0}),this.updateArrayField(t,{updateKey:new Date().valueOf()})})}injectErrorToField(e){this.fields.forEach(t=>{const i=vu(e,t.field),r={notNotify:!0,notUpdate:!0};t.fieldApi.setError(i,r)})}getValue(e,t){const i=typeof e>"u",r=t&&t.needClone;let s,a;switch(!0){case(!i&&!r):s=vu(this.data.values,e);break;case(!i&&r):a=vu(this.data.values,e),s=this._adapter.cloneDeep(a);break;case(i&&!r):s=Object.assign({},this.data.values);break;case(i&&r):s=this._adapter.cloneDeep(this.data.values);break}return s}setValues(e,t){let{isOverride:i=!1}=t;const r=this._adapter.cloneDeep(e);this.fields.forEach(s=>{const a=vu(r,s.field),o={notNotify:!0,notUpdate:!0};s.fieldApi.setValue(a,o)}),this.registeredArrayField.size&&[...this.registeredArrayField.keys()].forEach(a=>{this.updateArrayField(a,{updateKey:new Date().valueOf()})}),i&&(this.data.values=r),this._adapter.notifyChange(this.data),this._adapter.notifyValueChange(this.data.values,Object.assign({},e)),this._adapter.forceUpdate()}updateStateValue(e,t,i,r){const s=i&&i.notNotify,a=i&&i.notUpdate,o=i&&i.fieldAllowEmpty,l=this.getProp("allowEmpty"),u=o||l;GV(this.data.values,e,t,u),s||(this._adapter.notifyChange(this.data),this._adapter.notifyValueChange(this.data.values,{[e]:t})),a||this._adapter.forceUpdate(r)}getTouched(e){return typeof e>"u"?this.data.touched:vu(this.data.touched,e)}updateStateTouched(e,t,i,r){const s=i&&i.notNotify,a=i&&i.notUpdate;GV(this.data.touched,e,t),s||this._adapter.notifyChange(this.data),a||this._adapter.forceUpdate(r)}getError(e){return typeof e>"u"?this.data.errors:vu(this.data.errors,e)}updateStateError(e,t,i,r){const s=i&&i.notNotify,a=i&&i.notUpdate;GV(this.data.errors,e,t),s||this._adapter.notifyChange(this.data),this._adapter.notifyErrorChange(this.data.errors,{[e]:t}),a||this._adapter.forceUpdate(r)}getFieldSetterApi(){return{setValue:(r,s,a)=>{const o=this.fields.get(r)?this.fields.get(r).fieldApi:void 0,l=this._adapter.cloneDeep(s);o?o.setValue(l,a):(this.updateStateValue(r,l,a,()=>{let u=this._getNestedField(r);u.size&&u.forEach(c=>{let d=c.field,h=vu(this.data.values,d),f={notNotify:!0,notUpdate:!0};c.fieldApi.setValue(h,f)})}),this.getArrayField(r)&&this.updateArrayField(r,{updateKey:new Date().valueOf()}))},setError:(r,s,a)=>{const o=this.fields.get(r)?this.fields.get(r).fieldApi:void 0,l=this._adapter.cloneDeep(s);o?o.setError(l,a):(this.updateStateError(r,l,a,()=>{let u=this._getNestedField(r);u.size&&u.forEach(c=>{let d=c.field,h=vu(this.data.errors,d),f={notNotify:!0,notUpdate:!0};c.fieldApi.setError(h,f)})}),this.getArrayField(r)&&this.updateArrayField(r,{updateKey:new Date().valueOf()}))},setTouched:(r,s,a)=>{const o=this.fields.get(r)?this.fields.get(r).fieldApi:void 0;o?o.setTouched(s,a):(this.updateStateTouched(r,s,a,()=>{let l=this._getNestedField(r);l.size&&l.forEach(u=>{let c=u.field,d=vu(this.data.touched,c),h={notNotify:!0,notUpdate:!0};u.fieldApi.setTouched(d,h)})}),this.getArrayField(r)&&this.updateArrayField(r,{updateKey:new Date().valueOf()}))}}}getModifyFormStateApi(){return{register:this.register,unRegister:this.unRegister,updateStateValue:this.updateStateValue,updateStateError:this.updateStateError,updateStateTouched:this.updateStateTouched,getValue:this.getValue,getError:this.getError,getTouched:this.getTouched,getInitValues:this.getInitValues,getInitValue:this.getInitValue,getFormProps:this.getFormProps,getField:this.getField,registerArrayField:this.registerArrayField,unRegisterArrayField:this.unRegisterArrayField,getArrayField:this.getArrayField,updateArrayField:this.updateArrayField}}getFormApi(){const e=this.getFieldSetterApi();return Object.assign(Object.assign({},e),{reset:t=>this.reset(t),validate:t=>this.validate(t),getValue:t=>this.getValue(t,{needClone:!0}),getValues:()=>this.getValue(void 0,{needClone:!0}),getFormState:()=>this.getFormState(!0),getFormProps:t=>this.getFormProps(t),getInitValue:t=>this.getInitValue(t),getInitValues:()=>this.getInitValues(),getTouched:t=>this.getTouched(t),getError:t=>this.getError(t),setValues:(t,i)=>this.setValues(t,i||{isOverride:!1}),submitForm:()=>this.submit(),getFieldExist:t=>this.getFieldExist(t),scrollToField:(t,i)=>this.scrollToField(t,i),scrollToError:t=>this.scrollToError(t)})}getFormState(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?this._adapter.cloneDeep(this.data):Object.assign({},this.data)}_isValid(e){let t=!0;return e?[...e.keys()].forEach(r=>{const s=vu(this.data.errors,r);kb(s)||(t=!1)}):t=!!WAt(this.data.errors),t}getInitValues(){return this._adapter.getInitValues()}getInitValue(e){return typeof e>"u"?this._adapter.getInitValues():vu(this._adapter.getInitValues(),e)}getFormProps(e){return this._adapter.getFormProps(e)}getFieldExist(e){return!!this.fields.has(e)}_autoScroll(e){const{autoScrollToError:t}=this.getFormProps();if(!t)return;let i={behavior:"smooth",block:"start"};typeof t=="object"&&(i=t),e?setTimeout(()=>this._getErrorFieldAndScroll(i),100):this._getErrorFieldAndScroll(i)}_getErrorFieldAndScroll(e){const t=this._adapter.getAllErrorDOM();if(t&&t.length)try{const i=t[0].parentNode.parentNode;EV(i,e)}catch{}}scrollToField(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{behavior:"smooth",block:"start"};if(this.getFieldExist(e)){const i=this._adapter.getFieldDOM(e);EV(i,t)}}scrollToError(e){let t=e&&e.scrollOpts?e.scrollOpts:{behavior:"smooth",block:"start"},i=e&&e.field,r=e&&e.index,s,a;if(typeof r=="number"){let l=this._adapter.getAllErrorDOM()[r];l&&(s=l.parentNode.parentNode)}else if(i)a=this._adapter.getFieldErrorDOM(i),a&&(s=a.parentNode.parentNode);else if(typeof i>"u"){let o=this._adapter.getAllErrorDOM();o&&o.length&&(s=o[0].parentNode.parentNode)}s&&EV(s,t)}}const jq=M.createContext({});jq.displayName="FormState";const CAe=M.createContext({});CAe.displayName="FormApi";const hM=M.createContext({});hM.displayName="FormUpdater";const QBt=M.createContext({shouldUseInitValue:!0}),y4=gf.PREFIX;class fM extends q.PureComponent{generatorText(e){const{helpTextId:t,errorMessageId:i}=this.props,r=this.props.error;let s=i;if(r||(s=t),typeof e=="string")return M.createElement("span",{id:s},e);if(Array.isArray(e)){const a=e.filter(o=>o);return a.length?M.createElement("span",{id:s},a.join(", ")):null}else if(M.isValidElement(e))return e;return null}render(){const{error:e,className:t,style:i,validateStatus:r,helpText:s,showValidateIcon:a,isInInputGroup:o}=this.props,l=le({[y4+"-field-error-message"]:!!e,[y4+"-field-help-text"]:!!s},t);if(!e&&!s)return null;const u={warning:M.createElement(h1e,null),error:M.createElement(JL,null)},c=e?this.generatorText(e):this.generatorText(s),d=`${y4}-field-validate-status-icon`;let h=null;return o?h=M.createElement(JL,{className:d}):u[r]&&(h=M.cloneElement(u[r],{className:d})),M.createElement("div",{className:l,style:i},a&&c?h:null,c)}}fM.propTypes={error:S.oneOfType([S.bool,S.string,S.array,S.node]),className:S.string,style:S.object,validateStatus:S.string,showValidateIcon:S.bool,helpText:S.node,isInInputGroup:S.bool,errorMessageId:S.string,helpTextId:S.string};var JBt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const nE=gf.PREFIX,e$t=n=>{let e,t,i,r,s,a="top";try{const x=q.useContext(hM).getFormProps(["labelPosition","labelWidth","labelAlign","labelCol","wrapperCol"]);e=x.labelCol,t=x.wrapperCol,i=x.labelWidth,r=x.labelAlign,a=x.labelPosition?x.labelPosition:a}catch{}n.labelPosition&&(a=n.labelPosition);let{children:o,label:l,className:u,style:c,error:d,noLabel:h}=n;JBt(n,["children","label","className","style","error","noLabel"]);const f=e&&t,p=le({[`${nE}-field`]:!0,[`${nE}-slot`]:!0},u),g=le({[`${nE}-col-${r}`]:!0});switch(!0){case(jo(l)&&!M.isValidElement(l)):break;case(oi(l)||Ns(l)):l={text:l};break;case M.isValidElement(l):l={text:l};break}let m=null;if(typeof d!==void 0){let y={};switch(!0){case(jo(d)&&!M.isValidElement(d)):y=d;break;case(oi(d)||Ns(d)):y={error:d};break;case M.isValidElement(d):y={error:d};break}m=M.createElement(fM,Object.assign({},y))}let v=Object.assign({align:r,width:i},l),_=le({[`${nE}-field-main`]:!0,[`${nE}-slot-main`]:!0});switch(!0){case(!f&&!h):s=M.createElement(M.Fragment,null,M.createElement(tg,Object.assign({},v)),M.createElement("div",{className:_},o,m));break;case(!f&&h):s=M.createElement(M.Fragment,null,M.createElement("div",{className:_},o,m));break;case(f&&a==="top"):s=M.createElement(M.Fragment,null,M.createElement("div",{style:{overflow:"hidden"}},M.createElement(so,Object.assign({},e,{className:g}),M.createElement(tg,Object.assign({},v)))),M.createElement(so,null,o,m));break;case(f&&a!=="top"):s=M.createElement(M.Fragment,null,M.createElement(so,Object.assign({},e,{className:g}),M.createElement(tg,Object.assign({},v))),M.createElement(so,null,o,m));break}return M.createElement("div",{className:p,"x-label-pos":a,style:c},s)},nce=gf.PREFIX;class TAe extends q.PureComponent{render(){const{text:e,className:t,style:i,children:r}=this.props,s=le({[nce+"-section"]:!0},t),a=nce+"-section-text";return M.createElement("section",{className:s,style:i},M.createElement("h5",{className:a},e),r)}}TAe.propTypes={text:S.node,className:S.string,style:S.object,children:S.node};function EAe(){return q.useContext(jq)}function t$t(){return q.useContext(hM)}function _4(n){const e=q.useRef(void 0),[t,i]=q.useState(n);return e.current=t,[t,a=>{e.current=a,i(a)},()=>e.current]}function n$t(){return q.useContext(QBt)}var i$t=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const QS=gf.PREFIX,r$t=n=>{const{fieldSet:e}=n,t=EAe(),i=e.map(r=>vu(t.errors,r));return kb(i)?null:M.createElement(fM,{error:i,showValidateIcon:n.showValidateIcon,isInInputGroup:n.isInInputGroup})};class zq extends q.Component{renderLabel(e,t){return e?oi(e)?M.createElement(tg,{width:t.labelWidth,text:e}):M.createElement(tg,Object.assign({width:t.labelWidth},e)):null}render(){const e=this.props,{children:t,label:i,extraText:r,extraTextPosition:s}=e,a=i$t(e,["children","label","extraText","extraTextPosition"]),l=this.context.getFormProps(["labelPosition","labelWidth","labelAlign","showValidateIcon","wrapperCol","labelCol","disabled"]),u=this.props.labelPosition||l.labelPosition,c=[],d=M.Children.map(t,A=>A&&A.props&&A.props.field?(c.push(A.props.field),M.cloneElement(A,{isInInputGroup:!0})):null),h=le({[`${QS}-field-group`]:!0}),f=l.labelCol,p=l.wrapperCol,g=l.labelAlign,m=f&&p,v=f?`${QS}-col-${g}`:"",_=this.renderLabel(i,l),y=M.createElement(lq,Object.assign({disabled:l.disabled},a),d),x=M.createElement(r$t,{fieldSet:c,showValidateIcon:l.showValidateIcon,isInInputGroup:!0}),w=le(`${QS}-field-extra`,{[`${QS}-field-extra-string`]:typeof r=="string",[`${QS}-field-extra-middle`]:s==="middle",[`${QS}-field-extra-bottom`]:s==="bottom"}),T=r?M.createElement("div",{className:w,"x-semi-prop":"extraText"},r):null;let E;switch(!0){case!m:E=M.createElement(M.Fragment,null,_,M.createElement("div",null,s==="middle"?T:null,y,s==="bottom"?T:null,x));break;case(m&&u==="top"):E=M.createElement(M.Fragment,null,M.createElement("div",{style:{overflow:"hidden"}},M.createElement(so,Object.assign({},f,{className:v}),_)),M.createElement(so,Object.assign({},p),s==="middle"?T:null,y,s==="bottom"?T:null,x));break;case(m&&u!=="top"):E=M.createElement(M.Fragment,null,M.createElement(so,Object.assign({},f,{className:v}),_),M.createElement(so,Object.assign({},p),s==="middle"?T:null,y,s==="bottom"?T:null,x));break}return M.createElement("div",{"x-label-pos":u,className:h},E)}}zq.contextType=hM;zq.defaultProps={extraTextPosition:"bottom"};const sp=gf.PREFIX,b4=typeof window<"u"?q.useLayoutEffect:q.useEffect;function qo(n,e){let t=(i,r)=>{let{field:s,label:a,labelPosition:o,labelWidth:l,labelAlign:u,labelCol:c,wrapperCol:d,noLabel:h,noErrorMessage:f,isInInputGroup:p,initValue:g,validate:m,validateStatus:v,trigger:_,allowEmptyString:y,allowEmpty:x,emptyValue:w,rules:T,required:E,keepState:A,transform:k,name:P,fieldClassName:I,fieldStyle:D,convert:L,stopValidateWithError:B,helpText:F,extraText:$,extraTextPosition:z,pure:N,id:V,rest:H}=qBt(i),{options:K,shouldInject:U}=XBt(e,i);if(gs(typeof s>"u"&&K.shouldInject,"[Semi Form]: 'field' is required, please check your props of Field Component"),!U)return M.createElement(n,Object.assign({},H,{ref:r}));EAe();const X=t$t();if(!X.getFormProps)return gs(!0,"[Semi Form]: Field Component must be use inside the Form, please check your dom declaration"),null;let Z=X.getFormProps(["labelPosition","labelWidth","labelAlign","labelCol","wrapperCol","disabled","showValidateIcon","extraTextPosition","stopValidateWithError","trigger"]),Q=o||Z.labelPosition,se=l||Z.labelWidth,ae=u||Z.labelAlign,ue=c||Z.labelCol,oe=d||Z.wrapperCol,re=z||Z.extraTextPosition||"bottom",fe=KBt(B,Z.stopValidateWithError,!1),ve=YBt(_,Z.trigger),xe=typeof s<"u"?X.getValue(s):void 0,ye=typeof g<"u"?g:xe,Ee;try{Ee=n$t(),Ee&&(ye=Ee.shouldUseInitValue&&typeof g<"u"?g:xe)}catch{}const[Se,Fe,Ge]=_4(typeof ye!==void 0?ye:null),Pe=ve.includes("mount");x=x||X.getFormProps().allowEmpty;const[je,qe,ot]=_4(),[$e,et]=q.useState(),[Mt,Ct]=_4(0),[tt,xt]=q.useState(v),dt=q.useRef(!1),bt=q.useRef(T),rt=q.useRef(m),Dt=q.useRef(null),Je=(kt,Ze)=>{et(kt),X.updateStateTouched(s,kt,Ze)},At=(kt,Ze)=>{dt.current||kt!==ot()&&(qe(kt),X.updateStateError(s,kt,Ze),kb(kt)?xt("success"):xt("error"))},Ft=(kt,Ze)=>{Fe(kt);let Ue=Object.assign(Object.assign({},Ze),{allowEmpty:x});X.updateStateValue(s,kt,Ue)},on=()=>{let kt={notNotify:!0,notUpdate:!0};Ft(ye!==null?ye:void 0,kt),At(void 0,kt),Je(void 0,kt),xt("default")},Wt=(kt,Ze)=>{let Ue=bt.current||[];const ze=UBt(s,Ue),it={[s]:kt},St=new Promise((Tt,$n)=>{ze.validate(it,{first:fe},(bi,ti)=>{}).then(bi=>{if(dt.current||Dt.current!==St){console.warn(`[Semi Form]: When FieldComponent (${s}) has an unfinished validation process, you repeatedly trigger a new validation, the old validation will be abandoned, and will neither resolve nor reject. Usually this is an unreasonable practice. Please check your code.`);return}xt("success"),At(void 0,Ze),Tt({})}).catch(bi=>{if(dt.current||Dt.current!==St){console.warn(`[Semi Form]: When FieldComponent (${s}) has an unfinished validation process, you repeatedly trigger a new validation, the old validation will be abandoned, and will neither resolve nor reject. Usually this is an unreasonable practice. Please check your code.`);return}let{errors:ti,fields:Si}=bi;if(ti&&Si){let Bi=ti.map(wr=>wr.message);Bi.length===1&&(Bi=Bi[0]),At(Bi,Ze),kb(Bi)||(xt("error"),Tt(ti))}else throw xt("error"),At(bi.message,Ze),Tt(bi.message),bi})});return Dt.current=St,St},Cn=(kt,Ze,Ue)=>{const ze=new Promise(it=>{let St;try{St=rt.current(kt,Ze)}catch(Tt){St=Tt}St===void 0?(it({}),At(void 0,Ue)):sO(St)?St.then(Tt=>{if(dt.current||Dt.current!==ze){console.warn(`[Semi Form]: When Field: (${s}) has an unfinished validation process, you repeatedly trigger a new validation, the old validation will be abandoned, and will neither resolve nor reject. Usually this is an unreasonable practice. Please check your code.`);return}kb(Tt)?(At(void 0,Ue),it(null)):(At(Tt,Ue),it(Tt))}):kb(St)?(At(void 0,Ue),it(null)):(At(St,Ue),it(St))});return Dt.current=ze,ze},gn=(kt,Ze)=>{let Ue=kt,ze=bt.current;return k&&(Ue=k(kt)),rt.current?Cn(Ue,X.getValue(),Ze):ze?Wt(Ue,Ze):null},Ln=function(kt,Ze){if(K.onKeyChangeFnName in i&&typeof i[K.onKeyChangeFnName]=="function"){for(var ze=arguments.length,it=new Array(ze>2?ze-2:0),St=2;St<ze;St++)it[St-2]=arguments[St];i[K.onKeyChangeFnName](kt,Ze,...it)}let Tt;K.valuePath?Tt=vu(kt,K.valuePath):Tt=kt,typeof L=="function"&&(Tt=L(Tt)),y||x||Tt===w&&(Tt=void 0);try{Ze&&Ze.target&&Ze.target.selectionStart&&Ct(Ze.target.selectionStart)}catch{}Je(!0,{notNotify:!0,notUpdate:!0}),Ft(Tt),ve.includes("change")&&gn(Tt)},gi=function(){if(i.onBlur&&i.onBlur(...arguments),$e||Je(!0),ve.includes("blur")){let kt=Ge();gn(kt)}},ut={setValue:Ft,setTouched:Je,setError:At,reset:on,validate:gn},gt={value:Se,error:je,touched:$e,status:tt};b4(()=>{bt.current=T,rt.current=m},[T,m]),b4(()=>(dt.current=!1,Pe&&gn(Se),()=>{dt.current=!0}),[]),b4(()=>{if(typeof s>"u")return()=>{};const kt=Ge();return X.register(s,{value:kt,error:je,touched:$e,status:tt},{field:s,fieldApi:ut,keepState:A,allowEmpty:x||y}),()=>{X.unRegister(s)}},[s]);const ct=V||s,en=`${ct}-label`,Bt=`${ct}-helpText`,Qt=`${ct}-extraText`,kn=`${ct}-errormessage`,jt=()=>{let kt=v||tt;const Ze=le(`${sp}-field-extra`,{[`${sp}-field-extra-string`]:typeof $=="string",[`${sp}-field-extra-middle`]:re==="middle",[`${sp}-field-extra-bottom`]:re==="bottom"}),Ue=$?M.createElement("div",{className:Ze,id:Qt,"x-semi-prop":"extraText"},$):null;let ze=Object.assign(Object.assign({id:ct,disabled:Z.disabled},H),{ref:r,onBlur:gi,[K.onKeyChangeFnName]:Ln,[K.valueKey]:Se,validateStatus:kt,"aria-required":E,"aria-labelledby":en});P&&(ze.name=P),F&&(ze["aria-describedby"]=$?`${Bt} ${Qt}`:Bt),$&&(ze["aria-describedby"]=F?`${Bt} ${Qt}`:Qt),tt==="error"&&(ze["aria-errormessage"]=kn,ze["aria-invalid"]=!0);const it=le({[`${sp}-field`]:!0,[`${sp}-field-${P}`]:!!P,[I]:!!I}),St=le({[`${sp}-field-main`]:!0});Q==="inset"&&!h&&(ze.insetLabel=a||s,ze.insetLabelId=en,typeof a=="object"&&!Z6(a)&&(ze.insetLabel=a.text,ze.insetLabelId=en));const Tt=M.createElement(n,Object.assign({},ze));if(p)return Tt;if(N){let wr=le(H.className,{[`${sp}-field-pure`]:!0,[`${sp}-field-${P}`]:!!P,[I]:!!I});return ze.className=wr,M.createElement(n,Object.assign({},ze))}let $n=ue&&oe;const bi=ae?`${sp}-col-${ae}`:"";let ti=null;if(!h&&Q!=="inset"){let wr=typeof a=="object"&&!Z6(a)?a:{};ti=M.createElement(tg,Object.assign({text:a||s,id:en,required:E,name:ct||P||s,width:se,align:ae},wr))}const Si=M.createElement("div",{className:St},re==="middle"?Ue:null,Tt,f?null:M.createElement(fM,{error:je,validateStatus:kt,helpText:F,helpTextId:Bt,errorMessageId:kn,showValidateIcon:Z.showValidateIcon}),re==="bottom"?Ue:null),Bi=M.createElement(M.Fragment,null,Q==="top"?M.createElement("div",{style:{overflow:"hidden"}},M.createElement(so,Object.assign({},ue,{className:bi}),ti)):M.createElement(so,Object.assign({},ue,{className:bi}),ti),M.createElement(so,Object.assign({},oe),Si));return M.createElement("div",{className:it,style:D,"x-label-pos":Q,"x-field-id":s,"x-extra-pos":re},$n?Bi:M.createElement(M.Fragment,null,ti,Si))},Ht=[...Object.values(gt),...Object.values(i),s,Q,ae,Z.disabled];return K.shouldMemo?q.useMemo(jt,[...Ht]):jt()};return t=q.forwardRef(t),t.displayName=WBt(n),t}const s$t=qo(Gl,{maintainCursor:!0}),a$t=qo(Tj,{maintainCursor:!0}),o$t=qo(tIt,{maintainCursor:!0}),Hq=qo(vr);Hq.Option=vr.Option;Hq.OptGroup=vr.OptGroup;const l$t=qo(QP),u$t=qo(Of,{valueKey:"checked",valuePath:"target.checked",shouldInject:!1}),c$t=qo(Uc,{valuePath:"target.value"}),d$t=qo(Bm,{valueKey:"checked",valuePath:"target.checked",shouldInject:!1}),h$t=qo(_Mt),f$t=qo(Pj,{valueKey:"checked"}),p$t=qo(yq),g$t=qo(uO),m$t=qo(zj),v$t=qo(bC),y$t=qo(Oj),_$t=qo(vC,{valueKey:"value",onKeyChangeFnName:"onChange"}),b$t=qo(Vj,{valueKey:"fileList",valuePath:"fileList",onKeyChangeFnName:"onChange"}),S$t=qo(iM);var x$t=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const S4=gf.PREFIX;class Fn extends An{constructor(e){super(e),this.state={formId:""},gs(!!(e.component&&e.render),"[Semi Form] You should not use <Form component> and <Form render> in ths same time; <Form render> will be ignored"),gs(e.component&&e.children&&!Hoe(e.children),"[Semi Form] You should not use <Form component> and <Form>{children}</Form> in ths same time; <Form>{children}</Form> will be ignored"),gs(e.render&&e.children&&!Hoe(e.children),"[Semi Form] You should not use <Form render> and <Form>{children}</Form> in ths same time; <Form>{children}</Form> will be ignored"),this.submit=this.submit.bind(this),this.reset=this.reset.bind(this),this.foundation=new ZBt(this.adapter),this.formApi=this.foundation.getFormApi(),this.props.getFormApi&&this.props.getFormApi(this.formApi)}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}get adapter(){return Object.assign(Object.assign({},super.adapter),{cloneDeep:cf,notifySubmit:(e,t)=>{this.props.onSubmit(e,t)},notifySubmitFail:(e,t,i)=>{this.props.onSubmitFail(e,t,i)},forceUpdate:e=>{this.forceUpdate(e)},notifyChange:e=>{this.props.onChange(e)},notifyValueChange:(e,t)=>{this.props.onValueChange(e,t)},notifyErrorChange:(e,t)=>{this.props.onErrorChange(e,t)},notifyReset:()=>{this.props.onReset()},initFormId:()=>{this.setState({formId:cA()})},getInitValues:()=>this.props.initValues,getFormProps:e=>{if(typeof e>"u")return this.props;if(typeof e=="string")return this.props[e];{const t={};return e.forEach(i=>{t[i]=this.props[i]}),t}},getAllErrorDOM:()=>{const{formId:e}=this.state,{id:t}=this.props,i=t||e;return document.querySelectorAll(`form[x-form-id="${i}"] .${gf.PREFIX}-field-error-message`)},getFieldDOM:e=>{const{formId:t}=this.state,{id:i}=this.props,r=i||t;return document.querySelector(`form[x-form-id="${r}"] .${gf.PREFIX}-field[x-field-id="${e}"]`)},getFieldErrorDOM:e=>{const{formId:t}=this.state,{id:i}=this.props;let s=`form[x-form-id="${i||t}"] .${gf.PREFIX}-field[x-field-id="${e}"] .${gf.PREFIX}-field-error-message`;return document.querySelector(s)}})}get content(){const{children:e,component:t,render:i}=this.props,r=this.foundation.getFormState(),s={formState:r,formApi:this.foundation.getFormApi(),values:r.values};return t?M.createElement(t,s):i?i(s):typeof e=="function"?e(s):e}submit(e){e.preventDefault(),this.props.stopPropagation&&this.props.stopPropagation.submit&&e.stopPropagation(),this.foundation.submit(e)}reset(e){e.preventDefault(),this.props.stopPropagation&&this.props.stopPropagation.reset&&e.stopPropagation(),this.foundation.reset()}render(){const t=this.foundation.getFormState(!1),i=this.foundation.getModifyFormStateApi(),{formId:r}=this.state,s=this.props,{children:a,getFormApi:o,onChange:l,onSubmit:u,onSubmitFail:c,onErrorChange:d,onValueChange:h,component:f,render:p,validateFields:g,initValues:m,layout:v,style:_,className:y,labelPosition:x,labelWidth:w,labelAlign:T,labelCol:E,wrapperCol:A,allowEmpty:k,autoScrollToError:P,showValidateIcon:I,stopValidateWithError:D,extraTextPosition:L,id:B,trigger:F}=s,$=x$t(s,["children","getFormApi","onChange","onSubmit","onSubmitFail","onErrorChange","onValueChange","component","render","validateFields","initValues","layout","style","className","labelPosition","labelWidth","labelAlign","labelCol","wrapperCol","allowEmpty","autoScrollToError","showValidateIcon","stopValidateWithError","extraTextPosition","id","trigger"]),z=le(S4,y,{[S4+"-vertical"]:v==="vertical",[S4+"-horizontal"]:v==="horizontal"}),N=A&&E,V=M.createElement("form",Object.assign({style:_},$,{onReset:this.reset,onSubmit:this.submit,className:z,id:B||r,"x-form-id":B||r}),this.content),H=M.createElement(D1,null,V);return M.createElement(hM.Provider,{value:i},M.createElement(CAe.Provider,{value:this.formApi},M.createElement(jq.Provider,{value:t},N?H:V)))}}Fn.propTypes={"aria-label":S.string,onSubmit:S.func,onSubmitFail:S.func,onChange:S.func,onReset:S.func,onValueChange:S.func,autoScrollToError:S.oneOfType([S.bool,S.object]),allowEmpty:S.bool,className:S.string,component:S.oneOfType([S.node,S.func]),disabled:S.bool,extraTextPosition:S.oneOf(IE.EXTRA_POS),getFormApi:S.func,initValues:S.object,validateFields:S.func,layout:S.oneOf(IE.LAYOUT),labelPosition:S.oneOf(IE.LABEL_POS),labelWidth:S.oneOfType([S.number,S.string]),labelAlign:S.oneOf(IE.LABEL_ALIGN),labelCol:S.object,render:S.func,style:S.object,showValidateIcon:S.bool,stopValidateWithError:S.bool,stopPropagation:S.shape({submit:S.bool,reset:S.bool}),id:S.string,wrapperCol:S.object,trigger:S.oneOfType([S.oneOf(["blur","change","custom","mount"]),S.arrayOf(S.oneOf(["blur","change","custom","mount"]))])};Fn.defaultProps={onChange:be,onSubmitFail:be,onSubmit:be,onReset:be,onValueChange:be,onErrorChange:be,layout:"vertical",labelPosition:"top",allowEmpty:!1,autoScrollToError:!1,showValidateIcon:!0};Fn.Input=s$t;Fn.TextArea=o$t;Fn.InputNumber=a$t;Fn.Select=Hq;Fn.Checkbox=u$t;Fn.CheckboxGroup=l$t;Fn.Radio=d$t;Fn.RadioGroup=c$t;Fn.DatePicker=h$t;Fn.TimePicker=g$t;Fn.Switch=f$t;Fn.Slider=p$t;Fn.TreeSelect=m$t;Fn.Cascader=v$t;Fn.Rating=y$t;Fn.AutoComplete=_$t;Fn.Upload=b$t;Fn.TagInput=S$t;Fn.Slot=e$t;Fn.ErrorMessage=fM;Fn.InputGroup=zq;Fn.Label=tg;Fn.Section=TAe;var AAe={exports:{}},kAe={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EC=q;function w$t(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var C$t=typeof Object.is=="function"?Object.is:w$t,T$t=EC.useState,E$t=EC.useEffect,A$t=EC.useLayoutEffect,k$t=EC.useDebugValue;function O$t(n,e){var t=e(),i=T$t({inst:{value:t,getSnapshot:e}}),r=i[0].inst,s=i[1];return A$t(function(){r.value=t,r.getSnapshot=e,x4(r)&&s({inst:r})},[n,t,e]),E$t(function(){return x4(r)&&s({inst:r}),n(function(){x4(r)&&s({inst:r})})},[n]),k$t(t),t}function x4(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!C$t(n,t)}catch{return!0}}function P$t(n,e){return e()}var M$t=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?P$t:O$t;kAe.useSyncExternalStore=EC.useSyncExternalStore!==void 0?EC.useSyncExternalStore:M$t;AAe.exports=kAe;var I$t=AAe.exports;const Yn=n=>typeof n=="string",iE=()=>{let n,e;const t=new Promise((i,r)=>{n=i,e=r});return t.resolve=n,t.reject=e,t},ice=n=>n==null?"":""+n,R$t=(n,e,t)=>{n.forEach(i=>{e[i]&&(t[i]=e[i])})},D$t=/###/g,rce=n=>n&&n.indexOf("###")>-1?n.replace(D$t,"."):n,sce=n=>!n||Yn(n),yA=(n,e,t)=>{const i=Yn(e)?e.split("."):e;let r=0;for(;r<i.length-1;){if(sce(n))return{};const s=rce(i[r]);!n[s]&&t&&(n[s]=new t),Object.prototype.hasOwnProperty.call(n,s)?n=n[s]:n={},++r}return sce(n)?{}:{obj:n,k:rce(i[r])}},ace=(n,e,t)=>{const{obj:i,k:r}=yA(n,e,Object);if(i!==void 0||e.length===1){i[r]=t;return}let s=e[e.length-1],a=e.slice(0,e.length-1),o=yA(n,a,Object);for(;o.obj===void 0&&a.length;)s=`${a[a.length-1]}.${s}`,a=a.slice(0,a.length-1),o=yA(n,a,Object),o!=null&&o.obj&&typeof o.obj[`${o.k}.${s}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${s}`]=t},L$t=(n,e,t,i)=>{const{obj:r,k:s}=yA(n,e,Object);r[s]=r[s]||[],r[s].push(t)},mF=(n,e)=>{const{obj:t,k:i}=yA(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,i))return t[i]},F$t=(n,e,t)=>{const i=mF(n,t);return i!==void 0?i:mF(e,t)},OAe=(n,e,t)=>{for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in n?Yn(n[i])||n[i]instanceof String||Yn(e[i])||e[i]instanceof String?t&&(n[i]=e[i]):OAe(n[i],e[i],t):n[i]=e[i]);return n},JS=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var B$t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const $$t=n=>Yn(n)?n.replace(/[&<>"'\/]/g,e=>B$t[e]):n;class N$t{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}const j$t=[" ",",","?","!",";"],z$t=new N$t(20),H$t=(n,e,t)=>{e=e||"",t=t||"";const i=j$t.filter(a=>e.indexOf(a)<0&&t.indexOf(a)<0);if(i.length===0)return!0;const r=z$t.getRegExp(`(${i.map(a=>a==="?"?"\\?":a).join("|")})`);let s=!r.test(n);if(!s){const a=n.indexOf(t);a>0&&!r.test(n.substring(0,a))&&(s=!0)}return s},T8=(n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const i=e.split(t);let r=n;for(let s=0;s<i.length;){if(!r||typeof r!="object")return;let a,o="";for(let l=s;l<i.length;++l)if(l!==s&&(o+=t),o+=i[l],a=r[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<i.length-1)continue;s+=l-s+1;break}r=a}return r},dO=n=>n==null?void 0:n.replace("_","-"),V$t={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){var t,i;(i=(t=console==null?void 0:console[n])==null?void 0:t.apply)==null||i.call(t,console,e)}};let W$t=class E8{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||V$t,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,i,r){return r&&!this.debug?null:(Yn(e[0])&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new E8(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new E8(this.logger,e)}};var zp=new W$t;let Wj=class{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const r=this.observers[i].get(t)||0;this.observers[i].set(t,r+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([r,s])=>{for(let a=0;a<s;a++)r(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([r,s])=>{for(let a=0;a<s;a++)r.apply(r,[e,...t])})}};class oce extends Wj{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,i,r={}){var u,c;const s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,a=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,t],i&&(Array.isArray(i)?o.push(...i):Yn(i)&&s?o.push(...i.split(s)):o.push(i)));const l=mF(this.data,o);return!l&&!t&&!i&&e.indexOf(".")>-1&&(e=o[0],t=o[1],i=o.slice(2).join(".")),l||!a||!Yn(i)?l:T8((c=(u=this.data)==null?void 0:u[e])==null?void 0:c[t],i,s)}addResource(e,t,i,r,s={silent:!1}){const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let o=[e,t];i&&(o=o.concat(a?i.split(a):i)),e.indexOf(".")>-1&&(o=e.split("."),r=t,t=o[1]),this.addNamespaces(t),ace(this.data,o,r),s.silent||this.emit("added",e,t,i,r)}addResources(e,t,i,r={silent:!1}){for(const s in i)(Yn(i[s])||Array.isArray(i[s]))&&this.addResource(e,t,s,i[s],{silent:!0});r.silent||this.emit("added",e,t,i)}addResourceBundle(e,t,i,r,s,a={silent:!1,skipCopy:!1}){let o=[e,t];e.indexOf(".")>-1&&(o=e.split("."),r=i,i=t,t=o[1]),this.addNamespaces(t);let l=mF(this.data,o)||{};a.skipCopy||(i=JSON.parse(JSON.stringify(i))),r?OAe(l,i,s):l={...l,...i},ace(this.data,o,l),a.silent||this.emit("added",e,t,i)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(r=>t[r]&&Object.keys(t[r]).length>0)}toJSON(){return this.data}}var PAe={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,i,r){return n.forEach(s=>{var a;e=((a=this.processors[s])==null?void 0:a.process(e,t,i,r))??e}),e}};const MAe=Symbol("i18next/PATH_KEY");function U$t(){const n=[],e=Object.create(null);let t;return e.get=(i,r)=>{var s;return(s=t==null?void 0:t.revoke)==null||s.call(t),r===MAe?n:(n.push(r),t=Proxy.revocable(i,e),t.proxy)},Proxy.revocable(Object.create(null),e).proxy}function A8(n,e){const{[MAe]:t}=n(U$t());return t.join((e==null?void 0:e.keySeparator)??".")}const lce={},w4=n=>!Yn(n)&&typeof n!="boolean"&&typeof n!="number";class vF extends Wj{constructor(e,t={}){super(),R$t(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=zp.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const i={...t};if(e==null)return!1;const r=this.resolve(e,i);if((r==null?void 0:r.res)===void 0)return!1;const s=w4(r.res);return!(i.returnObjects===!1&&s)}extractFromKey(e,t){let i=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const r=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let s=t.ns||this.options.defaultNS||[];const a=i&&e.indexOf(i)>-1,o=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!H$t(e,i,r);if(a&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:Yn(s)?[s]:s};const u=e.split(i);(i!==r||i===r&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),e=u.join(r)}return{key:e,namespaces:Yn(s)?[s]:s}}translate(e,t,i){let r=typeof t=="object"?{...t}:t;if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),e==null)return"";typeof e=="function"&&(e=A8(e,{...this.options,...r})),Array.isArray(e)||(e=[String(e)]);const s=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(e[e.length-1],r),u=l[l.length-1];let c=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;c===void 0&&(c=":");const d=r.lng||this.language,h=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((d==null?void 0:d.toLowerCase())==="cimode")return h?s?{res:`${u}${c}${o}`,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:u,usedParams:this.getUsedParamsDetails(r)}:`${u}${c}${o}`:s?{res:o,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:u,usedParams:this.getUsedParamsDetails(r)}:o;const f=this.resolve(e,r);let p=f==null?void 0:f.res;const g=(f==null?void 0:f.usedKey)||o,m=(f==null?void 0:f.exactUsedKey)||o,v=["[object Number]","[object Function]","[object RegExp]"],_=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject,x=r.count!==void 0&&!Yn(r.count),w=vF.hasDefaultValue(r),T=x?this.pluralResolver.getSuffix(d,r.count,r):"",E=r.ordinal&&x?this.pluralResolver.getSuffix(d,r.count,{ordinal:!1}):"",A=x&&!r.ordinal&&r.count===0,k=A&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${T}`]||r[`defaultValue${E}`]||r.defaultValue;let P=p;y&&!p&&w&&(P=k);const I=w4(P),D=Object.prototype.toString.apply(P);if(y&&P&&I&&v.indexOf(D)<0&&!(Yn(_)&&Array.isArray(P))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const L=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,P,{...r,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return s?(f.res=L,f.usedParams=this.getUsedParamsDetails(r),f):L}if(a){const L=Array.isArray(P),B=L?[]:{},F=L?m:g;for(const $ in P)if(Object.prototype.hasOwnProperty.call(P,$)){const z=`${F}${a}${$}`;w&&!p?B[$]=this.translate(z,{...r,defaultValue:w4(k)?k[$]:void 0,joinArrays:!1,ns:l}):B[$]=this.translate(z,{...r,joinArrays:!1,ns:l}),B[$]===z&&(B[$]=P[$])}p=B}}else if(y&&Yn(_)&&Array.isArray(p))p=p.join(_),p&&(p=this.extendTranslation(p,e,r,i));else{let L=!1,B=!1;!this.isValidLookup(p)&&w&&(L=!0,p=k),this.isValidLookup(p)||(B=!0,p=o);const $=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&B?void 0:p,z=w&&k!==p&&this.options.updateMissing;if(B||L||z){if(this.logger.log(z?"updateKey":"missingKey",d,u,o,z?k:p),a){const K=this.resolve(o,{...r,keySeparator:!1});K&&K.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let N=[];const V=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&V&&V[0])for(let K=0;K<V.length;K++)N.push(V[K]);else this.options.saveMissingTo==="all"?N=this.languageUtils.toResolveHierarchy(r.lng||this.language):N.push(r.lng||this.language);const H=(K,U,X)=>{var Q;const Z=w&&X!==p?X:$;this.options.missingKeyHandler?this.options.missingKeyHandler(K,u,U,Z,z,r):(Q=this.backendConnector)!=null&&Q.saveMissing&&this.backendConnector.saveMissing(K,u,U,Z,z,r),this.emit("missingKey",K,u,U,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&x?N.forEach(K=>{const U=this.pluralResolver.getSuffixes(K,r);A&&r[`defaultValue${this.options.pluralSeparator}zero`]&&U.indexOf(`${this.options.pluralSeparator}zero`)<0&&U.push(`${this.options.pluralSeparator}zero`),U.forEach(X=>{H([K],o+X,r[`defaultValue${X}`]||k)})}):H(N,o,k))}p=this.extendTranslation(p,e,r,f,i),B&&p===o&&this.options.appendNamespaceToMissingKey&&(p=`${u}${c}${o}`),(B||L)&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${c}${o}`:o,L?p:void 0,r))}return s?(f.res=p,f.usedParams=this.getUsedParamsDetails(r),f):p}extendTranslation(e,t,i,r,s){var l,u;if((l=this.i18nFormat)!=null&&l.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const c=Yn(e)&&(((u=i==null?void 0:i.interpolation)==null?void 0:u.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(c){const f=e.match(this.interpolator.nestingRegexp);d=f&&f.length}let h=i.replace&&!Yn(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,i.lng||this.language||r.usedLng,i),c){const f=e.match(this.interpolator.nestingRegexp),p=f&&f.length;d<p&&(i.nest=!1)}!i.lng&&r&&r.res&&(i.lng=this.language||r.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,(...f)=>(s==null?void 0:s[0])===f[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${t[0]}`),null):this.translate(...f,t),i)),i.interpolation&&this.interpolator.reset()}const a=i.postProcess||this.options.postProcess,o=Yn(a)?[a]:a;return e!=null&&(o!=null&&o.length)&&i.applyPostProcessor!==!1&&(e=PAe.handle(o,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e,t={}){let i,r,s,a,o;return Yn(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(i))return;const u=this.extractFromKey(l,t),c=u.key;r=c;let d=u.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const h=t.count!==void 0&&!Yn(t.count),f=h&&!t.ordinal&&t.count===0,p=t.context!==void 0&&(Yn(t.context)||typeof t.context=="number")&&t.context!=="",g=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);d.forEach(m=>{var v,_;this.isValidLookup(i)||(o=m,!lce[`${g[0]}-${m}`]&&((v=this.utils)!=null&&v.hasLoadedNamespace)&&!((_=this.utils)!=null&&_.hasLoadedNamespace(o))&&(lce[`${g[0]}-${m}`]=!0,this.logger.warn(`key "${r}" for languages "${g.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(y=>{var T;if(this.isValidLookup(i))return;a=y;const x=[c];if((T=this.i18nFormat)!=null&&T.addLookupKeys)this.i18nFormat.addLookupKeys(x,c,y,m,t);else{let E;h&&(E=this.pluralResolver.getSuffix(y,t.count,t));const A=`${this.options.pluralSeparator}zero`,k=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(t.ordinal&&E.indexOf(k)===0&&x.push(c+E.replace(k,this.options.pluralSeparator)),x.push(c+E),f&&x.push(c+A)),p){const P=`${c}${this.options.contextSeparator||"_"}${t.context}`;x.push(P),h&&(t.ordinal&&E.indexOf(k)===0&&x.push(P+E.replace(k,this.options.pluralSeparator)),x.push(P+E),f&&x.push(P+A))}}let w;for(;w=x.pop();)this.isValidLookup(i)||(s=w,i=this.getResource(y,m,w,t))}))})}),{res:i,usedKey:r,exactUsedKey:s,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,i,r={}){var s;return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(e,t,i,r):this.resourceStore.getResource(e,t,i,r)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&!Yn(e.replace);let r=i?e.replace:e;if(i&&typeof e.count<"u"&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!i){r={...r};for(const s of t)delete r[s]}return r}static hasDefaultValue(e){const t="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t===i.substring(0,t.length)&&e[i]!==void 0)return!0;return!1}}class uce{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=zp.create("languageUtils")}getScriptPartFromCode(e){if(e=dO(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=dO(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Yn(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(i=>{if(t)return;const r=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(r))&&(t=r)}),!t&&this.options.supportedLngs&&e.forEach(i=>{if(t)return;const r=this.getScriptPartFromCode(i);if(this.isSupportedCode(r))return t=r;const s=this.getLanguagePartFromCode(i);if(this.isSupportedCode(s))return t=s;t=this.options.supportedLngs.find(a=>{if(a===s)return a;if(!(a.indexOf("-")<0&&s.indexOf("-")<0)&&(a.indexOf("-")>0&&s.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===s||a.indexOf(s)===0&&s.length>1))return a})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Yn(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let i=e[t];return i||(i=e[this.getScriptPartFromCode(t)]),i||(i=e[this.formatLanguageCode(t)]),i||(i=e[this.getLanguagePartFromCode(t)]),i||(i=e.default),i||[]}toResolveHierarchy(e,t){const i=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),r=[],s=a=>{a&&(this.isSupportedCode(a)?r.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return Yn(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):Yn(e)&&s(this.formatLanguageCode(e)),i.forEach(a=>{r.indexOf(a)<0&&s(this.formatLanguageCode(a))}),r}}const cce={zero:0,one:1,two:2,few:3,many:4,other:5},dce={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class G$t{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=zp.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const i=dO(e==="dev"?"en":e),r=t.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:i,type:r});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let a;try{a=new Intl.PluralRules(i,{type:r})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),dce;if(!e.match(/-|_/))return dce;const l=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(l,t)}return this.pluralRulesCache[s]=a,a}needsPlural(e,t={}){let i=this.getRule(e,t);return i||(i=this.getRule("dev",t)),(i==null?void 0:i.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t,i={}){return this.getSuffixes(e,i).map(r=>`${t}${r}`)}getSuffixes(e,t={}){let i=this.getRule(e,t);return i||(i=this.getRule("dev",t)),i?i.resolvedOptions().pluralCategories.sort((r,s)=>cce[r]-cce[s]).map(r=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${r}`):[]}getSuffix(e,t,i={}){const r=this.getRule(e,i);return r?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,i))}}const hce=(n,e,t,i=".",r=!0)=>{let s=F$t(n,e,t);return!s&&r&&Yn(t)&&(s=T8(n,t,i),s===void 0&&(s=T8(e,t,i))),s},C4=n=>n.replace(/\$/g,"$$$$");class fce{constructor(e={}){var t;this.logger=zp.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(i=>i),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:i,useRawValueToEscape:r,prefix:s,prefixEscaped:a,suffix:o,suffixEscaped:l,formatSeparator:u,unescapeSuffix:c,unescapePrefix:d,nestingPrefix:h,nestingPrefixEscaped:f,nestingSuffix:p,nestingSuffixEscaped:g,nestingOptionsSeparator:m,maxReplaces:v,alwaysFormat:_}=e.interpolation;this.escape=t!==void 0?t:$$t,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=s?JS(s):a||"{{",this.suffix=o?JS(o):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=h?JS(h):f||JS("$t("),this.nestingSuffix=p?JS(p):g||JS(")"),this.nestingOptionsSeparator=m||",",this.maxReplaces=v||1e3,this.alwaysFormat=_!==void 0?_:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,i)=>(t==null?void 0:t.source)===i?(t.lastIndex=0,t):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,i,r){var f;let s,a,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=p=>{if(p.indexOf(this.formatSeparator)<0){const _=hce(t,l,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(_,void 0,i,{...r,...t,interpolationkey:p}):_}const g=p.split(this.formatSeparator),m=g.shift().trim(),v=g.join(this.formatSeparator).trim();return this.format(hce(t,l,m,this.options.keySeparator,this.options.ignoreJSONStructure),v,i,{...r,...t,interpolationkey:m})};this.resetRegExp();const c=(r==null?void 0:r.missingInterpolationHandler)||this.options.missingInterpolationHandler,d=((f=r==null?void 0:r.interpolation)==null?void 0:f.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>C4(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?C4(this.escape(p)):C4(p)}].forEach(p=>{for(o=0;s=p.regex.exec(e);){const g=s[1].trim();if(a=u(g),a===void 0)if(typeof c=="function"){const v=c(e,s,r);a=Yn(v)?v:""}else if(r&&Object.prototype.hasOwnProperty.call(r,g))a="";else if(d){a=s[0];continue}else this.logger.warn(`missed to pass in variable ${g} for interpolating ${e}`),a="";else!Yn(a)&&!this.useRawValueToEscape&&(a=ice(a));const m=p.safeValue(a);if(e=e.replace(s[0],m),d?(p.regex.lastIndex+=a.length,p.regex.lastIndex-=s[0].length):p.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,t,i={}){let r,s,a;const o=(l,u)=>{const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const d=l.split(new RegExp(`${c}[ ]*{`));let h=`{${d[1]}`;l=d[0],h=this.interpolate(h,a);const f=h.match(/'/g),p=h.match(/"/g);(((f==null?void 0:f.length)??0)%2===0&&!p||p.length%2!==0)&&(h=h.replace(/'/g,'"'));try{a=JSON.parse(h),u&&(a={...u,...a})}catch(g){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,g),`${l}${c}${h}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l};for(;r=this.nestingRegexp.exec(e);){let l=[];a={...i},a=a.replace&&!Yn(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;const u=/{.*}/.test(r[1])?r[1].lastIndexOf("}")+1:r[1].indexOf(this.formatSeparator);if(u!==-1&&(l=r[1].slice(u).split(this.formatSeparator).map(c=>c.trim()).filter(Boolean),r[1]=r[1].slice(0,u)),s=t(o.call(this,r[1].trim(),a),a),s&&r[0]===e&&!Yn(s))return s;Yn(s)||(s=ice(s)),s||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),s=""),l.length&&(s=l.reduce((c,d)=>this.format(c,d,i.lng,{...i,interpolationkey:r[1].trim()}),s.trim())),e=e.replace(r[0],s),this.regexp.lastIndex=0}return e}}const Y$t=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const i=n.split("(");e=i[0].toLowerCase().trim();const r=i[1].substring(0,i[1].length-1);e==="currency"&&r.indexOf(":")<0?t.currency||(t.currency=r.trim()):e==="relativetime"&&r.indexOf(":")<0?t.range||(t.range=r.trim()):r.split(";").forEach(a=>{if(a){const[o,...l]=a.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),c=o.trim();t[c]||(t[c]=u),u==="false"&&(t[c]=!1),u==="true"&&(t[c]=!0),isNaN(u)||(t[c]=parseInt(u,10))}})}return{formatName:e,formatOptions:t}},pce=n=>{const e={};return(t,i,r)=>{let s=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(s={...s,[r.interpolationkey]:void 0});const a=i+JSON.stringify(s);let o=e[a];return o||(o=n(dO(i),r),e[a]=o),o(t)}},K$t=n=>(e,t,i)=>n(dO(t),i)(e);class X$t{constructor(e={}){this.logger=zp.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const i=t.cacheInBuiltFormats?pce:K$t;this.formats={number:i((r,s)=>{const a=new Intl.NumberFormat(r,{...s});return o=>a.format(o)}),currency:i((r,s)=>{const a=new Intl.NumberFormat(r,{...s,style:"currency"});return o=>a.format(o)}),datetime:i((r,s)=>{const a=new Intl.DateTimeFormat(r,{...s});return o=>a.format(o)}),relativetime:i((r,s)=>{const a=new Intl.RelativeTimeFormat(r,{...s});return o=>a.format(o,s.range||"day")}),list:i((r,s)=>{const a=new Intl.ListFormat(r,{...s});return o=>a.format(o)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=pce(t)}format(e,t,i,r={}){const s=t.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(o=>o.indexOf(")")>-1)){const o=s.findIndex(l=>l.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,o)].join(this.formatSeparator)}return s.reduce((o,l)=>{var d;const{formatName:u,formatOptions:c}=Y$t(l);if(this.formats[u]){let h=o;try{const f=((d=r==null?void 0:r.formatParams)==null?void 0:d[r.interpolationkey])||{},p=f.locale||f.lng||r.locale||r.lng||i;h=this.formats[u](o,p,{...c,...r,...f})}catch(f){this.logger.warn(f)}return h}else this.logger.warn(`there was no format function for ${u}`);return o},e)}}const q$t=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class Z$t extends Wj{constructor(e,t,i,r={}){var s,a;super(),this.backend=e,this.store=t,this.services=i,this.languageUtils=i.languageUtils,this.options=r,this.logger=zp.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],(a=(s=this.backend)==null?void 0:s.init)==null||a.call(s,i,r.backend,r)}queueLoad(e,t,i,r){const s={},a={},o={},l={};return e.forEach(u=>{let c=!0;t.forEach(d=>{const h=`${u}|${d}`;!i.reload&&this.store.hasResourceBundle(u,d)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?a[h]===void 0&&(a[h]=!0):(this.state[h]=1,c=!1,a[h]===void 0&&(a[h]=!0),s[h]===void 0&&(s[h]=!0),l[d]===void 0&&(l[d]=!0)))}),c||(o[u]=!0)}),(Object.keys(s).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(s),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,t,i){const r=e.split("|"),s=r[0],a=r[1];t&&this.emit("failedLoading",s,a,t),!t&&i&&this.store.addResourceBundle(s,a,i,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&i&&(this.state[e]=0);const o={};this.queue.forEach(l=>{L$t(l.loaded,[s],a),q$t(l,e),t&&l.errors.push(t),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{o[u]||(o[u]={});const c=l.loaded[u];c.length&&c.forEach(d=>{o[u][d]===void 0&&(o[u][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,t,i,r=0,s=this.retryTimeout,a){if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:i,tried:r,wait:s,callback:a});return}this.readingCalls++;const o=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(u&&c&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,i,r+1,s*2,a)},s);return}a(u,c)},l=this.backend[i].bind(this.backend);if(l.length===2){try{const u=l(e,t);u&&typeof u.then=="function"?u.then(c=>o(null,c)).catch(o):o(null,u)}catch(u){o(u)}return}return l(e,t,o)}prepareLoading(e,t,i={},r){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();Yn(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Yn(t)&&(t=[t]);const s=this.queueLoad(e,t,i,r);if(!s.toLoad.length)return s.pending.length||r(),null;s.toLoad.forEach(a=>{this.loadOne(a)})}load(e,t,i){this.prepareLoading(e,t,{},i)}reload(e,t,i){this.prepareLoading(e,t,{reload:!0},i)}loadOne(e,t=""){const i=e.split("|"),r=i[0],s=i[1];this.read(r,s,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${t}loading namespace ${s} for language ${r} failed`,a),!a&&o&&this.logger.log(`${t}loaded namespace ${s} for language ${r}`,o),this.loaded(e,a,o)})}saveMissing(e,t,i,r,s,a={},o=()=>{}){var l,u,c,d,h;if((u=(l=this.services)==null?void 0:l.utils)!=null&&u.hasLoadedNamespace&&!((d=(c=this.services)==null?void 0:c.utils)!=null&&d.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${i}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if((h=this.backend)!=null&&h.create){const f={...a,isUpdate:s},p=this.backend.create.bind(this.backend);if(p.length<6)try{let g;p.length===5?g=p(e,t,i,r,f):g=p(e,t,i,r),g&&typeof g.then=="function"?g.then(m=>o(null,m)).catch(o):o(null,g)}catch(g){o(g)}else p(e,t,i,r,o,f)}!e||!e[0]||this.store.addResource(e[0],t,i,r)}}}const gce=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),Yn(n[1])&&(e.defaultValue=n[1]),Yn(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(i=>{e[i]=t[i]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),mce=n=>{var e,t;return Yn(n.ns)&&(n.ns=[n.ns]),Yn(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),Yn(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),((t=(e=n.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n},sD=()=>{},Q$t=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class _A extends Wj{constructor(e={},t){if(super(),this.options=mce(e),this.services={},this.logger=zp,this.modules={external:[]},Q$t(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(Yn(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const i=gce();this.options={...i,...this.options,...mce(e)},this.options.interpolation={...i.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=i.overloadTranslationOptionHandler);const r=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?zp.init(r(this.modules.logger),this.options):zp.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=X$t;const c=new uce(this.options);this.store=new oce(this.options.resources,this.options);const d=this.services;d.logger=zp,d.resourceStore=this.store,d.languageUtils=c,d.pluralResolver=new G$t(c,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(d.formatter=r(u),d.formatter.init&&d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new fce(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new Z$t(r(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",(f,...p)=>{this.emit(f,...p)}),this.modules.languageDetector&&(d.languageDetector=r(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=r(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new vF(this.services,this.options),this.translator.on("*",(f,...p)=>{this.emit(f,...p)}),this.modules.external.forEach(f=>{f.init&&f.init(this)})}if(this.format=this.options.interpolation.format,t||(t=sD),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...c)=>this.store[u](...c)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...c)=>(this.store[u](...c),this)});const o=iE(),l=()=>{const u=(c,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(d),t(c,d)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),o}loadResources(e,t=sD){var s,a;let i=t;const r=Yn(e)?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if((r==null?void 0:r.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const o=[],l=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(d=>{d!=="cimode"&&o.indexOf(d)<0&&o.push(d)})};r?l(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>l(c)),(a=(s=this.options.preload)==null?void 0:s.forEach)==null||a.call(s,u=>l(u)),this.services.backendConnector.load(o,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(u)})}else i(null)}reloadResources(e,t,i){const r=iE();return typeof e=="function"&&(i=e,e=void 0),typeof t=="function"&&(i=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),i||(i=sD),this.services.backendConnector.reload(e,t,s=>{r.resolve(),i(s)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&PAe.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const i=this.languages[t];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const i=iE();this.emit("languageChanging",e);const r=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},s=(o,l)=>{l?this.isLanguageChangingTo===e&&(r(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,i.resolve((...u)=>this.t(...u)),t&&t(o,(...u)=>this.t(...u))},a=o=>{var c,d;!e&&!o&&this.services.languageDetector&&(o=[]);const l=Yn(o)?o:o&&o[0],u=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(Yn(o)?[o]:o);u&&(this.language||r(u),this.translator.language||this.translator.changeLanguage(u),(d=(c=this.services.languageDetector)==null?void 0:c.cacheUserLanguage)==null||d.call(c,u)),this.loadResources(u,h=>{s(h,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),i}getFixedT(e,t,i){const r=(s,a,...o)=>{let l;typeof a!="object"?l=this.options.overloadTranslationOptionHandler([s,a].concat(o)):l={...a},l.lng=l.lng||r.lng,l.lngs=l.lngs||r.lngs,l.ns=l.ns||r.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||i||r.keyPrefix);const u=this.options.keySeparator||".";let c;return l.keyPrefix&&Array.isArray(s)?c=s.map(d=>(typeof d=="function"&&(d=A8(d,{...this.options,...a})),`${l.keyPrefix}${u}${d}`)):(typeof s=="function"&&(s=A8(s,{...this.options,...a})),c=l.keyPrefix?`${l.keyPrefix}${u}${s}`:s),this.t(c,l)};return Yn(e)?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=i,r}t(...e){var t;return(t=this.translator)==null?void 0:t.translate(...e)}exists(...e){var t;return(t=this.translator)==null?void 0:t.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=t.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const u=this.services.backendConnector.state[`${o}|${l}`];return u===-1||u===0||u===2};if(t.precheck){const o=t.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(i,e)&&(!r||a(s,e)))}loadNamespaces(e,t){const i=iE();return this.options.ns?(Yn(e)&&(e=[e]),e.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{i.resolve(),t&&t(r)}),i):(t&&t(),Promise.resolve())}loadLanguages(e,t){const i=iE();Yn(e)&&(e=[e]);const r=this.options.preload||[],s=e.filter(a=>r.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return s.length?(this.options.preload=r.concat(s),this.loadResources(a=>{i.resolve(),t&&t(a)}),i):(t&&t(),Promise.resolve())}dir(e){var r,s;if(e||(e=this.resolvedLanguage||(((r=this.languages)==null?void 0:r.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const a=new Intl.Locale(e);if(a&&a.getTextInfo){const o=a.getTextInfo();if(o&&o.direction)return o.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=((s=this.services)==null?void 0:s.languageUtils)||new uce(gce());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){const i=new _A(e,t);return i.createInstance=_A.createInstance,i}cloneInstance(e={},t=sD){const i=e.forkResourceStore;i&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},s=new _A(r);if((e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(o=>{s[o]=this[o]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},i){const o=Object.keys(this.store.data).reduce((l,u)=>(l[u]={...this.store.data[u]},l[u]=Object.keys(l[u]).reduce((c,d)=>(c[d]={...l[u][d]},c),l[u]),l),{});s.store=new oce(o,r),s.services.resourceStore=s.store}return e.interpolation&&(s.services.interpolator=new fce(r)),s.translator=new vF(s.services,r),s.translator.on("*",(o,...l)=>{s.emit(o,...l)}),s.init(r,t),s.translator.options=r,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const is=_A.createInstance();is.createInstance;is.dir;is.init;is.loadResources;is.reloadResources;is.use;is.changeLanguage;is.getFixedT;is.t;is.exists;is.setDefaultNamespace;is.hasLoadedNamespace;is.loadNamespaces;is.loadLanguages;const J$t=(n,e,t,i)=>{var s,a,o,l;const r=[t,{code:e,...i||{}}];if((a=(s=n==null?void 0:n.services)==null?void 0:s.logger)!=null&&a.forward)return n.services.logger.forward(r,"warn","react-i18next::",!0);g0(r[0])&&(r[0]=`react-i18next:: ${r[0]}`),(l=(o=n==null?void 0:n.services)==null?void 0:o.logger)!=null&&l.warn?n.services.logger.warn(...r):console!=null&&console.warn&&console.warn(...r)},vce={},IAe=(n,e,t,i)=>{g0(t)&&vce[t]||(g0(t)&&(vce[t]=new Date),J$t(n,e,t,i))},RAe=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},k8=(n,e,t)=>{n.loadNamespaces(e,RAe(n,t))},yce=(n,e,t,i)=>{if(g0(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return k8(n,t,i);t.forEach(r=>{n.options.ns.indexOf(r)<0&&n.options.ns.push(r)}),n.loadLanguages(e,RAe(n,i))},eNt=(n,e,t={})=>!e.languages||!e.languages.length?(IAe(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(i,r)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!r(i.isLanguageChangingTo,n))return!1}}),g0=n=>typeof n=="string",tNt=n=>typeof n=="object"&&n!==null,nNt=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,iNt={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},rNt=n=>iNt[n],sNt=n=>n.replace(nNt,rNt);let O8={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:sNt,transDefaultProps:void 0};const aNt=(n={})=>{O8={...O8,...n}},oNt=()=>O8;let DAe;const lNt=n=>{DAe=n},uNt=()=>DAe,cNt={type:"3rdParty",init(n){aNt(n.options.react),lNt(n)}},dNt=q.createContext();class hNt{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const fNt=(n,e)=>g0(e)?e:tNt(e)&&g0(e.defaultValue)?e.defaultValue:Array.isArray(n)?n[n.length-1]:n,pNt={t:fNt,ready:!1},gNt=()=>()=>{},Uj=(n,e={})=>{var k,P,I;const{i18n:t}=e,{i18n:i,defaultNS:r}=q.useContext(dNt)||{},s=t||i||uNt();s&&!s.reportNamespaces&&(s.reportNamespaces=new hNt),s||IAe(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const a=q.useMemo(()=>{var D;return{...oNt(),...(D=s==null?void 0:s.options)==null?void 0:D.react,...e}},[s,e]),{useSuspense:o,keyPrefix:l}=a,u=r||((k=s==null?void 0:s.options)==null?void 0:k.defaultNS),c=g0(u)?[u]:u||["translation"],d=q.useMemo(()=>c,c);(I=(P=s==null?void 0:s.reportNamespaces)==null?void 0:P.addUsedNamespaces)==null||I.call(P,d);const h=q.useRef(0),f=q.useCallback(D=>{if(!s)return gNt;const{bindI18n:L,bindI18nStore:B}=a,F=()=>{h.current+=1,D()};return L&&s.on(L,F),B&&s.store.on(B,F),()=>{L&&L.split(" ").forEach($=>s.off($,F)),B&&B.split(" ").forEach($=>s.store.off($,F))}},[s,a]),p=q.useRef(),g=q.useCallback(()=>{if(!s)return pNt;const D=!!(s.isInitialized||s.initializedStoreOnce)&&d.every(N=>eNt(N,s,a)),L=e.lng||s.language,B=h.current,F=p.current;if(F&&F.ready===D&&F.lng===L&&F.keyPrefix===l&&F.revision===B)return F;const z={t:s.getFixedT(L,a.nsMode==="fallback"?d:d[0],l),ready:D,lng:L,keyPrefix:l,revision:B};return p.current=z,z},[s,d,l,a,e.lng]),[m,v]=q.useState(0),{t:_,ready:y}=I$t.useSyncExternalStore(f,g,g);q.useEffect(()=>{if(s&&!y&&!o){const D=()=>v(L=>L+1);e.lng?yce(s,e.lng,d,D):k8(s,d,D)}},[s,e.lng,d,y,o,m]);const x=s||{},w=q.useRef(null),T=q.useRef(),E=D=>{const L=Object.getOwnPropertyDescriptors(D);L.__original&&delete L.__original;const B=Object.create(Object.getPrototypeOf(D),L);if(!Object.prototype.hasOwnProperty.call(B,"__original"))try{Object.defineProperty(B,"__original",{value:D,writable:!1,enumerable:!1,configurable:!1})}catch{}return B},A=q.useMemo(()=>{const D=x,L=D==null?void 0:D.language;let B=D;D&&(w.current&&w.current.__original===D?T.current!==L?(B=E(D),w.current=B,T.current=L):B=w.current:(B=E(D),w.current=B,T.current=L));const F=[_,B,y];return F.t=_,F.i18n=B,F.ready=y,F},[_,x,y,x.resolvedLanguage,x.language,x.languages]);if(s&&o&&!y)throw new Promise(D=>{const L=()=>D();e.lng?yce(s,e.lng,d,L):k8(s,d,L)});return A};function _ce(n){document.body.setAttribute("theme-mode",n)}function mNt(){const[n,e]=q.useState("#ffffff"),[t,i]=q.useState(!1);return q.useLayoutEffect(()=>{Pa.getTheme().then(r=>{e(r.chartBgColor);const s=r.theme.toLowerCase()==="dark";i(s),_ce(r.theme.toLowerCase())}),Pa.onThemeChange(r=>{e(r.data.chartBgColor);const s=r.data.theme.toLowerCase()==="dark";i(s),_ce(r.data.theme.toLowerCase())})},[]),{bgColor:n,isDark:t}}function vNt(n){const e=Pa.state===Yk.Create;q.useEffect(()=>{e||Pa.getConfig().then(n)},[e]),q.useEffect(()=>{const t=Pa.onConfigChange(i=>{n(i.data)});return()=>{t()}},[])}const LAe=n=>n;var ha;(function(n){n["desktop-browser"]="desktop-browser",n["mobile-browser"]="mobile-browser",n.node="node",n.worker="worker",n.miniApp="miniApp",n.wx="wx",n.tt="tt",n.harmony="harmony",n["desktop-miniApp"]="desktop-miniApp",n.lynx="lynx"})(ha||(ha={}));var He;(function(n){n.cartesianAxis="cartesianAxis",n.cartesianBandAxis="cartesianAxis-band",n.cartesianLinearAxis="cartesianAxis-linear",n.cartesianTimeAxis="cartesianAxis-time",n.cartesianLogAxis="cartesianAxis-log",n.cartesianSymlogAxis="cartesianAxis-symlog",n.polarAxis="polarAxis",n.polarBandAxis="polarAxis-band",n.polarLinearAxis="polarAxis-linear",n.crosshair="crosshair",n.cartesianCrosshair="cartesianCrosshair",n.polarCrosshair="polarCrosshair",n.dataZoom="dataZoom",n.geoCoordinate="geoCoordinate",n.indicator="indicator",n.discreteLegend="discreteLegend",n.continuousLegend="continuousLegend",n.colorLegend="colorLegend",n.sizeLegend="sizeLegend",n.markLine="markLine",n.markArea="markArea",n.markPoint="markPoint",n.polarMarkLine="polarMarkLine",n.polarMarkArea="polarMarkArea",n.polarMarkPoint="polarMarkPoint",n.geoMarkPoint="geoMarkPoint",n.tooltip="tooltip",n.title="title",n.player="player",n.scrollBar="scrollBar",n.label="label",n.totalLabel="totalLabel",n.brush="brush",n.poptip="poptip",n.customMark="customMark"})(He||(He={}));var FAe={exports:{}};(function(n){var e=Object.prototype.hasOwnProperty,t="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(t=!1));function r(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function s(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var f=new r(c,d||l,h),p=t?t+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],f]:l._events[p].push(f):(l._events[p]=f,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new i:delete l._events[u]}function o(){this._events=new i,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(t?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=t?t+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,p=new Array(f);h<f;h++)p[h]=d[h].fn;return p},o.prototype.listenerCount=function(u){var c=t?t+u:u,d=this._events[c];return d?d.fn?1:d.length:0},o.prototype.emit=function(u,c,d,h,f,p){var g=t?t+u:u;if(!this._events[g])return!1;var m=this._events[g],v=arguments.length,_,y;if(m.fn){switch(m.once&&this.removeListener(u,m.fn,void 0,!0),v){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,c),!0;case 3:return m.fn.call(m.context,c,d),!0;case 4:return m.fn.call(m.context,c,d,h),!0;case 5:return m.fn.call(m.context,c,d,h,f),!0;case 6:return m.fn.call(m.context,c,d,h,f,p),!0}for(y=1,_=new Array(v-1);y<v;y++)_[y-1]=arguments[y];m.fn.apply(m.context,_)}else{var x=m.length,w;for(y=0;y<x;y++)switch(m[y].once&&this.removeListener(u,m[y].fn,void 0,!0),v){case 1:m[y].fn.call(m[y].context);break;case 2:m[y].fn.call(m[y].context,c);break;case 3:m[y].fn.call(m[y].context,c,d);break;case 4:m[y].fn.call(m[y].context,c,d,h);break;default:if(!_)for(w=1,_=new Array(v-1);w<v;w++)_[w-1]=arguments[w];m[y].fn.apply(m[y].context,_)}}return!0},o.prototype.on=function(u,c,d){return s(this,u,c,d,!1)},o.prototype.once=function(u,c,d){return s(this,u,c,d,!0)},o.prototype.removeListener=function(u,c,d,h){var f=t?t+u:u;if(!this._events[f])return this;if(!c)return a(this,f),this;var p=this._events[f];if(p.fn)p.fn===c&&(!h||p.once)&&(!d||p.context===d)&&a(this,f);else{for(var g=0,m=[],v=p.length;g<v;g++)(p[g].fn!==c||h&&!p[g].once||d&&p[g].context!==d)&&m.push(p[g]);m.length?this._events[f]=m.length===1?m[0]:m:a(this,f)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=t?t+u:u,this._events[c]&&a(this,c)):(this._events=new i,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=t,o.EventEmitter=o,n.exports=o})(FAe);var yNt=FAe.exports;const i_=yn(yNt),$1=(n,e)=>Object.prototype.toString.call(n)===`[object ${e}]`,Va=(n,e=!1)=>e?typeof n=="boolean":n===!0||n===!1||$1(n,"Boolean"),Re=n=>typeof n=="function",J=n=>n==null,Y=n=>n!=null,pn=n=>{const e=typeof n;return n!==null&&e==="object"||e==="function"},_Nt=n=>typeof n=="object"&&n!==null,gh=function(n){if(!_Nt(n)||!$1(n,"Object"))return!1;if(Object.getPrototypeOf(n)===null)return!0;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e},cs=n=>n===void 0,Jt=(n,e=!1)=>{const t=typeof n;return e?t==="string":t==="string"||$1(n,"String")},Oe=n=>Array.isArray?Array.isArray(n):$1(n,"Array"),Vq=function(n){return n!==null&&typeof n!="function"&&Number.isFinite(n.length)},bNt=n=>$1(n,"Date"),st=(n,e=!1)=>{const t=typeof n;return e?t==="number":t==="number"||$1(n,"Number")},SNt=n=>typeof n=="string"&&!isNaN(Number(n))&&!isNaN(parseFloat(n)),Me=n=>st(n)&&Number.isFinite(n),BAe=n=>new RegExp(/^(http(s)?:\/\/)\w+[^\s]+(\.[^\s]+){1,}$/).test(n),$Ae=n=>new RegExp(/^data:image\/(?:gif|png|jpeg|bmp|webp|svg\+xml)(?:;charset=utf-8)?;base64,(?:[A-Za-z0-9]|[+/])+={0,2}/g).test(n),xNt=n=>({}).toString.call(n).replace(/^\[object /,"").replace(/]$/,""),wNt=Object.prototype,CNt=function(n){const e=n&&n.constructor;return n===(typeof e=="function"&&e.prototype||wNt)},TNt=Object.prototype.hasOwnProperty;function Lt(n){if(J(n))return!0;if(Vq(n))return!n.length;const e=xNt(n);if(e==="Map"||e==="Set")return!n.size;if(CNt(n))return!Object.keys(n).length;for(const t in n)if(TNt.call(n,t))return!1;return!0}const Hn=(n,e,t)=>{const i=Jt(e)?e.split("."):e;for(let r=0;r<i.length;r++)n=n?n[i[r]]:void 0;return n===void 0?t:n},ENt=Object.prototype.hasOwnProperty,ANt=(n,e)=>n!=null&&ENt.call(n,e);function Ul(n,e,t){let i;if(!Y(n)||typeof n!="object"||e&&e(n))return n;const r=Oe(n),s=n.length;i=r?new Array(s):typeof n=="object"?{}:Va(n)||st(n)||Jt(n)?n:bNt(n)?new Date(+n):void 0;const a=r?void 0:Object.keys(Object(n));let o=-1;if(i)for(;++o<(a||n).length;){const l=a?a[o]:o,u=n[l];t&&t.includes(l.toString())?i[l]=u:i[l]=Ul(u,e,t)}return i}function Wq(n,e,t=!1,i=!1){if(e){if(n===e)return;if(Y(e)&&typeof e=="object"){const r=Object(e),s=[];for(const l in r)s.push(l);let{length:a}=s,o=-1;for(;a--;){const l=s[++o];!Y(r[l])||typeof r[l]!="object"||i&&Oe(n[l])?NAe(n,l,r[l]):kNt(n,e,l,t,i)}}}}function kNt(n,e,t,i=!1,r=!1){const s=n[t],a=e[t];let o=e[t],l=!0;if(Oe(a)){if(i)o=[];else if(Oe(s))o=s;else if(Vq(s)){o=new Array(s.length);let u=-1;const c=s.length;for(;++u<c;)o[u]=s[u]}}else gh(a)?(o=s??{},typeof s!="function"&&typeof s=="object"||(o={})):l=!1;l&&Wq(o,a,i,r),NAe(n,t,o)}function NAe(n,e,t){(t!==void 0&&!ONt(n[e],t)||t===void 0&&!(e in n))&&(n[e]=t)}function ONt(n,e){return n===e||Number.isNaN(n)&&Number.isNaN(e)}function We(n,...e){let t=-1;const i=e.length;for(;++t<i;)Wq(n,e[t],!0);return n}function By(n,e){if(!n||!gh(n))return n;const t={};return Object.keys(n).forEach(i=>{const r=n[i];let s=!1;e.forEach(a=>{(Jt(a)&&a===i||a instanceof RegExp&&i.match(a))&&(s=!0)}),s||(t[i]=r)}),t}function bce(n){return Object.prototype.toString.call(n)}function Sce(n){return Object.keys(n)}function Oi(n,e,t){if(n===e)return!0;if(typeof n!=typeof e||n==null||e==null)return!1;if(Number.isNaN(n)&&Number.isNaN(e))return!0;if(bce(n)!==bce(e)||Re(n)||typeof n!="object")return!1;if(Oe(n)){if(n.length!==e.length)return!1;for(let s=n.length-1;s>=0;s--)if(!Oi(n[s],e[s]))return!1;return!0}if(!gh(n))return!1;const i=Sce(n),r=Sce(e);if(i.length!==r.length)return!1;i.sort(),r.sort();for(let s=i.length-1;s>=0;s--)if(i[s]!=r[s])return!1;for(let s=i.length-1;s>=0;s--){const a=i[s];if(!Oi(n[a],e[a]))return!1}return!0}function PNt(n){if(!n)return[];if(Object.keys)return Object.keys(n);const e=[];for(const t in n)n.hasOwnProperty(t)&&e.push(t);return e}function MNt(n,e,t){const i=PNt(e);for(let r=0;r<i.length;r++){const s=i[r];(t?e[s]!=null:n[s]==null)&&(n[s]=e[s])}return n}function Li(n,e,t=!0){if(n="prototype"in n?n.prototype:n,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames){const i=Object.getOwnPropertyNames(e);for(let r=0;r<i.length;r++){const s=i[r];s!=="constructor"&&(t?e[s]!=null:n[s]==null)&&(n[s]=e[s])}}else MNt(n,e,t)}function Ae(n){return Y(n)?Oe(n)?n:[n]:[]}function Xn(n){if(Vq(n))return n[n.length-1]}const js=(n,e)=>{var t;if(n.length===0)return;let i=n[0];for(let r=1;r<n.length;r++){const s=n[r];((t=e==null?void 0:e(s,i))!==null&&t!==void 0?t:s-i)>0&&(i=s)}return i},Sa=(n,e)=>{var t;if(n.length===0)return;let i=n[0];for(let r=1;r<n.length;r++){const s=n[r];((t=e==null?void 0:e(s,i))!==null&&t!==void 0?t:s-i)<0&&(i=s)}return i};function aD(n,e){if(!Oe(n)||!Oe(e)||n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function INt(n){return n&&Oe(n)?Array.from(new Set(Ae(n))):n}function jAe(n,e=Math.random){let t,i,r=n.length;for(;r;)t=Math.floor(e()*r),i=n[--r],n[r]=n[t],n[t]=i;return n}function P8(n){if(!Oe(n))return[n];const e=[];for(const t of n)e.push(...P8(t));return e}function zAe(n,e,t){Y(e)||(e=n,n=0),Y(t)||(t=1);let i=-1;const r=0|Math.max(0,Math.ceil((e-n)/t)),s=new Array(r);for(;++i<r;)s[i]=n+i*t;return s}function HAe(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function dy(n){return Number(n)}function _x(n,e,t=dy){const i=n.length;if(!i)return;if(e<=0||i<2)return t(n[0],0,n);if(e>=1)return t(n[i-1],i-1,n);const r=(i-1)*e,s=Math.floor(r),a=t(n[s],s,n);return a+(t(n[s+1],s+1,n)-a)*(r-s)}const RNt=typeof console<"u";function oD(n,e,t){const i=[e].concat([].slice.call(t));RNt&&console[n].apply(console,i)}var Nd;(function(n){n[n.None=0]="None",n[n.Error=1]="Error",n[n.Warn=2]="Warn",n[n.Info=3]="Info",n[n.Debug=4]="Debug"})(Nd||(Nd={}));class yi{static getInstance(e,t){return yi._instance&&st(e)?yi._instance.level(e):yi._instance||(yi._instance=new yi(e,t)),yi._instance}static setInstance(e){return yi._instance=e}static setInstanceLevel(e){yi._instance?yi._instance.level(e):yi._instance=new yi(e)}static clearInstance(){yi._instance=null}constructor(e=Nd.None,t){this._onErrorHandler=[],this._level=e,this._method=t}addErrorHandler(e){this._onErrorHandler.find(t=>t===e)||this._onErrorHandler.push(e)}removeErrorHandler(e){const t=this._onErrorHandler.findIndex(i=>i===e);t<0||this._onErrorHandler.splice(t,1)}callErrorHandler(...e){this._onErrorHandler.forEach(t=>t(...e))}canLogInfo(){return this._level>=Nd.Info}canLogDebug(){return this._level>=Nd.Debug}canLogError(){return this._level>=Nd.Error}canLogWarn(){return this._level>=Nd.Warn}level(e){return arguments.length?(this._level=+e,this):this._level}error(...e){var t;return this._level>=Nd.Error&&(this._onErrorHandler.length?this.callErrorHandler(...e):oD((t=this._method)!==null&&t!==void 0?t:"error","ERROR",e)),this}warn(...e){return this._level>=Nd.Warn&&oD(this._method||"warn","WARN",e),this}info(...e){return this._level>=Nd.Info&&oD(this._method||"log","INFO",e),this}debug(...e){return this._level>=Nd.Debug&&oD(this._method||"log","DEBUG",e),this}}yi._instance=null;function VAe(n,e,t=0,i){for(J(i)&&(i=n.length);t<i;){const r=t+i>>>1;HAe(n[r],e)>0?i=r:t=r+1}return t}const xce=(n,e)=>WAe(0,n.length,t=>e(n[t])),WAe=(n,e,t)=>{let i=n,r=e;for(;i<r;){const s=Math.floor((i+r)/2);t(s)>=0?r=s:i=s+1}return i},DNt=(n,e)=>{let t=n;return t=n.sort(HAe),_x(t,.5)},LNt=1e-10,FNt=1e-10;function zs(n,e,t=FNt,i=LNt){const r=i,s=t*Math.max(n,e);return Math.abs(n-e)<=Math.max(r,s)}function Xg(n,e,t,i){return n>e&&!zs(n,e,t,i)}function gp(n,e,t,i){return n<e&&!zs(n,e,t,i)}const pM=n=>{let e=null,t=null;return(...i)=>(e&&i.every((r,s)=>r===e[s])||(e=i,t=n(...i)),t)},ki=function(n,e,t){return n<e?e:n>t?t:n},lb=(n,e,t)=>{let[i,r]=n;r<i&&(i=n[1],r=n[0]);const s=r-i;return s>=t-e?[e,t]:(i=Math.min(Math.max(i,e),t-s),[i,i+s])};function AC(n,e){let t;return n>e&&(t=n,n=e,e=t),i=>Math.max(n,Math.min(e,i))}let yF=!1;try{yF=typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"}catch{yF=!1}function Y0(n,e,t){let i,r,s,a,o,l,u=0,c=!1,d=!1,h=!0;const f=!e&&e!==0&&yF;if(typeof n!="function")throw new TypeError("Expected a function");function p(x){const w=i,T=r;return i=r=void 0,u=x,a=n.apply(T,w),a}function g(x,w){return f?(cancelAnimationFrame(o),requestAnimationFrame(x)):setTimeout(x,w)}function m(x){const w=x-l;return l===void 0||w>=e||w<0||d&&x-u>=s}function v(){const x=Date.now();if(m(x))return _(x);o=g(v,function(w){const T=w-u,E=e-(w-l);return d?Math.min(E,s-T):E}(x))}function _(x){return o=void 0,h&&i?p(x):(i=r=void 0,a)}function y(...x){const w=Date.now(),T=m(w);if(i=x,r=this,l=w,T){if(o===void 0)return function(E){return u=E,o=g(v,e),c?p(E):a}(l);if(d)return o=g(v,e),p(l)}return o===void 0&&(o=g(v,e)),a}return e=+e||0,pn(t)&&(c=!!t.leading,d="maxWait"in t,d&&(s=Math.max(Me(t.maxWait)?t.maxWait:0,e)),h="trailing"in t?!!t.trailing:h),y.cancel=function(){o!==void 0&&function(x){if(f)return cancelAnimationFrame(x);clearTimeout(x)}(o),u=0,i=l=r=o=void 0},y.flush=function(){return o===void 0?a:_(Date.now())},y.pending=function(){return o!==void 0},y}yF=!1;function Km(n,e,t){let i=!0,r=!0;if(typeof n!="function")throw new TypeError("Expected a function");return pn(t)&&(i="leading"in t?!!t.leading:i,r="trailing"in t?!!t.trailing:r),Y0(n,e,{leading:i,trailing:r,maxWait:e})}function V2(n,e){return t=>n*(1-t)+e*t}function BNt(n,e){return function(t){return Math.round(n*(1-t)+e*t)}}function $Nt(n,e){const t=n.valueOf(),i=e.valueOf(),r=new Date;return s=>(r.setTime(t*(1-s)+i*s),r)}function Gb(n){if(Me(n))return n;const e=+n;return Me(e)?e:0}function NNt(n){return parseFloat("0."+Math.sin(n).toString().substring(6))}const jNt=1664525,zNt=1013904223,wce=4294967296;function HNt(n=1){let e=n;return()=>(e=(jNt*e+zNt)%wce)/wce}const VNt=()=>{let n=-1;const e=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9];return()=>(n=(n+1)%e.length,e[n])},WNt=n=>e=>Hn(e,n),Cce=(n,e={})=>{if(Re(n))return n;const t=[n];return(e&&e.get||WNt)(t)},kC=(n,e={})=>{if(Oe(n)){const t=n.map(i=>Cce(i,e));return i=>t.map(r=>r(i))}return Cce(n,e)},fu=n=>n?typeof n=="string"||typeof n=="number"?()=>n:Re(n)?n:e=>e[n.field]:null,nf=(n,e)=>J(n)?e:Jt(n)?e*parseFloat(n)/100:n,UNt=n=>0,Tce=(n,e)=>{const t=Re(e)?e:s=>s;let i,r;if(n&&n.length){const s=n.length;for(let a=0;a<s;a+=1){let o=t(n[a]);J(o)||!st(o=+o)||Number.isNaN(o)||(J(i)?(i=o,r=o):(i=Math.min(i,o),r=Math.max(r,o)))}return[i,r]}return[i,r]};function GNt(n){if(n<=0||n>=1)return 0;const e=-.00778489400243029,t=-.322396458041136,i=-2.40075827716184,r=-2.54973253934373,s=4.37466414146497,a=2.93816398269878,o=.00778469570904146,l=.32246712907004,u=2.445134137143,c=3.75440866190742;let d,h;return n<.02425?(d=Math.sqrt(-2*Math.log(n)),(((((e*d+t)*d+i)*d+r)*d+s)*d+a)/((((o*d+l)*d+u)*d+c)*d+1)):n<=.97575?(d=n-.5,h=d*d,(((((-39.6968302866538*h+220.946098424521)*h-275.928510446969)*h+138.357751867269)*h-30.6647980661472)*h+2.50662827745924)*d/(((((-54.4760987982241*h+161.585836858041)*h-155.698979859887)*h+66.8013118877197)*h-13.2806815528857)*h+1)):(d=Math.sqrt(-2*Math.log(1-n)),-(((((e*d+t)*d+i)*d+r)*d+s)*d+a)/((((o*d+l)*d+u)*d+c)*d+1))}function YNt(n,e,t,i){let r=1/0,s=-1/0,a=0,o=0;for(let d=0;d<n.length;d++){const h=n[d];let f=e(h),p=t(h);!J(f)&&(f=+f)>=f&&!J(p)&&(p=+p)>=p&&(f<r&&(r=f),f>s&&(s=f),a++,o+=f)}if(a===0)return{min:r,max:s,n:a,X:0,SSE:0,Sxx:0};const l=o/a;let u=0,c=0;for(let d=0;d<n.length;d++){const h=n[d];let f=e(h),p=t(h);if(!J(f)&&(f=+f)>=f&&!J(p)&&(p=+p)>=p){const g=p-i(f);u+=g*g;const m=f-l;c+=m*m}}return{min:r,max:s,n:a,X:l,SSE:u,Sxx:c}}function Ece(n,e){const{n:t,X:i,Sxx:r,SSE:s}=e,a=t>2?s/(t-2):0;return{seMean:r>0?Math.sqrt(a*(1/t+(n-i)*(n-i)/r)):Math.sqrt(a/t),sePred:Math.sqrt(a*(1+1/t+(r>0?(n-i)*(n-i)/r:0)))}}function KNt(n,e,t,i){const r=i-n*n;if(Math.abs(r)<Number.EPSILON)return{a:e,b:0};const s=(t-n*e)/r;return{a:e-s*n,b:s}}function XNt(n,e,t,i){for(let r=0;r<n.length;r++){const s=n[r];let a=e(s),o=t(s);!J(a)&&(a=+a)>=a&&!J(o)&&(o=+o)>=o&&i(a,o,r)}}function qNt(n,e,t,i,r){let s=0,a=0;for(let o=0;o<n.length;o++){const l=n[o];let u=t(l);if(!J(u)&&(u=+u)>=u){const c=u-r(e(l));s+=c*c;const d=u-i;a+=d*d}}return a===0?0:1-s/a}function ZNt(n,e=r=>r.x,t=r=>r.y,i){var r;const s=(r=i==null?void 0:i.alpha)!==null&&r!==void 0?r:.05;let a=0,o=0,l=0,u=0,c=0;XNt(n,e,t,(g,m)=>{a++,o+=(g-o)/a,l+=(m-l)/a,u+=(g*m-u)/a,c+=(g*g-c)/a});const{a:d,b:h}=KNt(o,l,u,c),f=g=>d+h*g,p=YNt(n,e,t,f);return{coef:{a:d,b:h},predict:f,rSquared:qNt(n,e,t,l,f),evaluateGrid:function(g){const m=[];if(p.n===0||g<=0)return m;if(p.min===p.max){for(let _=0;_<g;_++)m.push({x:p.min,y:f(p.min)});return m}const v=(p.max-p.min)/(g-1);for(let _=0;_<g;_++){const y=_===g-1?p.max:p.min+v*_;m.push({x:y,y:f(y)})}return m},confidenceInterval:function(g=50){const m=[];if(p.n===0||g<=0)return m;const v=GNt(1-s/2);if(p.min===p.max){const y=f(p.min),x=Ece(p.min,p);for(let w=0;w<g;w++)m.push({x:p.min,mean:y,lower:y-v*x.seMean,upper:y+v*x.seMean,predLower:y-v*x.sePred,predUpper:y+v*x.sePred});return m}const _=(p.max-p.min)/(g-1);for(let y=0;y<g;y++){const x=y===g-1?p.max:p.min+_*y,w=f(x),T=Ece(x,p);m.push({x,mean:w,lower:w-v*T.seMean,upper:w+v*T.seMean,predLower:w-v*T.sePred,predUpper:w+v*T.sePred})}return m}}}const jr=1e-12,Di=Math.PI,eh=Di/2,ul=2*Di,xn=2*Math.PI,qn=Math.abs,Vi=Math.atan2,Ma=Math.cos,dl=Math.max,za=Math.min,Cs=Math.sin,Af=Math.sqrt,ex=Math.pow;function QNt(n){return n>1?0:n<-1?Di:Math.acos(n)}function Ace(n){return n>=1?eh:n<=-1?-eh:Math.asin(n)}function kce(n,e,t,i,r){let s=t,a=i;return typeof n=="number"&&typeof t=="number"&&(s=(1-r)*n+r*t),typeof e=="number"&&typeof i=="number"&&(a=(1-r)*e+r*i),{x:s,y:a}}function M8(n,e){return n[0]*e[1]-n[1]*e[0]}function JNt(n,e){return qn(n[0]-e[0])+qn(n[1]-e[1])<1e-12}function UAe(n,e=10){return Math.round(n*e)/e}function OC(n){const e=n.toString().split(/[eE]/),t=(e[0].split(".")[1]||"").length-(+e[1]||0);return t>0?t:0}function Hp(n,e){return UAe(n+e,10**Math.max(OC(n),OC(e)))}function hO(n,e){return UAe(n-e,10**Math.max(OC(n),OC(e)))}class Zi{constructor(e=0,t=0,i,r){this.x=0,this.y=0,this.x=e,this.y=t,this.x1=i,this.y1=r}clone(){return new Zi(this.x,this.y)}copyFrom(e){return this.x=e.x,this.y=e.y,this.x1=e.x1,this.y1=e.y1,this.defined=e.defined,this.context=e.context,this}set(e,t){return this.x=e,this.y=t,this}add(e){return st(e)?(this.x+=e,void(this.y+=e)):(this.x+=e.x,this.y+=e.y,this)}sub(e){return st(e)?(this.x-=e,void(this.y-=e)):(this.x-=e.x,this.y-=e.y,this)}multi(e){throw new Error("")}div(e){throw new Error("")}}class Fa{static distancePP(e,t){return Af(ex(e.x-t.x,2)+ex(e.y-t.y,2))}static distanceNN(e,t,i,r){return Af(ex(e-i,2)+ex(t-r,2))}static distancePN(e,t,i){return Af(ex(t-e.x,2)+ex(i-e.y,2))}static pointAtPP(e,t,i){return new Zi((t.x-e.x)*i+e.x,(t.y-e.y)*i+e.y)}}function ar(n){return n*(Math.PI/180)}function Uq(n){return 180*n/Math.PI}const ejt=(n=0)=>{if(n<0)for(;n<-ul;)n+=ul;else if(n>0)for(;n>ul;)n-=ul;return n},tjt=ejt;function Sr(n,e,t){return e?{x:n.x+e*Math.cos(t),y:n.y+e*Math.sin(t)}:{x:n.x,y:n.y}}function fO(n,e={x:0,y:0},t=0,i=2*Math.PI){const{x:r,y:s}=n,{x:a,y:o}=e;let l=r-a,u=s-o;const c=Math.sqrt(l*l+u*u);if(c===0)return{radius:0,angle:0};l/=c,u/=c;let d=Math.atan2(u,l);if(d<t)for(;d<=t;)d+=2*Math.PI;if(d>i)for(;d>=i;)d-=2*Math.PI;return{radius:c,angle:d}}function GAe(n,e){return Math.atan2(e.y-n.y,e.x-n.x)}function $y(n){for(;n<0;)n+=2*Math.PI;for(;n>=2*Math.PI;)n-=2*Math.PI;return n}function njt(n,e){const t=Math.abs(e-n);if(t>=2*Math.PI||2*Math.PI-t<1e-6)return[0,Math.PI/2,Math.PI,1.5*Math.PI];const i=$y(Math.min(n,e)),r=i+t,s=[i,r];let a=Math.floor(i/Math.PI)*Math.PI/2;for(;a<r;)a>i&&s.push(a),a+=Math.PI/2;return s}function ijt(n,e,t,i){const{x:r,y:s}=e,a=njt(t,i),{width:o,height:l}=n,u=[];return a.forEach(c=>{const d=Math.sin(c),h=Math.cos(c);d===1?u.push(l-s):d===-1?u.push(s):h===1?u.push(o-r):h===-1?u.push(r):(d>0?u.push(Math.abs((l-s)/d)):u.push(Math.abs(s/d)),h>0?u.push(Math.abs((o-r)/h)):u.push(Math.abs(r/h)))}),Math.min.apply(null,u)}function YAe(n){return(n=$y(n))>0&&n<=Math.PI/2?2:n>Math.PI/2&&n<=Math.PI?3:n>Math.PI&&n<=3*Math.PI/2?4:1}function T4(n,e,t){n[0]=e[0]-t[0],n[1]=e[1]-t[1]}function KAe(n,e,t,i){let r=n[0],s=e[0],a=t[0],o=i[0];return s<r&&([r,s]=[s,r]),o<a&&([o,a]=[a,o]),!(s<a||o<r)&&(r=n[1],s=e[1],a=t[1],o=i[1],s<r&&([r,s]=[s,r]),o<a&&([o,a]=[a,o]),!(s<a||o<r))}function XAe(n,e,t,i){if(!KAe(n,e,t,i))return!1;const r=[0,0],s=[0,0],a=[0,0];if(T4(r,e,n),T4(s,i,t),JNt(r,s))return!0;T4(a,t,n);const o=M8(a,s)/M8(r,s);return o>=0&&o<=1&&[n[0]+r[0]*o,n[1]+r[1]*o]}function qAe(n,e,t){if(n===null)return e;if(e===null)return n;const{x11:i,x12:r,y11:s,y12:a,x21:o,x22:l,y21:u,y22:c}=Gq(n,e,t);return i>=l||r<=o||s>=c||a<=u?{x1:0,y1:0,x2:0,y2:0}:{x1:Math.max(i,o),y1:Math.max(s,u),x2:Math.min(r,l),y2:Math.min(a,c)}}var Yx;(function(n){n[n.NONE=0]="NONE",n[n.BBOX1=1]="BBOX1",n[n.BBOX2=2]="BBOX2"})(Yx||(Yx={}));const Gq=(n,e,t)=>{let i=n.x1,r=n.x2,s=n.y1,a=n.y2,o=e.x1,l=e.x2,u=e.y1,c=e.y2;return t&&(i>r&&([i,r]=[r,i]),s>a&&([s,a]=[a,s]),o>l&&([o,l]=[l,o]),u>c&&([u,c]=[c,u])),{x11:i,x12:r,y11:s,y12:a,x21:o,x22:l,y21:u,y22:c}};function rjt(n,e,t){if(!n||!e)return Yx.NONE;const{x11:i,x12:r,y11:s,y12:a,x21:o,x22:l,y21:u,y22:c}=Gq(n,e,t);return i>o&&r<l&&s>u&&a<c?Yx.BBOX1:o>i&&l<r&&u>s&&c<a?Yx.BBOX2:Yx.NONE}function pO(n,e,t){if(n&&e){if(!t)return!(n.x1>e.x2||n.x2<e.x1||n.y1>e.y2||n.y2<e.y1);const{x11:i,x12:r,y11:s,y12:a,x21:o,x22:l,y21:u,y22:c}=Gq(n,e,!0);return!(i>l||r<o||s>c||a<u)}return!0}function bA(n,e,t){if(!e)return!0;if(!t)return n.x>=e.x1&&n.x<=e.x2&&n.y>=e.y1&&n.y<=e.y2;let i=e.x1,r=e.x2,s=e.y1,a=e.y2;return i>r&&([i,r]=[r,i]),s>a&&([s,a]=[a,s]),n.x>=i&&n.x<=r&&n.y>=s&&n.y<=a}function E4(n,e){return Math.abs(e[0]*n[0]+e[1]*n[1])}function Vp({x:n,y:e},t,i={x:0,y:0}){return{x:(n-i.x)*Math.cos(t)-(e-i.y)*Math.sin(t)+i.x,y:(n-i.x)*Math.sin(t)+(e-i.y)*Math.cos(t)+i.y}}function I8(n){return{x:(n.x1+n.x2)/2,y:(n.y1+n.y2)/2}}function Oce(n,e){const t=e?ar(n.angle):n.angle,i=I8(n);return[Vp({x:n.x1,y:n.y1},t,i),Vp({x:n.x2,y:n.y1},t,i),Vp({x:n.x2,y:n.y2},t,i),Vp({x:n.x1,y:n.y2},t,i)]}function ZAe(n,e,t=!1){const i=Oce(n,t),r=Oce(e,t),s=(m,v)=>[v.x-m.x,v.y-m.y],a=s(I8(n),I8(e)),o=s(i[0],i[1]),l=s(i[1],i[2]),u=s(r[0],r[1]),c=s(r[1],r[2]),d=t?ar(n.angle):n.angle;let h=t?ar(90-n.angle):n.angle+eh;const f=t?ar(e.angle):e.angle;let p=t?ar(90-e.angle):e.angle+eh;h>xn&&(h-=xn),p>xn&&(p-=xn);const g=(m,v,_,y)=>{const x=[Math.cos(v),Math.sin(v)];return m+(E4(x,_)+E4(x,y))/2>E4(x,a)};return g((n.x2-n.x1)/2,d,u,c)&&g((n.y2-n.y1)/2,h,u,c)&&g((e.x2-e.x1)/2,f,o,l)&&g((e.y2-e.y1)/2,p,o,l)}const sjt=1e-8;function ajt(n,e,t,i,r){for(let s=0,a=r[r.length-1];s<r.length;s++){const o=r[s];if(KAe([n,e],[t,i],[o.x,o.y],[a.x,a.y]))return!0;a=o}return!1}function QAe(n,e,t){let i=0,r=n[0];if(!r)return!1;for(let a=1;a<n.length;a++){const o=n[a];i+=qg(r.x,r.y,o.x,o.y,e,t),r=o}const s=n[0];return Pce(r.x,s.x)&&Pce(r.y,s.y)||(i+=qg(r.x,r.y,s.x,s.y,e,t)),i!==0}function qg(n,e,t,i,r,s){if(s>e&&s>i||s<e&&s<i||i===e)return 0;const a=(s-e)/(i-e);let o=i<e?1:-1;a!==1&&a!==0||(o=i<e?.5:-.5);const l=a*(t-n)+n;return l===r?1/0:l>r?o:0}function Pce(n,e){return Math.abs(n-e)<sjt}function ojt(n,e){for(let t=0;t<e.length;t++)if(QAe(n,e[t].x,e[t].y)||t>0&&ajt(e[t-1].x,e[t-1].y,e[t].x,e[t].y,n))return!0;return!1}const Mce=n=>{let e=n.charCodeAt(0),t=n.length===2?n.charCodeAt(1):0,i=e;return 55296<=e&&e<=56319&&56320<=t&&t<=57343&&(e&=1023,t&=1023,i=e<<10|t,i+=65536),i===12288||65281<=i&&i<=65376||65504<=i&&i<=65510?"F":i===8361||65377<=i&&i<=65470||65474<=i&&i<=65479||65482<=i&&i<=65487||65490<=i&&i<=65495||65498<=i&&i<=65500||65512<=i&&i<=65518?"H":4352<=i&&i<=4447||4515<=i&&i<=4519||4602<=i&&i<=4607||9001<=i&&i<=9002||11904<=i&&i<=11929||11931<=i&&i<=12019||12032<=i&&i<=12245||12272<=i&&i<=12283||12289<=i&&i<=12350||12353<=i&&i<=12438||12441<=i&&i<=12543||12549<=i&&i<=12589||12593<=i&&i<=12686||12688<=i&&i<=12730||12736<=i&&i<=12771||12784<=i&&i<=12830||12832<=i&&i<=12871||12880<=i&&i<=13054||13056<=i&&i<=19903||19968<=i&&i<=42124||42128<=i&&i<=42182||43360<=i&&i<=43388||44032<=i&&i<=55203||55216<=i&&i<=55238||55243<=i&&i<=55291||63744<=i&&i<=64255||65040<=i&&i<=65049||65072<=i&&i<=65106||65108<=i&&i<=65126||65128<=i&&i<=65131||110592<=i&&i<=110593||127488<=i&&i<=127490||127504<=i&&i<=127546||127552<=i&&i<=127560||127568<=i&&i<=127569||131072<=i&&i<=194367||177984<=i&&i<=196605||196608<=i&&i<=262141?"W":32<=i&&i<=126||162<=i&&i<=163||165<=i&&i<=166||i===172||i===175||10214<=i&&i<=10221||10629<=i&&i<=10630?"Na":i===161||i===164||167<=i&&i<=168||i===170||173<=i&&i<=174||176<=i&&i<=180||182<=i&&i<=186||188<=i&&i<=191||i===198||i===208||215<=i&&i<=216||222<=i&&i<=225||i===230||232<=i&&i<=234||236<=i&&i<=237||i===240||242<=i&&i<=243||247<=i&&i<=250||i===252||i===254||i===257||i===273||i===275||i===283||294<=i&&i<=295||i===299||305<=i&&i<=307||i===312||319<=i&&i<=322||i===324||328<=i&&i<=331||i===333||338<=i&&i<=339||358<=i&&i<=359||i===363||i===462||i===464||i===466||i===468||i===470||i===472||i===474||i===476||i===593||i===609||i===708||i===711||713<=i&&i<=715||i===717||i===720||728<=i&&i<=731||i===733||i===735||768<=i&&i<=879||913<=i&&i<=929||931<=i&&i<=937||945<=i&&i<=961||963<=i&&i<=969||i===1025||1040<=i&&i<=1103||i===1105||i===8208||8211<=i&&i<=8214||8216<=i&&i<=8217||8220<=i&&i<=8221||8224<=i&&i<=8226||8228<=i&&i<=8231||i===8240||8242<=i&&i<=8243||i===8245||i===8251||i===8254||i===8308||i===8319||8321<=i&&i<=8324||i===8364||i===8451||i===8453||i===8457||i===8467||i===8470||8481<=i&&i<=8482||i===8486||i===8491||8531<=i&&i<=8532||8539<=i&&i<=8542||8544<=i&&i<=8555||8560<=i&&i<=8569||i===8585||8592<=i&&i<=8601||8632<=i&&i<=8633||i===8658||i===8660||i===8679||i===8704||8706<=i&&i<=8707||8711<=i&&i<=8712||i===8715||i===8719||i===8721||i===8725||i===8730||8733<=i&&i<=8736||i===8739||i===8741||8743<=i&&i<=8748||i===8750||8756<=i&&i<=8759||8764<=i&&i<=8765||i===8776||i===8780||i===8786||8800<=i&&i<=8801||8804<=i&&i<=8807||8810<=i&&i<=8811||8814<=i&&i<=8815||8834<=i&&i<=8835||8838<=i&&i<=8839||i===8853||i===8857||i===8869||i===8895||i===8978||9312<=i&&i<=9449||9451<=i&&i<=9547||9552<=i&&i<=9587||9600<=i&&i<=9615||9618<=i&&i<=9621||9632<=i&&i<=9633||9635<=i&&i<=9641||9650<=i&&i<=9651||9654<=i&&i<=9655||9660<=i&&i<=9661||9664<=i&&i<=9665||9670<=i&&i<=9672||i===9675||9678<=i&&i<=9681||9698<=i&&i<=9701||i===9711||9733<=i&&i<=9734||i===9737||9742<=i&&i<=9743||9748<=i&&i<=9749||i===9756||i===9758||i===9792||i===9794||9824<=i&&i<=9825||9827<=i&&i<=9829||9831<=i&&i<=9834||9836<=i&&i<=9837||i===9839||9886<=i&&i<=9887||9918<=i&&i<=9919||9924<=i&&i<=9933||9935<=i&&i<=9953||i===9955||9960<=i&&i<=9983||i===10045||i===10071||10102<=i&&i<=10111||11093<=i&&i<=11097||12872<=i&&i<=12879||57344<=i&&i<=63743||65024<=i&&i<=65039||i===65533||127232<=i&&i<=127242||127248<=i&&i<=127277||127280<=i&&i<=127337||127344<=i&&i<=127386||917760<=i&&i<=917999||983040<=i&&i<=1048573||1048576<=i&&i<=1114109?"A":"N"};function _F(n,e={},t){t||(t=1);const{fontStyle:i=e.fontStyle,fontVariant:r=e.fontVariant,fontWeight:s=e.fontWeight,fontSize:a=e.fontSize,fontFamily:o=e.fontFamily}=n;return(i?i+" ":"")+(r?r+" ":"")+(s?s+" ":"")+a*t+"px "+(o||"sans-serif")}class Vl{constructor(e,t){this._numberCharSize=null,this._fullCharSize=null,this._letterCharSize=null,this._specialCharSizeMap={},this._canvas=null,this._context=null,this._contextSaved=!1,this._notSupportCanvas=!1,this._notSupportVRender=!1,this._userSpec={},this.specialCharSet=`-/: .,@%'"~`,this._option=e,this._userSpec=t??{},this.textSpec=this._initSpec(),Y(e.specialCharSet)&&(this.specialCharSet=e.specialCharSet),this._standardMethod=Y(e.getTextBounds)?this.fullMeasure.bind(this):this.measureWithNaiveCanvas.bind(this)}initContext(){if(this._notSupportCanvas)return!1;if(J(this._canvas)&&(Y(this._option.getCanvasForMeasure)&&(this._canvas=this._option.getCanvasForMeasure()),J(this._canvas)&&typeof window<"u"&&window.document!==void 0&&globalThis&&Y(globalThis.document)&&(this._canvas=globalThis.document.createElement("canvas"))),J(this._context)&&Y(this._canvas)){const e=this._canvas.getContext("2d");Y(e)&&(e.save(),e.font=_F(this.textSpec),this._contextSaved=!0,this._context=e)}return!J(this._context)||(this._notSupportCanvas=!0,!1)}_initSpec(){var e,t,i;const{defaultFontParams:r={}}=this._option,{fontStyle:s=r.fontStyle,fontVariant:a=r.fontVariant,fontWeight:o=(e=r.fontWeight)!==null&&e!==void 0?e:"normal",fontSize:l=(t=r.fontSize)!==null&&t!==void 0?t:12,fontFamily:u=(i=r.fontFamily)!==null&&i!==void 0?i:"sans-serif",align:c,textAlign:d=c??"center",baseline:h,textBaseline:f=h??"middle",ellipsis:p,limit:g}=this._userSpec;let{lineHeight:m=l}=this._userSpec;if(Jt(m)&&m[m.length-1]==="%"){const v=Number.parseFloat(m.substring(0,m.length-1))/100;m=l*v}return{fontStyle:s,fontVariant:a,fontFamily:u,fontSize:l,fontWeight:o,textAlign:d,textBaseline:f,ellipsis:p,limit:g,lineHeight:m}}measure(e,t){switch(t){case"vrender":case"canopus":return this.fullMeasure(e);case"canvas":return this.measureWithNaiveCanvas(e);case"simple":return this.quickMeasureWithoutCanvas(e);default:return this.quickMeasure(e)}}fullMeasure(e){if(J(e))return{width:0,height:0};if(J(this._option.getTextBounds)||!this._notSupportVRender)return this.measureWithNaiveCanvas(e);const{fontFamily:t,fontSize:i,fontWeight:r,textAlign:s,textBaseline:a,ellipsis:o,limit:l,lineHeight:u}=this.textSpec;let c;try{const d=this._option.getTextBounds({text:e,fontFamily:t,fontSize:i,fontWeight:r,textAlign:s,textBaseline:a,ellipsis:!!o,maxLineWidth:l||1/0,lineHeight:u});c={width:d.width(),height:d.height()}}catch{this._notSupportVRender=!0,c=this.measureWithNaiveCanvas(e)}return c}measureWithNaiveCanvas(e){return this._measureReduce(e,this._measureWithNaiveCanvas.bind(this))}_measureWithNaiveCanvas(e){var t;if(!this.initContext())return this._quickMeasureWithoutCanvas(e);const i=this._context.measureText(e),{fontSize:r,lineHeight:s}=this.textSpec;return{width:i.width,height:(t=s)!==null&&t!==void 0?t:r,fontBoundingBoxAscent:i.fontBoundingBoxAscent,fontBoundingBoxDescent:i.fontBoundingBoxDescent}}quickMeasure(e){return this._measureReduce(e,this._quickMeasure.bind(this))}_quickMeasure(e){const t={width:0,height:0};for(let i=0;i<e.length;i++){const r=e[i];let s=this._measureSpecialChar(r);J(s)&&Vl.NUMBERS_CHAR_SET.includes(r)&&(s=this._measureNumberChar()),J(s)&&["F","W"].includes(Mce(r))&&(s=this._measureFullSizeChar()),J(s)&&(s=this._measureLetterChar()),t.width+=s.width,t.height=Math.max(t.height,s.height),!J(s.fontBoundingBoxAscent)&&(t.fontBoundingBoxAscent=s.fontBoundingBoxAscent),!J(s.fontBoundingBoxDescent)&&(t.fontBoundingBoxDescent=s.fontBoundingBoxDescent)}return t}quickMeasureWithoutCanvas(e){return this._measureReduce(e,this._quickMeasureWithoutCanvas.bind(this))}_quickMeasureWithoutCanvas(e){var t;const i={width:0,height:0},{fontSize:r,lineHeight:s}=this.textSpec;for(let a=0;a<e.length;a++){const o=e[a],l=["F","W"].includes(Mce(o))?1:.53;i.width+=l*r}return i.height=(t=s)!==null&&t!==void 0?t:r,i}_measureReduce(e,t){var i;const{fontSize:r,lineHeight:s}=this.textSpec,a={width:0,height:0};if(J(e))return a;if(Oe(e)){const o=e.filter(Y).map(l=>l.toString());return o.length===0?a:o.length===1?t(o[0]):{width:o.reduce((l,u)=>Math.max(l,t(u).width),0),height:o.length*(((i=s)!==null&&i!==void 0?i:r)+1)+1}}return t(e.toString())}_measureNumberChar(){if(J(this._numberCharSize)){const e=this._standardMethod(Vl.NUMBERS_CHAR_SET);this._numberCharSize={width:e.width/Vl.NUMBERS_CHAR_SET.length,height:e.height,fontBoundingBoxAscent:e.fontBoundingBoxAscent,fontBoundingBoxDescent:e.fontBoundingBoxDescent}}return this._numberCharSize}_measureFullSizeChar(){return J(this._fullCharSize)&&(this._fullCharSize=this._standardMethod(Vl.FULL_SIZE_CHAR)),this._fullCharSize}_measureLetterChar(){if(J(this._letterCharSize)){const e=this._standardMethod(Vl.ALPHABET_CHAR_SET);this._letterCharSize={width:e.width/Vl.ALPHABET_CHAR_SET.length,height:e.height,fontBoundingBoxAscent:e.fontBoundingBoxAscent,fontBoundingBoxDescent:e.fontBoundingBoxDescent}}return this._letterCharSize}_measureSpecialChar(e){return Y(this._specialCharSizeMap[e])?this._specialCharSizeMap[e]:this.specialCharSet.includes(e)?(this._specialCharSizeMap[e]=this._standardMethod(e),this._specialCharSizeMap[e]):null}release(){Y(this._canvas)&&(this._canvas=null),Y(this._context)&&(this._contextSaved&&(this._context.restore(),this._contextSaved=!1),this._context=null)}}Vl.ALPHABET_CHAR_SET="abcdefghijklmnopqrstuvwxyz",Vl.NUMBERS_CHAR_SET="0123456789",Vl.FULL_SIZE_CHAR="";const JAe=(n,e)=>{const{x1:t,x2:i,y1:r,y2:s}=n,a=Math.abs(i-t),o=Math.abs(s-r);let l=(t+i)/2,u=(r+s)/2,c=0,d=0;switch(e){case"top":case"inside-top":d=-.5;break;case"bottom":case"inside-bottom":d=.5;break;case"left":case"inside-left":c=-.5;break;case"right":case"inside-right":c=.5;break;case"top-right":c=.5,d=-.5;break;case"top-left":c=-.5,d=-.5;break;case"bottom-right":c=.5,d=.5;break;case"bottom-left":c=-.5,d=.5}return l+=c*a,u+=d*o,{x:l,y:u}},Ice=(n,e)=>Math.max(e.x1-n.x2,n.x1-e.x2,e.y1-n.y2,n.y1-e.y2),ljt=(n,e)=>{const t=[{x:Math.cos(n.angle),y:Math.sin(n.angle)},{x:-Math.sin(n.angle),y:Math.cos(n.angle)},{x:Math.cos(e.angle),y:Math.sin(n.angle)},{x:-Math.sin(e.angle),y:Math.cos(n.angle)}];function i(s,a,o){const l=s.getRotatedCorners().map(u=>u.x*a+u.y*o);return{min:Math.min(...l),max:Math.max(...l)}}let r=0;for(const s of t){const a=i(n,s.x,s.y),o=i(e,s.x,s.y);let l;l=a.max<o.min?o.min-a.max:o.max<a.min?a.min-o.max:0,r=Math.max(r,l)}return r};function Yq(n,e,t){const{x1:i,y1:r,x2:s,y2:a}=e;return t.onlyTranslate()?(n!==e&&n.setValue(e.x1,e.y1,e.x2,e.y2),n.translate(t.e,t.f),e):(n.clear(),n.add(t.a*i+t.c*r+t.e,t.b*i+t.d*r+t.f),n.add(t.a*s+t.c*r+t.e,t.b*s+t.d*r+t.f),n.add(t.a*s+t.c*a+t.e,t.b*s+t.d*a+t.f),n.add(t.a*i+t.c*a+t.e,t.b*i+t.d*a+t.f),e)}class Xo{constructor(e){e?this.setValue(e.x1,e.y1,e.x2,e.y2):this.clear()}clone(){return new Xo(this)}clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this}empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE}equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2}setValue(e=0,t=0,i=0,r=0){return this.x1=e,this.y1=t,this.x2=i,this.y2=r,this}set(e=0,t=0,i=0,r=0){return i<e?(this.x2=e,this.x1=i):(this.x1=e,this.x2=i),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this}add(e=0,t=0){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this}expand(e=0){return Oe(e)?(this.y1-=e[0],this.x2+=e[1],this.y2+=e[2],this.x1-=e[3]):(this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e),this}round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this}translate(e=0,t=0){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this}rotate(e=0,t=0,i=0){const r=this.rotatedPoints(e,t,i);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])}scale(e=0,t=0,i=0,r=0){const s=this.scalePoints(e,t,i,r);return this.clear().add(s[0],s[1]).add(s[2],s[3])}union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this}intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this}encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2}alignsWith(e){return e&&(this.x1===e.x1||this.x2===e.x2||this.y1===e.y1||this.y2===e.y2)}intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)}contains(e=0,t=0){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)}containsPoint(e){return!(e.x<this.x1||e.x>this.x2||e.y<this.y1||e.y>this.y2)}width(){return this.empty()?0:this.x2-this.x1}height(){return this.empty()?0:this.y2-this.y1}scaleX(e=0){return this.x1*=e,this.x2*=e,this}scaleY(e=0){return this.y1*=e,this.y2*=e,this}transformWithMatrix(e){return Yq(this,this,e),this}copy(e){return this.x1=e.x1,this.y1=e.y1,this.x2=e.x2,this.y2=e.y2,this}rotatedPoints(e,t,i){const{x1:r,y1:s,x2:a,y2:o}=this,l=Math.cos(e),u=Math.sin(e),c=t-t*l+i*u,d=i-t*u-i*l;return[l*r-u*s+c,u*r+l*s+d,l*r-u*o+c,u*r+l*o+d,l*a-u*s+c,u*a+l*s+d,l*a-u*o+c,u*a+l*o+d]}scalePoints(e,t,i,r){const{x1:s,y1:a,x2:o,y2:l}=this;return[e*s+(1-e)*i,t*a+(1-t)*r,e*o+(1-e)*i,t*l+(1-t)*r]}}class ms extends Xo{}class Kq extends Xo{constructor(e,t=0){var i;super(e),e&&(this.angle=(i=e.angle)!==null&&i!==void 0?i:t)}intersects(e){return ZAe(this,e)}setValue(e=0,t=0,i=0,r=0,s=0){return super.setValue(e,t,i,r),this.angle=s,this}clone(){return new Kq(this)}getRotatedCorners(){const e={x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2};return[Vp({x:this.x1,y:this.y1},this.angle,e),Vp({x:this.x2,y:this.y1},this.angle,e),Vp({x:this.x1,y:this.y2},this.angle,e),Vp({x:this.x2,y:this.y2},this.angle,e)]}}class Rr{constructor(e=1,t=0,i=0,r=1,s=0,a=0){this.a=e,this.b=t,this.c=i,this.d=r,this.e=s,this.f=a}equalToMatrix(e){return!(this.e!==e.e||this.f!==e.f||this.a!==e.a||this.d!==e.d||this.b!==e.b||this.c!==e.c)}equalTo(e,t,i,r,s,a){return!(this.e!==s||this.f!==a||this.a!==e||this.d!==r||this.b!==t||this.c!==i)}setValue(e,t,i,r,s,a){return this.a=e,this.b=t,this.c=i,this.d=r,this.e=s,this.f=a,this}reset(){return this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0,this}getInverse(){const e=this.a,t=this.b,i=this.c,r=this.d,s=this.e,a=this.f,o=new Rr,l=e*r-t*i;return o.a=r/l,o.b=-t/l,o.c=-i/l,o.d=e/l,o.e=(i*a-r*s)/l,o.f=-(e*a-t*s)/l,o}rotate(e){const t=Math.cos(e),i=Math.sin(e),r=this.a*t+this.c*i,s=this.b*t+this.d*i,a=this.a*-i+this.c*t,o=this.b*-i+this.d*t;return this.a=r,this.b=s,this.c=a,this.d=o,this}rotateByCenter(e,t,i){const r=Math.cos(e),s=Math.sin(e),a=(1-r)*t+s*i,o=(1-r)*i-s*t,l=r*this.a-s*this.b,u=s*this.a+r*this.b,c=r*this.c-s*this.d,d=s*this.c+r*this.d,h=r*this.e-s*this.f+a,f=s*this.e+r*this.f+o;return this.a=l,this.b=u,this.c=c,this.d=d,this.e=h,this.f=f,this}scale(e,t){return this.a*=e,this.b*=e,this.c*=t,this.d*=t,this}setScale(e,t){return this.b=this.b/this.a*e,this.c=this.c/this.d*t,this.a=e,this.d=t,this}transform(e,t,i,r,s,a){return this.multiply(e,t,i,r,s,a),this}translate(e,t){return this.e+=this.a*e+this.c*t,this.f+=this.b*e+this.d*t,this}transpose(){const{a:e,b:t,c:i,d:r,e:s,f:a}=this;return this.a=t,this.b=e,this.c=r,this.d=i,this.e=a,this.f=s,this}multiply(e,t,i,r,s,a){const o=this.a,l=this.b,u=this.c,c=this.d,d=o*e+u*t,h=l*e+c*t,f=o*i+u*r,p=l*i+c*r,g=o*s+u*a+this.e,m=l*s+c*a+this.f;return this.a=d,this.b=h,this.c=f,this.d=p,this.e=g,this.f=m,this}interpolate(e,t){const i=new Rr;return i.a=this.a+(e.a-this.a)*t,i.b=this.b+(e.b-this.b)*t,i.c=this.c+(e.c-this.c)*t,i.d=this.d+(e.d-this.d)*t,i.e=this.e+(e.e-this.e)*t,i.f=this.f+(e.f-this.f)*t,i}transformPoint(e,t){const{a:i,b:r,c:s,d:a,e:o,f:l}=this,u=i*a-r*s,c=a/u,d=-r/u,h=-s/u,f=i/u,p=(s*l-a*o)/u,g=-(i*l-r*o)/u,{x:m,y:v}=e;t.x=m*c+v*h+p,t.y=m*d+v*f+g}onlyTranslate(e=1){return this.a===e&&this.b===0&&this.c===0&&this.d===e}clone(){return new Rr(this.a,this.b,this.c,this.d,this.e,this.f)}toTransformAttrs(){const e=this.a,t=this.b,i=this.c,r=this.d,s=e*r-t*i,a={x:this.e,y:this.f,rotateDeg:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!==0||t!==0){const o=Math.sqrt(e*e+t*t);a.rotateDeg=t>0?Math.acos(e/o):-Math.acos(e/o),a.scaleX=o,a.scaleY=s/o,a.skewX=(e*i+t*r)/s,a.skewY=0}else if(i!==0||r!==0){const o=Math.sqrt(i*i+r*r);a.rotateDeg=Math.PI/2-(r>0?Math.acos(-i/o):-Math.acos(i/o)),a.scaleX=s/o,a.scaleY=o,a.skewX=0,a.skewY=(e*i+t*r)/s}return a.rotateDeg=Uq(a.rotateDeg),a}}function ujt(n,e,t,i,r,s,a,o){const l=e.a,u=e.b,c=e.c,d=e.d,h=e.e,f=e.f,p=Ma(a),g=Cs(a);let m,v;o?(m=o[0],v=o[1]):(m=t,v=i);const _=m-t,y=v-i,x=l*p+c*g,w=u*p+d*g,T=c*p-l*g,E=d*p-u*g;n.a=r*x,n.b=r*w,n.c=s*T,n.d=s*E,n.e=h+l*m+c*v-x*_-T*y,n.f=f+u*m+d*v-w*_-E*y}class cjt{constructor(){this.CLEAN_THRESHOLD=1e3,this.L_TIME=1e3,this.R_COUNT=1,this.R_TIMESTAMP_MAX_SIZE=20}clearCache(e,t){const{CLEAN_THRESHOLD:i=this.CLEAN_THRESHOLD,L_TIME:r=this.L_TIME,R_COUNT:s=this.R_COUNT}=t;if(e.size<i)return 0;let a=0;const o=u=>{a++,e.delete(u)},l=Date.now();return e.forEach((u,c)=>{if(u.timestamp.length<s)return o(c);let d=0;for(;l-u.timestamp[u.timestamp.length-1-d]<r&&(d++,!(d>=s)););if(d<s)return o(c);for(;l-u.timestamp[0]>r;)u.timestamp.shift()}),a}addLimitedTimestamp(e,t,i){const{R_TIMESTAMP_MAX_SIZE:r=this.R_TIMESTAMP_MAX_SIZE}=i;e.timestamp.length>r&&e.timestamp.shift(),e.timestamp.push(t)}clearTimeStamp(e,t){const{L_TIME:i=this.L_TIME}=t,r=Date.now();e.forEach(s=>{for(;r-s.timestamp[0]>i;)s.timestamp.shift()})}clearItemTimestamp(e,t){const{L_TIME:i=this.L_TIME}=t,r=Date.now();for(;r-e.timestamp[0]>i;)e.timestamp.shift()}}function bF(n,e,t){e/=100,t/=100;const i=(1-Math.abs(2*t-1))*e,r=i*(1-Math.abs(n/60%2-1)),s=t-i/2;let a=0,o=0,l=0;return 0<=n&&n<60?(a=i,o=r,l=0):60<=n&&n<120?(a=r,o=i,l=0):120<=n&&n<180?(a=0,o=i,l=r):180<=n&&n<240?(a=0,o=r,l=i):240<=n&&n<300?(a=r,o=0,l=i):300<=n&&n<360&&(a=i,o=0,l=r),a=Math.round(255*(a+s)),o=Math.round(255*(o+s)),l=Math.round(255*(l+s)),{r:a,g:o,b:l}}function Gj(n,e,t){n/=255,e/=255,t/=255;const i=Math.min(n,e,t),r=Math.max(n,e,t),s=r-i;let a=0,o=0,l=0;return a=s===0?0:r===n?(e-t)/s%6:r===e?(t-n)/s+2:(n-e)/s+4,a=Math.round(60*a),a<0&&(a+=360),l=(r+i)/2,o=s===0?0:s/(1-Math.abs(2*l-1)),o=+(100*o).toFixed(1),l=+(100*l).toFixed(1),{h:a,s:o,l}}const djt=/^#([0-9a-f]{3,8})$/,Rce={transparent:4294967040},W2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function lD(n){return((n=Math.max(0,Math.min(255,Math.round(n)||0)))<16?"0":"")+n.toString(16)}function eke(n){return st(n)?new wu(n>>16,n>>8&255,255&n,1):Oe(n)?new wu(n[0],n[1],n[2]):new wu(255,255,255)}function hjt(n){return st(n)?new wu(n>>>24,n>>>16&255,n>>>8&255,255&n):Oe(n)?new wu(n[0],n[1],n[2],n[3]):new wu(255,255,255,1)}function A4(n){return n<.04045?.0773993808*n:Math.pow(.9478672986*n+.0521327014,2.4)}function k4(n){return n<.0031308?12.92*n:1.055*Math.pow(n,.41666)-.055}const Dce=(n,e)=>{const t=djt.exec(n);if(e||t){const i=parseInt(t[1],16),r=t[1].length;return r===3?new wu((i>>8&15)+((i>>8&15)<<4),(i>>4&15)+((i>>4&15)<<4),(15&i)+((15&i)<<4),1):r===6?eke(i):r===8?new wu(i>>24&255,i>>16&255,i>>8&255,(255&i)/255):null}};class ga{static Brighter(e,t=1){return t===1?e:new ga(e).brighter(t).toRGBA()}static SetOpacity(e,t=1){return t===1?e:new ga(e).setOpacity(t).toRGBA()}static getColorBrightness(e,t="hsl"){const i=e instanceof ga?e:new ga(e);switch(t){case"hsv":default:return i.getHSVBrightness();case"hsl":return i.getHSLBrightness();case"lum":return i.getLuminance();case"lum2":return i.getLuminance2();case"lum3":return i.getLuminance3();case"wcag":return i.getLuminanceWCAG()}}static parseColorString(e){if(Y(Rce[e]))return hjt(Rce[e]);if(Y(W2[e]))return eke(W2[e]);const t=`${e}`.trim().toLowerCase(),i=Dce(t);if(i!==void 0)return i;if(/^(rgb|RGB|rgba|RGBA)/.test(t)){const r=t.replace(/(?:\(|\)|rgba|RGBA|rgb|RGB)*/g,"").split(",");return new wu(parseInt(r[0],10),parseInt(r[1],10),parseInt(r[2],10),parseFloat(r[3]))}if(/^(hsl|HSL|hsla|HSLA)/.test(t)){const r=t.replace(/(?:\(|\)|hsla|HSLA|hsl|HSL)*/g,"").split(","),s=bF(parseInt(r[0],10),parseInt(r[1],10),parseInt(r[2],10));return new wu(s.r,s.g,s.b,parseFloat(r[3]))}}constructor(e){const t=ga.parseColorString(e);t?this.color=t:(console.warn(`Warn: ${e}Color`),this.color=new wu(255,255,255))}toRGBA(){return this.color.formatRgb()}toString(){return this.color.formatRgb()}toHex(){return this.color.formatHex()}toHsl(){return this.color.formatHsl()}brighter(e){const{r:t,g:i,b:r}=this.color;return this.color.r=Math.max(0,Math.min(255,Math.floor(t*e))),this.color.g=Math.max(0,Math.min(255,Math.floor(i*e))),this.color.b=Math.max(0,Math.min(255,Math.floor(r*e))),this}add(e){const{r:t,g:i,b:r}=this.color;return this.color.r+=Math.min(255,t+e.color.r),this.color.g+=Math.min(255,i+e.color.g),this.color.b+=Math.min(255,r+e.color.b),this}sub(e){return this.color.r=Math.max(0,this.color.r-e.color.r),this.color.g=Math.max(0,this.color.g-e.color.g),this.color.b=Math.max(0,this.color.b-e.color.b),this}multiply(e){const{r:t,g:i,b:r}=this.color;return this.color.r=Math.max(0,Math.min(255,Math.floor(t*e.color.r))),this.color.g=Math.max(0,Math.min(255,Math.floor(i*e.color.g))),this.color.b=Math.max(0,Math.min(255,Math.floor(r*e.color.b))),this}getHSVBrightness(){return Math.max(this.color.r,this.color.g,this.color.b)/255}getHSLBrightness(){return .5*(Math.max(this.color.r,this.color.g,this.color.b)/255+Math.min(this.color.r,this.color.g,this.color.b)/255)}setHsl(e,t,i){const r=this.color.opacity,s=Gj(this.color.r,this.color.g,this.color.b),a=bF(J(e)?s.h:ki(e,0,360),J(t)?s.s:t>=0&&t<=1?100*t:t,J(i)?s.l:i<=1&&i>=0?100*i:i);return this.color=new wu(a.r,a.g,a.b,r),this}setRGB(e,t,i){return!J(e)&&(this.color.r=e),!J(t)&&(this.color.g=t),!J(i)&&(this.color.b=i),this}setHex(e){const t=`${e}`.trim().toLowerCase(),i=Dce(t,!0);return i??this}setColorName(e){const t=W2[e.toLowerCase()];return t!==void 0?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}setScalar(e){return this.color.r=e,this.color.g=e,this.color.b=e,this}setOpacity(e=1){return this.color.opacity=e,this}getLuminance(){return(.2126*this.color.r+.7152*this.color.g+.0722*this.color.b)/255}getLuminance2(){return(.2627*this.color.r+.678*this.color.g+.0593*this.color.b)/255}getLuminance3(){return(.299*this.color.r+.587*this.color.g+.114*this.color.b)/255}getLuminanceWCAG(){const e=this.color.r/255,t=this.color.g/255,i=this.color.b/255;let r,s,a;return r=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4),s=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4),a=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4),.2126*r+.7152*s+.0722*a}clone(){return new ga(this.color.toString())}copyGammaToLinear(e,t=2){return this.color.r=Math.pow(e.color.r,t),this.color.g=Math.pow(e.color.g,t),this.color.b=Math.pow(e.color.b,t),this}copyLinearToGamma(e,t=2){const i=t>0?1/t:1;return this.color.r=Math.pow(e.color.r,i),this.color.g=Math.pow(e.color.g,i),this.color.b=Math.pow(e.color.b,i),this}convertGammaToLinear(e){return this.copyGammaToLinear(this,e),this}convertLinearToGamma(e){return this.copyLinearToGamma(this,e),this}copySRGBToLinear(e){return this.color.r=A4(e.color.r),this.color.g=A4(e.color.g),this.color.b=A4(e.color.b),this}copyLinearToSRGB(e){return this.color.r=k4(e.color.r),this.color.g=k4(e.color.g),this.color.b=k4(e.color.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}}class wu{constructor(e,t,i,r){this.r=isNaN(+e)?255:Math.max(0,Math.min(255,+e)),this.g=isNaN(+t)?255:Math.max(0,Math.min(255,+t)),this.b=isNaN(+i)?255:Math.max(0,Math.min(255,+i)),Y(r)?this.opacity=isNaN(+r)?1:Math.max(0,Math.min(1,+r)):this.opacity=1}formatHex(){return`#${lD(this.r)+lD(this.g)+lD(this.b)+(this.opacity===1?"":lD(255*this.opacity))}`}formatRgb(){const e=this.opacity;return`${e===1?"rgb(":"rgba("}${this.r},${this.g},${this.b}${e===1?")":`,${e})`}`}formatHsl(){const e=this.opacity,{h:t,s:i,l:r}=Gj(this.r,this.g,this.b);return`${e===1?"hsl(":"hsla("}${t},${i}%,${r}%${e===1?")":`,${e})`}`}toString(){return this.formatHex()}}function tke(n){let e="",t="",i="";const r=n[0]==="#"?1:0;for(let s=r;s<n.length;s++)n[s]!=="#"&&(s<r+2?e+=n[s]:s<r+4?t+=n[s]:s<r+6&&(i+=n[s]));return[parseInt(e,16),parseInt(t,16),parseInt(i,16)]}function fjt(n,e,t){return Number((1<<24)+(n<<16)+(e<<8)+t).toString(16).slice(1)}function pjt(n,e){const t=n.r,i=e.r,r=n.g,s=e.g,a=n.b,o=e.b,l=n.opacity,u=e.opacity;return c=>{const d=Math.round(t*(1-c)+i*c),h=Math.round(r*(1-c)+s*c),f=Math.round(a*(1-c)+o*c);return new wu(d,h,f,l*(1-c)+u*c)}}const gjt=Object.freeze(Object.defineProperty({__proto__:null,Color:ga,DEFAULT_COLORS:W2,RGB:wu,hexToRgb:tke,hslToRgb:bF,interpolateRgb:pjt,rgbToHex:fjt,rgbToHsl:Gj},Symbol.toStringTag,{value:"Module"}));function gl(n){if(Me(n))return[n,n,n,n];if(Oe(n)){const e=n.length;if(e===1){const t=n[0];return[t,t,t,t]}if(e===2){const[t,i]=n;return[t,i,t,i]}if(e===3){const[t,i,r]=n;return[t,i,r,i]}if(e===4)return n}if(pn(n)){const{top:e=0,right:t=0,bottom:i=0,left:r=0}=n;return[e,t,i,r]}return[0,0,0,0]}function Lce(n,e=0,t=0){if(!n)return{width:e,height:t};let i;try{i=window==null?void 0:window.getComputedStyle}catch{i=()=>({})}const r=i(n);if(/^(\d*\.?\d+)(px)$/.exec(r.width)){const s=parseFloat(r.width)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)||n.clientWidth-1,a=parseFloat(r.height)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)||n.clientHeight-1;return{width:s<=0?e:s,height:a<=0?t:a}}return{width:e,height:t}}function mjt(n){const{x:e,y:t}=n.getBoundingClientRect();return{x:e,y:t}}const vjt=(n="")=>{const e={};return n.split(";").forEach(t=>{if(t){const i=t.split(":");if(i.length===2){const r=i[0].trim(),s=i[1].trim();r&&s&&(e[r]=s)}}}),e},Fce=n=>n.replace(/([A-Z])/g,"-$1").toLowerCase();function Bce(n,e,t){t===void 0&&(t={});var i={type:"Feature"};return(t.id===0||t.id)&&(i.id=t.id),t.bbox&&(i.bbox=t.bbox),i.properties=e||{},i.geometry=n,i}function nke(n,e){e===void 0&&(e={});var t={type:"FeatureCollection"};return e.id&&(t.id=e.id),e.bbox&&(t.bbox=e.bbox),t.features=n,t}function yjt(n){return!!n&&n.constructor===Object}class mf{static getInstance(){return mf.instance||(mf.instance=new mf),mf.instance}constructor(){this.locale_shortWeekdays=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],this.locale_periods=["AM","PM"],this.locale_weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.locale_shortMonths=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.numberRe=/^\s*\d+/,this.pads={"-":"",_:" ",0:"0"},this.requoteRe=/[\\^$*+?|[\]().{}]/g,this.locale_months=["January","February","March","April","May","June","July","August","September","October","November","December"],this.formatShortWeekday=e=>this.locale_shortWeekdays[e.getDay()],this.formatWeekday=e=>this.locale_weekdays[e.getDay()],this.formatShortMonth=e=>this.locale_shortMonths[e.getMonth()],this.formatMonth=e=>this.locale_months[e.getMonth()],this.formatDayOfMonth=(e,t)=>this.pad(e.getDate(),t,2),this.formatHour24=(e,t)=>this.pad(e.getHours(),t,2),this.formatHour12=(e,t)=>this.pad(e.getHours()%12||12,t,2),this.formatMilliseconds=(e,t)=>this.pad(e.getMilliseconds(),t,3),this.formatMonthNumber=(e,t)=>this.pad(e.getMonth()+1,t,2),this.formatMinutes=(e,t)=>this.pad(e.getMinutes(),t,2),this.formatPeriod=e=>this.locale_periods[+(e.getHours()>=12)],this.formatSeconds=(e,t)=>this.pad(e.getSeconds(),t,2),this.formatFullYear=(e,t)=>this.pad(e.getFullYear()%1e4,t,4),this.formatUTCShortWeekday=e=>this.locale_shortWeekdays[e.getUTCDay()],this.formatUTCWeekday=e=>this.locale_weekdays[e.getUTCDay()],this.formatUTCShortMonth=e=>this.locale_shortMonths[e.getUTCMonth()],this.formatUTCMonth=e=>this.locale_months[e.getUTCMonth()],this.formatUTCDayOfMonth=(e,t)=>this.pad(e.getUTCDate(),t,2),this.formatUTCHour24=(e,t)=>this.pad(e.getUTCHours(),t,2),this.formatUTCHour12=(e,t)=>this.pad(e.getUTCHours()%12||12,t,2),this.formatUTCMilliseconds=(e,t)=>this.pad(e.getUTCMilliseconds(),t,3),this.formatUTCMonthNumber=(e,t)=>this.pad(e.getUTCMonth()+1,t,2),this.formatUTCMinutes=(e,t)=>this.pad(e.getUTCMinutes(),t,2),this.formatUTCPeriod=e=>this.locale_periods[+(e.getUTCHours()>=12)],this.formatUTCSeconds=(e,t)=>this.pad(e.getUTCSeconds(),t,2),this.formatUTCFullYear=(e,t)=>this.pad(e.getUTCFullYear()%1e4,t,4),this.formats={a:this.formatShortWeekday,A:this.formatWeekday,b:this.formatShortMonth,B:this.formatMonth,d:this.formatDayOfMonth,e:this.formatDayOfMonth,H:this.formatHour24,I:this.formatHour12,L:this.formatMilliseconds,m:this.formatMonthNumber,M:this.formatMinutes,p:this.formatPeriod,S:this.formatSeconds,Y:this.formatFullYear},this.utcFormats={a:this.formatUTCShortWeekday,A:this.formatUTCWeekday,b:this.formatUTCShortMonth,B:this.formatUTCMonth,d:this.formatUTCDayOfMonth,e:this.formatUTCDayOfMonth,H:this.formatUTCHour24,I:this.formatUTCHour12,L:this.formatUTCMilliseconds,m:this.formatUTCMonthNumber,M:this.formatUTCMinutes,p:this.formatUTCPeriod,S:this.formatUTCSeconds,Y:this.formatUTCFullYear},this.parseShortWeekday=(e,t,i)=>{const r=this.shortWeekdayRe.exec(t.slice(i));return r?(e.w=this.shortWeekdayLookup.get(r[0].toLowerCase()),i+r[0].length):-1},this.parseWeekday=(e,t,i)=>{const r=this.weekdayRe.exec(t.slice(i));return r?(e.w=this.weekdayLookup.get(r[0].toLowerCase()),i+r[0].length):-1},this.parseShortMonth=(e,t,i)=>{const r=this.shortMonthRe.exec(t.slice(i));return r?(e.m=this.shortMonthLookup.get(r[0].toLowerCase()),i+r[0].length):-1},this.parseMonth=(e,t,i)=>{const r=this.monthRe.exec(t.slice(i));return r?(e.m=this.monthLookup.get(r[0].toLowerCase()),i+r[0].length):-1},this.parseDayOfMonth=(e,t,i)=>{const r=this.numberRe.exec(t.slice(i,i+2));return r?(e.d=+r[0],i+r[0].length):-1},this.parseHour24=(e,t,i)=>{const r=this.numberRe.exec(t.slice(i,i+2));return r?(e.H=+r[0],i+r[0].length):-1},this.parseMilliseconds=(e,t,i)=>{const r=this.numberRe.exec(t.slice(i,i+3));return r?(e.L=+r[0],i+r[0].length):-1},this.parseMonthNumber=(e,t,i)=>{const r=this.numberRe.exec(t.slice(i,i+2));return r?(e.m=r-1,i+r[0].length):-1},this.parseMinutes=(e,t,i)=>{const r=this.numberRe.exec(t.slice(i,i+2));return r?(e.M=+r[0],i+r[0].length):-1},this.parsePeriod=(e,t,i)=>{const r=this.periodRe.exec(t.slice(i));return r?(e.p=this.periodLookup.get(r[0].toLowerCase()),i+r[0].length):-1},this.parseSeconds=(e,t,i)=>{const r=this.numberRe.exec(t.slice(i,i+2));return r?(e.S=+r[0],i+r[0].length):-1},this.parseFullYear=(e,t,i)=>{const r=this.numberRe.exec(t.slice(i,i+4));return r?(e.y=+r[0],i+r[0].length):-1},this.parses={a:this.parseShortWeekday,A:this.parseWeekday,b:this.parseShortMonth,B:this.parseMonth,d:this.parseDayOfMonth,e:this.parseDayOfMonth,H:this.parseHour24,I:this.parseHour24,L:this.parseMilliseconds,m:this.parseMonthNumber,M:this.parseMinutes,p:this.parsePeriod,S:this.parseSeconds,Y:this.parseFullYear},this.timeFormat=(e,t)=>this.newFormat(e,this.formats)(new Date(this.getFullTimeStamp(t))),this.timeUTCFormat=(e,t)=>this.newFormat(e,this.utcFormats)(new Date(this.getFullTimeStamp(t))),this.timeParse=(e,t)=>this.newParse(e,!1)(t+""),this.requoteF=this.requote.bind(this),this.periodRe=this.formatRe(this.locale_periods),this.periodLookup=this.formatLookup(this.locale_periods),this.weekdayRe=this.formatRe(this.locale_weekdays),this.weekdayLookup=this.formatLookup(this.locale_weekdays),this.shortWeekdayRe=this.formatRe(this.locale_shortWeekdays),this.shortWeekdayLookup=this.formatLookup(this.locale_shortWeekdays),this.monthRe=this.formatRe(this.locale_months),this.monthLookup=this.formatLookup(this.locale_months),this.shortMonthRe=this.formatRe(this.locale_shortMonths),this.shortMonthLookup=this.formatLookup(this.locale_shortMonths)}requote(e){return e.replace(this.requoteRe,"\\$&")}localDate(e){if(0<=e.y&&e.y<100){const t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}utcDate(e){if(0<=e.y&&e.y<100){const t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}newDate(e,t,i){return{y:e,m:t,d:i,H:0,M:0,S:0,L:0}}formatRe(e){return new RegExp("^(?:"+e.map(this.requoteF).join("|")+")","i")}formatLookup(e){return new Map(e.map((t,i)=>[t.toLowerCase(),i]))}pad(e,t,i){const r=e<0?"-":"",s=(r?-e:e)+"",a=s.length;return r+(a<i?new Array(i-a+1).join(t)+s:s)}parseSpecifier(e,t,i,r){let s=0;const a=t.length,o=i.length;let l,u;for(;s<a;){if(r>=o)return-1;if(l=t.charCodeAt(s++),l===37){if(l=t.charAt(s++),u=this.parses[l in this.pads?t.charAt(s++):l],!u||(r=u(e,i,r))<0)return-1}else if(l!==i.charCodeAt(r++))return-1}return r}newParse(e,t){const i=this;return function(r){const s=i.newDate(1900,void 0,1);return i.parseSpecifier(s,e,r+="",0)!==r.length?null:"Q"in s?new Date(s.Q):"s"in s?new Date(1e3*s.s+("L"in s?s.L:0)):(t&&!("Z"in s)&&(s.Z=0),"p"in s&&(s.H=s.H%12+12*s.p),s.m===void 0&&(s.m="q"in s?s.q:0),"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,i.utcDate(s)):i.localDate(s))}}newFormat(e,t){const i=this;return function(r){const s=[];let a=-1,o=0;const l=e.length;let u,c,d;for(r instanceof Date||(r=new Date(+r));++a<l;)e.charCodeAt(a)===37&&(s.push(e.slice(o,a)),(c=i.pads[u=e.charAt(++a)])?u=e.charAt(++a):c=u==="e"?" ":"0",d=t[u],u=d(r,c),s.push(u),o=a+1);return s.push(e.slice(o,a)),s.join("")}}getFullTimeStamp(e){const t=parseInt(e+"",10);return String(t).length===10?1e3*t:t}}function _jt(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function SF(n,e){const t=e?n.toExponential(e-1):n.toExponential(),i=t.indexOf("e");if(i<0)return null;const r=t.slice(0,i);return[r.length>1?r[0]+r.slice(2):r,+t.slice(i+1)]}function bjt(n,e){return function(t,i){let r=t.length;const s=[];let a=0,o=n[0],l=0;for(;r>0&&o>0&&(l+o+1>i&&(o=Math.max(1,i-l)),s.push(t.substring(r-=o,r+o)),!((l+=o+1)>i));)o=n[a=(a+1)%n.length];return s.reverse().join(e)}}let ike;function Sjt(n,e){const t=SF(n,e);if(!t)return n+"";const i=t[0],r=t[1],s=r-(ike=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,a=i.length;return s===a?i:s>a?i+new Array(s-a+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+SF(n,Math.max(0,e+s-1))[0]}function $ce(n,e){const t=SF(n,e);if(!t)return n+"";const i=t[0],r=t[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}function xjt(n){const e=n.length;let t,i=-1;e:for(let r=1;r<e;++r)switch(n[r]){case".":i=t=r;break;case"0":i===0&&(i=r),t=r;break;default:if(!+n[r])break e;i>0&&(i=0)}return i>0?n.slice(0,i)+n.slice(t+1):n}class wjt{constructor(e={}){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}toString(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,0|this.width))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}}const rke=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Nce(n){let e;if(e=rke.exec(n))return new wjt({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]});yi.getInstance().error("invalid format: "+n)}const jce=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];class Ob{constructor(){this.locale={thousands:",",grouping:[3],currency:["$",""]},this.group=this.locale.grouping===void 0||this.locale.thousands===void 0?e=>e:bjt([...this.locale.grouping].map(Number),`${this.locale.thousands}`),this.currencyPrefix=this.locale.currency===void 0?"":this.locale.currency[0]+"",this.currencySuffix=this.locale.currency===void 0?"":this.locale.currency[1]+"",this.decimal=this.locale.decimal===void 0?".":this.locale.decimal+"",this.numerals=this.locale.numerals===void 0?e=>e:Tjt([...this.locale.numerals].map(String)),this.percent=this.locale.percent===void 0?"%":this.locale.percent+"",this.minus=this.locale.minus===void 0?"":this.locale.minus+"",this.nan=this.locale.nan===void 0?"NaN":this.locale.nan+"",this.formatter=e=>this.newFormat(e),this.format=(e,t)=>this.formatter(e)(t),this.formatPrefix=(e,t)=>this._formatPrefix(e,t)}static getInstance(){return Ob.instance||(Ob.instance=new Ob),Ob.instance}newFormat(e){const t=Nce(e);let i=t.fill,r=t.align;const s=t.sign,a=t.symbol;let o=t.zero;const l=t.width;let u=t.comma,c=t.precision,d=t.trim,h=t.type;h==="n"?(u=!0,h="g"):zce[h]||(c===void 0&&(c=12),d=!0,h="g"),(o||i==="0"&&r==="=")&&(o=!0,i="0",r="=");const f=a==="$"?this.currencyPrefix:a==="#"&&/[boxX]/.test(h)?"0"+h.toLowerCase():"",p=a==="$"?this.currencySuffix:/[%p]/.test(h)?this.percent:"",g=zce[h],m=/[defgprstz%]/.test(h);c=c===void 0?6:/[gprs]/.test(h)?Math.max(1,Math.min(21,c)):Math.max(0,Math.min(20,c));const{nan:v,minus:_,decimal:y,group:x,numerals:w}=this;function T(E){let A,k,P,I=f,D=p,L=E;if(h==="c")D=g(L)+D,L="";else{L=+L;let $=L<0||1/L<0;if(L=isNaN(L)?v:g(Math.abs(L),c),d&&(L=xjt(L)),$&&+L==0&&s!=="+"&&($=!1),I=($?s==="("?s:_:s==="-"||s==="("?"":s)+I,D=(h==="s"?jce[8+ike/3]:"")+D+($&&s==="("?")":""),m){for(A=-1,k=L.length;++A<k;)if(P=L.charCodeAt(A),48>P||P>57){D=(P===46?y+L.slice(A+1):L.slice(A))+D,L=L.slice(0,A);break}}}u&&!o&&(L=x(L,1/0));let B=I.length+L.length+D.length,F=B<l?new Array(l-B+1).join(i):"";switch(u&&o&&(L=x(F+L,F.length?l-D.length:1/0),F=""),r){case"<":L=I+L+D+F;break;case"=":L=I+F+L+D;break;case"^":L=F.slice(0,B=F.length>>1)+I+L+D+F.slice(B);break;default:L=F+I+L+D}return w(L)}return T.toString=function(){return e+""},T}_formatPrefix(e,t){const i=Nce(e);i.type="f";const r=this.newFormat(i.toString()),s=3*Math.max(-8,Math.min(8,Math.floor(Cjt(t)/3))),a=Math.pow(10,-s),o=jce[8+s/3];return function(l){return r(a*l)+o}}}const zce={"%":(n,e)=>(100*n).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:_jt,f:(n,e)=>n.toFixed(e),e:(n,e)=>n.toExponential(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>$ce(100*n,e),r:$ce,s:Sjt,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16),t:(n,e)=>Number.isInteger(n)?n.toFixed(2):Math.floor(n*Math.pow(10,e))/Math.pow(10,e)+"",z:(n,e)=>n%1==0?n+"":n.toFixed(e)};function Cjt(n){const e=SF(Math.abs(n));return e?e[1]:NaN}function Tjt(n){return function(e){return e.replace(/[0-9]/g,t=>n[+t])}}const Ejt=(n,e)=>{const{callback:t}=e;return t&&(n=n.filter(t)),n};function Yj(){return new xF}function xF(){this.reset()}xF.prototype={constructor:xF,reset:function(){this.s=this.t=0},add:function(n){Hce(uD,n,this.t),Hce(this,uD.s,this.s),this.s?this.t+=uD.t:this.s=uD.t},valueOf:function(){return this.s}};var uD=new xF;function Hce(n,e,t){var i=n.s=e+t,r=i-e,s=i-r;n.t=e-s+(t-r)}var si=1e-6,Ajt=1e-12,Ti=Math.PI,ya=Ti/2,Vce=Ti/4,rd=Ti*2,Nl=180/Ti,Qs=Ti/180,Wr=Math.abs,N1=Math.atan,$m=Math.atan2,wi=Math.cos,ske=Math.exp,wF=Math.log,O4=Math.pow,ai=Math.sin,ah=Math.sign||function(n){return n>0?1:n<0?-1:0},vc=Math.sqrt,Xq=Math.tan;function ake(n){return n>1?0:n<-1?Ti:Math.acos(n)}function Sh(n){return n>1?ya:n<-1?-ya:Math.asin(n)}function oh(){}function CF(n,e){n&&Uce.hasOwnProperty(n.type)&&Uce[n.type](n,e)}var Wce={Feature:function(n,e){CF(n.geometry,e)},FeatureCollection:function(n,e){for(var t=n.features,i=-1,r=t.length;++i<r;)CF(t[i].geometry,e)}},Uce={Sphere:function(n,e){e.sphere()},Point:function(n,e){n=n.coordinates,e.point(n[0],n[1],n[2])},MultiPoint:function(n,e){for(var t=n.coordinates,i=-1,r=t.length;++i<r;)n=t[i],e.point(n[0],n[1],n[2])},LineString:function(n,e){R8(n.coordinates,e,0)},MultiLineString:function(n,e){for(var t=n.coordinates,i=-1,r=t.length;++i<r;)R8(t[i],e,0)},Polygon:function(n,e){Gce(n.coordinates,e)},MultiPolygon:function(n,e){for(var t=n.coordinates,i=-1,r=t.length;++i<r;)Gce(t[i],e)},GeometryCollection:function(n,e){for(var t=n.geometries,i=-1,r=t.length;++i<r;)CF(t[i],e)}};function R8(n,e,t){var i=-1,r=n.length-t,s;for(e.lineStart();++i<r;)s=n[i],e.point(s[0],s[1],s[2]);e.lineEnd()}function Gce(n,e){var t=-1,i=n.length;for(e.polygonStart();++t<i;)R8(n[t],e,1);e.polygonEnd()}function bx(n,e){n&&Wce.hasOwnProperty(n.type)?Wce[n.type](n,e):CF(n,e)}function D8(n){return[$m(n[1],n[0]),Sh(n[2])]}function PC(n){var e=n[0],t=n[1],i=wi(t);return[i*wi(e),i*ai(e),ai(t)]}function cD(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function TF(n,e){return[n[1]*e[2]-n[2]*e[1],n[2]*e[0]-n[0]*e[2],n[0]*e[1]-n[1]*e[0]]}function P4(n,e){n[0]+=e[0],n[1]+=e[1],n[2]+=e[2]}function dD(n,e){return[n[0]*e,n[1]*e,n[2]*e]}function L8(n){var e=vc(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=e,n[1]/=e,n[2]/=e}function F8(n,e){function t(i,r){return i=n(i,r),e(i[0],i[1])}return n.invert&&e.invert&&(t.invert=function(i,r){return i=e.invert(i,r),i&&n.invert(i[0],i[1])}),t}function B8(n,e){return[Wr(n)>Ti?n+Math.round(-n/rd)*rd:n,e]}B8.invert=B8;function oke(n,e,t){return(n%=rd)?e||t?F8(Kce(n),Xce(e,t)):Kce(n):e||t?Xce(e,t):B8}function Yce(n){return function(e,t){return e+=n,[e>Ti?e-rd:e<-Ti?e+rd:e,t]}}function Kce(n){var e=Yce(n);return e.invert=Yce(-n),e}function Xce(n,e){var t=wi(n),i=ai(n),r=wi(e),s=ai(e);function a(o,l){var u=wi(l),c=wi(o)*u,d=ai(o)*u,h=ai(l),f=h*t+c*i;return[$m(d*r-f*s,c*t-h*i),Sh(f*r+d*s)]}return a.invert=function(o,l){var u=wi(l),c=wi(o)*u,d=ai(o)*u,h=ai(l),f=h*r-d*s;return[$m(d*r+h*s,c*t+f*i),Sh(f*t-c*i)]},a}function kjt(n){n=oke(n[0]*Qs,n[1]*Qs,n.length>2?n[2]*Qs:0);function e(t){return t=n(t[0]*Qs,t[1]*Qs),t[0]*=Nl,t[1]*=Nl,t}return e.invert=function(t){return t=n.invert(t[0]*Qs,t[1]*Qs),t[0]*=Nl,t[1]*=Nl,t},e}function Ojt(n,e,t,i,r,s){if(t){var a=wi(e),o=ai(e),l=i*t;r==null?(r=e+i*rd,s=e-l/2):(r=qce(a,r),s=qce(a,s),(i>0?r<s:r>s)&&(r+=i*rd));for(var u,c=r;i>0?c>s:c<s;c-=l)u=D8([a,-o*wi(c),-o*ai(c)]),n.point(u[0],u[1])}}function qce(n,e){e=PC(e),e[0]-=n,L8(e);var t=ake(-e[1]);return((-e[2]<0?-t:t)+rd-si)%rd}function lke(){var n=[],e;return{point:function(t,i,r){e.push([t,i,r])},lineStart:function(){n.push(e=[])},lineEnd:oh,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var t=n;return n=[],e=null,t}}}function U2(n,e){return Wr(n[0]-e[0])<si&&Wr(n[1]-e[1])<si}function hD(n,e,t,i){this.x=n,this.z=e,this.o=t,this.e=i,this.v=!1,this.n=this.p=null}function uke(n,e,t,i,r){var s=[],a=[],o,l;if(n.forEach(function(p){if(!((g=p.length-1)<=0)){var g,m=p[0],v=p[g],_;if(U2(m,v)){if(!m[2]&&!v[2]){for(r.lineStart(),o=0;o<g;++o)r.point((m=p[o])[0],m[1]);r.lineEnd();return}v[0]+=2*si}s.push(_=new hD(m,p,null,!0)),a.push(_.o=new hD(m,null,_,!1)),s.push(_=new hD(v,p,null,!1)),a.push(_.o=new hD(v,null,_,!0))}}),!!s.length){for(a.sort(e),Zce(s),Zce(a),o=0,l=a.length;o<l;++o)a[o].e=t=!t;for(var u=s[0],c,d;;){for(var h=u,f=!0;h.v;)if((h=h.n)===u)return;c=h.z,r.lineStart();do{if(h.v=h.o.v=!0,h.e){if(f)for(o=0,l=c.length;o<l;++o)r.point((d=c[o])[0],d[1]);else i(h.x,h.n.x,1,r);h=h.n}else{if(f)for(c=h.p.z,o=c.length-1;o>=0;--o)r.point((d=c[o])[0],d[1]);else i(h.x,h.p.x,-1,r);h=h.p}h=h.o,c=h.z,f=!f}while(!h.v);r.lineEnd()}}}function Zce(n){if(e=n.length){for(var e,t=0,i=n[0],r;++t<e;)i.n=r=n[t],r.p=i,i=r;i.n=r=n[0],r.p=i}}var M4=Yj();function I4(n){return Wr(n[0])<=Ti?n[0]:ah(n[0])*((Wr(n[0])+Ti)%rd-Ti)}function Pjt(n,e){var t=I4(e),i=e[1],r=ai(i),s=[ai(t),-wi(t),0],a=0,o=0;M4.reset(),r===1?i=ya+si:r===-1&&(i=-ya-si);for(var l=0,u=n.length;l<u;++l)if(d=(c=n[l]).length)for(var c,d,h=c[d-1],f=I4(h),p=h[1]/2+Vce,g=ai(p),m=wi(p),v=0;v<d;++v,f=y,g=w,m=T,h=_){var _=c[v],y=I4(_),x=_[1]/2+Vce,w=ai(x),T=wi(x),E=y-f,A=E>=0?1:-1,k=A*E,P=k>Ti,I=g*w;if(M4.add($m(I*A*ai(k),m*T+I*wi(k))),a+=P?E+A*rd:E,P^f>=t^y>=t){var D=TF(PC(h),PC(_));L8(D);var L=TF(s,D);L8(L);var B=(P^E>=0?-1:1)*Sh(L[2]);(i>B||i===B&&(D[0]||D[1]))&&(o+=P^E>=0?1:-1)}}return(a<-si||a<si&&M4<-si)^o&1}function cke(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function Mjt(n){return n.length===1&&(n=Ijt(n)),{left:function(e,t,i,r){for(i==null&&(i=0),r==null&&(r=e.length);i<r;){var s=i+r>>>1;n(e[s],t)<0?i=s+1:r=s}return i},right:function(e,t,i,r){for(i==null&&(i=0),r==null&&(r=e.length);i<r;){var s=i+r>>>1;n(e[s],t)>0?r=s:i=s+1}return i}}}function Ijt(n){return function(e,t){return cke(n(e),t)}}Mjt(cke);function dke(n){for(var e=n.length,t,i=-1,r=0,s,a;++i<e;)r+=n[i].length;for(s=new Array(r);--e>=0;)for(a=n[e],t=a.length;--t>=0;)s[--r]=a[t];return s}function hke(n,e,t,i){return function(r){var s=e(r),a=lke(),o=e(a),l=!1,u,c,d,h={point:f,lineStart:g,lineEnd:m,polygonStart:function(){h.point=v,h.lineStart=_,h.lineEnd=y,c=[],u=[]},polygonEnd:function(){h.point=f,h.lineStart=g,h.lineEnd=m,c=dke(c);var x=Pjt(u,i);c.length?(l||(r.polygonStart(),l=!0),uke(c,Djt,x,t,r)):x&&(l||(r.polygonStart(),l=!0),r.lineStart(),t(null,null,1,r),r.lineEnd()),l&&(r.polygonEnd(),l=!1),c=u=null},sphere:function(){r.polygonStart(),r.lineStart(),t(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function f(x,w){n(x,w)&&r.point(x,w)}function p(x,w){s.point(x,w)}function g(){h.point=p,s.lineStart()}function m(){h.point=f,s.lineEnd()}function v(x,w){d.push([x,w]),o.point(x,w)}function _(){o.lineStart(),d=[]}function y(){v(d[0][0],d[0][1]),o.lineEnd();var x=o.clean(),w=a.result(),T,E=w.length,A,k,P;if(d.pop(),u.push(d),d=null,!!E){if(x&1){if(k=w[0],(A=k.length-1)>0){for(l||(r.polygonStart(),l=!0),r.lineStart(),T=0;T<A;++T)r.point((P=k[T])[0],P[1]);r.lineEnd()}return}E>1&&x&2&&w.push(w.pop().concat(w.shift())),c.push(w.filter(Rjt))}}return h}}function Rjt(n){return n.length>1}function Djt(n,e){return((n=n.x)[0]<0?n[1]-ya-si:ya-n[1])-((e=e.x)[0]<0?e[1]-ya-si:ya-e[1])}const Qce=hke(function(){return!0},Ljt,Bjt,[-Ti,-ya]);function Ljt(n){var e=NaN,t=NaN,i=NaN,r;return{lineStart:function(){n.lineStart(),r=1},point:function(s,a){var o=s>0?Ti:-Ti,l=Wr(s-e);Wr(l-Ti)<si?(n.point(e,t=(t+a)/2>0?ya:-ya),n.point(i,t),n.lineEnd(),n.lineStart(),n.point(o,t),n.point(s,t),r=0):i!==o&&l>=Ti&&(Wr(e-i)<si&&(e-=i*si),Wr(s-o)<si&&(s-=o*si),t=Fjt(e,t,s,a),n.point(i,t),n.lineEnd(),n.lineStart(),n.point(o,t),r=0),n.point(e=s,t=a),i=o},lineEnd:function(){n.lineEnd(),e=t=NaN},clean:function(){return 2-r}}}function Fjt(n,e,t,i){var r,s,a=ai(n-t);return Wr(a)>si?N1((ai(e)*(s=wi(i))*ai(t)-ai(i)*(r=wi(e))*ai(n))/(r*s*a)):(e+i)/2}function Bjt(n,e,t,i){var r;if(n==null)r=t*ya,i.point(-Ti,r),i.point(0,r),i.point(Ti,r),i.point(Ti,0),i.point(Ti,-r),i.point(0,-r),i.point(-Ti,-r),i.point(-Ti,0),i.point(-Ti,r);else if(Wr(n[0]-e[0])>si){var s=n[0]<e[0]?Ti:-Ti;r=t*s/2,i.point(-s,r),i.point(0,r),i.point(s,r)}else i.point(e[0],e[1])}function $jt(n){var e=wi(n),t=6*Qs,i=e>0,r=Wr(e)>si;function s(c,d,h,f){Ojt(f,n,t,h,c,d)}function a(c,d){return wi(c)*wi(d)>e}function o(c){var d,h,f,p,g;return{lineStart:function(){p=f=!1,g=1},point:function(m,v){var _=[m,v],y,x=a(m,v),w=i?x?0:u(m,v):x?u(m+(m<0?Ti:-Ti),v):0;if(!d&&(p=f=x)&&c.lineStart(),x!==f&&(y=l(d,_),(!y||U2(d,y)||U2(_,y))&&(_[2]=1)),x!==f)g=0,x?(c.lineStart(),y=l(_,d),c.point(y[0],y[1])):(y=l(d,_),c.point(y[0],y[1],2),c.lineEnd()),d=y;else if(r&&d&&i^x){var T;!(w&h)&&(T=l(_,d,!0))&&(g=0,i?(c.lineStart(),c.point(T[0][0],T[0][1]),c.point(T[1][0],T[1][1]),c.lineEnd()):(c.point(T[1][0],T[1][1]),c.lineEnd(),c.lineStart(),c.point(T[0][0],T[0][1],3)))}x&&(!d||!U2(d,_))&&c.point(_[0],_[1]),d=_,f=x,h=w},lineEnd:function(){f&&c.lineEnd(),d=null},clean:function(){return g|(p&&f)<<1}}}function l(c,d,h){var f=PC(c),p=PC(d),g=[1,0,0],m=TF(f,p),v=cD(m,m),_=m[0],y=v-_*_;if(!y)return!h&&c;var x=e*v/y,w=-e*_/y,T=TF(g,m),E=dD(g,x),A=dD(m,w);P4(E,A);var k=T,P=cD(E,k),I=cD(k,k),D=P*P-I*(cD(E,E)-1);if(!(D<0)){var L=vc(D),B=dD(k,(-P-L)/I);if(P4(B,E),B=D8(B),!h)return B;var F=c[0],$=d[0],z=c[1],N=d[1],V;$<F&&(V=F,F=$,$=V);var H=$-F,K=Wr(H-Ti)<si,U=K||H<si;if(!K&&N<z&&(V=z,z=N,N=V),U?K?z+N>0^B[1]<(Wr(B[0]-F)<si?z:N):z<=B[1]&&B[1]<=N:H>Ti^(F<=B[0]&&B[0]<=$)){var X=dD(k,(-P+L)/I);return P4(X,E),[B,D8(X)]}}}function u(c,d){var h=i?n:Ti-n,f=0;return c<-h?f|=1:c>h&&(f|=2),d<-h?f|=4:d>h&&(f|=8),f}return hke(a,o,s,i?[0,-n]:[-Ti,n-Ti])}function Njt(n,e,t,i,r,s){var a=n[0],o=n[1],l=e[0],u=e[1],c=0,d=1,h=l-a,f=u-o,p;if(p=t-a,!(!h&&p>0)){if(p/=h,h<0){if(p<c)return;p<d&&(d=p)}else if(h>0){if(p>d)return;p>c&&(c=p)}if(p=r-a,!(!h&&p<0)){if(p/=h,h<0){if(p>d)return;p>c&&(c=p)}else if(h>0){if(p<c)return;p<d&&(d=p)}if(p=i-o,!(!f&&p>0)){if(p/=f,f<0){if(p<c)return;p<d&&(d=p)}else if(f>0){if(p>d)return;p>c&&(c=p)}if(p=s-o,!(!f&&p<0)){if(p/=f,f<0){if(p>d)return;p>c&&(c=p)}else if(f>0){if(p<c)return;p<d&&(d=p)}return c>0&&(n[0]=a+c*h,n[1]=o+c*f),d<1&&(e[0]=a+d*h,e[1]=o+d*f),!0}}}}}var DE=1e9,fD=-DE;function fke(n,e,t,i){function r(u,c){return n<=u&&u<=t&&e<=c&&c<=i}function s(u,c,d,h){var f=0,p=0;if(u==null||(f=a(u,d))!==(p=a(c,d))||l(u,c)<0^d>0)do h.point(f===0||f===3?n:t,f>1?i:e);while((f=(f+d+4)%4)!==p);else h.point(c[0],c[1])}function a(u,c){return Wr(u[0]-n)<si?c>0?0:3:Wr(u[0]-t)<si?c>0?2:1:Wr(u[1]-e)<si?c>0?1:0:c>0?3:2}function o(u,c){return l(u.x,c.x)}function l(u,c){var d=a(u,1),h=a(c,1);return d!==h?d-h:d===0?c[1]-u[1]:d===1?u[0]-c[0]:d===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,d=lke(),h,f,p,g,m,v,_,y,x,w,T,E={point:A,lineStart:D,lineEnd:L,polygonStart:P,polygonEnd:I};function A(F,$){r(F,$)&&c.point(F,$)}function k(){for(var F=0,$=0,z=f.length;$<z;++$)for(var N=f[$],V=1,H=N.length,K=N[0],U,X,Z=K[0],Q=K[1];V<H;++V)U=Z,X=Q,K=N[V],Z=K[0],Q=K[1],X<=i?Q>i&&(Z-U)*(i-X)>(Q-X)*(n-U)&&++F:Q<=i&&(Z-U)*(i-X)<(Q-X)*(n-U)&&--F;return F}function P(){c=d,h=[],f=[],T=!0}function I(){var F=k(),$=T&&F,z=(h=dke(h)).length;($||z)&&(u.polygonStart(),$&&(u.lineStart(),s(null,null,1,u),u.lineEnd()),z&&uke(h,o,F,s,u),u.polygonEnd()),c=u,h=f=p=null}function D(){E.point=B,f&&f.push(p=[]),w=!0,x=!1,_=y=NaN}function L(){h&&(B(g,m),v&&x&&d.rejoin(),h.push(d.result())),E.point=A,x&&c.lineEnd()}function B(F,$){var z=r(F,$);if(f&&p.push([F,$]),w)g=F,m=$,v=z,w=!1,z&&(c.lineStart(),c.point(F,$));else if(z&&x)c.point(F,$);else{var N=[_=Math.max(fD,Math.min(DE,_)),y=Math.max(fD,Math.min(DE,y))],V=[F=Math.max(fD,Math.min(DE,F)),$=Math.max(fD,Math.min(DE,$))];Njt(N,V,n,e,t,i)?(x||(c.lineStart(),c.point(N[0],N[1])),c.point(V[0],V[1]),z||c.lineEnd(),T=!1):z&&(c.lineStart(),c.point(F,$),T=!1)}_=F,y=$,x=z}return E}}function gO(n){return n}var R4=Yj(),$8=Yj(),pke,gke,N8,j8,nm={point:oh,lineStart:oh,lineEnd:oh,polygonStart:function(){nm.lineStart=jjt,nm.lineEnd=Hjt},polygonEnd:function(){nm.lineStart=nm.lineEnd=nm.point=oh,R4.add(Wr($8)),$8.reset()},result:function(){var n=R4/2;return R4.reset(),n}};function jjt(){nm.point=zjt}function zjt(n,e){nm.point=mke,pke=N8=n,gke=j8=e}function mke(n,e){$8.add(j8*n-N8*e),N8=n,j8=e}function Hjt(){mke(pke,gke)}var MC=1/0,EF=MC,mO=-MC,AF=mO,kF={point:Vjt,lineStart:oh,lineEnd:oh,polygonStart:oh,polygonEnd:oh,result:function(){var n=[[MC,EF],[mO,AF]];return mO=AF=-(EF=MC=1/0),n}};function Vjt(n,e){n<MC&&(MC=n),n>mO&&(mO=n),e<EF&&(EF=e),e>AF&&(AF=e)}var z8=0,H8=0,LE=0,OF=0,PF=0,Kx=0,V8=0,W8=0,FE=0,vke,yke,Ip,Rp,th={point:m0,lineStart:Jce,lineEnd:ede,polygonStart:function(){th.lineStart=Gjt,th.lineEnd=Yjt},polygonEnd:function(){th.point=m0,th.lineStart=Jce,th.lineEnd=ede},result:function(){var n=FE?[V8/FE,W8/FE]:Kx?[OF/Kx,PF/Kx]:LE?[z8/LE,H8/LE]:[NaN,NaN];return z8=H8=LE=OF=PF=Kx=V8=W8=FE=0,n}};function m0(n,e){z8+=n,H8+=e,++LE}function Jce(){th.point=Wjt}function Wjt(n,e){th.point=Ujt,m0(Ip=n,Rp=e)}function Ujt(n,e){var t=n-Ip,i=e-Rp,r=vc(t*t+i*i);OF+=r*(Ip+n)/2,PF+=r*(Rp+e)/2,Kx+=r,m0(Ip=n,Rp=e)}function ede(){th.point=m0}function Gjt(){th.point=Kjt}function Yjt(){_ke(vke,yke)}function Kjt(n,e){th.point=_ke,m0(vke=Ip=n,yke=Rp=e)}function _ke(n,e){var t=n-Ip,i=e-Rp,r=vc(t*t+i*i);OF+=r*(Ip+n)/2,PF+=r*(Rp+e)/2,Kx+=r,r=Rp*n-Ip*e,V8+=r*(Ip+n),W8+=r*(Rp+e),FE+=r*3,m0(Ip=n,Rp=e)}function bke(n){this._context=n}bke.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,e){switch(this._point){case 0:{this._context.moveTo(n,e),this._point=1;break}case 1:{this._context.lineTo(n,e);break}default:{this._context.moveTo(n+this._radius,e),this._context.arc(n,e,this._radius,0,rd);break}}},result:oh};var U8=Yj(),D4,Ske,xke,BE,$E,vO={point:oh,lineStart:function(){vO.point=Xjt},lineEnd:function(){D4&&wke(Ske,xke),vO.point=oh},polygonStart:function(){D4=!0},polygonEnd:function(){D4=null},result:function(){var n=+U8;return U8.reset(),n}};function Xjt(n,e){vO.point=wke,Ske=BE=n,xke=$E=e}function wke(n,e){BE-=n,$E-=e,U8.add(vc(BE*BE+$E*$E)),BE=n,$E=e}function Cke(){this._string=[]}Cke.prototype={_radius:4.5,_circle:tde(4.5),pointRadius:function(n){return(n=+n)!==this._radius&&(this._radius=n,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(n,e){switch(this._point){case 0:{this._string.push("M",n,",",e),this._point=1;break}case 1:{this._string.push("L",n,",",e);break}default:{this._circle==null&&(this._circle=tde(this._radius)),this._string.push("M",n,",",e,this._circle);break}}},result:function(){if(this._string.length){var n=this._string.join("");return this._string=[],n}else return null}};function tde(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function qq(n,e){var t=4.5,i,r;function s(a){return a&&(typeof t=="function"&&r.pointRadius(+t.apply(this,arguments)),bx(a,i(r))),r.result()}return s.area=function(a){return bx(a,i(nm)),nm.result()},s.measure=function(a){return bx(a,i(vO)),vO.result()},s.bounds=function(a){return bx(a,i(kF)),kF.result()},s.centroid=function(a){return bx(a,i(th)),th.result()},s.projection=function(a){return arguments.length?(i=a==null?(n=null,gO):(n=a).stream,s):n},s.context=function(a){return arguments.length?(r=a==null?(e=null,new Cke):new bke(e=a),typeof t!="function"&&r.pointRadius(t),s):e},s.pointRadius=function(a){return arguments.length?(t=typeof a=="function"?a:(r.pointRadius(+a),+a),s):t},s.projection(n).context(e)}function Kj(n){return function(e){var t=new G8;for(var i in n)t[i]=n[i];return t.stream=e,t}}function G8(){}G8.prototype={constructor:G8,point:function(n,e){this.stream.point(n,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Zq(n,e,t){var i=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),i!=null&&n.clipExtent(null),bx(t,n.stream(kF)),e(kF.result()),i!=null&&n.clipExtent(i),n}function Xj(n,e,t){return Zq(n,function(i){var r=e[1][0]-e[0][0],s=e[1][1]-e[0][1],a=Math.min(r/(i[1][0]-i[0][0]),s/(i[1][1]-i[0][1])),o=+e[0][0]+(r-a*(i[1][0]+i[0][0]))/2,l=+e[0][1]+(s-a*(i[1][1]+i[0][1]))/2;n.scale(150*a).translate([o,l])},t)}function Qq(n,e,t){return Xj(n,[[0,0],e],t)}function Jq(n,e,t){return Zq(n,function(i){var r=+e,s=r/(i[1][0]-i[0][0]),a=(r-s*(i[1][0]+i[0][0]))/2,o=-s*i[0][1];n.scale(150*s).translate([a,o])},t)}function eZ(n,e,t){return Zq(n,function(i){var r=+e,s=r/(i[1][1]-i[0][1]),a=-s*i[0][0],o=(r-s*(i[1][1]+i[0][1]))/2;n.scale(150*s).translate([a,o])},t)}var nde=16,qjt=wi(30*Qs);function ide(n,e){return+e?Qjt(n,e):Zjt(n)}function Zjt(n){return Kj({point:function(e,t){e=n(e,t),this.stream.point(e[0],e[1])}})}function Qjt(n,e){function t(i,r,s,a,o,l,u,c,d,h,f,p,g,m){var v=u-i,_=c-r,y=v*v+_*_;if(y>4*e&&g--){var x=a+h,w=o+f,T=l+p,E=vc(x*x+w*w+T*T),A=Sh(T/=E),k=Wr(Wr(T)-1)<si||Wr(s-d)<si?(s+d)/2:$m(w,x),P=n(k,A),I=P[0],D=P[1],L=I-i,B=D-r,F=_*L-v*B;(F*F/y>e||Wr((v*L+_*B)/y-.5)>.3||a*h+o*f+l*p<qjt)&&(t(i,r,s,a,o,l,I,D,k,x/=E,w/=E,T,g,m),m.point(I,D),t(I,D,k,x,w,T,u,c,d,h,f,p,g,m))}}return function(i){var r,s,a,o,l,u,c,d,h,f,p,g,m={point:v,lineStart:_,lineEnd:x,polygonStart:function(){i.polygonStart(),m.lineStart=w},polygonEnd:function(){i.polygonEnd(),m.lineStart=_}};function v(A,k){A=n(A,k),i.point(A[0],A[1])}function _(){d=NaN,m.point=y,i.lineStart()}function y(A,k){var P=PC([A,k]),I=n(A,k);t(d,h,c,f,p,g,d=I[0],h=I[1],c=A,f=P[0],p=P[1],g=P[2],nde,i),i.point(d,h)}function x(){m.point=v,i.lineEnd()}function w(){_(),m.point=T,m.lineEnd=E}function T(A,k){y(r=A,k),s=d,a=h,o=f,l=p,u=g,m.point=y}function E(){t(d,h,c,f,p,g,s,a,r,o,l,u,nde,i),m.lineEnd=x,x()}return m}}var Jjt=Kj({point:function(n,e){this.stream.point(n*Qs,e*Qs)}});function ezt(n){return Kj({point:function(e,t){var i=n(e,t);return this.stream.point(i[0],i[1])}})}function tzt(n,e,t,i,r){function s(a,o){return a*=i,o*=r,[e+n*a,t-n*o]}return s.invert=function(a,o){return[(a-e)/n*i,(t-o)/n*r]},s}function rde(n,e,t,i,r,s){var a=wi(s),o=ai(s),l=a*n,u=o*n,c=a/n,d=o/n,h=(o*t-a*e)/n,f=(o*e+a*t)/n;function p(g,m){return g*=i,m*=r,[l*g-u*m+e,t-u*g-l*m]}return p.invert=function(g,m){return[i*(c*g-d*m+h),r*(f-d*g-c*m)]},p}function Xm(n){return Tke(function(){return n})()}function Tke(n){var e,t=150,i=480,r=250,s=0,a=0,o=0,l=0,u=0,c,d=0,h=1,f=1,p=null,g=Qce,m=null,v,_,y,x=gO,w=.5,T,E,A,k,P;function I(F){return A(F[0]*Qs,F[1]*Qs)}function D(F){return F=A.invert(F[0],F[1]),F&&[F[0]*Nl,F[1]*Nl]}I.stream=function(F){return k&&P===F?k:k=Jjt(ezt(c)(g(T(x(P=F)))))},I.preclip=function(F){return arguments.length?(g=F,p=void 0,B()):g},I.postclip=function(F){return arguments.length?(x=F,m=v=_=y=null,B()):x},I.clipAngle=function(F){return arguments.length?(g=+F?$jt(p=F*Qs):(p=null,Qce),B()):p*Nl},I.clipExtent=function(F){return arguments.length?(x=F==null?(m=v=_=y=null,gO):fke(m=+F[0][0],v=+F[0][1],_=+F[1][0],y=+F[1][1]),B()):m==null?null:[[m,v],[_,y]]},I.scale=function(F){return arguments.length?(t=+F,L()):t},I.translate=function(F){return arguments.length?(i=+F[0],r=+F[1],L()):[i,r]},I.center=function(F){return arguments.length?(s=F[0]%360*Qs,a=F[1]%360*Qs,L()):[s*Nl,a*Nl]},I.rotate=function(F){return arguments.length?(o=F[0]%360*Qs,l=F[1]%360*Qs,u=F.length>2?F[2]%360*Qs:0,L()):[o*Nl,l*Nl,u*Nl]},I.angle=function(F){return arguments.length?(d=F%360*Qs,L()):d*Nl},I.reflectX=function(F){return arguments.length?(h=F?-1:1,L()):h<0},I.reflectY=function(F){return arguments.length?(f=F?-1:1,L()):f<0},I.precision=function(F){return arguments.length?(T=ide(E,w=F*F),B()):vc(w)},I.fitExtent=function(F,$){return Xj(I,F,$)},I.fitSize=function(F,$){return Qq(I,F,$)},I.fitWidth=function(F,$){return Jq(I,F,$)},I.fitHeight=function(F,$){return eZ(I,F,$)};function L(){var F=rde(t,0,0,h,f,d).apply(null,e(s,a)),$=(d?rde:tzt)(t,i-F[0],r-F[1],h,f,d);return c=oke(o,l,u),E=F8(e,$),A=F8(c,E),T=ide(E,w),B()}function B(){return k=P=null,I}return function(){return e=n.apply(this,arguments),I.invert=e.invert&&D,L()}}function tZ(n){var e=0,t=Ti/3,i=Tke(n),r=i(e,t);return r.parallels=function(s){return arguments.length?i(e=s[0]*Qs,t=s[1]*Qs):[e*Nl,t*Nl]},r}function nzt(n){var e=wi(n);function t(i,r){return[i*e,ai(r)/e]}return t.invert=function(i,r){return[i/e,Sh(r*e)]},t}function izt(n,e){var t=ai(n),i=(t+ai(e))/2;if(Wr(i)<si)return nzt(n);var r=1+t*(2*i-t),s=vc(r)/i;function a(o,l){var u=vc(r-2*i*ai(l))/i;return[u*ai(o*=i),s-u*wi(o)]}return a.invert=function(o,l){var u=s-l,c=$m(o,Wr(u))*ah(u);return u*i<0&&(c-=Ti*ah(o)*ah(u)),[c/i,Sh((r-(o*o+u*u)*i*i)/(2*i))]},a}function MF(){return tZ(izt).scale(155.424).center([0,33.6442])}function Eke(){return MF().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function rzt(n){var e=n.length;return{point:function(t,i){for(var r=-1;++r<e;)n[r].point(t,i)},sphere:function(){for(var t=-1;++t<e;)n[t].sphere()},lineStart:function(){for(var t=-1;++t<e;)n[t].lineStart()},lineEnd:function(){for(var t=-1;++t<e;)n[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<e;)n[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<e;)n[t].polygonEnd()}}}function szt(){var n,e,t=Eke(),i,r=MF().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s,a=MF().rotate([157,0]).center([-3,19.9]).parallels([8,18]),o,l,u={point:function(h,f){l=[h,f]}};function c(h){var f=h[0],p=h[1];return l=null,i.point(f,p),l||(s.point(f,p),l)||(o.point(f,p),l)}c.invert=function(h){var f=t.scale(),p=t.translate(),g=(h[0]-p[0])/f,m=(h[1]-p[1])/f;return(m>=.12&&m<.234&&g>=-.425&&g<-.214?r:m>=.166&&m<.234&&g>=-.214&&g<-.115?a:t).invert(h)},c.stream=function(h){return n&&e===h?n:n=rzt([t.stream(e=h),r.stream(h),a.stream(h)])},c.precision=function(h){return arguments.length?(t.precision(h),r.precision(h),a.precision(h),d()):t.precision()},c.scale=function(h){return arguments.length?(t.scale(h),r.scale(h*.35),a.scale(h),c.translate(t.translate())):t.scale()},c.translate=function(h){if(!arguments.length)return t.translate();var f=t.scale(),p=+h[0],g=+h[1];return i=t.translate(h).clipExtent([[p-.455*f,g-.238*f],[p+.455*f,g+.238*f]]).stream(u),s=r.translate([p-.307*f,g+.201*f]).clipExtent([[p-.425*f+si,g+.12*f+si],[p-.214*f-si,g+.234*f-si]]).stream(u),o=a.translate([p-.205*f,g+.212*f]).clipExtent([[p-.214*f+si,g+.166*f+si],[p-.115*f-si,g+.234*f-si]]).stream(u),d()},c.fitExtent=function(h,f){return Xj(c,h,f)},c.fitSize=function(h,f){return Qq(c,h,f)},c.fitWidth=function(h,f){return Jq(c,h,f)},c.fitHeight=function(h,f){return eZ(c,h,f)};function d(){return n=e=null,c}return c.scale(1070)}function Ake(n){return function(e,t){var i=wi(e),r=wi(t),s=n(i*r);return[s*r*ai(e),s*ai(t)]}}function gM(n){return function(e,t){var i=vc(e*e+t*t),r=n(i),s=ai(r),a=wi(r);return[$m(e*s,i*a),Sh(i&&t*s/i)]}}var kke=Ake(function(n){return vc(2/(1+n))});kke.invert=gM(function(n){return 2*Sh(n/2)});function azt(){return Xm(kke).scale(124.75).clipAngle(180-.001)}var Oke=Ake(function(n){return(n=ake(n))&&n/ai(n)});Oke.invert=gM(function(n){return n});function ozt(){return Xm(Oke).scale(79.4188).clipAngle(180-.001)}function qj(n,e){return[n,wF(Xq((ya+e)/2))]}qj.invert=function(n,e){return[n,2*N1(ske(e))-ya]};function lzt(){return Pke(qj).scale(961/rd)}function Pke(n){var e=Xm(n),t=e.center,i=e.scale,r=e.translate,s=e.clipExtent,a=null,o,l,u;e.scale=function(d){return arguments.length?(i(d),c()):i()},e.translate=function(d){return arguments.length?(r(d),c()):r()},e.center=function(d){return arguments.length?(t(d),c()):t()},e.clipExtent=function(d){return arguments.length?(d==null?a=o=l=u=null:(a=+d[0][0],o=+d[0][1],l=+d[1][0],u=+d[1][1]),c()):a==null?null:[[a,o],[l,u]]};function c(){var d=Ti*i(),h=e(kjt(e.rotate()).invert([0,0]));return s(a==null?[[h[0]-d,h[1]-d],[h[0]+d,h[1]+d]]:n===qj?[[Math.max(h[0]-d,a),o],[Math.min(h[0]+d,l),u]]:[[a,Math.max(h[1]-d,o)],[l,Math.min(h[1]+d,u)]])}return c()}function pD(n){return Xq((ya+n)/2)}function uzt(n,e){var t=wi(n),i=n===e?ai(n):wF(t/wi(e))/wF(pD(e)/pD(n)),r=t*O4(pD(n),i)/i;if(!i)return qj;function s(a,o){r>0?o<-ya+si&&(o=-ya+si):o>ya-si&&(o=ya-si);var l=r/O4(pD(o),i);return[l*ai(i*a),r-l*wi(i*a)]}return s.invert=function(a,o){var l=r-o,u=ah(i)*vc(a*a+l*l),c=$m(a,Wr(l))*ah(l);return l*i<0&&(c-=Ti*ah(a)*ah(l)),[c/i,2*N1(O4(r/u,1/i))-ya]},s}function czt(){return tZ(uzt).scale(109.5).parallels([30,30])}function IF(n,e){return[n,e]}IF.invert=IF;function dzt(){return Xm(IF).scale(152.63)}function hzt(n,e){var t=wi(n),i=n===e?ai(n):(t-wi(e))/(e-n),r=t/i+n;if(Wr(i)<si)return IF;function s(a,o){var l=r-o,u=i*a;return[l*ai(u),r-l*wi(u)]}return s.invert=function(a,o){var l=r-o,u=$m(a,Wr(l))*ah(l);return l*i<0&&(u-=Ti*ah(a)*ah(l)),[u/i,r-ah(i)*vc(a*a+l*l)]},s}function fzt(){return tZ(hzt).scale(131.154).center([0,13.9389])}var SA=1.340264,xA=-.081106,wA=893e-6,CA=.003796,RF=vc(3)/2,pzt=12;function Mke(n,e){var t=Sh(RF*ai(e)),i=t*t,r=i*i*i;return[n*wi(t)/(RF*(SA+3*xA*i+r*(7*wA+9*CA*i))),t*(SA+xA*i+r*(wA+CA*i))]}Mke.invert=function(n,e){for(var t=e,i=t*t,r=i*i*i,s=0,a,o,l;s<pzt&&(o=t*(SA+xA*i+r*(wA+CA*i))-e,l=SA+3*xA*i+r*(7*wA+9*CA*i),t-=a=o/l,i=t*t,r=i*i*i,!(Wr(a)<Ajt));++s);return[RF*n*(SA+3*xA*i+r*(7*wA+9*CA*i))/wi(t),Sh(ai(t)/RF)]};function gzt(){return Xm(Mke).scale(177.158)}function Ike(n,e){var t=wi(e),i=wi(n)*t;return[t*ai(n)/i,ai(e)/i]}Ike.invert=gM(N1);function mzt(){return Xm(Ike).scale(144.049).clipAngle(60)}function vzt(){var n=1,e=0,t=0,i=1,r=1,s=0,a,o,l=null,u,c,d,h=1,f=1,p=Kj({point:function(x,w){var T=y([x,w]);this.stream.point(T[0],T[1])}}),g=gO,m,v;function _(){return h=n*i,f=n*r,m=v=null,y}function y(x){var w=x[0]*h,T=x[1]*f;if(s){var E=T*a-w*o;w=w*a+T*o,T=E}return[w+e,T+t]}return y.invert=function(x){var w=x[0]-e,T=x[1]-t;if(s){var E=T*a+w*o;w=w*a-T*o,T=E}return[w/h,T/f]},y.stream=function(x){return m&&v===x?m:m=p(g(v=x))},y.postclip=function(x){return arguments.length?(g=x,l=u=c=d=null,_()):g},y.clipExtent=function(x){return arguments.length?(g=x==null?(l=u=c=d=null,gO):fke(l=+x[0][0],u=+x[0][1],c=+x[1][0],d=+x[1][1]),_()):l==null?null:[[l,u],[c,d]]},y.scale=function(x){return arguments.length?(n=+x,_()):n},y.translate=function(x){return arguments.length?(e=+x[0],t=+x[1],_()):[e,t]},y.angle=function(x){return arguments.length?(s=x%360*Qs,o=ai(s),a=wi(s),_()):s*Nl},y.reflectX=function(x){return arguments.length?(i=x?-1:1,_()):i<0},y.reflectY=function(x){return arguments.length?(r=x?-1:1,_()):r<0},y.fitExtent=function(x,w){return Xj(y,x,w)},y.fitSize=function(x,w){return Qq(y,x,w)},y.fitWidth=function(x,w){return Jq(y,x,w)},y.fitHeight=function(x,w){return eZ(y,x,w)},y}function Rke(n,e){var t=e*e,i=t*t;return[n*(.8707-.131979*t+i*(-.013791+i*(.003971*t-.001529*i))),e*(1.007226+t*(.015085+i*(-.044475+.028874*t-.005916*i)))]}Rke.invert=function(n,e){var t=e,i=25,r;do{var s=t*t,a=s*s;t-=r=(t*(1.007226+s*(.015085+a*(-.044475+.028874*s-.005916*a)))-e)/(1.007226+s*(.015085*3+a*(-.044475*7+.028874*9*s-.005916*11*a)))}while(Wr(r)>si&&--i>0);return[n/(.8707+(s=t*t)*(-.131979+s*(-.013791+s*s*s*(.003971-.001529*s)))),t]};function yzt(){return Xm(Rke).scale(175.295)}function Dke(n,e){return[wi(e)*ai(n),ai(e)]}Dke.invert=gM(Sh);function _zt(){return Xm(Dke).scale(249.5).clipAngle(90+si)}function Lke(n,e){var t=wi(e),i=1+wi(n)*t;return[t*ai(n)/i,ai(e)/i]}Lke.invert=gM(function(n){return 2*N1(n)});function bzt(){return Xm(Lke).scale(250).clipAngle(142)}function Fke(n,e){return[wF(Xq((ya+e)/2)),-n]}Fke.invert=function(n,e){return[-e,2*N1(ske(n))-ya]};function Szt(){var n=Pke(Fke),e=n.center,t=n.rotate;return n.center=function(i){return arguments.length?e([-i[1],i[0]]):(i=e(),[i[1],-i[0]])},n.rotate=function(i){return arguments.length?t([i[0],i[1],i.length>2?i[2]+90:90]):(i=t(),[i[0],i[1],i[2]-90])},t([0,0,90]).scale(159.155)}function xzt(n){return n}function wzt(n){if(n==null)return xzt;var e,t,i=n.scale[0],r=n.scale[1],s=n.translate[0],a=n.translate[1];return function(o,l){l||(e=t=0);var u=2,c=o.length,d=new Array(c);for(d[0]=(e+=o[0])*i+s,d[1]=(t+=o[1])*r+a;u<c;)d[u]=o[u],++u;return d}}function Czt(n,e){for(var t,i=n.length,r=i-e;r<--i;)t=n[r],n[r++]=n[i],n[i]=t}function Tzt(n,e){return typeof e=="string"&&(e=n.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(t){return sde(n,t)})}:sde(n,e)}function sde(n,e){var t=e.id,i=e.bbox,r=e.properties==null?{}:e.properties,s=Ezt(n,e);return t==null&&i==null?{type:"Feature",properties:r,geometry:s}:i==null?{type:"Feature",id:t,properties:r,geometry:s}:{type:"Feature",id:t,bbox:i,properties:r,geometry:s}}function Ezt(n,e){var t=wzt(n.transform),i=n.arcs;function r(c,d){d.length&&d.pop();for(var h=i[c<0?~c:c],f=0,p=h.length;f<p;++f)d.push(t(h[f],f));c<0&&Czt(d,p)}function s(c){return t(c)}function a(c){for(var d=[],h=0,f=c.length;h<f;++h)r(c[h],d);return d.length<2&&d.push(d[0]),d}function o(c){for(var d=a(c);d.length<4;)d.push(d[0]);return d}function l(c){return c.map(o)}function u(c){var d=c.type,h;switch(d){case"GeometryCollection":return{type:d,geometries:c.geometries.map(u)};case"Point":h=s(c.coordinates);break;case"MultiPoint":h=c.coordinates.map(s);break;case"LineString":h=a(c.arcs);break;case"MultiLineString":h=c.arcs.map(a);break;case"Polygon":h=l(c.arcs);break;case"MultiPolygon":h=c.arcs.map(l);break;default:return null}return{type:d,coordinates:h}}return u(e)}var Bke={exports:{}},$f=function(n,e){this.p1=n,this.p2=e};$f.prototype.rise=function(){return this.p2[1]-this.p1[1]};$f.prototype.run=function(){return this.p2[0]-this.p1[0]};$f.prototype.slope=function(){return this.rise()/this.run()};$f.prototype.yIntercept=function(){return this.p1[1]-this.p1[0]*this.slope(this.p1,this.p2)};$f.prototype.isVertical=function(){return!isFinite(this.slope())};$f.prototype.isHorizontal=function(){return this.p1[1]==this.p2[1]};$f.prototype._perpendicularDistanceHorizontal=function(n){return Math.abs(this.p1[1]-n[1])};$f.prototype._perpendicularDistanceVertical=function(n){return Math.abs(this.p1[0]-n[0])};$f.prototype._perpendicularDistanceHasSlope=function(n){var e=this.slope(),t=this.yIntercept();return Math.abs(e*n[0]-n[1]+t)/Math.sqrt(Math.pow(e,2)+1)};$f.prototype.perpendicularDistance=function(n){return this.isVertical()?this._perpendicularDistanceVertical(n):this.isHorizontal()?this._perpendicularDistanceHorizontal(n):this._perpendicularDistanceHasSlope(n)};var Azt=$f,kzt=Azt,Y8=function(n,e){for(var t=0,i=0,r=1;r<=n.length-2;r++){var s=new kzt(n[0],n[n.length-1]).perpendicularDistance(n[r]);s>t&&(i=r,t=s)}if(t>e)var a=Y8(n.slice(0,i),e),o=Y8(n.slice(i,n.length),e),l=a.concat(o);else n.length>1?l=[n[0],n[n.length-1]]:l=[n[0]];return l},Ozt=Y8;(function(n){var e=Ozt;n.exports=function(r,s,a){return a||(r=JSON.parse(JSON.stringify(r))),r.features?i(r,s):r.type&&r.type==="Feature"?t(r,s):new Error("FeatureCollection or individual Feature required")},n.exports.simplify=function(r,s){return e(r,s)};function t(r,s){var a=r.geometry,o=a.type;if(o==="LineString")a.coordinates=n.exports.simplify(a.coordinates,s);else if(o==="Polygon"||o==="MultiLineString")for(var l=0;l<a.coordinates.length;l++)a.coordinates[l]=n.exports.simplify(a.coordinates[l],s);else if(o==="MultiPolygon")for(var u=0;u<a.coordinates.length;u++)for(var c=0;c<a.coordinates[u].length;c++)a.coordinates[u][c]=n.exports.simplify(a.coordinates[u][c],s);return r}function i(r,s){for(var a=0;a<r.features.length;a++)r.features[a]=t(r.features[a],s);return r}})(Bke);var Pzt=Bke.exports;const Mzt=yn(Pzt),Zj=function(n,...e){return Rzt(Ul(n),...e)};function $ke(n,e,t){const i=e[t];if(i===void 0)n[t]=null;else if(pn(i)){pn(n[t])||(n[t]={});for(const r in i)$ke(n[t],i,r)}else n[t]=i}function Izt(n,e){if(pn(e)&&n!==e)for(const t in e)$ke(n,e,t)}function Rzt(n,...e){n||(n={});let t=-1;const i=e.length;for(;++t<i;)Izt(n,e[t]);return n}const Dzt={tolerance:.01},Lzt=(n,e)=>{const t=Zj(Dzt,e),{tolerance:i}=t;return Mzt(n,i)};var v0;(function(n){n.DSV="dsv",n.TREE="tree",n.GEO="geo",n.BYTE="bytejson",n.HEX="hex",n.GRAPH="graph",n.TABLE="table",n.GEO_GRATICULE="geo-graticule"})(v0||(v0={}));const Fzt=(n,e)=>{const{fields:t,key:i,value:r,retains:s}=e,a=[];for(let o=0;o<n.length;o++)t.forEach(l=>{const u={};if(u[i]=l,u[r]=n[o][l],s)s.forEach(c=>{u[c]=n[o][c]});else for(const c in n[o])t.indexOf(c)===-1&&(u[c]=n[o][c]);a.push(u)});return a},Nke=(n,e)=>{var t,i;if(!(e!=null&&e.fields)||n.length===0)return n;const r=e.fields,s=n[0],a={},o=[];for(const l in r)if(Object.prototype.hasOwnProperty.call(r,l)){const u=r[l];if(u.sort&&(Me(u.sortIndex)||(u.sortIndex=0),Y(u.sortReverse)||(u.sortReverse=u.sort==="desc")),!u.type){let d=s;l in s||(d=(t=n.find(h=>l in h))!==null&&t!==void 0?t:s),u.type=typeof d[l]=="number"?"linear":"ordinal"}let c;if(typeof u.sortIndex=="number"&&(c={key:l,type:u.type,index:u.sortIndex,sortIndex:{},sortIndexCount:0,sortReverse:u.sortReverse===!0},o.push(c)),((i=u.domain)===null||i===void 0?void 0:i.length)>0)if(u.type==="ordinal"){u._domainCache={},a[l]=u;const d={};u.domain.forEach((h,f)=>{d[h]=f,u._domainCache[h]=f}),c&&(c.sortIndex=d,c.sortIndexCount=u.domain.length)}else u.domain.length>=2&&(a[l]=u)}return Object.keys(a).length>0&&(n=n.filter(l=>{for(const u in a){const c=a[u];if(c.type==="ordinal"){if(!(l[u]in c._domainCache))return!1}else if(c.domain[0]>l[u]||c.domain[1]<l[u])return!1}return!0})),o.sort((l,u)=>l.index-u.index),n.sort((l,u)=>Bzt(l,u,o)),n};function Bzt(n,e,t){for(let i=0;i<t.length;i++){const r=t[i];let s=0;if(r.type==="ordinal"?(r.sortIndex[e[r.key]]===void 0&&(r.sortIndex[e[r.key]]=r.sortIndexCount++),r.sortIndex[n[r.key]]===void 0&&(r.sortIndex[n[r.key]]=r.sortIndexCount++),s=r.sortIndex[n[r.key]]-r.sortIndex[e[r.key]]):r.type==="linear"&&(s=n[r.key]-e[r.key]),r.sortReverse&&(s=-s),s!==0)return s}return 0}const ade=(n,e)=>{var t,i,r,s;const{numBins:a,thresholds:o,countName:l,percentageName:u,valuesName:c,countField:d,field:h,n:f,x0Name:p,x1Name:g}=e,m=e.groupField,v=Array.isArray(m)?m.length>0:!!m,_=[];if(!v)for(let P=0;P<a;P++){const I={[p]:o[P],[g]:o[P+1],[l]:0};e.includeValues&&(I[c]=[]),_.push(I)}const y=v?new Array(a).fill(0).map(()=>new Map):[],x=v?new Array(a).fill(0).map(()=>new Map):[],w=[],T=new Set,E=new Map;for(let P=0;P<f;P++){const I=n[P][h];if(I==null)continue;const D=+I;if(Number.isFinite(D))for(let L=0;L<a;L++){const B=o[L],F=o[L+1];if(D>=B&&D<F||L===a-1&&D<=F){const $=(t=n[P][d])!==null&&t!==void 0?t:1;if(v){let z;z=Oe(m)?m.map(H=>String(n[P][H])).join("||"):String(n[P][m]);const N=y[L],V=(i=N.get(z))!==null&&i!==void 0?i:0;if(N.set(z,V+$),T.has(z)||(T.add(z),w.push(z),Oe(m)?E.set(z,Object.fromEntries(m.map(H=>[H,n[P][H]]))):E.set(z,n[P][m])),e&&e.includeValues){const H=x[L];H.has(z)||H.set(z,[]);const K=H.get(z);K&&K.push(n[P])}}else _[L][l]+=$;e&&e.includeValues&&!v&&_[L][c].push(n[P]);break}}}let A=0;const k=[];if(v){for(let I=0;I<a;I++)for(const D of w){const L=(r=y[I].get(D))!==null&&r!==void 0?r:0,B={[p]:o[I],[g]:o[I+1],[l]:L},F=(s=E.get(D))!==null&&s!==void 0?s:{};if(Oe(m))for(const $ of m)B[$]=F[$];else m&&(B[m]=F);e&&e.includeValues&&(B[c]=x[I].get(D)||[]),k.push(B),A+=L}const P=A;for(const I of k)I[u]=P>0?I[l]/P:0}else{for(let P=0,I=_.length;P<I;P++)A+=_[P][l];for(let P=0,I=_.length;P<I;P++)_[P][u]=A>0?_[P][l]/A:0,k.push(_[P])}return k},$zt=(n,e)=>{var t,i,r,s,a,o,l,u,c,d;const h=e==null?void 0:e.field;if(!h)return[];const f=e.countField,p=n.length;let g,m=1/0,v=-1/0;if(e.extent)m=e.extent[0],v=e.extent[1];else for(let L=0;L<p;L++){const B=n[L][h];if(J(B))continue;const F=+B;Number.isFinite(F)&&(F<m&&(m=F),F>v&&(v=F))}if(!Number.isFinite(m)||!Number.isFinite(v)||p===0)return[];if(e.thresholds&&e.thresholds.length)g=e.thresholds.slice(),g.sort((L,B)=>L-B);else if(typeof e.step=="number"&&e.step>0){const L=e.step;let B=m;for(e.extent||(B=Math.floor(m/L)*L),g=[B];B<=v;)B+=L,g.push(B)}else{let L=e.bins&&e.bins>0?Math.floor(e.bins):10;if(v-m>1){const B=Math.floor(m),F=Math.ceil((v-B)/L);g=new Array(L+1);for(let $=0;$<=L;$++)if(g[$]=B+F*$,g[$]>v){L=$,g.length=L+1;break}}else{const B=(v-m)/L;g=new Array(L+1);for(let F=0;F<=L;F++)if(g[F]=m+B*F,g[F]>v){L=F,g.length=L+1;break}}}const _=Math.max(0,g.length-1);if(_===0)return[];const y=(i=(t=e.outputNames)===null||t===void 0?void 0:t.x0)!==null&&i!==void 0?i:"x0",x=(s=(r=e.outputNames)===null||r===void 0?void 0:r.x1)!==null&&s!==void 0?s:"x1",w=(o=(a=e.outputNames)===null||a===void 0?void 0:a.count)!==null&&o!==void 0?o:"count",T=(u=(l=e.outputNames)===null||l===void 0?void 0:l.values)!==null&&u!==void 0?u:"values",E=(d=(c=e.outputNames)===null||c===void 0?void 0:c.percentage)!==null&&d!==void 0?d:"percentage",A=Oe(e==null?void 0:e.facetField)?e==null?void 0:e.facetField:e!=null&&e.facetField?[e.facetField]:[],k=Oe(e==null?void 0:e.groupField)?e==null?void 0:e.groupField:e!=null&&e.groupField?[e.groupField]:[],P=k.length?k:void 0,I=Object.assign(Object.assign({},e),{numBins:_,thresholds:g,countName:w,percentageName:E,valuesName:T,countField:f,field:h,n:p,x0Name:y,x1Name:x,groupField:P});if(!A.length)return ade(n,I);const D={};return n.forEach(L=>{const B=A.map(F=>L==null?void 0:L[F]).join("-&&-");D[B]?D[B].push(L):D[B]=[L]}),Object.values(D).map(L=>{const B=[...k,...A];return ade(L,Object.assign(Object.assign({},I),{groupField:B.length?B:void 0,n:L.length}))}).flat()},Nzt=(n,e)=>{var t,i,r,s,a,o,l,u,c,d,h,f,p,g,m,v;const _=e==null?void 0:e.field;if(!_)return[];const y=e==null?void 0:e.groupField;let x=(t=e==null?void 0:e.whiskers)!==null&&t!==void 0?t:1.5;const w=!!(e!=null&&e.includeValues),T=(i=e==null?void 0:e.outputNames)!==null&&i!==void 0?i:{},E=(r=T.key)!==null&&r!==void 0?r:Oe(y)?null:(s=y)!==null&&s!==void 0?s:"key",A=(a=T.count)!==null&&a!==void 0?a:"count",k=(o=T.mean)!==null&&o!==void 0?o:"mean",P=(l=T.q1)!==null&&l!==void 0?l:"q1",I=(u=T.median)!==null&&u!==void 0?u:"median",D=(c=T.q3)!==null&&c!==void 0?c:"q3",L=(d=T.iqr)!==null&&d!==void 0?d:"iqr",B=(h=T.min)!==null&&h!==void 0?h:"min",F=(f=T.max)!==null&&f!==void 0?f:"max",$=(p=T.lowerWhisker)!==null&&p!==void 0?p:"lowerWhisker",z=(g=T.upperWhisker)!==null&&g!==void 0?g:"upperWhisker",N=(m=T.outliers)!==null&&m!==void 0?m:"outliers",V=(v=T.values)!==null&&v!==void 0?v:"values",H=new Map,K=new Map,U=new Map,X=n.length;for(let Q=0;Q<X;Q++){const se=n[Q],ae=se[_];if(J(ae))continue;const ue=+ae;if(!Number.isFinite(ue))continue;let oe;oe=Oe(y)?y.map(fe=>String(se[fe])).join("||"):y?String(se[y]):"___all",H.has(oe)||(H.set(oe,[]),w&&K.set(oe,[]),Oe(y)?U.set(oe,Object.fromEntries(y.map(fe=>[fe,se[fe]]))):U.set(oe,y?se[y]:null));const re=H.get(oe);if(re&&re.push(ue),w){const fe=K.get(oe);fe&&fe.push(se)}}Oe(x)&&(x=[ki(Math.min.apply(null,x),0,1),ki(Math.max.apply(null,x),0,1)]);const Z=[];for(const[Q,se]of H){if(!se||se.length===0)continue;const ae=se.slice().sort((ot,$e)=>ot-$e),ue=ae.length,oe=ae[0],re=ae[ae.length-1];let fe=0;for(let ot=0;ot<ae.length;ot++)fe+=ae[ot];const ve=fe/ue,xe=_x(ae,.25),ye=_x(ae,.5),Ee=_x(ae,.75),Se=Ee-xe,Fe=Oe(x)?_x(ae,x[0]):xe-x*Se,Ge=Oe(x)?_x(ae,x[1]):Ee+x*Se,Pe=[];for(let ot=0;ot<ae.length;ot++)(ae[ot]<Fe||ae[ot]>Ge)&&Pe.push(ae[ot]);const je={},qe=U.get(Q);if(E!==null)je[E]=qe;else if(Oe(y)){const ot=qe||{};for(const $e of y)je[$e]=ot[$e]}je[A]=ue,je[k]=ve,je[P]=xe,je[I]=ye,je[D]=Ee,je[L]=Se,je[B]=oe,je[F]=re,je[$]=Fe,je[z]=Ge,je[N]=Pe,w&&(je[V]=K.get(Q)||[]),Z.push(je)}return Z};var ode={},L4={},F4=34,rE=10,B4=13;function jke(n){return new Function("d","return {"+n.map(function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'}).join(",")+"}")}function jzt(n,e){var t=jke(n);return function(i,r){return e(t(i),r,n)}}function lde(n){var e=Object.create(null),t=[];return n.forEach(function(i){for(var r in i)r in e||t.push(e[r]=r)}),t}function Qu(n,e){var t=n+"",i=t.length;return i<e?new Array(e-i+1).join(0)+t:t}function zzt(n){return n<0?"-"+Qu(-n,6):n>9999?"+"+Qu(n,6):Qu(n,4)}function Hzt(n){var e=n.getUTCHours(),t=n.getUTCMinutes(),i=n.getUTCSeconds(),r=n.getUTCMilliseconds();return isNaN(n)?"Invalid Date":zzt(n.getUTCFullYear())+"-"+Qu(n.getUTCMonth()+1,2)+"-"+Qu(n.getUTCDate(),2)+(r?"T"+Qu(e,2)+":"+Qu(t,2)+":"+Qu(i,2)+"."+Qu(r,3)+"Z":i?"T"+Qu(e,2)+":"+Qu(t,2)+":"+Qu(i,2)+"Z":t||e?"T"+Qu(e,2)+":"+Qu(t,2)+"Z":"")}function nZ(n){var e=new RegExp('["'+n+`
\r]`),t=n.charCodeAt(0);function i(d,h){var f,p,g=r(d,function(m,v){if(f)return f(m,v-1);p=m,f=h?jzt(m,h):jke(m)});return g.columns=p||[],g}function r(d,h){var f=[],p=d.length,g=0,m=0,v,_=p<=0,y=!1;d.charCodeAt(p-1)===rE&&--p,d.charCodeAt(p-1)===B4&&--p;function x(){if(_)return L4;if(y)return y=!1,ode;var T,E=g,A;if(d.charCodeAt(E)===F4){for(;g++<p&&d.charCodeAt(g)!==F4||d.charCodeAt(++g)===F4;);return(T=g)>=p?_=!0:(A=d.charCodeAt(g++))===rE?y=!0:A===B4&&(y=!0,d.charCodeAt(g)===rE&&++g),d.slice(E+1,T-1).replace(/""/g,'"')}for(;g<p;){if((A=d.charCodeAt(T=g++))===rE)y=!0;else if(A===B4)y=!0,d.charCodeAt(g)===rE&&++g;else if(A!==t)continue;return d.slice(E,T)}return _=!0,d.slice(E,p)}for(;(v=x())!==L4;){for(var w=[];v!==ode&&v!==L4;)w.push(v),v=x();h&&(w=h(w,m++))==null||f.push(w)}return f}function s(d,h){return d.map(function(f){return h.map(function(p){return c(f[p])}).join(n)})}function a(d,h){return h==null&&(h=lde(d)),[h.map(c).join(n)].concat(s(d,h)).join(`
`)}function o(d,h){return h==null&&(h=lde(d)),s(d,h).join(`
`)}function l(d){return d.map(u).join(`
`)}function u(d){return d.map(c).join(n)}function c(d){return d==null?"":d instanceof Date?Hzt(d):e.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:i,parseRows:r,format:a,formatBody:o,formatRows:l,formatRow:u,formatValue:c}}var Vzt=nZ(","),Wzt=Vzt.parse,Uzt=nZ("	"),Gzt=Uzt.parse;const Yzt={delimiter:","},Kzt=(n,e={},t)=>{t.type=v0.DSV;const i=Zj(Yzt,e),{delimiter:r}=i;if(!Jt(r))throw new TypeError("Invalid delimiter: must be a string!");return nZ(r).parse(n)},Xzt=(n,e={},t)=>(t.type=v0.DSV,Wzt(n)),qzt=(n,e={},t)=>(t.type=v0.DSV,Gzt(n));function Zzt(n){if(!n)throw new Error("geojson is required");switch(n.type){case"Feature":return zke(n);case"FeatureCollection":return Qzt(n);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return iZ(n);default:throw new Error("unknown GeoJSON type")}}function zke(n){var e={type:"Feature"};return Object.keys(n).forEach(function(t){switch(t){case"type":case"properties":case"geometry":return;default:e[t]=n[t]}}),e.properties=Hke(n.properties),e.geometry=iZ(n.geometry),e}function Hke(n){var e={};return n&&Object.keys(n).forEach(function(t){var i=n[t];typeof i=="object"?i===null?e[t]=null:Array.isArray(i)?e[t]=i.map(function(r){return r}):e[t]=Hke(i):e[t]=i}),e}function Qzt(n){var e={type:"FeatureCollection"};return Object.keys(n).forEach(function(t){switch(t){case"type":case"features":return;default:e[t]=n[t]}}),e.features=n.features.map(function(t){return zke(t)}),e}function iZ(n){var e={type:n.type};return n.bbox&&(e.bbox=n.bbox),n.type==="GeometryCollection"?(e.geometries=n.geometries.map(function(t){return iZ(t)}),e):(e.coordinates=Vke(n.coordinates),e)}function Vke(n){var e=n;return typeof e[0]!="object"?e.slice():e.map(function(t){return Vke(t)})}function NE(n){if(Array.isArray(n))return n;if(n.type==="Feature"){if(n.geometry!==null)return n.geometry.coordinates}else if(n.coordinates)return n.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function K8(n){for(var e=NE(n),t=0,i=1,r,s;i<e.length;)r=s||e[0],s=e[i],t+=(s[0]-r[0])*(s[1]+r[1]),i++;return t>0}function ude(n,e){if(n.type==="Feature")e(n,0);else if(n.type==="FeatureCollection")for(var t=0;t<n.features.length&&e(n.features[t],t)!==!1;t++);}function rZ(n,e){var t,i,r,s,a,o,l,u,c,d,h=0,f=n.type==="FeatureCollection",p=n.type==="Feature",g=f?n.features.length:1;for(t=0;t<g;t++){for(o=f?n.features[t].geometry:p?n.geometry:n,u=f?n.features[t].properties:p?n.properties:{},c=f?n.features[t].bbox:p?n.bbox:void 0,d=f?n.features[t].id:p?n.id:void 0,l=o?o.type==="GeometryCollection":!1,a=l?o.geometries.length:1,r=0;r<a;r++){if(s=l?o.geometries[r]:o,s===null){if(e(null,h,u,c,d)===!1)return!1;continue}switch(s.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(e(s,h,u,c,d)===!1)return!1;break}case"GeometryCollection":{for(i=0;i<s.geometries.length;i++)if(e(s.geometries[i],h,u,c,d)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}h++}}function Jzt(n,e){rZ(n,function(t,i,r,s,a){var o=t===null?null:t.type;switch(o){case null:case"Point":case"LineString":case"Polygon":return e(Bce(t,r,{bbox:s,id:a}),i,0)===!1?!1:void 0}var l;switch(o){case"MultiPoint":l="Point";break;case"MultiLineString":l="LineString";break;case"MultiPolygon":l="Polygon";break}for(var u=0;u<t.coordinates.length;u++){var c=t.coordinates[u],d={type:l,coordinates:c};if(e(Bce(d,r),i,u)===!1)return!1}})}function eHt(n,e){if(e=e||{},!yjt(e))throw new Error("options is invalid");var t=e.reverse||!1,i=e.mutate||!1;if(!n)throw new Error("<geojson> is required");if(typeof t!="boolean")throw new Error("<reverse> must be a boolean");if(typeof i!="boolean")throw new Error("<mutate> must be a boolean");i===!1&&(n=Zzt(n));var r=[];switch(n.type){case"GeometryCollection":return rZ(n,function(s){G2(s,t)}),n;case"FeatureCollection":return ude(n,function(s){ude(G2(s,t),function(a){r.push(a)})}),nke(r)}return G2(n,t)}function G2(n,e){var t=n.type==="Feature"?n.geometry.type:n.type;switch(t){case"GeometryCollection":return rZ(n,function(i){G2(i,e)}),n;case"LineString":return cde(NE(n),e),n;case"Polygon":return dde(NE(n),e),n;case"MultiLineString":return NE(n).forEach(function(i){cde(i,e)}),n;case"MultiPolygon":return NE(n).forEach(function(i){dde(i,e)}),n;case"Point":case"MultiPoint":return n}}function cde(n,e){K8(n)===e&&n.reverse()}function dde(n,e){K8(n[0])!==e&&n[0].reverse();for(var t=1;t<n.length;t++)K8(n[t])===e&&n[t].reverse()}function tHt(n){if(!n)throw new Error("geojson is required");var e=[];return Jzt(n,function(t){e.push(t)}),nke(e)}const hde=qq(),Wke={centroid:!1,name:!1,bbox:!1,rewind:!1},fde=n=>{if(n.geometry.type.startsWith("Multi")){const e=tHt(n).features[0];return Object.assign(Object.assign({},e),e.properties)}return Object.assign(Object.assign({},n),n.properties)},nHt=n=>{const e=[];return n.forEach(t=>{t.type==="FeatureCollection"?t.features.forEach(i=>{e.push(fde(i))}):e.push(fde(t))}),e},Uke=(n,e={},t)=>{t.type=v0.GEO;const i=Zj(Wke,e),{centroid:r,name:s,bbox:a,rewind:o}=i;if(Array.isArray(n))return nHt(n);let l=n.features;return o&&(l=eHt(n,{reverse:!pn(o)||o.reverse}).features),l.forEach(u=>{if(r){const c=hde.centroid(u);u.centroidX=c[0],u.centroidY=c[1]}if(s&&(u.name=u.properties.name),a){const c=hde.bounds(u);u.bbox=c}}),n.features=l,n},iHt={},rHt=(n,e,t)=>{t.type=v0.GEO;const i=Zj(Wke,iHt,e),{object:r}=i;if(!Jt(r))throw new TypeError("Invalid object: must be a string!");const s=Tzt(n,n.objects[r]);return Uke(s,i,t)},Qj=(n,e,t)=>{const i=!Va(e==null?void 0:e.dependencyUpdate)||(e==null?void 0:e.dependencyUpdate);if(!n||!Oe(n))throw new TypeError("Invalid data: must be DataView array!");return Oe(t.rawData)&&t.rawData.forEach(r=>{r.target&&(r.target.removeListener("change",t.reRunAllTransform),r.target.removeListener("markRunning",t.markRunning))}),i&&n.forEach(r=>{r.target.addListener("change",t.reRunAllTransform),r.target.addListener("markRunning",t.markRunning)}),n};let $4=0;const sHt=1e8;function Gke(n="dataset"){return $4>sHt&&($4=0),n+"_"+$4++}class y0{constructor(e){var t;let i;this.options=e,this.isDataSet=!0,this.transformMap={},this.parserMap={},this.dataViewMap={},this.target=new i_,i=e!=null&&e.name?e.name:Gke("dataset"),this.name=i,this._logger=(t=e==null?void 0:e.logger)!==null&&t!==void 0?t:yi.getInstance()}setLogger(e){this._logger=e}getDataView(e){return this.dataViewMap[e]}setDataView(e,t){var i;this.dataViewMap[e]&&((i=this._logger)===null||i===void 0||i.error(`Error: dataView ${e} `)),this.dataViewMap[e]=t}removeDataView(e){this.dataViewMap[e]=null,delete this.dataViewMap[e]}registerParser(e,t){var i;this.parserMap[e]&&((i=this._logger)===null||i===void 0||i.warn(`Warn: transform ${e} `)),this.parserMap[e]=t}removeParser(e){this.parserMap[e]=null,delete this.parserMap[e]}getParser(e){return this.parserMap[e]||this.parserMap.default}registerTransform(e,t){var i;this.transformMap[e]&&((i=this._logger)===null||i===void 0||i.warn(`Warn: transform ${e} `)),this.transformMap[e]=t}removeTransform(e){this.transformMap[e]=null,delete this.transformMap[e]}getTransform(e){return this.transformMap[e]}multipleDataViewAddListener(e,t,i){this._callMap||(this._callMap=new Map);let r=this._callMap.get(i);r||(r=()=>{e.some(s=>s.isRunning)||i()}),e.forEach(s=>{s.target.addListener(t,r)}),this._callMap.set(i,r)}allDataViewAddListener(e,t){this.multipleDataViewAddListener(Object.values(this.dataViewMap),e,t)}multipleDataViewRemoveListener(e,t,i){if(this._callMap){const r=this._callMap.get(i);r&&e.forEach(s=>{s.target.removeListener(t,r)}),this._callMap.delete(i)}}multipleDataViewUpdateInParse(e){e.forEach(t=>{var i;return(i=this.getDataView(t.name))===null||i===void 0?void 0:i.markRunning()}),e.forEach(t=>{var i;return(i=this.getDataView(t.name))===null||i===void 0?void 0:i.parseNewData(t.data,t.options)})}multipleDataViewUpdateInRawData(e){e.forEach(t=>{var i;return(i=this.getDataView(t.name))===null||i===void 0?void 0:i.markRunning()}),e.forEach(t=>{var i;return(i=this.getDataView(t.name))===null||i===void 0?void 0:i.updateRawData(t.data,t.options)})}destroy(){this.transformMap=null,this.parserMap=null,this.dataViewMap=null,this._callMap=null,this.target.removeAllListeners()}}class Pi{constructor(e,t){let i;this.dataSet=e,this.options=t,this.isDataView=!0,this.target=new i_,this.parseOption=null,this.transformsArr=[],this.isRunning=!1,this.rawData={},this.history=!1,this.parserData={},this.latestData={},this._fields=null,this.reRunAllTransform=(r={})=>{const s=this.latestData;return this.isRunning=!0,this.resetTransformData(),this.transformsArr.forEach(a=>{this.executeTransform(a,{pushHistory:r.pushHistory,emitMessage:!1})}),this.isRunning=!1,r.emitMessage===!1||r.skipEqual&&Oi(s,this.latestData)||this.target.emit("change",{latestData:this.latestData}),this},this.markRunning=()=>{this.isRunning=!0,this.target.emit("markRunning",[])},i=t!=null&&t.name?t.name:Gke("dataview"),this.name=i,t!=null&&t.history&&(this.history=t.history,this.historyData=[]),this.dataSet.setDataView(i,this),this.setFields(t==null?void 0:t.fields)}parse(e,t,i=!1){var r;this.isRunning=!0,i&&this.target.emit("beforeParse",[]),t&&(this.parseOption=t);const s=this.cloneParseData(e,t);if(t!=null&&t.type){const a=((r=this.dataSet.getParser(t.type))!==null&&r!==void 0?r:this.dataSet.getParser("bytejson"))(s,t.options,this);this.rawData=s,this.parserData=a,this.history&&this.historyData.push(s,a),this.latestData=a}else this.parserData=s,this.rawData=s,this.history&&this.historyData.push(s),this.latestData=s;return this.isRunning=!1,i&&this.target.emit("afterParse",[]),this}transform(e,t=!0){if(this.isRunning=!0,e&&e.type){let i=!0;if(e.type==="fields"){this._fields=e.options.fields;const r=this.transformsArr.findIndex(s=>s.type===e.type);r>=0&&(i=!1,this.transformsArr[r].options.fields=this._fields)}i&&this.transformsArr.push(e),t&&this.executeTransform(e)}return this.sortTransform(),this.isRunning=!1,this}sortTransform(){this.transformsArr.length>=2&&this.transformsArr.sort((e,t)=>{var i,r;return((i=e.level)!==null&&i!==void 0?i:0)-((r=t.level)!==null&&r!==void 0?r:0)})}executeTransform(e,t={}){const{pushHistory:i,emitMessage:r,skipEqual:s}=t,a=this.dataSet.getTransform(e.type),o=this.latestData,l=a(o,e.options);this.history&&i!==!1&&this.historyData.push(l),this.latestData=l,r===!1||s&&Oi(o,this.latestData)||this.target.emit("change",{latestData:this.latestData})}resetTransformData(){this.latestData=this.parserData,this.history&&(this.historyData.length=0,this.historyData.push(this.rawData,this.parserData))}cloneParseData(e,t){let i=!1;return e instanceof Pi||(t==null?void 0:t.clone)!==!0||(i=!0),i?Ul(e):e}parseNewData(e,t){this.parse(e,t||this.parseOption),this.reRunAllTransform()}updateRawData(e,t){const i=this.cloneParseData(e,t);this.rawData=i,this.parserData=i,this.latestData=i,this.reRunAllTransform()}getFields(){var e;return this._fields?this._fields:((e=this.parseOption)===null||e===void 0?void 0:e.type)==="dataview"&&this.rawData.length===1&&this.rawData[0].getFields?this.rawData[0].getFields():null}setFields(e,t=!1){this._fields=e&&t?We({},this._fields,e):e;const i=this.transformsArr.find(r=>r.type==="fields");!J(this._fields)&&J(i)?(this.dataSet.registerTransform("fields",Nke),this.transform({type:"fields",options:{fields:this._fields}},!1)):i&&(i.options.fields=this._fields)}destroy(){this.dataSet.removeDataView(this.name),this.latestData=null,this.rawData=null,this.parserData=null,this.transformsArr=null,this.target=null}}qq();const N4={},pde={albers:Eke,albersusa:szt,azimuthalequalarea:azt,azimuthalequidistant:ozt,conicconformal:czt,conicequalarea:MF,conicequidistant:fzt,equalearth:gzt,equirectangular:dzt,gnomonic:mzt,identity:vzt,mercator:lzt,naturalearth1:yzt,orthographic:_zt,stereographic:bzt,transversemercator:Szt},aHt=["clipAngle","clipExtent","scale","translate","center","rotate","precision","reflectX","reflectY","parallels","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function gde(n,e){return function t(){const i=e();return i.type=n,i.path=qq().projection(i),i.copy=i.copy||function(){const r=t();return aHt.forEach(s=>{i[s]&&r[s](i[s]())}),r.path.pointRadius(i.path.pointRadius()),r},i}}function oHt(n,e){const t=n.toLowerCase();return arguments.length>1?gde(t,e):pde[t]?(N4[t]||(N4[t]=gde(t,pde[t])),N4[t]):null}class aa{static GenAutoIncrementId(){return aa.auto_increment_id++}}aa.auto_increment_id=0;class Pn{constructor(e){this.id=aa.GenAutoIncrementId(),this.registry=e}}const Jj="named",Yke="inject",Kke="multi_inject",Xke="inversify:tagged",qke="inversify:paramtypes";class sZ{constructor(e,t){this.key=e,this.value=t}toString(){return this.key===Jj?`named: ${String(this.value).toString()} `:`tagged: { key:${this.key.toString()}, value: ${String(this.value)} }`}}const Dw=function(n){var e;return function(t){const i=typeof Symbol=="function",r=i&&Symbol.toPrimitive!==void 0?Symbol.toPrimitive:"@@toPrimitive",s=Object.getPrototypeOf(Function),a=Map,o=new WeakMap;function l(F,$,z,N){if(!T(z))throw new TypeError;return v(F,$,z,N)}function u(F,$,z){if(!T($))throw new TypeError;return y(z)||(z=I(z)),f(F,$,z)}function c(F,$,z){if(!T($))throw new TypeError;return y(z)||(z=I(z)),p(F,$,z)}function d(F,$,z){if(!T($))throw new TypeError;return y(z)||(z=I(z)),g(F,$,z)}function h(F,$,z){let N=o.get(F);if(y(N)){if(!z)return;N=new a,o.set(F,N)}let V=N.get($);if(y(V)){if(!z)return;V=new a,N.set($,V)}return V}function f(F,$,z){if(p(F,$,z))return!0;const N=B($);return!x(N)&&f(F,N,z)}function p(F,$,z){const N=h($,z,!1);return!y(N)&&k(N.has(F))}function g(F,$,z){if(p(F,$,z))return m(F,$,z);const N=B($);return x(N)?void 0:g(F,N,z)}function m(F,$,z){const N=h($,z,!1);if(!y(N))return N.get(F)}function v(F,$,z,N){h(z,N,!0).set(F,$)}function _(F){if(F===null)return 1;switch(typeof F){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return F===null?1:6;default:return 6}}function y(F){return F===void 0}function x(F){return F===null}function w(F){return typeof F=="symbol"}function T(F){return typeof F=="object"?F!==null:typeof F=="function"}function E(F,$){switch(_(F)){case 0:case 1:case 2:case 3:case 4:case 5:return F}const z="string",N=L(F,r);if(N!==void 0){const V=N.call(F,z);if(T(V))throw new TypeError;return V}return A(F)}function A(F,$){{const z=F.toString;if(D(z)){const V=z.call(F);if(!T(V))return V}const N=F.valueOf;if(D(N)){const V=N.call(F);if(!T(V))return V}}throw new TypeError}function k(F){return!!F}function P(F){return""+F}function I(F){const $=E(F);return w($)?$:P($)}function D(F){return typeof F=="function"}function L(F,$){const z=F[$];if(z!=null){if(!D(z))throw new TypeError;return z}}function B(F){const $=Object.getPrototypeOf(F);if(typeof F!="function"||F===s||$!==s)return $;const z=F.prototype,N=z&&Object.getPrototypeOf(z);if(N==null||N===Object.prototype)return $;const V=N.constructor;return typeof V!="function"||V===F?$:V}t("defineMetadata",l),t("hasMetadata",u),t("hasOwnMetadata",c),t("getMetadata",d)}((e=n,function(t,i){typeof e[t]!="function"&&Object.defineProperty(e,t,{configurable:!0,writable:!0,value:i})})),n}({});function lHt(n,e,t,i){const r=[i];let s={};Dw.hasOwnMetadata(n,e)&&(s=Dw.getMetadata(n,e));let a=s[t];a===void 0&&(a=[]),a.push(...r),s[t]=a,Dw.defineMetadata(n,s,e)}function uHt(n,e,t,i){lHt(Xke,n,t.toString(),i)}function Zke(n){return(e,t,i)=>{uHt(e,t,i,n)}}function Qke(n){return e=>(t,i,r)=>Zke(new sZ(n,e))(t,i,r)}const Vn=Qke(Yke),Jke=Qke(Kke);function Nt(){return function(n){return Dw.defineMetadata(qke,null,n),n}}function Ha(n){return Zke(new sZ(Jj,n))}const _0={Singleton:"Singleton",Transient:"Transient"},hy={ConstantValue:"ConstantValue",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid"};class aZ{constructor(e,t){this.id=aa.GenAutoIncrementId(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=hy.Invalid,this.constraint=i=>!0,this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.dynamicValue=null}clone(){const e=new aZ(this.serviceIdentifier,this.scope);return e.activated=e.scope===_0.Singleton&&this.activated,e.implementationType=this.implementationType,e.dynamicValue=this.dynamicValue,e.scope=this.scope,e.type=this.type,e.provider=this.provider,e.constraint=this.constraint,e.cache=this.cache,e}}class cHt{getConstructorMetadata(e){return{compilerGeneratedMetadata:Dw.getMetadata(qke,e),userGeneratedMetadata:Dw.getMetadata(Xke,e)||{}}}getPropertiesMetadata(e){throw new Error("")}}const dHt=n=>e=>{const t=i=>{if(i==null)return!1;if(i.key===n&&i.value===e)return!0;if(i.constructorArgsMetadata==null)return!1;const r=i.constructorArgsMetadata;for(let s=0;s<r.length;s++)if(r[s].key===n&&r[s].value===e)return!0;return!1};return t.metaData=new sZ(n,e),t},hHt=dHt(Jj);class gD{constructor(e){this._binding=e}inRequestScope(){throw new Error("")}inSingletonScope(){return this._binding.scope=_0.Singleton,this}inTransientScope(){return this._binding.scope=_0.Transient,this}whenTargetNamed(e){return this._binding.constraint=hHt(e),this}}class fHt{constructor(e){this._binding=e}to(e){return this._binding.type=hy.Instance,this._binding.implementationType=e,new gD(this._binding)}toSelf(){const e=this._binding.serviceIdentifier;return this.to(e)}toDynamicValue(e){return this._binding.type=hy.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new gD(this._binding)}toConstantValue(e){return this._binding.type=hy.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=_0.Singleton,new gD(this._binding)}toFactory(e){return this._binding.type=hy.Factory,this._binding.factory=e,this._binding.scope=_0.Singleton,new gD(this._binding)}toService(e){this.toDynamicValue(t=>t.container.get(e))}}class pHt{constructor(e){const t=e||{};t.defaultScope=t.defaultScope||_0.Transient,this.options=t,this.id=aa.GenAutoIncrementId(),this._bindingDictionary=new Map,this._metadataReader=new cHt}load(e){const t=this._getContainerModuleHelpersFactory()(e.id);e.registry(t.bindFunction,t.unbindFunction,t.isboundFunction,t.rebindFunction)}get(e){const t=this._getNotAllArgs(e,!1);return this._get(t)}getAll(e){const t=this._getAllArgs(e);return this._get(t)}getTagged(e,t,i){const r=this._getNotAllArgs(e,!1,t,i);return this._get(r)}getNamed(e,t){return this.getTagged(e,Jj,t)}isBound(e){return this._bindingDictionary.has(e)}bind(e){const t=this.options.defaultScope,i=new aZ(e,t),r=this._bindingDictionary.get(e)||[];return r.push(i),this._bindingDictionary.set(e,r),new fHt(i)}unbind(e){this._bindingDictionary.delete(e)}rebind(e){return this.unbind(e),this.bind(e)}_getContainerModuleHelpersFactory(){const e=(a,o)=>{a._binding.moduleId=o},t=a=>o=>{const l=this.bind(o);return e(l,a),l},i=()=>a=>this.unbind(a),r=()=>a=>this.isBound(a),s=a=>o=>{const l=this.rebind(o);return e(l,a),l};return a=>({bindFunction:t(a),isboundFunction:r(),rebindFunction:s(a),unbindFunction:i(),unbindAsyncFunction:o=>null})}_getNotAllArgs(e,t,i,r){return{avoidConstraints:!1,isMultiInject:t,serviceIdentifier:e,key:i,value:r}}_getAllArgs(e){return{avoidConstraints:!0,isMultiInject:!0,serviceIdentifier:e}}_get(e){const t=[];return this._bindingDictionary.get(e.serviceIdentifier).filter(i=>i.constraint(e)).forEach(i=>{t.push(this._resolveFromBinding(i))}),e.isMultiInject||t.length!==1?t:t[0]}_getChildRequest(e){const t=e.implementationType,{userGeneratedMetadata:i}=this._metadataReader.getConstructorMetadata(t),r=Object.keys(i),s=[];for(let a=0;a<r.length;a++){const o=i[a],l={};o.forEach(f=>{l[f.key]=f.value});const u={inject:l[Yke],multiInject:l[Kke]},c=u.inject||u.multiInject,d={serviceIdentifier:c,constructorArgsMetadata:o},h=(this._bindingDictionary.get(c)||[]).filter(f=>f.constraint(d));if(h.length){const f={injectIdentifier:c,metadata:o,bindings:h};s.push(f)}}return s}_resolveFromBinding(e){const t=this._getResolvedFromBinding(e);return this._saveToScope(e,t),t}_getResolvedFromBinding(e){let t;switch(e.type){case hy.ConstantValue:case hy.Function:t=e.cache;break;case hy.Instance:t=this._resolveInstance(e,e.implementationType);break;default:t=e.dynamicValue({container:this})}return t}_resolveInstance(e,t){if(e.activated)return e.cache;const i=this._getChildRequest(e);return this._createInstance(t,i)}_createInstance(e,t){return t.length?new e(...this._resolveRequests(t)):new e}_resolveRequests(e){return e.map(t=>t.bindings.length>1?t.bindings.map(i=>this._resolveFromBinding(i)):this._resolveFromBinding(t.bindings[0]))}_saveToScope(e,t){e.scope===_0.Singleton&&(e.cache=t,e.activated=!0)}}const ia=Symbol("ContributionProvider");class eOe{constructor(e,t){this.serviceIdentifier=e,this.container=t,tOe.setStore(this.serviceIdentifier,this)}getContributions(){return this.caches||(this.caches=[],this.container&&this.container.isBound(this.serviceIdentifier)&&this.caches.push(...this.container.getAll(this.serviceIdentifier))),this.caches}refresh(){this.caches&&(this.caches.length=0,this.container&&this.container.isBound(this.serviceIdentifier)&&this.caches.push(...this.container.getAll(this.serviceIdentifier)))}}function Wo(n,e){n(ia).toDynamicValue(({container:t})=>new eOe(e,t)).inSingletonScope().whenTargetNamed(e)}function gHt(n,e){n(ia).toDynamicValue(({container:t})=>new eOe(e,t)).whenTargetNamed(e)}class tOe{static getStore(e){return this.store.get(e)}static setStore(e,t){this.store.set(e,t)}static refreshAllContributions(){this.store.forEach(e=>{e.refresh()})}}tOe.store=new Map;class mHt{constructor(e,t){this._args=e,this.name=t,this.taps=[]}tap(e,t){this._tap("sync",e,t)}unTap(e,t){const i=typeof e=="string"?e.trim():e.name;i&&(this.taps=this.taps.filter(r=>!(r.name===i&&(!t||r.fn===t))))}_parseOptions(e,t,i){let r;if(typeof t=="string")r={name:t.trim()};else if(typeof t!="object"||t===null)throw new Error("Invalid tap options");if(typeof r.name!="string"||r.name==="")throw new Error("Missing name for tap");return r=Object.assign({type:e,fn:i},r),r}_tap(e,t,i){this._insert(this._parseOptions(e,t,i))}_insert(e){let t;typeof e.before=="string"?t=new Set([e.before]):Array.isArray(e.before)&&(t=new Set(e.before));let i=0;typeof e.stage=="number"&&(i=e.stage);let r=this.taps.length;for(;r>0;){r--;const s=this.taps[r];this.taps[r+1]=s;const a=s.stage||0;if(t){if(t.has(s.name)){t.delete(s.name);continue}if(t.size>0)continue}if(!(a>i)){r++;break}}this.taps[r]=e}}class jl extends mHt{call(...e){this.taps.map(t=>t.fn).forEach(t=>t(...e))}}const ez=Symbol.for("EnvContribution"),oZ=Symbol.for("VGlobal"),Tn=new pHt,lZ=Symbol.for("RenderService");class vHt{get renderService(){return this._renderService||(this._renderService=Tn.get(lZ)),this._renderService}}const lt=new vHt;let mde=0;class nOe{constructor(){this.nextAnimationFrameCbs=new Map,this._rafHandle=null,this.runAnimationFrame=e=>{this._rafHandle=null;const t=this.nextAnimationFrameCbs;this.nextAnimationFrameCbs=new Map,t.forEach(i=>i(e))},this.tryRunAnimationFrameNextFrame=()=>{this._rafHandle===null&&this.nextAnimationFrameCbs.size!==0&&(this._rafHandle=lt.global.getRequestAnimationFrame()(this.runAnimationFrame))}}addAnimationFrameCb(e){return this.nextAnimationFrameCbs.set(++mde,e),this.tryRunAnimationFrameNextFrame(),mde}removeAnimationFrameCb(e){return!!this.nextAnimationFrameCbs.has(e)&&(this.nextAnimationFrameCbs.delete(e),!0)}}class iOe{constructor(){this._listenerMap=new Map,this._eventListenerTransformer=e=>e}setEventListenerTransformer(e){this._eventListenerTransformer=e||(t=>t)}addEventListener(e,t,i){if(!t)return;const r=s=>{const a=this._eventListenerTransformer(s);typeof t=="function"?t(a):t.handleEvent&&t.handleEvent(a)};this._listenerMap.has(e)||this._listenerMap.set(e,new Map),this._listenerMap.get(e).set(t,r),this._nativeAddEventListener(e,r,i)}removeEventListener(e,t,i){var r;if(!t)return;const s=(r=this._listenerMap.get(e))===null||r===void 0?void 0:r.get(t);s&&(this._nativeRemoveEventListener(e,s,i),this._listenerMap.get(e).delete(t),this._listenerMap.get(e).size===0&&this._listenerMap.delete(e))}dispatchEvent(e){return this._nativeDispatchEvent(e)}clearAllEventListeners(){this._listenerMap.forEach((e,t)=>{e.forEach((i,r)=>{this._nativeRemoveEventListener(t,i,void 0)})}),this._listenerMap.clear()}_nativeAddEventListener(e,t,i){throw new Error("_nativeAddEventListener must be implemented by derived classes")}_nativeRemoveEventListener(e,t,i){throw new Error("_nativeRemoveEventListener must be implemented by derived classes")}_nativeDispatchEvent(e){throw new Error("_nativeDispatchEvent must be implemented by derived classes")}}var yHt=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},_Ht=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},vde=function(n,e){return function(t,i){e(t,i,n)}},bHt=function(n,e,t,i){return new(t||(t=Promise))(function(r,s){function a(u){try{l(i.next(u))}catch(c){s(c)}}function o(u){try{l(i.throw(u))}catch(c){s(c)}}function l(u){var c;u.done?r(u.value):(c=u.value,c instanceof t?c:new t(function(d){d(c)})).then(a,o)}l((i=i.apply(n,e||[])).next())})};let X8=class extends iOe{get env(){return this._env}get isImageAnonymous(){return this._isImageAnonymous}set isImageAnonymous(n){this._isImageAnonymous=n}get devicePixelRatio(){return this._env||this.setEnv("browser"),this.envContribution.getDevicePixelRatio()}get supportEvent(){return this._env||this.setEnv("browser"),this.envContribution.supportEvent}set supportEvent(n){this._env||this.setEnv("browser"),this.envContribution.supportEvent=n}get supportsTouchEvents(){return this._env||this.setEnv("browser"),this.envContribution.supportsTouchEvents}set supportsTouchEvents(n){this._env||this.setEnv("browser"),this.envContribution.supportsTouchEvents=n}get supportsPointerEvents(){return this._env||this.setEnv("browser"),this.envContribution.supportsPointerEvents}set supportsPointerEvents(n){this._env||this.setEnv("browser"),this.envContribution.supportsPointerEvents=n}get supportsMouseEvents(){return this._env||this.setEnv("browser"),this.envContribution.supportsMouseEvents}set supportsMouseEvents(n){this._env||this.setEnv("browser"),this.envContribution.supportsMouseEvents=n}get applyStyles(){return this._env||this.setEnv("browser"),this.envContribution.applyStyles}set applyStyles(n){this._env||this.setEnv("browser"),this.envContribution.applyStyles=n}constructor(n){super(),this.contributions=n,this._isImageAnonymous=!0,this._performanceRAFList=[],this.eventListenerTransformer=e=>e,this.id=aa.GenAutoIncrementId(),this.hooks={onSetEnv:new jl(["lastEnv","env","global"])},this.measureTextMethod="native",this.optimizeVisible=!1}_nativeAddEventListener(n,e,t){return this._env||this.setEnv("browser"),this.envContribution.addEventListener(n,e,t)}_nativeRemoveEventListener(n,e,t){return this._env||this.setEnv("browser"),this.envContribution.removeEventListener(n,e,t)}_nativeDispatchEvent(n){return this._env||this.setEnv("browser"),this.envContribution.dispatchEvent(n)}bindContribution(n){const e=[];if(this.contributions.getContributions().forEach(t=>{const i=t.configure(this,n);i&&i.then&&e.push(i)}),e.length)return Promise.all(e)}getDynamicCanvasCount(){return this._env||this.setEnv("browser"),this.envContribution.getDynamicCanvasCount()}getStaticCanvasCount(){return this._env||this.setEnv("browser"),this.envContribution.getStaticCanvasCount()}setEnv(n,e){if(e&&e.force===!0||this._env!==n)return this.deactiveCurrentEnv(),this.activeEnv(n,e)}deactiveCurrentEnv(){this.envContribution&&this.envContribution.release()}activeEnv(n,e){const t=this._env;this._env=n;const i=this.bindContribution(e);if(i&&i.then)return i.then(()=>{this.envParams=e,this.hooks.onSetEnv.call(t,n,this)});this.envParams=e,this.hooks.onSetEnv.call(t,n,this)}setActiveEnvContribution(n){this.envContribution=n}createCanvas(n){return this._env||this.setEnv("browser"),this.envContribution.createCanvas(n)}createOffscreenCanvas(n){return this._env||this.setEnv("browser"),this.envContribution.createOffscreenCanvas(n)}releaseCanvas(n){return this._env||this.setEnv("browser"),this.envContribution.releaseCanvas(n)}getRequestAnimationFrame(){return this._env||this.setEnv("browser"),this.envContribution.getRequestAnimationFrame()}getSpecifiedRequestAnimationFrame(n){this._env||this.setEnv("browser"),this._performanceRAFList[n]||(this._performanceRAFList[n]=new nOe);const e=this._performanceRAFList[n];return t=>e.addAnimationFrameCb(t)}getSpecifiedCancelAnimationFrame(n){if(this._env||this.setEnv("browser"),!this._performanceRAFList[n])return()=>!1;const e=this._performanceRAFList[n];return t=>e.removeAnimationFrameCb(t)}getCancelAnimationFrame(){return this._env||this.setEnv("browser"),this.envContribution.getCancelAnimationFrame()}getElementById(n){return this._env||this.setEnv("browser"),this.envContribution.getElementById?this.envContribution.getElementById(n):null}getRootElement(){return this._env||this.setEnv("browser"),this.envContribution.getRootElement?this.envContribution.getRootElement():null}getDocument(){return this._env||this.setEnv("browser"),this.envContribution.getDocument?this.envContribution.getDocument():null}mapToCanvasPoint(n,e){return this._env||this.setEnv("browser"),this.envContribution.mapToCanvasPoint?this.envContribution.mapToCanvasPoint(n,e):null}loadImage(n){return this._env||this.setEnv("browser"),this.envContribution.loadImage(n)}loadSvg(n){return this._env||this.setEnv("browser"),this.envContribution.loadSvg(n)}loadJson(n){return this._env||this.setEnv("browser"),this.envContribution.loadJson(n)}loadArrayBuffer(n){return this._env||this.setEnv("browser"),this.envContribution.loadArrayBuffer(n)}loadBlob(n){return this._env||this.setEnv("browser"),this.envContribution.loadBlob(n)}loadFont(n,e,t){return bHt(this,void 0,void 0,function*(){return this._env||this.setEnv("browser"),this.envContribution.loadFont(n,e,t)})}isChrome(){return this._isChrome!=null||(this._env||this.setEnv("browser"),this._isChrome=this._env==="browser"&&navigator.userAgent.indexOf("Chrome")>-1),this._isChrome}isSafari(){return this._isSafari!=null||(this._env||this.setEnv("browser"),this._isSafari=this._env==="browser"&&/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)),this._isSafari}getNativeAABBBounds(n){return this._env||this.setEnv("browser"),this.envContribution.getNativeAABBBounds(n)}removeDom(n){return this._env||this.setEnv("browser"),this.envContribution.removeDom(n)}createDom(n){return this._env||this.setEnv("browser"),this.envContribution.createDom(n)}updateDom(n,e){return this._env||this.setEnv("browser"),this.envContribution.updateDom(n,e)}getElementTop(n,e=!1){return this._env||this.setEnv("browser"),this.envContribution.getElementTop(n,e)}getElementLeft(n,e=!1){return this._env||this.setEnv("browser"),this.envContribution.getElementLeft(n,e)}getElementTopLeft(n,e=!1){return this._env||this.setEnv("browser"),this.envContribution.getElementTopLeft(n,e)}isMacOS(){return this._env||this.setEnv("browser"),this.envContribution.isMacOS()}copyToClipBoard(n){return this._env||this.setEnv("browser"),this.envContribution.copyToClipBoard(n)}};X8=yHt([Nt(),vde(0,Vn(ia)),vde(0,Ha(ez)),_Ht("design:paramtypes",[Object])],X8);var Yb;(function(n){n[n.estimate=0]="estimate",n[n.actualBounding=1]="actualBounding",n[n.fontBounding=2]="fontBounding"})(Yb||(Yb={}));var qu;(function(n){n[n.INITIAL=0]="INITIAL",n[n.RUNNING=1]="RUNNING",n[n.PAUSE=2]="PAUSE"})(qu||(qu={}));var TA;(function(n){n.wait="wait",n.from="from",n.to="to",n.customAnimate="customAnimate"})(TA||(TA={}));var ol;(function(n){n[n.INITIAL=0]="INITIAL",n[n.RUNNING=1]="RUNNING",n[n.PAUSED=2]="PAUSED",n[n.END=3]="END"})(ol||(ol={}));const SHt=ul-1e-8;class uZ{constructor(e){this.init(e)}init(e){this.bounds=e}arc(e,t,i,r,s,a){if(Math.abs(s-r)>SHt)return this.bounds.add(e-i,t-i),void this.bounds.add(e+i,t+i);let o,l,u,c,d=1/0,h=-1/0,f=1/0,p=-1/0;function g(m){u=i*Math.cos(m),c=i*Math.sin(m),u<d&&(d=u),u>h&&(h=u),c<f&&(f=c),c>p&&(p=c)}if(g(r),g(s),s!==r)if((r%=ul)<0&&(r+=ul),(s%=ul)<0&&(s+=ul),s<r&&(a=!a,o=r,r=s,s=o),a)for(s-=ul,o=r-r%eh,l=0;l<4&&o>s;++l,o-=eh)g(o);else for(o=r-r%eh+eh,l=0;l<4&&o<s;++l,o+=eh)g(o);this.bounds.add(e+d,t+f),this.bounds.add(e+h,t+p)}arcTo(e,t,i,r,s){this.bounds.add(e,t)}bezierCurveTo(e,t,i,r,s,a){this.bounds.add(e,t),this.bounds.add(i,r),this.bounds.add(s,a)}closePath(){}ellipse(){throw new Error("ellipse")}lineTo(e,t){this.bounds.add(e,t)}moveTo(e,t){this.bounds.add(e,t)}quadraticCurveTo(e,t,i,r){this.bounds.add(e,t),this.bounds.add(i,r)}rect(e,t,i,r){this.bounds.add(e,t),this.bounds.add(e+i,t+r)}clear(){this.bounds.clear()}release(...e){}}class xHt{constructor(){this._curves=[],this.bounds=new ms}get curves(){return this._curves}getCurveLengths(){return this._curves.map(e=>e.getLength())}getPointAt(e){return{x:0,y:0}}getLength(){return 0}getBounds(){return this.bounds}}const wHt=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/gi,CHt={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7},hi={A:0,AT:1,C:2,Z:3,E:4,L:5,M:6,Q:7,R:8};let j4,yde,mD,_de,z4,vD;function THt(n){if(!n)return[];const e=n.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);if(e===null)return[];let t,i;const r=[];for(let s=0,a=e.length;s<a;s++)if(j4=e[s],yde=j4.slice(1),mD=j4[0],t=[mD],i=yde.match(wHt),i!==null){for(let o=0,l=i.length;o<l;o++)_de=i[o],z4=parseFloat(_de),Number.isNaN(z4)||t.push(z4);if(vD=CHt[mD],t.length-1>vD){let o,l=mD;for(let u=1,c=t.length;u<c;u+=vD){o=[l];for(let d=u,h=u+vD;d<h;d++)o.push(t[d]);r.push(o),l==="m"?l="l":l==="M"&&(l="L")}}else r.push(t)}else r.push(t);return r}var mr;(function(n){n[n.NONE=0]="NONE",n[n.UPDATE_BOUNDS=1]="UPDATE_BOUNDS",n[n.UPDATE_SHAPE=2]="UPDATE_SHAPE",n[n.CLEAR_SHAPE=253]="CLEAR_SHAPE",n[n.UPDATE_SHAPE_AND_BOUNDS=3]="UPDATE_SHAPE_AND_BOUNDS",n[n.INIT=179]="INIT",n[n.CLEAR_BOUNDS=254]="CLEAR_BOUNDS",n[n.UPDATE_GLOBAL_MATRIX=32]="UPDATE_GLOBAL_MATRIX",n[n.CLEAR_GLOBAL_MATRIX=223]="CLEAR_GLOBAL_MATRIX",n[n.UPDATE_LOCAL_MATRIX=16]="UPDATE_LOCAL_MATRIX",n[n.CLEAR_LOCAL_MATRIX=239]="CLEAR_LOCAL_MATRIX",n[n.UPDATE_GLOBAL_LOCAL_MATRIX=48]="UPDATE_GLOBAL_LOCAL_MATRIX",n[n.UPDATE_LAYOUT=128]="UPDATE_LAYOUT",n[n.CLEAR_LAYOUT=127]="CLEAR_LAYOUT"})(mr||(mr={}));var yO;(function(n){n[n.GLOBAL=1]="GLOBAL",n[n.LOCAL=16]="LOCAL",n[n.GLOBAL_ACCURATE=3]="GLOBAL_ACCURATE",n[n.LOCAL_ACCURATE=48]="LOCAL_ACCURATE"})(yO||(yO={}));var Za;(function(n){n[n.INIT=0]="INIT",n[n.DEFAULT=1]="DEFAULT",n[n.STATE=2]="STATE",n[n.ANIMATE_BIND=10]="ANIMATE_BIND",n[n.ANIMATE_PLAY=11]="ANIMATE_PLAY",n[n.ANIMATE_START=12]="ANIMATE_START",n[n.ANIMATE_UPDATE=13]="ANIMATE_UPDATE",n[n.ANIMATE_END=14]="ANIMATE_END",n[n.TRANSLATE=20]="TRANSLATE",n[n.TRANSLATE_TO=21]="TRANSLATE_TO",n[n.SCALE=22]="SCALE",n[n.SCALE_TO=23]="SCALE_TO",n[n.ROTATE=24]="ROTATE",n[n.ROTATE_TO=25]="ROTATE_TO"})(Za||(Za={}));var Qi;(function(n){n[n.ROW=1]="ROW",n[n.COLUMN=2]="COLUMN"})(Qi||(Qi={}));var _O;(function(n){n[n.CubicBezierCurve=0]="CubicBezierCurve",n[n.QuadraticBezierCurve=1]="QuadraticBezierCurve",n[n.ArcCurve=2]="ArcCurve",n[n.LineCurve=3]="LineCurve",n[n.EllipseCurve=4]="EllipseCurve",n[n.MoveCurve=5]="MoveCurve"})(_O||(_O={}));var xa;(function(n){n[n.beforeFillStroke=0]="beforeFillStroke",n[n.afterFillStroke=1]="afterFillStroke"})(xa||(xa={}));function EHt(n,e,t,i,r,s,a,o,l){const u=ar(a),c=Math.sin(u),d=Math.cos(u),h=d*(o-n)*.5+c*(l-e)*.5,f=d*(l-e)*.5-c*(o-n)*.5;let p=h*h/((t=Math.abs(t))*t)+f*f/((i=Math.abs(i))*i);p>1&&(p=Math.sqrt(p),t*=p,i*=p);const g=d/t,m=c/t,v=-c/i,_=d/i,y=g*o+m*l,x=v*o+_*l,w=g*n+m*e,T=v*n+_*e;let E=1/((w-y)*(w-y)+(T-x)*(T-x))-.25;E<0&&(E=0);let A=Math.sqrt(E);s===r&&(A=-A);const k=.5*(y+w)-A*(T-x),P=.5*(x+T)+A*(w-y),I=Math.atan2(x-P,y-k);let D=Math.atan2(T-P,w-k)-I;D<0&&s===1?D+=ul:D>0&&s===0&&(D-=ul);const L=Math.ceil(Math.abs(D/(eh+.001))),B=[];for(let F=0;F<L;++F){const $=I+F*D/L,z=I+(F+1)*D/L;B[F]=[k,P,$,z,t,i,c,d]}return B}function AHt(n){const e=n[0],t=n[1],i=n[2],r=n[3],s=n[4],a=n[5],o=n[6],l=n[7],u=l*s,c=-o*a,d=o*s,h=l*a,f=Math.cos(i),p=Math.sin(i),g=Math.cos(r),m=Math.sin(r),v=.5*(r-i),_=Math.sin(.5*v),y=8/3*_*_/Math.sin(v),x=e+f-y*p,w=t+p+y*f,T=e+g,E=t+m,A=T+y*m,k=E-y*g;return[u*x+c*w,d*x+h*w,u*A+c*k,d*A+h*k,u*T+c*E,d*T+h*E]}function bde(n,e,t,i){const r=EHt(i[5],i[6],i[0],i[1],i[3],i[4],i[2],e,t);for(let s=0;s<r.length;++s){const a=AHt(r[s]);n.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5])}}const kHt=(n,e,t,i,r,s,a,o=!1)=>{const l=2*Math.PI,u=(e%l+l)%l;let c,d=(t%l+l)%l;o?(d>=u&&(d-=l),c=d-u):(d<=u&&(d+=l),c=d-u);const h=Math.ceil(Math.abs(c)/(.5*Math.PI)),f=c/h;for(let p=0;p<h;p++){const g=u+f*p,m=u+f*(p+1),v=4/3*Math.tan(Math.abs(f)/4),_=Math.cos(g),y=Math.sin(g),x=Math.cos(m),w=Math.sin(m),T=_*s+i,E=y*a+r,A=x*s+i,k=w*a+r,P=o?-1:1,I=s*v*P,D=a*v*P;n.push(T-I*y,E+D*_,A+I*w,k-D*x,A,k)}},OHt=[(n,e,t,i,r,s,a)=>e.arc(n[1]*r+t,n[2]*s+i,n[3]*(r+s)/2,n[4],n[5],n[6],a),(n,e,t,i,r,s,a)=>e.arcTo(n[1]*r+t,n[2]*s+i,n[3]*r+t,n[4]*s+i,n[5]*(r+s)/2,a),(n,e,t,i,r,s,a)=>e.bezierCurveTo(n[1]*r+t,n[2]*s+i,n[3]*r+t,n[4]*s+i,n[5]*r+t,n[6]*s+i,a),(n,e,t,i)=>e.closePath(),(n,e,t,i,r,s)=>e.ellipse(n[1]*r+t,n[2]*s+i,n[3]*r,n[4]*s,n[5],n[6],n[7],n[8]),(n,e,t,i,r,s,a)=>e.lineTo(n[1]*r+t,n[2]*s+i,a),(n,e,t,i,r,s,a)=>e.moveTo(n[1]*r+t,n[2]*s+i,a),(n,e,t,i,r,s,a)=>e.quadraticCurveTo(n[1]*r+t,n[2]*s+i,n[3]*r+t,n[4]*s+i,a),(n,e,t,i,r,s,a)=>e.rect(n[1]*r+t,n[2]*s+i,n[3]*r,n[4]*s,a)];function Nm(n,e,t=0,i=0,r=1,s=1,a){for(let o=0;o<n.length;o++){const l=n[o];OHt[l[0]](l,e,t,i,r,s,a)}}class cZ{getLength(e){return e!=null?this.calcProjLength(e):(Number.isFinite(this.length)||(this.length=this.calcLength()),this.length)}}function rOe(n,e){let t=0;const i=n.length;for(let r=0;r<i;r++){const s=n[r],a=e[r],o=n[(r+1)%i],l=e[(r+1)%i];t+=Fa.distanceNN(s,a,o,l)}return t/2}function PHt(n,e,t,i,r){return rOe([n.x,e.x,t.x,i.x],[n.y,e.y,t.y,i.y])}function Sde(n,e,t,i,r){const s=1-r;return s*s*s*n+3*e*r*s*s+3*t*r*r*s+i*r*r*r}function sOe(n,e,t,i,r){const s=Sde(n.x,e.x,t.x,i.x,r),a=Sde(n.y,e.y,t.y,i.y,r);return new Zi(s,a)}function xde(n,e,t,i){const r=1-i;return r*r*n+2*r*i*e+i*i*t}function aOe(n,e,t,i){const r=xde(n.x,e.x,t.x,i),s=xde(n.y,e.y,t.y,i);return new Zi(r,s)}function MHt(n,e,t,i){return rOe([n.x,e.x,t.x],[n.y,e.y,t.y])}function DF(n,e){const{p0:t,p1:i,p2:r,p3:s}=n,a=sOe(t,i,r,s,e),o=Fa.pointAtPP(t,i,e),l=Fa.pointAtPP(i,r,e),u=Fa.pointAtPP(r,s,e),c=Fa.pointAtPP(o,l,e),d=Fa.pointAtPP(l,u,e);return[new LF(t,o,c,a),new LF(a,d,u,s)]}class LF extends cZ{constructor(e,t,i,r){super(),this.type=_O.CubicBezierCurve,this.p0=e,this.p1=t,this.p2=i,this.p3=r}_validPoint(){return Number.isFinite(this.p0.x+this.p0.y+this.p1.x+this.p1.y+this.p2.x+this.p2.y+this.p3.x+this.p3.y)}getPointAt(e){if(this.defined!==!1)return sOe(this.p0,this.p1,this.p2,this.p3,e);throw new Error("definedfalsegetPointAt")}calcLength(){return this._validPoint()?PHt(this.p0,this.p1,this.p2,this.p3):60}calcProjLength(e){return e===Qi.ROW?qn(this.p0.x-this.p3.x):e===Qi.COLUMN?qn(this.p0.y-this.p3.y):0}getAngleAt(e){const t=dl(e-.01,0),i=za(e+.01,1),r=this.getPointAt(t),s=this.getPointAt(i);return Vi(s.y-r.y,s.x-r.x)}draw(e,t,i,r,s,a){if(e.moveTo(this.p0.x*r+t,this.p0.y*s+i),a>=1)e.bezierCurveTo(this.p1.x*r+t,this.p1.y*s+i,this.p2.x*r+t,this.p2.y*s+i,this.p3.x*r+t,this.p3.y*s+i);else if(a>0){const[o]=DF(this,a);e.bezierCurveTo(o.p1.x*r+t,o.p1.y*s+i,o.p2.x*r+t,o.p2.y*s+i,o.p3.x*r+t,o.p3.y*s+i)}}includeX(e){const t=za(this.p0.x,this.p1.x,this.p2.x,this.p3.x),i=dl(this.p0.x,this.p1.x,this.p2.x,this.p3.x);return e>=t&&e<=i}getYAt(e){const t=za(this.p0.x,this.p1.x,this.p2.x,this.p3.x),i=(e-t)/(dl(this.p0.x,this.p1.x,this.p2.x,this.p3.x)-t);return this.getPointAt(i).y}}function wde(n,e){const{p0:t,p1:i}=n,r=Fa.pointAtPP(t,i,e);return[new FF(t,r),new FF(r,i)]}class FF extends cZ{constructor(e,t){super(),this.type=_O.LineCurve,this.p0=e,this.p1=t}getPointAt(e){if(this.defined!==!1)return Fa.pointAtPP(this.p0,this.p1,e);throw new Error("definedfalsegetPointAt")}getAngleAt(e){return this.angle==null&&(this.angle=Vi(this.p1.y-this.p0.y,this.p1.x-this.p0.x)),this.angle}_validPoint(){return Number.isFinite(this.p0.x+this.p0.y+this.p1.x+this.p1.y)}calcLength(){return this._validPoint()?Fa.distancePP(this.p0,this.p1):60}calcProjLength(e){return e===Qi.ROW?qn(this.p0.x-this.p1.x):e===Qi.COLUMN?qn(this.p0.y-this.p1.y):0}draw(e,t,i,r,s,a){if(e.moveTo(this.p0.x*r+t,this.p0.y*s+i),a>=1)e.lineTo(this.p1.x*r+t,this.p1.y*s+i);else if(a>0){const o=this.getPointAt(a);e.lineTo(o.x*r+t,o.y*s+i)}}includeX(e){return e>=this.p0.x&&e<=this.p1.x||e>=this.p1.x&&e<=this.p0.x}getYAt(e){if(this.includeX(e)){let t=this.p0,i=this.p1;this.p0.x>this.p1.x&&(t=this.p1,i=this.p0);const r=(e-t.x)/(i.x-t.x);return t.y+r*(i.y-t.y)}return 1/0}}class tz{get endX(){return this._lastX}get endY(){return this._lastY}constructor(e,t){this.init(e,t)}init(e,t){this._lastX=this._lastY=this._startX=this._startY=0,this.curveType=e,this.direction=t,this.curves=[]}bezierCurveTo(e,t,i,r,s,a,o,l){const u=new LF(new Zi(this._lastX,this._lastY),new Zi(e,t),new Zi(i,r),new Zi(s,a));u.originP1=this._lastOriginP,u.originP2=l,u.defined=o,this.curves.push(u),this._lastX=s,this._lastY=a,this._lastOriginP=l}closePath(){if(this.curves.length<2)return;const e=this.curves[this.curves.length-1];this.lineTo(this._startX,this._startY,e.defined,this._startOriginP)}ellipse(){throw new Error("SegContextellipse")}lineTo(e,t,i,r){const s=this.addLinearCurve(e,t,i,this._lastOriginP,r);this.curves.push(s),this._lastX=e,this._lastY=t,this._lastOriginP=r}moveTo(e,t,i){return this._lastX=this._startX=e,this._lastY=this._startY=t,this._lastOriginP=i,this._startOriginP=i,this}quadraticCurveTo(e,t,i,r){throw new Error("SegContextquadraticCurveTo")}clear(){this.curves=[],this.length=NaN}tryUpdateLength(e){return this.getLength(e)}addLinearCurve(e,t,i,r,s){const a=new FF(new Zi(this._lastX,this._lastY),new Zi(e,t));return a.originP1=r,a.originP2=s,a.defined=i,a}getPointAt(e){throw new Error("")}getCurveLengths(){return[]}getLength(e){var t,i;if(e===Qi.COLUMN){if(!this.curves.length)return 0;const r=this.curves[0],s=this.curves[this.curves.length-1],a=(t=s.p3)!==null&&t!==void 0?t:s.p1;return qn(r.p0.y-a.y)}if(e===Qi.ROW){if(!this.curves.length)return 0;const r=this.curves[0],s=this.curves[this.curves.length-1],a=(i=s.p3)!==null&&i!==void 0?i:s.p1;return qn(r.p0.x-a.x)}return Number.isFinite(this.length)||(this.length=this.curves.reduce((r,s)=>r+s.getLength(),0)),this.length}}class IHt extends tz{bezierCurveTo(e,t,i,r,s,a,o,l){return super.bezierCurveTo(t,e,r,i,a,s,o,l)}lineTo(e,t,i,r){return super.lineTo(t,e,i,r)}moveTo(e,t,i){return super.moveTo(t,e,i)}clear(){return super.clear()}}function K0(n,e,t=1){let i=!1;for(let r=0,s=e.length;r<=s;r++)r>=s===i&&((i=!i)?n.lineStart():n.lineEnd()),i&&n.point(e[r])}function j1(n,e,t){const i=e??(qn(t[t.length-1].x-t[0].x)>qn(t[t.length-1].y-t[0].y)?Qi.ROW:Qi.COLUMN);return n==="monotoneY"?new IHt(n,i):new tz(n,i)}class oOe{constructor(e,t){this.context=e,t&&(this.startPoint=t)}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0,this.startPoint&&this.point(this.startPoint)}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this.context.closePath(),this._line=1-this._line}point(e){const t=e.x,i=e.y;switch(this._point){case 0:this._point=1,this._line?this.context.lineTo(t,i,this._lastDefined!==!1&&e.defined!==!1,e):this.context.moveTo(t,i,e);break;case 1:this._point=2;default:this.context.lineTo(t,i,this._lastDefined!==!1&&e.defined!==!1,e)}this._lastDefined=e.defined}tryUpdateLength(){return this.context.tryUpdateLength()}}function mM(n,e={}){const{direction:t,startPoint:i}=e;if(n.length<2-+!!i)return null;const r=j1("linear",t,n);return RHt(new oOe(r,i),n),r}function RHt(n,e){return K0(n,e,1)}function Cde(n,e,t,i,r){n.context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+e)/6,(n._y0+4*n._y1+t)/6,i,n.lastPoint1)}class DHt{constructor(e,t){this.context=e,this.startPoint=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0,this.startPoint&&this.point(this.startPoint)}lineEnd(){this._point===2&&Cde(this,6*this._x1-(this._x0+4*this._x1),6*this._y1-(this._y0+4*this._y1),this._lastDefined1!==!1&&this._lastDefined2!==!1,this.lastPoint1),(this._line||this._line!==0&&this._point===1)&&this.context.closePath(),this._line=1-this._line}point(e){const t=e.x,i=e.y;switch(this._point){case 0:this._point=1,this._line?this.context.lineTo(t,i,this._lastDefined1!==!1&&this._lastDefined2!==!1,e):this.context.moveTo(t,i,e);break;case 1:this._point=2;break;default:Cde(this,t,i,this._lastDefined1!==!1&&this._lastDefined2!==!1)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=i,this._lastDefined1=this._lastDefined2,this._lastDefined2=e.defined,this.lastPoint0=this.lastPoint1,this.lastPoint1=e}tryUpdateLength(){return this.context.tryUpdateLength()}}function LHt(n,e){return K0(n,e,2)}function FHt(n,e={}){const{direction:t,startPoint:i}=e;if(n.length<2-+!!i)return null;if(n.length<3-+!!i)return mM(n,e);const r=j1("basis",t,n);return LHt(new DHt(r,i),n),r}function Tde(n){return n<0?-1:1}function Ede(n,e,t){const i=n._x1-n._x0,r=e-n._x1,s=(n._y1-n._y0)/(i||Number(r<0&&-0)),a=(t-n._y1)/(r||Number(i<0&&-0)),o=(s*r+a*i)/(i+r);return(Tde(s)+Tde(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function Ade(n,e){const t=n._x1-n._x0;return t?(3*(n._y1-n._y0)/t-e)/2:e}function H4(n,e,t,i,r){const s=n._x0,a=n._y0,o=n._x1,l=n._y1,u=(o-s)/3;n.context.bezierCurveTo(s+u,a+u*e,o-u,l-u*t,o,l,i,n.lastPoint1)}class lOe{constructor(e,t){this.context=e,this.startPoint=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0,this.startPoint&&this.point(this.startPoint)}lineEnd(){switch(this._point){case 2:this.context.lineTo(this._x1,this._y1,this._lastDefined1!==!1&&this._lastDefined2!==!1,this.lastPoint1);break;case 3:H4(this,this._t0,Ade(this,this._t0),this._lastDefined1!==!1&&this._lastDefined2!==!1,this.lastPoint1)}(this._line||this._line!==0&&this._point===1)&&this.context.closePath(),this._line=1-this._line}point(e){let t=NaN;const i=e.x,r=e.y;switch(this._point){case 0:this._point=1,this._line?this.context.lineTo(i,r,this._lastDefined1!==!1&&this._lastDefined2!==!1,e):this.context.moveTo(i,r,e);break;case 1:this._point=2;break;case 2:this._point=3,H4(this,Ade(this,t=Ede(this,i,r)),t,this._lastDefined1!==!1&&this._lastDefined2!==!1);break;default:H4(this,this._t0,t=Ede(this,i,r),this._lastDefined1!==!1&&this._lastDefined2!==!1)}this._x0=this._x1,this._x1=i,this._y0=this._y1,this._y1=r,this._t0=t,this._lastDefined1=this._lastDefined2,this._lastDefined2=e.defined!==!1,this.lastPoint0=this.lastPoint1,this.lastPoint1=e}tryUpdateLength(){return this.context.tryUpdateLength()}}class BHt extends lOe{constructor(e,t){super(e,t)}point(e){return super.point({y:e.x,x:e.y,defined:e.defined})}}function $Ht(n,e){return K0(n,e,2)}function NHt(n,e={}){const{direction:t,startPoint:i}=e;if(n.length<2-+!!i)return null;if(n.length<3-+!!i)return mM(n,e);const r=j1("monotoneX",t,n);return $Ht(new lOe(r,i),n),r}function jHt(n,e){return K0(n,e,2)}function zHt(n,e={}){const{direction:t,startPoint:i}=e;if(n.length<2-+!!i)return null;if(n.length<3-+!!i)return mM(n,e);const r=j1("monotoneY",t,n);return jHt(new BHt(r,i),n),r}let uOe=class{constructor(e,t=.5,i){this.context=e,this._t=t,this.startPoint=i}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._x=this._y=NaN,this._point=0,this.startPoint&&this.point(this.startPoint)}lineEnd(){0<this._t&&this._t<1&&this._point===2&&this.context.lineTo(this._x,this._y,this._lastDefined!==!1,this.lastPoint),(this._line||this._line!==0&&this._point===1)&&this.context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)}point(e){const t=e.x,i=e.y;switch(this._point){case 0:this._point=1,this._line?this.context.lineTo(t,i,this._lastDefined!==!1&&e.defined!==!1,e):this.context.moveTo(t,i,e);break;case 1:this._point=2;default:if(this._t<=0)this.context.lineTo(this._x,i,this._lastDefined!==!1&&e.defined!==!1,this.lastPoint),this.context.lineTo(t,i,this._lastDefined!==!1&&e.defined!==!1,e);else{const r=this._x*(1-this._t)+t*this._t;this._t===.5?this.context.lineTo(r,this._y,this._lastDefined!==!1,this.lastPoint):this.context.lineTo(r,this._y,this._lastDefined!==!1&&e.defined!==!1,this.lastPoint),this.context.lineTo(r,i,this._lastDefined!==!1&&e.defined!==!1,e)}}this._lastDefined=e.defined,this._x=t,this._y=i,this.lastPoint=e}tryUpdateLength(){return this.context.tryUpdateLength()}};class HHt extends uOe{lineEnd(){this.context.closePath()}}function V4(n,e,t={}){const{direction:i,startPoint:r}=t;if(n.length<2-+!!r)return null;const s=new tz("step",i??(qn(n[n.length-1].x-n[0].x)>qn(n[n.length-1].y-n[0].y)?Qi.ROW:Qi.COLUMN));return cOe(new uOe(s,e,r),n),s}function cOe(n,e){return K0(n,e,1)}function VHt(n,e,t={}){const{direction:i,startPoint:r}=t;if(n.length<2-+!!r)return null;const s=new tz("step",i??(qn(n[n.length-1].x-n[0].x)>qn(n[n.length-1].y-n[0].y)?Qi.ROW:Qi.COLUMN));return cOe(new HHt(s,e,r),n),s}class WHt extends oOe{lineEnd(){this.context.closePath()}}function UHt(n,e={}){const{direction:t,startPoint:i}=e;if(n.length<2-+!!i)return null;const r=j1("linear",t,n);return GHt(new WHt(r,i),n),r}function GHt(n,e){return K0(n,e,1)}function dOe(n,e,t,i,r){let s=n._x1,a=n._y1,o=n._x2,l=n._y2;if(n._l01_a>jr){const u=2*n._l01_2a+3*n._l01_a*n._l12_a+n._l12_2a,c=3*n._l01_a*(n._l01_a+n._l12_a);s=(s*u-n._x0*n._l12_2a+n._x2*n._l01_2a)/c,a=(a*u-n._y0*n._l12_2a+n._y2*n._l01_2a)/c}if(n._l23_a>jr){const u=2*n._l23_2a+3*n._l23_a*n._l12_a+n._l12_2a,c=3*n._l23_a*(n._l23_a+n._l12_a);o=(o*u+n._x1*n._l23_2a-e*n._l12_2a)/c,l=(l*u+n._y1*n._l23_2a-t*n._l12_2a)/c}n.context.bezierCurveTo(s,a,o,l,n._x2,n._y2,i,n.lastPoint1)}class YHt{constructor(e,t=.5,i){this.context=e,this.startPoint=i,this._alpha=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0}lineEnd(){switch(this._point){case 2:this.context.lineTo(this._x2,this._y2,this._lastDefined1!==!1&&this._lastDefined2!==!1,this.lastPoint1);break;case 3:this.point({x:this._x2,y:this._y2})}(this._line||this._line!==0&&this._point===1)&&this.context.closePath(),this._line=1-this._line}point(e){const{x:t,y:i}=e;if(this._point){const r=this._x2-t,s=this._y2-i;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+s*s,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this.context.lineTo(t,i,this._lastDefined1!==!1&&this._lastDefined2!==!1):this.context.moveTo(t,i);break;case 1:this._point=2;break;case 2:this._point=3;default:dOe(this,t,i,this._lastDefined1!==!1&&this._lastDefined2!==!1)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i,this._lastDefined1=this._lastDefined2,this._lastDefined2=e.defined,this.lastPoint0=this.lastPoint1,this.lastPoint1=e}tryUpdateLength(){return this.context.tryUpdateLength()}}function hOe(n,e){return function(t,i,r={}){const{direction:s,startPoint:a}=r;if(t.length<2-+!!a)return null;if(t.length<3-+!!a)return mM(t,r);const o=j1(n,s,t),l=new e(o,i,a);return K0(l,t,2),o}}const KHt=hOe("catmullRom",YHt);class XHt{constructor(e,t=.5,i){this.context=e,this.startPoint=i,this._alpha=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0}lineEnd(){switch(this._point){case 1:this.context.moveTo(this._x3,this._y3,this.lastPoint1),this.context.closePath();break;case 2:this.context.lineTo(this._x3,this._y3,this._lastDefined1!==!1&&this._lastDefined2!==!1,this.lastPoint1),this.context.closePath();break;case 3:this.point({x:this._x3,y:this._y3}),this.point({x:this._x4,y:this._y4}),this.point({x:this._x5,y:this._y5})}}point(e){const{x:t,y:i}=e;if(this._point){const r=this._x2-t,s=this._y2-i;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+s*s,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=i;break;case 1:this._point=2,this.context.moveTo(this._x4=t,this._y4=i,e);break;case 2:this._point=3,this._x5=t,this._y5=i;break;default:dOe(this,t,i,this._lastDefined1!==!1&&this._lastDefined2!==!1)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i,this._lastDefined1=this._lastDefined2,this._lastDefined2=e.defined,this.lastPoint0=this.lastPoint1,this.lastPoint1=e}tryUpdateLength(){return this.context.tryUpdateLength()}}const qHt=hOe("catmullRomClosed",XHt);function ZHt(n,e){const{p0:t,p1:i,p2:r}=n,s=aOe(t,i,r,e),a=Fa.pointAtPP(t,i,e),o=Fa.pointAtPP(i,r,e);return[new q8(t,a,s),new q8(s,o,r)]}class q8 extends cZ{constructor(e,t,i){super(),this.type=_O.QuadraticBezierCurve,this.p0=e,this.p1=t,this.p2=i}_validPoint(){return Number.isFinite(this.p0.x+this.p0.y+this.p1.x+this.p1.y+this.p2.x+this.p2.y)}getPointAt(e){if(this.defined!==!1)return aOe(this.p0,this.p1,this.p2,e);throw new Error("definedfalsegetPointAt")}calcLength(){return this._validPoint()?MHt(this.p0,this.p1,this.p2):60}calcProjLength(e){return e===Qi.ROW?qn(this.p0.x-this.p2.x):e===Qi.COLUMN?qn(this.p0.y-this.p2.y):0}getAngleAt(e){const t=dl(e-.01,0),i=za(e+.01,1),r=this.getPointAt(t),s=this.getPointAt(i);return Vi(s.y-r.y,s.x-r.x)}draw(e,t,i,r,s,a){if(e.moveTo(this.p0.x*r+t,this.p0.y*s+i),a>=1)e.quadraticCurveTo(this.p1.x*r+t,this.p1.y*s+i,this.p2.x*r+t,this.p2.y*s+i);else if(a>0){const[o]=ZHt(this,a);e.quadraticCurveTo(o.p1.x*r+t,o.p1.y*s+i,o.p2.x*r+t,o.p2.y*s+i)}}getYAt(e){throw new Error("QuadraticBezierCurvegetYAt")}includeX(e){throw new Error("QuadraticBezierCurveincludeX")}}class QHt{constructor(e){this.path=e,this._lastX=this._lastY=this._startX=this._startY=0}moveTo(e,t){return this._lastX=this._startX=e,this._lastY=this._startY=t,this}lineTo(e,t){const i=this.addLinearCurve(e,t);this.path.addCurve(i),this._lastX=e,this._lastY=t}addLinearCurve(e,t){return new FF(new Zi(this._lastX,this._lastY),new Zi(e,t))}quadraticCurveTo(e,t,i,r){const s=new q8(new Zi(this._lastX,this._lastY),new Zi(e,t),new Zi(i,r));this.path.addCurve(s),this._lastX=i,this._lastY=r}bezierCurveTo(e,t,i,r,s,a){const o=new LF(new Zi(this._lastX,this._lastY),new Zi(e,t),new Zi(i,r),new Zi(s,a));this.path.addCurve(o),this._lastX=s,this._lastY=a}arcTo(e,t,i,r,s){throw new Error("CurveContextarcTo")}ellipse(e,t,i,r,s,a,o,l){throw new Error("CurveContextellipse")}rect(e,t,i,r){throw new Error("CurveContextrect")}arc(e,t,i,r,s,a){throw new Error("CurveContextarc")}closePath(){this.path.curves.length<2||this.lineTo(this._startX,this._startY)}}function Pb(n,e,t){var i,r;switch(e){case"linear":default:return mM(n,t);case"basis":return FHt(n,t);case"monotoneX":return NHt(n,t);case"monotoneY":return zHt(n,t);case"step":return V4(n,.5,t);case"stepClosed":return VHt(n,.5,t);case"stepBefore":return V4(n,0,t);case"stepAfter":return V4(n,1,t);case"catmullRom":return KHt(n,(i=t==null?void 0:t.curveTension)!==null&&i!==void 0?i:.5,t);case"catmullRomClosed":return qHt(n,(r=t==null?void 0:t.curveTension)!==null&&r!==void 0?r:.5,t);case"linearClosed":return UHt(n,t)}}class Ts extends xHt{constructor(e){super(),this.commandList=[],e&&(this._ctx=e),this._boundsContext=new uZ(this.bounds)}get curves(){return this.tryBuildCurves()}setCtx(e){this._ctx=e}moveTo(e,t){return this.commandList.push([hi.M,e,t]),this._ctx&&this._ctx.moveTo(e,t),this}lineTo(e,t){return this.commandList.push([hi.L,e,t]),this._ctx&&this._ctx.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.commandList.push([hi.Q,e,t,i,r]),this._ctx&&this._ctx.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,a){return this.commandList.push([hi.C,e,t,i,r,s,a]),this._ctx&&this._ctx.bezierCurveTo(e,t,i,r,s,a),this}arcTo(e,t,i,r,s){return this.commandList.push([hi.AT,e,t,i,r,s]),this._ctx&&this._ctx.arcTo(e,t,i,r,s),this}ellipse(e,t,i,r,s,a,o,l){return this.commandList.push([hi.E,e,t,i,r,s,a,o,l]),this._ctx&&this._ctx.ellipse(e,t,i,r,s,a,o,l),this}rect(e,t,i,r){return this.commandList.push([hi.R,e,t,i,r]),this._ctx&&this._ctx.rect(e,t,i,r),this}arc(e,t,i,r,s,a){return this.commandList.push([hi.A,e,t,i,r,s,a]),this._ctx&&this._ctx.arc(e,t,i,r,s,a),this}closePath(){return this.commandList.push([hi.Z]),this._ctx&&this._ctx.closePath(),this}addCurve(e){this._curves.push(e)}clear(){this.transformCbList=null,this.commandList.length=0,this._curves.length=0}beginPath(){this.clear()}tryBuildCurves(){if(!this._curves||!this._curves.length){const e=new QHt(this);Nm(this.commandList,e,0,0,1,1)}return this._curves}toString(){if(!this.toStringCbList){const i=[];i[hi.M]=r=>`M${r[1]} ${r[2]}`,i[hi.L]=r=>`L${r[1]} ${r[2]}`,i[hi.Q]=r=>`Q${r[1]} ${r[2]} ${r[3]} ${r[4]}`,i[hi.C]=r=>`C${r[1]} ${r[2]} ${r[3]} ${r[4]} ${r[5]} ${r[6]}`,i[hi.A]=r=>{const s=[],a=r[1],o=r[2],l=r[3],u=r[4],c=r[5],d=r[6];kHt(s,u,c,a,o,l,l,d);let h="";for(let f=0;f<s.length;f+=6)h+=`C${s[f]} ${s[f+1]} ${s[f+2]} ${s[f+3]} ${s[f+4]} ${s[f+5]}`;return h},i[hi.R]=r=>`M${r[1]} ${r[2]} h${r[3]} v${r[4]} H${r[1]}Z`,i[hi.Z]=r=>"Z",this.toStringCbList=i}const e=this.toStringCbList;let t="";return this.commandList.forEach(i=>{t+=e[i[0]](i)}),t}fromString(e,t,i,r,s){this.clear();const a=THt(e);return this._runCommandStrList(a,t,i,r,s),this._updateBounds(),this}fromLine(e){const{points:t,curveType:i,clipRangeByDimension:r}=e.attribute;if(!t)return;const s=Pb(t,i);r==="x"?this.direction=Qi.ROW:r==="y"?this.direction=Qi.COLUMN:r==="auto"&&(this.direction=s.direction),this._curves=s.curves}fromCustomPath2D(e,t,i,r,s){return this.clear(),this._runCommandList(e.commandList,t,i,r,s),this._updateBounds(),this}transform(e,t,i,r){const s=this.commandList;if(!this.transformCbList){const a=[];a[hi.M]=this.moveToTransform,a[hi.L]=this.lineToTransform,a[hi.Q]=this.quadraticCurveToTransform,a[hi.C]=this.bezierCurveToTransform,a[hi.AT]=this.arcToTransform,a[hi.E]=this.ellipseTransform,a[hi.R]=this.rectTransform,a[hi.A]=this.arcTransform,a[hi.Z]=this.closePathTransform,this.transformCbList=a}s.forEach(a=>{this.transformCbList[a[0]](a,e,t,i,r)}),this._updateBounds()}moveToTransform(e,t,i,r,s){e[1]=e[1]*r+t,e[2]=e[2]*s+i}lineToTransform(e,t,i,r,s){e[1]=e[1]*r+t,e[2]=e[2]*s+i}quadraticCurveToTransform(e,t,i,r,s){e[1]=e[1]*r+t,e[2]=e[2]*s+i,e[3]=e[3]*r+t,e[4]=e[4]*s+i}bezierCurveToTransform(e,t,i,r,s){e[1]=e[1]*r+t,e[2]=e[2]*s+i,e[3]=e[3]*r+t,e[4]=e[4]*s+i,e[5]=e[5]*r+t,e[6]=e[6]*s+i}arcToTransform(e,t,i,r,s){e[1]=e[1]*r+t,e[2]=e[2]*s+i,e[3]=e[3]*r+t,e[4]=e[4]*s+i,e[5]=e[5]*(r+s)/2}ellipseTransform(e,t,i,r,s){e[1]=e[1]*r+t,e[2]=e[2]*s+i,e[3]=e[3]*r,e[4]=e[4]*s}rectTransform(e,t,i,r,s){e[1]=e[1]*r+t,e[2]=e[2]*s+i,e[3]=e[3]*r,e[4]=e[4]*s}arcTransform(e,t,i,r,s){e[1]=e[1]*r+t,e[2]=e[2]*s+i,e[3]=e[3]*(r+s)/2}closePathTransform(){}_runCommandStrList(e,t=0,i=0,r=1,s=1){let a,o,l,u,c,d=null,h=0,f=0,p=0,g=0;for(let m=0,v=e.length;m<v;++m){switch(a=e[m],r===1&&s===1||(a=JHt(a,r,s)),a[0]){case"l":h+=a[1],f+=a[2],this.lineTo(h+t,f+i);break;case"L":h=a[1],f=a[2],this.lineTo(h+t,f+i);break;case"h":h+=a[1],this.lineTo(h+t,f+i);break;case"H":h=a[1],this.lineTo(h+t,f+i);break;case"v":f+=a[1],this.lineTo(h+t,f+i);break;case"V":f=a[1],this.lineTo(h+t,f+i);break;case"m":h+=a[1],f+=a[2],this.moveTo(h+t,f+i);break;case"M":h=a[1],f=a[2],this.moveTo(h+t,f+i);break;case"c":o=h+a[5],l=f+a[6],p=h+a[3],g=f+a[4],this.bezierCurveTo(h+a[1]+t,f+a[2]+i,p+t,g+i,o+t,l+i),h=o,f=l;break;case"C":h=a[5],f=a[6],p=a[3],g=a[4],this.bezierCurveTo(a[1]+t,a[2]+i,p+t,g+i,h+t,f+i);break;case"s":o=h+a[3],l=f+a[4],d[0].match(/[CcSs]/)===null?(p=h,g=f):(p=2*h-p,g=2*f-g),u=h+a[1],c=f+a[2],this.bezierCurveTo(p+t,g+i,u+t,c+i,o+t,l+i),p=u,g=c,h=o,f=l;break;case"S":o=a[3],l=a[4],d[0].match(/[CcSs]/)===null?(p=h,g=f):(p=2*h-p,g=2*f-g),u=a[1],c=a[2],this.bezierCurveTo(p+t,g+i,u+t,c+i,o+t,l+i),p=u,g=c,h=o,f=l;break;case"q":o=h+a[3],l=f+a[4],p=h+a[1],g=f+a[2],this.quadraticCurveTo(p+t,g+i,o+t,l+i),h=o,f=l;break;case"Q":o=a[3],l=a[4],this.quadraticCurveTo(a[1]+t,a[2]+i,o+t,l+i),h=o,f=l,p=a[1],g=a[2];break;case"t":o=h+a[1],l=f+a[2],d[0].match(/[QqTt]/)===null?(p=h,g=f):d[0]==="t"?(p=2*h-u,g=2*f-c):d[0]==="q"&&(p=2*h-p,g=2*f-g),u=p,c=g,this.quadraticCurveTo(p+t,g+i,o+t,l+i),h=o,f=l,p=h+a[1],g=f+a[2];break;case"T":o=a[1],l=a[2],p=2*h-p,g=2*f-g,this.quadraticCurveTo(p+t,g+i,o+t,l+i),h=o,f=l;break;case"a":bde(this,h+t,f+i,[a[1],a[2],a[3],a[4],a[5],a[6]+h+t,a[7]+f+i]),h+=a[6],f+=a[7];break;case"A":bde(this,h+t,f+i,[a[1],a[2],a[3],a[4],a[5],a[6]+t,a[7]+i]),h=a[6],f=a[7];break;case"z":case"Z":this.closePath()}d=a}}_runCommandList(e,t=0,i=0,r=1,s=1){if(t!==0||i!==0||r!==1||s!==1)for(let a=0,o=e.length;a<o;++a){const l=e[a].slice();switch(l[0]){case hi.L:this.lineToTransform(l,t,i,r,s);break;case hi.M:this.moveToTransform(l,t,i,r,s);break;case hi.C:this.bezierCurveToTransform(l,t,i,r,s);break;case hi.Q:this.quadraticCurveToTransform(l,t,i,r,s);break;case hi.A:this.arcToTransform(l,t,i,r,s);break;case hi.E:this.ellipseTransform(l,t,i,r,s);break;case hi.R:this.rectTransform(l,t,i,r,s);break;case hi.AT:this.arcToTransform(l,t,i,r,s);break;case hi.Z:this.closePath()}}else this.commandList=e.map(a=>a.slice())}_updateBounds(){this.bounds.clear(),Nm(this.commandList,this._boundsContext)}release(){this.commandList=[],this._boundsContext=null,this._ctx=null}getLength(){if(this.direction===Qi.COLUMN){if(!this._curves.length)return 0;const e=this._curves[0],t=this._curves[this._curves.length-1];return qn(e.p0.y-t.p1.y)}if(this.direction===Qi.ROW){if(!this._curves.length)return 0;const e=this._curves[0],t=this._curves[this._curves.length-1];return qn(e.p0.x-t.p1.x)}return this._curves.reduce((e,t)=>e+t.getLength(),0)}getYAt(e){if(!this.curves)return 1/0;for(let t=0;t<this.curves.length;t++){const i=this.curves[t];if(i.includeX(e))return i.getYAt(e)}return 1/0}getAttrAt(e){if(!this._curves)return{pos:{x:0,y:0},angle:0};let t,i=0;for(let s=0;s<this._curves.length;s++){t=this._curves[s];const a=t.getLength(this.direction);if(i+a>=e)break;i+=a}const r=(e-i)/t.getLength(this.direction);return{pos:t.getPointAt(r),angle:t.getAngleAt(r)}}drawWithClipRange(e,t,i,r,s){this.tryBuildCurves();const a=this.getLength()*s;let o=0;for(let l=0;l<this._curves.length;l++){const u=this._curves[l],c=u.getLength(this.direction);if(!(o+c<=a)){const d=1-(o+c-a)/c;u.draw(e,i,r,t,t,d);break}u.draw(e,i,r,t,t,1),o+=c}}}const Rd=["l",0,0,0,0,0,0,0];function JHt(n,e,t){const i=Rd[0]=n[0];if(i==="a"||i==="A")Rd[1]=e*n[1],Rd[2]=t*n[2],Rd[3]=n[3],Rd[4]=n[4],Rd[5]=n[5],Rd[6]=e*n[6],Rd[7]=t*n[7];else if(i==="h"||i==="H")Rd[1]=e*n[1];else if(i==="v"||i==="V")Rd[1]=t*n[1];else for(let r=1,s=n.length;r<s;++r)Rd[r]=(r%2==1?e:t)*n[r];return Rd}const e3t={alignSelf:"auto"},vo={x:0,y:0,z:0,dx:0,dy:0,dz:0,scrollX:0,scrollY:0,scaleX:1,scaleY:1,scaleZ:1,angle:0,alpha:0,beta:0,scaleCenter:[0,0],anchor:[0,0],anchor3d:[0,0],postMatrix:new Rr},fOe={fillOpacity:1,fill:!1,shadowBlur:0,shadowColor:"black",shadowOffsetX:0,shadowOffsetY:0},W4={strokeOpacity:1,lineDash:[],lineDashOffset:0,lineWidth:1,lineCap:"butt",lineJoin:"miter",miterLimit:10,strokeBoundsBuffer:2,stroke:!1},pOe=Object.assign({outerBorder:Object.assign(Object.assign({},W4),{distance:0}),innerBorder:Object.assign(Object.assign({},W4),{distance:0})},W4),lh={text:"",maxLineWidth:1/0,maxWidth:1/0,textAlign:"left",textBaseline:"alphabetic",fontSize:16,fontFamily:`PingFang SC,Microsoft Yahei,system-ui,'-apple-system',segoe ui,
    Roboto,Helvetica,Arial,sans-serif, apple color emoji,segoe ui emoji,segoe ui symbol`,fontWeight:"",ellipsis:"",fontVariant:"",fontStyle:"",lineHeight:void 0,underline:0,lineThrough:0,scaleIn3d:!1,direction:"horizontal",wordBreak:"break-all",ignoreBuf:!1,verticalMode:0,wrap:!1,whiteSpace:"no-wrap",heightLimit:1/0,lineClamp:1/0,suffixPosition:"end",underlineDash:[],underlineOffset:0,disableAutoClipedPoptip:void 0,measureMode:Yb.fontBounding,keepCenterInLine:!1},t3t={pickStrokeBuffer:0},n3t=Object.assign(Object.assign(Object.assign(Object.assign({forceBoundsWidth:void 0,forceBoundsHeight:void 0,opacity:1,background:null,autoAnimateTexture:!1,textureRatio:1,textureOptions:null,backgroundOpacity:1,backgroundCornerRadius:0,texture:null,textureColor:"black",textureSize:10,texturePadding:2,backgroundMode:"no-repeat",backgroundFit:!0,backgroundKeepAspectRatio:!1,backgroundClip:!0,backgroundScale:1,backgroundOffsetX:0,backgroundOffsetY:0,blur:0,filter:"",cursor:null,html:null,react:null,vue:null},fOe),pOe),e3t),t3t),gOe={connectedType:"none",connectedStyle:{},connectedX:NaN,connectedY:NaN},i3t={_debug_bounds:!1},ps=Object.assign(Object.assign(Object.assign({strokeSeg:null,renderable:!0,pickable:!0,shadowGraphic:void 0,childrenPickable:!0,fillPickable:!0,strokePickable:!0,visible:!0,zIndex:0,layout:null,boundsPadding:0,fillStrokeOrder:0,renderStyle:"default",pickMode:"accurate",customPickShape:null,boundsMode:"accurate",keepDirIn3d:!0,shadowRootIdx:1,globalZIndex:1,globalCompositeOperation:"",overflow:"hidden",shadowPickMode:"graphic",keepStrokeScale:!1,clipConfig:null,roughStyle:null},i3t),n3t),vo),r3t=Object.assign(Object.assign({},ps),{startAngle:0,endAngle:xn,innerRadius:0,outerRadius:1,innerPadding:0,outerPadding:0,cornerRadius:0,padRadius:0,padAngle:0,cap:!1,forceShowCap:!1}),s3t=Object.assign(Object.assign(Object.assign({},ps),gOe),{points:[],segments:[],curveType:"linear",clipRange:1,closePath:!1,curveTension:1}),a3t=Object.assign(Object.assign({},ps),{radius:1,startAngle:0,endAngle:xn}),o3t=Object.assign(Object.assign({},ps),{width:0,height:0,cornerRadius:0,path:[],clip:!1,visibleAll:!0,display:"relative",flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-start",alignItems:"flex-start",alignContent:"flex-start",baseOpacity:1,cornerType:"round"}),l3t=Object.assign(Object.assign({},ps),{path:"",width:0,height:0,cornerRadius:0,clip:!1}),u3t=Object.assign(Object.assign(Object.assign({},ps),gOe),{points:[],segments:[],curveType:"linear",clipRange:1,clipRangeByDimension:"default",closePath:!1,curveTension:1}),c3t=Object.assign(Object.assign({},ps),{path:new Ts,fillStrokeOrder:1,clipRange:1,customPath:()=>{yi.getInstance().warn("")}}),d3t=Object.assign(Object.assign({},ps),{points:[],cornerRadius:0,closePath:!0}),h3t=Object.assign(Object.assign({},ps),{width:100,height:100,spikes:5,thickness:.5}),f3t=Object.assign(Object.assign({},ps),{width:0,height:0,x1:0,y1:0,strokeBoundsBuffer:0,cornerRadius:0,cornerType:"round",drawStrokeWhenZeroWH:!1});Object.assign(Object.assign({},ps),{width:0,height:0,x1:0,y1:0,cornerRadius:0,length:0,cornerType:"round",drawStrokeWhenZeroWH:!1});const p3t=Object.assign(Object.assign({},ps),{symbolType:"circle",size:10,keepDirIn3d:!0,clipRange:1}),mOe=Object.assign(Object.assign(Object.assign({},ps),lh),{strokeBoundsBuffer:0,keepDirIn3d:!0}),zg=Object.assign(Object.assign(Object.assign({},ps),lh),{upgradeAttrs:null,editable:!1,editOptions:null,ascentDescentMode:"actual",width:300,height:300,ellipsis:!0,wordBreak:"break-word",verticalDirection:"top",textAlign:"left",textBaseline:"top",layoutDirection:"horizontal",textConfig:[],disableAutoWrapLine:!1,maxHeight:void 0,maxWidth:void 0,singleLine:!1}),bO=Object.assign(Object.assign({repeatX:"no-repeat",repeatY:"no-repeat",image:"",width:0,height:0,maxWidth:500,maxHeight:500},ps),{fill:!0,cornerRadius:0,cornerType:"round"}),g3t=Object.assign(Object.assign({},bO),{backgroundShowMode:"never",backgroundWidth:0,backgroundHeight:0,textAlign:"left",textBaseline:"middle",direction:"horizontal",margin:0,id:"",width:20,height:20,backgroundFill:"rgba(101, 117, 168, 0.1)",backgroundFillOpacity:1,backgroundStroke:!1,backgroundStrokeOpacity:1,backgroundRadius:4,opacity:1}),m3t=function(){const n={linearGradient:/^(linear\-gradient)/i,radialGradient:/^(radial\-gradient)/i,conicGradient:/^(conic\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,fromAngleValue:/^from\s*(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/(^\#[0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^(rgb\(\d{1,3},\s*\d{1,3},\s*\d{1,3}\))/i,rgbaColor:/^(rgba\(\d{1,3},\s*\d{1,3},\s*\d{1,3},\s*((\d\.\d+)|\d{1,3})\))/i};let e="";function t(x){const w=new Error(e+": "+x);throw w.source=e,w}function i(){const x=f(r);return e.length>0&&t("Invalid input not EOF"),x}function r(){return s("linear",n.linearGradient,a)||s("radial",n.radialGradient,l)||s("conic",n.conicGradient,o)}function s(x,w,T){return function(E,A){const k=_(E);if(k){_(n.startCall)||t("Missing (");const P=A(k);return _(n.endCall)||t("Missing )"),P}}(w,function(E){const A=T();return A&&(_(n.comma)||t("Missing comma before color stops")),{type:x,orientation:A,colorStops:f(p)}})}function a(){return v("directional",n.sideOrCorner,1)||v("angular",n.angleValue,1)}function o(){return v("angular",n.fromAngleValue,1)}function l(){let x,w,T=u();return T&&(x=[],x.push(T),w=e,_(n.comma)&&(T=u(),T?x.push(T):e=w)),x}function u(){let x=function(){const w=v("shape",/^(circle)/i,0);return w&&(w.style=m()||c()),w}()||function(){const w=v("shape",/^(ellipse)/i,0);return w&&(w.style=g()||c()),w}();if(x)x.at=d();else{const w=c();if(w){x=w;const T=d();T&&(x.at=T)}else{const T=h();T&&(x={type:"default-radial",at:T})}}return x}function c(){return v("extent-keyword",n.extentKeywords,1)}function d(){if(v("position",/^at/,0)){const x=h();return x||t("Missing positioning value"),x}}function h(){const x={x:g(),y:g()};if(x.x||x.y)return{type:"position",value:x}}function f(x){let w=x();const T=[];if(w)for(T.push(w);_(n.comma);)w=x(),w?T.push(w):t("One extra comma");return T}function p(){const x=v("hex",n.hexColor,1)||v("rgba",n.rgbaColor,1)||v("rgb",n.rgbColor,1)||v("literal",n.literalColor,0);return x||t("Expected color definition"),x.length=g(),x}function g(){return v("%",n.percentageValue,1)||v("position-keyword",n.positionKeywords,1)||m()}function m(){return v("px",n.pixelValue,1)||v("em",n.emValue,1)}function v(x,w,T){const E=_(w);if(E)return{type:x,value:E[T]}}function _(x){const w=/^[\n\r\t\s]+/.exec(e);w&&y(w[0].length);const T=x.exec(e);return T&&y(T[0].length),T}function y(x){e=e.substr(x)}return function(x){return e=x.toString(),i()}}();class rf{static IsGradient(e){return!(typeof e=="string"&&!e.includes("gradient"))}static IsGradientStr(e){return typeof e=="string"&&e.includes("gradient")}static Parse(e){if(rf.IsGradientStr(e))try{const t=m3t(e)[0];if(t){if(t.type==="linear")return rf.ParseLinear(t);if(t.type==="radial")return rf.ParseRadial(t);if(t.type==="conic")return rf.ParseConic(t)}}catch{return e}return e}static processColorStops(e){if(!e||e.length===0)return[];if(e.some(t=>t.length)){const t=e.map(i=>({color:i.value,offset:i.length?parseFloat(i.length.value)/100:-1}));t[0].offset<0&&(t[0].offset=0),t[t.length-1].offset<0&&(t[t.length-1].offset=1);for(let i=1;i<t.length-1;i++)if(t[i].offset<0){const r=i-1;let s=i+1;for(;s<t.length&&t[s].offset<0;)s++;const a=t[r].offset,o=t[s].offset,l=s-r;for(let u=1;u<l;u++)t[r+u].offset=a+(o-a)*u/l;i=s-1}return t}return e.map((t,i)=>{const r=e.length>1?i/(e.length-1):0;return{color:t.value,offset:r}})}static ParseConic(e){const{orientation:t,colorStops:i=[]}=e,r=Di/2,s=parseFloat(t.value)/180*Di-r;return{gradient:"conical",x:.5,y:.5,startAngle:s,endAngle:s+xn,stops:rf.processColorStops(i)}}static ParseRadial(e){const{colorStops:t=[]}=e;return{gradient:"radial",x0:.5,y0:.5,x1:.5,y1:.5,r0:0,r1:1,stops:rf.processColorStops(t)}}static ParseLinear(e){const{orientation:t,colorStops:i=[]}=e,r=Di/2;let s=t.type==="angular"?parseFloat(t.value)/180*Di:0;for(;s<0;)s+=xn;for(;s>=xn;)s-=xn;let a=0,o=0,l=0,u=0;return s<r?(a=0,o=1,l=Math.sin(s),u=o-Math.cos(s)):s<Di?(a=0,o=0,l=Math.cos(s-r),u=Math.sin(s-r)):s<Di+r?(a=1,o=0,l=a-Math.sin(s-Di),u=Math.cos(s-Di)):(a=1,l=a-Math.cos(s-r-Di),u-=Math.sin(s-r-Di)),{gradient:"linear",x0:a,y0:o,x1:l,y1:u,stops:rf.processColorStops(i)}}}function mg(n,e,t){let i=e;const{a:r,b:s,c:a,d:o}=n.currentMatrix,l=Math.sign(r)*Math.sqrt(r*r+s*s),u=Math.sign(o)*Math.sqrt(a*a+o*o);return l+u===0?0:(i=i/Math.abs(l+u)*2*t,i)}function BF(n,e,t,i=0,r=0){var s,a,o,l;if(!e||e===!0)return"black";let u,c;if(Oe(e))for(let d=0;d<e.length&&(c=e[d],!c);d++);else c=e;if(c=rf.Parse(c),typeof c=="string")return c;if(t.AABBBounds&&(!t.attribute||t.attribute.scaleX!==0||t.attribute.scaleY!==0)){const d=t.AABBBounds;let h=d.x2-d.x1,f=d.y2-d.y1,p=d.x1-i,g=d.y1-r;if(t.attribute){const{scaleX:m=1,scaleY:v=1,angle:_=0}=t.attribute;h/=m,f/=v,p/=m,g/=v,(_||m!==1||v!==1)&&(p=(s=t.x1WithoutTransform)!==null&&s!==void 0?s:0,g=(a=t.y1WithoutTransform)!==null&&a!==void 0?a:0,h=(o=t.widthWithoutTransform)!==null&&o!==void 0?o:h,f=(l=t.heightWithoutTransform)!==null&&l!==void 0?l:f)}c.gradient==="linear"?u=v3t(n,c,p,g,h,f):c.gradient==="conical"?u=_3t(n,c,p,g,h,f):c.gradient==="radial"&&(u=y3t(n,c,p,g,h,f))}return u||"orange"}function v3t(n,e,t,i,r,s){var a,o,l,u;const c=n.createLinearGradient(t+((a=e.x0)!==null&&a!==void 0?a:0)*r,i+((o=e.y0)!==null&&o!==void 0?o:0)*s,t+((l=e.x1)!==null&&l!==void 0?l:1)*r,i+((u=e.y1)!==null&&u!==void 0?u:0)*s);return e.stops.forEach(d=>{c.addColorStop(d.offset,d.color)}),c}function y3t(n,e,t,i,r,s){var a,o,l,u,c,d;const h=n.createRadialGradient(t+((a=e.x0)!==null&&a!==void 0?a:.5)*r,i+((o=e.y0)!==null&&o!==void 0?o:.5)*s,Math.max(r,s)*((l=e.r0)!==null&&l!==void 0?l:0),t+((u=e.x1)!==null&&u!==void 0?u:.5)*r,i+((c=e.y1)!==null&&c!==void 0?c:.5)*s,Math.max(r,s)*((d=e.r1)!==null&&d!==void 0?d:.5));return e.stops.forEach(f=>{h.addColorStop(f.offset,f.color)}),h}function _3t(n,e,t,i,r,s){var a,o;const l=n.createConicGradient(t+((a=e.x)!==null&&a!==void 0?a:0)*r,i+((o=e.y)!==null&&o!==void 0?o:0)*s,e.startAngle,e.endAngle);return e.stops.forEach(u=>{l.addColorStop(u.offset,u.color)}),l.GetPattern?l.GetPattern(r+t,s+i,void 0):l}const dZ={horizontal:{width:"width",height:"height",left:"left",top:"top",x:"x",y:"y",bottom:"bottom"},vertical:{width:"height",height:"width",left:"top",top:"left",x:"y",y:"x",bottom:"right"}},vOe={fill:!0,stroke:!1},$F=/\w|\(|\)|-/,yOe=/[.?!,;:/]/,b3t=/\S/,_Oe=(n,e)=>{let t=e.fontSize||16;switch(e.script){case"super":case"sub":t*=.8}n.setTextStyle({textAlign:"left",textBaseline:e.textBaseline||"alphabetic",fontStyle:e.fontStyle||"",fontWeight:e.fontWeight||"",fontSize:t,fontFamily:e.fontFamily})};function S3t(n,e,t){const i=e&&e.fill||vOe.fill,{fillOpacity:r=1,opacity:s=1}=e;n.globalAlpha=r*s,n.fillStyle=t?BF(n,i,{AABBBounds:t}):i,_Oe(n,e)}function x3t(n,e){const t=e&&e.stroke||vOe.stroke;if(!t)return void(n.globalAlpha=0);const{strokeOpacity:i=1,opacity:r=1}=e;n.globalAlpha=i*r,n.lineWidth=e&&typeof e.lineWidth=="number"?e.lineWidth:1,n.strokeStyle=t,_Oe(n,e)}function Y2(n,e,t,i,r){if(n.length<=1||!e||e<=0)return 0;const s=lt.graphicUtil.textMeasure;let a=i,o=n.slice(0,a),l=Math.floor(s.measureText(o,t).width),u=n.slice(0,a+1),c=Math.floor(s.measureText(u,t).width);for(;l>e||c<=e;){if(l>e?a--:a++,a>n.length){a=n.length;break}if(a<0){a=0;break}o=n.slice(0,a),l=Math.floor(s.measureText(o,t).width),u=n.slice(0,a+1),c=Math.floor(s.measureText(u,t).width)}return r&&(a=K2(n,a)),a}function K2(n,e,t=!1){let i=e;for(;$F.test(n[i-1])&&$F.test(n[i])||yOe.test(n[i]);)if(i--,i<=0)return t?w3t(n,e):e;return i}function w3t(n,e){let t=e;for(;$F.test(n[t+1])&&$F.test(n[t])||yOe.test(n[t]);)if(t++,t>=n.length)return t;return t+1}function pb(n,e,t="actual"){var i;if(n==="")return{ascent:0,height:0,descent:0,width:0};const r=lt.graphicUtil.textMeasure.measureText(n,e),s={ascent:0,height:0,descent:0,width:0},a=t==="actual"?r.actualBoundingBoxAscent:r.fontBoundingBoxAscent,o=t==="actual"?r.actualBoundingBoxDescent:r.fontBoundingBoxDescent;typeof a!="number"||typeof o!="number"?(s.width=Math.floor(r.width),s.height=e.fontSize||0,s.ascent=s.height,s.descent=0):(s.width=Math.floor(r.width),s.height=Math.floor(a+o),s.ascent=Math.floor(a),s.descent=s.height-s.ascent);const l=(i=e.space)!==null&&i!==void 0?i:0;return s.width+=l,s}var C3t=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a};let Z8=class{constructor(){this.id="ATextMeasure"}configure(n,e){this.canvas=n.canvas,this.context=n.context,n.bindTextMeasure(this)}_measureTextWithoutAlignBaseline(n,e,t){this.context.setTextStyleWithoutAlignBaseline(e);const i=this.context.measureText(n);return t?this.compatibleMetrics(i,e):i}_measureTextWithAlignBaseline(n,e,t){this.context.setTextStyle(e);const i=this.context.measureText(n);return t?this.compatibleMetrics(i,e):i}compatibleMetrics(n,e){if(n.actualBoundingBoxAscent==null||n.actualBoundingBoxDescent==null||n.fontBoundingBoxAscent==null||n.fontBoundingBoxDescent==null){n={width:n.width};const{ascent:t,descent:i}=this.measureTextBoundADscentEstimate(e);n.actualBoundingBoxAscent=t,n.actualBoundingBoxDescent=i,n.fontBoundingBoxAscent=t,n.fontBoundingBoxDescent=i}if(n.actualBoundingBoxLeft==null||n.actualBoundingBoxRight==null){n={width:n.width,actualBoundingBoxAscent:n.actualBoundingBoxAscent,actualBoundingBoxDescent:n.actualBoundingBoxDescent,fontBoundingBoxAscent:n.fontBoundingBoxAscent,fontBoundingBoxDescent:n.fontBoundingBoxDescent};const{left:t,right:i}=this.measureTextBoundLeftRightEstimate(e);n.actualBoundingBoxLeft=t,n.actualBoundingBoxRight=i}return n}estimate(n,{fontSize:e=mOe.fontSize}){let t=0,i=0;for(let r=0;r<n.length;r++)n.charCodeAt(r)<128?t++:i++;return{width:~~(.8*t*e+i*e),height:e}}measureTextWidth(n,e,t){return this.context?(t=t??this._measureTextWithoutAlignBaseline(n,e)).width:this.estimate(n,e).width}measureTextBoundsWidth(n,e,t){return this.context?(t=t??this._measureTextWithoutAlignBaseline(n,e)).width:this.estimate(n,e).width}measureTextBoundsLeftRight(n,e,t){return this.context?{left:(t=t??this._measureTextWithAlignBaseline(n,e,!0)).actualBoundingBoxLeft,right:t.actualBoundingBoxRight}:this.measureTextBoundLeftRightEstimate(e)}measureTextPixelHeight(n,e,t){var i;return this.context?(t=t??this._measureTextWithoutAlignBaseline(n,e,!0),Math.abs(t.actualBoundingBoxAscent-t.actualBoundingBoxDescent)):(i=e.fontSize)!==null&&i!==void 0?i:lh.fontSize}measureTextPixelADscent(n,e,t){return this.context?{ascent:(t=t??this._measureTextWithAlignBaseline(n,e,!0)).actualBoundingBoxAscent,descent:t.actualBoundingBoxDescent}:this.measureTextBoundADscentEstimate(e)}measureTextBoundHieght(n,e,t){var i;return this.context?(t=t??this._measureTextWithoutAlignBaseline(n,e,!0),Math.abs(t.fontBoundingBoxAscent-t.fontBoundingBoxDescent)):(i=e.fontSize)!==null&&i!==void 0?i:lh.fontSize}measureTextBoundADscent(n,e,t){return this.context?{ascent:(t=t??this._measureTextWithAlignBaseline(n,e,!0)).fontBoundingBoxAscent,descent:t.fontBoundingBoxDescent}:this.measureTextBoundADscentEstimate(e)}measureTextBoundADscentEstimate(n){var e;const t=(e=n.fontSize)!==null&&e!==void 0?e:lh.fontSize;return{ascent:.79*t,descent:.21*t}}measureTextBoundLeftRightEstimate(n){var e;const t=(e=n.fontSize)!==null&&e!==void 0?e:lh.fontSize,{textAlign:i}=n;return i==="center"?{left:t/2,right:t/2}:i==="right"||i==="end"?{left:t,right:0}:{left:0,right:t}}measureTextPixelADscentAndWidth(n,e,t){if(!this.context)return Object.assign(Object.assign({},this.measureTextBoundADscentEstimate(e)),{width:this.estimate(n,e).width});const i=this._measureTextWithoutAlignBaseline(n,e,!0);if(t===Yb.actualBounding)return{ascent:i.actualBoundingBoxAscent,descent:i.actualBoundingBoxDescent,width:i.width};if(t===Yb.estimate)return Object.assign(Object.assign({},this.measureTextBoundADscentEstimate(e)),{width:i.width});if(t===Yb.fontBounding){let r=i.fontBoundingBoxAscent,s=i.fontBoundingBoxDescent;if(i.actualBoundingBoxDescent&&s<i.actualBoundingBoxDescent){const a=i.actualBoundingBoxDescent-s;s+=a,r-=a}else if(i.actualBoundingBoxAscent&&r<i.actualBoundingBoxAscent){const a=i.actualBoundingBoxAscent-r;r+=a,s-=a}return{ascent:r,descent:s,width:i.width}}return{ascent:i.actualBoundingBoxAscent,descent:i.actualBoundingBoxDescent,width:i.width}}measureText(n,e){return this.context?(this.context.setTextStyleWithoutAlignBaseline(e),this.context.measureText(n)):this.estimate(n,e)}clipTextVertical(n,e,t,i){if(n.length===0)return{verticalList:n,width:0};const{fontSize:r=12}=e;n.forEach(l=>{l.width=l.direction===0?r:this.measureTextWidth(l.text,e)});const s=[];let a=0,o=0;for(;o<n.length&&a+n[o].width<t;o++)a+=n[o].width,s.push(n[o]);if(n[o]&&n[o].text.length>1){const l=this._clipText(n[o].text,e,t-a,0,n[o].text.length-1,"end",!1);if(i&&l.str!==n[o].text){let u="",c=0;for(let f=0;f<o;f++){const p=n[f];u+=p.text,c+=p.text.length}u+=n[o].text;const d=c+l.str.length;let h=K2(u,d);h-=c,h!==l.str.length-1&&(l.str=l.str.substring(0,h),l.width=this.measureTextWidth(l.str,e))}s.push(Object.assign(Object.assign({},n[o]),{text:l.str,width:l.width})),a+=l.width}return{verticalList:s,width:a}}clipText(n,e,t,i,r){if(n.length===0)return{str:"",width:0};let s=this.measureTextWidth(n,e);if(s<=t)return{str:n,width:s};if(s=this.measureTextWidth(n[0],e),s>t)return{str:"",width:0};const a=this._clipText(n,e,t,0,n.length-1,"end",!1);if(i&&a.str!==n){let o=K2(n,a.str.length,r);o!==a.str.length&&(o>a.str.length&&(a.wordBreaked=o,o=a.str.length),a.str=n.substring(0,o),a.width=this.measureTextWidth(a.str,e))}return a}_clipText(n,e,t,i,r,s,a){let o;if(s==="start")o=this._clipTextStart(n,e,t,i,r),a&&(o.result=a+o.str);else if(s==="middle"){const l=this._clipTextMiddle(n,e,t,"","",0,0,1);o={str:"none",width:l.width,result:l.left+a+l.right}}else o=this._clipTextEnd(n,e,t,i,r),a&&(o.result=o.str+a);return o}_clipTextEnd(n,e,t,i,r){if(i===r){yi.getInstance().warn(`_clipTextEnd${n}, ${i}, ${r}`);const u=n.substring(0,r+1);return{str:u,width:this.measureTextWidth(u,e)}}const s=Math.floor((i+r)/2),a=n.substring(0,s+1),o=this.measureTextWidth(a,e);let l;if(o>t){if(a.length<=1)return{str:"",width:0};const u=n.substring(0,s);return l=this.measureTextWidth(u,e),l<=t?{str:u,width:l}:this._clipTextEnd(n,e,t,i,s)}if(o<t){if(s>=n.length-1)return{str:n,width:this.measureTextWidth(n,e)};const u=n.substring(0,s+2);return l=this.measureTextWidth(u,e),l>=t?{str:a,width:o}:this._clipTextEnd(n,e,t,s,r)}return{str:a,width:o}}_clipTextStart(n,e,t,i,r){const s=Math.ceil((i+r)/2),a=n.substring(s-1,n.length),o=this.measureTextWidth(a,e);let l;if(o>t){if(a.length<=1)return{str:"",width:0};const u=n.substring(s,n.length);return l=this.measureTextWidth(u,e),l<=t?{str:u,width:l}:this._clipTextStart(n,e,t,s,n.length)}if(o<t){if(s<=0)return{str:n,width:this.measureTextWidth(n,e)};const u=n.substring(s-2,n.length);return l=this.measureTextWidth(u,e),l>=t?{str:a,width:o}:this._clipTextStart(n,e,t,i,s)}return{str:a,width:o}}_clipTextMiddle(n,e,t,i,r,s,a,o){const l=n.substring(0,o),u=this.measureTextWidth(l,e);if(u+a>t)return{left:i,right:r,width:s+a};const c=n.substring(n.length-o,n.length),d=this.measureTextWidth(c,e);return u+d>t?{left:l,right:r,width:u+a}:this._clipTextMiddle(n,e,t,l,c,u,d,o+1)}clipTextWithSuffixVertical(n,e,t,i,r,s){if(i==="")return this.clipTextVertical(n,e,t,r);if(n.length===0)return{verticalList:n,width:0};const a=this.clipTextVertical(n,e,t,r);if(a.verticalList.length===n.length&&a.verticalList[a.verticalList.length-1].width===n[n.length-1].width)return a;const o=this.measureTextWidth(i,e);if(o>t)return a;let l;if(t-=o,s==="start"){const u=this.revertVerticalList(n);l=this.clipTextVertical(u,e,t,r);const c=this.revertVerticalList(l.verticalList);c.unshift({text:i,direction:1,width:o}),l.verticalList=c}else if(s==="middle"){const u=this.clipTextVertical(n,e,t/2,r),c=this.revertVerticalList(n),d=this.clipTextVertical(c,e,t/2,r);u.verticalList.push({text:i,direction:1,width:o}),this.revertVerticalList(d.verticalList).forEach(h=>u.verticalList.push(h)),l={verticalList:u.verticalList,width:u.width+d.width}}else l=this.clipTextVertical(n,e,t,r),l.verticalList.push({text:i,direction:1,width:o});return l.width+=o,l}revertVerticalList(n){return n.reverse().map(e=>{const t=e.text.split("").reverse().join("");return Object.assign(Object.assign({},e),{text:t})})}clipTextWithSuffix(n,e,t,i,r,s,a=!1){if(i==="")return this.clipText(n,e,t,r);if(n.length===0)return{str:"",width:0};const o=this.measureTextWidth(n,e);if(!a&&o<=t)return{str:n,width:o};const l=this.measureTextWidth(i,e);if(l>t)return{str:"",width:0};if(a&&o+l<=t)return{str:n+i,width:o+l};t-=l;const u=this._clipText(n,e,t,0,n.length-1,s,i);if(r&&u.str!==n){const c=K2(n,u.str.length);c!==u.str.length&&(u.result=n.substring(0,c),u.width=this.measureTextWidth(u.str,e))}else a&&u.str===n&&(u.result=n+i);return u.str=u.result,u.width+=l,u}};Z8=C3t([Nt()],Z8);var T3t=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a};const Q8=Symbol.for("TextMeasureContribution");let J8=class extends Z8{constructor(){super(...arguments),this.id="DefaultTextMeasureContribution"}};J8=T3t([Nt()],J8);const bOe=Symbol.for("CanvasFactory"),E3t=Symbol.for("Context2dFactory");function eY(n){return Tn.getNamed(bOe,lt.global.env)(n)}const SOe=1e-4,kde=Math.sqrt(3),yD=1/3;function fy(n){return n>-SO&&n<SO}function xOe(n){return n>SO||n<-SO}const Dp=[0,0],Xd=[0,0],Lw=[0,0];function Fw(n,e){return(n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1])}function Jg(n,e,t,i){const r=1-i;return r*(r*n+2*i*e)+i*i*t}function em(n,e,t,i,r){const s=1-r;return s*s*(s*n+3*r*e)+r*r*(r*i+3*s*t)}function A3t(n,e,t,i,r){const s=n-2*e+t,a=2*(e-n),o=n-i;let l=0;if(fy(s)){if(xOe(a)){const u=-o/a;u>=0&&u<=1&&(r[l++]=u)}}else{const u=a*a-4*s*o;if(fy(u)){const c=-a/(2*s);c>=0&&c<=1&&(r[l++]=c)}else if(u>0){const c=Math.sqrt(u),d=(-a+c)/(2*s),h=(-a-c)/(2*s);d>=0&&d<=1&&(r[l++]=d),h>=0&&h<=1&&(r[l++]=h)}}return l}function k3t(n,e,t){const i=n+t-2*e;return i===0?.5:(n-e)/i}function O3t(n,e,t,i,r,s,a,o,l){let u=0,c=.005,d=1/0;Dp[0]=a,Dp[1]=o;for(let h=0;h<1;h+=.05){Xd[0]=Jg(n,t,r,h),Xd[1]=Jg(e,i,s,h);const f=Fw(Dp,Xd);f<d&&(u=h,d=f)}d=1/0;for(let h=0;h<32&&!(c<SOe);h++){const f=u-c,p=u+c;Xd[0]=Jg(n,t,r,f),Xd[1]=Jg(e,i,s,f);const g=Fw(Xd,Dp);if(f>=0&&g<d)u=f,d=g;else{Lw[0]=Jg(n,t,r,p),Lw[1]=Jg(e,i,s,p);const m=Fw(Lw,Dp);p<=1&&m<d?(u=p,d=m):c*=.5}}return Math.sqrt(d)}function P3t(n,e,t,i,r,s,a,o,l,u,c){let d,h,f,p,g=0,m=.005,v=1/0;Dp[0]=l,Dp[1]=u;for(let _=0;_<1;_+=.05)Xd[0]=em(n,t,r,a,_),Xd[1]=em(e,i,s,o,_),f=Fw(Dp,Xd),f<v&&(g=_,v=f);v=1/0;for(let _=0;_<32&&!(m<SOe);_++)d=g-m,h=g+m,Xd[0]=em(n,t,r,a,d),Xd[1]=em(e,i,s,o,d),f=Fw(Xd,Dp),d>=0&&f<v?(g=d,v=f):(Lw[0]=em(n,t,r,a,h),Lw[1]=em(e,i,s,o,h),p=Fw(Lw,Dp),h<=1&&p<v?(g=h,v=p):m*=.5);return Math.sqrt(v)}function _D(n){return(n%=xn)<0&&(n+=xn),n}function M3t(n,e,t,i,r,s,a,o,l){if(a===0)return!1;const u=a;return l>e+u&&l>i+u&&l>s+u||l<e-u&&l<i-u&&l<s-u||o>n+u&&o>t+u&&o>r+u||o<n-u&&o<t-u&&o<r-u?!1:O3t(n,e,t,i,r,s,o,l)<=u/2}function I3t(n,e,t,i,r,s,a,o,l,u,c){if(l===0)return!1;const d=l;return c>e+d&&c>i+d&&c>s+d&&c>o+d||c<e-d&&c<i-d&&c<s-d&&c<o-d||u>n+d&&u>t+d&&u>r+d&&u>a+d||u<n-d&&u<t-d&&u<r-d&&u<a-d?!1:P3t(n,e,t,i,r,s,a,o,u,c)<=d/2}function R3t(n,e,t,i,r,s,a,o,l){if(a===0)return!1;const u=a;o-=n,l-=e;const c=Math.sqrt(o*o+l*l);if(c-u>t||c+u<t)return!1;if(Math.abs(i-r)%xn<1e-4)return!0;if(s){const h=i;i=_D(r),r=_D(h)}else i=_D(i),r=_D(r);i>r&&(r+=xn);let d=Math.atan2(l,o);return d<0&&(d+=xn),d>=i&&d<=r||d+xn>=i&&d+xn<=r}function tx(n,e,t,i,r,s,a){if(r===0)return!1;const o=r,l=r/2;let u=0,c=n;if(a>e+l&&a>i+l||a<e-l&&a<i-l||s>n+l&&s>t+l||s<n-l&&s<t-l)return!1;if(n===t)return Math.abs(s-n)<=o/2;u=(e-i)/(n-t),c=(n*i-t*e)/(n-t);const d=u*s-a+c;return d*d/(u*u+1)<=o/2*o/2}const SO=1e-4;function D3t(n,e,t,i,r,s){const a=i+3*(e-t)-n,o=3*(t-2*e+n),l=3*(e-n),u=n-r,c=o*o-3*a*l,d=o*l-9*a*u,h=l*l-3*o*u;let f=0;if(fy(c)&&fy(d))if(fy(o))s[0]=0;else{const p=-l/o;p>=0&&p<=1&&(s[f++]=p)}else{const p=d*d-4*c*h;if(fy(p)){const g=d/c,m=-o/a+g,v=-g/2;m>=0&&m<=1&&(s[f++]=m),v>=0&&v<=1&&(s[f++]=v)}else if(p>0){const g=Math.sqrt(p);let m=c*o+1.5*a*(-d+g),v=c*o+1.5*a*(-d-g);m=m<0?-Math.pow(-m,yD):Math.pow(m,yD),v=v<0?-Math.pow(-v,yD):Math.pow(v,yD);const _=(-o-(m+v))/(3*a);_>=0&&_<=1&&(s[f++]=_)}else{const g=(2*c*o-3*a*d)/(2*Math.sqrt(c*c*c)),m=Math.acos(g)/3,v=Math.sqrt(c),_=Math.cos(m),y=(-o-2*v*_)/(3*a),x=(-o+v*(_+kde*Math.sin(m)))/(3*a),w=(-o+v*(_-kde*Math.sin(m)))/(3*a);y>=0&&y<=1&&(s[f++]=y),x>=0&&x<=1&&(s[f++]=x),w>=0&&w<=1&&(s[f++]=w)}}return f}function L3t(n,e,t,i,r){const s=6*t-12*e+6*n,a=9*e+3*i-3*n-9*t,o=3*e-3*n;let l=0;if(fy(a)){if(xOe(s)){const u=-o/s;u>=0&&u<=1&&(r[l++]=u)}}else{const u=s*s-4*a*o;if(fy(u))r[0]=-s/(2*a);else if(u>0){const c=Math.sqrt(u),d=(-s+c)/(2*a),h=(-s-c)/(2*a);d>=0&&d<=1&&(r[l++]=d),h>=0&&h<=1&&(r[l++]=h)}}return l}function F3t(n,e){return Math.abs(n-e)<SO}const _u=[-1,-1,-1],zd=[-1,-1];function B3t(){const n=zd[0];zd[0]=zd[1],zd[1]=n}function $3t(n,e,t,i,r,s,a,o,l,u){if(u>e&&u>i&&u>s&&u>o||u<e&&u<i&&u<s&&u<o)return 0;const c=D3t(e,i,s,o,u,_u);if(c===0)return 0;let d=0,h=-1,f=0,p=0;for(let g=0;g<c;g++){const m=_u[g],v=m===0||m===1?.5:1;em(n,t,r,a,m)<l||(h<0&&(h=L3t(e,i,s,o,zd),zd[1]<zd[0]&&h>1&&B3t(),f=em(e,i,s,o,zd[0]),h>1&&(p=em(e,i,s,o,zd[1]))),h===2?m<zd[0]?d+=f<e?v:-v:m<zd[1]?d+=p<f?v:-v:d+=o<p?v:-v:m<zd[0]?d+=f<e?v:-v:d+=o<f?v:-v)}return d}function N3t(n,e,t,i,r,s,a,o){if(o>e&&o>i&&o>s||o<e&&o<i&&o<s)return 0;const l=A3t(e,i,s,o,_u);if(l===0)return 0;const u=k3t(e,i,s);if(u>=0&&u<=1){let d=0;const h=Jg(e,i,s,u);for(let f=0;f<l;f++){const p=_u[f]===0||_u[f]===1?.5:1;Jg(n,t,r,_u[f])<a||(_u[f]<u?d+=h<e?p:-p:d+=s<h?p:-p)}return d}const c=_u[0]===0||_u[0]===1?.5:1;return Jg(n,t,r,_u[0])<a?0:s<e?c:-c}function j3t(n,e,t,i,r,s,a,o){if((o-=e)>t||o<-t)return 0;const l=Math.sqrt(t*t-o*o);_u[0]=-l,_u[1]=l;const u=Math.abs(i-r);if(u<1e-4)return 0;if(u>=xn-1e-4){i=0,r=xn;const d=s?1:-1;return a>=_u[0]+n&&a<=_u[1]+n?d:0}if(i>r){const d=i;i=r,r=d}i<0&&(i+=xn,r+=xn);let c=0;for(let d=0;d<2;d++){const h=_u[d];if(h+n>a){let f=Math.atan2(o,h),p=s?1:-1;f<0&&(f=xn+f),(f>=i&&f<=r||f+xn>=i&&f+xn<=r)&&(f>Di/2&&f<1.5*Di&&(p=-p),c+=p)}}return c}function U4(n){return Math.round(n/Di*1e8)/1e8%2*Di}function z3t(n,e){let t=U4(n[0]);t<0&&(t+=xn);const i=t-n[0];let r=n[1];r+=i,!e&&r-t>=xn?r=t+xn:e&&t-r>=xn?r=t-xn:!e&&t>r?r=t+(xn-U4(t-r)):e&&t<r&&(r=t-(xn-U4(r-t))),n[0]=t,n[1]=r}const sE=[0,0];function wOe(n,e,t,i,r){const s=n,a=n.length;let o,l,u=0,c=0,d=0,h=0,f=0;for(let p=0;p<a;p++){const g=s[p],m=p===0;g[0]===hi.M&&p>1&&(t||(u+=qg(c,d,h,f,i,r))),m&&(c=g[1],d=g[2],h=c,f=d);const v=g[0],_=g[1],y=g[2],x=g[3],w=g[4],T=g[5],E=g[6];let A=w,k=T;sE[0]=A,sE[1]=k,z3t(sE,!!g[6]),A=sE[0],k=sE[1];const P=A,I=k-A,D=!!(1-(g[6]?0:1)),L=(i-_)*x/x+_;switch(v){case hi.M:h=_,f=y,c=h,d=f;break;case hi.L:if(t){if(tx(c,d,_,y,e,i,r))return!0}else u+=qg(c,d,_,y,i,r)||0;c=_,d=y;break;case hi.C:if(t){if(I3t(c,d,_,y,x,w,T,E,e,i,r))return!0}else u+=$3t(c,d,_,y,x,w,T,E,i,r)||0;c=T,d=E;break;case hi.Q:if(t){if(M3t(c,d,_,y,x,w,e,i,r))return!0}else u+=N3t(c,d,_,y,x,w,i,r)||0;c=x,d=w;break;case hi.A:if(o=Math.cos(P)*x+_,l=Math.sin(P)*x+y,m?(h=o,f=l):u+=qg(c,d,o,l,i,r),t){if(R3t(_,y,x,P,P+I,D,e,L,r))return!0}else u+=j3t(_,y,x,P,P+I,D,L,r);c=Math.cos(P+I)*x+_,d=Math.sin(P+I)*x+y;break;case hi.R:if(h=c=_,f=d=y,o=h+x,l=f+w,t){if(tx(h,f,o,f,e,i,r)||tx(o,f,o,l,e,i,r)||tx(o,l,h,l,e,i,r)||tx(h,l,h,f,e,i,r))return!0}else u+=qg(o,f,o,l,i,r),u+=qg(h,l,h,f,i,r);break;case hi.Z:if(t){if(tx(c,d,h,f,e,i,r))return!0}else u+=qg(c,d,h,f,i,r);c=h,d=f}}return t||F3t(d,f)||(u+=qg(c,d,h,f,i,r)||0),u!==0}function H3t(n,e,t){return wOe(n,0,!1,e,t)}function V3t(n,e,t,i){return wOe(n,e,!0,t,i)}class W3t{constructor(){this.pools=[],this.allocatedCanvas=[]}shareCanvas(){return this.allocatedCanvas.length?this.allocatedCanvas[0]:this.getCommonCanvas()}getCommonCanvas(){return this._commonCanvas||(this._commonCanvas=this.allocate({width:100,height:100,dpr:2})),this._commonCanvas}allocate(e){if(!this.pools.length){const i=eY(Object.assign({nativeCanvas:lt.global.createCanvas(e)},e));return this.allocatedCanvas.push(i),i}const t=this.pools.pop();return t.resize(e.width,e.height),t.dpr=e.dpr,t}allocateByObj(e){if(!this.pools.length){const i={width:e.width/e.dpr,height:e.height/e.dpr,dpr:e.dpr},r=eY(Object.assign({nativeCanvas:lt.global.createCanvas(i)},i));return this.allocatedCanvas.push(r),r}const t=this.pools.pop();return t.width=e.width,t.height=e.height,t}free(e){this.pools.push(e)}get length(){return this.pools.length}release(...e){this.pools=[]}}const Kb=new W3t;var U3t=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},G3t=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)};const NF=Symbol.for("VWindow"),hZ=Symbol.for("WindowHandlerContribution");let tY=class extends iOe{get width(){if(this._handler){const n=this._handler.getWH();return this._width=n.width}return this._width}get height(){if(this._handler){const n=this._handler.getWH();return this._height=n.height}return this._height}get dpr(){return this._handler.getDpr()}constructor(){super(),this.hooks={onChange:new jl(["x","y","width","height"])},this.active=()=>{const n=this.global;!n.env||this.actived||(Tn.getNamed(hZ,n.env).configure(this,n),this.actived=!0)},this._uid=aa.GenAutoIncrementId(),this.global=lt.global,this.postInit()}_nativeAddEventListener(n,e,t){return this._handler.addEventListener(n,e,t)}_nativeRemoveEventListener(n,e,t){return this._handler.removeEventListener(n,e,t)}_nativeDispatchEvent(n){return this._handler.dispatchEvent(n)}postInit(){this.global.hooks.onSetEnv.tap("window",this.active),this.active()}get style(){var n;return(n=this._handler.getStyle())!==null&&n!==void 0?n:{}}set style(n){this._handler.setStyle(n)}create(n){var e,t;this._handler.createWindow(n);const i=this._handler.getWH();this._width=i.width,this._height=i.height,n.viewBox?this.setViewBox(n.viewBox):n.canvasControled!==!1?this.setViewBox({x1:0,y1:0,x2:this._width,y2:this._height}):this.setViewBox({x1:0,y1:0,x2:(e=n.width)!==null&&e!==void 0?e:this._width,y2:(t=n.height)!==null&&t!==void 0?t:this._height}),this.title=this._handler.getTitle(),this.resizable=!0}setWindowHandler(n){this._handler=n}setDpr(n){return this._handler.setDpr(n)}resize(n,e){return this._handler.resizeWindow(n,e)}configure(){throw new Error("")}release(){return this.global.hooks.onSetEnv.unTap("window",this.active),this.clearAllEventListeners(),this._handler.releaseWindow()}getContext(){return this._handler.getContext()}getNativeHandler(){return this._handler.getNativeHandler()}getImageBuffer(n){return this._handler.getImageBuffer?this._handler.getImageBuffer(n):null}getBoundingClientRect(){return this._handler.getBoundingClientRect()}getContainer(){return this._handler.container}clearViewBox(n){this._handler.clearViewBox(n)}setViewBox(n){this._handler.setViewBox(n)}setViewBoxTransform(n,e,t,i,r,s){this._handler.setViewBoxTransform(n,e,t,i,r,s)}getViewBox(){return this._handler.getViewBox()}getViewBoxTransform(){return this._handler.getViewBoxTransform()}pointTransform(n,e){const t=this._handler.getViewBox(),i={x:n,y:e};return this._handler.getViewBoxTransform().transformPoint({x:n,y:e},i),i.x-=t.x1,i.y-=t.y1,i}hasSubView(){const n=this._handler.getViewBox();return!(n.x1===0&&n.y1===0&&zs(this.width,n.width())&&zs(this.height,n.height()))}isVisible(n){return this._handler.isVisible(n)}onVisibleChange(n){return this._handler.onVisibleChange(n)}getTopLeft(n){return this._handler.getTopLeft(n)}};tY=U3t([Nt(),G3t("design:paramtypes",[])],tY);var COe=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},TOe=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Ode=function(n,e){return function(t,i){e(t,i,n)}};let nY=class{get canvas(){return this.tryInitCanvas(),this._canvas}get context(){return this.tryInitCanvas(),this._context}constructor(n){this.contributions=n,this.configured=!1,this.global=lt.global,this._textMeasureMap=new Map,this.global.hooks.onSetEnv.tap("graphic-util",(e,t,i)=>{this.configured=!1,this.configure(i,t)})}get textMeasure(){return this._textMeasure||this.configure(this.global,this.global.env),this._textMeasure}getTextMeasureInstance(n){return n?this._textMeasureMap.get(n)||this.textMeasure:this.textMeasure}configure(n,e){this.configured||(this.contributions.getContributions().forEach(t=>{t.configure(this,e)}),this.configured=!0)}tryInitCanvas(){if(!this._canvas){const n=Kb.shareCanvas();this._canvas=n,this._context=n.getContext("2d")}}bindTextMeasure(n){this._textMeasure&&n.id!=="DefaultTextMeasureContribution"||(this._textMeasure=n),this._textMeasureMap.has(n.id)||this._textMeasureMap.set(n.id,n)}measureText(n,e,t="native"){var i;this.configure(this.global,this.global.env);const r=this.global.measureTextMethod;this.global.measureTextMethod=t;const s={width:this._textMeasure.measureTextWidth(n,e),height:(i=e.fontSize)!==null&&i!==void 0?i:lh.fontSize};return this.global.measureTextMethod=r,s}createTextMeasureInstance(n,e,t){return this.configure(this.global,this.global.env),new Vl(Object.assign({defaultFontParams:{fontFamily:lh.fontFamily,fontSize:lh.fontSize},getCanvasForMeasure:t||(()=>this.canvas),getTextBounds:void 0,specialCharSet:`-/: .,@%'"~`+Vl.ALPHABET_CHAR_SET+Vl.ALPHABET_CHAR_SET.toUpperCase()},e??{}),n)}drawGraphicToCanvas(n,e,t){if(!e.defaultLayer)return null;const i=Tn.get(NF),r=n.AABBBounds,s=r.width(),a=r.height(),o=-r.x1,l=-r.y1;i.create({viewBox:{x1:o,y1:l,x2:r.x2,y2:r.y2},width:s,height:a,canvas:t,dpr:e.window.dpr,canvasControled:!0,offscreen:!0,title:""});const u=e.params.optimize.disableCheckGraphicWidthOutRange;e.params.optimize.disableCheckGraphicWidthOutRange=!0,e.defaultLayer.getNativeHandler().drawTo(i,[n],{transMatrix:i.getViewBoxTransform(),viewBox:i.getViewBox(),stage:e,layer:e.defaultLayer,renderService:e.renderService,background:"transparent",clear:!0,updateBounds:!1}),e.params.optimize.disableCheckGraphicWidthOutRange=u;const c=i.getNativeHandler();return c.nativeCanvas?c.nativeCanvas:null}};nY=COe([Nt(),Ode(0,Vn(ia)),Ode(0,Ha(Q8)),TOe("design:paramtypes",[Object])],nY);var Uv;(function(n){n[n.transform=0]="transform",n[n.matrix=1]="matrix"})(Uv||(Uv={}));const Ea=new Rr;let iY=class{constructor(){this.matrix=new Rr}init(n){return this.mode=Uv.transform,this.originTransform=n,this.matrix.reset(),this}fromMatrix(n,e){return this.mode=Uv.matrix,this.outSourceMatrix=n,this.outTargetMatrix=e,this}scaleMatrix(n,e,t){const i=this.outSourceMatrix;if(Ea.setValue(i.a,i.b,i.c,i.d,i.e,i.f),this.outTargetMatrix.reset(),t){const{x:r,y:s}=t;this.outTargetMatrix.translate(r,s),this.outTargetMatrix.scale(n,e),this.outTargetMatrix.translate(-r,-s)}else this.outTargetMatrix.scale(n,e);return this.outTargetMatrix.multiply(Ea.a,Ea.b,Ea.c,Ea.d,Ea.e,Ea.f),this}rotateMatrix(n,e){const t=this.outSourceMatrix;if(Ea.setValue(t.a,t.b,t.c,t.d,t.e,t.f),this.outTargetMatrix.reset(),e){const{x:i,y:r}=e;this.outTargetMatrix.translate(i,r),this.outTargetMatrix.rotate(n),this.outTargetMatrix.translate(-i,-r)}else this.outTargetMatrix.rotate(n);return this.outTargetMatrix.multiply(Ea.a,Ea.b,Ea.c,Ea.d,Ea.e,Ea.f),this}scale(n,e,t){return this.mode===Uv.matrix?this.scaleMatrix(n,e,t):this}rotate(n,e){return this.mode===Uv.matrix?this.rotateMatrix(n,e):this}translateMatrix(n,e){const t=this.outSourceMatrix;return Ea.setValue(t.a,t.b,t.c,t.d,t.e,t.f),this.outTargetMatrix.reset(),this.outTargetMatrix.translate(n,e),this.outTargetMatrix.multiply(Ea.a,Ea.b,Ea.c,Ea.d,Ea.e,Ea.f),this}translate(n,e){return this.mode===Uv.matrix?this.translateMatrix(n,e):this}simplify(n){return this.mode===Uv.matrix?this.simplifyMatrix(n):this}simplifyMatrix(n){return this}};iY=COe([Nt(),TOe("design:paramtypes",[])],iY);const Bl={arc:r3t,area:s3t,circle:a3t,line:u3t,path:c3t,symbol:p3t,text:mOe,rect:f3t,polygon:d3t,star:h3t,richtext:zg,richtextIcon:g3t,image:bO,group:o3t,glyph:l3t},G4=Object.keys(Bl);function Y3t(){return{arc:Object.assign({},Bl.arc),area:Object.assign({},Bl.area),circle:Object.assign({},Bl.circle),line:Object.assign({},Bl.line),path:Object.assign({},Bl.path),symbol:Object.assign({},Bl.symbol),text:Object.assign({},Bl.text),rect:Object.assign({},Bl.rect),polygon:Object.assign({},Bl.polygon),star:Object.assign({},Bl.star),richtext:Object.assign({},Bl.richtext),richtextIcon:Object.assign({},Bl.richtextIcon),image:Object.assign({},Bl.image),group:Object.assign({},Bl.group),glyph:Object.assign({},Bl.glyph)}}function bD(n,e){Object.keys(e).forEach(t=>{n[t]=e[t]})}const Pde=Y3t();class xO{constructor(){this.initTheme(),this.dirty=!1}initTheme(){this._defaultTheme={},G4.forEach(e=>{this._defaultTheme[e]=Object.create(Pde[e])}),this.combinedTheme=this._defaultTheme}getTheme(e){if(!e)return this.combinedTheme;if(!this.dirty)return this.combinedTheme;let t={};const i=this.getParentWithTheme(e);return i&&(t=i.theme),this.applyTheme(e,t),this.combinedTheme}getParentWithTheme(e){for(;e.parent;)if((e=e.parent).theme)return e;return null}applyTheme(e,t,i=!1){if(this.dirty){const r=this.getParentWithTheme(e);if(r){const s=r.theme;(s.dirty||i)&&s.applyTheme(r,t,!0)}this.userTheme?this.doCombine(r&&r.theme.combinedTheme):(r?this.combinedTheme=r.theme.combinedTheme:(this.combinedTheme=this._defaultTheme,yi.getInstance().warn("")),this.dirty=!1)}return this.combinedTheme}doCombine(e){const t=this.userTheme,i=this.combinedTheme;G4.forEach(r=>{const s=Object.create(Pde[r]);e&&e[r]&&bD(s,e[r]),i[r]&&bD(s,i[r]),t[r]&&bD(s,t[r]),this.combinedTheme[r]=s}),t.common&&G4.forEach(r=>{bD(this.combinedTheme[r],t.common)}),this.dirty=!1}setTheme(e,t){let i=this.userTheme;i?Object.keys(e).forEach(r=>{i[r]?Object.assign(i[r],e[r]):i[r]=Object.assign({},e[r])}):i=e,this.userTheme=i,this.dirty=!0,this.dirtyChildren(t)}resetTheme(e,t){this.userTheme=e,this.dirty=!0,this.dirtyChildren(t)}dirtyChildren(e){e.forEachChildren(t=>{t.isContainer&&(t.theme&&(t.theme.dirty=!0),this.dirtyChildren(t))})}}const EOe=new xO;function Bn(n,e){return n.glyphHost?Bn(n.glyphHost):e?(n.isContainer,e):K3t(n)||n.attachedThemeGraphic&&Bn(n.attachedThemeGraphic)||EOe.getTheme()}function K3t(n){let e;if(e=n.isContainer?n:n.parent,e){for(;e&&!e.theme;)e=e.parent;return e?(e.theme||e.createTheme(),e.theme.getTheme(e)):EOe.getTheme()}return null}var X3t=function(n,e,t,i){return new(t||(t=Promise))(function(r,s){function a(u){try{l(i.next(u))}catch(c){s(c)}}function o(u){try{l(i.throw(u))}catch(c){s(c)}}function l(u){var c;u.done?r(u.value):(c=u.value,c instanceof t?c:new t(function(d){d(c)})).then(a,o)}l((i=i.apply(n,e||[])).next())})};class q3t extends i_{get previousSibling(){return this._prev}get nextSibling(){return this._next}get children(){return this.getChildren()}get firstChild(){return this._firstChild}get lastChild(){return this._lastChild}get count(){return this._count}get childrenCount(){return this._idMap?this._idMap.size:0}constructor(){super(),this._uid=aa.GenAutoIncrementId(),this._firstChild=null,this._lastChild=null,this.parent=null,this._count=1}forEachChildren(e,t=!1){if(t){let i=this._lastChild,r=0;for(;i;){if(e(i,r++))return;i=i._prev}}else{let i=this._firstChild,r=0;for(;i;){if(e(i,r++))return;i=i._next}}}forEachChildrenAsync(e,t=!1){return X3t(this,void 0,void 0,function*(){if(t){let i=this._lastChild,r=0;for(;i;){let s=e(i,r++);if(s.then&&(s=yield s),s)return;i=i._prev}}else{let i=this._firstChild,r=0;for(;i;){let s=e(i,r++);if(s.then&&(s=yield s),s)return;i=i._next}}})}forEach(e){return this.forEachChildren(e)}appendChild(e,t=!0){if(this._uid===e._uid)return null;if(!t&&e.isAncestorsOf(this))throw new Error("Node::appendChildappend");return e.parent&&e.parent.removeChild(e),e.parent=this,this._lastChild?(this._lastChild._next=e,e._prev=this._lastChild,this._lastChild=e):(this._firstChild=this._lastChild=e,e._prev=e._next=null),this._idMap||(this._idMap=new Map),this._idMap.set(e._uid,e),this.setCount(e.count),this._structEdit=!0,e}appendChildArrHighPerformance(e,t=!1){return console.error(""),e}insertBefore(e,t){if(!t)return this.appendChild(e);if(this===e||e===t)return null;if(e.isAncestorsOf(this))throw new Error("Node::insertBeforeinsert");return t.parent!==this?null:(e.parent&&e.parent.removeChild(e),e.parent=this,e._prev=t._prev,t._prev?t._prev._next=e:this._firstChild=e,t._prev=e,e._next=t,this._idMap||(this._idMap=new Map),this._idMap.set(e._uid,e),this._structEdit=!0,this.setCount(e.count),e)}insertAfter(e,t){if(!t)return this.appendChild(e);if(this===e||e===t)return null;if(e.isAncestorsOf(this))throw new Error("Node::insertAfterinsert");return t.parent!==this?null:(e.parent&&e.parent.removeChild(e),e.parent=this,t._next?(t._next._prev=e,e._next=t._next):this._lastChild=e,t._next=e,e._prev=t,this._idMap||(this._idMap=new Map),this._idMap.set(e._uid,e),this._structEdit=!0,this.setCount(e.count),e)}insertInto(e,t){if(!this._ignoreWarn&&this._nodeList&&yi.getInstance().warn("insertIntoKeepIdxinsertInto"),t>=this.childrenCount)return this.appendChild(e);if(this===e)return null;if(e.isAncestorsOf(this))throw new Error("Node::insertBeforeinsert");if(e.parent&&e.parent.removeChild(e),e.parent=this,t===0)e._next=this._firstChild,this._firstChild&&(this._firstChild._prev=e),e._prev=null,this._firstChild=e;else{let i=this._firstChild;for(let r=0;r<t;r++){if(!i)return null;r>0&&(i=i._next)}if(!i)return null;e._next=i._next,e._prev=i,i._next=e,e._next&&(e._next._prev=e)}return this._idMap||(this._idMap=new Map),this._idMap.set(e._uid,e),this._structEdit=!0,this.setCount(e.count),e}insertIntoKeepIdx(e,t){if(this._nodeList||(this._nodeList=this.children),this._nodeList[t]){const s=this._nodeList[t];return this._nodeList.splice(t,0,e),this.insertBefore(e,s)}let i;this._nodeList[t]=e;for(let s=t-1;s>=0&&(i=this._nodeList[s],!i);s--);if(i)return i._next?this.insertBefore(e,i._next):this.appendChild(e);this._ignoreWarn=!0;const r=this.insertInto(e,0);return this._ignoreWarn=!1,r}removeChild(e){if(!this._idMap||!this._idMap.has(e._uid))return null;if(this._idMap.delete(e._uid),this._nodeList){const t=this._nodeList.findIndex(i=>i===e);t>=0&&this._nodeList.splice(t,1)}return e._prev?e._prev._next=e._next:this._firstChild=e._next,e._next?e._next._prev=e._prev:this._lastChild=e._prev,e.parent=null,e._prev=null,e._next=null,this._structEdit=!0,this.setCount(-e.count),e}delete(){this.parent&&this.parent.removeChild(this)}removeAllChild(e){if(!this._idMap)return;this._nodeList&&(this._nodeList.length=0);let t=this._firstChild;for(;t;){const i=t._next;t.parent=null,t._prev=null,t._next=null,t=t._next,t=i}this._firstChild=null,this._lastChild=null,this._idMap.clear(),this._structEdit=!0,this.setCount(1-this._count)}replaceChild(e,t){throw new Error("")}find(e,t=!1){let i=null;return this.forEachChildren((r,s)=>!(r===this||!e(r,s))&&(i=r,!0)),t&&this.forEachChildren(r=>{if(r.isContainer){const s=r.find(e,!0);if(s)return i=s,!0}return!1}),i}findAll(e,t=!1){let i=[];return this.forEachChildren((r,s)=>{r!==this&&e(r,s)&&i.push(r)}),t&&this.forEachChildren(r=>{if(r.isContainer){const s=r.findAll(e,!0);s.length&&(i=i.concat(s))}}),i}getElementById(e){return this.find(t=>t.id===e,!0)}findChildById(e){return this.getElementById(e)}findChildByUid(e){return this._idMap&&this._idMap.get(e)||null}getElementsByName(e){return this.findAll(t=>t.name===e,!0)}findChildrenByName(e){return this.getElementsByName(e)}getElementsByType(e){return this.findAll(t=>t.type===e,!0)}getChildByName(e,t=!1){return this.find(i=>i.name===e,t)}getChildAt(e){let t=this._firstChild;if(!t)return null;for(let i=0;i<e;i++){if(!t._next)return null;t=t._next}return t}at(e){return this.getChildAt(e)}containNode(e){if(!this._idMap)return!1;if(this._idMap.has(e._uid))return!0;let t=this._firstChild;for(;t;){if(t.containNode(e))return!0;t=t._next}return!1}getRootNode(){let e=this.parent;for(;e!=null&&e.parent;)e=e.parent;return e||this}hasChildNodes(){return this._firstChild!==null}addChild(e){return this.appendChild(e)}add(e){return this.appendChild(e)}getChildren(){const e=[];let t=this._firstChild;for(;t;)e.push(t),t=t._next;return e}isChildOf(e){return!!this.parent&&this.parent._uid===e._uid}isParentOf(e){return e.isChildOf(this)}isDescendantsOf(e){let t=this.parent;if(!t)return!1;do{if(t._uid===e._uid)return!0;t=t.parent}while(t!==null);return!1}isAncestorsOf(e){return e.isDescendantsOf(this)}getAncestor(e){throw new Error("")}setAllDescendantsProps(e,t){let i=this._firstChild;for(;i;)i[e]=t,i.setAllDescendantsProps(e,t),i=i._next}setCount(e){this._count+=e;let t=this.parent;if(t)do t._count+=e,t=t.parent;while(t!==null)}clone(){throw new Error("")}cloneTo(e){throw new Error("")}getParent(){return this.parent}del(e){return this.removeChild(e)}addEventListener(e,t,i){const r=Va(i,!0)&&i||pn(i)&&i.capture,s=pn(i)&&i.once,a=Re(t)?void 0:t;return e=r?`${e}capture`:e,t=Re(t)?t:t.handleEvent,s?super.once(e,t,a):super.on(e,t,a),this}on(e,t,i){return this.addEventListener(e,t,i)}removeEventListener(e,t,i){const r=Va(i,!0)&&i||pn(i)&&i.capture,s=Re(t)?void 0:t;e=r?`${e}capture`:e,t=Re(t)?t:t.handleEvent;const a=pn(i)&&i.once;return super.off(e,t,s,a),this}off(e,t,i){return this.removeEventListener(e,t,i)}once(e,t,i){return pn(i)?(i.once=!0,this.addEventListener(e,t,i)):this.addEventListener(e,t,{once:!0})}removeAllEventListeners(){return super.removeAllListeners(),this}removeAllListeners(){return this.removeAllEventListeners()}dispatchEvent(e,...t){return super.emit(e.type,e,...t),!e.defaultPrevented}emit(e,t){return this.dispatchEvent(e,t)}release(){this.removeAllListeners()}}class vM{get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get x(){return this.canvas.x}get y(){return this.canvas.y}get canvasX(){return this.canvas.x}get canvasY(){return this.canvas.y}get viewX(){return this.viewport.x}get viewY(){return this.viewport.y}constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=vM.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer={x:0,y:0},this.page={x:0,y:0},this.canvas={x:0,y:0},this.viewport={x:0,y:0},this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}composedPath(){return!this.manager||this.path&&this.path[this.path.length-1]===this.target||(this.path=this.target?this.manager.propagationPath(this.target):[]),this.composedDetailPath(),this.path}composedDetailPath(){return this.pickParams&&this.pickParams.graphic?(this.detailPath=this.path.slice(),this._composedDetailPath(this.pickParams)):this.detailPath=this.path.slice(),this.detailPath}_composedDetailPath(e){if(e&&e.graphic){const t=e.graphic;if(t.stage){const i=t.stage.eventSystem.manager.propagationPath(t);this.detailPath.push(i),this._composedDetailPath(e.params)}}}preventDefault(){try{this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault()}catch{this.nativeEvent.preventDefault&&Re(this.nativeEvent.preventDefault)&&this.nativeEvent.preventDefault()}this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){try{this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.stopPropagation()}catch{this.nativeEvent.stopPropagation&&Re(this.nativeEvent.stopPropagation)&&this.nativeEvent.stopPropagation()}this.propagationStopped=!0}initEvent(){}initUIEvent(){}clone(){throw new Error("Method not implemented.")}}class jF extends vM{constructor(){super(...arguments),this.client={x:0,y:0},this.movement={x:0,y:0},this.offset={x:0,y:0},this.global={x:0,y:0},this.screen={x:0,y:0}}get clientX(){return this.client.x}get clientY(){return this.client.y}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,t,i,r,s,a,o,l,u,c,d,h,f,p,g){throw new Error("Method not implemented.")}}class Hc extends jF{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}clone(){var e,t,i;const r=new Hc(this.manager);r.eventPhase=r.NONE,r.currentTarget=null,r.path=[],r.detailPath=[],r.target=null,r.nativeEvent=this.nativeEvent,r.originalEvent=this.originalEvent,(e=this.manager)===null||e===void 0||e.copyPointerData(this,r),(t=this.manager)===null||t===void 0||t.copyMouseData(this,r),(i=this.manager)===null||i===void 0||i.copyData(this,r),r.target=this.target,r.path=this.composedPath().slice();const s=this.composedDetailPath();return r.detailPath=s&&s.slice(),r.type=this.type,r}}class Oy extends jF{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}clone(){var e,t,i;const r=new Oy(this.manager);r.eventPhase=r.NONE,r.currentTarget=null,r.path=[],r.detailPath=[],r.target=null,r.nativeEvent=this.nativeEvent,r.originalEvent=this.originalEvent,(e=this.manager)===null||e===void 0||e.copyWheelData(this,r),(t=this.manager)===null||t===void 0||t.copyMouseData(this,r),(i=this.manager)===null||i===void 0||i.copyData(this,r),r.target=this.target,r.path=this.composedPath().slice();const s=this.composedDetailPath();return r.detailPath=s&&s.slice(),r.type=this.type,r}}Oy.DOM_DELTA_PIXEL=0,Oy.DOM_DELTA_LINE=1,Oy.DOM_DELTA_PAGE=2;class nz extends vM{constructor(e,t){super(),this.type=e,this.detail=t}}const AOe="*",Mb=typeof performance=="object"&&performance.now?performance:Date;function Ov(n){return n==="mouse"||n==="pen"}class Z3t{constructor(e,t){this.dispatch=new i_,this.cursorTarget=null,this.pauseNotify=!1,this.mappingState={trackingData:{}},this.eventPool=new Map,this.onPointerDown=(i,r)=>{if(!(i instanceof Hc))return void yi.getInstance().warn("EventManager cannot map a non-pointer event as a pointer event");const s=this.createPointerEvent(i,i.type,r);if(this.dispatchEvent(s,"pointerdown"),s.pointerType==="touch")this.dispatchEvent(s,"touchstart");else if(Ov(s.pointerType)){const a=s.button===2;this.dispatchEvent(s,a?"rightdown":"mousedown")}this.trackingData(i.pointerId).pressTargetsByButton[i.button]=s.composedPath(),this.freeEvent(s)},this.onPointerMove=(i,r)=>{var s,a;if(!(i instanceof Hc))return void yi.getInstance().warn("EventManager cannot map a non-pointer event as a pointer event");const o=this.createPointerEvent(i,i.type,r),l=Ov(o.pointerType),u=this.trackingData(i.pointerId),c=this.findMountedTarget(u.overTargets);if(u.overTargets&&c&&c!==this.rootTarget&&c!==o.target){const d=i.type==="mousemove"?"mouseout":"pointerout",h=this.createPointerEvent(i,d,c||void 0);if(this.dispatchEvent(h,"pointerout"),l&&this.dispatchEvent(h,"mouseout"),!o.composedPath().includes(c)){const f=this.createPointerEvent(i,"pointerleave",c||void 0);for(f.eventPhase=f.AT_TARGET;f.target&&!o.composedPath().includes(f.target);)f.currentTarget=f.target,this.notifyTarget(f),l&&this.notifyTarget(f,"mouseleave"),f.target=f.target.parent;this.freeEvent(f)}this.freeEvent(h)}if(c!==o.target){const d=i.type==="mousemove"?"mouseover":"pointerover",h=this.clonePointerEvent(o,d);this.dispatchEvent(h,"pointerover"),l&&this.dispatchEvent(h,"mouseover");let f=c==null?void 0:c.parent;for(;f&&f!==this.rootTarget.parent&&f!==o.target;)f=f.parent;if(!f||f===this.rootTarget.parent){const p=this.clonePointerEvent(o,"pointerenter");p.eventPhase=p.AT_TARGET;let g=p.target;const m=new Set;let v=c;for(;v&&v!==this.rootTarget;)m.add(v),v=v.parent;for(;g&&g!==c&&g!==this.rootTarget.parent;)m.has(g)||(p.currentTarget=g,this.notifyTarget(p),l&&this.notifyTarget(p,"mouseenter")),g=g.parent;this.freeEvent(p)}this.freeEvent(h)}this.dispatchEvent(o,"pointermove"),o.pointerType==="touch"&&this.dispatchEvent(o,"touchmove"),l&&(this.dispatchEvent(o,"mousemove"),this.cursorTarget=o.target,this.cursor=((a=(s=o.target)===null||s===void 0?void 0:s.attribute)===null||a===void 0?void 0:a.cursor)||this.rootTarget.getCursor()),u.overTargets=o.composedPath(),this.freeEvent(o)},this.onPointerOver=(i,r)=>{var s,a;if(!(i instanceof Hc))return void yi.getInstance().warn("EventManager cannot map a non-pointer event as a pointer event");const o=this.trackingData(i.pointerId),l=this.createPointerEvent(i,i.type,r),u=Ov(l.pointerType);this.dispatchEvent(l,"pointerover"),u&&this.dispatchEvent(l,"mouseover"),l.pointerType==="mouse"&&(this.cursorTarget=l.target,this.cursor=((a=(s=l.target)===null||s===void 0?void 0:s.attribute)===null||a===void 0?void 0:a.cursor)||this.rootTarget.getCursor());const c=this.clonePointerEvent(l,"pointerenter");for(c.eventPhase=c.AT_TARGET;c.target&&c.target!==this.rootTarget.parent;)c.currentTarget=c.target,this.notifyTarget(c),u&&this.notifyTarget(c,"mouseenter"),c.target=c.target.parent;o.overTargets=l.composedPath(),this.freeEvent(l),this.freeEvent(c)},this.onPointerOut=(i,r)=>{if(!(i instanceof Hc))return void yi.getInstance().warn("EventManager cannot map a non-pointer event as a pointer event");const s=this.trackingData(i.pointerId);if(s.overTargets){const a=Ov(i.pointerType),o=this.findMountedTarget(s.overTargets),l=this.createPointerEvent(i,"pointerout",o||void 0);this.dispatchEvent(l),a&&this.dispatchEvent(l,"mouseout");const u=this.createPointerEvent(i,"pointerleave",o||void 0);for(u.eventPhase=u.AT_TARGET;u.target&&u.target!==this.rootTarget.parent;)u.currentTarget=u.target,this.notifyTarget(u),a&&this.notifyTarget(u,"mouseleave"),u.target=u.target.parent;s.overTargets=[],this.freeEvent(l),this.freeEvent(u)}this.cursorTarget=null,this.cursor=""},this.onPointerUp=(i,r)=>{var s;if(!(i instanceof Hc))return void yi.getInstance().warn("EventManager cannot map a non-pointer event as a pointer event");const a=Mb.now(),o=this.createPointerEvent(i,i.type,r);if(this.dispatchEvent(o,"pointerup"),o.pointerType==="touch")this.dispatchEvent(o,"touchend");else if(Ov(o.pointerType)){const d=o.button===2;this.dispatchEvent(o,d?"rightup":"mouseup")}const l=this.trackingData(i.pointerId),u=this.findMountedTarget(l.pressTargetsByButton[i.button]);let c=u;if(u&&!o.composedPath().includes(u)){let d=u;for(;d&&!o.composedPath().includes(d);){if(o.currentTarget=d,this.notifyTarget(o,"pointerupoutside"),o.pointerType==="touch")this.notifyTarget(o,"touchendoutside");else if(Ov(o.pointerType)){const h=o.button===2;this.notifyTarget(o,h?"rightupoutside":"mouseupoutside")}d=d.parent}delete l.pressTargetsByButton[i.button],c=d}if(c){const d=this.clonePointerEvent(o,"click");d.target=c,d.path=[],d.detailPath=[],l.clicksByButton[i.button]||(l.clicksByButton[i.button]={clickCount:0,target:d.target,timeStamp:a});const h=l.clicksByButton[i.button];h.target===d.target&&a-h.timeStamp<((s=this._config.clickInterval)!==null&&s!==void 0?s:200)?++h.clickCount:h.clickCount=1,h.target=d.target,h.timeStamp=a,d.detail=h.clickCount,Ov(d.pointerType)?(this.dispatchEvent(d,"click"),h.clickCount===2&&this.dispatchEvent(d,"dblclick")):d.pointerType==="touch"&&this._config.supportsTouchEvents&&(this.dispatchEvent(d,"tap"),h.clickCount===2&&this.dispatchEvent(d,"dbltap")),this.dispatchEvent(d,"pointertap"),this.freeEvent(d)}this.freeEvent(o)},this.onPointerUpOutside=(i,r)=>{if(!(i instanceof Hc))return void yi.getInstance().warn("EventManager cannot map a non-pointer event as a pointer event");const s=this.trackingData(i.pointerId),a=this.findMountedTarget(s.pressTargetsByButton[i.button]),o=this.createPointerEvent(i,i.type,r);if(a){let l=a;for(;l;)o.currentTarget=l,this.notifyTarget(o,"pointerupoutside"),o.pointerType==="touch"?this.notifyTarget(o,"touchendoutside"):Ov(o.pointerType)&&this.notifyTarget(o,o.button===2?"rightupoutside":"mouseupoutside"),l=l.parent;delete s.pressTargetsByButton[i.button]}this.freeEvent(o)},this.onWheel=(i,r)=>{if(!(i instanceof Oy))return void yi.getInstance().warn("EventManager cannot map a non-wheel event as a wheel event");const s=this.createWheelEvent(i,r);this.dispatchEvent(s),this.freeEvent(s)},this.rootTarget=e,this.mappingTable={},this._config=Object.assign({clickInterval:200},t),this.addEventMapping("pointerdown",this.onPointerDown),this.addEventMapping("pointermove",this.onPointerMove),this.addEventMapping("pointerout",this.onPointerOut),this.addEventMapping("pointerleave",this.onPointerOut),this.addEventMapping("pointerover",this.onPointerOver),this.addEventMapping("pointerup",this.onPointerUp),this.addEventMapping("pointerupoutside",this.onPointerUpOutside),this.addEventMapping("wheel",this.onWheel)}addEventMapping(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort((i,r)=>i.priority-r.priority)}dispatchEvent(e,t){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t),this.dispatch.emit(t||e.type,e)}mapEvent(e){var t,i,r,s,a,o,l;if(!this.rootTarget)return;const u=this.mappingTable[e.type];let c;const d=`${e.canvasX}-${e.canvasY}`;if(!((t=this._prePointTargetCache)===null||t===void 0)&&t[d]&&(!((r=(i=this._prePointTargetCache)===null||i===void 0?void 0:i[d])===null||r===void 0)&&r.stage)&&((a=(s=this._prePointTargetCache)===null||s===void 0?void 0:s[d])===null||a===void 0?void 0:a.stage.renderCount)===((o=this._prePointTargetCache)===null||o===void 0?void 0:o.stageRenderCount)?c=this._prePointTargetCache[d]:(c=this.pickTarget(e.viewX,e.viewY,e),e.pickParams||(this._prePointTargetCache={[d]:c,stageRenderCount:(l=c==null?void 0:c.stage.renderCount)!==null&&l!==void 0?l:-1})),u)for(let h=0,f=u.length;h<f;h++)u[h].fn(e,c);else yi.getInstance().warn(`[EventManager]: Event mapping not defined for ${e.type}`)}propagate(e,t){if(!e.target)return;const i=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let r=0,s=i.length-1;r<s;r++)if(e.currentTarget=i[r],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!e.propagationStopped&&!e.propagationImmediatelyStopped){e.eventPhase=e.BUBBLING_PHASE;for(let r=i.length-2;r>=0;r--)if(e.currentTarget=i[r],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}propagationPath(e){const t=[e];for(let i=0;i<2048&&e!==this.rootTarget&&e.parent;i++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");t.push(e.parent),e=e.parent}return t.reverse(),t}notifyTarget(e,t){if(this.pauseNotify)return;t=t??e.type;const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${t}capture`:t;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}findMountedTarget(e){if(!e)return null;let t=e[0];for(let i=1;i<e.length&&e[i].parent===t;i++)t=e[i];return t}createPointerEvent(e,t,i){var r,s;const a=this.allocateEvent(Hc);return this.copyPointerData(e,a),this.copyMouseData(e,a),this.copyData(e,a),a.nativeEvent=e.nativeEvent,a.originalEvent=e,a.target=i||this.pickTarget((r=a.viewX)!==null&&r!==void 0?r:a.global.x,(s=a.viewY)!==null&&s!==void 0?s:a.global.y,a),typeof t=="string"&&(a.type=t),a}createWheelEvent(e,t){var i,r;const s=this.allocateEvent(Oy);return this.copyWheelData(e,s),this.copyMouseData(e,s),this.copyData(e,s),s.nativeEvent=e.nativeEvent,s.originalEvent=e,s.target=t||this.pickTarget((i=s.viewX)!==null&&i!==void 0?i:s.global.x,(r=s.viewY)!==null&&r!==void 0?r:s.global.y,s),s}clonePointerEvent(e,t){const i=this.allocateEvent(Hc);i.nativeEvent=e.nativeEvent,i.originalEvent=e.originalEvent,this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.target=e.target,i.path=e.composedPath().slice();const r=e.composedDetailPath();return i.detailPath=r&&r.slice(),i.type=t??i.type,i}copyWheelData(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}copyPointerData(e,t){e instanceof Hc&&t instanceof Hc&&(t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist)}copyMouseData(e,t){e instanceof jF&&t instanceof jF&&(t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.ctrlKey=e.ctrlKey,t.shiftKey=e.shiftKey,t.metaKey=e.metaKey,["client","movement","canvas","screen","global","offset","viewport"].forEach(i=>{t[i].x=e[i].x,t[i].y=e[i].y}))}copyData(e,t){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=Mb.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.which=e.which,t.layer.x=e.layer.x,t.layer.y=e.layer.y,t.page.x=e.page.x,t.page.y=e.page.y,t.pickParams=e.pickParams}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){var t;this.eventPool.has(e)||this.eventPool.set(e,[]);const i=((t=this.eventPool.get(e))===null||t===void 0?void 0:t.pop())||new e(this);return i.eventPhase=i.NONE,i.currentTarget=null,i.path=[],i.detailPath=[],i.target=null,i}freeEvent(e){var t;if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventManager!");const i=e.constructor;this.eventPool.has(i)||this.eventPool.set(i,[]),(t=this.eventPool.get(i))===null||t===void 0||t.push(e)}notifyListeners(e,t){const i=e.currentTarget._events[t];if(i)if("fn"in i)i.once&&e.currentTarget.removeEventListener(t,i.fn,{once:!0}),i.fn.call(i.context,e);else for(let r=0,s=i.length;r<s&&!e.propagationImmediatelyStopped;r++)i[r].once&&e.currentTarget.removeEventListener(t,i[r].fn,{once:!0}),i[r].fn.call(i[r].context,e);this.emitDelegation(e,t)}emitDelegation(e,t){const i=e.currentTarget._events[AOe];if(i)if("fn"in i)i.fn.call(i.context,e,t);else for(let r=0,s=i.length;r<s&&!e.propagationImmediatelyStopped;r++)i[r].fn.call(i[r].context,e,t)}pickTarget(e,t,i){let r;const s=this.rootTarget.pick(e,t);return r=s&&s.graphic?s.graphic:s&&s.group?s.group:this.rootTarget.AABBBounds.contains(e,t)?this.rootTarget:null,i&&(i.pickParams=s.params),r}release(){this.dispatch.removeAllListeners(),this.eventPool.clear(),this.rootTarget=null,this.mappingTable=null,this.mappingState=null,this.cursorTarget=null}}const Q3t={dispatchEvent(n){var e;if(!(n instanceof vM))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return n.defaultPrevented=!1,n.path=[],n.detailPath&&(n.detailPath=[]),n.target=this,(e=n==null?void 0:n.manager)===null||e===void 0||e.dispatchEvent(n),!n.defaultPrevented},emit(n,e){return this.dispatchEvent(new nz(n,e))}},J3t={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"};class e5t{constructor(e){this.resolution=1,this.onPointerDown=c=>{if(this.supportsTouchEvents&&c.pointerType==="touch")return;const d=this.normalizeToPointerData(c);this.autoPreventDefault&&d[0].isNormalized&&(c.cancelable||!("cancelable"in c))&&c.preventDefault();for(let h=0,f=d.length;h<f;h++){const p=d[h],g=this.bootstrapEvent(this.rootPointerEvent,p);this.manager.mapEvent(g)}this.setCursor(this.manager.cursor,this.manager.cursorTarget),this.rootPointerEvent.nativeEvent=null},this.onPointerMove=c=>{if(this.supportsTouchEvents&&c.pointerType==="touch"||this.isEventOutsideOfTargetElement(c))return;const d=this.normalizeToPointerData(c);for(let h=0,f=d.length;h<f;h++){const p=this.bootstrapEvent(this.rootPointerEvent,d[h]);this.manager.mapEvent(p)}this.setCursor(this.manager.cursor,this.manager.cursorTarget),this.rootPointerEvent.nativeEvent=null},this.onPointerUp=c=>{if(this.supportsTouchEvents&&c.pointerType==="touch")return;const d=this.isEventOutsideOfTargetViewPort(c)?"outside":"",h=this.normalizeToPointerData(c);for(let f=0,p=h.length;f<p;f++){const g=this.bootstrapEvent(this.rootPointerEvent,h[f]);g.type+=d,this.manager.mapEvent(g)}this.setCursor(this.manager.cursor,this.manager.cursorTarget),this.rootPointerEvent.nativeEvent=null},this.onPointerOverOut=c=>{if(this.supportsTouchEvents&&c.pointerType==="touch")return;const d=this.normalizeToPointerData(c);for(let h=0,f=d.length;h<f;h++){const p=this.bootstrapEvent(this.rootPointerEvent,d[h]);this.manager.mapEvent(p)}this.setCursor(this.manager.cursor,this.manager.cursorTarget),this.rootPointerEvent.nativeEvent=null},this.onWheel=c=>{const d=this.normalizeWheelEvent(c);this.manager.mapEvent(d)};const{targetElement:t,resolution:i,rootNode:r,global:s,autoPreventDefault:a=!1,clickInterval:o,supportsTouchEvents:l=s.supportsTouchEvents,supportsPointerEvents:u=s.supportsPointerEvents}=e;this.manager=new Z3t(r,{clickInterval:o,supportsTouchEvents:l}),this.globalObj=s,this.supportsPointerEvents=u,this.supportsTouchEvents=l,this.supportsMouseEvents=s.supportsMouseEvents,this.applyStyles=s.applyStyles,this.autoPreventDefault=a,this.eventsAdded=!1,this.rootPointerEvent=new Hc,this.rootWheelEvent=new Oy,this.cursorStyles={default:"inherit",pointer:"pointer"},this.resolution=i,this.setTargetElement(t)}release(){this.removeEvents(),this.manager&&this.manager.release(),this.domElement=null,this.manager=null,this.globalObj=null}setCursor(e,t){if(!t&&!this.manager.rootTarget.window._handler.canvas.controled)return;e||(e="default");const{applyStyles:i,domElement:r}=this;if(this.currentCursor===e)return;this.currentCursor=e;const s=this.cursorStyles[e];s?typeof s=="string"&&i?r.style.cursor=s:typeof s=="function"?s(e):typeof s=="object"&&i&&Object.assign(r.style,s):i&&Jt(e)&&!ANt(this.cursorStyles,e)&&(r.style.cursor=e)}setTargetElement(e){this.removeEvents(),this.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;const{globalObj:e,domElement:t}=this;this.supportsPointerEvents?(e.getDocument()?(e.addEventListener("pointermove",this.onPointerMove,!0),e.addEventListener("pointerup",this.onPointerUp,!0)):(t.addEventListener("pointermove",this.onPointerMove,!0),t.addEventListener("pointerup",this.onPointerUp,!0)),t.addEventListener("pointerdown",this.onPointerDown,!0),t.addEventListener("pointerleave",this.onPointerOverOut,!0),t.addEventListener("pointerover",this.onPointerOverOut,!0)):(e.getDocument()?(e.addEventListener("mousemove",this.onPointerMove,!0),e.addEventListener("mouseup",this.onPointerUp,!0)):(t.addEventListener("mousemove",this.onPointerMove,!0),t.addEventListener("mouseup",this.onPointerUp,!0)),t.addEventListener("mousedown",this.onPointerDown,!0),t.addEventListener("mouseout",this.onPointerOverOut,!0),t.addEventListener("mouseover",this.onPointerOverOut,!0)),this.supportsTouchEvents&&(t.addEventListener("touchstart",this.onPointerDown,!0),t.addEventListener("touchend",this.onPointerUp,!0),t.addEventListener("touchmove",this.onPointerMove,!0)),t.addEventListener("wheel",this.onWheel,{capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;const{globalObj:e,domElement:t}=this;this.supportsPointerEvents?(e.getDocument()?(e.removeEventListener("pointermove",this.onPointerMove,!0),e.removeEventListener("pointerup",this.onPointerUp,!0)):(t.removeEventListener("pointermove",this.onPointerMove,!0),t.removeEventListener("pointerup",this.onPointerUp,!0)),t.removeEventListener("pointerdown",this.onPointerDown,!0),t.removeEventListener("pointerleave",this.onPointerOverOut,!0),t.removeEventListener("pointerover",this.onPointerOverOut,!0)):(e.getDocument()?(e.removeEventListener("mousemove",this.onPointerMove,!0),e.removeEventListener("mouseup",this.onPointerUp,!0)):(t.removeEventListener("mousemove",this.onPointerMove,!0),t.removeEventListener("mouseup",this.onPointerUp,!0)),t.removeEventListener("mousedown",this.onPointerDown,!0),t.removeEventListener("mouseout",this.onPointerOverOut,!0),t.removeEventListener("mouseover",this.onPointerOverOut,!0)),this.supportsTouchEvents&&(t.removeEventListener("touchstart",this.onPointerDown,!0),t.removeEventListener("touchend",this.onPointerUp,!0),t.removeEventListener("touchmove",this.onPointerMove,!0)),t.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapToViewportPoint(e){return this.domElement.pointTransform?this.domElement.pointTransform(e.x,e.y):e}mapToCanvasPoint(e){var t,i;const r=(t=this.globalObj)===null||t===void 0?void 0:t.mapToCanvasPoint(e,this.domElement);if(r)return r;let s=0,a=0;if(e.changedTouches){const l=(i=e.changedTouches[0])!==null&&i!==void 0?i:{};s=l.clientX||0,a=l.clientY||0}else s=e.clientX||0,a=e.clientY||0;const o=this.domElement.getBoundingClientRect();return{x:s-o.left,y:a-o.top}}normalizeToPointerData(e){const t=[];if(this.supportsTouchEvents&&e.changedTouches&&e.changedTouches.length)for(let i=0,r=e.changedTouches.length;i<r;i++){const s=e.changedTouches[i];cs(s.button)&&(s.button=0),cs(s.buttons)&&(s.buttons=1),cs(s.isPrimary)&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),cs(s.width)&&(s.width=s.radiusX||1),cs(s.height)&&(s.height=s.radiusY||1),cs(s.tiltX)&&(s.tiltX=0),cs(s.tiltY)&&(s.tiltY=0),cs(s.pointerType)&&(s.pointerType="touch"),cs(s.pointerId)&&(s.pointerId=s.identifier||0),cs(s.pressure)&&(s.pressure=s.force||.5),cs(s.twist)&&(s.twist=0),cs(s.tangentialPressure)&&(s.tangentialPressure=0),cs(s.layerX)&&(s.layerX=s.offsetX=s.clientX),cs(s.layerY)&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,t.push(s)}else if(this.globalObj.supportsMouseEvents&&(!(e instanceof MouseEvent)||this.supportsPointerEvents&&e instanceof PointerEvent))t.push(e);else{const i=e;cs(i.isPrimary)&&(i.isPrimary=!0),cs(i.width)&&(i.width=1),cs(i.height)&&(i.height=1),cs(i.tiltX)&&(i.tiltX=0),cs(i.tiltY)&&(i.tiltY=0),cs(i.pointerType)&&(i.pointerType="mouse"),cs(i.pointerId)&&(i.pointerId=1),cs(i.pressure)&&(i.pressure=.5),cs(i.twist)&&(i.twist=0),cs(i.tangentialPressure)&&(i.tangentialPressure=0),i.isNormalized=!0,t.push(i)}return t}normalizeWheelEvent(e){const t=this.rootWheelEvent;this.transferMouseData(t,e),t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ;const{x:i,y:r}=this.mapToCanvasPoint(e);t.canvas.x=i,t.canvas.y=r,t.global.x=i,t.global.y=r,t.offset.x=i,t.offset.y=r;const{x:s,y:a}=this.mapToViewportPoint(t);return t.viewport.x=s,t.viewport.y=a,t.nativeEvent=e,t.type=e.type,t}bootstrapEvent(e,t){e.originalEvent=null,e.nativeEvent=t,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t);const{x:i,y:r}=this.mapToCanvasPoint(t);e.canvas.x=i,e.canvas.y=r,e.global.x=i,e.global.y=r,e.offset.x=i,e.offset.y=r;const{x:s,y:a}=this.mapToViewportPoint(e);return e.viewport.x=s,e.viewport.y=a,e.isTrusted=t.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=J3t[e.type]||e.type),e}transferMouseData(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=Mb.now(),e.type=t.type,e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.ctrlKey=t.ctrlKey,e.shiftKey=t.shiftKey,e.metaKey=t.metaKey,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.relatedTarget=null}isEventOutsideOfTargetViewPort(e){if(this.isEventOutsideOfTargetElement(e))return!0;if(this.domElement.getViewBox){const t=this.mapToViewportPoint(this.mapToCanvasPoint(e)),i=this.domElement.getViewBox(),r=i.width(),s=i.height();return!(t.x<r&&t.y<s&&t.x>0&&t.y>0)}return!1}isEventOutsideOfTargetElement(e){let t=e.target;return e.composedPath&&e.composedPath().length>0&&(t=e.composedPath()[0]),t!==(this.domElement.getNativeHandler?this.domElement.getNativeHandler().nativeCanvas:this.domElement)}pauseTriggerEvent(){this.manager.pauseNotify=!0}resumeTriggerEvent(){this.manager.pauseNotify=!1}}class Tr{static GetImage(e,t){var i;const r=Tr.cache.get(e);r?r.loadState==="fail"?lt.global.getRequestAnimationFrame()(()=>{t.imageLoadFail(e)}):r.loadState==="init"||r.loadState==="loading"?(i=r.waitingMark)===null||i===void 0||i.push(t):t&&t.imageLoadSuccess(e,r.data):Tr.loadImage(e,t)}static GetSvg(e,t){var i;let r=Tr.cache.get(e);r?r.loadState==="fail"?lt.global.getRequestAnimationFrame()(()=>{t.imageLoadFail(e)}):r.loadState==="init"||r.loadState==="loading"?(i=r.waitingMark)===null||i===void 0||i.push(t):t&&t.imageLoadSuccess(e,r.data):(r={type:"image",loadState:"init"},Tr.cache.set(e,r),r.dataPromise=lt.global.loadSvg(e),r.dataPromise?(r.waitingMark=[t],r.dataPromise.then(s=>{var a;r.loadState=s!=null&&s.data?"success":"fail",r.data=s==null?void 0:s.data,(a=r.waitingMark)===null||a===void 0||a.map((o,l)=>{s!=null&&s.data?(r.loadState="success",r.data=s.data,o.imageLoadSuccess(e,s.data)):(r.loadState="fail",o.imageLoadFail(e))}),r.waitingMark&&(r.waitingMark=[])})):(r.loadState="fail",t.imageLoadFail(e)))}static GetFile(e,t){let i=Tr.cache.get(e);return i?i.loadState==="fail"?Promise.reject():i.loadState==="init"||i.loadState==="loading"?i.dataPromise.then(r=>r.data):Promise.resolve(i.data):(i={type:t,loadState:"init"},Tr.cache.set(e,i),t==="arrayBuffer"?i.dataPromise=lt.global.loadArrayBuffer(e):t==="blob"?i.dataPromise=lt.global.loadBlob(e):t==="json"&&(i.dataPromise=lt.global.loadJson(e)),i.dataPromise.then(r=>r.data))}static loading(){setTimeout(()=>{if(!Tr.isLoading&&Tr.toLoadAueue.length){Tr.isLoading=!0;const e=Tr.toLoadAueue.splice(0,10),t=[];e.forEach(i=>{const{url:r,marks:s}=i,a={type:"image",loadState:"init"};if(Tr.cache.set(r,a),a.dataPromise=lt.global.loadImage(r),a.dataPromise){a.waitingMark=s;const o=a.dataPromise.then(l=>{var u;a.loadState=l!=null&&l.data?"success":"fail",a.data=l==null?void 0:l.data,(u=a.waitingMark)===null||u===void 0||u.map((c,d)=>{l!=null&&l.data?(a.loadState="success",a.data=l.data,c.imageLoadSuccess(r,l.data)):(a.loadState="fail",c.imageLoadFail(r))}),a.waitingMark&&(a.waitingMark=[])});t.push(o)}else a.loadState="fail",s.forEach(o=>o.imageLoadFail(r))}),Promise.all(t).then(()=>{Tr.isLoading=!1,this.onLoadSuccessCb.forEach(i=>i()),Tr.loading()}).catch(i=>{console.error(i),Tr.isLoading=!1,this.onLoadSuccessCb.forEach(r=>r()),Tr.loading()})}},0)}static loadImage(e,t){const i=Mde(e,Tr.toLoadAueue);if(i!==-1)return Tr.toLoadAueue[i].marks.push(t),void Tr.loading();Tr.toLoadAueue.push({url:e,marks:[t]}),Tr.loading()}static improveImageLoading(e){const t=Mde(e,Tr.toLoadAueue);if(t!==-1){const i=Tr.toLoadAueue.splice(t,1);Tr.toLoadAueue.unshift(i[0])}}static onLoadSuccess(e){this.onLoadSuccessCb.push(e)}}function Mde(n,e){for(let t=0;t<e.length;t++)if(e[t].url===n)return t;return-1}Tr.cache=new Map,Tr.isLoading=!1,Tr.toLoadAueue=[],Tr.onLoadSuccessCb=[];var Ide;(function(n){n[n.Top=1]="Top",n[n.Right=2]="Right",n[n.Bottom=4]="Bottom",n[n.Left=8]="Left",n[n.ALL=15]="ALL"})(Ide||(Ide={}));const Bg=[!1,!1,!1,!1],t5t=n=>{var e;let t=!0;if(Va(n,!0)){for(let i=0;i<4;i++)Bg[i]=n,t&&(t=!((e=Bg[i])!==null&&e!==void 0&&!e));t=n}else if(Array.isArray(n))for(let i=0;i<4;i++)Bg[i]=!!n[i],t&&(t=!!Bg[i]);else Bg[0]=!1,Bg[1]=!1,Bg[2]=!1,Bg[3]=!1;return{isFullStroke:t,stroke:Bg}},aE=[0,0,0,0],rY=n=>n?Oe(n)?n.length===0?0:n.length===1?n[0]:n.length===2?(aE[0]=n[0],aE[2]=n[0],aE[1]=n[1],aE[3]=n[1],aE):n:n:0,nx=[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],SD=[1,2,3,0,1,2,3,0];function sY(n,e,t,i){for(;n>=xn;)n-=xn;for(;n<0;)n+=xn;for(;n>e;)e+=xn;nx[0].x=t,nx[1].y=t,nx[2].x=-t,nx[3].y=-t;const r=Math.ceil(n/eh)%4,s=Math.ceil(e/eh)%4;if(i.add(Ma(n)*t,Cs(n)*t),i.add(Ma(e)*t,Cs(e)*t),r!==s||e-n>Di){let a=!1;for(let o=0;o<SD.length;o++)if(a||r!==SD[o]){if(a&&s===SD[o])break;if(a){const l=nx[SD[o]];i.add(l.x,l.y)}}else{a=!0;const l=nx[r];i.add(l.x,l.y)}}}function zF(n,e,t){const{x:i,y:r}=kce(n.x,n.y,e.x,e.y,t),{x:s,y:a}=kce(n.x1,n.y1,e.x1,e.y1,t),o=new Zi(i,r,s,a);return o.defined=e.defined,o}function iz(n,e,t){if(!n||!e)return[];Array.isArray(n)||(n=[n]),Array.isArray(e)||(e=[e]);let i=[];if(n.length>e.length){i=e.map(r=>{const s=new Zi(r.x,r.y,r.x1,r.y1);return s.defined=r.defined,s});for(let r=0;r<e.length;r++)i[r]=zF(n[r],e[r],t)}else{i=e.map(r=>{const s=new Zi(r.x,r.y,r.x1,r.y1);return s.defined=r.defined,s});for(let r=0;r<n.length;r++)i[r]=zF(n[r],e[r],t)}return i}function xD(n,e){if(Oe(n)){let t;for(let i=0;i<n.length&&t===void 0;i++)t=n[i][e];return t}return n[e]}class rz{constructor(e=rz.TimeOut){this.durations=[],this.timeout=e,this.lastDate=0,this.durationsListThreshold=30}call(e){return this.lastDate=Date.now(),setTimeout(()=>{this.appendDuration(Date.now()-this.lastDate),e(0)},this.timeout,!0)}clear(e){clearTimeout(e)}appendDuration(e){this.durations.push(e),this.durations.length>this.durationsListThreshold&&this.durations.shift(),this.timeout=Math.min(Math.max(this.durations.reduce((t,i)=>t+i,0)/this.durations.length,1e3/60),1e3/30)}}rz.TimeOut=1e3/60;const Rde=new rz,n5t=(n,e)=>Jt(n)&&n[n.length-1]==="%"?e*(Number.parseFloat(n.substring(0,n.length-1))/100):n,sz=(n,e)=>{const t=n5t(n,e);return isNaN(t)?t:Math.max(e,t)};class Ca{bounds(e,t){if(st(e)){const i=e/2;t.x1=-i,t.x2=i,t.y1=-i,t.y2=i}else t.x1=-e[0]/2,t.x2=e[0]/2,t.y1=-e[1]/2,t.y2=e[1]/2}parseSize(e){return st(e)?e:Math.min(e[0],e[1])}}function Dde(n,e,t,i,r){return r?n.arc(t,i,e,0,ul,!1,r):n.arc(t,i,e,0,ul),!1}class i5t extends Ca{constructor(){super(...arguments),this.type="circle",this.pathStr="M0.5,0A0.5,0.5,0,1,1,-0.5,0A0.5,0.5,0,1,1,0.5,0"}draw(e,t,i,r,s){return Dde(e,this.parseSize(t)/2,i,r,s)}drawOffset(e,t,i,r,s,a){return Dde(e,this.parseSize(t)/2+s,i,r,a)}drawToSvgPath(e,t,i,r){const s=this.parseSize(e)/2;return`M ${t-s}, ${i} a ${s},${s} 0 1,0 ${2*s},0 a ${s},${s} 0 1,0 -${2*s},0`}}const r5t=new i5t;function s5t(n,e,t,i,r){return n.moveTo(-3*e+t,-e+i,r),n.lineTo(-e+t,-e+i,r),n.lineTo(-e+t,-3*e+i,r),n.lineTo(e+t,-3*e+i,r),n.lineTo(e+t,-e+i,r),n.lineTo(3*e+t,-e+i,r),n.lineTo(3*e+t,e+i,r),n.lineTo(e+t,e+i,r),n.lineTo(e+t,3*e+i,r),n.lineTo(-e+t,3*e+i,r),n.lineTo(-e+t,e+i,r),n.lineTo(-3*e+t,e+i,r),n.closePath(),!0}function a5t(n,e,t,i,r,s){return n.moveTo(-3*e+t-r,-e+i-r,s),n.lineTo(-e+t-r,-e+i-r,s),n.lineTo(-e+t-r,-3*e+i-r,s),n.lineTo(e+t+r,-3*e+i-r,s),n.lineTo(e+t+r,-e+i-r,s),n.lineTo(3*e+t+r,-e+i-r,s),n.lineTo(3*e+t+r,e+i+r,s),n.lineTo(e+t+r,e+i+r,s),n.lineTo(e+t+r,3*e+i+r,s),n.lineTo(-e+t-r,3*e+i+r,s),n.lineTo(-e+t-r,e+i+r,s),n.lineTo(-3*e+t-r,e+i+r,s),n.closePath(),!0}class o5t extends Ca{constructor(){super(...arguments),this.type="cross",this.pathStr="M-0.5,-0.2L-0.5,0.2L-0.2,0.2L-0.2,0.5L0.2,0.5L0.2,0.2L0.5,0.2L0.5,-0.2L0.2,-0.2L0.2,-0.5L-0.2,-0.5L-0.2,-0.2Z"}draw(e,t,i,r,s){return s5t(e,this.parseSize(t)/6,i,r,s)}drawOffset(e,t,i,r,s,a){return a5t(e,this.parseSize(t)/6,i,r,s,a)}}const l5t=new o5t;function Y4(n,e,t,i,r){return n.moveTo(t,i-e,r),n.lineTo(e+t,i,r),n.lineTo(t,i+e,r),n.lineTo(t-e,i,r),n.closePath(),!0}class u5t extends Ca{constructor(){super(...arguments),this.type="diamond",this.pathStr="M-0.5,0L0,-0.5L0.5,0L0,0.5Z"}draw(e,t,i,r,s){return Y4(e,this.parseSize(t)/2,i,r,s)}drawFitDir(e,t,i,r,s){return Y4(e,this.parseSize(t)/2,i,r,s)}drawOffset(e,t,i,r,s,a){return Y4(e,this.parseSize(t)/2+s,i,r,a)}}const c5t=new u5t;function Lde(n,e,t,i){const r=2*e;return n.rect(t-e,i-e,r,r),!1}class d5t extends Ca{constructor(){super(...arguments),this.type="square",this.pathStr="M-0.5,-0.5h1v1h-1Z"}draw(e,t,i,r){return Lde(e,this.parseSize(t)/2,i,r)}drawOffset(e,t,i,r,s){return Lde(e,this.parseSize(t)/2+s,i,r)}}const h5t=new d5t;function Fde(n,e,t,i,r=0){return n.moveTo(t+e+2*r,e+i+r),n.lineTo(t-e-2*r,e+i+r),n.lineTo(t,i-e-2*r),n.closePath(),!0}class kOe extends Ca{constructor(){super(...arguments),this.type="triangleUp",this.pathStr="M0.5,0.5 L-0.5,0.5 L0,-0.5 Z"}draw(e,t,i,r){return Fde(e,this.parseSize(t)/2,i,r)}drawOffset(e,t,i,r,s){return Fde(e,this.parseSize(t)/2,i,r,s)}}const f5t=new kOe;class p5t extends kOe{constructor(){super(...arguments),this.type="triangle"}}const g5t=new p5t,OOe=Math.sin(Math.PI/10)/Math.sin(7*Math.PI/10),m5t=Math.sin(ul/10)*OOe,v5t=-Math.cos(ul/10)*OOe;function Bde(n,e,t,i){const r=m5t*e,s=v5t*e;n.moveTo(t,-e+i),n.lineTo(r+t,s+i);for(let a=1;a<5;++a){const o=ul*a/5,l=Math.cos(o),u=Math.sin(o);n.lineTo(u*e+t,-l*e+i),n.lineTo(l*r-u*s+t,u*r+l*s+i)}return n.closePath(),!0}class y5t extends Ca{constructor(){super(...arguments),this.type="star",this.pathStr="M0 -1L0.22451398828979266 -0.3090169943749474L0.9510565162951535 -0.30901699437494745L0.3632712640026804 0.1180339887498948L0.5877852522924732 0.8090169943749473L8.326672684688674e-17 0.3819660112501051L-0.587785252292473 0.8090169943749476L-0.3632712640026804 0.11803398874989487L-0.9510565162951536 -0.30901699437494723L-0.22451398828979274 -0.30901699437494734Z"}draw(e,t,i,r){return Bde(e,this.parseSize(t)/2,i,r)}drawOffset(e,t,i,r,s){return Bde(e,this.parseSize(t)/2+s,i,r)}}const _5t=new y5t,b5t=Af(3);function $de(n,e,t,i){const r=e,s=r/b5t,a=s/5,o=e;return n.moveTo(0+t,-r+i),n.lineTo(s/2+t,i),n.lineTo(a/2+t,i),n.lineTo(a/2+t,o+i),n.lineTo(-a/2+t,o+i),n.lineTo(-a/2+t,i),n.lineTo(-s/2+t,i),n.closePath(),!0}class S5t extends Ca{constructor(){super(...arguments),this.type="arrow",this.pathStr="M-0.07142857142857142,0.5L0.07142857142857142,0.5L0.07142857142857142,-0.0625L0.2,-0.0625L0,-0.5L-0.2,-0.0625L-0.07142857142857142,-0.0625Z"}draw(e,t,i,r){return $de(e,this.parseSize(t)/2,i,r)}drawOffset(e,t,i,r,s){return $de(e,this.parseSize(t)/2+s,i,r)}}const x5t=new S5t;function Nde(n,e,t,i){const r=2*e;return n.moveTo(t,-e+i),n.lineTo(r/3/2+t,e+i),n.lineTo(-r/3/2+t,e+i),n.closePath(),!0}class w5t extends Ca{constructor(){super(...arguments),this.type="wedge",this.pathStr="M0,-0.5773502691896257L-0.125,0.28867513459481287L0.125,0.28867513459481287Z"}draw(e,t,i,r){return Nde(e,this.parseSize(t)/2,i,r)}drawOffset(e,t,i,r,s){return Nde(e,this.parseSize(t)/2+s,i,r)}}const C5t=new w5t;function jde(n,e,t,i){return n.moveTo(-e+t,i),n.lineTo(t,e+i),!1}class T5t extends Ca{constructor(){super(...arguments),this.type="stroke",this.pathStr=""}draw(e,t,i,r){return jde(e,this.parseSize(t)/2,i,r)}drawOffset(e,t,i,r,s){return jde(e,this.parseSize(t)/2+s,i,r)}}const E5t=new T5t,Dd=-.5,Ld=Af(3)/2,zde=1/Af(12);function Hde(n,e,t,i){const r=e/2,s=e*zde,a=r,o=e*zde+e,l=-a,u=o;return n.moveTo(r+t,s+i),n.lineTo(a+t,o+i),n.lineTo(l+t,u+i),n.lineTo(Dd*r-Ld*s+t,Ld*r+Dd*s+i),n.lineTo(Dd*a-Ld*o+t,Ld*a+Dd*o+i),n.lineTo(Dd*l-Ld*u+t,Ld*l+Dd*u+i),n.lineTo(Dd*r+Ld*s+t,Dd*s-Ld*r+i),n.lineTo(Dd*a+Ld*o+t,Dd*o-Ld*a+i),n.lineTo(Dd*l+Ld*u+t,Dd*u-Ld*l+i),n.closePath(),!1}class A5t extends Ca{constructor(){super(...arguments),this.type="wye",this.pathStr="M0.25 0.14433756729740646L0.25 0.6443375672974064L-0.25 0.6443375672974064L-0.25 0.14433756729740643L-0.6830127018922193 -0.10566243270259357L-0.4330127018922193 -0.5386751345948129L0 -0.28867513459481287L0.4330127018922193 -0.5386751345948129L0.6830127018922193 -0.10566243270259357Z"}draw(e,t,i,r){return Hde(e,this.parseSize(t)/2,i,r)}drawOffset(e,t,i,r,s){return Hde(e,this.parseSize(t)/2+s,i,r)}}const k5t=new A5t;function Vde(n,e,t,i,r){return n.moveTo(-e+t-2*r,i),n.lineTo(e+t+r,e+i+2*r),n.lineTo(e+t+r,i-e-2*r),n.closePath(),!0}class O5t extends Ca{constructor(){super(...arguments),this.type="triangleLeft",this.pathStr="M-0.5,0 L0.5,0.5 L0.5,-0.5 Z"}draw(e,t,i,r){return Vde(e,this.parseSize(t)/2,i,r,0)}drawOffset(e,t,i,r,s){return Vde(e,this.parseSize(t)/2,i,r,s)}}const P5t=new O5t;function Wde(n,e,t,i,r=0){return n.moveTo(t-e-r,e+i+2*r),n.lineTo(e+t+2*r,i),n.lineTo(t-e-r,i-e-2*r),n.closePath(),!0}class M5t extends Ca{constructor(){super(...arguments),this.type="triangleRight",this.pathStr="M-0.5,0.5 L0.5,0 L-0.5,-0.5 Z"}draw(e,t,i,r){return Wde(e,this.parseSize(t)/2,i,r)}drawOffset(e,t,i,r,s){return Wde(e,this.parseSize(t)/2,i,r,s)}}const I5t=new M5t;function Ude(n,e,t,i,r=0){return n.moveTo(t-e-2*r,i-e-r),n.lineTo(t+e+2*r,i-e-r),n.lineTo(t,i+e+2*r),n.closePath(),!0}class R5t extends Ca{constructor(){super(...arguments),this.type="triangleDown",this.pathStr="M-0.5,-0.5 L0.5,-0.5 L0,0.5 Z"}draw(e,t,i,r){return Ude(e,this.parseSize(t)/2,i,r)}drawOffset(e,t,i,r,s){return Ude(e,this.parseSize(t)/2,i,r,s)}}const D5t=new R5t,aY=Af(3);function Gde(n,e,t,i){const r=e*aY;return n.moveTo(t,i+-r/3*2),n.lineTo(e+t,i+r),n.lineTo(t-e,i+r),n.closePath(),!0}class L5t extends Ca{constructor(){super(...arguments),this.type="thinTriangle",this.pathStr="M0,-0.5773502691896257L-0.5,0.28867513459481287L0.5,0.28867513459481287Z"}draw(e,t,i,r){return Gde(e,this.parseSize(t)/2/aY,i,r)}drawOffset(e,t,i,r,s){return Gde(e,this.parseSize(t)/2/aY+s,i,r)}}const F5t=new L5t;function Yde(n,e,t,i){const r=2*e;return n.moveTo(e+t,i-r),n.lineTo(t-e,i),n.lineTo(e+t,r+i),!0}class B5t extends Ca{constructor(){super(...arguments),this.type="arrow2Left",this.pathStr="M 0.25 -0.5 L -0.25 0 l 0.25 0.5"}draw(e,t,i,r){return Yde(e,this.parseSize(t)/4,i,r)}drawOffset(e,t,i,r,s){return Yde(e,this.parseSize(t)/4+s,i,r)}}const $5t=new B5t;function Kde(n,e,t,i){const r=2*e;return n.moveTo(t-e,i-r),n.lineTo(t+e,i),n.lineTo(t-e,r+i),!0}class N5t extends Ca{constructor(){super(...arguments),this.type="arrow2Right",this.pathStr="M -0.25 -0.5 l 0.25 0 l -0.25 0.5"}draw(e,t,i,r){return Kde(e,this.parseSize(t)/4,i,r)}drawOffset(e,t,i,r,s){return Kde(e,this.parseSize(t)/4+s,i,r)}}const j5t=new N5t;function Xde(n,e,t,i){const r=2*e;return n.moveTo(t-r,i+e),n.lineTo(t,i-e),n.lineTo(t+r,i+e),!0}class z5t extends Ca{constructor(){super(...arguments),this.type="arrow2Up",this.pathStr="M -0.5 0.25 L 0 -0.25 l 0.5 0.25"}draw(e,t,i,r){return Xde(e,this.parseSize(t)/4,i,r)}drawOffset(e,t,i,r,s){return Xde(e,this.parseSize(t)/4+s,i,r)}}const H5t=new z5t;function qde(n,e,t,i){const r=2*e;return n.moveTo(t-r,i-e),n.lineTo(t,i+e),n.lineTo(t+r,i-e),!0}class V5t extends Ca{constructor(){super(...arguments),this.type="arrow2Down",this.pathStr="M -0.5 -0.25 L 0 0.25 l 0.5 -0.25"}draw(e,t,i,r){return qde(e,this.parseSize(t)/4,i,r)}drawOffset(e,t,i,r,s){return qde(e,this.parseSize(t)/4+s,i,r)}}const W5t=new V5t;function Zde(n,e,t,i,r){return n.moveTo(t,i-e),n.lineTo(t,i+e),!0}class U5t extends Ca{constructor(){super(...arguments),this.type="lineV",this.pathStr="M0,-0.5L0,0.5"}draw(e,t,i,r,s){return Zde(e,this.parseSize(t)/2,i,r)}drawOffset(e,t,i,r,s,a){return Zde(e,this.parseSize(t)/2+s,i,r)}drawToSvgPath(e,t,i,r){const s=this.parseSize(e)/2;return`M ${t}, ${i-s} L ${t},${i+s}`}}const G5t=new U5t;function Qde(n,e,t,i,r){return n.moveTo(t-e,i),n.lineTo(t+e,i),!0}class Y5t extends Ca{constructor(){super(...arguments),this.type="lineH",this.pathStr="M-0.5,0L0.5,0"}draw(e,t,i,r,s){return Qde(e,this.parseSize(t)/2,i,r)}drawOffset(e,t,i,r,s,a){return Qde(e,this.parseSize(t)/2+s,i,r)}drawToSvgPath(e,t,i,r){const s=this.parseSize(e)/2;return`M ${t-s}, ${i} L ${t+s},${i}`}}const K5t=new Y5t;function Jde(n,e,t,i,r){return n.moveTo(t-e,i-e),n.lineTo(t+e,i+e),n.moveTo(t+e,i-e),n.lineTo(t-e,i+e),!0}class X5t extends Ca{constructor(){super(...arguments),this.type="close",this.pathStr="M-0.5,-0.5L0.5,0.5,M0.5,-0.5L-0.5,0.5"}draw(e,t,i,r,s){return Jde(e,this.parseSize(t)/2,i,r)}drawOffset(e,t,i,r,s,a){return Jde(e,this.parseSize(t)/2+s,i,r)}drawToSvgPath(e,t,i,r){const s=this.parseSize(e)/2;return`M ${t-s}, ${i-s} L ${t+s},${i+s} M ${t+s}, ${i-s} L ${t-s},${i+s}`}}const q5t=new X5t;function ehe(n,e,t,i){return n.rect(t-e[0]/2,i-e[1]/2,e[0],e[1]),!1}function the(n,e,t,i){const r=e,s=e/2;return n.rect(t-r/2,i-s/2,r,s),!1}class Z5t extends Ca{constructor(){super(...arguments),this.type="rect",this.pathStr="M -0.5,0.25 L 0.5,0.25 L 0.5,-0.25,L -0.5,-0.25 Z"}draw(e,t,i,r){return st(t)?the(e,t,i,r):ehe(e,t,i,r)}drawWithClipRange(e,t,i,r,s,a,o){st(t)&&(t=[t,t/2]);const l=2*(t[0]+t[1])*s,u=[{x:i+t[0]/2,y:r-t[1]/2},{x:i+t[0]/2,y:r+t[1]/2},{x:i-t[0]/2,y:r+t[1]/2},{x:i-t[0]/2,y:r-t[1]/2}];let c=0,d=u[3];e.moveTo(d.x,d.y);for(let h=0;h<u.length;h++){const f=u[h],p=Math.sqrt((f.x-d.x)*(f.x-d.x)+(f.y-d.y)*(f.y-d.y));if(c+p>l){const g=(f.x-d.x)*(l-c)/p,m=(f.y-d.y)*(l-c)/p;e.lineTo(d.x+g,d.y+m);break}e.lineTo(f.x,f.y),d=f,c+=p}return!1}drawOffset(e,t,i,r,s){return st(t)?the(e,t+2*s,i,r):ehe(e,[t[0]+2*s,t[1]+2*s],i,r)}}const Q5t=new Z5t,oE=new ms;class nhe{constructor(e,t,i=!1){this.pathStr="",this.type=e,Oe(t)?this.svgCache=t:this.path=t,this.isSvg=i}drawOffset(e,t,i,r,s,a,o){return t=this.parseSize(t),this.isSvg?!!this.svgCache&&(this.svgCache.forEach(l=>{e.beginPath(),Nm(l.path.commandList,e,i,r,t,t),o&&o(l.path,l.attribute)}),!1):(Nm(this.path.commandList,e,i,r,t+s,t+s),!1)}draw(e,t,i,r,s,a){return t=this.parseSize(t),this.drawOffset(e,t,i,r,0,s,a)}parseSize(e){return st(e)?e:Math.min(e[0],e[1])}drawWithClipRange(e,t,i,r,s,a,o){return t=this.parseSize(t),this.isSvg?!!this.svgCache&&(this.svgCache.forEach(l=>{l.path.drawWithClipRange(e,t,i,r,s),o&&o(l.path,l.attribute)}),!1):(this.path.drawWithClipRange(e,t,i,r,s),!1)}bounds(e,t){if(e=this.parseSize(e),this.isSvg)return this.svgCache?(t.clear(),void this.svgCache.forEach(({path:i})=>{oE.x1=i.bounds.x1*e,oE.y1=i.bounds.y1*e,oE.x2=i.bounds.x2*e,oE.y2=i.bounds.y2*e,t.union(oE)})):void 0;this.path.bounds&&(t.x1=this.path.bounds.x1*e,t.y1=this.path.bounds.y1*e,t.x2=this.path.bounds.x2*e,t.y2=this.path.bounds.y2*e)}}const J5t=[r5t,l5t,c5t,h5t,F5t,g5t,_5t,x5t,C5t,E5t,k5t,P5t,I5t,f5t,D5t,$5t,j5t,H5t,W5t,Q5t,G5t,K5t,q5t],HF={};J5t.forEach(n=>{HF[n.type]=n});const eVt={arrowLeft:"M 0.25 -0.5 L -0.25 0 l 0.5 0.5",arrowRight:"M -0.25 -0.5 l 0.5 0.5 l -0.5 0.5",rectRound:"M 0.3 -0.5 C 0.41 -0.5 0.5 -0.41 0.5 -0.3 C 0.5 -0.3 0.5 0.3 0.5 0.3 C 0.5 0.41 0.41 0.5 0.3 0.5 C 0.3 0.5 -0.3 0.5 -0.3 0.5 C -0.41 0.5 -0.5 0.41 -0.5 0.3 C -0.5 0.3 -0.5 -0.3 -0.5 -0.3 C -0.5 -0.41 -0.41 -0.5 -0.3 -0.5 C -0.3 -0.5 0.3 -0.5 0.3 -0.5 Z",roundLine:"M 1.2392 -0.258 L -1.3432 -0.258 C -1.4784 -0.258 -1.588 -0.1436 -1.588 -0.002 c 0 0.1416 0.1096 0.256 0.2448 0.256 l 2.5824 0 c 0.1352 0 0.2448 -0.1144 0.2448 -0.256 C 1.484 -0.1436 1.3744 -0.258 1.2392 -0.258 z"};function tVt(n,e){const t=[];let i=e.exec(n);for(;i;){const r=[];r.startIndex=e.lastIndex-i[0].length;const s=i.length;for(let a=0;a<s;a++)r.push(i[a]);t.push(r),i=e.exec(n)}return t}class K4{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,t){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:t})}addChild(e){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}}function ihe(n,e,t,i){const r=n.indexOf(e,t);if(r===-1)throw new Error(i);return r+e.length-1}function nVt(n,e,t=">"){let i,r="";for(let s=e;s<n.length;s++){let a=n[s];if(i)a===i&&(i="");else if(a==='"'||a==="'")i=a;else if(a===t[0]){if(!t[1])return{data:r,index:s};if(n[s+1]===t[1])return{data:r,index:s}}else a==="	"&&(a=" ");r+=a}}function rhe(n,e,t,i=">"){const r=nVt(n,e+1,i);if(!r)return;let s=r.data;const a=r.index,o=s.search(/\s/);let l=s,u=!0;return o!==-1&&(l=s.substr(0,o).replace(/\s\s*$/,""),s=s.substr(o+1)),{tagName:l,tagExp:s,closeIndex:a,attrExpPresent:u,rawTagName:l}}const iVt=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");class rVt{constructor(e){this.currentNode=null,this.options=e,this.tagsNodeStack=[],this.docTypeEntities={}}addChild(e,t,i){const r=t.tagname;typeof r=="string"&&(t.tagname=r),e.addChild(t)}buildAttributesMap(e,t,i){const r={};if(!e)return;const s=tVt(e,iVt),a=s.length;for(let o=0;o<a;o++){const l=s[o][1],u=s[o][4],c=l;l&&(r[c]=u===void 0||(isNaN(u)?u:Number(u)))}return r}parseXml(e){e=e.replace(/\r\n?/g,`
`);const t=new K4("!xml");let i=t,r="",s="";for(let a=0;a<e.length;a++)if(e[a]==="<")if(e[a+1]==="/"){const o=ihe(e,">",a,"Closing Tag is not closed."),l=s.lastIndexOf(".");s=s.substring(0,l),i=this.tagsNodeStack.pop(),i&&i.child&&r&&i.child[i.child.length-1][":@"]&&(i.child[i.child.length-1][":@"].text=r),r="",a=o}else if(e[a+1]==="?")a=rhe(e,a,!1,"?>").closeIndex+1;else if(e.substr(a+1,3)==="!--")a=ihe(e,"-->",a+4,"Comment is not closed.");else{const o=rhe(e,a);let l=o.tagName,u=o.tagExp;const c=o.attrExpPresent,d=o.closeIndex;if(l!==t.tagname&&(s+=s?"."+l:l),u.length>0&&u.lastIndexOf("/")===u.length-1){l[l.length-1]==="/"?(l=l.substr(0,l.length-1),s=s.substr(0,s.length-1),u=l):u=u.substr(0,u.length-1);const h=new K4(l);l!==u&&c&&(h[":@"]=this.buildAttributesMap(u,s,l)),this.addChild(i,h,s),s=s.substr(0,s.lastIndexOf("."))}else{const h=new K4(l);this.tagsNodeStack.push(i),l!==u&&c&&(h[":@"]=this.buildAttributesMap(u,s,l)),this.addChild(i,h,s),i=h}r="",a=d}else r+=e[a];return t.child}}function sVt(n,e){return POe(n)}function POe(n,e){const t={};for(let i=0;i<n.length;i++){const r=n[i],s=aVt(r);if(s!==void 0&&r[s]){const a=POe(r[s]);lVt(a),r[":@"]&&oVt(a,r[":@"]),t[s]!==void 0&&t.hasOwnProperty(s)?(Array.isArray(t[s])||(t[s]=[t[s]]),t[s].push(a)):t[s]=a}}return t}function aVt(n){const e=Object.keys(n);for(let t=0;t<e.length;t++){const i=e[t];if(i!==":@")return i}}function oVt(n,e,t){if(e){const i=Object.keys(e),r=i.length;for(let s=0;s<r;s++){const a=i[s];n[a]=e[a]}}}function lVt(n){return Object.keys(n).length===0}class az{constructor(e){this.options=Object.assign({},az.defaultOptions,e)}valid(e){return e.startsWith("<")}parse(e){if(!this.valid)return!1;const t=new rVt(this.options).parseXml(e);return sVt(t,this.options)}}az.defaultOptions={};function uVt(n){return n.startsWith("<svg")||n.startsWith("<?xml")}var cVt=function(n,e,t,i){return new(t||(t=Promise))(function(r,s){function a(u){try{l(i.next(u))}catch(c){s(c)}}function o(u){try{l(i.throw(u))}catch(c){s(c)}}function l(u){var c;u.done?r(u.value):(c=u.value,c instanceof t?c:new t(function(d){d(c)})).then(a,o)}l((i=i.apply(n,e||[])).next())})};function dVt(n){return cVt(this,void 0,void 0,function*(){const e=[],t=n.getChildren();yield new Promise(i=>{lt.global.getRequestAnimationFrame()(()=>{i(null)})}),t.forEach(i=>{i.subLayers.size&&i.subLayers.forEach(r=>{r.drawContribution&&r.drawContribution.hooks&&r.drawContribution.rendering&&e.push(new Promise(s=>{r.drawContribution.hooks.completeDraw.tap("outWait",()=>{r.drawContribution.hooks.completeDraw.taps=r.drawContribution.hooks.completeDraw.taps.filter(a=>a.name!=="outWait"),s(null)})}))})}),yield Promise.all(e)})}function VF(n,e,t,i=0){return n.expand(e+(i/2+(t?hVt(t,e):0))),n}function hVt(n,e){return n?e:0}let fVt=0;function _l(){return fVt++}var Bw;(function(n){n[n.HORIZONTAL=0]="HORIZONTAL",n[n.VERTICAL=1]="VERTICAL"})(Bw||(Bw={}));function pVt(n){const e=[];let t=0,i="";for(let r=0;r<n.length;r++)vVt(n[r])?t?i+=n[r]:(t=1,i=n[r]):(t&&(e.push({text:i,direction:Bw.VERTICAL}),i="",t=0),e.push({text:n[r],direction:Bw.HORIZONTAL}));return i&&e.push({text:i,direction:Bw.VERTICAL}),e}const gVt=["","","","","","","","","",""],MOe=new Map;gVt.forEach(n=>MOe.set(n,!0));const mVt=[""],IOe=new Map;function vVt(n){if(MOe.has(n))return!0;if(IOe.has(n))return!1;let e=!1;return n.codePointAt(0)<256&&(e=!0),e}mVt.forEach(n=>IOe.set(n,!0));const oz=_l(),yVt=_l(),yM=_l(),lz=_l(),fZ=_l(),pZ=_l(),uz=_l(),_M=_l(),cz=_l(),dz=_l();_l();const gZ=_l();_l();const mZ=_l();_l();const hz=_l(),fz=_l(),vZ=Symbol.for("GraphicService"),ROe=Symbol.for("GraphicCreator"),DOe={"stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-width":"lineWidth","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity",stroke:"stroke",fill:"fill"},_Vt=Object.keys(DOe),bVt={duration:200,easing:"cubicOut"};function LOe(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function SVt(n,e,t){const i=Math.sin(t),r=Math.cos(t),s=e[4],a=e[5],o=e[6],l=e[7],u=e[8],c=e[9],d=e[10],h=e[11];return e!==n&&(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[4]=s*r+u*i,n[5]=a*r+c*i,n[6]=o*r+d*i,n[7]=l*r+h*i,n[8]=u*r-s*i,n[9]=c*r-a*i,n[10]=d*r-o*i,n[11]=h*r-l*i,n}function xVt(n,e,t){const i=Math.sin(t),r=Math.cos(t),s=e[0],a=e[1],o=e[2],l=e[3],u=e[8],c=e[9],d=e[10],h=e[11];return e!==n&&(n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[0]=s*r-u*i,n[1]=a*r-c*i,n[2]=o*r-d*i,n[3]=l*r-h*i,n[8]=s*i+u*r,n[9]=a*i+c*r,n[10]=o*i+d*r,n[11]=l*i+h*r,n}function wVt(n,e,t){const i=Math.sin(t),r=Math.cos(t),s=e[0],a=e[1],o=e[2],l=e[3],u=e[4],c=e[5],d=e[6],h=e[7];return e!==n&&(n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[0]=s*r+u*i,n[1]=a*r+c*i,n[2]=o*r+d*i,n[3]=l*r+h*i,n[4]=u*r-s*i,n[5]=c*r-a*i,n[6]=d*r-o*i,n[7]=h*r-l*i,n}function lE(n,e,t){const i=t[0],r=t[1],s=t[2];let a,o,l,u,c,d,h,f,p,g,m,v;return e===n?(n[12]=e[0]*i+e[4]*r+e[8]*s+e[12],n[13]=e[1]*i+e[5]*r+e[9]*s+e[13],n[14]=e[2]*i+e[6]*r+e[10]*s+e[14],n[15]=e[3]*i+e[7]*r+e[11]*s+e[15]):(a=e[0],o=e[1],l=e[2],u=e[3],c=e[4],d=e[5],h=e[6],f=e[7],p=e[8],g=e[9],m=e[10],v=e[11],n[0]=a,n[1]=o,n[2]=l,n[3]=u,n[4]=c,n[5]=d,n[6]=h,n[7]=f,n[8]=p,n[9]=g,n[10]=m,n[11]=v,n[12]=a*i+c*r+p*s+e[12],n[13]=o*i+d*r+g*s+e[13],n[14]=l*i+h*r+m*s+e[14],n[15]=u*i+f*r+v*s+e[15]),n}function oY(n,e){n[0]=e.a,n[1]=e.b,n[2]=0,n[3]=0,n[4]=e.c,n[5]=e.d,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=e.e,n[13]=e.f,n[14]=0,n[15]=1}function CVt(n,e,t){const i=t[0],r=t[1],s=t[2];return n[0]=e[0]*i,n[1]=e[1]*i,n[2]=e[2]*i,n[3]=e[3]*i,n[4]=e[4]*r,n[5]=e[5]*r,n[6]=e[6]*r,n[7]=e[7]*r,n[8]=e[8]*s,n[9]=e[9]*s,n[10]=e[10]*s,n[11]=e[11]*s,n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n}function bM(n,e,t){const i=e[0],r=e[1],s=e[2],a=e[3],o=e[4],l=e[5],u=e[6],c=e[7],d=e[8],h=e[9],f=e[10],p=e[11],g=e[12],m=e[13],v=e[14],_=e[15];let y=t[0],x=t[1],w=t[2],T=t[3];return n[0]=y*i+x*o+w*d+T*g,n[1]=y*r+x*l+w*h+T*m,n[2]=y*s+x*u+w*f+T*v,n[3]=y*a+x*c+w*p+T*_,y=t[4],x=t[5],w=t[6],T=t[7],n[4]=y*i+x*o+w*d+T*g,n[5]=y*r+x*l+w*h+T*m,n[6]=y*s+x*u+w*f+T*v,n[7]=y*a+x*c+w*p+T*_,y=t[8],x=t[9],w=t[10],T=t[11],n[8]=y*i+x*o+w*d+T*g,n[9]=y*r+x*l+w*h+T*m,n[10]=y*s+x*u+w*f+T*v,n[11]=y*a+x*c+w*p+T*_,y=t[12],x=t[13],w=t[14],T=t[15],n[12]=y*i+x*o+w*d+T*g,n[13]=y*r+x*l+w*h+T*m,n[14]=y*s+x*u+w*f+T*v,n[15]=y*a+x*c+w*p+T*_,n}function Kh(n,e,t){const i=e[0],r=e[1],s=e[2];let a=t[3]*i+t[7]*r+t[11]*s+t[15];return a=a||1,n[0]=(t[0]*i+t[4]*r+t[8]*s+t[12])/a,n[1]=(t[1]*i+t[5]*r+t[9]*s+t[13])/a,n[2]=(t[2]*i+t[6]*r+t[10]*s+t[14])/a,n}function she(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}class TVt{constructor(){this.pools=[]}allocate(e,t,i,r,s,a){if(!this.pools.length)return new Rr(e,t,i,r,s,a);const o=this.pools.pop();return o.a=e,o.b=t,o.c=i,o.d=r,o.e=s,o.f=a,o}allocateByObj(e){if(!this.pools.length)return new Rr(e.a,e.b,e.c,e.d,e.e,e.f);const t=this.pools.pop();return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t.e=e.e,t.f=e.f,t}free(e){this.pools.push(e)}get length(){return this.pools.length}release(...e){this.pools=[]}}class yZ{constructor(){this.pools=[]}static identity(e){return LOe(e)}allocate(){if(!this.pools.length)return she();const e=this.pools.pop();return yZ.identity(e),e}allocateByObj(e){let t;t=this.pools.length?this.pools.pop():she();for(let i=0;i<t.length;i++)t[i]=e[i];return t}free(e){e&&this.pools.push(e)}get length(){return this.pools.length}release(...e){this.pools=[]}}const Uo=new TVt,Ba=new yZ;var EVt=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},AVt=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)};const kVt=new Rr(1,0,0,1,0,0),ix={x:0,y:0};let lY=class{get nativeContext(){return this.path}constructor(n,e){this.matrix=new Rr(1,0,0,1,0,0),this.stack=[],this.dpr=e,this.applyedMatrix=new Rr(1,0,0,1,0,0),this.path=new Ts,this._clearMatrix=new Rr(1,0,0,1,0,0)}getCanvas(){throw new Error("getCanvas")}getContext(){throw new Error("getContext")}setTransformForCurrent(n=!1){!n&&this.applyedMatrix.equalToMatrix(this.matrix)||(this.applyedMatrix=this.cloneMatrix(this.matrix))}get currentMatrix(){return this.matrix}cloneMatrix(n){return Uo.allocateByObj(n)}clear(){this.save(),this.resetTransform(),this.restore()}reset(){this.matrix.setValue(1,0,0,1,0,0),this.applyedMatrix=new Rr(1,0,0,1,0,0),this.stack.length=0}restore(){this.stack.length>0&&(Uo.free(this.matrix),this.matrix=this.stack.pop(),this.setTransformForCurrent())}highPerformanceRestore(){this.stack.length>0&&(Uo.free(this.matrix),this.matrix=this.stack.pop())}rotate(n,e=!0){this.matrix.rotate(n),e&&this.setTransformForCurrent()}save(){const n=this.cloneMatrix(this.matrix);this.stack.push(n)}highPerformanceSave(){const n=this.cloneMatrix(this.matrix);this.stack.push(n)}scale(n,e,t=!0){this.matrix.scale(n,e),t&&this.setTransformForCurrent()}setScale(n,e,t=!0){this.matrix.setScale(n,e),t&&this.setTransformForCurrent()}scalePoint(n,e,t,i,r=!0){this.translate(t,i,!1),this.scale(n,e,!1),this.translate(-t,-i,!1),r&&this.setTransformForCurrent()}setTransform(n,e,t,i,r,s,a=!0,o=this.dpr){this.matrix.setValue(o*n,o*e,o*t,o*i,o*r,o*s),a&&this.setTransformForCurrent()}setTransformFromMatrix(n,e=!0,t=this.dpr){this.matrix.setValue(n.a*t,n.b*t,n.c*t,n.d*t,n.e*t,n.f*t),e&&this.setTransformForCurrent()}resetTransform(n=!0,e=this.dpr){this.setTransform(e,0,0,e,0,0),n&&this.setTransformForCurrent()}transform(n,e,t,i,r,s,a=!0){this.matrix.multiply(n,e,t,i,r,s),a&&this.setTransformForCurrent()}transformFromMatrix(n,e){this.matrix.multiply(n.a,n.b,n.c,n.d,n.e,n.f),e&&this.setTransformForCurrent()}translate(n,e,t=!0){this.matrix.translate(n,e),t&&this.setTransformForCurrent()}rotateDegrees(n,e=!0){const t=n*Math.PI/180;this.rotate(t,e)}rotateAbout(n,e,t,i=!0){this.translate(e,t,!1),this.rotate(n,!1),this.translate(-e,-t,!1),i&&this.setTransformForCurrent()}rotateDegreesAbout(n,e,t,i=!0){this.translate(e,t,!1),this.rotateDegrees(n,!1),this.translate(-e,-t,!1),i&&this.setTransformForCurrent()}beginPath(){this.path.clear()}clip(n,e){}arc(n,e,t,i,r,s){this.path.arc(n,e,t,i,r,s)}arcTo(n,e,t,i,r){this.path.arcTo(n,e,t,i,r)}bezierCurveTo(n,e,t,i,r,s){this.path.bezierCurveTo(n,e,t,i,r,s)}closePath(){this.path.closePath()}ellipse(n,e,t,i,r,s,a,o){}lineTo(n,e){this.path.lineTo(n,e)}moveTo(n,e){this.path.moveTo(n,e)}quadraticCurveTo(n,e,t,i){this.path.quadraticCurveTo(n,e,t,i)}rect(n,e,t,i){this.path.rect(n,e,t,i)}createImageData(n,e){return null}createLinearGradient(n,e,t,i){throw new Error("createLinearGradient")}createPattern(n,e){throw new Error("createPattern")}createRadialGradient(n,e,t,i,r,s){throw new Error("createRadialGradient")}createConicGradient(n,e,t,i){return null}fill(n,e){}fillRect(n,e,t,i){this.path.rect(n,e,t,i)}clearRect(n,e,t,i){}fillText(n,e,t){}getImageData(n,e,t,i){return null}getLineDash(){return[]}isPointInPath(n,e){return this.matrix.transformPoint({x:n,y:e},ix),H3t(this.path.commandList,ix.x,ix.y)}isPointInStroke(n,e){if(!this.lineWidth)return!1;this.matrix.transformPoint({x:n,y:e},ix);const t=mg(this,this.lineWidth,this.dpr);return V3t(this.path.commandList,t,ix.x,ix.y)}measureText(n){throw new Error("measureText")}putImageData(n,e,t){throw new Error("measureText")}setLineDash(n){}stroke(n){}strokeRect(n,e,t,i){this.path.rect(n,e,t,i)}strokeText(n,e,t){}drawImage(){}setCommonStyle(n,e,t,i,r){}_setCommonStyle(n,e,t,i){}setStrokeStyle(n,e,t,i,r){}_setStrokeStyle(n,e,t,i){}setTextStyleWithoutAlignBaseline(n,e){}setTextStyle(n,e){}draw(){}clearMatrix(n=!0,e=this.dpr){this.setTransformFromMatrix(kVt,n,e)}setClearMatrix(n,e,t,i,r,s){this._clearMatrix.setValue(n,e,t,i,r,s)}onlyTranslate(n=this.dpr){return this.matrix.a===n&&this.matrix.b===0&&this.matrix.c===0&&this.matrix.d===n}release(...n){this.stack.forEach(e=>Uo.free(e)),this.stack.length=0}};lY=EVt([Nt(),AVt("design:paramtypes",[Object,Number])],lY);const X4={WIDTH:500,HEIGHT:500,DPR:1};class _Z{get displayWidth(){return this._pixelWidth/this._dpr}get displayHeight(){return this._pixelHeight/this._dpr}get id(){return this._id}get x(){return this._x}set x(e){this._x=e}get y(){return this._y}set y(e){this._y=e}get nativeCanvas(){return this._nativeCanvas}set nativeCanvas(e){this._nativeCanvas=e}get width(){return this._pixelWidth}set width(e){this._pixelWidth=e,this._displayWidth=e/(this._dpr||1)}get height(){return this._pixelHeight}set height(e){this._pixelHeight=e,this._displayHeight=e/(this._dpr||1)}getContext(e){return this._context}get visiable(){return this._visiable}set visiable(e){this._visiable=e,e?this.show():this.hide()}get dpr(){return this._dpr}set dpr(e){this._dpr=e,this.resize(this._displayWidth,this._displayHeight)}constructor(e){var t;const{nativeCanvas:i,width:r=X4.WIDTH,height:s=X4.HEIGHT,dpr:a=X4.DPR,x:o,y:l,id:u,canvasControled:c=!0}=e;this._x=o??0,this._y=l??0,this._pixelWidth=r*a,this._pixelHeight=s*a,this._visiable=e.visiable!==!1,this.controled=c,this._displayWidth=r,this._displayHeight=s,this._dpr=a,this._nativeCanvas=i,this._id=(t=i.id)!==null&&t!==void 0?t:u,u&&(i.id=u),this.init(e)}getNativeCanvas(){return this._nativeCanvas}hide(){}show(){}applyPosition(){}resetStyle(e){}resize(e,t){}toDataURL(e,t){return""}readPixels(e,t,i,r){return this._context.getImageData(e,t,i,r)}convertToBlob(e){throw new Error("")}transferToImageBitmap(){throw new Error("")}release(...e){this.controled&&this._nativeCanvas.parentElement&&this._nativeCanvas.parentElement.removeChild(this._nativeCanvas)}}_Z.env="browser";var mh;(function(n){n[n.Color255=0]="Color255",n[n.Color1=1]="Color1"})(mh||(mh={}));class da{static Get(e,t=mh.Color1,i=[0,0,0,1]){if(t===mh.Color1){const a=da.store1[e];if(a)return i[0]=a[0],i[1]=a[1],i[2]=a[2],i[3]=a[3],i;const o=ga.parseColorString(e);if(o){const l=[o.r/255,o.g/255,o.b/255,o.opacity];da.store1[e]=l,da.store255[e]=[o.r,o.g,o.b,o.opacity],i[0]=l[0],i[1]=l[1],i[2]=l[2],i[3]=l[3]}return i}const r=da.store255[e];if(r)return i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i;const s=ga.parseColorString(e);return s&&(da.store1[e]=[s.r/255,s.g/255,s.b/255,s.opacity],da.store255[e]=[s.r,s.g,s.b,s.opacity],i[0]=s.r,i[1]=s.g,i[2]=s.b,i[3]=s.opacity),i}static Set(e,t,i){if(t===mh.Color1){if(da.store1[e])return;da.store1[e]=i,da.store255[e]=[Math.floor(255*i[0]),Math.floor(255*i[1]),Math.floor(255*i[2]),Math.floor(255*i[3])]}else{if(da.store255[e])return;da.store255[e]=i,da.store1[e]=[i[0]/255,i[1]/255,i[2]/255,i[3]]}}}da.store255={},da.store1={};function wD(n,e=!1){return Array.isArray(n)&&st(n[0])?e?`rgb(${Math.round(n[0])},${Math.round(n[1])},${Math.round(n[2])},${n[3].toFixed(2)})`:`rgb(${Math.round(n[0])},${Math.round(n[1])},${Math.round(n[2])})`:n}function IC(n,e,t,i,r){return Array.isArray(n)&&!st(n[0])||Array.isArray(e)&&!st(e[0])?new Array(4).fill(0).map((s,a)=>{var o,l;return ahe(Oe(n)?(o=n[a])!==null&&o!==void 0?o:n[0]:n,Oe(e)?(l=e[a])!==null&&l!==void 0?l:e[0]:e,t,i)}):ahe(n,e,t,i)}function ahe(n,e,t,i,r){if(!n||!e)return n&&wD(n)||e&&wD(e)||!1;let s,a,o=!1,l=!1;if(Array.isArray(n)?s=n:typeof n=="string"?s=da.Get(n,mh.Color255):o=!0,Array.isArray(e)?a=e:typeof e=="string"?a=da.Get(e,mh.Color255):l=!0,o!==l){const u=o?n:e,c=o?e:n,d=Object.assign(Object.assign({},u),{stops:u.stops.map(h=>Object.assign(Object.assign({},h),{color:wD(c)}))});return o?IC(u,d,t,i):IC(d,u,t,i)}if(o){if(n.gradient===e.gradient){const u=n,c=e,d=u.stops,h=c.stops;if(d.length!==h.length)return!1;if(u.gradient==="linear")return OVt(u,c,t);if(u.gradient==="radial")return PVt(u,c,t);if(u.gradient==="conical")return MVt(u,c,t)}return!1}return wD(IVt(s,a,t),i)}function OVt(n,e,t){const i=n.stops,r=e.stops;return{gradient:"linear",x0:n.x0+(e.x0-n.x0)*t,x1:n.x1+(e.x1-n.x1)*t,y0:n.y0+(e.y0-n.y0)*t,y1:n.y1+(e.y1-n.y1)*t,stops:new Array(i.length).fill(0).map((s,a)=>({color:bZ(i[a].color,r[a].color,t),offset:i[a].offset+(r[a].offset-i[a].offset)*t}))}}function PVt(n,e,t){const i=n.stops,r=e.stops;return{gradient:"radial",x0:n.x0+(e.x0-n.x0)*t,x1:n.x1+(e.x1-n.x1)*t,y0:n.y0+(e.y0-n.y0)*t,y1:n.y1+(e.y1-n.y1)*t,r0:n.r0+(e.r0-n.r0)*t,r1:n.r1+(e.r1-n.r1)*t,stops:new Array(i.length).fill(0).map((s,a)=>({color:bZ(i[a].color,r[a].color,t),offset:i[a].offset+(r[a].offset-i[a].offset)*t}))}}function MVt(n,e,t){const i=n.stops,r=e.stops;return{gradient:"conical",startAngle:n.startAngle+(e.startAngle-n.startAngle)*t,endAngle:n.endAngle+(e.endAngle-n.endAngle)*t,x:n.x+(e.x-n.x)*t,y:n.y+(e.y-n.y)*t,stops:new Array(i.length).fill(0).map((s,a)=>({color:bZ(i[a].color,r[a].color,t),offset:i[a].offset+(r[a].offset-i[a].offset)*t}))}}function IVt(n,e,t){return[n[0]+(e[0]-n[0])*t,n[1]+(e[1]-n[1])*t,n[2]+(e[2]-n[2])*t,n[3]+(e[3]-n[3])*t]}function ohe(n,e,t){return`rgba(${n[0]+(e[0]-n[0])*t},${n[1]+(e[1]-n[1])*t},${n[2]+(e[2]-n[2])*t},${n[3]+(e[3]-n[3])*t})`}const $g=[0,0,0,0],uE=[0,0,0,0];function bZ(n,e,t){return da.Get(n,mh.Color255,$g),da.Get(e,mh.Color255,uE),`rgba(${Math.round($g[0]+(uE[0]-$g[0])*t)},${Math.round($g[1]+(uE[1]-$g[1])*t)},${Math.round($g[2]+(uE[2]-$g[2])*t)},${$g[3]+(uE[3]-$g[3])*t})`}class Wd{static GetCanvas(){try{return Wd.canvas||(Wd.canvas=lt.global.createCanvas({})),Wd.canvas}catch{return null}}static GetCtx(){if(!Wd.ctx){const e=Wd.GetCanvas();Wd.ctx=e.getContext("2d")}return Wd.ctx}}class gb extends cjt{static getInstance(){return gb._instance||(gb._instance=new gb),gb._instance}constructor(e=[],t=100){super(),this.cacheParams={CLEAN_THRESHOLD:100,L_TIME:1e3},this.dataMap=new Map;const i=Wd.GetCanvas(),r=Wd.GetCtx();if(i.width=t,i.height=1,!r)return;if(r.translate(0,0),!r)throw new Error("ctx");const s=r.createLinearGradient(0,0,t,0);e.forEach(a=>{s.addColorStop(a[0],a[1])}),r.fillStyle=s,r.fillRect(0,0,t,1),this.rgbaSet=r.getImageData(0,0,t,1).data}getColor(e){const t=this.rgbaSet.slice(4*e,4*e+4);return`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${t[3]/255})`}GetOrCreate(e,t,i,r,s=[],a=100){let o=`${e}${t}${i}${r}`;s.forEach(u=>o+=u.join()),o+=a;let l=this.dataMap.get(o);return l||(l={data:new gb(s,a),timestamp:[]},this.addLimitedTimestamp(l,Date.now(),{}),this.dataMap.set(o,l)),this.clearCache(this.dataMap,this.cacheParams),l.data}}class zl{static GetSize(e){for(let t=0;t<zl.ImageSize.length;t++)if(zl.ImageSize[t]>=e)return zl.ImageSize[t];return e}static Get(e,t,i,r,s,a,o){const l=zl.GenKey(e,t,i,r,s),u=zl.cache[l];if(!u||u.length===0)return null;for(let c=0;c<u.length;c++)if(u[c].width>=a&&u[c].height>=o)return u[c].pattern;return null}static Set(e,t,i,r,s,a,o,l){const u=zl.GenKey(e,t,i,r,s);zl.cache[u]?zl.cache[u].push({width:o,height:l,pattern:a}):zl.cache[u]=[{width:o,height:l,pattern:a}]}static GenKey(e,t,i,r,s){return`${t},${i},${r},${s},${e.join()}`}}zl.cache={},zl.ImageSize=[20,40,80,160,320,640,1280,2560];function RVt(n,e,t,i){const{stops:r,startAngle:s,endAngle:a}=i;for(;t<0;)t+=xn;for(;t>xn;)t-=xn;if(t<s||t>a)return r[0].color;let o,l,u=(t-s)/(a-s);for(let c=0;c<r.length;c++)if(r[c].offset>=u){o=r[c-1],l=r[c];break}return u=(u-o.offset)/(l.offset-o.offset),IC(o.color,l.color,u,!1)}function DVt(n,e,t,i,r,s,a,o,l){const u=Math.floor(180*r/Math.PI),c=Wd.GetCanvas(),d=Wd.GetCtx();if(!d)return null;const h=zl.GetSize(o),f=zl.GetSize(l);let p=zl.Get(e,t,i,s,a,h,f);if(p)return p;const g=Math.sqrt(Math.max(Math.max(Math.pow(t,2)+Math.pow(i,2),Math.pow(h-t,2)+Math.pow(i,2)),Math.max(Math.pow(h-t,2)+Math.pow(f-i,2),Math.pow(t,2)+Math.pow(f-i,2)))),m=u+1,v=r/Math.max(1,m-1),_=gb.getInstance().GetOrCreate(t,i,h,f,e,m),y=2*Math.PI*g/360;c.width=h,c.height=f,d.setTransform(1,0,0,1,0,0),d.clearRect(0,0,h,f),d.translate(t,i),d.rotate(s);for(let w=0,T=m-1;w<T&&!(s+w*v>a);w++){const E=_.getColor(w);d.beginPath(),d.rotate(v),d.moveTo(0,0),d.lineTo(g,-2*y),d.lineTo(g,0),d.fillStyle=E,d.closePath(),d.fill()}const x=d.getImageData(0,0,h,f);return c.width=x.width,c.height=x.height,d.putImageData(x,0,0),p=n.createPattern(c,"no-repeat"),p&&zl.Set(e,t,i,s,a,p,h,f),p}const CD=new ms,LVt=new Rr;new ms;const sd=["lineWidth","scaleX","scaleY","angle","anchor","visible"],lhe=["x","y"],uhe=["scaleX","scaleY"],che=["angle"],cE=new Zi,hd={strokeSeg:1,boundsPadding:2,pickMode:1,boundsMode:1,customPickShape:1,pickable:1,childrenPickable:1,visible:1,zIndex:1,layout:1,keepDirIn3d:1,globalZIndex:1,outerBorder:1,innerBorder:1,lineDash:1,lineCap:1,lineJoin:1,miterLimit:2,strokeBoundsBuffer:2,scaleCenter:1,anchor:1,anchor3d:1,postMatrix:1,backgroundMode:2,background:1,texture:1,cursor:1,html:1};class _a extends q3t{static mixin(e){const t=Object.keys(e);for(let i=0;i<t.length;++i){const r=t[i];Object.defineProperty(_a.prototype,r,Object.getOwnPropertyDescriptor(e,r))}}get AABBBounds(){return this.tryUpdateAABBBounds()}get OBBBounds(){return this.tryUpdateOBBBounds()}get globalAABBBounds(){return this.tryUpdateGlobalAABBBounds()}get transMatrix(){return this.tryUpdateLocalTransMatrix(!0)}get globalTransMatrix(){return this.tryUpdateGlobalTransMatrix(!0)}constructor(e={}){var t;super(),this._AABBBounds=new ms,this._updateTag=mr.INIT,this.attribute=e,this.valid=this.isValid(),this.updateAABBBoundsStamp=0,e.background?this.loadImage((t=e.background.background)!==null&&t!==void 0?t:e.background,!0):e.shadowGraphic&&this.setShadowGraphic(e.shadowGraphic)}getGraphicService(){var e,t;return(t=(e=this.stage)===null||e===void 0?void 0:e.graphicService)!==null&&t!==void 0?t:lt.graphicService}getAttributes(){return this.attribute}setMode(e){e==="3d"?this.set3dMode():this.set2dMode()}set3dMode(){this.in3dMode=!0}set2dMode(){this.in3dMode=!1}getOffsetXY(e,t=!1){var i,r;const{dx:s=e.dx,dy:a=e.dy}=this.attribute;if(t&&this.parent){const o=this.parent.attribute;cE.x=s+((i=o.scrollX)!==null&&i!==void 0?i:0),cE.y=a+((r=o.scrollY)!==null&&r!==void 0?r:0)}else cE.x=s,cE.y=a;return cE}onAnimateBind(e){this._emitCustomEvent("animate-bind",e)}tryUpdateAABBBounds(){const e=this.attribute.boundsMode==="imprecise";if(!this.shouldUpdateAABBBounds())return this._AABBBounds;if(!this.valid)return this._AABBBounds.clear(),this._AABBBounds;this.getGraphicService().beforeUpdateAABBBounds(this,this.stage,!0,this._AABBBounds);const t=this.doUpdateAABBBounds(e);return this.getGraphicService().afterUpdateAABBBounds(this,this.stage,this._AABBBounds,this,!0),this.attribute.boundsMode==="empty"&&t.clear(),t}tryUpdateOBBBounds(){return this._OBBBounds||(this._OBBBounds=new Kq),this.tryUpdateAABBBounds(),this.updateOBBBoundsStamp===this.updateAABBBoundsStamp?this._OBBBounds:(this.updateOBBBoundsStamp=this.updateAABBBoundsStamp,this.valid?this.doUpdateOBBBounds():(this._OBBBounds.clear(),this._OBBBounds))}combindShadowAABBBounds(e){if(this.shadowRoot){const t=this.shadowRoot.AABBBounds.clone();e.union(t)}}doUpdateOBBBounds(){return this._OBBBounds}getClipPath(){const{clipConfig:e}=this.attribute;if(!e)return null;this.clipPathMap||(this.clipPathMap=new Map);const{shape:t}=e;let i=this.clipPathMap.get(t)||null;return i||(this.clipPathMap.size>10&&this.clipPathMap.clear(),i=this.parsePath(t),i&&this.clipPathMap.set(t,i)),i}parsePath(e){if(!e)return null;let t=HF[e];if(t||(t=_a.userSymbolMap[e],t))return t;const i=eVt[e];if(uVt(e=i||e)===!0){const u=new az,{svg:c}=u.parse(e);if(!c)return null;const d=Oe(c.path)?c.path:[c.path];CD.clear();const h=[];d.forEach(v=>{const _=new Ts().fromString(v.d),y={};_Vt.forEach(x=>{v[x]&&(y[DOe[x]]=v[x])}),h.push({path:_,attribute:y}),CD.union(_.bounds)});const f=CD.width(),p=CD.height(),g=1/dl(f,p);h.forEach(v=>v.path.transform(0,0,g,g));const m=new nhe(e,h,!0);return _a.userSymbolMap[e]=m,m}const r=new Ts().fromString(e),s=r.bounds.width(),a=r.bounds.height(),o=1/dl(s,a);r.transform(0,0,o,o);const l=new nhe(e,r);return _a.userSymbolMap[e]=l,l}doUpdateAABBBounds(e){this.updateAABBBoundsStamp++;const t=this.getGraphicTheme();this._AABBBounds.clear();const i=this.attribute,r=this.updateAABBBounds(i,t,this._AABBBounds,e),{boundsPadding:s=t.boundsPadding}=i,a=rY(s);return a&&r.expand(a),this.clearUpdateBoundTag(),r}updatePathProxyAABBBounds(e){const t=typeof this.pathProxy=="function"?this.pathProxy(this.attribute):this.pathProxy;if(!t)return!1;const i=new uZ(e);return Nm(t.commandList,i,0,0),!0}tryUpdateGlobalAABBBounds(){const e=this.AABBBounds;return this._globalAABBBounds?this._globalAABBBounds.setValue(e.x1,e.y1,e.x2,e.y2):this._globalAABBBounds=e.clone(),this._globalAABBBounds.empty()||this.parent&&this._globalAABBBounds.transformWithMatrix(this.parent.globalTransMatrix),this._globalAABBBounds}tryUpdateGlobalTransMatrix(e=!0){if(this._globalTransMatrix){if(this.parent){const t=this.parent.globalTransMatrix;this._globalTransMatrix.setValue(t.a,t.b,t.c,t.d,t.e,t.f)}}else this._globalTransMatrix=this.parent?this.parent.globalTransMatrix.clone():this.transMatrix.clone();return this.shouldUpdateGlobalMatrix()&&this.doUpdateGlobalMatrix(),this._globalTransMatrix}shouldUpdateGlobalMatrix(){return!0}tryUpdateLocalTransMatrix(e=!0){return this._transMatrix||(this._transMatrix=new Rr),this.shouldUpdateLocalMatrix()&&(this.doUpdateLocalMatrix(),e&&this.clearUpdateLocalPositionTag()),this._transMatrix}shouldUpdateAABBBounds(){return this.shadowRoot?(!!(this._updateTag&mr.UPDATE_BOUNDS)||this.shadowRoot.shouldUpdateAABBBounds())&&this.getGraphicService().validCheck(this.attribute,this.getGraphicTheme(),this._AABBBounds,this):!!(this._updateTag&mr.UPDATE_BOUNDS)&&this.getGraphicService().validCheck(this.attribute,this.getGraphicTheme(),this._AABBBounds,this)}shouldSelfChangeUpdateAABBBounds(){return this.shadowRoot?!!(this._updateTag&mr.UPDATE_BOUNDS)||this.shadowRoot.shouldUpdateAABBBounds():!!(this._updateTag&mr.UPDATE_BOUNDS)}shouldUpdateLocalMatrix(){return!!(this._updateTag&mr.UPDATE_LOCAL_MATRIX)}isValid(){var e,t;const i=this.attribute;return Number.isFinite(((e=i.x)!==null&&e!==void 0?e:0)+((t=i.y)!==null&&t!==void 0?t:0))}_validNumber(e){return e==null||Number.isFinite(e)}shouldUpdateShape(){return!!(this._updateTag&mr.UPDATE_SHAPE)}clearUpdateShapeTag(){this._updateTag&=mr.CLEAR_SHAPE}containsPoint(e,t,i,r){if(!r)return!1;if(i===yO.GLOBAL){const s=new Zi(e,t);this.parent&&this.parent.globalTransMatrix.transformPoint(s,s),e=s.x,t=s.y}return r.containsPoint(this,{x:e,y:t})}setWidthHeightWithoutTransform(e){this.widthWithoutTransform=e.x2-e.x1,this.heightWithoutTransform=e.y2-e.y1}setAttributesAndPreventAnimate(e,t=!1,i,r){this.setAttributes(e,t,i),this.animates&&this.animates.forEach(s=>{(s.priority!==1/0||r)&&Object.keys(e).forEach(a=>{s.preventAttr(a)})})}setAttributes(e,t=!1,i){e&&((e=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate(e,this.attribute,null,i)||e).background?this.loadImage(e.background,!0):e.shadowGraphic&&this.setShadowGraphic(e.shadowGraphic),this._setAttributes(e,t,i))}_setAttributes(e,t=!1,i){const r=Object.keys(e);for(let s=0;s<r.length;s++){const a=r[s];this.attribute[a]=e[a]}this.valid=this.isValid(),this.updateShapeAndBoundsTagSetted()||!t&&!this.needUpdateTags(r)?this.addUpdateBoundTag():this.addUpdateShapeAndBoundsTag(),this.addUpdatePositionTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(i)}setAttribute(e,t,i,r){var s;const a=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({[e]:t},this.attribute,e,r);a?this._setAttributes(a,i,r):J((s=this.normalAttrs)===null||s===void 0?void 0:s[e])?(this.attribute[e]=t,this.valid=this.isValid(),this.updateShapeAndBoundsTagSetted()||!i&&!this.needUpdateTag(e)?this.addUpdateBoundTag():this.addUpdateShapeAndBoundsTag(),this.addUpdatePositionTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(r)):this.normalAttrs[e]=t,e==="background"?this.loadImage(t,!0):e==="shadowGraphic"&&this.setShadowGraphic(t)}needUpdateTags(e,t=sd){for(let i=0;i<t.length;i++){const r=t[i];if(e.indexOf(r)!==-1)return!0}return!1}needUpdateTag(e,t=sd){for(let i=0;i<t.length;i++)if(e===t[i])return!0;return!1}initAttributes(e){const t={type:Za.INIT};e=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate(e,this.attribute,null,t)||e,this.attribute=e,e.background?this.loadImage(e.background,!0):e.shadowGraphic&&this.setShadowGraphic(e.shadowGraphic),this._updateTag=mr.INIT,this.valid=this.isValid(),this.onAttributeUpdate(t)}translate(e,t){var i,r;if(e===0&&t===0)return this;const s={type:Za.TRANSLATE},a=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({x:e,y:t},this.attribute,lhe,s);a&&(e=a.x,t=a.y,delete a.x,delete a.y,this._setAttributes(a));const o=this.attribute,l=o.postMatrix;return l?lt.transformUtil.fromMatrix(l,l).translate(e,t):(o.x=((i=o.x)!==null&&i!==void 0?i:vo.x)+e,o.y=((r=o.y)!==null&&r!==void 0?r:vo.y)+t),this.addUpdatePositionTag(),this.addUpdateBoundTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(s),this}translateTo(e,t){const i=this.attribute;if(i.x===e&&i.y===t)return this;const r={type:Za.TRANSLATE_TO},s=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({x:e,y:t},this.attribute,lhe,r);return s?(this._setAttributes(s,!1,r),this):(i.x=e,i.y=t,this.addUpdatePositionTag(),this.addUpdateBoundTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(r),this)}scale(e,t,i){var r,s;if(e===1&&t===1)return this;const a={type:Za.SCALE},o=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({scaleX:e,scaleY:t,scaleCenter:i},this.attribute,uhe,a);o&&(e=o.scaleX,t=o.scaleY,delete o.scaleX,delete o.scaleY,this._setAttributes(o));const l=this.attribute;if(i){let{postMatrix:u}=this.attribute;u||(u=new Rr,l.postMatrix=u),lt.transformUtil.fromMatrix(u,u).scale(e,t,i)}else l.scaleX=((r=l.scaleX)!==null&&r!==void 0?r:vo.scaleX)*e,l.scaleY=((s=l.scaleY)!==null&&s!==void 0?s:vo.scaleY)*t;return this.addUpdatePositionTag(),this.addUpdateBoundTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(a),this}scaleTo(e,t){const i=this.attribute;if(i.scaleX===e&&i.scaleY===t)return this;const r={type:Za.SCALE_TO},s=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({scaleX:e,scaleY:t},this.attribute,uhe,r);return s?(this._setAttributes(s,!1,r),this):(i.scaleX=e,i.scaleY=t,this.addUpdatePositionTag(),this.addUpdateBoundTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(r),this)}rotate(e,t){var i;if(e===0)return this;const r={type:Za.ROTATE},s=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({angle:e,rotateCenter:t},this.attribute,che,r);s&&(delete s.angle,this._setAttributes(s,!1,r));const a=this.attribute;if(t){let{postMatrix:o}=this.attribute;o||(o=new Rr,a.postMatrix=o),lt.transformUtil.fromMatrix(o,o).rotate(e,t)}else a.angle=((i=a.angle)!==null&&i!==void 0?i:vo.angle)+e;return this.addUpdatePositionTag(),this.addUpdateBoundTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(r),this}rotateTo(e){const t=this.attribute;if(t.angle===e)return this;const i={type:Za.ROTATE_TO},r=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate(e,this.attribute,che,i);return r?(this._setAttributes(r,!1,i),this):(t.angle=e,this.addUpdatePositionTag(),this.addUpdateBoundTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(i),this)}skewTo(e,t){return this}onAttributeUpdate(e){e&&e.skipUpdateCallback||(this.getGraphicService().onAttributeUpdate(this),this._emitCustomEvent("afterAttributeUpdate",e))}update(e){e?(e.bounds&&this.tryUpdateAABBBounds(),e.trans&&this.tryUpdateLocalTransMatrix()):(this.tryUpdateAABBBounds(),this.tryUpdateLocalTransMatrix())}hasState(e){return!(!this.currentStates||!this.currentStates.length)&&(!!J(e)||this.currentStates.includes(e))}getState(e){var t;return(t=this.states)===null||t===void 0?void 0:t[e]}applyStateAttrs(e,t,i,r){var s,a;if(i){const o=Object.keys(e),l=this.getNoWorkAnimateAttr(),u={};let c;o.forEach(h=>{l[h]?(c||(c={}),c[h]=e[h]):u[h]=r&&e[h]===void 0?this.getDefaultAttribute(h):e[h]});const d=(a=(s=this.context&&this.context.stateAnimateConfig)!==null&&s!==void 0?s:this.stateAnimateConfig)!==null&&a!==void 0?a:bVt;this.applyAnimationState(["state"],[{name:"state",animation:{type:"state",to:u,duration:d.duration,easing:d.easing}}]),c&&this.setAttributesAndPreventAnimate(c,!1,{type:Za.STATE}),this.finalAttribute&&Object.assign(this.finalAttribute,e)}else this.stopStateAnimates(),this.setAttributesAndPreventAnimate(e,!1,{type:Za.STATE}),this.finalAttribute&&Object.assign(this.finalAttribute,e);this._emitCustomEvent("afterStateUpdate",{type:Za.STATE})}updateNormalAttrs(e){const t={};this.normalAttrs?(Object.keys(e).forEach(i=>{i in this.normalAttrs?(t[i]=this.normalAttrs[i],delete this.normalAttrs[i]):t[i]=this.getNormalAttribute(i)}),Object.keys(this.normalAttrs).forEach(i=>{e[i]=this.normalAttrs[i]})):Object.keys(e).forEach(i=>{t[i]=this.getNormalAttribute(i)}),this.normalAttrs=t}stopStateAnimates(e="end"){this.animates&&this.animates.forEach(t=>{t.stateNames&&(t.stop(e),this.animates.delete(t.id))})}getNormalAttribute(e){var t,i;const r=this.attribute[e];return this.animates&&this.animates.size?(t=this.finalAttribute)===null||t===void 0?void 0:t[e]:r??((i=this.finalAttribute)===null||i===void 0?void 0:i[e])}clearStates(e){this.hasState()&&this.normalAttrs?(this.currentStates=[],this.applyStateAttrs(this.normalAttrs,this.currentStates,e,!0)):this.currentStates=[],this.normalAttrs=null}removeState(e,t){if(this.currentStates){const i=Oe(e)?s=>!e.includes(s):s=>s!==e,r=this.currentStates.filter(i);r.length!==this.currentStates.length&&this.useStates(r,t)}}toggleState(e,t){if(this.hasState(e))this.removeState(e,t);else if((this.currentStates?this.currentStates.indexOf(e):-1)<0){const i=this.currentStates?this.currentStates.slice():[];i.push(e),this.useStates(i,t)}}addState(e,t,i){var r;if(this.currentStates&&this.currentStates.includes(e)&&(t||this.currentStates.length===1))return;const s=t&&(!((r=this.currentStates)===null||r===void 0)&&r.length)?this.currentStates.concat([e]):[e];this.useStates(s,i)}useStates(e,t){var i;if(!e.length)return void this.clearStates(t);if(!(((i=this.currentStates)===null||i===void 0?void 0:i.length)!==e.length||e.some((s,a)=>this.currentStates[a]!==s)))return;const r={};e.forEach(s=>{var a;const o=this.stateProxy?this.stateProxy(s,e):(a=this.states)===null||a===void 0?void 0:a[s];o&&Object.assign(r,o)}),this.updateNormalAttrs(r),this.currentStates=e,this.applyStateAttrs(r,e,t)}addUpdateBoundTag(){this._updateTag|=mr.UPDATE_BOUNDS,this.parent&&this.parent.addChildUpdateBoundTag(),this.glyphHost&&this.glyphHost.addUpdateBoundTag()}addUpdateShapeTag(){this._updateTag|=mr.UPDATE_SHAPE}addUpdateShapeAndBoundsTag(){this._updateTag|=mr.UPDATE_SHAPE_AND_BOUNDS,this.parent&&this.parent.addChildUpdateBoundTag(),this.glyphHost&&this.glyphHost.addUpdateBoundTag()}updateShapeAndBoundsTagSetted(){return(this._updateTag&mr.UPDATE_SHAPE_AND_BOUNDS)===mr.UPDATE_SHAPE_AND_BOUNDS}clearUpdateBoundTag(){this._updateTag&=mr.CLEAR_BOUNDS}addUpdatePositionTag(){this.shadowRoot&&this.shadowRoot.addUpdateGlobalPositionTag(),this._updateTag|=mr.UPDATE_GLOBAL_LOCAL_MATRIX}addUpdateGlobalPositionTag(){this.shadowRoot&&this.shadowRoot.addUpdateGlobalPositionTag(),this._updateTag|=mr.UPDATE_GLOBAL_MATRIX}clearUpdateLocalPositionTag(){this._updateTag&=mr.CLEAR_LOCAL_MATRIX}clearUpdateGlobalPositionTag(){this._updateTag&=mr.CLEAR_GLOBAL_MATRIX}addUpdateLayoutTag(){this._updateTag|=mr.UPDATE_LAYOUT}clearUpdateLayoutTag(){this._updateTag&=mr.CLEAR_LAYOUT}needUpdateLayout(){return!!(this._updateTag&mr.UPDATE_LAYOUT)}getAnchor(e,t,i){const r=[0,0],s=()=>{if(t.b)return t.b;const a=this.clone();return a.attribute.angle=0,a.attribute.scaleCenter=null,i&&(a.attribute.scaleX=1,a.attribute.scaleY=1),t.b=a.AABBBounds,t.b};if(typeof e[0]=="string"){const a=parseFloat(e[0])/100,o=s();r[0]=o.x1+(o.x2-o.x1)*a}else r[0]=e[0];if(typeof e[1]=="string"){const a=parseFloat(e[1])/100,o=s();r[1]=o.y1+(o.y2-o.y1)*a}else r[1]=e[1];return r}doUpdateLocalMatrix(){const{x:e=vo.x,y:t=vo.y,scaleX:i=vo.scaleX,scaleY:r=vo.scaleY,angle:s=vo.angle,scaleCenter:a,anchor:o,postMatrix:l}=this.attribute;let u=[0,0];const c={};if(o&&s&&(u=this.getAnchor(o,c)),!a||i===1&&r===1)ujt(this._transMatrix,this._transMatrix.reset(),e,t,i,r,s,o&&u);else{const h=this._transMatrix;h.reset(),h.translate(u[0],u[1]),h.rotate(s),h.translate(-u[0],-u[1]),h.translate(e,t),u=this.getAnchor(a,c,!0),lt.transformUtil.fromMatrix(h,h).scale(i,r,{x:u[0],y:u[1]})}const d=this.getOffsetXY(vo);if(this._transMatrix.e+=d.x,this._transMatrix.f+=d.y,l){const h=LVt.setValue(l.a,l.b,l.c,l.d,l.e,l.f),f=this._transMatrix;h.multiply(f.a,f.b,f.c,f.d,f.e,f.f),f.setValue(h.a,h.b,h.c,h.d,h.e,h.f)}}doUpdateGlobalMatrix(){if(this.parent){this._globalTransMatrix.multiply(this.transMatrix.a,this.transMatrix.b,this.transMatrix.c,this.transMatrix.d,this.transMatrix.e,this.transMatrix.f);const{scrollX:e=0,scrollY:t=0}=this.parent.attribute;this._globalTransMatrix.translate(e,t)}}setStage(e,t){if(this.stage!==e){if(this.stage=e,this.layer=t,this.setStageToShadowRoot(e,t),this.animates&&this.animates.size){const i=e.getTimeline();this.animates.forEach(r=>{r.timeline.isGlobal&&(r.setTimeline(i),i.addAnimate(r))})}this._onSetStage&&this._onSetStage(this,e,t),this.getGraphicService().onSetStage(this,e)}}setStageToShadowRoot(e,t){this.shadowRoot&&this.shadowRoot.setStage(e,t)}onAddStep(e){}onStop(e){e&&this.setAttributes(e,!1,{type:Za.ANIMATE_END})}getDefaultAttribute(e){return this.getGraphicTheme()[e]}getComputedAttribute(e){var t;return(t=this.attribute[e])!==null&&t!==void 0?t:this.getDefaultAttribute(e)}onSetStage(e,t=!1){this._onSetStage=e,t&&this.stage&&e(this,this.stage)}attachShadow(e){return e&&(e.shadowHost=this),this.shadowRoot=e??lt.graphicService.creator.shadowRoot(this),this.addUpdateBoundTag(),this.shadowRoot.setStage(this.stage,this.layer),this.shadowRoot}detachShadow(){this.shadowRoot&&(this.addUpdateBoundTag(),this.shadowRoot.release(!0),this.shadowRoot=null)}toJson(){return{attribute:this.attribute,_uid:this._uid,type:this.type,name:this.name,children:this.children.map(e=>e.toJson())}}createPathProxy(e){return Jt(e,!0)?this.pathProxy=new Ts().fromString(e):this.pathProxy=new Ts,this.pathProxy}loadImage(e,t=!1){if(!e||t&&FVt(e))return;const i=e;this.resources||(this.resources=new Map);const r={data:"init",state:null};this.resources.set(i,r),typeof e=="string"?(r.state="loading",e.startsWith("<svg")?(Tr.GetSvg(e,this),this.backgroundImg=this.backgroundImg||t):(BAe(e)||e.includes("/")||$Ae(e))&&(Tr.GetImage(e,this),this.backgroundImg=this.backgroundImg||t)):pn(e)?(r.state="success",r.data=e,this.backgroundImg=this.backgroundImg||t):r.state="fail"}setShadowGraphic(e){e?this.attachShadow().add(e):this.detachShadow()}imageLoadSuccess(e,t,i){if(!this.resources)return;const r=this.resources.get(e);r&&(r.state="success",r.data=t,i&&i(),this.addUpdateBoundTag(),this.stage&&this.stage.renderNextFrame())}imageLoadFail(e,t){if(!this.resources)return;const i=this.resources.get(e);i&&(i.state="fail",t&&t())}_stopAnimates(e){e&&e.forEach(t=>{t.stop()})}stopAnimates(e=!1){this._stopAnimates(this.animates),this.shadowRoot&&this.shadowRoot.stopAnimates(!0),this.isContainer&&e&&this.forEachChildren(t=>{t.stopAnimates(e)})}release(){this.releaseStatus="released",this.stopAnimates(),lt.graphicService.onRelease(this)}_emitCustomEvent(e,t){var i,r;if(this._events&&e in this._events){const s=new nz(e,t);s.bubbles=!1,s.manager=(r=(i=this.stage)===null||i===void 0?void 0:i.eventSystem)===null||r===void 0?void 0:r.manager,this.dispatchEvent(s)}}toCustomPath(){var e,t,i;const r=(i=(t=((e=this.stage)===null||e===void 0?void 0:e.renderService)||lt.renderService)===null||t===void 0?void 0:t.drawContribution)===null||i===void 0?void 0:i.getRenderContribution(this);if(r){const s=new lY(null,1);return r.drawShape(this,s,0,0,{},{}),s.path}return null}}function FVt(n){return!(!n.fill&&!n.stroke)}_a.userSymbolMap={},_a.mixin(Q3t);var dhe;(function(n){n[n.LESS_GROUP=0]="LESS_GROUP",n[n.MORE_GROUP=1]="MORE_GROUP"})(dhe||(dhe={}));let z1=class uY extends _a{constructor(e){super(e),this.type="group",this.parent=null,this.isContainer=!0,this.numberType=pZ,this._childUpdateTag=mr.UPDATE_BOUNDS}setMode(e){e==="3d"?this.set3dMode():this.set2dMode()}set3dMode(){this.in3dMode=!0}set2dMode(){this.in3dMode=!1}setTheme(e){return this.theme||(this.theme=new xO),this.theme.setTheme(e,this)}createTheme(){this.theme||(this.theme=new xO)}visibleAll(e){this.setAttribute("visible",e),this.forEachChildren(t=>{t.isContainer&&t.visibleAll?t.visibleAll(e):t.setAttribute("visible",e)})}hideAll(){this.visibleAll(!1)}showAll(){this.visibleAll(!0)}containsPoint(e,t,i){if(i===yO.GLOBAL){const r=new Zi(e,t);return this.parent&&this.parent.globalTransMatrix.transformPoint(r,r),this.AABBBounds.contains(r.x,r.y)}return this.AABBBounds.contains(e,t)}shouldUpdateAABBBounds(){return!!super.shouldUpdateAABBBounds()||!!(this._childUpdateTag&mr.UPDATE_BOUNDS)}tryUpdateAABBBounds(){if(!this.shouldUpdateAABBBounds())return this._AABBBounds;this.getGraphicService().beforeUpdateAABBBounds(this,this.stage,!0,this._AABBBounds);const e=this.shouldSelfChangeUpdateAABBBounds(),t=this.doUpdateAABBBounds();return this.addUpdateLayoutTag(),this.getGraphicService().afterUpdateAABBBounds(this,this.stage,this._AABBBounds,this,e),this.attribute.boundsMode==="empty"&&t.clear(),t}doUpdateLocalMatrix(){const{x:e=vo.x,y:t=vo.y,dx:i=vo.dx,dy:r=vo.dy,scaleX:s=vo.scaleX,scaleY:a=vo.scaleY,angle:o=vo.angle,postMatrix:l}=this.attribute;if(e!==0||t!==0||i!==0||r!==0||s!==1||a!==1||o!==0||l)return super.doUpdateLocalMatrix();this._transMatrix.reset()}getGraphicTheme(){return Bn(this).group}updateAABBBounds(e,t,i){const r=i;i=i.clone();const{width:s,height:a,path:o,clip:l=t.clip}=e;if(o&&o.length?o.forEach(u=>{i.union(u.AABBBounds)}):s!=null&&a!=null&&i.set(0,0,Math.max(0,s),Math.max(0,a)),!l){this.forEachChildren(d=>{i.union(d.AABBBounds)});const{scrollX:u=0,scrollY:c=0}=e;i.translate(u,c)}return lt.graphicService.updateTempAABBBounds(i),lt.graphicService.transformAABBBounds(e,i,t,!1,this),r.copy(i),r}doUpdateAABBBounds(){this.updateAABBBoundsStamp++;const e=super.doUpdateAABBBounds();return this.parent&&this.parent.addChildUpdateBoundTag(),this._emitCustomEvent("AAABBBoundsChange"),e}clearUpdateBoundTag(){this._updateTag&=mr.CLEAR_BOUNDS,this._childUpdateTag&=mr.CLEAR_BOUNDS}addUpdateBoundTag(){this._updateTag|=mr.UPDATE_BOUNDS,this.parent&&this.parent.addChildUpdateBoundTag()}addChildUpdateBoundTag(){this._childUpdateTag&mr.UPDATE_BOUNDS||(this._childUpdateTag|=mr.UPDATE_BOUNDS,this.parent&&this.parent.addChildUpdateBoundTag())}getTheme(){return this.theme.getTheme(this)}incrementalAppendChild(e){const t=super.appendChild(e);return this.stage&&t&&(t.stage=this.stage,t.layer=this.layer),this.addUpdateBoundTag(),this.getGraphicService().onAddIncremental(e,this,this.stage),t}incrementalClearChild(){super.removeAllChild(),this.addUpdateBoundTag(),this.getGraphicService().onClearIncremental(this,this.stage)}_updateChildToStage(e){return this.stage&&e&&e.setStage(this.stage,this.layer),this.addUpdateBoundTag(),e}appendChild(e,t=!0){const i=super.appendChild(e);return t&&this.stage&&i&&i.setStage(this.stage,this.layer),this.addUpdateBoundTag(),i}insertBefore(e,t){return this._updateChildToStage(super.insertBefore(e,t))}insertAfter(e,t){return this._updateChildToStage(super.insertAfter(e,t))}insertInto(e,t){return this._updateChildToStage(super.insertInto(e,t))}removeChild(e){const t=super.removeChild(e);return this.getGraphicService().onRemove(e),e.stage=null,this.addUpdateBoundTag(),t}removeAllChild(e=!1){this.forEachChildren(t=>{this.getGraphicService().onRemove(t),e&&t.isContainer&&t.removeAllChild(e)}),super.removeAllChild(),this.addUpdateBoundTag()}setStage(e,t){this.stage!==e&&(this.stage=e,this.layer=t,this.setStageToShadowRoot(e,t),this._onSetStage&&this._onSetStage(this,e,t),this.getGraphicService().onSetStage(this,e),this.forEachChildren(i=>{i.setStage(e,this.layer)}))}addUpdatePositionTag(){super.addUpdatePositionTag(),this.forEachChildren(e=>{e.isContainer&&e.addUpdateGlobalPositionTag()})}addUpdateGlobalPositionTag(){super.addUpdateGlobalPositionTag(),this.forEachChildren(e=>{e.isContainer&&e.addUpdateGlobalPositionTag()})}tryUpdateGlobalTransMatrix(e=!0){if(this.shouldUpdateGlobalMatrix()){if(this._globalTransMatrix){if(this.parent){const t=this.parent.globalTransMatrix;this._globalTransMatrix.setValue(t.a,t.b,t.c,t.d,t.e,t.f)}}else this._globalTransMatrix=this.parent?this.parent.globalTransMatrix.clone():this.transMatrix.clone();this.doUpdateGlobalMatrix(),e&&this.clearUpdateGlobalPositionTag()}return this._globalTransMatrix}shouldUpdateGlobalMatrix(){return!!(this._updateTag&mr.UPDATE_GLOBAL_MATRIX)}_getChildByName(e,t){return this.find(i=>i.name===e,t)}createOrUpdateChild(e,t,i){let r=this._getChildByName(e);return r?r.setAttributes(t):(r=lt.graphicService.creator[i](t),r.name=e,this.add(r)),r}clone(){return new uY(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return uY.NOWORK_ANIMATE_ATTR}release(e){e&&this.forEachChildren(t=>{t.release(e)}),super.release()}};z1.NOWORK_ANIMATE_ATTR=hd;function WF(n){return new z1(n)}class BVt extends z1{get offscreen(){return this.layerHandler.offscreen}get layerMode(){return this.layerHandler.type}get width(){return this.stage?this.stage.width:0}get height(){return this.stage?this.stage.height:0}get viewWidth(){return this.stage?this.stage.viewWidth:0}get viewHeight(){return this.stage?this.stage.viewHeight:0}get dirtyBound(){throw new Error("")}get dpr(){return this._dpr}constructor(e,t,i,r){var s;super({}),this.stage=e,this.global=t,this.window=i,this.main=r.main,this.layerHandler=r.layerHandler,this.layerHandler.init(this,i,{main:r.main,canvasId:r.canvasId,width:this.viewWidth,height:this.viewHeight,zIndex:(s=r.zIndex)!==null&&s!==void 0?s:0}),this.layer=this,this.subLayers=new Map,this.theme=new xO,this.background="rgba(0, 0, 0, 0)",this.afterDrawCbs=[]}combineSubLayer(e=!0){const t=Array.from(this.subLayers.values()).sort((i,r)=>i.zIndex-r.zIndex);this.layerHandler.merge(t.map(i=>(i.layer.subLayers.size&&i.layer.combineSubLayer(e),i.layer.getNativeHandler()))),e&&t.forEach(i=>{i.group&&(i.group.incremental=0)}),t.forEach(i=>{lt.layerService.releaseLayer(this.stage,i.layer)}),this.subLayers.clear()}getNativeHandler(){return this.layerHandler}setStage(e,t){super.setStage(e,this)}pick(e,t){throw new Error("")}tryRenderSecondaryLayer(e,t){this.layerHandler.secondaryHandlers&&this.layerHandler.secondaryHandlers.length&&this.layerHandler.secondaryHandlers.forEach(i=>{i.layer.renderCount=this.renderCount,i.layer.render(e,t)})}render(e,t){var i;this.layerHandler.render([this],{renderService:e.renderService,stage:this.stage,layer:this,viewBox:e.viewBox,transMatrix:e.transMatrix,background:(i=e.background)!==null&&i!==void 0?i:this.background,updateBounds:e.updateBounds},t),this.afterDrawCbs.forEach(r=>r(this)),this.tryRenderSecondaryLayer(e,t)}resize(e,t){this.layerHandler.resize(e,t)}resizeView(e,t){this.layerHandler.resizeView(e,t)}setDpr(e){this.layerHandler.setDpr(e)}afterDraw(e){this.afterDrawCbs.push(e)}startAnimate(e){throw new Error("")}setToFrame(e){throw new Error("")}prepare(e,t){}release(){super.release(),this.layerHandler.release(),this.subLayers&&this.subLayers.forEach(e=>{lt.layerService.releaseLayer(this.stage,e.layer)})}drawTo(e,t){var i;this.layerHandler.drawTo(e,[this],Object.assign({background:(i=t.background)!==null&&i!==void 0?i:this.background,renderService:t.renderService,viewBox:t.viewBox,transMatrix:t.transMatrix,stage:this.stage,layer:this},t)),this.afterDrawCbs.forEach(r=>r(this))}}const FOe=Symbol.for("TransformUtil"),BOe=Symbol.for("GraphicUtil"),SZ=Symbol.for("LayerService"),$Oe=Symbol.for("StaticLayerHandlerContribution"),$Vt=Symbol.for("DynamicLayerHandlerContribution"),NVt=Symbol.for("VirtualLayerHandlerContribution");var jE,jVt=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},zVt=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)};let zE=jE=class{static GenerateLayerId(){return`${jE.idprefix}_${jE.prefix_count++}`}constructor(){this.layerMap=new Map,this.global=lt.global}tryInit(){this.inited||(this.staticLayerCountInEnv=this.global.getStaticCanvasCount(),this.dynamicLayerCountInEnv=this.global.getDynamicCanvasCount(),this.inited=!0)}getStageLayer(n){return this.layerMap.get(n)}getRecommendedLayerType(n){return n||(this.staticLayerCountInEnv!==0?"static":this.dynamicLayerCountInEnv!==0?"dynamic":"virtual")}getLayerHandler(n){let e;return e=n==="static"?Tn.get($Oe):n==="dynamic"?Tn.get($Vt):Tn.get(NVt),e}createLayer(n,e={main:!1}){var t;this.tryInit();let i=this.getRecommendedLayerType(e.layerMode);i=e.main||e.canvasId?"static":i;const r=this.getLayerHandler(i),s=new BVt(n,this.global,n.window,Object.assign(Object.assign({main:!1},e),{layerMode:i,canvasId:(t=e.canvasId)!==null&&t!==void 0?t:jE.GenerateLayerId(),layerHandler:r})),a=this.layerMap.get(n)||[];return a.push(s),this.layerMap.set(n,a),this.staticLayerCountInEnv--,s}prepareStageLayer(n){let e;n.forEachChildren(t=>{const i=t.getNativeHandler();i.type==="virtual"?(i.mainHandler=e,e.secondaryHandlers.push(i)):(e=i,e.secondaryHandlers=[])})}releaseLayer(n,e){e.release();const t=this.layerMap.get(n)||[];this.layerMap.set(n,t.filter(i=>i!==e))}layerCount(n){return(this.layerMap.get(n)||[]).length}restLayerCount(n){return this.global.env==="browser"?10:0}releaseStage(n){this.layerMap.delete(n)}};zE.idprefix="visactor_layer",zE.prefix_count=0,zE=jE=jVt([Nt(),zVt("design:paramtypes",[])],zE);const HVt=new Pn(n=>{n(oZ).to(X8).inSingletonScope(),n(NF).to(tY),n(BOe).to(nY).inSingletonScope(),n(FOe).to(iY).inSingletonScope(),n(SZ).to(zE).inSingletonScope()});function RC(n,e){return!(!n&&!e)}function wO(n,e){let t;return t=Oe(n)?n.some(i=>i||i===void 0):!!n,t&&e>0}function b0(n,e,t){return t&&n*e>0}function NOe(n,e,t,i,r){return r&&n*e>0&&t!==0&&i!==0}function cY(n,e){return n*e>0}function jOe(n,e,t,i,r){return r?n*e>0:n*e>0&&t!==0&&i!==0}function VVt(n,e,t,i,r,s,a,o){const l=t-n,u=i-e,c=a-r,d=o-s;let h=d*l-c*u;return h*h<jr?[]:(h=(c*(e-s)-d*(n-r))/h,[n+h*l,e+h*u])}function py(n,e,t,i,r,s,a){const o=n-t,l=e-i,u=(a?s:-s)/Math.sqrt(o*o+l*l),c=u*l,d=-u*o,h=n+c,f=e+d,p=t+c,g=i+d,m=(h+p)/2,v=(f+g)/2,_=p-h,y=g-f,x=_*_+y*y,w=r-s,T=h*g-p*f,E=(y<0?-1:1)*Math.sqrt(Math.max(0,w*w*x-T*T));let A=(T*y-_*E)/x,k=(-T*_-y*E)/x;const P=(T*y+_*E)/x,I=(-T*_+y*E)/x,D=A-m,L=k-v,B=P-m,F=I-v;return D*D+L*L>B*B+F*F&&(A=P,k=I),{cx:A,cy:k,x01:-c,y01:-d,x11:A*(r/w-1),y11:k*(r/w-1)}}function zOe(n,e,t,i,r){const s=qn(t-e),a=n.getParsedCornerRadius(),o=Oe(a),{outerDeltaAngle:l,innerDeltaAngle:u,outerStartAngle:c,outerEndAngle:d,innerEndAngle:h,innerStartAngle:f}=n.getParsePadAngle(e,t),p=o?a[0]:a,g=o?a[1]:a,m=o?a[2]:a,v=o?a[3]:a,_=Math.max(g,p),y=Math.max(m,v);let x=_,w=y;const T=r*Ma(c),E=r*Cs(c),A=i*Ma(h),k=i*Cs(h);let P,I,D,L;if((y>jr||_>jr)&&(P=r*Ma(d),I=r*Cs(d),D=i*Ma(f),L=i*Cs(f),s<Di)){const B=VVt(T,E,D,L,P,I,A,k);if(B){const F=T-B[0],$=E-B[1],z=P-B[0],N=I-B[1],V=1/Cs(QNt((F*z+$*N)/(Af(F*F+$*$)*Af(z*z+N*N)))/2),H=Af(B[0]*B[0]+B[1]*B[1]);w=za(y,(i-H)/(V-1)),x=za(_,(r-H)/(V+1))}}return{outerDeltaAngle:l,xors:T,yors:E,xirs:D,yirs:L,xore:P,yore:I,xire:A,yire:k,limitedOcr:x,limitedIcr:w,outerCornerRadiusStart:p,outerCornerRadiusEnd:g,maxOuterCornerRadius:_,maxInnerCornerRadius:y,outerStartAngle:c,outerEndAngle:d,innerDeltaAngle:u,innerEndAngle:h,innerStartAngle:f,innerCornerRadiusStart:v,innerCornerRadiusEnd:m}}function dY(n,e,t,i,r,s,a){const{startAngle:o,endAngle:l}=n.getParsedAngle(),u=qn(l-o),c=l>o;let d=!1;if(r<s){const h=r;r=s,s=h}if(r<=jr)e.moveTo(t,i);else if(u>=xn-jr)e.moveTo(t+r*Ma(o),i+r*Cs(o)),e.arc(t,i,r,o,l,!c),s>jr&&(e.moveTo(t+s*Ma(l),i+s*Cs(l)),e.arc(t,i,s,l,o,c));else{const{outerDeltaAngle:h,xors:f,yors:p,xirs:g,yirs:m,limitedOcr:v,outerCornerRadiusStart:_,outerCornerRadiusEnd:y,maxOuterCornerRadius:x,xore:w,yore:T,xire:E,yire:A,outerStartAngle:k,outerEndAngle:P,limitedIcr:I,innerDeltaAngle:D,innerEndAngle:L,innerStartAngle:B,innerCornerRadiusStart:F,innerCornerRadiusEnd:$,maxInnerCornerRadius:z}=zOe(n,o,l,s,r);if(h<.001)a&&(a[3]||a[1])&&e.moveTo(t+f,i+p),d=!0;else if(v>jr){const N=za(_,v),V=za(y,v),H=py(g,m,f,p,r,N,Number(c)),K=py(w,T,E,A,r,V,Number(c));v<x&&N===V?!a||a[0]?(e.moveTo(t+H.cx+H.x01,i+H.cy+H.y01),e.arc(t+H.cx,i+H.cy,v,Vi(H.y01,H.x01),Vi(K.y01,K.x01),!c)):e.moveTo(t+H.cx+v*Ma(Vi(K.y01,K.x01)),i+H.cy+v*Cs(Vi(K.y01,K.x01))):!a||a[0]?(e.moveTo(t+H.cx+H.x01,i+H.cy+H.y01),N>0&&e.arc(t+H.cx,i+H.cy,N,Vi(H.y01,H.x01),Vi(H.y11,H.x11),!c),e.arc(t,i,r,Vi(H.cy+H.y11,H.cx+H.x11),Vi(K.cy+K.y11,K.cx+K.x11),!c),V>0&&e.arc(t+K.cx,i+K.cy,V,Vi(K.y11,K.x11),Vi(K.y01,K.x01),!c)):V>0?e.moveTo(t+K.cx+V*Ma(Vi(K.y01,K.x01)),i+K.cy+V*Cs(Vi(K.y01,K.x01))):e.moveTo(t+w,i+r*Cs(P))}else!a||a[0]?(e.moveTo(t+f,i+p),e.arc(t,i,r,k,P,!c)):e.moveTo(t+r*Ma(P),i+r*Cs(P));if(!(s>jr)||D<.001)!a||a[1]?e.lineTo(t+E,i+A):e.moveTo(t+E,i+A),d=!0;else if(I>jr){const N=za(F,I),V=za($,I),H=py(E,A,w,T,s,-V,Number(c)),K=py(f,p,g,m,s,-N,Number(c));if(!a||a[1]?e.lineTo(t+H.cx+H.x01,i+H.cy+H.y01):e.moveTo(t+H.cx+H.x01,i+H.cy+H.y01),I<z&&N===V){const U=Vi(K.y01,K.x01);!a||a[2]?e.arc(t+H.cx,i+H.cy,I,Vi(H.y01,H.x01),U,!c):e.moveTo(t+H.cx+Ma(U),i+H.cy+Cs(U))}else!a||a[2]?(V>0&&e.arc(t+H.cx,i+H.cy,V,Vi(H.y01,H.x01),Vi(H.y11,H.x11),!c),e.arc(t,i,s,Vi(H.cy+H.y11,H.cx+H.x11),Vi(K.cy+K.y11,K.cx+K.x11),c),N>0&&e.arc(t+K.cx,i+K.cy,N,Vi(K.y11,K.x11),Vi(K.y01,K.x01),!c)):N>0?e.moveTo(t+K.cx+N*Ma(Vi(K.y01,K.x01)),i+K.cy+N*Cs(Vi(K.y01,K.x01))):e.moveTo(t+g,i+m)}else!a||a[1]?e.lineTo(t+E,i+A):e.moveTo(t+E,i+A),!a||a[2]?e.arc(t,i,s,L,B,c):e.moveTo(t+s*Ma(B),i+s*Cs(B))}return a?a[3]&&e.lineTo(t+r*Ma(o),i+r*Cs(o)):e.closePath(),d}const hY=Symbol.for("ArcRenderContribution"),fY=Symbol.for("AreaRenderContribution"),pY=Symbol.for("CircleRenderContribution"),HOe=Symbol.for("GroupRenderContribution"),gY=Symbol.for("ImageRenderContribution"),mY=Symbol.for("PathRenderContribution"),vY=Symbol.for("PolygonRenderContribution"),HE=Symbol.for("RectRenderContribution"),yY=Symbol.for("SymbolRenderContribution"),_Y=Symbol.for("TextRenderContribution"),xZ=Symbol.for("InteractiveSubRenderContribution");function CO(n,e){return n==="end"||n==="right"?-e:n==="center"?-e/2:0}function UF(n,e,t,i=0){return n==="middle"?-e/2:n==="top"?0:n==="bottom"?i-e:n&&n!=="alphabetic"?0:(t||(t=e),-(e-t)/2-.79*t)}function WVt(n){const e={},t=i=>/^\d+(\.\d+)?$/.test(`${i}`)?`${i}px`:`${i}`;return["textAlign","fontFamily","fontVariant","fontStyle","fontWeight"].forEach(i=>{n[i]&&(e[Fce(i)]=n[i])}),["fontSize","lineHeight"].forEach(i=>{const r=Fce(i);J(n[i])||(e[r]=t(n[i]))}),Y(n.maxLineWidth)&&(e["max-width"]=t(n.maxLineWidth)),n.underline?e["text-decoration"]="underline":n.lineThrough&&(e["text-decoration"]="line-through"),n.fill&&Jt(n.fill)&&(e.color=n.fill),e}var UVt=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},GVt=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},YVt=function(n,e){return function(t,i){e(t,i,n)}};function VOe(n,e,t){var i;const{x:r=t.x,y:s=t.y,z:a=t.z,dx:o=t.dx,dy:l=t.dy,dz:u=t.dz,scaleX:c=t.scaleX,scaleY:d=t.scaleY,scaleZ:h=t.scaleZ,alpha:f=t.alpha,beta:p=t.beta,angle:g=t.angle,anchor3d:m=e.attribute.anchor,anchor:v}=e.attribute,_=[0,0,0];if(m){if(typeof m[0]=="string"){const y=parseFloat(m[0])/100,x=e.AABBBounds;_[0]=x.x1+(x.x2-x.x1)*y}else _[0]=m[0];if(typeof m[1]=="string"){const y=parseFloat(m[1])/100,x=e.AABBBounds;_[1]=x.x1+(x.x2-x.x1)*y}else _[1]=m[1];_[2]=(i=m[2])!==null&&i!==void 0?i:0}if(LOe(n),lE(n,n,[r+o,s+l,a+u]),lE(n,n,[_[0],_[1],_[2]]),SVt(n,n,p),xVt(n,n,f),lE(n,n,[-_[0],-_[1],_[2]]),CVt(n,n,[c,d,h]),g){const y=Ba.allocate(),x=[0,0];if(v){if(typeof m[0]=="string"){const w=parseFloat(m[0])/100,T=e.AABBBounds;x[0]=T.x1+(T.x2-T.x1)*w}else x[0]=m[0];if(typeof m[1]=="string"){const w=parseFloat(m[1])/100,T=e.AABBBounds;x[1]=T.x1+(T.x2-T.x1)*w}else x[1]=m[1]}lE(y,y,[x[0],x[1],0]),wVt(y,y,g),lE(y,y,[-x[0],-x[1],0]),bM(n,n,y)}}function KVt(n){const{alpha:e,beta:t}=n.attribute;return e||t}let bY=class{constructor(n){this.creator=n,this.hooks={onAttributeUpdate:new jl(["graphic"]),onSetStage:new jl(["graphic","stage"]),onRemove:new jl(["graphic"]),onRelease:new jl(["graphic"]),onAddIncremental:new jl(["graphic","group","stage"]),onClearIncremental:new jl(["graphic","group","stage"]),beforeUpdateAABBBounds:new jl(["graphic","stage","willUpdate","aabbBounds"]),afterUpdateAABBBounds:new jl(["graphic","stage","aabbBounds","globalAABBBounds","selfChange"]),clearAABBBounds:new jl(["graphic","stage","aabbBounds"])},this.tempAABBBounds1=new ms,this.tempAABBBounds2=new ms}onAttributeUpdate(n){this.hooks.onAttributeUpdate.taps.length&&this.hooks.onAttributeUpdate.call(n)}onSetStage(n,e){this.hooks.onSetStage.taps.length&&this.hooks.onSetStage.call(n,e)}onRemove(n){this.hooks.onRemove.taps.length&&this.hooks.onRemove.call(n)}onRelease(n){this.hooks.onRelease.taps.length&&this.hooks.onRelease.call(n)}onAddIncremental(n,e,t){this.hooks.onAddIncremental.taps.length&&this.hooks.onAddIncremental.call(n,e,t)}onClearIncremental(n,e){this.hooks.onClearIncremental.taps.length&&this.hooks.onClearIncremental.call(n,e)}beforeUpdateAABBBounds(n,e,t,i){this.hooks.beforeUpdateAABBBounds.taps.length&&this.hooks.beforeUpdateAABBBounds.call(n,e,t,i)}afterUpdateAABBBounds(n,e,t,i,r){this.hooks.afterUpdateAABBBounds.taps.length&&this.hooks.afterUpdateAABBBounds.call(n,e,t,i,r)}clearAABBBounds(n,e,t){this.hooks.clearAABBBounds.taps.length&&this.hooks.clearAABBBounds.call(n,e,t)}updatePathProxyAABBBounds(n,e){const t=typeof e.pathProxy=="function"?e.pathProxy(e.attribute):e.pathProxy;if(!t)return!1;const i=new uZ(n);return Nm(t.commandList,i,0,0),!0}updateHTMLTextAABBBounds(n,e,t,i){const{textAlign:r,textBaseline:s}=n;if(n.forceBoundsHeight!=null){const a=st(n.forceBoundsHeight)?n.forceBoundsHeight:n.forceBoundsHeight(),o=UF(s,a,a);t.set(t.x1,o,t.x2,o+a)}if(n.forceBoundsWidth!=null){const a=st(n.forceBoundsWidth)?n.forceBoundsWidth:n.forceBoundsWidth(),o=CO(r,a);t.set(o,t.y1,o+a,t.y2)}}combindShadowAABBBounds(n,e){if(e&&e.shadowRoot){const t=e.shadowRoot.AABBBounds;n.union(t)}}transformAABBBounds(n,e,t,i,r){if(!e.empty()){const{scaleX:o=t.scaleX,scaleY:l=t.scaleY,stroke:u=t.stroke,shadowBlur:c=t.shadowBlur,lineWidth:d=t.lineWidth,pickStrokeBuffer:h=t.pickStrokeBuffer,strokeBoundsBuffer:f=t.strokeBoundsBuffer}=n,p=this.tempAABBBounds1,g=this.tempAABBBounds2;if(u&&d){const m=(d+h)/Math.abs(o+l);VF(p,m,i,f),e.union(p),p.setValue(g.x1,g.y1,g.x2,g.y2)}if(c){const{shadowOffsetX:m=t.shadowOffsetX,shadowOffsetY:v=t.shadowOffsetY}=n,_=c/Math.abs(o+l)*2;VF(p,_,!1,f+1),p.translate(m,v),e.union(p)}}if(this.combindShadowAABBBounds(e,r),e.empty())return;let s=!0;const a=r.transMatrix;r&&r.isContainer&&(s=!(a.a===1&&a.b===0&&a.c===0&&a.d===1&&a.e===0&&a.f===0)),s&&Yq(e,e,a)}validCheck(n,e,t,i){if(!i||n.forceBoundsHeight!=null||n.forceBoundsWidth!=null||i.shadowRoot||i.isContainer)return!0;const{visible:r=e.visible}=n;return!(!i.valid||!r)||(t.empty()||(i.parent&&t.transformWithMatrix(i.parent.globalTransMatrix),this.clearAABBBounds(i,i.stage,t),t.clear()),!1)}updateTempAABBBounds(n){const e=this.tempAABBBounds1,t=this.tempAABBBounds2;return e.setValue(n.x1,n.y1,n.x2,n.y2),t.setValue(n.x1,n.y1,n.x2,n.y2),{tb1:e,tb2:t}}};bY=UVt([Nt(),YVt(0,Vn(ROe)),GVt("design:paramtypes",[Object])],bY);const SM=(n,e,t)=>{const{outerBorder:i,shadowBlur:r=e.shadowBlur}=n;if(i){const s=e.outerBorder,{distance:a=s.distance,lineWidth:o=s.lineWidth}=i;t.expand(a+(r+o)/2)}return t},hhe=["radius","startAngle","endAngle",...sd];class TO extends _a{constructor(e={radius:1}){super(e),this.type="circle",this.numberType=lz}isValid(){return super.isValid()&&this._isValid()}_isValid(){const{startAngle:e,endAngle:t,radius:i}=this.attribute;return this._validNumber(e)&&this._validNumber(t)&&this._validNumber(i)}getGraphicTheme(){return Bn(this).circle}updateAABBBounds(e,t,i,r){this.updatePathProxyAABBBounds(i)||(r?this.updateCircleAABBBoundsImprecise(e,t,i):this.updateCircleAABBBoundsAccurate(e,t,i));const{tb1:s,tb2:a}=lt.graphicService.updateTempAABBBounds(i);return SM(e,t,s),i.union(s),s.setValue(a.x1,a.y1,a.x2,a.y2),this.widthWithoutTransform=i.x2-i.x1,this.heightWithoutTransform=i.y2-i.y1,lt.graphicService.transformAABBBounds(e,i,t,!1,this),i}updateCircleAABBBoundsImprecise(e,t,i){const{radius:r=t.radius}=e;return i.set(-r,-r,r,r),i}updateCircleAABBBoundsAccurate(e,t,i){const{startAngle:r=t.startAngle,endAngle:s=t.endAngle,radius:a=t.radius}=e;return s-r>xn-jr?i.set(-a,-a,a,a):sY(r,s,a,i),i}needUpdateTags(e){return super.needUpdateTags(e,hhe)}needUpdateTag(e){return super.needUpdateTag(e,hhe)}toCustomPath(){var e,t,i;let r=super.toCustomPath();if(r)return r;const s=this.attribute,a=(e=s.radius)!==null&&e!==void 0?e:this.getDefaultAttribute("radius"),o=(t=s.startAngle)!==null&&t!==void 0?t:this.getDefaultAttribute("startAngle"),l=(i=s.endAngle)!==null&&i!==void 0?i:this.getDefaultAttribute("endAngle");return r=new Ts,r.arc(0,0,a,o,l),r}clone(){return new TO(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return TO.NOWORK_ANIMATE_ATTR}}TO.NOWORK_ANIMATE_ATTR=hd;function XVt(n){return new TO(n)}class fhe{constructor(e,t,i){this.fontFamily=e,this.textOptions=t,this.textMeasure=i}LayoutBBox(e,t,i,r){if(e.xOffset=t==="left"||t==="start"?0:t==="center"?e.width/-2:t==="right"||t==="end"?-e.width:0,i==="top")e.yOffset=0;else if(i==="middle")e.yOffset=e.height/-2;else if(i==="alphabetic"){let s=.79;if(r.length===1){const a=r[0];s=a.ascent/(a.ascent+a.descent)}e.yOffset=e.height*-s}else e.yOffset=-e.height;return e}GetLayoutByLines(e,t,i,r,s="",a,o){const{lineWidth:l,suffixPosition:u="end",measureMode:c=Yb.actualBounding,keepCenterInLine:d=!1}=o??{};e=e.map(g=>g.toString());const h=[],f=[0,0];if(typeof l=="number"&&l!==1/0){let g;for(let m=0,v=e.length;m<v;m++){const _=this.textMeasure.measureTextPixelADscentAndWidth(e[m],this.textOptions,c);let y=e[m].toString();if(_.width>l){const x=this.textMeasure.clipTextWithSuffix(e[m],this.textOptions,l,s,a,u);y=x.str,g=x.width}else g=_.width;h.push({str:y,width:g,ascent:_.ascent,descent:_.descent,keepCenterInLine:d})}f[0]=l}else{let g,m,v=0;for(let _=0,y=e.length;_<y;_++){m=e[_];const x=this.textMeasure.measureTextPixelADscentAndWidth(e[_],this.textOptions,c);g=x.width,v=Math.max(v,g),h.push({str:m,width:g,ascent:x.ascent,descent:x.descent,keepCenterInLine:d})}f[0]=v}f[1]=h.length*r,f[0]=h.reduce((g,m)=>Math.max(g,m.width),0);const p={xOffset:0,yOffset:0,width:f[0],height:f[1]};return this.LayoutBBox(p,t,i,h),this.layoutWithBBox(p,h,t,i,r)}layoutWithBBox(e,t,i,r,s){const a=[0,0],o=t.length*s;r==="top"||(r==="middle"?a[1]=(e.height-o)/2:r==="bottom"&&(a[1]=e.height-o));for(let l=0;l<t.length;l++)this.lineOffset(e,t[l],i,r,s,a);return{bbox:e,lines:t,fontFamily:this.fontFamily,fontSize:this.textOptions.fontSize,fontWeight:this.textOptions.fontWeight,lineHeight:s,textAlign:i,textBaseline:r}}lineOffset(e,t,i,r,s,a){if(i==="left"||i==="start"?t.leftOffset=0:i==="center"?t.leftOffset=(e.width-t.width)/2:i!=="right"&&i!=="end"||(t.leftOffset=e.width-t.width),t.topOffset=s/2+(t.ascent-t.descent)/2+a[1],!t.keepCenterInLine){const l=t.ascent+t.descent+0;if(l<s-0&&(r==="bottom"?t.topOffset+=(s-l)/2:r==="top"&&(t.topOffset-=(s-l)/2)),r==="alphabetic"){const u=s/(t.ascent+t.descent);t.topOffset=s/2+(t.ascent-t.descent)/2*u+a[1]}}return a[1]+=s,t}}const phe=["text","maxLineWidth","maxWidth","textAlign","textBaseline","heightLimit","lineClamp","fontSize","fontFamily","fontWeight","ellipsis","lineHeight","direction","wordBreak","heightLimit","lineClamp",...sd];class Ud extends _a{get font(){const e=this.getGraphicTheme();return this._font||(this._font=_F(this.attribute,e)),this._font}get clipedText(){var e;const t=this.attribute,i=this.getGraphicTheme(),r=this.getMaxWidth(i);return Number.isFinite(r)?(this.tryUpdateAABBBounds(),this.cache.clipedText):((e=t.text)!==null&&e!==void 0?e:i.text).toString()}get clipedWidth(){return this.tryUpdateAABBBounds(),this.cache.clipedWidth}get cliped(){var e,t;const i=this.getGraphicTheme(),r=this.attribute,s=this.getMaxWidth(i);if(!Number.isFinite(s))return!1;const{text:a}=this.attribute;if(this.tryUpdateAABBBounds(),(t=(e=this.cache)===null||e===void 0?void 0:e.layoutData)===null||t===void 0?void 0:t.lines){let o="";return this.cache.layoutData.lines.forEach(l=>{o+=l.str}),(Array.isArray(a)?a.join(""):a).toString()!==o}return r.direction==="vertical"&&this.cache.verticalList&&this.cache.verticalList[0]?this.cache.verticalList[0].map(o=>o.text).join("")!==r.text.toString():this.clipedText!=null&&this.clipedText!==r.text.toString()}get multilineLayout(){return this.tryUpdateAABBBounds(),this.cache.layoutData}get isMultiLine(){return Array.isArray(this.attribute.text)||this.attribute.whiteSpace==="normal"}constructor(e={text:"",fontSize:16}){super(e),this.type="text",this.numberType=fz,this.cache={}}isValid(){return super.isValid()&&this._isValid()}_isValid(){const{text:e}=this.attribute;return Oe(e)?!e.every(t=>t==null||t===""):e!=null&&e!==""}getGraphicTheme(){return Bn(this).text}doUpdateOBBBounds(){const e=this.getGraphicTheme();this._OBBBounds.clear();const t=this.attribute,{angle:i=e.angle}=t;if(!i){const u=this.AABBBounds;return this._OBBBounds.setValue(u.x1,u.y1,u.x2,u.y2),this._OBBBounds}this.obbText||(this.obbText=new Ud({})),this.obbText.setAttributes(Object.assign(Object.assign({},t),{angle:0}));const r=this.obbText.AABBBounds,{x:s,y:a}=t,o={x:(r.x1+r.x2)/2,y:(r.y1+r.y2)/2},l=Vp(o,i,{x:s,y:a});return this._OBBBounds.copy(r),this._OBBBounds.translate(l.x-o.x,l.y-o.y),this._OBBBounds.angle=i,this._OBBBounds}updateAABBBounds(e,t,i){const{text:r=t.text}=this.attribute;Array.isArray(r)?this.updateMultilineAABBBounds(r):this.updateSingallineAABBBounds(r);const{tb1:s}=lt.graphicService.updateTempAABBBounds(i),{scaleX:a=t.scaleX,scaleY:o=t.scaleY,shadowBlur:l=t.shadowBlur,strokeBoundsBuffer:u=t.strokeBoundsBuffer}=e;if(l){const c=l/Math.abs(a+o);VF(s,c,!0,u),i.union(s)}return lt.graphicService.combindShadowAABBBounds(i,this),e.forceBoundsHeight==null&&e.forceBoundsWidth==null||lt.graphicService.updateHTMLTextAABBBounds(e,t,i),this.widthWithoutTransform=i.x2-i.x1,this.heightWithoutTransform=i.y2-i.y1,Yq(i,i,this.transMatrix),i}updateSingallineAABBBounds(e){this.updateMultilineAABBBounds([e]);const t=this.cache.layoutData;if(t&&t.lines&&t.lines.length){const i=t.lines[0];this.cache.clipedText=i.str,this.cache.clipedWidth=i.width}return this._AABBBounds}updateMultilineAABBBounds(e){const t=this.getGraphicTheme(),{direction:i=t.direction,underlineOffset:r=t.underlineOffset}=this.attribute,s=i==="horizontal"?this.updateHorizontalMultilineAABBBounds(e):this.updateVerticalMultilineAABBBounds(e);return i==="horizontal"&&r&&this._AABBBounds.add(this._AABBBounds.x1,this._AABBBounds.y2+r),s}guessLineHeightBuf(e){return e?.1*e:0}updateHorizontalMultilineAABBBounds(e){var t,i;const r=this.getGraphicTheme(),s=this.attribute,{fontFamily:a=r.fontFamily,textAlign:o=r.textAlign,textBaseline:l=r.textBaseline,fontSize:u=r.fontSize,fontWeight:c=r.fontWeight,ellipsis:d=r.ellipsis,maxLineWidth:h,stroke:f=r.stroke,wrap:p=r.wrap,measureMode:g=r.measureMode,lineWidth:m=r.lineWidth,whiteSpace:v=r.whiteSpace,suffixPosition:_=r.suffixPosition,ignoreBuf:y=r.ignoreBuf,keepCenterInLine:x=r.keepCenterInLine}=s,w=y?0:this.guessLineHeightBuf(u),T=this.getLineHeight(s,r,w);if(v==="normal"||p)return this.updateWrapAABBBounds(e);if(!this.shouldUpdateShape()&&(!((t=this.cache)===null||t===void 0)&&t.layoutData)){const P=this.cache.layoutData.bbox;return this._AABBBounds.set(P.xOffset,P.yOffset,P.xOffset+P.width,P.yOffset+P.height),f&&this._AABBBounds.expand(m/2),this._AABBBounds}const E=lt.graphicUtil.getTextMeasureInstance(this.textMeasureId||((i=this.stage)===null||i===void 0?void 0:i.textMeasureId)),A=new fhe(a,{fontSize:u,fontWeight:c,fontFamily:a,lineHeight:T},E).GetLayoutByLines(e,o,l,T,d===!0?r.ellipsis:d||void 0,!1,{lineWidth:h,suffixPosition:_,measureMode:g,keepCenterInLine:x}),{bbox:k}=A;return this.cache.layoutData=A,this.clearUpdateShapeTag(),this._AABBBounds.set(k.xOffset,k.yOffset,k.xOffset+k.width,k.yOffset+k.height),f&&this._AABBBounds.expand(m/2),this._AABBBounds}updateWrapAABBBounds(e){var t,i,r,s;const a=this.getGraphicTheme(),{fontFamily:o=a.fontFamily,textAlign:l=a.textAlign,textBaseline:u=a.textBaseline,fontSize:c=a.fontSize,ellipsis:d=a.ellipsis,maxLineWidth:h,stroke:f=a.stroke,lineWidth:p=a.lineWidth,wordBreak:g=a.wordBreak,fontWeight:m=a.fontWeight,ignoreBuf:v=a.ignoreBuf,measureMode:_=a.measureMode,suffixPosition:y=a.suffixPosition,heightLimit:x=0,lineClamp:w,keepCenterInLine:T=a.keepCenterInLine}=this.attribute,E=v?0:this.guessLineHeightBuf(c),A=this.getLineHeight(this.attribute,a,E);if(!this.shouldUpdateShape()&&(!((t=this.cache)===null||t===void 0)&&t.layoutData)){const N=this.cache.layoutData.bbox;return this._AABBBounds.set(N.xOffset,N.yOffset,N.xOffset+N.width,N.yOffset+N.height),f&&this._AABBBounds.expand(p/2),this._AABBBounds}const k=lt.graphicUtil.getTextMeasureInstance(this.textMeasureId||((i=this.stage)===null||i===void 0?void 0:i.textMeasureId)),P={fontSize:c,fontWeight:m,fontFamily:o,lineHeight:A},I=new fhe(o,P,k),D=Oe(e)?e.map(N=>N.toString()):[e.toString()],L=[],B=[0,0];let F=1/0;if(x>0&&(F=Math.max(Math.floor(x/A),1)),w&&(F=Math.min(F,w)),typeof h=="number"&&h!==1/0){if(h>0)for(let V=0;V<D.length;V++){const H=D[V];let K=!0;if(V===F-1){const Q=k.clipTextWithSuffix(H,P,h,d,!1,y,V!==D.length-1),se=k.measureTextPixelADscentAndWidth(Q.str,P,_);L.push({str:Q.str,width:Q.width,ascent:se.ascent,descent:se.descent,keepCenterInLine:T});break}const U=k.clipText(H,P,h,g!=="break-all",g==="keep-all");if(H!==""&&U.str===""||U.wordBreaked){if(d){const Q=k.clipTextWithSuffix(H,P,h,d,!1,y);U.str=(r=Q.str)!==null&&r!==void 0?r:"",U.width=(s=Q.width)!==null&&s!==void 0?s:0}else U.str="",U.width=0;K=!1}const X=k.measureTextPixelADscentAndWidth(U.str,P,_);L.push({str:U.str,width:U.width,ascent:X.ascent,descent:X.descent,keepCenterInLine:T});let Z=U.str.length;if(!U.wordBreaked||H!==""&&U.str===""||(K=!0,Z=U.wordBreaked),U.str.length!==H.length){if(K){let Q=H.substring(Z);g==="keep-all"&&(Q=Q.replace(/^\s+/g,"")),D.splice(V+1,0,Q)}}}let N=0;L.forEach(V=>{N=Math.max(N,V.width)}),B[0]=N}else{let N,V,H=0;for(let K=0,U=D.length;K<U;K++){if(K===F-1){const Z=k.clipTextWithSuffix(D[K],P,h,d,!1,y),Q=k.measureTextPixelADscentAndWidth(Z.str,P,_);L.push({str:Z.str,width:Z.width,ascent:Q.ascent,descent:Q.descent,keepCenterInLine:T}),H=Math.max(H,Z.width);break}V=D[K],N=k.measureTextWidth(V,P),H=Math.max(H,N);const X=k.measureTextPixelADscentAndWidth(V,P,_);L.push({str:V,width:N,ascent:X.ascent,descent:X.descent,keepCenterInLine:T})}B[0]=H}B[1]=L.length*A;const $={xOffset:0,yOffset:0,width:B[0],height:B[1]};I.LayoutBBox($,l,u,L);const z=I.layoutWithBBox($,L,l,u,A);return this.cache.layoutData=z,this.clearUpdateShapeTag(),this._AABBBounds.set($.xOffset,$.yOffset,$.xOffset+$.width,$.yOffset+$.height),f&&this._AABBBounds.expand(p/2),this._AABBBounds}updateVerticalMultilineAABBBounds(e){var t,i,r;const s=this.getGraphicTheme(),a=lt.graphicUtil.getTextMeasureInstance(this.textMeasureId||((t=this.stage)===null||t===void 0?void 0:t.textMeasureId));let o;const l=this.attribute,{maxLineWidth:u=s.maxLineWidth,ellipsis:c=s.ellipsis,fontFamily:d=s.fontFamily,fontSize:h=s.fontSize,fontWeight:f=s.fontWeight,stroke:p=s.stroke,lineWidth:g=s.lineWidth,verticalMode:m=s.verticalMode,suffixPosition:v=s.suffixPosition}=l,_=this.getLineHeight(l,s,0);let{textAlign:y=s.textAlign,textBaseline:x=s.textBaseline}=l;if(!m){const k=y;y=(i=Ud.baselineMapAlign[x])!==null&&i!==void 0?i:"left",x=(r=Ud.alignMapBaseline[k])!==null&&r!==void 0?r:"top"}if(o=0,!this.shouldUpdateShape()&&this.cache){this.cache.verticalList.forEach(D=>{const L=D.reduce((B,F)=>B+F.width,0);o=dl(L,o)});const k=CO(y,o),P=this.cache.verticalList.length*_,I=UF(x,P,h);return this._AABBBounds.set(I,k,I+P,k+o),p&&this._AABBBounds.expand(g/2),this._AABBBounds}const w=e.map(k=>pVt(k.toString()));w.forEach((k,P)=>{if(Number.isFinite(u))if(c){const I=c===!0?s.ellipsis:c,D=a.clipTextWithSuffixVertical(k,{fontSize:h,fontWeight:f,fontFamily:d},u,I,!1,v);w[P]=D.verticalList,o=D.width}else{const I=a.clipTextVertical(k,{fontSize:h,fontWeight:f,fontFamily:d},u,!1);w[P]=I.verticalList,o=I.width}else o=0,k.forEach(I=>{const D=I.direction===Bw.HORIZONTAL?h:a.measureTextWidth(I.text,{fontSize:h,fontWeight:f,fontFamily:d});o+=D,I.width=D})}),this.cache.verticalList=w,this.clearUpdateShapeTag(),this.cache.verticalList.forEach(k=>{const P=k.reduce((I,D)=>I+D.width,0);o=dl(P,o)});const T=CO(y,o),E=this.cache.verticalList.length*_,A=UF(x,E,h);return this._AABBBounds.set(A,T,A+E,T+o),p&&this._AABBBounds.expand(g/2),this._AABBBounds}getMaxWidth(e){var t,i;const r=this.attribute;return(i=(t=r.maxLineWidth)!==null&&t!==void 0?t:r.maxWidth)!==null&&i!==void 0?i:e.maxWidth}getLineHeight(e,t,i){var r;return(r=sz(e.lineHeight,e.fontSize||t.fontSize))!==null&&r!==void 0?r:(e.fontSize||t.fontSize)+i}needUpdateTags(e,t=phe){return super.needUpdateTags(e,t)}needUpdateTag(e,t=phe){return super.needUpdateTag(e,t)}_interpolate(e,t,i,r,s){e==="text"&&(s.text=r)}clone(){return new Ud(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return Ud.NOWORK_ANIMATE_ATTR}getBaselineMapAlign(){return Ud.baselineMapAlign}getAlignMapBaseline(){return Ud.alignMapBaseline}}Ud.NOWORK_ANIMATE_ATTR=Object.assign({ellipsis:1,wordBreak:1,direction:1,textAlign:1,textBaseline:1,fontFamily:1,fontWeight:1},hd),Ud.baselineMapAlign={top:"left",bottom:"right",middle:"center"},Ud.alignMapBaseline={left:"top",right:"bottom",center:"middle"};function xM(n){return new Ud(n)}const qVt=(n,e,t)=>{const{outerBorder:i,shadowBlur:r=e.shadowBlur,strokeBoundsBuffer:s=e.strokeBoundsBuffer}=n;if(i){const a=e.outerBorder,{distance:o=a.distance,lineWidth:l=a.lineWidth}=i;VF(t,o+(r+l)/2,!0,s)}return t},ghe=["symbolType","size",...sd];let pz=class SY extends _a{constructor(e={symbolType:"circle"}){super(e),this.type="symbol",this.numberType=hz}getParsedPath(){return this.shouldUpdateShape()&&(this._parsedPath=this.doUpdateParsedPath(),this.clearUpdateShapeTag()),this._parsedPath}getParsedPath2D(e=0,t=0,i=1){let r=null;try{r=new Path2D}catch{return null}const s=this.getParsedPath();if(!s)return null;s.draw(r,i,e,t)}isValid(){return super.isValid()&&this._isValid()}_isValid(){const{size:e}=this.attribute;return Oe(e)?e.length===2&&e.every(this._validNumber):this._validNumber(e)}doUpdateParsedPath(){const{symbolType:e="circle"}=this.attribute;return super.parsePath(e)}getGraphicTheme(){return Bn(this).symbol}updateAABBBounds(e,t,i,r){this.updatePathProxyAABBBounds(i)||(r?this.updateSymbolAABBBoundsImprecise(e,t,i):this.updateSymbolAABBBoundsAccurate(e,t,i));const{tb1:s,tb2:a}=lt.graphicService.updateTempAABBBounds(i);qVt(e,t,s),i.union(s),s.setValue(a.x1,a.y1,a.x2,a.y2),this.widthWithoutTransform=i.x2-i.x1,this.heightWithoutTransform=i.y2-i.y1,this.x1WithoutTransform=i.x1,this.y1WithoutTransform=i.y1;const{lineJoin:o=t.lineJoin}=e;return lt.graphicService.transformAABBBounds(e,i,t,o==="miter",this),i}updateSymbolAABBBoundsImprecise(e,t,i){const{size:r=t.size}=e;if(Oe(r))i.set(-r[0]/2,-r[1]/2,r[0]/2,r[1]/2);else{const s=r/2;i.set(-s,-s,s,s)}return i}updateSymbolAABBBoundsAccurate(e,t,i){const{size:r=t.size}=e,s=this.getParsedPath();return s&&s.bounds(r,i),i}needUpdateTags(e){return super.needUpdateTags(e,ghe)}needUpdateTag(e){return super.needUpdateTag(e,ghe)}toCustomPath(){const e=this.getParsedPath();if(!e)return null;const t=this.attribute.size,i=Oe(t)?t:[t,t];return e.path?new Ts().fromCustomPath2D(e.path,0,0,i[0],i[1]):new Ts().fromString(e.pathStr,0,0,i[0],i[1])}clone(){return new SY(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return SY.NOWORK_ANIMATE_ATTR}};pz.NOWORK_ANIMATE_ATTR=Object.assign({symbolType:1},hd);function H1(n){return new pz(n)}const mhe=["segments","points","curveType","curveTension",...sd];let WOe=class xY extends _a{constructor(e={}){super(e),this.type="line",this.numberType=_M}isValid(){return super.isValid()&&this._isValid()}_isValid(){if(this.pathProxy)return!0;const{points:e,segments:t}=this.attribute;return t?t.length!==0:!!e&&!(e.length<=1)}_interpolate(e,t,i,r,s){e==="points"&&(s.points=iz(i,r,t))}getGraphicTheme(){return Bn(this).line}updateAABBBounds(e,t,i){this.updatePathProxyAABBBounds(i)||(e.segments?this.updateLineAABBBoundsBySegments(e,t,i):this.updateLineAABBBoundsByPoints(e,t,i)),lt.graphicService.updateTempAABBBounds(i),this.widthWithoutTransform=i.x2-i.x1,this.heightWithoutTransform=i.y2-i.y1;const{lineJoin:r=t.lineJoin}=e;return lt.graphicService.transformAABBBounds(e,i,t,r==="miter",this),i}updateLineAABBBoundsByPoints(e,t,i,r){const{points:s=t.points,connectedType:a}=e,o=i;return s.forEach(l=>{l.defined===!1&&a!=="connect"||o.add(l.x,l.y)}),o}updateLineAABBBoundsBySegments(e,t,i,r){const{segments:s=t.segments,connectedType:a}=e,o=i;return s.forEach(l=>{l.points.forEach(u=>{u.defined===!1&&a!=="connect"||o.add(u.x,u.y)})}),o}needUpdateTags(e){return super.needUpdateTags(e,mhe)}needUpdateTag(e){return super.needUpdateTag(e,mhe)}toCustomPath(){let e=super.toCustomPath();if(e)return e;const t=this.attribute;e=new Ts;const i=t.segments,r=s=>{if(s&&s.length){let a=!0;s.forEach(o=>{o.defined!==!1&&(a?e.moveTo(o.x,o.y):e.lineTo(o.x,o.y),a=!1)})}};return i&&i.length?i.forEach(s=>{r(s.points)}):t.points&&r(t.points),e}clone(){return new xY(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return xY.NOWORK_ANIMATE_ATTR}};WOe.NOWORK_ANIMATE_ATTR=Object.assign({segments:1,curveType:1},hd);function wM(n){return new WOe(n)}const UOe=n=>{if(!n)return{x:0,y:0,width:0,height:0};let e=J(n.width)?n.x1-n.x:n.width,t=J(n.height)?n.y1-n.y:n.height,i=0,r=0;return e<0?(i=e,e=-e):Number.isNaN(e)&&(e=0),t<0?(r=t,t=-t):Number.isNaN(t)&&(t=0),{x:i,y:r,width:e,height:t}},vhe=["width","x1","y1","height","cornerRadius",...sd];class EO extends _a{constructor(e){super(e),this.type="rect",this.numberType=gZ}isValid(){return super.isValid()&&this._isValid()}_isValid(){return!0}getGraphicTheme(){return Bn(this).rect}updateAABBBounds(e,t,i){if(!this.updatePathProxyAABBBounds(i)){let{width:a,height:o}=e;const{x1:l,y1:u,x:c,y:d}=e;a=a??l-c,o=o??u-d,(isFinite(a)||isFinite(o)||isFinite(c)||isFinite(d))&&i.set(0,0,a||0,o||0)}const{tb1:r,tb2:s}=lt.graphicService.updateTempAABBBounds(i);return SM(e,t,r),i.union(r),r.setValue(s.x1,s.y1,s.x2,s.y2),this.widthWithoutTransform=i.x2-i.x1,this.heightWithoutTransform=i.y2-i.y1,lt.graphicService.transformAABBBounds(e,i,t,!1,this),i}needUpdateTags(e){return super.needUpdateTags(e,vhe)}needUpdateTag(e){return super.needUpdateTag(e,vhe)}toCustomPath(){let e=super.toCustomPath();if(e)return e;const t=this.attribute,{x:i,y:r,width:s,height:a}=UOe(t);return e=new Ts,e.moveTo(i,r),e.rect(i,r,s,a),e}clone(){return new EO(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return EO.NOWORK_ANIMATE_ATTR}}EO.NOWORK_ANIMATE_ATTR=hd;function CM(n){return new EO(n)}class AO extends _a{constructor(e){super(e),this.type="glyph",this.numberType=fZ,this.subGraphic=[],this._onInit&&this._onInit(this),this.valid=this.isValid()}setSubGraphic(e){this.detachSubGraphic(),this.subGraphic=e,e.forEach(t=>{t.glyphHost=this,Object.setPrototypeOf(t.attribute,this.attribute)}),this.valid=this.isValid(),this.addUpdateBoundTag()}detachSubGraphic(){this.subGraphic.forEach(e=>{e.glyphHost=null,Object.setPrototypeOf(e.attribute,{})})}getSubGraphic(){return this.subGraphic}onInit(e){this._onInit=e}onUpdate(e){this._onUpdate=e}isValid(){return!0}setAttribute(e,t,i,r){super.setAttribute(e,t,i,r),this.subGraphic.forEach(s=>{s.addUpdateShapeAndBoundsTag(),s.addUpdatePositionTag()})}setAttributes(e,t=!1,i){super.setAttributes(e,t,i),this.subGraphic.forEach(r=>{r.addUpdateShapeAndBoundsTag(),r.addUpdatePositionTag()})}translate(e,t){return super.translate(e,t),this.subGraphic.forEach(i=>{i.addUpdatePositionTag(),i.addUpdateBoundTag()}),this}translateTo(e,t){return super.translateTo(e,t),this.subGraphic.forEach(i=>{i.addUpdatePositionTag(),i.addUpdateBoundTag()}),this}scale(e,t,i){return super.scale(e,t,i),this.subGraphic.forEach(r=>{r.addUpdatePositionTag(),r.addUpdateBoundTag()}),this}scaleTo(e,t){return super.scaleTo(e,t),this.subGraphic.forEach(i=>{i.addUpdatePositionTag(),i.addUpdateBoundTag()}),this}rotate(e){return super.rotate(e),this.subGraphic.forEach(t=>{t.addUpdatePositionTag(),t.addUpdateBoundTag()}),this}rotateTo(e){return super.rotate(e),this.subGraphic.forEach(t=>{t.addUpdatePositionTag(),t.addUpdateBoundTag()}),this}getGraphicTheme(){return Bn(this).glyph}updateAABBBounds(e,t,i){return this.getSubGraphic().forEach(r=>{i.union(r.AABBBounds)}),i}doUpdateAABBBounds(){this.updateAABBBoundsStamp++,this._AABBBounds.clear();const e=this.updateAABBBounds(this.attribute,this.getGraphicTheme(),this._AABBBounds);return this.clearUpdateBoundTag(),e}needUpdateTags(e){return!1}needUpdateTag(e){return!1}useStates(e,t){var i;if(!e.length)return void this.clearStates(t);if(!(((i=this.currentStates)===null||i===void 0?void 0:i.length)!==e.length||e.some((a,o)=>this.currentStates[o]!==a)))return;this.stopStateAnimates();const r={},s=this.subGraphic.map(()=>({}));e.forEach(a=>{var o;const l=this.glyphStateProxy?this.glyphStateProxy(a,e):this.glyphStates[a];l&&(Object.assign(r,l.attributes),!((o=l.subAttributes)===null||o===void 0)&&o.length&&s.forEach((u,c)=>{Object.assign(u,l.subAttributes[c])}))}),this.updateNormalAttrs(r),this.currentStates=e,this.applyStateAttrs(r,e,t)}clearStates(e){this.stopStateAnimates(),this.hasState()&&this.normalAttrs?(this.currentStates=[],this.applyStateAttrs(this.normalAttrs,this.currentStates,e,!0)):this.currentStates=[],this.normalAttrs=null}clone(){const e=new AO(Object.assign({},this.attribute));return e.setSubGraphic(this.subGraphic.map(t=>t.clone())),e}getNoWorkAnimateAttr(){return AO.NOWORK_ANIMATE_ATTR}}AO.NOWORK_ANIMATE_ATTR=hd;function wZ(n){return new AO(n)}class ZVt{constructor(e,t,i,r,s,a,o,l,u,c,d,h,f,p){this.left=e,this.top=t,this.width=i,this.height=r,this.actualHeight=0,this.bottom=t+r,this.right=e+i,this.ellipsis=s,this.wordBreak=a,this.verticalDirection=o,this.lines=[],this.globalAlign=l,this.globalBaseline=u,this.layoutDirection=c,this.directionKey=dZ[this.layoutDirection],this.isWidthMax=d,this.isHeightMax=h,this.singleLine=f,p?(p.clear(),this.icons=p):this.icons=new Map}draw(e,t){const{width:i,height:r}=this.getActualSize(),s=this.isWidthMax?Math.min(this.width,i):this.width||i||0;let a=this.isHeightMax?Math.min(this.height,r):this.height||r||0;a=Math.min(a,r);let o=0;switch(this.globalBaseline){case"top":o=0;break;case"middle":o=-a/2;break;case"bottom":o=-a}let l=0;this.globalAlign==="right"||this.globalAlign==="end"?l=-s:this.globalAlign==="center"&&(l=-s/2);let u=this[this.directionKey.height];this.singleLine&&(u=this.lines[0].height+1);let c=!1;if(this.verticalDirection==="middle")if(this.actualHeight>=u&&u!==0)for(let d=0;d<this.lines.length;d++){const{top:h,height:f}=this.lines[d];if(h+f<this[this.directionKey.top]||h+f>this[this.directionKey.top]+u)return c;let p=!1;this.ellipsis&&this.lines[d+1]&&this.lines[d+1].top+this.lines[d+1].height>this[this.directionKey.top]+u&&(p=!0,c=!0),this.lines[d].draw(e,p,this.lines[d][this.directionKey.left]+l,this.lines[d][this.directionKey.top]+o,this.ellipsis,t)}else{const d=Math.floor((u-this.actualHeight)/2);this.layoutDirection==="vertical"?l+=d:o+=d;for(let h=0;h<this.lines.length;h++)this.lines[h].draw(e,!1,this.lines[h][this.directionKey.left]+l,this.lines[h][this.directionKey.top]+o,this.ellipsis,t)}else if(this.verticalDirection==="bottom"&&this.layoutDirection!=="vertical")for(let d=0;d<this.lines.length;d++){const{top:h,height:f}=this.lines[d],p=u-this.lines[d].top-this.lines[d].height;if(u===0)this.lines[d].draw(e,!1,l,p+o,this.ellipsis,t);else{if(p+f>this[this.directionKey.top]+u||p<this[this.directionKey.top])return c;{let g=!1;this.ellipsis&&this.lines[d+1]&&p-this.lines[d+1].height<this[this.directionKey.top]&&(g=!0,c=!0),this.lines[d].draw(e,g,l,p+o,this.ellipsis,t)}}}else{this.verticalDirection==="bottom"&&this.layoutDirection==="vertical"&&this.singleLine&&this.isWidthMax&&(l+=this.lines[0].height+1);for(let d=0;d<this.lines.length;d++){this.verticalDirection==="bottom"&&this.layoutDirection==="vertical"&&(l-=this.lines[d].height+this.lines[d].top);const{top:h,height:f}=this.lines[d];if(u===0)this.lines[d].draw(e,!1,this.lines[d][this.directionKey.left]+l,this.lines[d][this.directionKey.top]+o,this.ellipsis,t);else{if(h+f<this[this.directionKey.top]||h+f>this[this.directionKey.top]+u)return c;{let p=!1;this.ellipsis&&this.lines[d+1]&&this.lines[d+1].top+this.lines[d+1].height>this[this.directionKey.top]+u&&(p=!0,c=!0),this.lines[d].draw(e,p,this.lines[d][this.directionKey.left]+l,this.lines[d][this.directionKey.top]+o,this.ellipsis,t)}}}}return c}getActualSize(){return this.ellipsis?this.getActualSizeWidthEllipsis():this.getRawActualSize()}getRawActualSize(){let e=0,t=0;for(let i=0;i<this.lines.length;i++){const r=this.lines[i];r.actualWidth>e&&(e=r.actualWidth),t+=r.height}return{width:this.layoutDirection==="vertical"?t:e,height:this.layoutDirection==="vertical"?e:t}}getActualSizeWidthEllipsis(){let e=0,t=0;const{width:i,height:r}=this.getRawActualSize();this.width,this.height;let s=this[this.directionKey.height];if(this.singleLine&&(s=this.lines[0].height+1),this.verticalDirection==="middle")if(this.actualHeight>=s&&s!==0)for(let a=0;a<this.lines.length;a++){const{top:o,height:l}=this.lines[a];if(!(o+l<this[this.directionKey.top]||o+l>this[this.directionKey.top]+s))if(this.ellipsis&&this.lines[a+1]&&this.lines[a+1].top+this.lines[a+1].height>this[this.directionKey.top]+s){const u=this.ellipsis===!0?"...":this.ellipsis||"",c=this.lines[a].getWidthWithEllips(u);c>e&&(e=c),t+=this.lines[a].height}else this.lines[a].actualWidth>e&&(e=this.lines[a].actualWidth),t+=this.lines[a].height}else{Math.floor((s-this.actualHeight)/2);for(let a=0;a<this.lines.length;a++)this.lines[a].actualWidth>e&&(e=this.lines[a].actualWidth),t+=this.lines[a].height}else if(this.verticalDirection==="bottom")for(let a=0;a<this.lines.length;a++){const{top:o,height:l}=this.lines[a],u=s-this.lines[a].top-this.lines[a].height;if(s===0)this.lines[a].actualWidth>e&&(e=this.lines[a].actualWidth),t+=this.lines[a].height;else if(!(u+l>this[this.directionKey.top]+s||u<this[this.directionKey.top]))if(this.ellipsis&&this.lines[a+1]&&u-this.lines[a+1].height<this[this.directionKey.top]){const c=this.ellipsis===!0?"...":this.ellipsis||"",d=this.lines[a].getWidthWithEllips(c);d>e&&(e=d),t+=this.lines[a].height}else this.lines[a].actualWidth>e&&(e=this.lines[a].actualWidth),t+=this.lines[a].height}else for(let a=0;a<this.lines.length;a++){const{top:o,height:l}=this.lines[a];if(s===0)this.lines[a].actualWidth>e&&(e=this.lines[a].actualWidth),t+=this.lines[a].height;else if(!(o+l<this[this.directionKey.top]||o+l>this[this.directionKey.top]+s))if(this.ellipsis&&this.lines[a+1]&&this.lines[a+1].top+this.lines[a+1].height>this[this.directionKey.top]+s){const u=this.ellipsis===!0?"...":this.ellipsis||"",c=this.lines[a].getWidthWithEllips(u);c>e&&(e=c),t+=this.lines[a].height}else this.lines[a].actualWidth>e&&(e=this.lines[a].actualWidth),t+=this.lines[a].height}return{width:this.layoutDirection==="vertical"?t:e,height:this.layoutDirection==="vertical"?e:t}}}function dE(n,e,t,i){const r=Math.round(n),s=Math.round(t),a=Math.round(e),o=Math.round(i);return{left:n>r?r:r-.5,top:t>s?s:s-.5,right:a>e?a:a+.5,bottom:o>i?o:o+.5}}class Ib{constructor(e,t,i,r){var s,a;this.fontSize=i.fontSize||16,this.textBaseline=i.textBaseline||"alphabetic",this.ascentDescentMode=r;const o=sz(i.lineHeight,this.fontSize);this.lineHeight=typeof o=="number"?o>this.fontSize?o:this.fontSize:Math.floor(1.2*this.fontSize),this.height=this.lineHeight;const{ascent:l,height:u,descent:c,width:d}=pb(e,i,this.ascentDescentMode);let h=0,f=0,p=0;this.height>u&&(h=(this.height-u)/2,f=Math.ceil(h),p=Math.floor(h)),this.textBaseline==="top"?(this.ascent=h,this.descent=u-h):this.textBaseline==="bottom"?(this.ascent=u-h,this.descent=h):this.textBaseline==="middle"?(this.ascent=this.height/2,this.descent=this.height/2):(this.ascent=l+f,this.descent=c+p),this.length=e.length,this.width=d||0,this.text=e||"",this.newLine=t||!1,this.character=i,this.left=0,this.top=0,this.ellipsis="normal",this.ellipsisWidth=0,this.ellipsisOtherParagraphWidth=0,this.space=i.space,this.dx=(s=i.dx)!==null&&s!==void 0?s:0,this.dy=(a=i.dy)!==null&&a!==void 0?a:0,i.direction==="vertical"&&(this.direction=i.direction,this.widthOrigin=this.width,this.heightOrigin=this.height,this.width=this.heightOrigin,this.height=this.widthOrigin,this.lineHeight=this.height),this.ellipsisStr="..."}updateWidth(){const{width:e}=pb(this.text,this.character,this.ascentDescentMode);this.width=e,this.direction==="vertical"&&(this.widthOrigin=this.width,this.width=this.heightOrigin,this.height=this.widthOrigin)}drawBackground(e,t,i,r,s,a,o){if(this.text===""||this.text===`
`||!this.character.background||this.character.backgroundOpacity&&!(this.character.backgroundOpacity>0))return;let l=t+i,u=this.text,c=this.left+r;l+=this.top;let d=this.direction;if(this.verticalEllipsis)u=this.ellipsisStr,d="vertical",l-=this.ellipsisWidth/2;else{if(this.ellipsis==="hide")return;if(this.ellipsis==="add")u+=this.ellipsisStr,a!=="right"&&a!=="end"||(c-=this.ellipsisWidth);else if(this.ellipsis==="replace"){const f=Y2(u,(d==="vertical"?this.height:this.width)-this.ellipsisWidth+this.ellipsisOtherParagraphWidth,this.character,u.length-1);if(u=u.slice(0,f),u+=this.ellipsisStr,(a==="right"||a==="end")&&d!=="vertical"){const{width:p}=pb(this.text.slice(f),this.character,this.ascentDescentMode);c-=this.ellipsisWidth-p}}}const h=dE(c,c+(this.widthOrigin||this.width),t,t+o);return Object.assign(Object.assign({},h),{fillStyle:this.character.background,globalAlpha:this.character.backgroundOpacity})}draw(e,t,i,r,s,a,o){var l;let u=t+i,c=this.text,d=this.left+r+((l=this.space)!==null&&l!==void 0?l:0)/2;u+=this.top;let h=this.direction;if(this.verticalEllipsis)c=this.ellipsisStr,h="vertical",u-=this.ellipsisWidth/2;else{if(this.ellipsis==="hide")return;if(this.ellipsis==="add")c+=this.ellipsisStr,a!=="right"&&a!=="end"||(d-=this.ellipsisWidth);else if(this.ellipsis==="replace"){const p=Y2(c,(h==="vertical"?this.height:this.width)-this.ellipsisWidth+this.ellipsisOtherParagraphWidth,this.character,c.length-1);if(c=c.slice(0,p),c+=this.ellipsisStr,(a==="right"||a==="end")&&h!=="vertical"){const{width:g}=pb(this.text.slice(p),this.character,this.ascentDescentMode);d-=this.ellipsisWidth-g}}}switch(this.character.script){case"super":u-=this.ascent*(1/3);break;case"sub":u+=this.descent/2}h==="vertical"&&(e.save(),e.rotateAbout(Math.PI/2,d,u),e.translate(-this.heightOrigin||-this.lineHeight/2,-this.descent/2),e.translate(d,u),d=0,u=0);const{lineWidth:f=1}=this.character;if(this.character.stroke&&f&&e.strokeText(c,d+this.dx,u+this.dy),this.character.fill&&e.fillText(c,d+this.dx,u+this.dy),this.character.fill){if(this.character.lineThrough||this.character.underline){if(this.character.underline){const p=1+u,g=dE(d,d+(this.widthOrigin||this.width),p,p+(this.character.fontSize?Math.max(1,Math.floor(this.character.fontSize/10)):1));e.fillRect(g.left,1+u,g.right-g.left,this.character.fontSize?Math.max(1,Math.floor(this.character.fontSize/10)):1)}if(this.character.lineThrough){const p=1+u-this.ascent/2,g=dE(d,d+(this.widthOrigin||this.width),p,p+(this.character.fontSize?Math.max(1,Math.floor(this.character.fontSize/10)):1));e.fillRect(g.left,1+u-this.ascent/2,g.right-g.left,this.character.fontSize?Math.max(1,Math.floor(this.character.fontSize/10)):1)}}else if(this.character.textDecoration==="underline"){const p=1+u,g=dE(d,d+(this.widthOrigin||this.width),p,p+(this.character.fontSize?Math.max(1,Math.floor(this.character.fontSize/10)):1));e.fillRect(g.left,1+u,g.right-g.left,this.character.fontSize?Math.max(1,Math.floor(this.character.fontSize/10)):1)}else if(this.character.textDecoration==="line-through"){const p=1+u-this.ascent/2,g=dE(d,d+(this.widthOrigin||this.width),p,p+(this.character.fontSize?Math.max(1,Math.floor(this.character.fontSize/10)):1));e.fillRect(g.left,1+u-this.ascent/2,g.right-g.left,this.character.fontSize?Math.max(1,Math.floor(this.character.fontSize/10)):1)}}h==="vertical"&&e.restore()}getWidthWithEllips(e){let t=this.text;const i=e==="vertical"?this.height:this.width;if(this.ellipsis==="hide")return i;if(this.ellipsis==="add")return i+this.ellipsisWidth;if(this.ellipsis==="replace"){const r=Y2(t,i-this.ellipsisWidth+this.ellipsisOtherParagraphWidth,this.character,t.length-1);t=t.slice(0,r),t+=this.ellipsisStr;const{width:s}=pb(this.text.slice(r),this.character,this.ascentDescentMode);return i+this.ellipsisWidth-s}return i}}function QVt(n,e){const t=n.text.slice(0,e),i=n.text.slice(e);return[new Ib(t,n.newLine,n.character,n.ascentDescentMode),new Ib(i,!0,n.character,n.ascentDescentMode)]}const yhe=["width","height","image",...sd];let CZ=class wY extends _a{constructor(e){super(e),this.type="image",this.numberType=uz,this.loadImage(this.attribute.image)}getImageElement(){const{image:e}=this.attribute;if(!e||!this.resources)return null;const t=this.resources.get(e);return t.state!=="success"?null:t.data}get width(){return this.tryUpdateAABBBounds(),this._actualWidth}get height(){return this.tryUpdateAABBBounds(),this._actualHeight}get repeatX(){var e;return(e=this.attribute.repeatX)!==null&&e!==void 0?e:"no-repeat"}set repeatX(e){this.attribute.repeatX===e&&(this.attribute.repeatX=e)}get repeatY(){var e;return(e=this.attribute.repeatY)!==null&&e!==void 0?e:"no-repeat"}set repeatY(e){this.attribute.repeatY===e&&(this.attribute.repeatY=e)}get image(){return this.attribute.image}set image(e){e!==this.attribute.image&&(this.attribute.image=e,this.loadImage(this.attribute.image))}imageLoadSuccess(e,t,i){super.imageLoadSuccess(e,t,()=>{this.successCallback&&this.successCallback()}),this.addUpdateBoundTag()}imageLoadFail(e,t){super.imageLoadFail(e,()=>{this.failCallback&&this.failCallback()})}setAttributes(e,t,i){return e.image&&this.loadImage(e.image),super.setAttributes(e,t,i)}setAttribute(e,t,i,r){return e==="image"&&this.loadImage(t),super.setAttribute(e,t,i,r)}getGraphicTheme(){return Bn(this).image}updateAABBBounds(e,t,i){if(!this.updatePathProxyAABBBounds(i)){const{maxWidth:a=t.maxWidth,maxHeight:o=t.maxHeight}=e;let{width:l,height:u}=e;if(l==null||u==null){const c=this.getImageElement();if(c){const d=c.width,h=c.height;if(l!=null)u=l*(h/d);else if(u!=null)l=u*(d/h);else{const f=d/h;f>a/o?(l=a,u=a/f):(u=o,l=o*f)}}else l=a,u=o}this._actualWidth=l,this._actualHeight=u,i.set(0,0,l,u)}const{tb1:r,tb2:s}=lt.graphicService.updateTempAABBBounds(i);return SM(e,t,r),i.union(r),r.setValue(s.x1,s.y1,s.x2,s.y2),this.widthWithoutTransform=i.x2-i.x1,this.heightWithoutTransform=i.y2-i.y1,lt.graphicService.transformAABBBounds(e,i,t,!1,this),i}getDefaultAttribute(e){return bO[e]}needUpdateTags(e){return super.needUpdateTags(e,yhe)}needUpdateTag(e){return super.needUpdateTag(e,yhe)}clone(){return new wY(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return wY.NOWORK_ANIMATE_ATTR}};CZ.NOWORK_ANIMATE_ATTR=Object.assign({image:1,repeatX:1,repeatY:1},hd);function TZ(n){return new CZ(n)}class Sp extends CZ{constructor(e){if(super(e),this._x=0,this._y=0,this._hovered=!1,this._marginArray=[0,0,0,0],e.backgroundShowMode==="always"&&(this._hovered=!0),e.margin){const t=rY(e.margin);this._marginArray=typeof t=="number"?[t,t,t,t]:t}this.onBeforeAttributeUpdate=(t,i,r)=>{if(Oe(r)&&r.indexOf("margin")!==-1||r==="margin")if(i.margin){const s=rY(i.margin);this._marginArray=typeof s=="number"?[s,s,s,s]:s}else this._marginArray=[0,0,0,0]}}get width(){var e;return((e=this.attribute.width)!==null&&e!==void 0?e:0)+this._marginArray[1]+this._marginArray[3]}get height(){var e;return((e=this.attribute.height)!==null&&e!==void 0?e:0)+this._marginArray[0]+this._marginArray[2]}tryUpdateAABBBounds(){if(!this.shouldUpdateAABBBounds())return this._AABBBounds;this.doUpdateAABBBounds();const{width:e=bO.width,height:t=bO.height}=this.attribute,{backgroundWidth:i=e,backgroundHeight:r=t}=this.attribute,s=(i-e)/2,a=(r-t)/2;return this._AABBBounds.expand([0,2*s,2*a,0]),this._AABBBounds}setHoverState(e){this.attribute.backgroundShowMode==="hover"&&this._hovered!==e&&(this._hovered=e)}}class JVt{constructor(e,t,i,r,s,a,o,l){this.left=e,this.width=t,this.baseline=i,this.ascent=r,this.descent=s,this.top=i-r,this.paragraphs=a.map(c=>c),this.textAlign=(this.paragraphs[0]instanceof Sp?this.paragraphs[0].attribute.textAlign:this.paragraphs[0].character.textAlign)||"left",this.direction=o,this.directionKey=dZ[this.direction],this.actualWidth=0;let u=0;this.paragraphs.forEach((c,d)=>{if(d===0&&c instanceof Ib){const h=b3t.exec(c.text);(h==null?void 0:h.index)!==0&&(c.text=c.text.slice(h==null?void 0:h.index),c.updateWidth())}this.actualWidth+=c[this.directionKey.width],u=Math.max(c[this.directionKey.height],u)}),this.height=u,this.blankWidth=l?0:this.width-this.actualWidth,this.calcOffset(t,l)}calcOffset(e,t){const i=this.directionKey,r=this.height;let s=this.left,a=0;this.actualWidth<e&&!t&&(this.textAlign==="right"||this.textAlign==="end"?s=e-this.actualWidth:this.textAlign==="center"?s=(e-this.actualWidth)/2:this.textAlign==="justify"&&(this.paragraphs.length<2?s=(e-this.actualWidth)/2:a=(e-this.actualWidth)/(this.paragraphs.length-1))),this.paragraphs.map(function(o){o instanceof Sp?(o["_"+i.x]=s,s+=o[i.width]+a,o["_"+i.y]=o.attribute.textBaseline==="top"?0:o.attribute.textBaseline==="bottom"?r-o.height:(r-o.height)/2):(o[i.left]=s,s+=o[i.width]+a)})}draw(e,t,i,r,s,a){if(s&&(t||this.paragraphs.some(d=>d.overflow))){let d=!0,h=!1;for(let p=this.paragraphs.length-1;p>=0;p--){const g=this.paragraphs[p];if(g.overflow)d=d&&g.text==="";else if(d){h=!0;break}}let f=0;if(!h)for(let p=this.paragraphs.length-1;p>=0;p--){const g=this.paragraphs[p];if(g.overflow){if(g.text==="")break;continue}if(g instanceof Sp)break;if(this.direction==="vertical"&&g.direction!=="vertical"){g.verticalEllipsis=!0;break}const m=s===!0?"...":s||"";g.ellipsisStr=m;const{width:v}=pb(m,g.character,g.ascentDescentMode),_=v||0;if(_<=this.blankWidth+f){t&&(g.ellipsis="add");break}if(_<=this.blankWidth+f+g.width){g.ellipsis="replace",g.ellipsisWidth=_,g.ellipsisOtherParagraphWidth=this.blankWidth+f;break}g.ellipsis="hide",f+=g.width}}let o="",l=-1,u=[];const c=[u];this.paragraphs.forEach((d,h)=>{if(d instanceof Sp)return;const f=d.drawBackground(e,r,this.ascent,i,h===0,this.textAlign,this.height);f&&(o===f.fillStyle&&l===f.globalAlpha||(u=[],c.push(u),o=f.fillStyle,l=f.globalAlpha),u.push(f))}),c.forEach(d=>{if(d.length===0)return;const h=d[0],f=d[d.length-1];e.fillStyle=h.fillStyle,e.globalAlpha=h.globalAlpha,e.fillRect(h.left,h.top,f.right-h.left,f.bottom-h.top)}),this.paragraphs.forEach((d,h)=>{if(d instanceof Sp)return d.setAttributes({x:i+d._x,y:r+d._y}),void a(d,e,i+d._x,r+d._y,this.ascent);const f={x1:this.left,y1:this.top,x2:this.left+this.actualWidth,y2:this.top+this.height};x3t(e,d.character),S3t(e,d.character,f),d.draw(e,r,this.ascent,i,h===0,this.textAlign,this.height)})}getWidthWithEllips(e){let t=0;for(let r=this.paragraphs.length-1;r>=0;r--){const s=this.paragraphs[r];if(s instanceof Sp)break;const{width:a}=pb(e,s.character,s.ascentDescentMode),o=a||0;if(o<=this.blankWidth+t){s.ellipsis="add",s.ellipsisWidth=o;break}if(o<=this.blankWidth+t+s.width){s.ellipsis="replace",s.ellipsisWidth=o,s.ellipsisOtherParagraphWidth=this.blankWidth+t;break}s.ellipsis="hide",t+=s.width}let i=0;return this.paragraphs.forEach((r,s)=>{i+=r instanceof Sp?r.width:r.getWidthWithEllips(this.direction)}),i}}class e4t{constructor(e){this.frame=e,this.width=this.frame.width,this.height=this.frame.height,this.lineWidth=0,this.y=this.frame.top,this.maxAscent=0,this.maxDescent=0,this.maxAscentForBlank=0,this.maxDescentForBlank=0,this.lineBuffer=[],this.direction=e.layoutDirection,this.directionKey=dZ[this.direction]}store(e){if(e instanceof Sp){this.frame.icons.set(e.richtextId,e),this.lineBuffer.push(e),this.lineWidth+=e[this.directionKey.width];let t=0,i=0;e.attribute.textBaseline==="top"?(t=0,i=e.height):e.attribute.textBaseline==="bottom"?(t=e.height,i=0):(t=e.height/2,i=e.height/2),this.maxAscent=Math.max(this.maxAscent,t),this.maxDescent=Math.max(this.maxDescent,i)}else this.lineBuffer.push(e),e.text.length!==0?(this.lineWidth+=e[this.directionKey.width],this.maxAscent=Math.max(this.maxAscent,e.ascent),this.maxDescent=Math.max(this.maxDescent,e.descent)):(this.maxAscentForBlank=Math.max(this.maxAscentForBlank,e.ascent),this.maxDescentForBlank=Math.max(this.maxDescentForBlank,e.descent))}send(){if(this.lineBuffer.length===0)return;const e=this.maxAscent===0?this.maxAscentForBlank:this.maxAscent,t=this.maxDescent===0?this.maxDescentForBlank:this.maxDescent,i=new JVt(this.frame.left,this[this.directionKey.width],this.y+e,e,t,this.lineBuffer,this.direction,this.direction==="horizontal"?this.frame.isWidthMax:this.frame.isHeightMax);this.frame.lines.push(i),this.frame.actualHeight+=i.height,this.y+=i.height,this.lineBuffer.length=0,this.lineWidth=this.maxAscent=this.maxDescent=this.maxAscentForBlank=this.maxDescentForBlank=0}deal(e,t=!1){e instanceof Sp?this.direction==="horizontal"&&this.width===0||this.direction==="vertical"&&this.height===0||this.lineWidth+e[this.directionKey.width]<=this[this.directionKey.width]?this.store(e):this.lineBuffer.length===0?(this.store(e),this.send()):(this.send(),this.deal(e)):typeof this.width!="number"||this.width<0||(e.newLine&&this.send(),(e.text.length!==0||this.newLine)&&(this.direction==="horizontal"&&this.width===0||this.direction==="vertical"&&this.height===0||this.lineWidth+e[this.directionKey.width]<=this[this.directionKey.width]?this.store(e):this.lineWidth===this[this.directionKey.width]?(this.send(),this.deal(e)):this.cut(e,t)))}cut(e,t){const i=this[this.directionKey.width]-this.lineWidth||0,r=Math.ceil(i/e[this.directionKey.width]*e.length)||0,s=Y2(e.text,i,e.character,r,this.frame.wordBreak==="break-word");if(s!==0){const[a,o]=QVt(e,s);this.store(a),t?this.send():this.deal(o)}else this.lineBuffer.length!==0&&(this.send(),this.deal(e))}}let CY=!1;try{CY=Intl&&typeof Intl.Segmenter=="function"}catch{CY=!1}const _he=["width","height","ellipsis","wordBreak","verticalDirection","maxHeight","maxWidth","textAlign","textBaseline","textConfig","layoutDirection","fill","stroke","fontSize","fontFamily","fontStyle","fontWeight","lineWidth","opacity","fillOpacity","strokeOpacity",...sd];class xp extends _a{constructor(e){super(e),this.type="richtext",this._currentHoverIcon=null,this.numberType=mZ,this.onBeforeAttributeUpdate=(t,i,r)=>{for(const s in t)if(s==="hoverIconId"){if(t[s]===i[s])continue;const a=this._frameCache.icons.get(t[s]);this.updateHoverIconState(a)}}}get width(){var e;return(e=this.attribute.width)!==null&&e!==void 0?e:zg.width}set width(e){this.attribute.width!==e&&(this.attribute.width=e,this.addUpdateShapeAndBoundsTag())}get height(){var e;return(e=this.attribute.height)!==null&&e!==void 0?e:zg.height}set height(e){this.attribute.height!==e&&(this.attribute.height=e,this.addUpdateShapeAndBoundsTag())}get maxWidth(){return this.attribute.maxWidth}set maxWidth(e){this.attribute.maxWidth!==e&&(this.attribute.maxWidth=e,this.addUpdateShapeAndBoundsTag())}get maxHeight(){return this.attribute.maxHeight}set maxHeight(e){this.attribute.maxHeight!==e&&(this.attribute.maxHeight=e,this.addUpdateShapeAndBoundsTag())}get ellipsis(){var e;return(e=this.attribute.ellipsis)!==null&&e!==void 0?e:zg.ellipsis}set ellipsis(e){this.attribute.ellipsis!==e&&(this.attribute.ellipsis=e,this.addUpdateShapeAndBoundsTag())}get wordBreak(){var e;return(e=this.attribute.wordBreak)!==null&&e!==void 0?e:zg.wordBreak}set wordBreak(e){this.attribute.wordBreak!==e&&(this.attribute.wordBreak=e,this.addUpdateShapeAndBoundsTag())}get verticalDirection(){var e;return(e=this.attribute.verticalDirection)!==null&&e!==void 0?e:zg.verticalDirection}set verticalDirection(e){this.attribute.verticalDirection!==e&&(this.attribute.verticalDirection=e,this.addUpdateShapeAndBoundsTag())}get textAlign(){var e;return(e=this.attribute.textAlign)!==null&&e!==void 0?e:zg.textAlign}set textAlign(e){this.attribute.textAlign!==e&&(this.attribute.textAlign=e,this.addUpdateShapeAndBoundsTag())}get textBaseline(){var e;return(e=this.attribute.textBaseline)!==null&&e!==void 0?e:zg.textBaseline}set textBaseline(e){this.attribute.textBaseline!==e&&(this.attribute.textBaseline=e,this.addUpdateShapeAndBoundsTag())}get textConfig(){var e;return(e=this.attribute.textConfig)!==null&&e!==void 0?e:zg.textConfig}set textConfig(e){this.attribute.textConfig=e,this.addUpdateShapeAndBoundsTag()}getGraphicTheme(){return Bn(this).richtext}static AllSingleCharacter(e){return e.lines?e.lines.every(t=>t.paragraphs.every(i=>!(i.text&&Jt(i.text)&&xp.splitText(i.text).length>1))):e.every(t=>t.isComposing||!(t.text&&Jt(t.text)&&xp.splitText(t.text).length>1))}static splitText(e){if(CY){const t=new Intl.Segmenter(void 0,{granularity:"grapheme"}),i=[];for(const{segment:r}of t.segment(e))i.push(r);return i}return Array.from(e)}static TransformTextConfig2SingleCharacter(e){const t=[];return e.forEach(i=>{const r=xp.splitText(i.text.toString());if(Jt(i.text)&&r.length>1)for(let s=0;s<r.length;s++){const a=r[s];t.push(Object.assign(Object.assign({},i),{text:a}))}else t.push(i)}),t}updateAABBBounds(e,t,i){var r,s,a,o;const{width:l=t.width,height:u=t.height,maxWidth:c=t.maxWidth,maxHeight:d=t.maxHeight,textAlign:h=t.textAlign,textBaseline:f=(s=(r=e.textBaseline)!==null&&r!==void 0?r:t.textBaseline)!==null&&s!==void 0?s:"top",editOptions:p}=e;if(l>0&&u>0)i.set(0,0,l,u);else{const v=this.getFrameCache(),{width:_,height:y}=v.getActualSize();let x=l||_||0,w=u||y||0;w=typeof d=="number"&&w>d?d:w||0,x=typeof c=="number"&&x>c?c:x||0,i.set(0,0,x,w)}p&&p.keepHeightWhileEmpty&&!i.height()&&!(!((a=e.textConfig)===null||a===void 0)&&a.length)&&(i.y2=i.y1+((o=e.fontSize)!==null&&o!==void 0?o:12),i.x2=i.x1+2);let g=0;switch(f){case"top":g=0;break;case"middle":g=-i.height()/2;break;case"bottom":g=-i.height()}let m=0;switch(h){case"left":m=0;break;case"center":m=-i.width()/2;break;case"right":m=-i.width()}return u||(this.verticalDirection==="middle"?g-=i.height()/2:this.verticalDirection==="bottom"&&(g-=i.height())),i.translate(m,g),lt.graphicService.updateTempAABBBounds(i),e.forceBoundsHeight==null&&e.forceBoundsWidth==null||lt.graphicService.updateHTMLTextAABBBounds(e,t,i),this.widthWithoutTransform=i.x2-i.x1,this.heightWithoutTransform=i.y2-i.y1,lt.graphicService.transformAABBBounds(e,i,t,!1,this),i.width()===0&&i.height()===0&&i.clear(),i}needUpdateTags(e){return super.needUpdateTags(e,_he)}needUpdateTag(e){return super.needUpdateTag(e,_he)}getFrameCache(){return this.shouldUpdateShape()&&(this.doUpdateFrameCache(),this.clearUpdateShapeTag()),this._frameCache}get cliped(){const e=this.getFrameCache();if(e.actualHeight>e.height)return!0;const{disableAutoWrapLine:t}=this.attribute;if(t)for(let i=0;i<e.lines.length;i++){const r=e.lines[i];for(let s=0;s<r.paragraphs.length;s++){const a=r.paragraphs[s];if(a.overflow&&a.text!=="")return!0}}return!1}combinedStyleToCharacter(e){const{fill:t,stroke:i,fontSize:r,fontFamily:s,fontStyle:a,fontWeight:o,lineWidth:l,opacity:u,fillOpacity:c,lineHeight:d,strokeOpacity:h,upgradeAttrs:f}=this.attribute,p=Object.assign({fill:t,stroke:i,fontSize:r,fontFamily:s,fontStyle:a,fontWeight:o,lineWidth:l,opacity:u,fillOpacity:c,strokeOpacity:h},e);return f!=null&&f.lineHeight&&(p.lineHeight=d),p}doUpdateFrameCache(e){var t;const{maxWidth:i,maxHeight:r,width:s,height:a,ellipsis:o,wordBreak:l,verticalDirection:u,textAlign:c,textBaseline:d,layoutDirection:h,singleLine:f,disableAutoWrapLine:p,editable:g,ascentDescentMode:m,upgradeAttrs:v}=this.attribute,_=v&&v.multiBreakLine;let{textConfig:y=[]}=this.attribute;g&&y.length>0&&!xp.AllSingleCharacter(y)&&(y=xp.TransformTextConfig2SingleCharacter(y),this.attribute.textConfig=y);const x=[],w=e??y;for(let D=0;D<w.length;D++)if("image"in w[D]){const L=this.combinedStyleToCharacter(w[D]);L.lineWidth=void 0;const B=L.id&&this._frameCache&&this._frameCache.icons&&this._frameCache.icons.get(L.id);if(B)x.push(B);else{const F=new Sp(L);F.successCallback=()=>{var $;this.addUpdateBoundTag(),($=this.stage)===null||$===void 0||$.renderNextFrame()},F.richtextId=L.id,x.push(F)}}else{const L=this.combinedStyleToCharacter(w[D]);if(st(L.text)&&(L.text=`${L.text}`),L.text&&L.text.includes(`
`)){const B=L.text.split(`
`);for(let F=0;F<B.length;F++)if(F===0)x.push(new Ib(B[F],!1,L,m));else if(B[F]||D===w.length-1)x.push(new Ib(B[F],!0,L,m));else{const $=this.combinedStyleToCharacter(w[D+1]);x.push(new Ib(B[F],!0,$,m))}}else L.text&&x.push(new Ib(L.text,!1,L,m))}const T=typeof i=="number"&&Number.isFinite(i)&&i>0,E=typeof r=="number"&&Number.isFinite(r)&&r>0,A=typeof s=="number"&&Number.isFinite(s)&&s>0&&(!T||s<=i),k=typeof a=="number"&&Number.isFinite(a)&&a>0&&(!E||a<=r),P=new ZVt(0,0,(A?s:T?i:0)||0,(k?a:E?r:0)||0,o,l,u,c,d,h||"horizontal",!A&&T,!k&&E,f||!1,(t=this._frameCache)===null||t===void 0?void 0:t.icons),I=new e4t(P);if(I.newLine=_,p){let D=0,L=!1;for(let B=0;B<x.length;B++){const F=x[B];L?(F.overflow=!0,F.left=1/0,F.top=1/0,!F.newLine&&P.lines[P.lines.length-1].paragraphs.push(F)):I.deal(F,!0),P.lines.length!==D&&(D=P.lines.length,I.lineBuffer.length=0,F.overflow=!0,F.left=1e3,F.top=1e3,P.lines[P.lines.length-1].paragraphs.push(F),L=!0),F.newLine&&(L=!1,I.lineWidth=0),I.send()}}else for(let D=0;D<x.length;D++)I.deal(x[D]);if(I.send(),!(P.layoutDirection==="horizontal"?A:k)){const D=P.getActualSizeWidthEllipsis();let L=P.layoutDirection==="horizontal"?D.width:D.height;(P.layoutDirection==="horizontal"?T:E)&&(L=Math.min(L,P.layoutDirection==="horizontal"?i:r)),P.lines.forEach(function(B){B.calcOffset(L,!1)})}_&&P.lines.forEach(D=>{const L=D.paragraphs;D.paragraphs=D.paragraphs.filter(B=>B.text!==""),D.paragraphs.length===0&&L.length&&(L[0].text=`
`,D.paragraphs.push(L[0]))}),this._frameCache=P}clone(){return new xp(Object.assign({},this.attribute))}setStage(e,t){super.setStage(e,t),this.getFrameCache().icons.forEach(i=>{i.setStage(e,t)})}bindIconEvent(){this.addEventListener("pointermove",e=>{const t=this.pickIcon(e.global);t&&t===this._currentHoverIcon||(t?this.setAttribute("hoverIconId",t.richtextId):!t&&this._currentHoverIcon&&this.setAttribute("hoverIconId",void 0))}),this.addEventListener("pointerleave",e=>{this._currentHoverIcon&&this.setAttribute("hoverIconId",void 0)})}updateHoverIconState(e){var t,i,r,s,a;e?((t=this._currentHoverIcon)===null||t===void 0||t.setHoverState(!1),this._currentHoverIcon=e,this._currentHoverIcon.setHoverState(!0),(i=this.stage)===null||i===void 0||i.setCursor(e.attribute.cursor),(r=this.stage)===null||r===void 0||r.renderNextFrame()):(this._currentHoverIcon.setHoverState(!1),this._currentHoverIcon=null,(s=this.stage)===null||s===void 0||s.setCursor(),(a=this.stage)===null||a===void 0||a.renderNextFrame())}pickIcon(e){const t=this.getFrameCache(),{e:i,f:r}=this.globalTransMatrix;let s;return t.icons.forEach((a,o)=>{var l,u;const c=a.AABBBounds.clone();c.translate(a._marginArray[3],a._marginArray[0]),c.containsPoint({x:e.x-i,y:e.y-r})&&(s=a,s.globalX=((l=s.attribute.x)!==null&&l!==void 0?l:0)+i+a._marginArray[3],s.globalY=((u=s.attribute.y)!==null&&u!==void 0?u:0)+r+a._marginArray[0])}),s}getNoWorkAnimateAttr(){return xp.NOWORK_ANIMATE_ATTR}}xp.NOWORK_ANIMATE_ATTR=Object.assign({ellipsis:1,wordBreak:1,verticalDirection:1,textAlign:1,textBaseline:1,textConfig:1,layoutDirection:1},hd);function EZ(n){return new xp(n)}const bhe=["path","customPath",...sd];class kO extends _a{constructor(e){super(e),this.type="path",this.numberType=cz}get pathShape(){return this.tryUpdateAABBBounds(),this.getParsedPathShape()}isValid(){return super.isValid()&&this._isValid()}_isValid(){const{path:e}=this.attribute;return e!=null&&e!==""}getParsedPathShape(){const e=this.getGraphicTheme();if(!this.valid)return e.path;const t=this.attribute;return t.path instanceof Ts?t.path:(J(this.cache)&&this.doUpdatePathShape(),this.cache instanceof Ts?this.cache:e.path)}getGraphicTheme(){return Bn(this).path}updateAABBBounds(e,t,i){if(!this.updatePathProxyAABBBounds(i)){const o=this.getParsedPathShape();i.union(o.getBounds())}const{tb1:r,tb2:s}=lt.graphicService.updateTempAABBBounds(i);SM(e,t,r),i.union(r),r.setValue(s.x1,s.y1,s.x2,s.y2),this.widthWithoutTransform=i.x2-i.x1,this.heightWithoutTransform=i.y2-i.y1;const{lineJoin:a=t.lineJoin}=e;return lt.graphicService.transformAABBBounds(e,i,t,a==="miter",this),i}doUpdateAABBBounds(e){return this.doUpdatePathShape(),super.doUpdateAABBBounds(e)}doUpdatePathShape(){const e=this.attribute;Jt(e.path,!0)?this.cache=new Ts().fromString(e.path):e.customPath&&(this.cache=new Ts,e.customPath(this.cache,this))}needUpdateTags(e){return super.needUpdateTags(e,bhe)}needUpdateTag(e){return super.needUpdateTag(e,bhe)}toCustomPath(){return new Ts().fromCustomPath2D(this.getParsedPathShape(),0,0)}clone(){return new kO(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return kO.NOWORK_ANIMATE_ATTR}}kO.NOWORK_ANIMATE_ATTR=Object.assign({path:1,customPath:1},hd);function AZ(n){return new kO(n)}const She=["segments","points","curveType","curveTension",...sd];class OO extends _a{constructor(e){super(e),this.type="area",this.numberType=yM}isValid(){return super.isValid()&&this._isValid()}_isValid(){if(this.pathProxy)return!0;const{points:e,segments:t}=this.attribute;return t?t.length!==0:!!e&&e.length!==0}getGraphicTheme(){return Bn(this).area}updateAABBBounds(e,t,i){this.updatePathProxyAABBBounds(i)||(e.segments?this.updateAreaAABBBoundsBySegments(e,t,i):this.updateAreaAABBBoundsByPoints(e,t,i)),lt.graphicService.updateTempAABBBounds(i),this.setWidthHeightWithoutTransform(i);const{lineJoin:r=t.lineJoin}=e;return lt.graphicService.transformAABBBounds(e,i,t,r==="miter",this),i}updateAreaAABBBoundsByPoints(e,t,i,r){const{points:s=t.points}=e,a=i;return s.forEach(o=>{var l,u;a.add(o.x,o.y),a.add((l=o.x1)!==null&&l!==void 0?l:o.x,(u=o.y1)!==null&&u!==void 0?u:o.y)}),a}updateAreaAABBBoundsBySegments(e,t,i,r){const{segments:s=t.segments}=e,a=i;return s.forEach(o=>{o.points.forEach(l=>{var u,c;a.add(l.x,l.y),a.add((u=l.x1)!==null&&u!==void 0?u:l.x,(c=l.y1)!==null&&c!==void 0?c:l.y)})}),a}_interpolate(e,t,i,r,s){e==="points"&&(s.points=iz(i,r,t))}needUpdateTags(e){return super.needUpdateTags(e,She)}needUpdateTag(e){return super.needUpdateTag(e,She)}toCustomPath(){let e=super.toCustomPath();if(e)return e;e=new Ts;const t=this.attribute,i=t.segments,r=s=>{if(s&&s.length){let a=!0;const o=[];if(s.forEach(l=>{var u,c;l.defined!==!1&&(a?e.moveTo(l.x,l.y):e.lineTo(l.x,l.y),o.push({x:(u=l.x1)!==null&&u!==void 0?u:l.x,y:(c=l.y1)!==null&&c!==void 0?c:l.y}),a=!1)}),o.length){for(let l=o.length-1;l>=0;l--)e.lineTo(o[l].x,o[l].y);e.closePath()}}};return t.points?r(t.points):i&&i.length&&i.forEach(s=>{r(s.points)}),e}clone(){return new OO(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return OO.NOWORK_ANIMATE_ATTR}}OO.NOWORK_ANIMATE_ATTR=Object.assign({segments:1,curveType:1},hd);function GOe(n){return new OO(n)}const xhe=["innerRadius","outerRadius","startAngle","endAngle","cornerRadius","padAngle","padRadius","cap",...sd];class PO extends _a{constructor(e){super(e),this.type="arc",this.numberType=oz}isValid(){return super.isValid()&&this._isValid()}_isValid(){const{startAngle:e,endAngle:t,outerRadius:i,innerRadius:r}=this.attribute;return this._validNumber(e)&&this._validNumber(t)&&this._validNumber(i)&&this._validNumber(r)}getParsedCornerRadius(){const e=this.getGraphicTheme(),{cornerRadius:t=e.cornerRadius,innerPadding:i=e.innerPadding,outerPadding:r=e.outerPadding}=this.attribute;let{outerRadius:s=e.outerRadius,innerRadius:a=e.innerRadius}=this.attribute;if(s+=r,a-=i,t===0||t==="0%")return 0;const o=Math.abs(s-a),l=u=>Math.min(st(u,!0)?u:o*parseFloat(u)/100,o/2);if(Oe(t)){const u=t.map(c=>l(c)||0);return u.length===0?[u[0],u[0],u[0],u[0]]:u.length===2?[u[0],u[1],u[0],u[1]]:(u.length===3&&u.push(0),u)}return l(t)}getParsedAngle(){const e=this.getGraphicTheme();let{startAngle:t=e.startAngle,endAngle:i=e.endAngle}=this.attribute;const{cap:r=e.cap}=this.attribute,s=i-t>=0?1:-1,a=i-t;if(t=tjt(t),i=t+a,r&&qn(a)<xn-jr){let o=1,l=1;r.length&&(o=Number(r[0]),l=Number(r[1]));let{outerRadius:u=e.outerRadius,innerRadius:c=e.innerRadius}=this.attribute;const{outerPadding:d=e.outerPadding,innerPadding:h=e.innerPadding}=this.attribute;u+=d,c-=h;const f=Math.abs(u-c)/2,p=f/u;if(f>jr&&u>jr)return{startAngle:t-s*p*o,endAngle:i+s*p*l,sc:s*p*o,ec:s*p*l}}return{startAngle:t,endAngle:i}}getParsePadAngle(e,t){const i=this.getGraphicTheme(),{innerPadding:r=i.innerPadding,outerPadding:s=i.outerPadding,padAngle:a=i.padAngle}=this.attribute;let{outerRadius:o=i.outerRadius,innerRadius:l=i.innerRadius}=this.attribute;o+=s,l-=r;const{padRadius:u=Af(o*o+l*l)}=this.attribute,c=qn(t-e);let d=e,h=t,f=e,p=t;const g=a/2;let m=c,v=c;if(g>jr&&u>jr){const _=t>e?1:-1;let y=Ace(Number(u)/l*Cs(g)),x=Ace(Number(u)/o*Cs(g));return(m-=2*y)>jr?(y*=_,f+=y,p-=y):(m=0,f=p=(e+t)/2),(v-=2*x)>jr?(x*=_,d+=x,h-=x):(v=0,d=h=(e+t)/2),{outerStartAngle:d,outerEndAngle:h,innerStartAngle:f,innerEndAngle:p,innerDeltaAngle:m,outerDeltaAngle:v}}return{outerStartAngle:d,outerEndAngle:h,innerStartAngle:f,innerEndAngle:p,innerDeltaAngle:m,outerDeltaAngle:v}}getGraphicTheme(){return Bn(this).arc}updateAABBBounds(e,t,i,r){this.updatePathProxyAABBBounds(i)||(r?this.updateArcAABBBoundsImprecise(e,t,i):this.updateArcAABBBoundsAccurate(e,t,i));const{tb1:s,tb2:a}=lt.graphicService.updateTempAABBBounds(i);SM(e,t,s),i.union(s),s.setValue(a.x1,a.y1,a.x2,a.y2),this.setWidthHeightWithoutTransform(i);const{lineJoin:o=t.lineJoin}=e;return lt.graphicService.transformAABBBounds(e,i,t,o==="miter",this),i}updateArcAABBBoundsImprecise(e,t,i){let{outerRadius:r=t.outerRadius,innerRadius:s=t.innerRadius}=e;const{outerPadding:a=t.outerPadding,innerPadding:o=t.innerPadding}=e;return r+=a,s-=o,r<s&&(r=s),i.set(-r,-r,r,r),i}updateArcAABBBoundsAccurate(e,t,i){let{outerRadius:r=t.outerRadius,innerRadius:s=t.innerRadius}=e;const{outerPadding:a=t.outerPadding,innerPadding:o=t.innerPadding}=e;if(r+=a,s-=o,r<s){const c=r;r=s,s=c}let{endAngle:l=t.endAngle,startAngle:u=t.startAngle}=e;if(u>l){const c=u;u=l,l=c}return r<=jr?i.set(0,0,0,0):Math.abs(l-u)>xn-jr?i.set(-r,-r,r,r):(sY(u,l,r,i),sY(u,l,s,i)),i}needUpdateTags(e){return super.needUpdateTags(e,xhe)}needUpdateTag(e){return super.needUpdateTag(e,xhe)}toCustomPath(){var e,t,i,r;let s=super.toCustomPath();if(s)return s;const a=this.attribute,{startAngle:o,endAngle:l}=this.getParsedAngle();let u=((e=a.innerRadius)!==null&&e!==void 0?e:0)-((t=a.innerPadding)!==null&&t!==void 0?t:0),c=((i=a.outerRadius)!==null&&i!==void 0?i:0)-((r=a.outerPadding)!==null&&r!==void 0?r:0);const d=qn(l-o),h=l>o;if(c<u){const f=c;c=u,u=f}if(s=new Ts,c<=jr)s.moveTo(0,0);else if(d>=xn-jr)s.moveTo(0+c*Ma(o),0+c*Cs(o)),s.arc(0,0,c,o,l,!h),u>jr&&(s.moveTo(0+u*Ma(l),0+u*Cs(l)),s.arc(0,0,u,l,o,h));else{const f=c*Ma(o),p=c*Cs(o),g=u*Ma(l),m=u*Cs(l);s.moveTo(0+f,0+p),s.arc(0,0,c,o,l,!h),s.lineTo(0+g,0+m),s.arc(0,0,u,l,o,h),s.closePath()}return s}clone(){return new PO(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return PO.NOWORK_ANIMATE_ATTR}}PO.NOWORK_ANIMATE_ATTR=Object.assign({cap:1},hd);function kZ(n){return new PO(n)}const whe=["points","cornerRadius",...sd];class MO extends _a{constructor(e){super(e),this.type="polygon",this.numberType=dz}isValid(){return super.isValid()&&this._isValid()}_isValid(){const{points:e}=this.attribute;return e&&e.length>=2}getGraphicTheme(){return Bn(this).polygon}updateAABBBounds(e,t,i){this.updatePathProxyAABBBounds(i)||this.updatePolygonAABBBoundsImprecise(e,t,i),lt.graphicService.updateTempAABBBounds(i),this.widthWithoutTransform=i.x2-i.x1,this.heightWithoutTransform=i.y2-i.y1;const{lineJoin:r=t.lineJoin}=e;return lt.graphicService.transformAABBBounds(e,i,t,r==="miter",this),i}updatePolygonAABBBoundsImprecise(e,t,i){const{points:r=t.points}=e;return r.forEach(s=>{i.add(s.x,s.y)}),i}_interpolate(e,t,i,r,s){e==="points"&&(s.points=iz(i,r,t))}needUpdateTags(e){return super.needUpdateTags(e,whe)}needUpdateTag(e){return super.needUpdateTag(e,whe)}toCustomPath(){let e=super.toCustomPath();if(e)return e;const t=this.attribute.points;return e=new Ts,t.forEach((i,r)=>{r===0?e.moveTo(i.x,i.y):e.lineTo(i.x,i.y)}),e.closePath(),e}clone(){return new MO(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return MO.NOWORK_ANIMATE_ATTR}}MO.NOWORK_ANIMATE_ATTR=hd;function YOe(n){return new MO(n)}let t4t=class extends z1{constructor(e){super({x:0,y:0}),this.type="shadowroot",this.shadowHost=e}clearUpdateBoundTag(){super.clearUpdateBoundTag(),this.shadowHost&&this.shadowHost.clearUpdateBoundTag()}addUpdateBoundTag(){super.addUpdateBoundTag(),this.shadowHost&&this.shadowHost.addUpdateBoundTag()}addUpdateShapeAndBoundsTag(){super.addUpdateShapeAndBoundsTag(),this.shadowHost&&this.shadowHost.addUpdateBoundTag()}tryUpdateGlobalTransMatrix(e=!0){if(this.shouldUpdateGlobalMatrix()){const t=this.transMatrix;this._globalTransMatrix?this._globalTransMatrix.setValue(t.a,t.b,t.c,t.d,t.e,t.f):this._globalTransMatrix=t.clone(),this.doUpdateGlobalMatrix(),e&&this.clearUpdateGlobalPositionTag()}return this._globalTransMatrix}doUpdateGlobalMatrix(){if(this.shadowHost){const e=this.shadowHost.globalTransMatrix;this._globalTransMatrix.multiply(e.a,e.b,e.c,e.d,e.e,e.f)}}tryUpdateGlobalAABBBounds(){return this._globalAABBBounds?this._globalAABBBounds.setValue(this._AABBBounds.x1,this._AABBBounds.y1,this._AABBBounds.x2,this._AABBBounds.y2):this._globalAABBBounds=this._AABBBounds.clone(),this.shadowHost&&this._globalAABBBounds.transformWithMatrix(this.shadowHost.globalTransMatrix),this._globalAABBBounds}};function n4t(n){return new t4t(n)}class i4t{constructor(){this.store=new Map}RegisterGraphicCreator(e,t){this.store.set(e,t),this[e]=t}CreateGraphic(e,t){const i=this.store.get(e);return i?i(t):null}}const It=new i4t;let TD,ED;function gz(n){return TD||(TD=It.CreateGraphic("text",{})),TD.initAttributes(n),TD.AABBBounds}function r4t(n){return ED||(ED=It.CreateGraphic("richtext",{})),ED.setAttributes(n),ED.AABBBounds}var s4t=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},a4t=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Che=function(n,e){return function(t,i){e(t,i,n)}};class mz{constructor(){this.time=xa.beforeFillStroke,this.useStyle=!0,this.order=0}drawShape(e,t,i,r,s,a,o,l,u,c,d,h,f){var p;const{background:g,backgroundOpacity:m=(p=e.attribute.fillOpacity)!==null&&p!==void 0?p:u.backgroundOpacity,opacity:v=u.opacity,backgroundMode:_=u.backgroundMode,backgroundFit:y=u.backgroundFit,backgroundKeepAspectRatio:x=u.backgroundKeepAspectRatio,backgroundScale:w=u.backgroundScale,backgroundOffsetX:T=u.backgroundOffsetX,backgroundOffsetY:E=u.backgroundOffsetY,backgroundClip:A=u.backgroundClip}=e.attribute;if(g)if(e.backgroundImg&&e.resources){const k=e.resources.get(g);if(k.state!=="success"||!k.data)return;if(t.save(),e.parent&&!e.transMatrix.onlyTranslate()){const I=Bn(e.parent).group,{scrollX:D=I.scrollX,scrollY:L=I.scrollY}=e.parent.attribute;t.setTransformFromMatrix(e.parent.globalTransMatrix,!0),t.translate(D,L)}A&&t.clip();const P=e.AABBBounds;t.setCommonStyle(e,e.attribute,i,r,u),t.globalAlpha=m*v,this.doDrawImage(t,k.data,P,{backgroundMode:_,backgroundFit:y,backgroundKeepAspectRatio:x,backgroundScale:w,backgroundOffsetX:T,backgroundOffsetY:E}),t.restore(),e.transMatrix.onlyTranslate()||t.setTransformForCurrent()}else t.highPerformanceSave(),t.setCommonStyle(e,e.attribute,i,r,u),t.globalAlpha=m*v,t.fillStyle=g,t.fill(),t.highPerformanceRestore()}doDrawImage(e,t,i,r){const{backgroundMode:s,backgroundFit:a,backgroundKeepAspectRatio:o,backgroundScale:l=1,backgroundOffsetX:u=0,backgroundOffsetY:c=0}=r,d=i.width(),h=i.height();let f=d,p=h;if(s==="no-repeat")if(a)if(o){const g=Math.max(d/t.width,h/t.height);e.drawImage(t,i.x1+u,i.y1+c,t.width*g*l,t.height*g*l)}else e.drawImage(t,i.x1,i.y1,i.width(),i.height());else{const g=t.width*l,m=t.height*l;e.drawImage(t,i.x1+u,i.y1+c,g,m)}else{if(a&&s!=="repeat"&&(t.width||t.height)){const v=t.width,_=t.height;s==="repeat-x"?(f=v*(h/_),p=h):s==="repeat-y"&&(p=_*(d/v),f=d);const y=e.dpr,x=Kb.allocate({width:f,height:p,dpr:y}),w=x.getContext("2d");w&&(w.inuse=!0,w.clearMatrix(),w.setTransformForCurrent(!0),w.clearRect(0,0,f,p),w.drawImage(t,0,0,f,p),t=x.nativeCanvas),Kb.free(x)}const g=e.dpr,m=e.createPattern(t,s);m.setTransform&&m.setTransform(new DOMMatrix([1/g,0,0,1/g,0,0])),e.fillStyle=m,e.translate(i.x1,i.y1),e.fillRect(0,0,d,h),e.translate(-i.x1,-i.y1)}}}const r_=new mz;let xh=class{constructor(n){this.subRenderContribitions=n,this.time=xa.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(n,e,t,i,r,s,a,o,l,u,c,d,h){this._subRenderContribitions||(this._subRenderContribitions=this.subRenderContribitions.getContributions()),this._subRenderContribitions.forEach(f=>{f.render(n,e,t,i,r,s,a,o,l,u,c,d,h)})}};xh=s4t([Nt(),Che(0,Vn(ia)),Che(0,Ha(xZ)),a4t("design:paramtypes",[Object])],xh);class o4t{constructor(){this.time=xa.beforeFillStroke,this.useStyle=!0,this.order=0}drawShape(e,t,i,r,s,a,o,l,u,c,d,h,f){var p,g;const{clipConfig:m}=e.attribute;if(!m)return;const v=e.getClipPath();if(!v)return;const _=!(d||h),y=e.AABBBounds,x=(p=e.attribute.width)!==null&&p!==void 0?p:y.width(),w=(g=e.attribute.height)!==null&&g!==void 0?g:y.height();_&&t.save(),t.beginPath(),v.draw(t,[x,w],i+x/2,r+w/2,0)===!1&&t.closePath(),d&&d(t,e.attribute,u,!0),_&&t.clip()}}const l4t=new o4t;class u4t{constructor(){this.time=xa.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(e,t,i,r,s,a,o,l,u,c,d,h,f){const{clipConfig:p}=e.attribute;p&&e.getClipPath()&&(d||h||t.restore())}}const c4t=new u4t;function d4t(n){return n<=.5?4*n-1:-4*n+3}function h4t(n,e,t,i,r,s,a){const{fill:o="orange",percent:l=.6,frequency:u=4,opacity:c,phi:d=0}=r;let{amplitude:h=10}=r;h*=d4t(e);const f=i*(1-l),p=t,g=Math.max(Math.round(p/70),2);n.beginPath(),n.moveTo(0+s,i+a),n.lineTo(0+s,f+a);const m=p/u*e,v=p/Math.PI/(2*u);for(let _=0;_<p;_+=g){const y=h*Math.sin((_+m+d)/v+d);n.lineTo(_+s,f+y+a)}n.lineTo(p+s,i+a),n.closePath(),n.fillStyle=o,isFinite(c)&&(n.globalAlpha=c),n.fill()}class OZ{constructor(){this.time=xa.afterFillStroke,this.useStyle=!0,this.order=10,this._tempSymbolGraphic=null}createCommonPattern(e,t,i,r,s){const a=(e-2*t)/2,o=r.dpr,l=Kb.allocate({width:e,height:e,dpr:o}),u=l.getContext("2d");if(!u)return null;u.inuse=!0,u.clearMatrix(),u.setTransformForCurrent(!0),u.clearRect(0,0,e,e),s(a,u);const c=r.createPattern(l.nativeCanvas,"repeat");return c.setTransform&&c.setTransform(new DOMMatrix([1/o,0,0,1/o,0,0])),Kb.free(l),c}createCirclePattern(e,t,i,r){return this.createCommonPattern(e,t,i,r,(s,a)=>{a.fillStyle=i,a.arc(s,s,s,0,xn),a.fill()})}createDiamondPattern(e,t,i,r){return this.createCommonPattern(e,t,i,r,(s,a)=>{const o=e/2,l=o;a.fillStyle=i,a.moveTo(o,l-s),a.lineTo(s+o,l),a.lineTo(o,l+s),a.lineTo(o-s,l),a.closePath(),a.fill()})}createRectPattern(e,t,i,r){return this.createCommonPattern(e,t,i,r,(s,a)=>{const o=t,l=o;a.fillStyle=i,a.fillRect(o,l,2*s,2*s)})}createVerticalLinePattern(e,t,i,r){return this.createCommonPattern(e,t,i,r,(s,a)=>{const o=t;a.fillStyle=i,a.fillRect(o,0,2*s,e)})}createHorizontalLinePattern(e,t,i,r){return this.createCommonPattern(e,t,i,r,(s,a)=>{const o=t;a.fillStyle=i,a.fillRect(0,o,e,2*s)})}createBiasLRLinePattern(e,t,i,r){return this.createCommonPattern(e,t,i,r,(s,a)=>{a.strokeStyle=i,a.lineWidth=s,a.moveTo(0,0),a.lineTo(e,e);const o=e/2,l=-o;a.moveTo(o,l),a.lineTo(o+e,l+e),a.moveTo(-o,-l),a.lineTo(-o+e,-l+e),a.stroke()})}createBiasRLLinePattern(e,t,i,r){return this.createCommonPattern(e,t,i,r,(s,a)=>{a.strokeStyle=i,a.lineWidth=s,a.moveTo(e,0),a.lineTo(0,e);const o=e/2,l=o;a.moveTo(e+o,l),a.lineTo(o,l+e),a.moveTo(e-o,-l),a.lineTo(-o,-l+e),a.stroke()})}createGridPattern(e,t,i,r){return this.createCommonPattern(e,t,i,r,(s,a)=>{const o=t,l=o;a.fillStyle=i,a.fillRect(o,l,s,s),a.fillRect(o+s,l+s,s,s)})}initTextureMap(e,t){this.textureMap=new Map}drawShape(e,t,i,r,s,a,o,l,u,c,d,h,f){this.textureMap||this.initTextureMap(t,e.stage);const{texture:p=u.texture,textureColor:g=u.textureColor,textureSize:m=u.textureSize,texturePadding:v=u.texturePadding}=e.attribute;p&&this.drawTexture(p,e,t,i,r,u,g,m,v)}drawTexture(e,t,i,r,s,a,o,l,u){var c;const{textureRatio:d=a.textureRatio,textureOptions:h=null}=t.attribute;let f=this.textureMap.get(e);if(!f)switch(e){case"circle":f=this.createCirclePattern(l,u,o,i);break;case"diamond":f=this.createDiamondPattern(l,u,o,i);break;case"rect":f=this.createRectPattern(l,u,o,i);break;case"vertical-line":f=this.createVerticalLinePattern(l,u,o,i);break;case"horizontal-line":f=this.createHorizontalLinePattern(l,u,o,i);break;case"bias-lr":f=this.createBiasLRLinePattern(l,u,o,i);break;case"bias-rl":f=this.createBiasRLLinePattern(l,u,o,i);break;case"grid":f=this.createGridPattern(l,u,o,i)}if(h&&h.dynamicTexture){const{gridConfig:p={},useNewCanvas:g}=h,m=t.AABBBounds;r=m.x1,s=m.y1;const v=i;let _;if(g){_=Kb.allocate({width:m.width(),height:m.height(),dpr:i.dpr});const B=_.getContext("2d");B.clearRect(0,0,m.width(),m.height()),r=0,s=0,i=B}if(v.save(),t.parent&&!t.transMatrix.onlyTranslate()){const{scrollX:B=0,scrollY:F=0}=t.parent.attribute;v.setTransformFromMatrix(t.parent.globalTransMatrix),v.translate(B,F,!0)}v.setCommonStyle(t,t.attribute,r,s,a),v.clip();const y=m.width(),x=m.height(),w=u,T=l,E=p.columns?p.columns:Math.ceil(y/T),A=p.rows?p.rows:Math.ceil(x/T),k=p.gutterColumn?p.gutterColumn:2*w,P=p.gutterRow?p.gutterRow:2*w;this._tempSymbolGraphic||(this._tempSymbolGraphic=H1({}));const I=p.columns?y/p.columns:T,D=p.rows?x/p.rows:T;this._tempSymbolGraphic.setAttributes({size:[I-k,D-P],symbolType:e});const L=this._tempSymbolGraphic.getParsedPath();for(let B=0;B<A;B++)for(let F=0;F<E;F++){const $=r+T/2+F*T,z=s+T/2+B*T;(c=h.beforeDynamicTexture)===null||c===void 0||c.call(h,i,B,F,A,E,d,t,m.width(),m.height()),i.beginPath(),L.draw(i,Math.min(I-k,D-P),$,z,0)===!1&&i.closePath(),i.fillStyle=o,h.dynamicTexture(i,B,F,A,E,d,t,m.width(),m.height())}g&&(v.globalAlpha=1,v.drawImage(_.nativeCanvas,0,0,_.nativeCanvas.width,_.nativeCanvas.height,m.x1,m.y1,m.width()*v.dpr,m.height()*v.dpr)),v.restore()}else if(f)i.highPerformanceSave(),i.setCommonStyle(t,t.attribute,r,s,a),i.fillStyle=f,i.fill(),i.highPerformanceRestore();else if(e==="wave"){i.save(),i.setCommonStyle(t,t.attribute,r,s,a),i.clip();const p=t.AABBBounds;h4t(i,d,p.width(),p.height(),Object.assign(Object.assign({},h||{}),{fill:o}),r+p.x1-r,s+p.y1-s),i.restore()}}}const V1=new OZ;class f4t{constructor(){this.time=xa.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(e,t,i,r,s,a,o,l,u,c,d,h){const{outerBorder:f,innerBorder:p}=e.attribute,g=f&&f.visible!==!1,m=p&&p.visible!==!1;if(!g&&!m)return;const{innerPadding:v=u.innerPadding,outerPadding:_=u.outerPadding,startAngle:y=u.startAngle,endAngle:x=u.endAngle,opacity:w=u.opacity,x:T=u.x,y:E=u.y,scaleX:A=u.scaleX,scaleY:k=u.scaleY,keepStrokeScale:P=u.keepStrokeScale}=e.attribute;let{innerRadius:I=u.innerRadius,outerRadius:D=u.outerRadius}=e.attribute;D+=_,I-=v;const L=(B,F)=>{const $=!(!B||!B.stroke),{distance:z=u[F].distance}=B,N=P?z:mg(t,z,t.dpr),V=z/D,H=F==="outerBorder"?1:-1;if(e.setAttributes({outerRadius:D+H*N,innerRadius:I-H*N,startAngle:y-H*V,endAngle:x+H*V}),t.beginPath(),dY(e,t,i,r,D+H*N,I-H*N),t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,u),h)h(t,B,u[F]);else if($){const K=u[F].opacity;u[F].opacity=w,t.setStrokeStyle(e,B,(T-i)/A,(E-r)/k,u[F]),u[F].opacity=K,t.stroke()}};g&&L(f,"outerBorder"),m&&L(p,"innerBorder"),e.setAttributes({outerRadius:D,innerRadius:I,startAngle:y,endAngle:x})}}const p4t=new f4t,g4t=V1,m4t=r_;class v4t{constructor(){this.time=xa.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(e,t,i,r,s,a,o,l,u,c,d,h){const{outerBorder:f,innerBorder:p}=e.attribute,g=f&&f.visible!==!1,m=p&&p.visible!==!1;if(!g&&!m)return;const{radius:v=u.radius,startAngle:_=u.startAngle,endAngle:y=u.endAngle,opacity:x=u.opacity,x:w=u.x,y:T=u.y,scaleX:E=u.scaleX,scaleY:A=u.scaleY,keepStrokeScale:k=u.keepStrokeScale}=e.attribute,P=(I,D)=>{const L=!(!I||!I.stroke),{distance:B=u[D].distance}=I,F=k?B:mg(t,B,t.dpr),$=D==="outerBorder"?1:-1;if(t.beginPath(),t.arc(i,r,v+$*F,_,y),t.closePath(),t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,u),h)h(t,I,u[D]);else if(L){const z=u[D].opacity;u[D].opacity=x,t.setStrokeStyle(e,I,(w-i)/E,(T-r)/A,u[D]),u[D].opacity=z,t.stroke()}};g&&P(f,"outerBorder"),m&&P(p,"innerBorder")}}const y4t=new v4t,_4t=V1,b4t=r_;class S4t extends mz{constructor(){super(...arguments),this.time=xa.beforeFillStroke}drawShape(e,t,i,r,s,a,o,l,u,c,d,h){const{background:f,backgroundMode:p=u.backgroundMode,backgroundFit:g=u.backgroundFit,backgroundKeepAspectRatio:m=u.backgroundKeepAspectRatio,backgroundScale:v=u.backgroundScale,backgroundOffsetX:_=u.backgroundOffsetX,backgroundOffsetY:y=u.backgroundOffsetY}=e.attribute;if(f)if(e.backgroundImg&&e.resources){const x=e.resources.get(f);if(x.state!=="success"||!x.data)return;t.highPerformanceSave(),t.setTransformFromMatrix(e.parent.globalTransMatrix,!0);const w=e.AABBBounds;this.doDrawImage(t,x.data,w,{backgroundMode:p,backgroundFit:g,backgroundKeepAspectRatio:m,backgroundScale:v,backgroundOffsetX:_,backgroundOffsetY:y}),t.highPerformanceRestore(),t.setTransformForCurrent()}else t.highPerformanceSave(),t.fillStyle=f,t.fill(),t.highPerformanceRestore()}}const The=new S4t,AD=Di/2;function X0(n,e,t,i,r,s,a=!0,o){let l;if(Array.isArray(a)&&(o=a,a=!0),i<0&&(e+=i,i=-i),r<0&&(t+=r,r=-r),st(s,!0))l=[s=qn(s),s,s,s];else if(Array.isArray(s)){const E=s;let A,k;switch(E.length){case 0:l=[0,0,0,0];break;case 1:A=qn(E[0]),l=[A,A,A,A];break;case 2:case 3:A=qn(E[0]),k=qn(E[1]),l=[A,k,A,k];break;default:l=E,l[0]=qn(l[0]),l[1]=qn(l[1]),l[2]=qn(l[2]),l[3]=qn(l[3])}}else l=[0,0,0,0];if(i<0||l[0]+l[1]+l[2]+l[3]<1e-12)return n.rect(e,t,i,r);const[u,c,d,h]=[[e,t],[e+i,t],[e+i,t+r],[e,t+r]],f=Math.min(i/2,r/2),p=[Math.min(f,l[0]),Math.min(f,l[1]),Math.min(f,l[2]),Math.min(f,l[3])],g=[u[0]+p[0],u[1]],m=[u[0],u[1]+p[0]],v=[c[0]-p[1],c[1]],_=[c[0],c[1]+p[1]],y=[d[0]-p[2],d[1]],x=[d[0],d[1]-p[2]],w=[h[0]+p[3],h[1]],T=[h[0],h[1]-p[3]];if(n.moveTo(g[0],g[1]),a){if(o&&o[0]?o[0](g[0],g[1],v[0],v[1]):n.lineTo(v[0],v[1]),!aD(v,_)){o&&o[0]&&n.moveTo(v[0],v[1]);const E=v[0],A=v[1]+p[1];n.arc(E,A,p[1],-AD,0,!1)}if(o&&o[1]?o[1](_[0],_[1],x[0],x[1]):n.lineTo(x[0],x[1]),!aD(y,x)){const E=x[0]-p[2],A=x[1];o&&o[1]&&n.moveTo(x[0],x[1]),n.arc(E,A,p[2],0,AD,!1)}if(o&&o[2]?o[2](y[0],y[1],w[0],w[1]):n.lineTo(w[0],w[1]),!aD(w,T)){const E=w[0],A=w[1]-p[3];o&&o[2]&&n.moveTo(w[0],w[1]),n.arc(E,A,p[3],AD,Di,!1)}if(o&&o[3]?o[3](T[0],T[1],m[0],m[1]):n.lineTo(m[0],m[1]),!aD(g,m)){const E=g[0],A=g[1]+p[0];o&&o[3]&&n.moveTo(m[0],m[1]),n.arc(E,A,p[0],Di,Di+AD,!1)}}else o&&o[0]?o[0](g[0],g[1],v[0],v[1]):n.lineTo(v[0],v[1]),o&&o[1]?o[1](v[0],v[1],y[0],y[1]):n.lineTo(y[0],y[1]),o&&o[2]?o[2](y[0],y[1],w[0],w[1]):n.lineTo(w[0],w[1]),o&&o[2]?o[2](w[0],w[1],g[0],g[1]):n.lineTo(g[0],g[1]);return!o&&n.closePath(),n}var KOe=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a};class XOe{constructor(){this.time=xa.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(e,t,i,r,s,a,o,l,u,c,d,h){const{outerBorder:f,innerBorder:p}=e.attribute,g=f&&f.visible!==!1,m=p&&p.visible!==!1;if(!g&&!m)return;const{cornerRadius:v=u.cornerRadius,cornerType:_=u.cornerType,opacity:y=u.opacity,x=u.x,y:w=u.y,scaleX:T=u.scaleX,scaleY:E=u.scaleY,x1:A,y1:k,keepStrokeScale:P=u.keepStrokeScale}=e.attribute;let{width:I,height:D}=e.attribute;I=(I??A-i)||0,D=(D??k-r)||0;const L=(B,F)=>{const $=!(!B||!B.stroke),z=F==="outerBorder"?-1:1,{distance:N=u[F].distance}=B,V=P?N:mg(t,N,t.dpr),H=i+z*V,K=r+z*V,U=2*V;if(v===0||Oe(v)&&v.every(X=>X===0)?(t.beginPath(),t.rect(H,K,I-z*U,D-z*U)):(t.beginPath(),X0(t,H,K,I-z*U,D-z*U,v,_!=="bevel")),t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,u),h)h(t,B,u[F]);else if($){const X=u[F].opacity;u[F].opacity=y,t.setStrokeStyle(e,B,(x-i)/T,(w-r)/E,u[F]),u[F].opacity=X,t.stroke()}};g&&L(f,"outerBorder"),m&&L(p,"innerBorder")}}let GF=class{constructor(){this.time=xa.beforeFillStroke,this.useStyle=!0,this.order=0}drawShape(n,e,t,i,r,s,a,o,l,u,c,d,h){const{stroke:f=l.stroke}=n.attribute;Array.isArray(f)&&f.some(p=>p===!1)&&(h.doStroke=!1)}};GF=KOe([Nt()],GF);let YF=class{constructor(){this.time=xa.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(n,e,t,i,r,s,a,o,l,u,c,d){const{x1:h,y1:f,x:p=l.x,y:g=l.y,stroke:m=l.stroke,cornerRadius:v=l.cornerRadius,cornerType:_=l.cornerType}=n.attribute;let{width:y,height:x}=n.attribute;if(y=(y??h-p)||0,x=(x??f-g)||0,Array.isArray(m)&&m.some(w=>w===!1)){if(e.setStrokeStyle(n,n.attribute,t,i,l),!(v===0||Oe(v)&&v.every(w=>w===0))){let w,T=0;return X0(e,t,i,y,x,v,_!=="bevel",new Array(4).fill(0).map((E,A)=>(k,P,I,D)=>{m[A]&&(T===A-1&&m[A]===w||(e.setStrokeStyle(n,Object.assign(Object.assign({},n.attribute),{stroke:m[A]}),t,i,l),e.beginPath(),e.moveTo(k,P),w=m[A]),T=A,e.lineTo(I,D),e.stroke(),A===3&&e.beginPath())})),void e.stroke()}if(e.beginPath(),e.moveTo(t,i),m[0]?e.lineTo(t+y,i):e.moveTo(t+y,i),m[1]?e.lineTo(t+y,i+x):e.moveTo(t+y,i+x),m[2]?e.lineTo(t,i+x):e.moveTo(t,i+x),m[3]){const w=m[0]?i-e.lineWidth/2:i;e.lineTo(t,w)}else e.moveTo(t,i);e.stroke()}}};YF=KOe([Nt()],YF);const x4t=new XOe,w4t=V1,C4t=r_;class T4t extends XOe{constructor(){super(...arguments),this.time=xa.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(e,t,i,r,s,a,o,l,u,c,d,h){return super.drawShape(e,t,i,r,s,a,o,l,u,c,d,h)}}const E4t=new T4t,A4t=r_;class k4t{constructor(){this.time=xa.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(e,t,i,r,s,a,o,l,u,c,d,h){const f=e.getParsedPath();if(!f)return;const{outerBorder:p,innerBorder:g}=e.attribute,m=p&&p.visible!==!1,v=g&&g.visible!==!1;if(!m&&!v)return;const{size:_=u.size,opacity:y=u.opacity,x=u.x,y:w=u.y,scaleX:T=u.scaleX,scaleY:E=u.scaleY,keepStrokeScale:A=u.keepStrokeScale}=e.attribute,k=(P,I)=>{const D=!(!P||!P.stroke),{distance:L=u[I].distance}=P,B=A?L:mg(t,L,t.dpr),F=I==="outerBorder"?1:-1;if(t.beginPath(),f.drawOffset(t,_,i,r,F*B)===!1&&t.closePath(),t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,u),h)h(t,P,u[I]);else if(D){const $=u[I].opacity;u[I].opacity=y,t.setStrokeStyle(e,P,(x-i)/T,(w-r)/E,u[I]),u[I].opacity=$,t.stroke()}};m&&k(p,"outerBorder"),v&&k(g,"innerBorder")}}class O4t{constructor(){this.time=xa.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(e,t,i,r,s,a,o,l,u,c,d,h,f){const{clipRange:p=u.clipRange,x:g=u.x,y:m=u.y,z:v=u.z,size:_=u.size,scaleX:y=u.scaleX,scaleY:x=u.scaleY}=e.attribute,w=e.getParsedPath();w&&p<1&&p>0&&(t.beginPath(),w.drawWithClipRange&&w.drawWithClipRange(t,_,i,r,p,v,(T,E)=>{var A,k,P,I;if(e._parsedPath.svgCache){const D=Object.assign({},E);D.fill=(A=E.fill)!==null&&A!==void 0?A:e.attribute.fill,D.opacity=(k=E.opacity)!==null&&k!==void 0?k:e.attribute.opacity,D.fillOpacity=e.attribute.fillOpacity,D.stroke=(P=E.stroke)!==null&&P!==void 0?P:e.attribute.stroke,D.lineWidth=(I=E.lineWidth)!==null&&I!==void 0?I:e.attribute.lineWidth,E=D}E.stroke&&(h?h(t,e.attribute,u):l&&(t.setStrokeStyle(e,E,(g-i)/y,(m-r)/x,u),t.stroke()))}),a&&!w.isSvg&&(h?h(t,e.attribute,u):l&&(t.setStrokeStyle(e,e.attribute,(g-i)/y,(m-r)/x,u),t.stroke())))}}const P4t=new k4t,M4t=new O4t,I4t=V1,R4t=r_;class D4t extends OZ{constructor(){super(...arguments),this.time=xa.afterFillStroke}drawShape(e,t,i,r,s,a,o,l,u,c,d,h,f){var p,g,m,v;this.textureMap||this.initTextureMap(t,e.stage);const{attribute:_=e.attribute}=f||{},{texture:y=(p=e.attribute.texture)!==null&&p!==void 0?p:xD(u,"texture"),textureColor:x=(g=e.attribute.textureColor)!==null&&g!==void 0?g:xD(u,"textureColor"),textureSize:w=(m=e.attribute.textureSize)!==null&&m!==void 0?m:xD(u,"textureSize"),texturePadding:T=(v=e.attribute.texturePadding)!==null&&v!==void 0?v:xD(u,"texturePadding")}=_;y&&this.drawTexture(y,e,t,i,r,u,x,w,T)}}const ca={x:0,y:0,z:0,lastModelMatrix:null};class fd{init(e){e&&(this._renderContribitions=e.getContributions()),this._renderContribitions||(this._renderContribitions=[]),this.builtinContributions||(this.builtinContributions=[]),this.builtinContributions.push(l4t),this.builtinContributions.push(c4t),this.builtinContributions.forEach(t=>this._renderContribitions.push(t)),this._renderContribitions.length&&(this._renderContribitions.sort((t,i)=>i.order-t.order),this._beforeRenderContribitions=this._renderContribitions.filter(t=>t.time===xa.beforeFillStroke),this._afterRenderContribitions=this._renderContribitions.filter(t=>t.time===xa.afterFillStroke))}reInit(){this.init(this.graphicRenderContributions)}beforeRenderStep(e,t,i,r,s,a,o,l,u,c,d,h,f){this._beforeRenderContribitions&&this._beforeRenderContribitions.forEach(p=>{p.supportedAppName&&e.stage&&e.stage.params&&e.stage.params.context&&e.stage.params.context.appName&&!(Array.isArray(p.supportedAppName)?p.supportedAppName:[p.supportedAppName]).includes(e.stage.params.context.appName)||p.drawShape(e,t,i,r,s,a,o,l,u,c,d,h,f)})}afterRenderStep(e,t,i,r,s,a,o,l,u,c,d,h,f){this._afterRenderContribitions&&this._afterRenderContribitions.forEach(p=>{p.supportedAppName&&e.stage&&e.stage.params&&e.stage.params.context&&e.stage.params.context.appName&&!(Array.isArray(p.supportedAppName)?p.supportedAppName:[p.supportedAppName]).includes(e.stage.params.context.appName)||p.drawShape(e,t,i,r,s,a,o,l,u,c,d,h,f)})}drawPathProxy(e,t,i,r,s,a,o,l){if(!e.pathProxy)return!1;const u=Bn(e,a==null?void 0:a.theme)[e.type.replace("3d","")],{fill:c=u.fill,stroke:d=u.stroke,opacity:h=u.opacity,fillOpacity:f=u.fillOpacity,lineWidth:p=u.lineWidth,strokeOpacity:g=u.strokeOpacity,visible:m=u.visible,x:v=u.x,y:_=u.y}=e.attribute,y=b0(h,f,c),x=cY(h,g),w=RC(c),T=wO(d,p);if(!m||!w&&!T||!(y||x||o||l))return!0;t.beginPath();const E=typeof e.pathProxy=="function"?e.pathProxy(e.attribute):e.pathProxy;return Nm(E.commandList,t,i,r),t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,u),this.beforeRenderStep(e,t,i,r,w,T,y,x,u,s,o,l),T&&(l?l(t,e.attribute,u):x&&(t.setStrokeStyle(e,e.attribute,i-v,r-_,u),t.stroke())),w&&(o?o(t,e.attribute,u):y&&(t.setCommonStyle(e,e.attribute,i-v,r-_,u),t.fill())),this.afterRenderStep(e,t,i,r,w,T,y,x,u,s,o,l),!0}valid(e,t,i,r){const{fill:s=t.fill,background:a,stroke:o=t.stroke,opacity:l=t.opacity,fillOpacity:u=t.fillOpacity,lineWidth:c=t.lineWidth,strokeOpacity:d=t.strokeOpacity,visible:h=t.visible}=e.attribute,f=b0(l,u,s),p=cY(l,d),g=RC(s,a),m=wO(o,c);return!(!e.valid||!h)&&!(!g&&!m)&&!!(f||p||i||r||a)&&{fVisible:f,sVisible:p,doFill:g,doStroke:m}}transform(e,t,i,r=!1){const{x:s=t.x,y:a=t.y,z:o=t.z,scaleX:l=t.scaleX,scaleY:u=t.scaleY,angle:c=t.angle,postMatrix:d}=e.attribute,h=i.modelMatrix,f=i.camera;ca.x=s,ca.y=a,ca.z=o,ca.lastModelMatrix=h;const p=f&&(r||KVt(e)),g=p?e.transMatrix.onlyTranslate()&&!d:l===1&&u===1&&c===0&&!d;if(p){const m=Ba.allocate(),v=Ba.allocate();VOe(v,e,t),bM(m,h||m,v),ca.x=0,ca.y=0,ca.z=0,i.modelMatrix=m,i.setTransform(1,0,0,1,0,0,!0),Ba.free(v)}if(g&&!h){const m=e.getOffsetXY(t);ca.x+=m.x,ca.y+=m.y,ca.z=o,i.setTransformForCurrent()}else if(p)ca.x=0,ca.y=0,ca.z=0,i.setTransform(1,0,0,1,0,0,!0);else if(f&&i.project){const m=e.getOffsetXY(t);ca.x+=m.x,ca.y+=m.y,this.transformWithoutTranslate(i,ca.x,ca.y,ca.z,l,u,c)}else i.transformFromMatrix(e.transMatrix,!0),ca.x=0,ca.y=0,ca.z=0;return ca}transformUseContext2d(e,t,i,r){const s=r.camera;if(this.camera=s,s){const a=e.AABBBounds,o=a.x2-a.x1,l=a.y2-a.y1,u=r.project(0,0,i),c=r.project(o,0,i),d=r.project(o,l,i),h={x:0,y:0},f={x:o,y:0},p={x:o,y:l};r.camera=null;const g=1/(h.x*(p.y-f.y)-f.x*p.y+p.x*f.y+(f.x-p.x)*h.y),m=-(h.y*(d.x-c.x)-f.y*d.x+p.y*c.x+(f.y-p.y)*u.x)*g,v=(f.y*d.y+h.y*(c.y-d.y)-p.y*c.y+(p.y-f.y)*u.y)*g,_=(h.x*(d.x-c.x)-f.x*d.x+p.x*c.x+(f.x-p.x)*u.x)*g,y=-(f.x*d.y+h.x*(c.y-d.y)-p.x*c.y+(p.x-f.x)*u.y)*g,x=(h.x*(p.y*c.x-f.y*d.x)+h.y*(f.x*d.x-p.x*c.x)+(p.x*f.y-f.x*p.y)*u.x)*g,w=(h.x*(p.y*c.y-f.y*d.y)+h.y*(f.x*d.y-p.x*c.y)+(p.x*f.y-f.x*p.y)*u.y)*g;r.setTransform(m,v,_,y,x,w,!0)}}restoreTransformUseContext2d(e,t,i,r){this.camera&&(r.camera=this.camera)}transformWithoutTranslate(e,t,i,r,s,a,o){const l=e.project(t,i,r);e.translate(l.x,l.y,!1),e.scale(s,a,!1),e.rotate(o,!1),e.translate(-l.x,-l.y,!1),e.setTransformForCurrent()}_draw(e,t,i,r,s,a){const{context:o}=r;if(!o)return;const{renderable:l}=e.attribute;if(l===!1)return;o.highPerformanceSave();const u=this.transform(e,t,o,i),{x:c,y:d,z:h,lastModelMatrix:f}=u;this.z=h,this.drawPathProxy(e,o,c,d,r,s)||(this.drawShape(e,o,c,d,r,s,null,null,a),this.z=0,o.modelMatrix!==f&&Ba.free(o.modelMatrix),o.modelMatrix=f),o.highPerformanceRestore()}}var L4t=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},F4t=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Ehe=function(n,e){return function(t,i){e(t,i,n)}};let KF=class extends fd{constructor(n){super(),this.graphicRenderContributions=n,this.numberType=oz,this.builtinContributions=[p4t,m4t,g4t],this.init(n)}drawArcTailCapPath(n,e,t,i,r,s,a,o){const l=o-a,u=n.getParsedAngle(),c=u.startAngle;let d=u.endAngle;d=o;const h=d>c;let f=!1;if(r<s){const $=r;r=s,s=$}const{xors:p,yors:g,xirs:m,yirs:v,limitedOcr:_,outerCornerRadiusStart:y,outerCornerRadiusEnd:x,maxOuterCornerRadius:w,xore:T,yore:E,xire:A,yire:k,limitedIcr:P,innerDeltaAngle:I,innerStartAngle:D,innerCornerRadiusStart:L,innerCornerRadiusEnd:B,maxInnerCornerRadius:F}=zOe(n,c,d,s,r);if(_>jr){const $=za(y,_),z=za(x,_),N=py(m,v,p,g,r,$,Number(h)),V=py(T,E,A,k,r,z,Number(h));if(_<w&&$===z)e.moveTo(t+N.cx+N.x01,i+N.cy+N.y01),e.arc(t+N.cx,i+N.cy,_,Vi(N.y01,N.x01),Vi(V.y01,V.x01),!h);else{const H=d-l-.03,K=Vi(V.y11,V.x11);e.arc(t,i,r,H,K,!h),z>0&&e.arc(t+V.cx,i+V.cy,z,Vi(V.y11,V.x11),Vi(V.y01,V.x01),!h)}}else e.moveTo(t+p,i+g);if(!(s>jr)||I<.001)e.lineTo(t+A,i+k),f=!0;else if(P>jr){const $=za(L,P),z=za(B,P),N=py(A,k,T,E,s,-z,Number(h)),V=py(p,g,m,v,s,-$,Number(h));if(e.lineTo(t+N.cx+N.x01,i+N.cy+N.y01),P<F&&$===z){const H=Vi(V.y01,V.x01);e.arc(t+N.cx,i+N.cy,P,Vi(N.y01,N.x01),H,!h)}else{z>0&&e.arc(t+N.cx,i+N.cy,z,Vi(N.y01,N.x01),Vi(N.y11,N.x11),!h);const H=Vi(N.cy+N.y11,N.cx+N.x11),K=d-l-.03;e.arc(t,i,s,H,K,h)}}else e.lineTo(t+s*Ma(D),i+s*Cs(D));return f}drawShape(n,e,t,i,r,s,a,o,l){l=l??Bn(n,s==null?void 0:s.theme).arc;const{fill:u=l.fill,stroke:c=l.stroke,x:d=l.x,y:h=l.y,fillStrokeOrder:f=l.fillStrokeOrder}=n.attribute,p=this.valid(n,l,a,o);if(!p)return;const{fVisible:g,sVisible:m,doFill:v,doStroke:_}=p,{outerPadding:y=l.outerPadding,innerPadding:x=l.innerPadding,cap:w=l.cap,forceShowCap:T=l.forceShowCap}=n.attribute;let{outerRadius:E=l.outerRadius,innerRadius:A=l.innerRadius}=n.attribute;E+=y,A-=x;let k=0;const P=(Va(w)&&w||w[0])&&u.gradient==="conical";if(P){const{sc:B,startAngle:F,endAngle:$}=n.getParsedAngle();qn($-F)<xn-jr&&(k=B||0,u.startAngle-=k,u.endAngle-=k)}let I=!1;const{isFullStroke:D,stroke:L}=t5t(c);if((v||D)&&(e.beginPath(),dY(n,e,t,i,E,A),I=!0,e.setShadowBlendStyle&&e.setShadowBlendStyle(n,n.attribute,l),this.beforeRenderStep(n,e,t,i,v,_,g,m,l,r,a,o),f?(this._runStroke(n,e,t,i,l,_,D,m,o),this._runFill(n,e,t,i,l,v,g,d,h,a)):(this._runFill(n,e,t,i,l,v,g,d,h,a),this._runStroke(n,e,t,i,l,_,D,m,o))),!D&&_&&(e.beginPath(),dY(n,e,t,i,E,A,L),I||this.beforeRenderStep(n,e,t,i,v,_,g,m,l,r,a,o),o?o(e,n.attribute,l):m&&(e.setStrokeStyle(n,n.attribute,t,i,l),e.stroke())),(Va(w)&&w||w[1])&&T){const{startAngle:B,endAngle:F}=n.getParsedAngle();if(qn(F-B)>=xn-jr){e.beginPath();const $=Math.abs(E-A)/2/E,{endAngle:z=l.endAngle,fill:N=l.fill}=n.attribute,V=z;this.drawArcTailCapPath(n,e,t,i,E,A,V,V+$),I||this.beforeRenderStep(n,e,t,i,v,_,g,m,l,r,a,o);const H=()=>{if(v){const U=N;if(U.gradient==="conical"){const X=RVt(0,0,z,U);a||b0&&(e.setCommonStyle(n,n.attribute,t,i,l),e.fillStyle=X,e.fill())}}},K=()=>{_&&(o||m&&(e.setStrokeStyle(n,n.attribute,t,i,l),e.stroke()))};H(),K()}}this.afterRenderStep(n,e,t,i,v,_,g,m,l,r,a,o),P&&(u.startAngle+=k,u.endAngle+=k)}_runFill(n,e,t,i,r,s,a,o,l,u){s&&(u?u(e,n.attribute,r):a&&(e.setCommonStyle(n,n.attribute,o-t,l-i,r),e.fill()))}_runStroke(n,e,t,i,r,s,a,o,l){s&&a&&(l?l(e,n.attribute,r):o&&(e.setStrokeStyle(n,n.attribute,t,i,r),e.stroke()))}draw(n,e,t,i){const r=Bn(n,i==null?void 0:i.theme).arc;this._draw(n,r,!1,t,i,r)}};KF=L4t([Nt(),Ehe(0,Vn(ia)),Ehe(0,Ha(hY)),F4t("design:paramtypes",[Object])],KF);var B4t=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},$4t=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Ahe=function(n,e){return function(t,i){e(t,i,n)}};let XF=class extends fd{constructor(n){super(),this.graphicRenderContributions=n,this.numberType=lz,this.builtinContributions=[y4t,b4t,_4t],this.init(n)}drawShape(n,e,t,i,r,s,a,o){const l=Bn(n,s==null?void 0:s.theme).circle,{radius:u=l.radius,startAngle:c=l.startAngle,endAngle:d=l.endAngle,x:h=l.x,y:f=l.y,fillStrokeOrder:p=l.fillStrokeOrder}=n.attribute,g=this.valid(n,l,a,o);if(!g)return;const{fVisible:m,sVisible:v,doFill:_,doStroke:y}=g;e.beginPath(),e.arc(t,i,u,c,d),e.closePath(),e.setShadowBlendStyle&&e.setShadowBlendStyle(n,n.attribute,l),this.beforeRenderStep(n,e,t,i,_,y,m,v,l,r,a,o);const x=()=>{_&&(a?a(e,n.attribute,l):m&&(e.setCommonStyle(n,n.attribute,h-t,f-i,l),e.fill()))},w=()=>{y&&(o?o(e,n.attribute,l):v&&(e.setStrokeStyle(n,n.attribute,h-t,f-i,l),e.stroke()))};p?(w(),x()):(x(),w()),this.afterRenderStep(n,e,t,i,_,y,m,v,l,r,a,o)}draw(n,e,t,i){const r=Bn(n,i==null?void 0:i.theme).circle;this._draw(n,r,!1,t,i)}};XF=B4t([Nt(),Ahe(0,Vn(ia)),Ahe(0,Ha(pY)),$4t("design:paramtypes",[Object])],XF);function qF(n,e,t,i){if(!e.p1)return;const{offsetX:r=0,offsetY:s=0,offsetZ:a=0}=i||{};if(t===1)e.p2&&e.p3?n.bezierCurveTo(r+e.p1.x,s+e.p1.y,r+e.p2.x,s+e.p2.y,r+e.p3.x,s+e.p3.y,a):n.lineTo(r+e.p1.x,s+e.p1.y,a);else if(e.p2&&e.p3){const[o]=DF(e,t);n.bezierCurveTo(r+o.p1.x,s+o.p1.y,r+o.p2.x,s+o.p2.y,r+o.p3.x,s+o.p3.y,a)}else{const o=e.getPointAt(t);n.lineTo(r+o.x,s+o.y,a)}}function khe(n,e,t,i,r,s,a){var o;let l=e.p0,u=i;if(t&&t.originP1===t.originP2&&(l=t.p0),e.defined)i||(n.lineTo(l.x+r,l.y+s,a),u=!i);else{const{originP1:c,originP2:d}=e;let h;if(c&&c.defined!==!1&&!t?h=l:c&&d.defined!==!1&&(h=(o=e.p3)!==null&&o!==void 0?o:e.p1),i){u=!i;const f=h?h.x:e.p0.x,p=h?h.y:e.p0.y;n.moveTo(f+r,p+s,a)}else h&&(u=!i,n.lineTo(h.x+r,h.y+s,a))}return u}function qOe(n,e,t,i,r){const{offsetX:s=0,offsetY:a=0,offsetZ:o=0,mode:l="none",drawConnect:u=!1}=r||{};if(u&&l==="none"||!e)return;let c=!0;const{curves:d}=e;if(t>=1){if(u){let v,_=!0;d.forEach((y,x)=>{y.originP1!==y.originP2&&(_=khe(n,y,v,_,s,a,o)),v=y})}else d.forEach(v=>{v.defined?(c&&n.moveTo(v.p0.x+s,v.p0.y+a,o),qF(n,v,1,r),c=!1):c=!0});return}if(t<=0)return;let h;i==="x"?h=Qi.ROW:i==="y"?h=Qi.COLUMN:i==="auto"&&(h=e.direction);const f=t*e.tryUpdateLength(h);let p=0,g=!0,m=null;for(let v=0,_=d.length;v<_;v++){const y=d[v],x=y.getLength(h),w=(f-p)/x;if(p+=x,w<0)break;if(u){if(y.originP1===y.originP2){m=y;continue}g=khe(n,y,m,g,s,a,o),m=y}else{if(!y.defined){c=!0;continue}c&&n.moveTo(y.p0.x+s,y.p0.y+a,o),qF(n,y,za(w,1),r),c=!1}}}function N4t(n,e,t,i){const{offsetX:r=0,offsetY:s=0}=i||{},a=e?e.points[e.points.length-1]:t.points[0];n.moveTo(a.x+r,a.y+s),t.points.forEach(o=>{o.defined!==!1?n.lineTo(o.x+r,o.y+s):n.moveTo(o.x+r,o.y+s)})}function j4t(n,e,t,i){const{offsetX:r=0,offsetY:s=0}=i||{},{points:a}=t,o=[];for(let l=0;l<a.length;l++)a[l].defined;o.push(a),o.forEach((l,u)=>{var c,d,h,f;const p=e&&u===0?e.points[e.points.length-1]:l[0];n.moveTo(p.x+r,p.y+s),l.forEach(g=>{g.defined!==!1?n.lineTo(g.x+r,g.y+s):n.moveTo(g.x+r,g.y+s)});for(let g=l.length-1;g>=0;g--){const m=l[g];n.lineTo((c=m.x1)!==null&&c!==void 0?c:m.x,(d=m.y1)!==null&&d!==void 0?d:m.y)}n.lineTo((h=p.x1)!==null&&h!==void 0?h:p.x,(f=p.y1)!==null&&f!==void 0?f:p.y),n.closePath()})}var z4t=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a};let IO=class extends fd{constructor(){super(...arguments),this.numberType=_M}draw(n,e,t,i){const r=Bn(n,i==null?void 0:i.theme).line;this._draw(n,r,!1,t,i)}drawSegmentItem(n,e,t,i,r,s,a,o,l,u,c,d,h,f,p){var g;if(!e)return;n.beginPath();const m=(g=this.z)!==null&&g!==void 0?g:0;qOe(n,e,l,u,{offsetX:c,offsetY:d,offsetZ:m}),h.cache&&!Oe(h.cache)&&h.cache.curves.every(y=>y.defined)&&h.attribute.curveType&&h.attribute.curveType.includes("Closed")&&n.closePath(),n.setShadowBlendStyle&&n.setShadowBlendStyle(h,a,o);const{x:v=0,x:_=0}=a;return t!==!1&&(f?f(n,a,o):r&&(n.setCommonStyle(h,a,v-c,_-d,o),n.fill())),i!==!1&&(p?p(n,a,o):s&&(n.setStrokeStyle(h,a,v-c,_-d,o),n.stroke())),!1}drawLinearLineHighPerformance(n,e,t,i,r,s,a,o,l,u,c,d,h){var f;e.beginPath();const p=(f=this.z)!==null&&f!==void 0?f:0,{points:g}=n.attribute,m=g[0];e.moveTo(m.x+a,m.y+o,p);for(let y=1;y<g.length;y++){const x=g[y];e.lineTo(x.x+a,x.y+o,p)}e.setShadowBlendStyle&&e.setShadowBlendStyle(n,n.attribute,l);const{x:v=0,x:_=0}=n.attribute;t!==!1&&(d?d(e,n.attribute,l):r&&(e.setCommonStyle(n,n.attribute,v-a,_-o,l),e.fill())),i!==!1&&(h?h(e,n.attribute,l):s&&(e.setStrokeStyle(n,n.attribute,v-a,_-o,l),e.stroke()))}drawShape(n,e,t,i,r,s,a,o){const l=Bn(n,s==null?void 0:s.theme).line,{fill:u=l.fill,stroke:c=l.stroke,fillOpacity:d=l.fillOpacity,strokeOpacity:h=l.strokeOpacity,segments:f,points:p,closePath:g,curveTension:m=l.curveTension,connectedType:v=l.connectedType}=n.attribute;if(!this.valid(n,l,a,o))return;let{curveType:_=l.curveType}=n.attribute;g&&_==="linear"&&(_="linearClosed");const{clipRange:y=l.clipRange,clipRangeByDimension:x=l.clipRangeByDimension}=n.attribute;if(y===1&&!f&&!p.some(T=>T.defined===!1)&&_==="linear")return this.drawLinearLineHighPerformance(n,e,!!u,!!c,d,h,t,i,l,r,s,a,o);function w(T,E){return E==="none"?T:T.filter(A=>A.defined!==!1)}if(n.shouldUpdateShape()){const{points:T,segments:E}=n.attribute,A=T;if(E&&E.length){let k,P;if(n.cache=E.map((I,D)=>{if(I.points.length<=1&&D===0)return I.points[0]&&(P={endX:I.points[0].x,endY:I.points[0].y,curves:[{defined:I.points[0].defined!==!1}]}),null;D===1?k={x:P.endX,y:P.endY,defined:P.curves[P.curves.length-1].defined}:D>1&&(k.x=P.endX,k.y=P.endY,k.defined=P.curves[P.curves.length-1].defined);const L=Pb(w(I.points,v),_,{startPoint:k,curveTension:m});return P=L,L}).filter(I=>!!I),_==="linearClosed"){let I;for(let D=0;D<n.cache.length;D++){const L=n.cache[D];for(let B=0;B<L.curves.length;B++)if(L.curves[B].defined){I=L.curves[B].p0;break}if(I)break}n.cache[n.cache.length-1]&&n.cache[n.cache.length-1].lineTo(I.x,I.y,!0)}}else{if(!T||!T.length)return n.cache=null,void n.clearUpdateShapeTag();n.cache=Pb(w(A,v),_,{curveTension:m})}n.clearUpdateShapeTag()}if(Array.isArray(n.cache)){const T=n.attribute.segments.filter(E=>E.points.length);if(T[0].points.length===1&&T.shift(),y===1){let E=!1;n.cache.forEach((A,k)=>{E||(E=this.drawSegmentItem(e,A,!!u,!!c,d,h,T[k],[l,n.attribute],y,x,t,i,n,a,o))})}else{const E=n.cache.reduce((I,D)=>I+D.getLength(),0),A=y*E;let k=0,P=!1;n.cache.forEach((I,D)=>{if(P)return;const L=I.getLength(),B=(A-k)/L;k+=L,B>0&&(P=this.drawSegmentItem(e,I,!!u,!!c,d,h,T[D],[l,n.attribute],za(B,1),x,t,i,n,a,o))})}}else this.drawSegmentItem(e,n.cache,!!u,!!c,d,h,n.attribute,l,y,x,t,i,n,a,o)}};IO=z4t([Nt()],IO);function H4t(n,e,t,i){var r;const{top:s,bottom:a}=e;if(s.curves.length!==a.curves.length)return;if(t>=1){const v=[],_=[];let y=!0;for(let x=0,w=s.curves.length;x<w;x++){const T=s.curves[x];y!==T.defined?(y?(kD(n,v,_,i),v.length=0,_.length=0):(v.push(T),_.push(a.curves[w-x-1])),y=!y):y&&(v.push(T),_.push(a.curves[w-x-1]))}return void kD(n,v,_,i)}if(t<=0)return;let{direction:o}=i||{};const{curves:l}=s,u=(r=l[l.length-1].p3)!==null&&r!==void 0?r:l[l.length-1].p1,c=qn(u.x-l[0].p0.x),d=qn(u.y-l[0].p0.y);o=o??(c>d?Qi.ROW:Qi.COLUMN),Number.isFinite(c)||(o=Qi.COLUMN),Number.isFinite(d)||(o=Qi.ROW);const h=t*(o===Qi.ROW?c:d);let f=0,p=!0;const g=[],m=[];for(let v=0,_=s.curves.length;v<_;v++){const y=s.curves[v],x=y.getLength(o),w=(h-f)/x;if(w<0)break;f+=x;let T=null,E=null;p!==y.defined?(p?(kD(n,g,m,i),g.length=0,m.length=0):(T=y,E=a.curves[_-v-1]),p=!p):p&&(T=y,E=a.curves[_-v-1]),T&&E&&(w<1&&(T=T.p2&&T.p3?DF(T,w)[0]:wde(T,w)[0],E=E.p2&&E.p3?DF(E,1-w)[1]:wde(E,1-w)[1]),T.defined=p,E.defined=p,g.push(T),m.push(E)),T=null,E=null}kD(n,g,m,i)}function kD(n,e,t,i){const{offsetX:r=0,offsetY:s=0,offsetZ:a=0}=i||{};let o=!0;e.forEach(l=>{l.defined?(o&&n.moveTo(l.p0.x+r,l.p0.y+s,a),qF(n,l,1,i),o=!1):o=!0}),o=!0;for(let l=t.length-1;l>=0;l--){const u=t[l];u.defined?(o&&n.lineTo(u.p0.x+r,u.p0.y+s,a),qF(n,u,1,i),o=!1):o=!0}n.closePath()}const V4t=new D4t,W4t=r_;var U4t=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},G4t=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Ohe=function(n,e){return function(t,i){e(t,i,n)}};let RO=class extends fd{constructor(n){super(),this.graphicRenderContributions=n,this.numberType=yM,this.builtinContributions=[V4t,W4t],this.init(n)}drawLinearAreaHighPerformance(n,e,t,i,r,s,a,o,l,u,c,d,h){var f,p,g;const{points:m}=n.attribute;if(m.length<2)return;e.beginPath();const v=(f=this.z)!==null&&f!==void 0?f:0,_=m[0];e.moveTo(_.x+a,_.y+o,v);for(let w=1;w<m.length;w++){const T=m[w];e.lineTo(T.x+a,T.y+o,v)}for(let w=m.length-1;w>=0;w--){const T=m[w];e.lineTo(((p=T.x1)!==null&&p!==void 0?p:T.x)+a,((g=T.y1)!==null&&g!==void 0?g:T.y)+o,v)}e.closePath(),e.setShadowBlendStyle&&e.setShadowBlendStyle(n,n.attribute,l),this.beforeRenderStep(n,e,a,o,!!r,!1,t,!1,l,u,d,null,{attribute:n.attribute});const{x:y=0,x=0}=n.attribute;t!==!1&&(d?d(e,n.attribute,l):r&&(e.setCommonStyle(n,n.attribute,y-a,x-o,l),e.fill())),this.afterRenderStep(n,e,a,o,!!r,!1,t,!1,l,u,d,null,{attribute:n.attribute}),(()=>{var w,T;if(i){const{stroke:E=l&&l.stroke}=n.attribute;if(Oe(E)&&(E[0]||E[2])&&E[1]===!1){if(e.beginPath(),E[0]){e.moveTo(_.x+a,_.y+o,v);for(let A=1;A<m.length;A++){const k=m[A];e.lineTo(k.x+a,k.y+o,v)}}else if(E[2]){const A=m[m.length-1];e.moveTo(A.x+a,A.y+o,v);for(let k=m.length-2;k>=0;k--){const P=m[k];e.lineTo(((w=P.x1)!==null&&w!==void 0?w:P.x)+a,((T=P.y1)!==null&&T!==void 0?T:P.y)+o,v)}}}h?h(e,n.attribute,l):(e.setStrokeStyle(n,n.attribute,y-a,x-o,l),e.stroke())}})()}drawShape(n,e,t,i,r,s,a,o){var l,u,c,d,h,f;const p=Bn(n,s==null?void 0:s.theme).area,{fill:g=p.fill,stroke:m=p.stroke,fillOpacity:v=p.fillOpacity,z:_=p.z,strokeOpacity:y=p.strokeOpacity,curveTension:x=p.curveTension,connectedType:w=p.connectedType}=n.attribute,T=this.valid(n,p,a,o);if(!T)return;const{doFill:E}=T,A=T.doStroke&&T.sVisible,{clipRange:k=p.clipRange,closePath:P,points:I,segments:D}=n.attribute;let{curveType:L=p.curveType}=n.attribute;function B(F,$){return $!=="connect"?F:F.filter(z=>z.defined!==!1)}if(P&&L==="linear"&&(L="linearClosed"),k===1&&!D&&!I.some(F=>F.defined===!1)&&L==="linear")return this.drawLinearAreaHighPerformance(n,e,!!g,A,v,y,t,i,p,r,s,a,o);if(n.shouldUpdateShape()){if(D&&D.length){let F,$;const z=D.map((H,K)=>{if(H.points.length<=1&&K===0)return H.points[0]&&($={endX:H.points[0].x,endY:H.points[0].y}),null;K===1?F={x:$.endX,y:$.endY}:K>1&&(F.x=$.endX,F.y=$.endY);const U=Pb(B(H.points,w),L,{startPoint:F,curveTension:x});return $=U,U}).filter(H=>!!H);let N;const V=[];for(let H=D.length-1;H>=0;H--){const K=D[H].points,U=[];for(let X=K.length-1;X>=0;X--)U.push({x:(l=K[X].x1)!==null&&l!==void 0?l:K[X].x,y:(u=K[X].y1)!==null&&u!==void 0?u:K[X].y});if(H!==0){const X=D[H-1].points,Z=X[X.length-1];Z&&U.push({x:(c=Z.x1)!==null&&c!==void 0?c:Z.x,y:(d=Z.y1)!==null&&d!==void 0?d:Z.y})}U.length>1&&(N=Pb(B(U,w),L==="stepBefore"?"stepAfter":L==="stepAfter"?"stepBefore":L,{curveTension:x}),V.unshift(N))}n.cacheArea=V.map((H,K)=>({top:z[K],bottom:H}))}else{if(!I||!I.length)return n.cacheArea=null,void n.clearUpdateShapeTag();{const F=B(I,w),$=[];for(let V=F.length-1;V>=0;V--)$.push({x:(h=F[V].x1)!==null&&h!==void 0?h:F[V].x,y:(f=F[V].y1)!==null&&f!==void 0?f:F[V].y});const z=Pb(F,L,{curveTension:x}),N=Pb($,L==="stepBefore"?"stepAfter":L==="stepAfter"?"stepBefore":L,{curveTension:x});n.cacheArea={top:z,bottom:N}}}n.clearUpdateShapeTag()}if(Array.isArray(n.cacheArea)){const F=n.attribute.segments.filter($=>$.points.length);if(F[0].points.length===1&&F.shift(),k===1){let $=!1;n.cacheArea.forEach((z,N)=>{$||($=this.drawSegmentItem(e,z,E,v,A,y,F[N],[p,n.attribute],k,t,i,_,n,r,a,o))})}else{const $=n.cacheArea.reduce((H,K)=>H+K.top.getLength(),0),z=k*$;let N=0,V=!1;n.cacheArea.forEach((H,K)=>{if(V)return;const U=H.top.getLength(),X=(z-N)/U;N+=U,X>0&&(V=this.drawSegmentItem(e,H,E,v,A,y,F[K],[p,n.attribute],za(X,1),t,i,_,n,r,a,o))})}}else this.drawSegmentItem(e,n.cacheArea,E,v,A,y,n.attribute,p,k,t,i,_,n,r,a,o)}draw(n,e,t,i){const r=Bn(n,i==null?void 0:i.theme).area;this._draw(n,r,!1,t,i)}drawSegmentItem(n,e,t,i,r,s,a,o,l,u,c,d,h,f,p,g){return this._drawSegmentItem(n,e,t,i,r,s,a,o,l,u,c,d,h,f,p,g)}_drawSegmentItem(n,e,t,i,r,s,a,o,l,u,c,d,h,f,p,g){if(!(e&&e.top&&e.bottom&&e.top.curves&&e.top.curves.length&&e.bottom.curves&&e.bottom.curves.length))return;n.beginPath();const{points:m,segments:v}=h.attribute;let _,y,x=Qi.ROW;if(v){const k=v[v.length-1];y=v[0].points[0],_=k.points[k.points.length-1]}else y=m[0],_=m[m.length-1];const w=qn(_.x-y.x),T=qn(_.y-y.y);x=_.x1==null?Qi.ROW:_.y1==null?Qi.COLUMN:Number.isFinite(w+T)?w>T?Qi.ROW:Qi.COLUMN:Qi.ROW,H4t(n,e,l,{offsetX:u,offsetY:c,offsetZ:d,direction:x}),this.beforeRenderStep(h,n,u,c,!!i,!1,t,!1,o,f,p,null,{attribute:a}),n.setShadowBlendStyle&&n.setShadowBlendStyle(h,a,o);const{x:E=0,x:A=0}=a;return t!==!1&&(p?p(n,a,o):i&&(n.setCommonStyle(h,a,E-u,A-c,o),n.fill())),this.afterRenderStep(h,n,u,c,!!i,!1,t,!1,o,f,p,null,{attribute:a}),(()=>{if(r!==!1)if(g)g(n,a,o);else{const{stroke:k=o&&o[1]&&o[1].stroke}=a;Oe(k)&&(k[0]||k[2])&&k[1]===!1&&(n.beginPath(),qOe(n,k[0]?e.top:e.bottom,l,x===Qi.ROW?"x":"y",{offsetX:u,offsetY:c,offsetZ:d})),n.setStrokeStyle(h,a,E-u,A-c,o),n.stroke()}})(),!1}};RO=U4t([Nt(),Ohe(0,Vn(ia)),Ohe(0,Ha(fY)),G4t("design:paramtypes",[Object])],RO);const Y4t=V1,K4t=r_;var X4t=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},q4t=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Phe=function(n,e){return function(t,i){e(t,i,n)}};let ZF=class extends fd{constructor(n){super(),this.graphicRenderContributions=n,this.numberType=cz,this.builtinContributions=[K4t,Y4t],this.init(n)}drawShape(n,e,t,i,r,s,a,o){var l,u,c;const d=(l=this.tempTheme)!==null&&l!==void 0?l:Bn(n,s==null?void 0:s.theme).path,{x:h=d.x,y:f=d.y,fillStrokeOrder:p=d.fillStrokeOrder}=n.attribute,g=(u=this.z)!==null&&u!==void 0?u:0,m=this.valid(n,d,a,o);if(!m)return;const{fVisible:v,sVisible:_,doFill:y,doStroke:x}=m;if(e.beginPath(),n.pathShape)Nm(n.pathShape.commandList,e,t,i,1,1,g);else{const E=(c=n.attribute.path)!==null&&c!==void 0?c:d.path;Nm(E.commandList,e,t,i,1,1,g)}e.setShadowBlendStyle&&e.setShadowBlendStyle(n,n.attribute,d),this.beforeRenderStep(n,e,t,i,y,x,v,_,d,r,a,o);const w=()=>{x&&(o?o(e,n.attribute,d):_&&(e.setStrokeStyle(n,n.attribute,h-t,f-i,d),e.stroke()))},T=()=>{y&&(a?a(e,n.attribute,d):v&&(e.setCommonStyle(n,n.attribute,h-t,f-i,d),e.fill()))};p?(w(),T()):(T(),w()),this.afterRenderStep(n,e,t,i,y,x,v,_,d,r,a,o)}draw(n,e,t,i){const r=Bn(n,i==null?void 0:i.theme).path;this.tempTheme=r,this._draw(n,r,!1,t,i),this.tempTheme=null}};ZF=X4t([Nt(),Phe(0,Vn(ia)),Phe(0,Ha(mY)),q4t("design:paramtypes",[Object])],ZF);var Z4t=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},Q4t=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Mhe=function(n,e){return function(t,i){e(t,i,n)}};let QF=class extends fd{constructor(n){super(),this.graphicRenderContributions=n,this.type="rect",this.numberType=gZ,this.builtinContributions=[x4t,C4t,w4t],this.init(n)}drawShape(n,e,t,i,r,s,a,o,l){l=l??Bn(n,s==null?void 0:s.theme).rect;const{fill:u=l.fill,background:c,stroke:d=l.stroke,cornerRadius:h=l.cornerRadius,cornerType:f=l.cornerType,opacity:p=l.opacity,fillOpacity:g=l.fillOpacity,lineWidth:m=l.lineWidth,strokeOpacity:v=l.strokeOpacity,visible:_=l.visible,x1:y,y1:x,x:w=l.x,y:T=l.y,fillStrokeOrder:E=l.fillStrokeOrder,drawStrokeWhenZeroWH:A=l.drawStrokeWhenZeroWH}=n.attribute;let{width:k,height:P}=n.attribute;k=(k??y-w)||0,P=(P??x-T)||0;const I=NOe(p,g,k,P,u),D=jOe(p,v,k,P,A),L=RC(u,c),B=wO(d,m);if(!n.valid||!_||!L&&!B||!(I||D||a||o||c))return;h===0||Oe(h)&&h.every($=>$===0)?(e.beginPath(),e.rect(t,i,k,P)):(e.beginPath(),X0(e,t,i,k,P,h,f!=="bevel"));const F={doFill:L,doStroke:B};e.setShadowBlendStyle&&e.setShadowBlendStyle(n,n.attribute,l),this.beforeRenderStep(n,e,t,i,L,B,I,D,l,r,a,o,F),E?(this._runStroke(n,e,t,i,l,F,D,w,T,o),this._runFill(n,e,t,i,l,F,I,w,T,a)):(this._runFill(n,e,t,i,l,F,I,w,T,a),this._runStroke(n,e,t,i,l,F,D,w,T,o)),this.afterRenderStep(n,e,t,i,L,B,I,D,l,r,a,o)}_runFill(n,e,t,i,r,s,a,o,l,u){s.doFill&&(u?u(e,n.attribute,r):a&&(e.setCommonStyle(n,n.attribute,o-t,l-i,r),e.fill()))}_runStroke(n,e,t,i,r,s,a,o,l,u){s.doStroke&&(u?u(e,n.attribute,r):a&&(e.setStrokeStyle(n,n.attribute,o-t,l-i,r),e.stroke()))}draw(n,e,t,i){const r=Bn(n,i==null?void 0:i.theme).rect;this._draw(n,r,!1,t,i,r)}};QF=Z4t([Nt(),Mhe(0,Vn(ia)),Mhe(0,Ha(HE)),Q4t("design:paramtypes",[Object])],QF);var J4t=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},eWt=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Ihe=function(n,e){return function(t,i){e(t,i,n)}};let JF=class extends fd{constructor(n){super(),this.graphicRenderContributions=n,this.numberType=hz,this.builtinContributions=[P4t,R4t,I4t,M4t],this.init(n)}drawShape(n,e,t,i,r,s,a,o,l){var u;l=l??Bn(n,s==null?void 0:s.theme).symbol;const{size:c=l.size,x:d=l.x,y:h=l.y,scaleX:f=l.scaleX,scaleY:p=l.scaleY,fillStrokeOrder:g=l.fillStrokeOrder,clipRange:m=l.clipRange}=n.attribute,v=this.valid(n,l,a,o);if(!v)return;const{fVisible:_,sVisible:y,doFill:x,doStroke:w}=v,T=n.getParsedPath();if(!T)return;const{keepDirIn3d:E=l.keepDirIn3d}=n.attribute,A=(u=this.z)!==null&&u!==void 0?u:0;e.beginPath();let k=t,P=i,I=A;const D=e.camera;if(E&&D&&e.project){const L=e.project(t,i,A);e.camera=null,Oe(c)?(c[0]*f,c[1]*p):c*f,k=L.x,P=L.y,I=void 0}T.draw(e,c,k,P,I,(L,B)=>{var F,$,z,N;if(n._parsedPath.svgCache){const K=Object.assign({},B);K.fill=(F=B.fill)!==null&&F!==void 0?F:n.attribute.fill,K.opacity=($=B.opacity)!==null&&$!==void 0?$:n.attribute.opacity,K.fillOpacity=n.attribute.fillOpacity,K.stroke=(z=B.stroke)!==null&&z!==void 0?z:n.attribute.stroke,K.lineWidth=(N=B.lineWidth)!==null&&N!==void 0?N:n.attribute.lineWidth,B=K}const V=()=>{B.fill&&(a?a(e,n.attribute,l):(e.setCommonStyle(n,B,d-t,h-i,l),e.fill()))},H=()=>{B.stroke&&(o?o(e,n.attribute,l):y&&m>=1&&(e.setStrokeStyle(n,B,(d-t)/f,(h-i)/p,l),e.stroke()))};g?(H(),V()):(V(),H())})===!1&&e.closePath(),e.camera=D,e.setShadowBlendStyle&&e.setShadowBlendStyle(n,n.attribute,l),this.beforeRenderStep(n,e,t,i,x,w,_,y,l,r,a,o),g?(this._runStroke(n,e,t,i,l,w,y,d,h,T,m,f,p,o),this._runFill(n,e,t,i,l,x,_,d,h,T,a)):(this._runFill(n,e,t,i,l,x,_,d,h,T,a),this._runStroke(n,e,t,i,l,w,y,d,h,T,m,f,p,o)),this.afterRenderStep(n,e,t,i,x,w,_,y,l,r,a,o)}_runFill(n,e,t,i,r,s,a,o,l,u,c){s&&!u.isSvg&&(c?c(e,n.attribute,r):a&&(e.setCommonStyle(n,n.attribute,o-t,l-i,r),e.fill()))}_runStroke(n,e,t,i,r,s,a,o,l,u,c,d,h,f){s&&!u.isSvg&&(f?f(e,n.attribute,r):a&&c>=1&&(e.setStrokeStyle(n,n.attribute,(o-t)/d,(l-i)/h,r),e.stroke()))}draw(n,e,t,i){const r=Bn(n,i==null?void 0:i.theme).symbol;this._draw(n,r,!1,t,i)}};JF=J4t([Nt(),Ihe(0,Vn(ia)),Ihe(0,Ha(yY)),eWt("design:paramtypes",[Object])],JF);class tWt{constructor(){this.pools=[];for(let e=0;e<10;e++)this.pools.push(new ms)}allocate(e,t,i,r){if(!this.pools.length)return new ms().setValue(e,t,i,r);const s=this.pools.pop();return s.x1=e,s.y1=t,s.x2=i,s.y2=r,s}allocateByObj(e){if(!this.pools.length)return new ms(e);const t=this.pools.pop();return t.x1=e.x1,t.y1=e.y1,t.x2=e.x2,t.y2=e.y2,t}free(e){this.pools.push(e)}get length(){return this.pools.length}release(...e){this.pools=[]}}const eB=new tWt;class nWt extends mz{constructor(){super(...arguments),this.time=xa.beforeFillStroke}drawShape(e,t,i,r,s,a,o,l,u,c,d,h){var f,p,g,m,v,_,y,x,w,T;const{backgroundMode:E=u.backgroundMode,backgroundFit:A=u.backgroundFit,backgroundKeepAspectRatio:k=u.backgroundKeepAspectRatio}=e.attribute;let P,{background:I}=e.attribute;if(!I)return;const D=()=>{e.type==="richtext"&&(t.restore(),t.save(),P&&t.setTransformFromMatrix(P,!0,1))};let L;e.type==="richtext"&&(P=t.currentMatrix.clone(),t.restore(),t.save(),t.setTransformForCurrent());const B=pn(I)&&I.background,F=e.transMatrix.onlyTranslate();if(B){const $=e.AABBBounds,z=((f=I.x)!==null&&f!==void 0?f:$.x1)+((p=I.dx)!==null&&p!==void 0?p:0),N=((g=I.y)!==null&&g!==void 0?g:$.y1)+((m=I.dy)!==null&&m!==void 0?m:0),V=(v=I.width)!==null&&v!==void 0?v:$.width(),H=(_=I.height)!==null&&_!==void 0?_:$.height();if(L=eB.allocate(z,N,z+V,N+H),I=I.background,!F){const K=L.width(),U=L.height();L.set(((y=I.x)!==null&&y!==void 0?y:0)+((x=I.dx)!==null&&x!==void 0?x:0),((w=I.y)!==null&&w!==void 0?w:0)+((T=I.dy)!==null&&T!==void 0?T:0),K,U)}}else L=e.AABBBounds,F||(L=gz(Object.assign(Object.assign({},e.attribute),{angle:0,scaleX:1,scaleY:1,x:0,y:0,dx:0,dy:0})).clone());if(e.backgroundImg&&e.resources){const $=e.resources.get(I);if($.state!=="success"||!$.data)return void D();t.highPerformanceSave(),F&&t.setTransformFromMatrix(e.parent.globalTransMatrix,!0),t.setCommonStyle(e,e.attribute,i,r,u),this.doDrawImage(t,$.data,L,{backgroundMode:E,backgroundFit:A,backgroundKeepAspectRatio:k}),t.highPerformanceRestore(),t.setTransformForCurrent()}else{const{backgroundCornerRadius:$}=e.attribute;t.highPerformanceSave(),t.setCommonStyle(e,e.attribute,i,r,u),t.fillStyle=I,$?(X0(t,L.x1,L.y1,L.width(),L.height(),$,!0),t.fill()):t.fillRect(L.x1,L.y1,L.width(),L.height()),t.highPerformanceRestore()}B&&eB.free(L),D()}}const ZOe=new nWt;var iWt=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},rWt=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Rhe=function(n,e){return function(t,i){e(t,i,n)}};let TY=class extends fd{constructor(n){super(),this.graphicRenderContributions=n,this.numberType=fz,this.builtinContributions=[ZOe],this.init(n)}drawShape(n,e,t,i,r,s,a,o){var l,u,c;const d=Bn(n,s==null?void 0:s.theme).text,{text:h,underline:f=d.underline,lineThrough:p=d.lineThrough,keepDirIn3d:g=d.keepDirIn3d,direction:m=d.direction,fontSize:v=d.fontSize,verticalMode:_=d.verticalMode,x:y=d.x,y:x=d.y}=n.attribute,w=(l=sz(n.attribute.lineHeight,v))!==null&&l!==void 0?l:v,T=this.valid(n,d,a,o);if(!T)return;const{fVisible:E,sVisible:A,doFill:k,doStroke:P}=T,I=!g,D=this.z||0;e.beginPath(),e.setShadowBlendStyle&&e.setShadowBlendStyle(n,n.attribute,d),this.beforeRenderStep(n,e,t,i,k,P,E,A,d,r,a,o),I&&this.transformUseContext2d(n,d,D,e);const L=(B,F,$,z)=>{let N=t+F;const V=i+$;if(z){e.highPerformanceSave(),N+=v;const H=Uo.allocate(1,0,0,1,0,0);H.rotateByCenter(Math.PI/2,N,V),e.transformFromMatrix(H,!0),Uo.free(H)}P&&(o?o(e,n.attribute,d):A&&(e.setStrokeStyle(n,n.attribute,y-t,x-i,d),e.strokeText(B,N,V,D))),k&&(a?a(e,n.attribute,d):E&&(e.setCommonStyle(n,n.attribute,y-t,x-i,d),e.fillText(B,N,V,D))),z&&(e.highPerformanceRestore(),e.setTransformForCurrent())};if(e.setTextStyleWithoutAlignBaseline(n.attribute,d,D),m==="horizontal"){const{multilineLayout:B}=n;if(!B)return void e.highPerformanceRestore();const{xOffset:F,yOffset:$}=B.bbox;P&&(o?o(e,n.attribute,d):A&&(e.setStrokeStyle(n,n.attribute,y-t,x-i,d),B.lines.forEach(z=>{e.strokeText(z.str,(z.leftOffset||0)+F+t,(z.topOffset||0)+$+i,D)}))),k&&(a?a(e,n.attribute,d):E&&(e.setCommonStyle(n,n.attribute,y-t,x-i,d),B.lines.forEach(z=>{e.fillText(z.str,(z.leftOffset||0)+F+t,(z.topOffset||0)+$+i,D),this.drawUnderLine(f,p,n,(z.leftOffset||0)+F+t,(z.topOffset||0)+$+i,z.descent,(z.descent-z.ascent)/2,D,d,e,{width:z.width})})))}else{let{textAlign:B=d.textAlign,textBaseline:F=d.textBaseline}=n.attribute;if(!_){const U=B;B=(u=n.getBaselineMapAlign()[F])!==null&&u!==void 0?u:"left",F=(c=n.getAlignMapBaseline()[U])!==null&&c!==void 0?c:"top"}n.tryUpdateAABBBounds();const $=n.cache,{verticalList:z}=$;e.textAlign="left",e.textBaseline="top";const N=w*z.length;let V=0;z.forEach(U=>{const X=U.reduce((Z,Q)=>Z+(Q.width||0),0);V=dl(X,V)});let H=0,K=0;F==="bottom"?K=-N:F==="middle"&&(K=-N/2),B==="center"?H-=V/2:B==="right"&&(H-=V),z.forEach((U,X)=>{const Z=U.reduce((ae,ue)=>ae+(ue.width||0),0),Q=V-Z;let se=H;B==="center"?se+=Q/2:B==="right"&&(se+=Q),U.forEach(ae=>{const{text:ue,width:oe,direction:re}=ae;L(ue,N-(X+1)*w+K,se,re),se+=oe})})}I&&this.restoreTransformUseContext2d(n,d,D,e),this.afterRenderStep(n,e,t,i,k,P,E,A,d,r,a,o)}draw(n,e,t,i){const r=Bn(n,i==null?void 0:i.theme).text,{keepDirIn3d:s=r.keepDirIn3d}=n.attribute,a=!s;this._draw(n,r,a,t,i)}drawUnderLine(n,e,t,i,r,s,a,o,l,u,c){if(e+n<=0)return;const{textAlign:d=l.textAlign,fill:h=l.fill,opacity:f=l.opacity,underlineOffset:p=l.underlineOffset,underlineDash:g=l.underlineDash,fillOpacity:m=l.fillOpacity}=t.attribute,v=!J(c),_=v?c.width:t.clipedWidth,y=v?0:CO(d,_),x={lineWidth:0,stroke:h,opacity:f,strokeOpacity:m};if(n){x.lineWidth=n,u.setStrokeStyle(t,x,i,r,l),g&&u.setLineDash(g),u.beginPath();const w=r+s+p;u.moveTo(i+y,w,o),u.lineTo(i+y+_,w,o),u.stroke()}if(e){x.lineWidth=e,u.setStrokeStyle(t,x,i,r,l),u.beginPath();const w=r+a;u.moveTo(i+y,w,o),u.lineTo(i+y+_,w,o),u.stroke()}}};TY=iWt([Nt(),Rhe(0,Vn(ia)),Rhe(0,Ha(_Y)),rWt("design:paramtypes",[Object])],TY);function QOe(n,e,t,i){if(e&&e.length){n.moveTo(e[0].x+t,e[0].y+i);for(let r=1;r<e.length;r++)n.lineTo(e[r].x+t,e[r].y+i)}}function sWt(n,e,t,i,r,s=!0){var a;if(e.length<3)return void QOe(n,e,t,i);let o=0,l=e.length-1;s||(o+=1,l-=1,n.moveTo(e[0].x+t,e[0].y+i));for(let u=o;u<=l;u++){const c=e[u===0?l:(u-1)%e.length],d=e[u%e.length],h=e[(u+1)%e.length],f=d.x-c.x,p=d.y-c.y,g=d.x-h.x,m=d.y-h.y,v=(Math.atan2(p,f)-Math.atan2(m,g))/2,_=Math.abs(Math.tan(v));let y=Array.isArray(r)?(a=r[u%e.length])!==null&&a!==void 0?a:0:r,x=y/_;const w=OD(f,p),T=OD(g,m),E=Math.min(w,T);x>E&&(x=E,y=E*_);const A=q4(d,x,w,f,p),k=q4(d,x,T,g,m),P=2*d.x-A.x-k.x,I=2*d.y-A.y-k.y,D=OD(P,I),L=q4(d,OD(x,y),D,P,I);let B=Math.atan2(A.y-L.y,A.x-L.x);const F=Math.atan2(k.y-L.y,k.x-L.x);let $=F-B;$<0&&(B=F,$=-$),$>Math.PI&&($-=Math.PI),u===0?n.moveTo(A.x+t,A.y+i):n.lineTo(A.x+t,A.y+i),$&&n.arcTo(d.x+t,d.y+i,k.x+t,k.y+i,y),n.lineTo(k.x+t,k.y+i)}s||n.lineTo(e[l+1].x+t,e[l+1].y+i)}function OD(n,e){return Math.sqrt(n*n+e*e)}function q4(n,e,t,i,r){const s=e/t;return{x:n.x-i*s,y:n.y-r*s}}const aWt=V1,oWt=r_;var lWt=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},uWt=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Dhe=function(n,e){return function(t,i){e(t,i,n)}};let EY=class extends fd{constructor(n){super(),this.graphicRenderContributions=n,this.numberType=dz,this.builtinContributions=[oWt,aWt],this.init(n)}drawShape(n,e,t,i,r,s,a,o){const l=Bn(n,s==null?void 0:s.theme).polygon,{points:u=l.points,cornerRadius:c=l.cornerRadius,x:d=l.x,y:h=l.y,closePath:f=l.closePath,fillStrokeOrder:p=l.fillStrokeOrder}=n.attribute,g=this.valid(n,l,a,o);if(!g)return;const{fVisible:m,sVisible:v,doFill:_,doStroke:y}=g;e.beginPath(),c<=0||Oe(c)&&c.every(T=>T===0)?QOe(e.camera?e:e.nativeContext,u,t,i):sWt(e.camera?e:e.nativeContext,u,t,i,c,f),f&&e.closePath(),e.setShadowBlendStyle&&e.setShadowBlendStyle(n,n.attribute,l),this.beforeRenderStep(n,e,t,i,_,y,m,v,l,r,a,o);const x=()=>{_&&(a?a(e,n.attribute,l):m&&(e.setCommonStyle(n,n.attribute,d-t,h-i,l),e.fill()))},w=()=>{y&&(o?o(e,n.attribute,l):v&&(e.setStrokeStyle(n,n.attribute,d-t,h-i,l),e.stroke()))};p?(w(),x()):(x(),w()),this.afterRenderStep(n,e,t,i,_,y,m,v,l,r,a,o)}draw(n,e,t,i){const r=Bn(n,i==null?void 0:i.theme).polygon;this._draw(n,r,!1,t,i)}};EY=lWt([Nt(),Dhe(0,Vn(ia)),Dhe(0,Ha(vY)),uWt("design:paramtypes",[Object])],EY);var cWt=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},dWt=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Lhe=function(n,e){return function(t,i){e(t,i,n)}};let AY=class{constructor(n){this.groupRenderContribitions=n,this.numberType=pZ}reInit(){this._groupRenderContribitions=this.groupRenderContribitions.getContributions()||[],this._groupRenderContribitions.push(The)}drawShape(n,e,t,i,r,s,a,o,l){const{clip:u,fill:c,stroke:d,background:h}=n.attribute;if(!(u||c||d||h))return;l=l??Bn(n,s==null?void 0:s.theme).group;const{opacity:f=l.opacity,width:p=l.width,height:g=l.height,fillOpacity:m=l.fillOpacity,strokeOpacity:v=l.strokeOpacity,cornerRadius:_=l.cornerRadius,path:y=l.path,lineWidth:x=l.lineWidth,visible:w=l.visible,fillStrokeOrder:T=l.fillStrokeOrder,cornerType:E=l.cornerType,x:A=l.x,y:k=l.y}=n.attribute,P=NOe(f,m,p,g,c),I=jOe(f,v,p,g),D=RC(c,h),L=wO(d,x);if(!n.valid||!w||!u&&(!D&&!L||!(P||I||a||o||h)))return;if(y&&y.length&&r.drawContribution){const z=e.disableFill,N=e.disableStroke,V=e.disableBeginPath;e.disableFill=!0,e.disableStroke=!0,e.disableBeginPath=!0,y.forEach(H=>{r.drawContribution.getRenderContribution(H).draw(H,r.renderService,r,s)}),e.disableFill=z,e.disableStroke=N,e.disableBeginPath=V}else _===0||Oe(_)&&_.every(z=>z===0)?(e.beginPath(),e.rect(t,i,p,g)):(e.beginPath(),X0(e,t,i,p,g,_,E!=="bevel"));this._groupRenderContribitions||(this._groupRenderContribitions=this.groupRenderContribitions.getContributions()||[],this._groupRenderContribitions.push(The));const B={doFill:D,doStroke:L};e.setShadowBlendStyle&&e.setShadowBlendStyle(n,n.attribute,l),this._groupRenderContribitions.forEach(z=>{z.time===xa.beforeFillStroke&&z.drawShape(n,e,t,i,D,L,P,I,l,r,a,o,B)}),u&&e.clip();const F=()=>{B.doFill&&(a?a(e,n.attribute,l):P&&(e.setCommonStyle(n,n.attribute,A-t,k-i,l),e.fill()))},$=()=>{B.doStroke&&(o?o(e,n.attribute,l):I&&(e.setStrokeStyle(n,n.attribute,A-t,k-i,l),e.stroke()))};T?($(),F()):(F(),$()),this._groupRenderContribitions.forEach(z=>{z.time===xa.afterFillStroke&&z.drawShape(n,e,t,i,D,L,P,I,l,r,a,o)})}draw(n,e,t,i){var r,s;const{context:a}=t;if(!a)return;const{clip:o,baseOpacity:l=1,drawMode:u}=n.attribute,c=a.nativeContext,d=a.canvas.nativeCanvas;if(u>0){const{x:v,y:_,width:y,height:x}=n.attribute,w=a.canvas,T=lt.global.createCanvas({width:w.width,height:w.height,dpr:1}),E=T.getContext("2d"),A=a.nativeContext.getTransform();E.setTransform(A.a,A.b,A.c,A.d,A.e,A.f),u===1&&(E.save(),E.clearRect(0,0,w.width,w.height),E.beginPath(),E.rect(v,_,y,x),E.clip(),E.drawImage(w.nativeCanvas,0,0,w.width,w.height,0,0,w.displayWidth,w.displayHeight),E.restore()),a.nativeContext=E,w.nativeCanvas=T}o?a.save():a.highPerformanceSave();const h=a.baseGlobalAlpha;a.baseGlobalAlpha*=l;const f=a.modelMatrix;if(a.camera){const v=Bn(n,i==null?void 0:i.theme).group,_=Ba.allocate(),y=Ba.allocate();VOe(y,n,v),bM(_,f||_,y),a.modelMatrix=_,Ba.free(y),a.setTransform(1,0,0,1,0,0,!0)}else a.transformFromMatrix(n.transMatrix,!0);a.beginPath(),i.skipDraw?this.drawShape(n,a,0,0,t,i,()=>!1,()=>!1):this.drawShape(n,a,0,0,t,null,null,null);const{scrollX:p,scrollY:g}=n.attribute;let m;if((p||g)&&a.translate(p,g),i&&i.renderInGroup&&(m=i.renderInGroup((r=i.renderInGroupParams)===null||r===void 0?void 0:r.skipSort,n,t,(s=i.renderInGroupParams)===null||s===void 0?void 0:s.nextM)),a.modelMatrix!==f&&Ba.free(a.modelMatrix),a.modelMatrix=f,a.baseGlobalAlpha=h,u>0){const{x:v,y:_,width:y,height:x}=n.attribute,w=a.nativeContext,T=a.canvas.nativeCanvas;c.save(),c.setTransform(a.dpr,0,0,a.dpr,0,0,!0),u===1&&w.rect(v,_,y,x),c.drawImage(T,0,0,T.width,T.height,0,0,a.canvas.displayWidth,a.canvas.displayHeight);const E=w.getTransform();c.setTransform(E.a,E.b,E.c,E.d,E.e,E.f),a.nativeContext=c,a.canvas.nativeCanvas=d,c.restore()}m&&m.then?m.then(()=>{o?a.restore():a.highPerformanceRestore()}):o?a.restore():a.highPerformanceRestore()}};AY=cWt([Nt(),Lhe(0,Vn(ia)),Lhe(0,Ha(HOe)),dWt("design:paramtypes",[Object])],AY);var hWt=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},fWt=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Fhe=function(n,e){return function(t,i){e(t,i,n)}};const pWt=["","repeat-x","repeat-y","repeat"];let kY=class extends fd{constructor(n){super(),this.graphicRenderContributions=n,this.numberType=uz,this.builtinContributions=[E4t,A4t],this.init(n)}drawShape(n,e,t,i,r,s,a,o){const l=Bn(n).image,{repeatX:u=l.repeatX,repeatY:c=l.repeatY,x:d=l.x,y:h=l.y,cornerRadius:f=l.cornerRadius,fillStrokeOrder:p=l.fillStrokeOrder,cornerType:g=l.cornerType,image:m}=n.attribute,v=this.valid(n,l,a);if(!v)return;const{fVisible:_,sVisible:y,doFill:x,doStroke:w}=v;if(!m||!n.resources)return;const T=n.resources.get(m);if(T.state!=="success")return;const E=n.width,A=n.height;e.beginPath();let k=!1;f===0||Oe(f)&&f.every(D=>D===0)?e.rect(t,i,E,A):(X0(e,t,i,E,A,f,g!=="bevel"),k=!0),e.setShadowBlendStyle&&e.setShadowBlendStyle(n,n.attribute,l);const P=()=>{if(x){if(a)a(e,n.attribute,l);else if(_){e.setCommonStyle(n,n.attribute,t,i,l);let D=0;if(u==="repeat"&&(D|=1),c==="repeat"&&(D|=2),D){const L=e.createPattern(T.data,pWt[D]);e.fillStyle=L,e.translate(t,i,!0),e.fillRect(0,0,E,A),e.translate(-t,-i,!0)}else e.drawImage(T.data,t,i,E,A)}}},I=()=>{w&&(o?o(e,n.attribute,l):y&&(e.setStrokeStyle(n,n.attribute,d-t,h-i,l),e.stroke()))};p?(I(),k&&(e.save(),e.clip()),this.beforeRenderStep(n,e,t,i,x,!1,_,!1,l,r,a),P(),k&&e.restore()):(k&&(e.save(),e.clip()),this.beforeRenderStep(n,e,t,i,x,!1,_,!1,l,r,a),P(),k&&e.restore(),I()),this.afterRenderStep(n,e,t,i,x,!1,_,!1,l,r,a)}draw(n,e,t){const{image:i}=n.attribute;if(!i||!n.resources)return;const r=n.resources.get(i);if(r.state==="loading"&&Jt(i))return void Tr.improveImageLoading(i);if(r.state!=="success")return;const{context:s}=e.drawParams;if(!s)return;const a=Bn(n).image;this._draw(n,a,!1,t)}};kY=hWt([Nt(),Fhe(0,Vn(ia)),Fhe(0,Ha(gY)),fWt("design:paramtypes",[Object])],kY);const JOe=Symbol.for("IncrementalDrawContribution"),tB=Symbol.for("ArcRender"),nB=Symbol.for("AreaRender"),iB=Symbol.for("CircleRender"),ql=Symbol.for("GraphicRender"),Bhe=Symbol.for("GroupRender"),rB=Symbol.for("LineRender"),sB=Symbol.for("PathRender"),aB=Symbol.for("PolygonRender"),oB=Symbol.for("RectRender"),lB=Symbol.for("SymbolRender"),OY=Symbol.for("TextRender"),PY=Symbol.for("RichTextRender"),uB=Symbol.for("GlyphRender"),MY=Symbol.for("ImageRender"),PZ=Symbol.for("DrawContribution"),ePe=(n,e,t,i)=>{let r,s=!1,a=!1;if(e.forEachChildren(o=>(s=o.numberType===yVt,!s)),e.forEachChildren(o=>(a=!!o.findFace,!a)),s){const o=e.getChildren(),l=[...o];l.sort((u,c)=>{var d,h,f,p;let g=((h=(d=u.attribute.startAngle)!==null&&d!==void 0?d:0+u.attribute.endAngle)!==null&&h!==void 0?h:0)/2,m=((p=(f=c.attribute.startAngle)!==null&&f!==void 0?f:0+c.attribute.endAngle)!==null&&p!==void 0?p:0)/2;for(;g<0;)g+=xn;for(;m<0;)m+=xn;return m-g}),l.forEach(u=>{u._next=null,u._prev=null}),e.removeAllChild(),e.update(),l.forEach(u=>{e.appendChild(u)}),i.hack_pieFace="outside",r=t(s,a),r&&r.graphic||(i.hack_pieFace="inside",r=t(s,a)),r&&r.graphic||(i.hack_pieFace="top",r=t(s,a)),e.removeAllChild(),o.forEach(u=>{u._next=null,u._prev=null}),o.forEach(u=>{e.appendChild(u)})}else if(a){const o=e.getChildren(),l=o.map(u=>({ave_z:u.findFace().vertices.map(c=>{var d;return n.view(c[0],c[1],(d=c[2]+u.attribute.z)!==null&&d!==void 0?d:0)[2]}).reduce((c,d)=>c+d,0),g:u}));l.sort((u,c)=>c.ave_z-u.ave_z),e.removeAllChild(),l.forEach(u=>{u.g._next=null,u.g._prev=null}),e.update(),l.forEach(u=>{e.add(u.g)}),r=t(s,a),e.removeAllChild(),o.forEach(u=>{u._next=null,u._prev=null}),e.update(),o.forEach(u=>{e.add(u)})}else r=t(s,a);return r};var gWt=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},mWt=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)};const cB=Symbol.for("DrawItemInterceptor"),$he=new ms,Nhe=new ms;class vWt{constructor(){this.order=1}afterDrawItem(e,t,i,r,s){return e.attribute.shadowRootIdx==null&&e.shadowRoot&&e.shadowRoot.attribute.shadowRootIdx<0||(e.attribute.shadowRootIdx>0||!e.attribute.shadowRootIdx||e.shadowRoot&&e.shadowRoot.attribute.shadowRootIdx>0)&&this.drawItem(e,t,i,r,s),!1}beforeDrawItem(e,t,i,r,s){return e.attribute.shadowRootIdx==null&&e.shadowRoot&&e.shadowRoot.attribute.shadowRootIdx>0||(e.attribute.shadowRootIdx<0||e.shadowRoot&&e.shadowRoot.attribute.shadowRootIdx<0)&&this.drawItem(e,t,i,r,s),!1}drawItem(e,t,i,r,s){if(!e.shadowRoot)return!1;const{context:a}=i;if(a.highPerformanceSave(),a.transformFromMatrix(e.transMatrix,!0),r.dirtyBounds&&r.backupDirtyBounds){$he.copy(r.dirtyBounds),Nhe.copy(r.backupDirtyBounds);const o=e.globalTransMatrix.getInverse();r.dirtyBounds.copy(r.backupDirtyBounds).transformWithMatrix(o),r.backupDirtyBounds.copy(r.dirtyBounds)}return r.renderGroup(e.shadowRoot,i,Uo.allocate(1,0,0,1,0,0)),a.highPerformanceRestore(),r.dirtyBounds&&r.backupDirtyBounds&&(r.dirtyBounds.copy($he),r.backupDirtyBounds.copy(Nhe)),!0}}class yWt{constructor(){this.order=1}afterDrawItem(e,t,i,r,s){return e.attribute._debug_bounds&&this.drawItem(e,t,i,r,s),!1}drawItem(e,t,i,r,s){if(!e.attribute._debug_bounds)return!1;const{context:a}=i;a.highPerformanceSave(),e.parent&&a.setTransformFromMatrix(e.parent.globalTransMatrix,!0),e.glyphHost&&e.glyphHost.parent&&a.setTransformFromMatrix(e.glyphHost.parent.globalTransMatrix,!0);const o=e.AABBBounds;return e.attribute._debug_bounds!==!0&&e.attribute._debug_bounds(a,e),a.strokeRect(o.x1,o.y1,o.width(),o.height()),a.highPerformanceRestore(),!0}}let dB=class{constructor(){this.order=1,this.interceptors=[new vWt,new bWt,new _Wt,new yWt]}afterDrawItem(n,e,t,i,r){if((!n.in3dMode||t.in3dInterceptor)&&!n.shadowRoot&&!n.attribute._debug_bounds&&!(n.baseGraphic||n.attribute.globalZIndex||n.interactiveGraphic))return!1;for(let s=0;s<this.interceptors.length;s++)if(this.interceptors[s].afterDrawItem&&this.interceptors[s].afterDrawItem(n,e,t,i,r))return!0;return!1}beforeDrawItem(n,e,t,i,r){if((!n.in3dMode||t.in3dInterceptor)&&!n.shadowRoot&&!n.attribute._debug_bounds&&!(n.baseGraphic||n.attribute.globalZIndex||n.interactiveGraphic))return!1;for(let s=0;s<this.interceptors.length;s++)if(this.interceptors[s].beforeDrawItem&&this.interceptors[s].beforeDrawItem(n,e,t,i,r))return!0;return!1}};dB=gWt([Nt(),mWt("design:paramtypes",[])],dB);class _Wt{constructor(){this.order=1}beforeDrawItem(e,t,i,r,s){return!this.processing&&(e.baseGraphic?this.beforeDrawInteractive(e,t,i,r,s):this.beforeSetInteractive(e,t,i,r,s))}beforeSetInteractive(e,t,i,r,s){let a=e.interactiveGraphic;if(e.attribute.globalZIndex){a||(a=e.clone(),e.interactiveGraphic=a,a.baseGraphic=e),a.setAttributes({globalZIndex:0,zIndex:e.attribute.globalZIndex},!1,{skipUpdateCallback:!0}),i.stage.tryInitInteractiveLayer();const o=i.stage.getLayer("_builtin_interactive");return o&&this.getShadowRoot(o).add(a),!0}if(a){i.stage.tryInitInteractiveLayer();const o=i.stage.getLayer("_builtin_interactive");o&&this.getShadowRoot(o).removeChild(a),e.interactiveGraphic=null,a.baseGraphic=null}return!1}beforeDrawInteractive(e,t,i,r,s){const a=e.baseGraphic;let o=!!a.stage,l=a.parent;for(;o&&l&&l.stage!==l;)o=!!l.stage,l=l.parent;if(!o){const u=i.stage.getLayer("_builtin_interactive");return u&&this.getShadowRoot(u).removeChild(e),!0}if(a){this.processing=!0;const{context:u}=i;return u.highPerformanceSave(),u.setTransformFromMatrix(a.parent.globalTransMatrix,!0),a.isContainer?r.renderGroup(a,i,a.parent.globalTransMatrix):r.renderItem(a,i),u.highPerformanceRestore(),this.processing=!1,!0}return!1}getShadowRoot(e){var t;let i=e.getElementById("_interactive_group");return i||(i=It.CreateGraphic("group",{}),i.id="_interactive_group",e.add(i)),(t=i.shadowRoot)!==null&&t!==void 0?t:i.attachShadow()}}class bWt{constructor(){this.order=1}beforeDrawItem(e,t,i,r,s){if(!e.in3dMode||i.in3dInterceptor)return!1;i.in3dInterceptor=!0;const{context:a,stage:o}=t.drawParams;a.canvas,a.save(),this.initCanvasCtx(a),a.camera=o.camera;const l=a.currentMatrix;l.a/=a.dpr,l.b/=a.dpr,l.c/=a.dpr,l.d/=a.dpr,l.e/=a.dpr,l.f/=a.dpr;const u=Ba.allocate();oY(u,l);const c=a.modelMatrix;if(c){if(u){const d=Ba.allocate();a.modelMatrix=bM(d,c,u)}}else a.modelMatrix=u;return a.setTransform(1,0,0,1,0,0,!0),e.isContainer?ePe(a,e,(d,h)=>r.renderGroup(e,i,e.parent.globalTransMatrix,!d&&h),i):r.renderItem(e,i),a.camera=null,a.restore(),a.modelMatrix!==c&&Ba.free(a.modelMatrix),a.modelMatrix=c,i.in3dInterceptor=!1,!0}initCanvasCtx(e){e.setTransformForCurrent()}}var SWt=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},xWt=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},wWt=function(n,e){return function(t,i){e(t,i,n)}};let IY=class{constructor(n){this.drawContribution=n}prepare(n){n&&this.renderTreeRoots.forEach(e=>{this._prepare(e,n)})}_prepare(n,e){n.forEachChildren(t=>{this._prepare(t,e)}),n.update({bounds:e,trans:!0})}prepareRenderList(){}beforeDraw(n){}draw(n){this.drawContribution.draw(this,Object.assign({},this.drawParams))}afterDraw(n){this.drawContribution.afterDraw&&this.drawContribution.afterDraw(this,Object.assign({},this.drawParams))}reInit(){this.drawContribution.reInit()}render(n,e){this.renderTreeRoots=n,this.drawParams=e;const t=e.updateBounds;this.prepare(t),this.prepareRenderList(),this.beforeDraw(e),this.draw(e),this.afterDraw(e),this.drawParams=null}};IY=SWt([Nt(),wWt(0,Vn(PZ)),xWt("design:paramtypes",[Object])],IY);const CWt=new Pn(n=>{n(lZ).to(IY)}),$w=Symbol.for("PickerService"),jhe=Symbol.for("GlobalPickerService"),Xx=Symbol.for("PickItemInterceptor"),hB=Symbol.for("PickServiceInterceptor");var vz=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a};let fB=class{constructor(){this.order=1}afterPickItem(n,e,t,i,r){if(n.graphic){let s=n.graphic;for(;s.parent;)s=s.parent;s.shadowHost&&(n.params={shadowTarget:n.graphic},n.graphic=s.shadowHost)}return n}};fB=vz([Nt()],fB);let pB=class{constructor(){this.order=1}afterPickItem(n,e,t,i,r){return n.attribute.shadowRootIdx>0||!n.attribute.shadowRootIdx?this._pickItem(n,e,t,i,r):null}beforePickItem(n,e,t,i,r){return n.attribute.shadowRootIdx<0?this._pickItem(n,e,t,i,r):null}_pickItem(n,e,t,i,r){var s;if(!n.shadowRoot)return null;const{parentMatrix:a}=r||{};if(!a)return null;const o=e.pickContext;o.highPerformanceSave();const l=(s=Bn(n))===null||s===void 0?void 0:s[n.type],{shadowPickMode:u=l==null?void 0:l.shadowPickMode}=n.attribute,c=n.shadowRoot,d=Uo.allocateByObj(a),h=new Zi(d.a*t.x+d.c*t.y+d.e,d.b*t.x+d.d*t.y+d.f),f=e.pickGroup(c,h,d,i);return o.highPerformanceRestore(),!f.graphic&&f.group&&u==="full"&&(f.graphic=f.group),f}};pB=vz([Nt()],pB);let gB=class{constructor(){this.order=1}beforePickItem(n,e,t,i,r){const s=n.baseGraphic;if(s&&s.parent){const a=new Zi(t.x,t.y),o=e.pickContext;o.highPerformanceSave();const l=s.parent.globalTransMatrix;l.transformPoint(a,a);const u=s.isContainer?e.pickGroup(s,a.clone(),l,i):e.pickItem(s,a.clone(),l,i);return o.highPerformanceRestore(),u}return null}};gB=vz([Nt()],gB);let mB=class{constructor(){this.order=1}beforePickItem(n,e,t,i,r){if(!n.in3dMode||i.in3dInterceptor)return null;const s=e.pickContext,a=n.stage;if(!s||!a)return null;if(i.in3dInterceptor=!0,s.save(),this.initCanvasCtx(s),s.camera=a.camera,n.isContainer){const o=ePe(s,n,()=>e.pickGroup(n,t,r.parentMatrix,i),i);return s.camera=null,i.in3dInterceptor=!1,s.restore(),o}return s.restore(),null}initCanvasCtx(n){n.setTransformForCurrent()}};mB=vz([Nt()],mB);const TWt=new Pn((n,e,t)=>{t($w)||(n(jhe).toSelf(),n($w).toService(jhe)),n(mB).toSelf().inSingletonScope(),n(Xx).toService(mB),n(pB).toSelf().inSingletonScope(),n(Xx).toService(pB),n(gB).toSelf().inSingletonScope(),n(Xx).toService(gB),Wo(n,Xx),n(fB).toSelf().inSingletonScope(),n(hB).toService(fB),Wo(n,hB)}),EWt=new Pn(n=>{n(vZ).to(bY),n(ROe).toConstantValue(It)}),DC=Symbol.for("AutoEnablePlugins"),tPe=Symbol.for("PluginService");var AWt=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},kWt=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},zhe=function(n,e){return function(t,i){e(t,i,n)}};let RY=class{constructor(n){this.autoEnablePlugins=n,this.onStartupFinishedPlugin=[],this.onRegisterPlugin=[],this.actived=!1}active(n,e){this.stage=n,this.actived=!0;const{pluginList:t}=e;t&&Tn.isBound(DC)&&this.autoEnablePlugins.getContributions().forEach(i=>{t.includes(i.name)&&this.register(i)})}findPluginsByName(n){const e=[];return this.onStartupFinishedPlugin.forEach(t=>{t.name===n&&e.push(t)}),this.onRegisterPlugin.forEach(t=>{t.name===n&&e.push(t)}),e}register(n){n.activeEvent==="onStartupFinished"?this.onStartupFinishedPlugin.push(n):n.activeEvent==="onRegister"&&(this.onRegisterPlugin.push(n),n.activate(this))}unRegister(n){n.activeEvent==="onStartupFinished"?this.onStartupFinishedPlugin.splice(this.onStartupFinishedPlugin.indexOf(n),1):n.activeEvent==="onRegister"&&this.onRegisterPlugin.splice(this.onStartupFinishedPlugin.indexOf(n),1),n.deactivate(this)}release(...n){this.onStartupFinishedPlugin.forEach(e=>{e.deactivate(this)}),this.onStartupFinishedPlugin=[],this.onRegisterPlugin.forEach(e=>{e.deactivate(this)}),this.onRegisterPlugin=[]}};RY=AWt([Nt(),zhe(0,Vn(ia)),zhe(0,Ha(DC)),kWt("design:paramtypes",[Object])],RY);const OWt=new Pn(n=>{n(tPe).to(RY),gHt(n,DC)}),PWt=new Pn(n=>{Wo(n,ez)}),MWt=new Pn(n=>{n(Q8).to(J8).inSingletonScope(),Wo(n,Q8)});var IWt=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},RWt=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)};let vB=class{constructor(){this.type="static",this.offscreen=!1,this.global=lt.global}setDpr(n){this.canvas.dpr=n}init(n,e,t){if(this.layer=n,this.window=e,t.main)this.main=!0,this.context=e.getContext(),this.canvas=this.context.getCanvas();else{let i;this.main=!1,t.canvasId&&(i=this.global.getElementById(t.canvasId)),i||(i=this.global.createCanvas({width:e.width,height:e.height})),i.style&&(i.style["pointer-events"]="none");const r=e.getContext().getCanvas().nativeCanvas,s=eY({nativeCanvas:i,width:e.width,height:e.height,dpr:e.dpr,id:t.canvasId,canvasControled:!0,container:e.getContainer(),x:r.offsetLeft,y:r.offsetTop});s.applyPosition(),this.canvas=s,this.context=s.getContext()}}resize(n,e){this.canvas.resize(n,e)}resizeView(n,e){}render(n,e,t){var i;if(!this.main){const r=this.window.getContext().getCanvas().nativeCanvas;!r||this.canvas.x===r.offsetLeft&&this.canvas.y===r.offsetTop||(this.canvas.x=r.offsetLeft,this.canvas.y=r.offsetTop,this.canvas.applyPosition())}e.renderService.render(n,Object.assign(Object.assign({context:this.context,clear:(i=e.background)!==null&&i!==void 0?i:"#ffffff"},e),t))}merge(n){n.forEach(e=>{const t=e.getContext().canvas.nativeCanvas;this.context.drawImage(t,0,0)})}prepare(n,e){}drawTo(n,e,t){var i;const r=n.getContext();t.renderService.render(e,Object.assign(Object.assign({context:r},t),{clear:t.clear?(i=t.background)!==null&&i!==void 0?i:"#fff":void 0}))}getContext(){return this.context}release(){this.canvas.release()}};vB=IWt([Nt(),RWt("design:paramtypes",[])],vB);const DWt=new Pn(n=>{n(vB).toSelf(),n($Oe).toService(vB)});function LWt(n){n.load(PWt),n.load(MWt),n.load(DWt)}var FWt=function(n,e,t,i){return new(t||(t=Promise))(function(r,s){function a(u){try{l(i.next(u))}catch(c){s(c)}}function o(u){try{l(i.throw(u))}catch(c){s(c)}}function l(u){var c;u.done?r(u.value):(c=u.value,c instanceof t?c:new t(function(d){d(c)})).then(a,o)}l((i=i.apply(n,e||[])).next())})};function nPe(n,e,t){const i={},r=[];return n.forEachChildren(s=>{const{zIndex:a=e}=s.attribute;i[a]?i[a].push(s):(i[a]=[s],r.push(a))},t),r.sort((s,a)=>t?a-s:s-a),{childMap:i,zIdxArray:r}}function iPe(n,e,t,i=!1,r=!1){let s=!1;if(r)s=!0;else{let a;n.forEachChildren((o,l)=>{const{zIndex:u=e}=o.attribute;if(l===0)a=u;else if(a!==u)return s=!0,!0;return!1},i)}if(s){const{childMap:a,zIdxArray:o}=nPe(n,e,i);let l=!1;for(let u=0;u<o.length&&!l;u++){const c=a[o[u]];r&&c.sort((d,h)=>{var f,p;return(i?-1:1)*(((f=h.attribute.z)!==null&&f!==void 0?f:0)-((p=d.attribute.z)!==null&&p!==void 0?p:0))});for(let d=0;d<c.length;d++)if(t(c[d],d)){l=!0;break}}}else n.forEachChildren(t,i)}function Hhe(n,e,t,i=!1){return FWt(this,void 0,void 0,function*(){yield n.forEachChildrenAsync(t,i)})}function BWt(n,e,t,i=!1){let r=!1;n.forEachChildren((o,l)=>{const{zIndex:u=t}=o.attribute;if(l!==0){if(u!==void 0)return r=!0,!0}return!1},i);let s=null,a=!1;if(r){const{childMap:o,zIdxArray:l}=nPe(n,t,i);let u=!1;for(let c=0;c<l.length&&!u;c++){const d=o[l[c]];for(let h=0;h<d.length;h++){if(a){u=!0,s=d[h];break}d[h]._uid!==e||(a=!0)}}}else n.forEachChildren(o=>a?(s=o,!0):(o._uid===e&&(a=!0),!1),i);return s}var $Wt=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},NWt=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Z4=function(n,e){return function(t,i){e(t,i,n)}};let yB=class{constructor(n,e){this.contributions=n,this.drawItemInterceptorContributions=e,this._renderInGroup=(t,i,r,s)=>{var a;t?i.forEachChildren(o=>{r.break||(o.isContainer?this.renderGroup(o,r,s):this.renderItem(o,r))}):iPe(i,ps.zIndex,o=>{r.break||(o.isContainer?this.renderGroup(o,r,s):this.renderItem(o,r))},!1,!!(!((a=r.context)===null||a===void 0)&&a.camera))},this.currentRenderMap=new Map,this.defaultRenderMap=new Map,this.styleRenderMap=new Map,this.dirtyBounds=new Xo,this.backupDirtyBounds=new Xo,this.global=lt.global,this.layerService=lt.layerService,Oe(this.contributions)||(this.contributions=[this.contributions]),this.init()}reInit(){this.init(),this.contributions.forEach(n=>{n.reInit()})}init(){this.contributions.forEach(n=>{if(n.style){const e=this.styleRenderMap.get(n.style)||new Map;e.set(n.numberType,n),this.styleRenderMap.set(n.style,e)}else this.defaultRenderMap.set(n.numberType,n)}),this.InterceptorContributions=this.drawItemInterceptorContributions.getContributions().sort((n,e)=>n.order-e.order)}prepareForDraw(n,e){e.updateBounds?this.useDirtyBounds=!0:this.useDirtyBounds=!e.stage.params.optimize.disableCheckGraphicWidthOutRange}draw(n,e){var t;this.prepareForDraw(n,e),e.drawContribution=this,this.currentRenderMap=this.styleRenderMap.get(e.renderStyle)||this.defaultRenderMap,this.currentRenderService=n;const{context:i,stage:r,viewBox:s,transMatrix:a}=e;if(!i)return;const o=this.dirtyBounds.setValue(0,0,s.width(),s.height());if(r.dirtyBounds&&!r.dirtyBounds.empty()){const u=qAe(o,r.dirtyBounds,!1);o.x1=Math.floor(u.x1),o.y1=Math.floor(u.y1),o.x2=Math.ceil(u.x2),o.y2=Math.ceil(u.y2)}const l=i.dpr%1;(l||l!==.5)&&(o.x1=Math.floor(o.x1*i.dpr)/i.dpr,o.y1=Math.floor(o.y1*i.dpr)/i.dpr,o.x2=Math.ceil(o.x2*i.dpr)/i.dpr,o.y2=Math.ceil(o.y2*i.dpr)/i.dpr),this.backupDirtyBounds.copy(o),i.reset(!1),i.save(),i.setClearMatrix(a.a,a.b,a.c,a.d,a.e,a.f),i.clearMatrix(!1),i.translate(s.x1,s.y1,!0),i.beginPath(),i.rect(o.x1,o.y1,o.width(),o.height()),i.clip(),r.camera&&(this.dirtyBounds.setValue(-1/0,-1/0,1/0,1/0),this.backupDirtyBounds.setValue(-1/0,-1/0,1/0,1/0)),this.clearScreen(n,i,e),!((t=n.drawParams)===null||t===void 0)&&t.stage&&n.drawParams.stage.hooks.afterClearScreen.call(n.drawParams),n.renderTreeRoots.sort((u,c)=>{var d,h;return((d=u.attribute.zIndex)!==null&&d!==void 0?d:ps.zIndex)-((h=c.attribute.zIndex)!==null&&h!==void 0?h:ps.zIndex)}).forEach(u=>{u.isContainer?this.renderGroup(u,e,Uo.allocate(1,0,0,1,0,0)):this.renderItem(u,e)}),i.restore(),i.draw()}doRegister(){throw new Error("")}_findNextGraphic(n){let e=n.parent,t=n._uid;for(;e;){const i=BWt(e,t,ps.zIndex);if(i)return i;t=e._uid,e=e.parent}return null}renderGroup(n,e,t,i){if(e.break||n.attribute.visibleAll===!1)return;if(n.incremental&&(e.startAtId==null||e.startAtId===n._uid))return e.break=!0,void this._increaseRender(n,e);if(this.useDirtyBounds&&!pO(n.AABBBounds,this.dirtyBounds,!1)&&n.attribute.boundsMode!=="empty")return;let r,s=t;if(this.useDirtyBounds){r=eB.allocateByObj(this.dirtyBounds);const a=n.transMatrix;s=Uo.allocateByObj(t).multiply(a.a,a.b,a.c,a.d,a.e,a.f),this.dirtyBounds.copy(this.backupDirtyBounds).transformWithMatrix(s.getInverse())}e.isGroupScroll=!(!n.attribute.scrollX&&!n.attribute.scrollY),this.renderItem(n,e,{renderInGroupParams:{skipSort:i,nextM:s},renderInGroup:this._renderInGroup}),this.useDirtyBounds&&(this.dirtyBounds.copy(r),eB.free(r),Uo.free(s))}_increaseRender(n,e){const{layer:t,stage:i}=e,{subLayers:r}=t;let s=r.get(n._uid);s||(s={layer:this.layerService.createLayer(i),zIndex:r.size,group:n},r.set(n._uid,s));const a=s.layer.getNativeHandler().getContext(),o=s.drawContribution||Tn.get(JOe);o.dirtyBounds.setValue(-1/0,-1/0,1/0,1/0),o.backupDirtyBounds.setValue(-1/0,-1/0,1/0,1/0),o.draw(this.currentRenderService,Object.assign(Object.assign({},e),{drawContribution:o,clear:"transparent",layer:s.layer,context:a,startAtId:n._uid,break:!1})),s.drawContribution=o;const l=this._findNextGraphic(n);if(l)if(l.isContainer&&l.incremental)this._increaseRender(l,e);else{let u=r.get(l._uid);u||(u={layer:this.layerService.createLayer(i),zIndex:r.size},r.set(l._uid,u));const c=u.layer.getNativeHandler().getContext();this.draw(this.currentRenderService,Object.assign(Object.assign({},e),{drawContribution:o,clear:"transparent",layer:u.layer,context:c,startAtId:l._uid,break:!1}))}}getRenderContribution(n){let e;return e||(e=this.selectRenderByNumberType(n.numberType,n)),e||(e=this.selectRenderByType(n.type)),e}renderItem(n,e,t){if(this.InterceptorContributions.length)for(let o=0;o<this.InterceptorContributions.length;o++){const l=this.InterceptorContributions[o];if(l.beforeDrawItem&&l.beforeDrawItem(n,this.currentRenderService,e,this,t))return}const i=this.getRenderContribution(n);if(!i)return;let r,s=!1;if(e.isGroupScroll){const{scrollX:o=0,scrollY:l=0}=n.parent.attribute;s=!0,this.scrollMatrix||(this.scrollMatrix=Uo.allocate(1,0,0,1,0,0)),this.scrollMatrix.translate(-o,-l)}if(s&&(r=this.dirtyBounds.clone().transformWithMatrix(this.scrollMatrix)),this.useDirtyBounds&&!n.isContainer&&n.attribute.boundsMode!=="empty"&&!pO(n.AABBBounds,r??this.dirtyBounds,!1)){if(s&&n.parent){const{scrollX:o=0,scrollY:l=0}=n.parent.attribute;this.scrollMatrix&&this.scrollMatrix.translate(o,l)}return}const a=e.startAtId!=null&&n._uid!==e.startAtId;if(n._uid===e.startAtId&&(e.startAtId=null),t&&(t.skipDraw=a),a?n.isContainer&&i.draw(n,this.currentRenderService,e,t):i.draw(n,this.currentRenderService,e,t),s&&n.parent){const{scrollX:o=0,scrollY:l=0}=n.parent.attribute;this.scrollMatrix&&this.scrollMatrix.translate(o,l)}if(this.InterceptorContributions.length)for(let o=0;o<this.InterceptorContributions.length;o++){const l=this.InterceptorContributions[o];if(l.afterDrawItem&&l.afterDrawItem(n,this.currentRenderService,e,this))return}}selectRenderByType(n){return yi.getInstance().warn(""),null}selectRenderByNumberType(n,e){let t;if(e.attribute.renderStyle){const i=this.styleRenderMap.get(e.attribute.renderStyle);t=i&&i.get(n)}return t||this.currentRenderMap.get(n)||this.defaultRenderMap.get(n)}clearScreen(n,e,t){var i,r,s;const{clear:a,viewBox:o}=t,l=o.width(),u=o.height();if(a){e.clearRect(0,0,l,u),!((i=n.drawParams)===null||i===void 0)&&i.stage&&n.drawParams.stage.hooks.afterClearRect.call(n.drawParams);const c=(r=n.drawParams)===null||r===void 0?void 0:r.stage;if(c&&(e.globalAlpha=(s=c.attribute.opacity)!==null&&s!==void 0?s:1),c&&c.backgroundImg&&c.resources){const d=c.resources.get(a);d&&d.state==="success"&&d.data&&e.drawImage(d.data,0,0,l,u)}else e.fillStyle=BF(e,a,{AABBBounds:{x1:0,y1:0,x2:0+l,y2:0+u}},0,0),e.fillRect(0,0,l,u)}}afterDraw(n,e){}};yB=$Wt([Nt(),Z4(0,Jke(ql)),Z4(1,Vn(ia)),Z4(1,Ha(cB)),NWt("design:paramtypes",[Array,Object])],yB);var jWt=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a};let _B=class extends IO{constructor(){super(...arguments),this.numberType=_M}drawShape(n,e,t,i,r,s,a,o){if(n.incremental&&r.multiGraphicOptions){const{startAtIdx:l,length:u}=r.multiGraphicOptions,{segments:c=[]}=n.attribute;if(l>c.length)return;const d=Bn(n).line,{fill:h=d.fill,stroke:f=d.stroke,opacity:p=d.opacity,fillOpacity:g=d.fillOpacity,strokeOpacity:m=d.strokeOpacity,lineWidth:v=d.lineWidth,visible:_=d.visible}=n.attribute,y=b0(p,g,h),x=cY(p,m),w=RC(h),T=wO(f,v);if(!n.valid||!_||!w&&!T||!(y||x||a||o))return;const{context:E}=r;for(let A=l;A<l+u;A++)this.drawIncreaseSegment(n,E,c[A-1],c[A],n.attribute.segments[A],[d,n.attribute],t,i)}else super.drawShape(n,e,t,i,r,s,a,o)}drawIncreaseSegment(n,e,t,i,r,s,a,o){i&&(e.beginPath(),N4t(e.nativeContext,t,i,{offsetX:a,offsetY:o}),e.setShadowBlendStyle&&e.setShadowBlendStyle(n,r,s),e.setStrokeStyle(n,r,a,o,s),e.stroke())}};_B=jWt([Nt()],_B);var zWt=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a};let bB=class extends RO{constructor(){super(...arguments),this.numberType=yM}drawShape(n,e,t,i,r,s,a){if(n.incremental&&r.multiGraphicOptions){const{startAtIdx:o,length:l}=r.multiGraphicOptions,{segments:u=[]}=n.attribute;if(o>u.length)return;const c=Bn(n).area,{fill:d=c.fill,fillOpacity:h=c.fillOpacity,opacity:f=c.opacity,visible:p=c.visible}=n.attribute,g=b0(f,h,d),m=RC(d);if(!n.valid||!p||!m||!g&&!a)return;for(let v=o;v<o+l;v++)this.drawIncreaseSegment(n,e,u[v-1],u[v],n.attribute.segments[v],[c,n.attribute],t,i)}else super.drawShape(n,e,t,i,r,s,a)}drawIncreaseSegment(n,e,t,i,r,s,a,o){i&&(e.beginPath(),j4t(e.camera?e:e.nativeContext,t,i,{offsetX:a,offsetY:o}),e.setShadowBlendStyle&&e.setShadowBlendStyle(n,r,s),e.setCommonStyle(n,r,a,o,s),e.fill())}};bB=zWt([Nt()],bB);var qx,HWt=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},VWt=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},hE=function(n,e){return function(t,i){e(t,i,n)}},ap=function(n,e,t,i){return new(t||(t=Promise))(function(r,s){function a(u){try{l(i.next(u))}catch(c){s(c)}}function o(u){try{l(i.throw(u))}catch(c){s(c)}}function l(u){var c;u.done?r(u.value):(c=u.value,c instanceof t?c:new t(function(d){d(c)})).then(a,o)}l((i=i.apply(n,e||[])).next())})};(function(n){n[n.NORMAL=0]="NORMAL",n[n.STOP=1]="STOP"})(qx||(qx={}));let DY=class extends yB{constructor(n,e,t,i){super(n,i),this.contributions=n,this.lineRender=e,this.areaRender=t,this.drawItemInterceptorContributions=i,this.rendering=!1,this.currFrameStartAt=0,this.currentIdx=0,this.status=qx.NORMAL,this.checkingForDrawPromise=null,this.hooks={completeDraw:new jl([])},this.defaultRenderMap.set(this.lineRender.numberType,this.lineRender),this.defaultRenderMap.set(this.areaRender.numberType,this.areaRender)}draw(n,e){return ap(this,void 0,void 0,function*(){if(this.checkingForDrawPromise)return;this.lastRenderService=n,this.lastDrawContext=e,this.checkingForDrawPromise=this.checkForDraw(e);const t=yield this.checkingForDrawPromise;if(this.checkingForDrawPromise=null,t)return;this.currentRenderService=n;const{context:i,viewBox:r}=e;i&&(i.inuse=!0,i.clearMatrix(),i.setTransformForCurrent(!0),i.save(),e.restartIncremental&&this.clearScreen(this.currentRenderService,i,e),i.translate(r.x1,r.y1,!0),i.save(),n.renderTreeRoots.sort((s,a)=>{var o,l;return((o=s.attribute.zIndex)!==null&&o!==void 0?o:ps.zIndex)-((l=a.attribute.zIndex)!==null&&l!==void 0?l:ps.zIndex)}).forEach(s=>{this.renderGroup(s,e)}),this.hooks.completeDraw.tap("top-draw",()=>{i.restore(),i.restore(),i.draw(),i.inuse=!1,this.rendering=!1}))})}_increaseRender(n,e){return ap(this,void 0,void 0,function*(){this.rendering=!0,yield this._renderIncrementalGroup(n,e)})}_renderIncrementalGroup(n,e){return ap(this,void 0,void 0,function*(){this.count=n.count,yield new Promise(t=>{this.renderItem(n,e,{drawingCb:()=>ap(this,void 0,void 0,function*(){if(n.count!==2)yield Hhe(n,ps.zIndex,(i,r)=>{if(this.status===qx.STOP)return!0;if(i.isContainer||r<this.currentIdx)return!1;const s=this.currFrameStartAt+n.incremental;return r<s&&(this.currentIdx=r+1,this.renderItem(i,e)),r===s-1&&(this.currFrameStartAt=this.currentIdx,this.waitToNextFrame())}),t(!1);else{const i=n.getChildAt(0);if(i.incremental&&i.attribute.segments)for(i.incrementalAt||(i.incrementalAt=0);i.incrementalAt<i.attribute.segments.length;)e.multiGraphicOptions={startAtIdx:i.incrementalAt,length:i.incremental},this.renderItem(i,e),i.incrementalAt+=i.incremental,yield this.waitToNextFrame();else this.renderItem(i,e);t(!1)}})})}),this.hooks.completeDraw.call()})}waitToNextFrame(){return ap(this,void 0,void 0,function*(){return new Promise(n=>{this.global.getRequestAnimationFrame()(()=>{n(!1)})})})}checkForDraw(n){return ap(this,void 0,void 0,function*(){let e=this.rendering;return n.restartIncremental&&(e=!1,yield this.forceStop(),this.resetToInit()),e})}forceStop(){return ap(this,void 0,void 0,function*(){this.rendering&&(this.status=qx.STOP,yield new Promise(n=>{this.hooks.completeDraw.tap("stopCb",()=>{this.status=qx.NORMAL,this.hooks.completeDraw.taps=this.hooks.completeDraw.taps.filter(e=>e.name!=="stopCb"),n(!1)})}))})}resetToInit(){this.currFrameStartAt=0,this.currentIdx=0}renderGroup(n,e){return ap(this,void 0,void 0,function*(){if(!e.break&&n.attribute.visibleAll!==!1)return n.incremental&&e.startAtId===n._uid?(yield this._increaseRender(n,e),void(e.break=!0)):void(yield new Promise(t=>{this.renderItem(n,e,{drawingCb:()=>ap(this,void 0,void 0,function*(){yield Hhe(n,ps.zIndex,i=>ap(this,void 0,void 0,function*(){e.break||i.isContainer&&(yield this.renderGroup(i,e))})),t(!1)})})}))})}};DY=HWt([Nt(),hE(0,Jke(ql)),hE(1,Vn(_B)),hE(2,Vn(bB)),hE(3,Vn(ia)),hE(3,Ha(cB)),VWt("design:paramtypes",[Array,Object,Object,Object])],DY);const WWt=new Pn(n=>{n(mz).toSelf().inSingletonScope(),n(OZ).toSelf().inSingletonScope(),n(PZ).to(yB),n(JOe).to(DY),n(Bhe).to(AY).inSingletonScope(),n(ql).toService(Bhe),Wo(n,HOe),n(xh).toSelf().inSingletonScope(),Wo(n,xZ),Wo(n,ql),n(dB).toSelf().inSingletonScope(),n(cB).toService(dB),Wo(n,cB)});function UWt(n){n.load(WWt)}function SB(){SB.__loaded||(SB.__loaded=!0,Tn.load(HVt),Tn.load(EWt),Tn.load(CWt),Tn.load(TWt),Tn.load(OWt),LWt(Tn),UWt(Tn))}SB.__loaded=!1,SB();const un=Tn.get(oZ);lt.global=un;const GWt=Tn.get(BOe);lt.graphicUtil=GWt;const YWt=Tn.get(FOe);lt.transformUtil=YWt;const KWt=Tn.get(vZ);lt.graphicService=KWt;const XWt=Tn.get(SZ);lt.layerService=XWt;class qWt{constructor(){this.name="AutoRenderPlugin",this.activeEvent="onRegister",this._uid=aa.GenAutoIncrementId(),this.key=this.name+this._uid,this.handleChange=e=>{e.glyphHost&&(e=e.glyphHost),e.stage===this.pluginService.stage&&e.stage!=null&&e.stage.renderNextFrame()}}activate(e){this.pluginService=e;const t=this.pluginService.stage;t&&(t.graphicService.hooks.onAttributeUpdate.tap(this.key,this.handleChange),t.graphicService.hooks.onSetStage.tap(this.key,this.handleChange),t.graphicService.hooks.onRemove.tap(this.key,this.handleChange))}deactivate(e){const t=r=>r.filter(s=>s.name!==this.key),i=this.pluginService.stage;i&&(i.graphicService.hooks.onAttributeUpdate.taps=t(i.graphicService.hooks.onAttributeUpdate.taps),i.graphicService.hooks.onSetStage.taps=t(i.graphicService.hooks.onSetStage.taps),i.graphicService.hooks.onRemove.taps=t(i.graphicService.hooks.onRemove.taps))}}class ZWt{constructor(){this.name="AutoRefreshPlugin",this.activeEvent="onRegister",this._uid=aa.GenAutoIncrementId(),this.key=this.name+this._uid,this.handleChange=e=>{e.glyphHost&&(e=e.glyphHost),e.stage===this.pluginService.stage&&e.stage!=null&&e.stage.renderNextFrame()}}activate(e){this.pluginService=e,this.dpr=lt.global.devicePixelRatio,this.refresh()}refresh(){this._refreshByMediaQuery()||this._refreshByRaf()}_refreshByRaf(){const e=lt.global.getRequestAnimationFrame();this.rafId=e(()=>{lt.global.devicePixelRatio!==this.dpr&&(this.dpr=lt.global.devicePixelRatio,this.pluginService.stage.setDpr(this.dpr,!0)),this.refresh()})}_refreshByMediaQuery(){try{const e=`(resolution: ${window.devicePixelRatio}dppx)`,t=()=>{window.devicePixelRatio!==this.dpr&&(this.dpr=window.devicePixelRatio,this.pluginService.stage.setDpr(this.dpr,!0))},i=matchMedia(e);i&&i.addEventListener("change",t),this.autoRefreshCbs||(this.autoRefreshCbs=[]),this.autoRefreshCbs.push(()=>{i&&i.removeEventListener("change",t)})}catch{return!1}return!0}deactivate(e){var t;const i=lt.global.getCancelAnimationFrame();i&&this.rafId&&i(this.rafId),(t=this.autoRefreshCbs)===null||t===void 0||t.forEach(r=>{r()}),this.autoRefreshCbs=void 0}}class QWt{constructor(){this.name="IncrementalAutoRenderPlugin",this.activeEvent="onRegister",this.nextFrameRenderGroupSet=new Set,this.willNextFrameRender=!1,this.nextUserParams={},this._uid=aa.GenAutoIncrementId(),this.key=this.name+this._uid}activate(e){this.pluginService=e;const t=this.pluginService.stage;t&&(t.graphicService.hooks.onAddIncremental.tap(this.key,(i,r,s)=>{i.glyphHost&&(i=i.glyphHost),i.stage===e.stage&&i.stage!=null&&(this.nextUserParams.startAtId=r._uid,this.renderNextFrame(r))}),t.graphicService.hooks.onClearIncremental.tap(this.key,(i,r)=>{i.stage===e.stage&&i.stage!=null&&(this.nextUserParams.startAtId=i._uid,this.nextUserParams.restartIncremental=!0,this.renderNextFrame(i))}))}deactivate(e){const t=this.pluginService.stage;t&&(t.graphicService.hooks.onAddIncremental.taps=t.graphicService.hooks.onAddIncremental.taps.filter(i=>i.name!==this.key),t.graphicService.hooks.onClearIncremental.taps=t.graphicService.hooks.onClearIncremental.taps.filter(i=>i.name!==this.key))}renderNextFrame(e){this.nextFrameRenderGroupSet.add(e),this.willNextFrameRender||(this.willNextFrameRender=!0,lt.global.getRequestAnimationFrame()(()=>{this._doRenderInThisFrame(),this.willNextFrameRender=!1}))}_doRenderInThisFrame(){const e=this.pluginService.stage;this.nextFrameRenderGroupSet.size&&(this.nextFrameRenderGroupSet.forEach(t=>{const i=t.layer;if(!i||!t.layer.subLayers)return;const r=t.layer.subLayers.get(t._uid);r&&r.drawContribution&&r.drawContribution.draw(e.renderService,Object.assign({stage:e,layer:i,viewBox:e.window.getViewBox(),transMatrix:e.window.getViewBoxTransform(),clear:"transparent",renderService:e.renderService,updateBounds:!1,startAtId:t._uid,context:r.layer.getNativeHandler().getContext()},this.nextUserParams))}),this.nextUserParams={},this.nextFrameRenderGroupSet.clear())}}const Vhe=new ms;class JWt{constructor(){this.name="DirtyBoundsPlugin",this.activeEvent="onRegister",this._uid=aa.GenAutoIncrementId(),this.key=this.name+this._uid}activate(e){this.pluginService=e,e.stage.hooks.afterRender.tap(this.key,i=>{i&&i===this.pluginService.stage&&i.dirtyBounds.clear()});const t=this.pluginService.stage;t&&(t.graphicService.hooks.beforeUpdateAABBBounds.tap(this.key,(i,r,s,a)=>{i.glyphHost&&(i=i.glyphHost),r&&r===this.pluginService.stage&&r.renderCount&&(i.isContainer&&!i.shouldSelfChangeUpdateAABBBounds()||s&&(Vhe.setValue(a.x1,a.y1,a.x2,a.y2),r.dirty(Vhe,i.parent&&i.parent.globalTransMatrix)))}),t.graphicService.hooks.afterUpdateAABBBounds.tap(this.key,(i,r,s,a,o)=>{r&&r===this.pluginService.stage&&r.renderCount&&(i.isContainer&&!o||r.dirty(a.globalAABBBounds))}),t.graphicService.hooks.clearAABBBounds.tap(this.key,(i,r,s)=>{r&&r===this.pluginService.stage&&r.renderCount&&r&&r.dirty(s)}),t.graphicService.hooks.onRemove.tap(this.key,i=>{const r=i.stage;r&&r===this.pluginService.stage&&r.renderCount&&r&&r.dirty(i.globalAABBBounds)}))}deactivate(e){const t=this.pluginService.stage;t&&(t.graphicService.hooks.beforeUpdateAABBBounds.taps=t.graphicService.hooks.beforeUpdateAABBBounds.taps.filter(i=>i.name!==this.key),t.graphicService.hooks.afterUpdateAABBBounds.taps=t.graphicService.hooks.afterUpdateAABBBounds.taps.filter(i=>i.name!==this.key),t.graphicService.hooks.clearAABBBounds.taps=t.graphicService.hooks.clearAABBBounds.taps.filter(i=>i.name!==this.key),t.hooks.afterRender.taps=t.hooks.afterRender.taps.filter(i=>i.name!==this.key),t.graphicService.hooks.onRemove.taps=t.graphicService.hooks.onRemove.taps.filter(i=>i.name!==this.key))}}let Sx;function eUt(){if(Sx==null)try{const n=document.createElement("canvas"),e=n.getContext("2d");Sx=!!(window&&n.getBoundingClientRect&&requestAnimationFrame&&window.devicePixelRatio&&e&&e.isPointInPath&&e.isPointInStroke),Sx&&(Sx=!!document.createElement)}catch{Sx=!1}}function MZ(){eUt();const n=lt.global&&lt.global.env;return n?n==="browser":Sx}let tm=class LY{static registerPlugin(e,t){LY._pluginClasses[e]=t}static getPlugin(e){return LY._pluginClasses[e]}};tm._pluginClasses={};const Whe={BACKGROUND:"white"};class tUt extends z1{set viewBox(e){this.window.setViewBox(e)}get viewBox(){return this.window.getViewBox()}get x(){return this.window.getViewBox().x1}set x(e){const t=this.window.getViewBox();t.translate(e-t.x1,0),this.window.setViewBox(t)}get y(){return this.window.getViewBox().y1}set y(e){const t=this.window.getViewBox();t.translate(0,e-t.y1),this.window.setViewBox(t)}get width(){return this.window.width}set width(e){this.resize(e,this.height)}get viewWidth(){return this.window.getViewBox().width()}set viewWidth(e){this.resizeView(e,this.viewHeight)}get viewHeight(){return this.window.getViewBox().height()}set viewHeight(e){this.resizeView(this.viewWidth,e)}get height(){return this.window.height}set height(e){this.resize(this.width,e)}get dpr(){return this.window.dpr}set dpr(e){this.setDpr(e)}get background(){var e;return(e=this._background)!==null&&e!==void 0?e:Whe.BACKGROUND}set background(e){this._background=e}get defaultLayer(){return this.at(0)}get eventSystem(){return this._eventSystem}get ticker(){return this._ticker}set ticker(e){e.bindStage(this),this._ticker&&this._ticker.removeListener("tick",this.afterTickCb),e.addTimeline(this.timeline),this._ticker=e,this._ticker.on("tick",this.afterTickCb)}constructor(e={}){var t,i;super({}),this.tickedBeforeRender=!0,this._onVisibleChange=r=>{if(!(this._skipRender<0))if(r){if(this.dirtyBounds){const s=this.window.getViewBox();this.dirtyBounds.setValue(s.x1,s.y1,s.width(),s.height())}this._skipRender>1&&this.renderNextFrame(),this._skipRender=0}else this._skipRender=1},this.beforeRender=r=>{this._beforeRenderList.forEach(s=>s(r))},this.afterClearScreen=r=>{this._afterClearScreen&&this._afterClearScreen(r)},this.afterClearRect=r=>{this._afterClearRect&&this._afterClearRect(r)},this.afterRender=r=>{this.renderCount++,this._afterRenderList.forEach(s=>s(r)),this._afterNextRenderCbs&&this._afterNextRenderCbs.forEach(s=>s(r)),this._afterNextRenderCbs=null,this.tickedBeforeRender=!1},this.afterTickCb=()=>{this.tickedBeforeRender=!0,this.state!=="rendering"&&this.renderNextFrame()},this.params=e,this.theme=new xO,this.hooks={beforeRender:new jl(["stage"]),afterRender:new jl(["stage"]),afterClearScreen:new jl(["stage"]),afterClearRect:new jl(["stage"])},this.global=lt.global,!this.global.env&&MZ()&&this.global.setEnv("browser"),this.window=Tn.get(NF),this.renderService=Tn.get(lZ),this.pluginService=Tn.get(tPe),this.layerService=Tn.get(SZ),this.graphicService=Tn.get(vZ),this.pluginService.active(this,e),this._beforeRenderList=[],this._afterRenderList=[],this.window.create({width:e.width,height:e.height,viewBox:e.viewBox,container:e.container,dpr:e.dpr||this.global.devicePixelRatio,canvasControled:e.canvasControled!==!1,title:e.title||"",canvas:e.canvas}),this.state="normal",this.renderCount=0,this.tryInitEventSystem(),this._background=(t=e.background)!==null&&t!==void 0?t:Whe.BACKGROUND,this.appendChild(this.layerService.createLayer(this,{main:!0})),this.nextFrameRenderLayerSet=new Set,this.willNextFrameRender=!1,this.stage=this,this.renderStyle=e.renderStyle,e.autoRender&&this.enableAutoRender(),e.autoRefresh&&this.enableAutoRefresh(),e.disableDirtyBounds===!1&&this.enableDirtyBounds(),e.enableHtmlAttribute&&this.enableHtmlAttribute(e.enableHtmlAttribute),e.ReactDOM&&this.enableReactAttribute(e.ReactDOM),e.enableLayout&&this.enableLayout(),this.hooks.beforeRender.tap("constructor",this.beforeRender),this.hooks.afterRender.tap("constructor",this.afterRender),e.beforeRender&&this._beforeRenderList.push(e.beforeRender),e.afterRender&&this._afterRenderList.push(e.afterRender),this.hooks.afterClearScreen.tap("constructor",this.afterClearScreen),this.hooks.afterClearRect.tap("constructor",this.afterClearRect),this._afterClearScreen=e.afterClearScreen,this._afterClearRect=e.afterClearRect,this.supportInteractiveLayer=e.interactiveLayer!==!1,e.optimize||(e.optimize={tickRenderMode:"effect"}),this.optmize(e.optimize),e.background&&Jt(this._background)&&this._background.includes("/")&&this.setAttributes({background:this._background}),this.initAnimate(e),this.rafId=(i=e.rafId)!==null&&i!==void 0?i:Math.floor(6*Math.random())}initAnimate(e){var t;this.createTicker&&this.createTimeline&&(this._ticker=e.ticker||this.createTicker(this),this._ticker.bindStage(this),((t=this.params.optimize)===null||t===void 0?void 0:t.tickRenderMode)==="performance"&&this._ticker.setFPS(30),this.timeline=this.createTimeline(),this._ticker.addTimeline(this.timeline),this._ticker.on("tick",this.afterTickCb))}startAnimate(){this._ticker&&this.timeline&&(this._ticker.start(),this.timeline.resume())}pauseRender(e=-1){this._skipRender=e}resumeRender(){this._skipRender=0}tryInitEventSystem(){this.global.supportEvent&&!this._eventSystem&&(this._eventSystem=new e5t(Object.assign({targetElement:this.window,resolution:this.window.dpr||this.global.devicePixelRatio,rootNode:this,global:this.global,supportsPointerEvents:this.params.supportsPointerEvents,supportsTouchEvents:this.params.supportsTouchEvents},this.params.event)))}preventRender(e){e?this._skipRender=-1/0:this.params.optimize.skipRenderWithOutRange!==!1?this._skipRender=this.window.isVisible()?0:1:this._skipRender=0}optmize(e){this.optmizeRender(e.skipRenderWithOutRange),this.params.optimize=e}optmizeRender(e=!1){e&&(this._skipRender=this._skipRender<0?this._skipRender:this.window.isVisible()?0:1,this.window.onVisibleChange(this._onVisibleChange))}getTimeline(){return this.timeline}get3dOptions(e){const{center:t={x:this.width/2,y:this.height/2,z:0,dx:0,dy:0,dz:0},light:i={},alpha:r=0,beta:s=0,camera:a,fieldRatio:o=1,fieldDepth:l}=e;return Object.assign(Object.assign({},e),{center:t,light:i,alpha:r,beta:s,camera:a,fieldRatio:o,fieldDepth:l})}set3dOptions(e){var t,i,r,s,a,o;this.option3d=e;const l=this.get3dOptions(e),{light:u,center:c,camera:d,alpha:h,beta:f,fieldRatio:p,fieldDepth:g}=l,{dir:m=[1,1,-1],color:v="white",ambient:_}=u,y=((t=c.x)!==null&&t!==void 0?t:this.width/2)+((i=c.dx)!==null&&i!==void 0?i:0),x=((r=c.y)!==null&&r!==void 0?r:this.height/2)+((s=c.dy)!==null&&s!==void 0?s:0),w=[y,x,((a=c.z)!==null&&a!==void 0?a:0)+((o=c.dz)!==null&&o!==void 0?o:0)];let T=0,E=0,A=0;d||(T=Math.sin(h)+y,E=Math.sin(f)+x,A=Math.cos(h)*Math.cos(f)*1);const k=tm.getPlugin("DirectionalLight");k&&(this.light=new k(m,v,_));const P={left:0,right:this.width,top:0,bottom:this.height,fieldRatio:p,fieldDepth:g,viewParams:{pos:[T,E,A],center:w,up:[0,1,0]}};if(this.camera)this.camera.params=P;else{const I=tm.getPlugin("OrthoCamera");I&&(this.camera=new I(P))}e.enableView3dTransform&&this.enableView3dTransform()}setBeforeRender(e){this._beforeRenderList.push(e)}removeBeforeRender(e){this._beforeRenderList=this._beforeRenderList.filter(t=>t!==e)}setAfterRender(e){this._afterRenderList.push(e)}removeAfterRender(e){this._afterRenderList=this._afterRenderList.filter(t=>t!==e)}afterNextRender(e){this._afterNextRenderCbs||(this._afterNextRenderCbs=[]),this._afterNextRenderCbs.push(e)}enableView3dTransform(){if(this.view3dTranform)return;this.view3dTranform=!0;const e=tm.getPlugin("ViewTransform3dPlugin");e&&this.pluginService.register(new e)}disableView3dTranform(){this.view3dTranform&&(this.view3dTranform=!1,this.pluginService.findPluginsByName("ViewTransform3dPlugin").forEach(e=>{this.pluginService.unRegister(e)}))}enableAutoRender(){this.autoRender||(this.autoRender=!0,this.pluginService.register(new qWt))}disableAutoRender(){this.autoRender&&(this.autoRender=!1,this.pluginService.findPluginsByName("AutoRenderPlugin").forEach(e=>{this.pluginService.unRegister(e)}))}enableAutoRefresh(){this.autoRefresh||this.global.env==="node"||(this.autoRefresh=!0,this.pluginService.register(new ZWt))}disableAutoRefresh(){this.autoRefresh&&(this.autoRefresh=!1,this.pluginService.findPluginsByName("AutoRefreshPlugin").forEach(e=>{this.pluginService.unRegister(e)}))}enableIncrementalAutoRender(){this.increaseAutoRender||(this.increaseAutoRender=!0,this.pluginService.register(new QWt))}disableIncrementalAutoRender(){this.increaseAutoRender&&(this.increaseAutoRender=!1,this.pluginService.findPluginsByName("IncrementalAutoRenderPlugin").forEach(e=>{this.pluginService.unRegister(e)}))}enableDirtyBounds(){if(this.dirtyBounds)return;this.dirtyBounds=new Xo;let e=this.pluginService.findPluginsByName("DirtyBoundsPlugin")[0];e?e.activate(this.pluginService):(e=new JWt,this.pluginService.register(e))}disableDirtyBounds(){this.dirtyBounds&&(this.dirtyBounds=null,this.pluginService.findPluginsByName("DirtyBoundsPlugin").forEach(e=>{this.pluginService.unRegister(e)}))}enableLayout(){if(this._enableLayout)return;this._enableLayout=!0;const e=tm.getPlugin("FlexLayoutPlugin");e&&this.pluginService.register(new e)}disableLayout(){this._enableLayout&&(this._enableLayout=!1,this.pluginService.findPluginsByName("FlexLayoutPlugin").forEach(e=>{this.pluginService.unRegister(e)}))}enableHtmlAttribute(e){if(this.htmlAttribute)return;const t=tm.getPlugin("HtmlAttributePlugin");t&&(this.htmlAttribute=e,this.pluginService.register(new t))}disableHtmlAttribute(){this.htmlAttribute&&(this.htmlAttribute=!1,this.pluginService.findPluginsByName("HtmlAttributePlugin").forEach(e=>{this.pluginService.unRegister(e)}))}enableReactAttribute(e){if(this.reactAttribute)return;const t=tm.getPlugin("ReactAttributePlugin");t&&(this.reactAttribute=e,this.pluginService.register(new t))}disableReactAttribute(){this.reactAttribute&&(this.reactAttribute=!1,this.pluginService.findPluginsByName("ReactAttributePlugin").forEach(e=>{this.pluginService.unRegister(e)}))}getPluginsByName(e){return this.pluginService.findPluginsByName(e)}tryUpdateAABBBounds(){const e=this.window.getViewBox();return this._AABBBounds.setValue(e.x1,e.y1,e.x2,e.y2),this._AABBBounds}combineLayer(e,t){throw new Error("")}createLayer(e,t){if(this.releaseStatus==="released")return;const i=this.layerService.createLayer(this,{main:!1,layerMode:t,canvasId:e});return this.appendChild(i),i}sortLayer(e){const t=this.children;t.sort(e),this.removeAllChild(),t.forEach(i=>{this.appendChild(i)})}removeLayer(e){return this.removeChild(this.findChildByUid(e))}tryInitInteractiveLayer(){this.releaseStatus!=="released"&&this.supportInteractiveLayer&&!this.interactiveLayer&&(this.interactiveLayer=this.createLayer(),this.interactiveLayer.name="_builtin_interactive",this.interactiveLayer.attribute.pickable=!1,this.nextFrameRenderLayerSet.add(this.interactiveLayer))}clearViewBox(e){this.window.clearViewBox(e)}render(e,t){if(this.releaseStatus==="released")return;this.startAnimate();const i=this.state;this.state="rendering",this.layerService.prepareStageLayer(this),this._skipRender||(this.lastRenderparams=t,this.hooks.beforeRender.call(this),this._skipRender||(this.renderLayerList(this.children),this.combineLayersToWindow(),this.nextFrameRenderLayerSet.clear()),this.hooks.afterRender.call(this)),this.state=i,this._skipRender&&this._skipRender++}combineLayersToWindow(){if(this.global.env==="harmony"){const e=this.window.getContext().nativeContext;this.forEachChildren((t,i)=>{if(i>0){const r=t.getNativeHandler().getContext().canvas.nativeCanvas.nativeCanvas._c.transferToImageBitmap();e.transferFromImageBitmap(r)}})}}renderNextFrame(e,t){this.nextFrameRenderLayerSet.size!==this.childrenCount&&(e||this).forEach(i=>{this.nextFrameRenderLayerSet.add(i)}),this.willNextFrameRender||(this.willNextFrameRender=!0,this.global.getSpecifiedRequestAnimationFrame(this.rafId)(()=>{this._doRenderInThisFrame(),this.willNextFrameRender=!1}))}_doRenderInThisFrame(){if(this.releaseStatus==="released")return;this.startAnimate();const e=this.state;this.state="rendering",this.layerService.prepareStageLayer(this),this.nextFrameRenderLayerSet.size&&!this._skipRender&&(this.hooks.beforeRender.call(this),this._skipRender||(this.renderLayerList(Array.from(this.nextFrameRenderLayerSet.values()),this.lastRenderparams||{}),this.combineLayersToWindow(),this.nextFrameRenderLayerSet.clear()),this.hooks.afterRender.call(this)),this.state=e,this._skipRender&&this._skipRender++}renderLayerList(e,t){const i=[];for(let r=0;r<e.length;r++){let s=e[r];s.layerMode==="virtual"&&(s=s.getNativeHandler().mainHandler.layer),i.includes(s)||i.push(s)}i.forEach(r=>{r.renderCount>this.renderCount||(r.renderCount=this.renderCount+1,r===this.interactiveLayer&&this.dirtyBounds&&this.dirtyBounds.clear(),r.render({renderService:this.renderService,background:r===this.defaultLayer?this.background:void 0,updateBounds:!(!this.dirtyBounds||this.dirtyBounds.empty()),viewBox:this.window.getViewBox(),transMatrix:this.window.getViewBoxTransform()},Object.assign({renderStyle:this.renderStyle},t)))}),this.interactiveLayer&&!e.includes(this.interactiveLayer)&&(this.dirtyBounds&&this.dirtyBounds.clear(),this.interactiveLayer.render({renderService:this.renderService,updateBounds:!(!this.dirtyBounds||this.dirtyBounds.empty()),viewBox:this.window.getViewBox(),transMatrix:this.window.getViewBoxTransform()},Object.assign({renderStyle:this.renderStyle},t)))}resizeWindow(e,t,i=!0){this.window.resize(e,t),i&&this.render()}resize(e,t,i=!0){this.releaseStatus!=="released"&&(this.window.hasSubView()||this.viewBox.setValue(this.viewBox.x1,this.viewBox.y1,this.viewBox.x1+e,this.viewBox.y1+t),this.window.resize(e,t),this.forEachChildren(r=>{r.resize(e,t)}),this.camera&&this.option3d&&this.set3dOptions(this.option3d),i&&this.render())}resizeView(e,t,i=!0){this.releaseStatus!=="released"&&(this.viewBox.setValue(this.viewBox.x1,this.viewBox.y1,this.viewBox.x1+e,this.viewBox.y1+t),this.forEachChildren(r=>{r.resizeView(e,t)}),this.camera&&(this.camera.params=Object.assign(Object.assign({},this.camera.params),{right:this.width,bottom:this.height})),i&&this.render())}setViewBox(e,t,i,r,s){let a=!0;typeof e=="object"?(this.viewBox.setValue(e.x1,e.y1,e.x2,e.y2),t===!1&&(a=!1)):(this.viewBox.setValue(e,t,e+i,t+r),s===!1&&(a=!1)),this.forEachChildren(o=>{o.resizeView(this.viewBox.width(),this.viewBox.height())}),a&&this.render()}setDpr(e,t=!0){this.forEachChildren(i=>{i.setDpr(e)}),t&&this.render()}setOrigin(e,t){throw new Error("")}export(e){throw new Error("")}pick(e,t){if(this.releaseStatus==="released")return;const i=this.getPickerService().pick(this.children,new Zi(e,t),{bounds:this.AABBBounds});return!(!(i!=null&&i.graphic)&&!(i!=null&&i.group))&&i}setToFrame(e){throw new Error("")}release(){var e,t;super.release(),this.hooks.beforeRender.unTap("constructor",this.beforeRender),this.hooks.afterRender.unTap("constructor",this.afterRender),this.eventSystem&&this.eventSystem.release(),this.layerService.releaseStage(this),this.pluginService.release(),this.forEach(i=>{i.release()}),this.interactiveLayer&&(this.interactiveLayer.forEachChildren(i=>{i.setStage&&i.setStage(null,null),this.interactiveLayer.removeChild(i)}),this.interactiveLayer.release()),this.window.release(),(e=this._ticker)===null||e===void 0||e.remTimeline(this==null?void 0:this.timeline),(t=this._ticker)===null||t===void 0||t.removeListener("tick",this.afterTickCb),this.renderService.renderTreeRoots=[]}setStage(e){}dirty(e,t){this.releaseStatus!=="released"&&(t&&e.transformWithMatrix(t),this.dirtyBounds.empty()&&this.dirtyBounds.setValue(e.x1,e.y1,e.x2,e.y2),this.dirtyBounds.union(e))}getLayer(e){return this.children.filter(t=>t.name===e)[0]}renderTo(e){this.releaseStatus!=="released"&&this.forEachChildren((t,i)=>{t.drawTo(e,{renderService:this.renderService,viewBox:e.getViewBox(),transMatrix:e.getViewBoxTransform(),background:t===this.defaultLayer?this.background:void 0,clear:i===0,updateBounds:!(!this.dirtyBounds||this.dirtyBounds.empty())})})}renderToNewWindow(e=!0,t){if(this.releaseStatus==="released")return;const i=Tn.get(NF),r=t?-t.x1:0,s=t?-t.y1:0,a=t?t.x2:this.viewWidth,o=t?t.y2:this.viewHeight,l=t?t.width():this.viewWidth,u=t?t.height():this.viewHeight;return i.create({viewBox:{x1:r,y1:s,x2:a,y2:o},width:l,height:u,dpr:this.window.dpr,canvasControled:!0,offscreen:!0,title:""}),this.renderTo(i),i}toCanvas(e=!0,t){if(this.releaseStatus==="released")return;const i=this.renderToNewWindow(e,t).getNativeHandler();return i.nativeCanvas?i.nativeCanvas:null}setCursor(e){this._cursor=e,this.eventSystem.setCursor(e,"ignore")}getCursor(){return this._cursor}eventPointTransform(e){const t=this.global.mapToCanvasPoint(e,this.window);return this.stage.window.pointTransform(t.x,t.y)}pauseTriggerEvent(){this._eventSystem&&this._eventSystem.pauseTriggerEvent()}resumeTriggerEvent(){this._eventSystem&&this._eventSystem.resumeTriggerEvent()}getPickerService(){return this.pickerService||(this.pickerService=Tn.get($w)),this.pickerService}reInit(){this.renderService.reInit(),this.pickerService.reInit()}}var nUt=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},iUt=function(n,e,t,i){return new(t||(t=Promise))(function(r,s){function a(u){try{l(i.next(u))}catch(c){s(c)}}function o(u){try{l(i.throw(u))}catch(c){s(c)}}function l(u){var c;u.done?r(u.value):(c=u.value,c instanceof t?c:new t(function(d){d(c)})).then(a,o)}l((i=i.apply(n,e||[])).next())})};let xB=class{configure(n,...e){n.env===this.type&&n.setActiveEnvContribution(this)}getNativeAABBBounds(n){return new ms}removeDom(n){return!1}createDom(n){return null}updateDom(n,e){return!1}getDynamicCanvasCount(){return 999}getStaticCanvasCount(){return 999}getElementById(n){return document.getElementById(n)}getRootElement(){return document.body}loadJson(n){const e=fetch(n).then(t=>t.json());return e.then(t=>({data:t,state:"success"})).catch(()=>({data:null,state:"fail"})),e}loadArrayBuffer(n){return fetch(n).then(e=>e.arrayBuffer()).then(e=>({data:e,loadState:"success"})).catch(()=>({data:null,loadState:"fail"}))}loadBlob(n){return fetch(n).then(e=>e.blob()).then(e=>({data:e,loadState:"success"})).catch(()=>({data:null,loadState:"fail"}))}getElementTop(n,e){return 0}getElementLeft(n,e){return 0}getElementTopLeft(n,e){return{top:0,left:0}}loadFont(n,e,t){return iUt(this,void 0,void 0,function*(){return{loadState:"fail"}})}isMacOS(){return!1}copyToClipBoard(n){return Promise.resolve(null)}};xB=nUt([Nt()],xB);var rUt=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},sUt=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)};let wB=class{constructor(){this._uid=aa.GenAutoIncrementId(),this.viewBox=new ms,this.modelMatrix=new Rr(1,0,0,1,0,0)}onChange(n){this._onChangeCb=n}configure(n,e){e.env===this.type&&n.setWindowHandler(this)}release(...n){this.releaseWindow()}isVisible(n){return!0}onVisibleChange(n){}getTopLeft(n){return{top:0,left:0}}setViewBox(n){this.viewBox.setValue(n.x1,n.y1,n.x2,n.y2)}getViewBox(){return this.viewBox}setViewBoxTransform(n,e,t,i,r,s){this.modelMatrix.setValue(n,e,t,i,r,s)}getViewBoxTransform(){return this.modelMatrix}};wB=rUt([Nt(),sUt("design:paramtypes",[])],wB);var aUt=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},oUt=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},PD=function(n,e){return function(t,i){e(t,i,n)}};let FY=class{constructor(n,e){this.pickItemInterceptorContributions=n,this.pickServiceInterceptorContributions=e,this.type="default",this.global=lt.global}reInit(){this._init()}_init(){this.InterceptorContributions=this.pickItemInterceptorContributions.getContributions().sort((n,e)=>n.order-e.order),this.pickerServiceInterceptorContributions=this.pickServiceInterceptorContributions.getContributions().sort((n,e)=>n.order-e.order)}pick(n,e,t){let i={graphic:null,group:null};t.pickerService=this;const r=t.bounds.width(),s=t.bounds.height();if(!new ms().setValue(0,0,r,s).containsPoint(e))return i;this.pickContext&&(this.pickContext.inuse=!0),t.pickContext=this.pickContext,this.pickContext&&this.pickContext.clearMatrix(!0,1);const a=new Rr(1,0,0,1,0,0);let o;for(let l=n.length-1;l>=0&&(i=n[l].isContainer?this.pickGroup(n[l],e,a,t):this.pickItem(n[l],e,a,t),!i.graphic);l--)o||(o=i.group);if(i.graphic||(i.group=o),this.pickContext&&(this.pickContext.inuse=!1),this.pickerServiceInterceptorContributions.length)for(let l=0;l<this.pickerServiceInterceptorContributions.length;l++){const u=this.pickerServiceInterceptorContributions[l];u.afterPickItem&&(i=u.afterPickItem(i,this,e,t,{parentMatrix:a}))}return i}containsPoint(n,e,t){var i;return!!(!((i=this.pickItem(n,e,null,t??{pickContext:this.pickContext,pickerService:this}))===null||i===void 0)&&i.graphic)}pickGroup(n,e,t,i){let r={group:null,graphic:null};if(n.attribute.visibleAll===!1)return r;const s=i.pickContext,a=s.modelMatrix;if(s.camera){const f=n.transMatrix,p=Ba.allocate();if(oY(p,f),a){if(p){const g=Ba.allocate();s.modelMatrix=bM(g,a,p),Ba.free(p)}}else oY(p,n.globalTransMatrix),s.modelMatrix=p}if(this.InterceptorContributions.length)for(let f=0;f<this.InterceptorContributions.length;f++){const p=this.InterceptorContributions[f];if(p.beforePickItem){const g=p.beforePickItem(n,this,e,i,{parentMatrix:t});if(g)return s.modelMatrix!==a&&Ba.free(s.modelMatrix),s.modelMatrix=a,g}}const o=n.transMatrix,l=Uo.allocateByObj(t),u=new Zi(e.x,e.y);l.transformPoint(u,u);const c=n.AABBBounds.containsPoint(u);if(!c&&!n.stage.camera)return r;const d=this.pickItem(n,u.clone(),t,i);d&&d.graphic&&(r.graphic=d.graphic,r.params=d.params);const h=n.attribute.pickable!==!1&&c;return l.multiply(o.a,o.b,o.c,o.d,o.e,o.f),n.attribute.childrenPickable===!1||d&&d.graphic||iPe(n,ps.zIndex,f=>{if(f.isContainer){const p=new Zi(e.x,e.y),g=Bn(n).group,{scrollX:m=g.scrollX,scrollY:v=g.scrollY}=n.attribute;p.x-=m,p.y-=v,r=this.pickGroup(f,p,l,i)}else{const p=new Zi(e.x,e.y);l.transformPoint(p,p);const g=Bn(n).group,{scrollX:m=g.scrollX,scrollY:v=g.scrollY}=n.attribute;p.x-=m,p.y-=v;const _=this.pickItem(f,p,t,i);_&&_.graphic&&(r.graphic=_.graphic,r.params=_.params)}return!!r.graphic||!!r.group},!0,!!s.camera),s.modelMatrix!==a&&Ba.free(s.modelMatrix),s.modelMatrix=a,r.graphic||r.group||!h||n.stage.camera||(r.group=n),Uo.free(l),r}selectPicker(n){return this.pickerMap.get(n.numberType)||null}};FY=aUt([Nt(),PD(0,Vn(ia)),PD(0,Ha(Xx)),PD(1,Vn(ia)),PD(1,Ha(hB)),oUt("design:paramtypes",[Object,Object])],FY);function lUt(n,e){let t,i,r=n[0].x,s=n[0].y;const a=[n[0]];for(let o=1,l=n.length;o<l;o++)t=n[o].x-r,i=n[o].y-s,t*t+i*i>e&&(r=n[o].x,s=n[o].y,a.push(n[o]));return n[n.length-1].x===r&&n[n.length-1].y===s||a.push(n[n.length-1]),a}function uUt(n,e,t){return n.length<=10?n:n=lUt(n,e!==void 0?e*e:1)}function cUt(n,e,t){const i={};for(const r in e)r in n&&Oi(n[r],e[r])||(i[r]=e[r]);return i}function Uhe(n,e,t,i,r,s){const a=(e-n)*r+n,o=(t-e)*r+e,l=(i-t)*r+t,u=(o-a)*r+a,c=(l-o)*r+o,d=(c-u)*r+u;s[0]=n,s[1]=a,s[2]=u,s[3]=d,s[4]=d,s[5]=c,s[6]=l,s[7]=i}function dUt(n,e){const t=n.length,i=e.length;if(t===i)return[n,e];const r=[],s=[],a=t<i?n:e,o=Math.min(t,i),l=Math.abs(i-t)/6,u=(o-2)/6,c=Math.ceil(l/u),d=[a[0],a[1]];let h=l;for(let f=2;f<o;f+=6){let p=a[f-2],g=a[f-1],m=a[f],v=a[f+1],_=a[f+2],y=a[f+3];const x=a[f+4],w=a[f+5];if(h<=0){d.push(m,v,_,y,x,w);continue}const T=Math.min(h,c)+1;for(let E=1;E<=T;E++){const A=E/T;Uhe(p,m,_,x,A,r),Uhe(g,v,y,w,A,s),p=r[3],g=s[3],d.push(r[1],s[1],r[2],s[2],p,g),m=r[5],v=s[5],_=r[6],y=s[6]}h-=T-1}return a===n?[d,e]:[n,d]}function Ghe(n,e){const t=n||e,i=t.length,r=t[i-2],s=t[i-1],a=[];for(let o=0;o<e.length;o+=2)a[o]=r,a[o+1]=s;return a}function hUt(n){const e=[],t=n.length;for(let i=0;i<t;i+=2)e[i]=n[t-i-2],e[i+1]=n[t-i-1];return e}function Yhe(n){let e=0,t=0,i=0;const r=n.length;for(let s=0,a=r-2;s<r;a=s,s+=2){const o=n[a],l=n[a+1],u=n[s],c=n[s+1],d=o*c-u*l;e+=d,t+=(o+u)*d,i+=(l+c)*d}return e===0?[n[0]||0,n[1]||0,0]:[t/e/3,i/e/3,e]}function fUt(n,e,t,i){const r=(n.length-2)/6;let s=1/0,a=0;const o=n.length,l=o-2;for(let u=0;u<r;u++){const c=6*u;let d=0;for(let h=0;h<o;h+=2){const f=h===0?c:(c+h-2)%l+2,p=n[f]-t[0],g=n[f+1]-t[1],m=e[h]-i[0]-p,v=e[h+1]-i[1]-g;d+=m*m+v*v}d<s&&(s=d,a=u)}return a}function pUt(n,e,t,i){const r=[];let s;for(let a=0;a<n.length;a++){let o=n[a];const l=e[a],u=Yhe(o),c=Yhe(l);s==null&&(s=u[2]<0!=c[2]<0);const d=[],h=[];let f=0,p=1/0;const g=[],m=o.length;s&&(o=hUt(o));const v=6*fUt(o,l,u,c),_=m-2;for(let y=0;y<_;y+=2){const x=(v+y)%_+2;d[y+2]=o[x]-u[0],d[y+3]=o[x+1]-u[1]}if(d[0]=o[v]-u[0],d[1]=o[v+1]-u[1],t>0){const y=i/t;for(let x=-i/2;x<=i/2;x+=y){const w=Math.sin(x),T=Math.cos(x);let E=0;for(let A=0;A<o.length;A+=2){const k=d[A],P=d[A+1],I=l[A]-c[0],D=l[A+1]-c[1],L=I*T-D*w,B=I*w+D*T;g[A]=L,g[A+1]=B;const F=L-k,$=B-P;E+=F*F+$*$}if(E<p){p=E,f=x;for(let A=0;A<g.length;A++)h[A]=g[A]}}}r.push({from:d,to:h,fromCp:u,toCp:c,rotation:-f})}return r}function gUt(n,e){let t,i;const r=[],s=[];for(let a=0;a<Math.max(n.length,e.length);a++){const o=n[a],l=e[a];let u,c;o?l?([u,c]=dUt(o,l),t=u,i=c):(c=Ghe(i,o),u=o):(u=Ghe(t,l),c=l),r.push(u),s.push(c)}return[r,s]}function BY(n){const e=new Ts,t=n.toString();if(!t)return[];e.fromString(t);const i=e.tryBuildCurves();if(!i||i.length===0)return[];const r=[];let s=null;s=[];let a=0,o=0,l=0,u=0,c=!0;for(let h=0;h<i.length;h++){const f=i[h];if(c&&(a=f.p0.x,o=f.p0.y,l=a,u=o,s=[a,o],r.push(s),c=!1),f.p1&&f.p2&&f.p3)s.push(f.p1.x,f.p1.y,f.p2.x,f.p2.y,f.p3.x,f.p3.y),l=f.p3.x,u=f.p3.y;else if(f.p1&&f.p2){const p=f.p1.x,g=f.p1.y,m=f.p2.x,v=f.p2.y;s.push(l+2/3*(p-l),u+2/3*(g-u),m+2/3*(p-m),v+2/3*(g-v),m,v),l=m,u=v}else if(f.p1){const p=f.p1.x,g=f.p1.y;Math.abs(l-p)<1e-10&&Math.abs(u-g)<1e-10||s.push(l,u,p,g,p,g),l=p,u=g}if(h===i.length-1&&Math.abs(l-a)<1e-10&&Math.abs(u-o)<1e-10,h<i.length-1){const p=i[h+1];(Math.abs(l-p.p0.x)>1e-10||Math.abs(u-p.p0.y)>1e-10)&&(c=!0)}}const d=r.filter(h=>h.length>2);return d.length===1?[d[0]]:d}function Khe(n,e){for(let t=0;t<n.length;t++){const i=n[t];for(let r=0;r<i.length;r+=2){const s=i[r],a=i[r+1],o={x:s,y:a};e.transformPoint({x:s,y:a},o),i[r]=o.x,i[r+1]=o.y}}}function mUt(n){const e=new Ts;for(let t=0;t<n.length;t++){const i=n[t];if(i.length>2){e.moveTo(i[0],i[1]);for(let r=2;r<i.length;r+=6)e.bezierCurveTo(i[r],i[r+1],i[r+2],i[r+3],i[r+4],i[r+5])}}return e}function IZ(n,e,t){const i=n/e;let r,s;n>=e?(s=Math.ceil(Math.sqrt(t*i)),r=Math.floor(t/s),r===0&&(r=1,s=t)):(r=Math.ceil(Math.sqrt(t/i)),s=Math.floor(t/r),s===0&&(s=1,r=t));const a=[];for(let l=0;l<r;l++)a.push(s);const o=t-r*s;if(o>0)for(let l=0;l<o;l+=s)l+s<o?a.push(s):a.push(o-l);return a}const vUt=(n,e)=>{const{width:t,height:i}=UOe(n.attribute),r=IZ(t,i,e),s=[],a=i/r.length;for(let o=0,l=r.length;o<l;o++){const u=r[o],c=t/u;for(let d=0;d<u;d++)s.push({x:0+d*c,y:0+o*a,width:c,height:a})}return s},yUt=(n,e)=>{const t=n.getParsedAngle(),i=t.startAngle,r=t.endAngle,s=n.getComputedAttribute("innerRadius"),a=n.getComputedAttribute("outerRadius"),o=Math.abs(i-r),l=Math.abs(a-s),u=IZ(o*(s+a)/2,l,e),c=[],d=l/u.length,h=a>=s?1:-1,f=r>=i?1:-1;for(let p=0,g=u.length;p<g;p++){const m=u[p],v=o/m;for(let _=0;_<m;_++)c.push({innerRadius:a-d*p*h,outerRadius:a-d*(p+1)*h,startAngle:i+v*_*f,endAngle:i+v*(_+1)*f})}return c},_Ut=(n,e)=>{const t=n.getComputedAttribute("startAngle"),i=n.getComputedAttribute("endAngle"),r=n.getComputedAttribute("radius"),s=Math.abs(t-i),a=IZ(s*r,r,e),o=[],l=s/a[0],u=r/a.length,c=i>=t?1:-1;for(let d=0,h=a.length;d<h;d++)for(let f=0,p=a[d];f<p;f++)o.push({innerRadius:u*d,outerRadius:u*(d+1),startAngle:t+l*f*c,endAngle:t+l*(f+1)*c});return o},Xhe=(n,e)=>{const t=n.filter(o=>o.defined!==!1&&st(o.x)&&st(o.y));if(t.length===0)return[];if(t.length===1)return new Array(e).fill(0).map(o=>t[0]);const i=[];if(e<=t.length){const o=t.length/e;let l=0,u=0;for(;l<e;)i.push(t[Math.floor(u)]),u+=o,l++;return i}const r=e-t.length,s=1/(r/(t.length-1)+1);let a=0;for(let o=0,l=n.length;o<l;o++)if(i.push(n[o]),o<l-1){let u=s;const c=n[o].x,d=n[o].y,h=n[o+1].x,f=n[o+1].y;for(;u<1&&a<r;)i.push({x:c+(h-c)*u,y:d+(f-d)*u}),u+=s,a+=1}return i},bUt=(n,e)=>{var t,i;const r=n.attribute;let s=r.points;const a=r.segments;s||(s=a.reduce((c,d)=>{var h;return c.concat((h=d.points)!==null&&h!==void 0?h:[])},[]));const o=s.filter(c=>c.defined!==!1&&st(c.x)&&st(c.y));if(!o.length)return[];const l=[];o.forEach(c=>{l.push({x:c.x,y:c.y})});for(let c=o.length-1;c>=0;c--){const d=o[c];l.push({x:(t=d.x1)!==null&&t!==void 0?t:d.x,y:(i=d.y1)!==null&&i!==void 0?i:d.y})}const u=[];return DO(l,e,u),u},SUt=(n,e)=>{const t=n.attribute,i=t.points;if(i)return Xhe(i,e);if(t.segments){const r=t.segments.reduce((s,a)=>{var o;return s.concat((o=a.points)!==null&&o!==void 0?o:[])},[]);return Xhe(r,e)}return[]};function xUt(n,e){return n[0]*e[1]-n[1]*e[0]}const $Y=n=>n.map(e=>({x:e.x,y:e.y})),qhe=(n,e,t)=>{const i=n.length,r=[];for(let d=0;d<i;d++){const h=n[d],f=d===i-1?n[0]:n[d+1],p=XAe([e.x,e.y],[t.x,t.y],[h.x,h.y],[f.x,f.y]);p&&typeof p!="boolean"&&r.push({dot:xUt([p[0]-e.x,p[1]-e.x],[t.x-e.x,t.y-e.x]),point:{x:p[0],y:p[1]},edgeIndex:d})}if(r.length<2)return[$Y(n),$Y(n)];r.sort((d,h)=>d.dot-h.dot);let s=r[0],a=r[r.length-1];s.edgeIndex>a.edgeIndex&&([s,a]=[a,s]);const o=s.point,l=a.point,u=[{x:o.x,y:o.y}];for(let d=s.edgeIndex+1;d<=a.edgeIndex;d++)u.push({x:n[d].x,y:n[d].y});u.push({x:l.x,y:l.y});const c=[{x:l.x,y:l.y}];for(let d=a.edgeIndex+1,h=s.edgeIndex+i;d<=h;d++){const f=n[d%i];c.push({x:f.x,y:f.y})}return c.push({x:o.x,y:o.y}),[u,c]},wUt=n=>{const e=new Xo;n.forEach(s=>{e.add(s.x,s.y)});const t=e.width(),i=e.height();if(t>=i){const s=e.x1+t/2;return qhe(n,{x:s,y:e.y1},{x:s,y:e.y2})}const r=e.y1+i/2;return qhe(n,{x:e.x1,y:r},{x:e.x2,y:r})},DO=(n,e,t)=>{if(e===1)t.push({points:n});else{const i=Math.floor(e/2),r=wUt(n);DO(r[0],i,t),DO(r[1],e-i,t)}},CUt=(n,e)=>{const t=n.attribute.points;if(!t||!t.length)return[];if(e===1)return[{points:$Y(t)}];const i=[];return DO(t,e,i),i},TUt=(n,e)=>{const t=n.getParsedPathShape(),i=BY(t);if(!i.length||e<0)return[];const r=i.length;if(i.length>=e){const l=[],u=Math.floor(i.length/e);for(let c=0;c<e;c++){const d=i.slice(c*u,c===e-1?r:(c+1)*u);l.push({path:mUt(d)})}return l}const s=[],a=Math.floor(e/r);let o=e;for(let l=0;l<r;l++){const u=[];for(let c=2,d=i[l].length;c<d;c+=2)u.push({x:i[0][c],y:i[0][c+1]});DO(u,l===r-1?o:a,s),o-=a}return s};let Zhe=!1;const EUt=new Pn(n=>{Zhe||(Zhe=!0,n(KF).toSelf().inSingletonScope(),n(tB).to(KF).inSingletonScope(),n(ql).toService(tB),n(hY).toService(xh),Wo(n,hY))});let Qhe=!1;const AUt=new Pn(n=>{Qhe||(Qhe=!0,n(QF).toSelf().inSingletonScope(),n(oB).to(QF).inSingletonScope(),n(ql).toService(oB),n(YF).toSelf(),n(GF).toSelf(),n(HE).toService(YF),n(HE).toService(GF),n(HE).toService(xh),Wo(n,HE))});let Jhe=!1;const kUt=new Pn(n=>{Jhe||(Jhe=!0,n(IO).toSelf().inSingletonScope(),n(_B).toSelf().inSingletonScope(),n(rB).to(IO).inSingletonScope(),n(ql).toService(rB))});let efe=!1;const OUt=new Pn(n=>{efe||(efe=!0,n(RO).toSelf().inSingletonScope(),n(nB).to(RO).inSingletonScope(),n(ql).toService(nB),n(fY).toService(xh),Wo(n,fY),n(bB).toSelf().inSingletonScope())});let tfe=!1;const PUt=new Pn(n=>{tfe||(tfe=!0,n(JF).toSelf().inSingletonScope(),n(lB).to(JF).inSingletonScope(),n(ql).toService(lB),n(yY).toService(xh),Wo(n,yY))});let nfe=!1;const MUt=new Pn(n=>{nfe||(nfe=!0,n(XF).toSelf().inSingletonScope(),n(iB).to(XF).inSingletonScope(),n(ql).toService(iB),n(pY).toService(xh),Wo(n,pY))});let ife=!1;const IUt=new Pn(n=>{ife||(ife=!0,n(OY).to(TY).inSingletonScope(),n(ql).toService(OY),n(_Y).toService(xh),Wo(n,_Y))});let rfe=!1;const RUt=new Pn(n=>{rfe||(rfe=!0,n(ZF).toSelf().inSingletonScope(),n(sB).to(ZF).inSingletonScope(),n(ql).toService(sB),n(mY).toService(xh),Wo(n,mY))});let sfe=!1;const DUt=new Pn(n=>{sfe||(sfe=!0,n(aB).to(EY).inSingletonScope(),n(ql).toService(aB),n(vY).toService(xh),Wo(n,vY))});var LUt=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a};let NY=class{constructor(){this.numberType=fZ}reInit(){}drawShape(n,e,t,i,r,s,a,o){r.drawContribution&&n.getSubGraphic().forEach(l=>{const u=r.drawContribution.getRenderContribution(l);u&&u.drawShape&&u.drawShape(l,e,t,i,r,s,a,o)})}draw(n,e,t,i){const{context:r}=t;if(!r||(r.highPerformanceSave(),!t.drawContribution))return;const s=Bn(n),a=n.getSubGraphic();a.length&&a.forEach(o=>{t.drawContribution.renderItem(o,t,{theme:s})}),r.highPerformanceRestore()}};NY=LUt([Nt()],NY);let afe=!1;const FUt=new Pn(n=>{afe||(afe=!0,n(uB).to(NY).inSingletonScope(),n(ql).toService(uB))});var BUt=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},$Ut=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)};let jY=class extends fd{constructor(){super(),this.numberType=mZ,this.builtinContributions=[ZOe],this.init()}drawShape(n,e,t,i,r){const s=Bn(n).richtext,{strokeOpacity:a=s.strokeOpacity,opacity:o=s.opacity,fillOpacity:l=s.fillOpacity,visible:u=s.visible}=n.attribute;if(!n.valid||!u)return;const c=b0(o,l,!0),d=b0(o,a,!0);c&&(e.setShadowBlendStyle&&e.setShadowBlendStyle(n,n.attribute,s),e.translate(t,i),this.beforeRenderStep(n,e,t,i,c,d,c,d,s,r),n.getFrameCache().draw(e,this.drawIcon),this.afterRenderStep(n,e,t,i,c,d,c,d,s,r))}drawIcon(n,e,t,i,r){var s;const a=Bn(n).richtextIcon,{width:o=a.width,height:l=a.height,opacity:u=a.opacity,image:c,backgroundFill:d=a.backgroundFill,backgroundFillOpacity:h=a.backgroundFillOpacity,backgroundStroke:f=a.backgroundStroke,backgroundStrokeOpacity:p=a.backgroundStrokeOpacity,backgroundRadius:g=a.backgroundRadius,margin:m}=n.attribute,{backgroundWidth:v=o,backgroundHeight:_=l}=n.attribute;if(m&&(t+=n._marginArray[3],i+=n._marginArray[0]),n._hovered){const x=(v-o)/2,w=(_-l)/2;g===0?(e.beginPath(),e.rect(t-x,i-w,v,_)):(e.beginPath(),X0(e,t-x,i-w,v,_,g,!0)),d&&(e.globalAlpha=h,e.fillStyle=d,e.fill()),f&&(e.globalAlpha=p,e.strokeStyle=f,e.stroke())}const y=c&&((s=n==null?void 0:n.resources)===null||s===void 0?void 0:s.get(c));y&&y.state==="success"&&(e.globalAlpha=u,e.drawImage(y.data,t,i,o,l))}draw(n,e,t){const i=Bn(n).richtext;this._draw(n,i,!1,t)}};jY=BUt([Nt(),$Ut("design:paramtypes",[])],jY);let ofe=!1;const NUt=new Pn(n=>{ofe||(ofe=!0,n(PY).to(jY).inSingletonScope(),n(ql).toService(PY))});let lfe=!1;const jUt=new Pn(n=>{lfe||(lfe=!0,n(MY).to(kY).inSingletonScope(),n(ql).toService(MY),n(gY).toService(xh),Wo(n,gY))});function zUt(){It.RegisterGraphicCreator("arc",kZ)}function HUt(){It.RegisterGraphicCreator("area",GOe)}function VUt(){It.RegisterGraphicCreator("circle",XVt)}function WUt(){It.RegisterGraphicCreator("glyph",wZ)}function UUt(){It.RegisterGraphicCreator("group",WF)}function GUt(){It.RegisterGraphicCreator("image",TZ)}function YUt(){It.RegisterGraphicCreator("line",wM)}function KUt(){It.RegisterGraphicCreator("path",AZ)}function XUt(){It.RegisterGraphicCreator("polygon",YOe)}function qUt(){It.RegisterGraphicCreator("rect",CM)}function ZUt(){It.RegisterGraphicCreator("richtext",EZ)}function QUt(){It.RegisterGraphicCreator("symbol",H1)}function JUt(){It.RegisterGraphicCreator("text",xM)}function e6t(){It.RegisterGraphicCreator("shadowRoot",n4t)}class rPe{constructor(){this.name="HtmlAttributePlugin",this.activeEvent="onRegister",this._uid=aa.GenAutoIncrementId(),this.key=this.name+this._uid,this.htmlMap={},this.renderId=0,this.onWheel=e=>{try{const t=new e.constructor(e.type,e);this.pluginService.stage.window.getContext().getCanvas().nativeCanvas.dispatchEvent(t)}catch{return}}}activate(e){this.pluginService=e,e.stage.hooks.afterRender.tap(this.key,t=>{t&&t===this.pluginService.stage&&this.drawHTML([...e.stage.getChildren()])})}deactivate(e){e.stage.hooks.afterRender.taps=e.stage.hooks.afterRender.taps.filter(t=>t.name!==this.key),this.release()}getWrapContainer(e,t,i){let r;return r=t?typeof t=="string"?lt.global.getElementById(t):t:e.window.getContainer(),{wrapContainer:lt.global.createDom(Object.assign({tagName:"div",parent:r},i)),nativeContainer:r}}parseDefaultStyleFromGraphic(e){const t=e.type==="text"&&e.attribute?e.attribute:Bn(e).text;return WVt(t)}getTransformOfText(e){const t=Bn(e).text,{textAlign:i=t.textAlign,textBaseline:r=t.textBaseline}=e.attribute,s=e.globalTransMatrix.toTransformAttrs(),{rotateDeg:a,scaleX:o,scaleY:l}=s,u={left:"0",start:"0",end:"-100%",center:"-50%",right:"-100%",top:"0",middle:"-50%",bottom:"-100%",alphabetic:"-79%"},c={left:"0",start:"0",end:"100%",center:"50%",right:"100%",top:"0",middle:"50%",bottom:"100%",alphabetic:"79%"};return{textAlign:i,transform:`translate(${u[i]},${u[r]}) rotate(${a}deg) scaleX(${o}) scaleY(${l})`,transformOrigin:`${c[i]} ${c[r]}`}}updateStyleOfWrapContainer(e,t,i,r,s){const{pointerEvents:a,penetrateEventList:o=[]}=s;let l=this.parseDefaultStyleFromGraphic(e);l.display=e.attribute.visible!==!1?"block":"none",l.pointerEvents=a===!0?"all":a||"none",l.pointerEvents!=="none"&&(this.removeWrapContainerEventListener(i),o.forEach(_=>{_==="wheel"&&i.addEventListener("wheel",this.onWheel)})),i.style.position||(i.style.position="absolute",r.style.position="relative");let u=0,c=0;const d=e.globalAABBBounds;let h=s.anchorType;if(J(h)&&(h=e.type==="text"?"position":"boundsLeftTop"),h==="boundsLeftTop"&&(h="top-left"),h==="position"||d.empty()){const _=e.globalTransMatrix;u=_.e,c=_.f}else{const _=JAe(d,h);u=_.x,c=_.y}const f=lt.global.getElementTopLeft(r,!1),p=t.window.getTopLeft(!1),g=t.viewBox,m=u+p.left-f.left+g.x1,v=c+p.top-f.top+g.y1;if(l.left=`${m}px`,l.top=`${v}px`,e.type==="text"&&h==="position"&&(l=Object.assign(Object.assign({},l),this.getTransformOfText(e))),Re(s.style)){const _=s.style({top:v,left:m,width:d.width(),height:d.height()},e,i);_&&(l=Object.assign(Object.assign({},l),_))}else pn(s.style)?l=Object.assign(Object.assign({},l),s.style):Jt(s.style)&&s.style&&(l=Object.assign(Object.assign({},l),vjt(s.style)));lt.global.updateDom(i,{width:s.width,height:s.height,style:l})}clearCacheContainer(){this.htmlMap&&Object.keys(this.htmlMap).forEach(e=>{this.htmlMap[e]&&this.htmlMap[e].renderId!==this.renderId&&this.removeElement(e)}),this.renderId+=1}drawHTML(e){lt.global.env==="browser"&&(e.sort((t,i)=>{var r,s;return((r=t.attribute.zIndex)!==null&&r!==void 0?r:ps.zIndex)-((s=i.attribute.zIndex)!==null&&s!==void 0?s:ps.zIndex)}).forEach(t=>{this.renderGroupHTML(t)}),this.clearCacheContainer())}renderGroupHTML(e){this.renderGraphicHTML(e),e.forEachChildren(t=>{t.isContainer?this.renderGroupHTML(t):this.renderGraphicHTML(t)})}removeElement(e){if(!this.htmlMap||!this.htmlMap[e])return;const{wrapContainer:t}=this.htmlMap[e];t&&lt.global.removeDom(t),this.htmlMap[e]=null}removeWrapContainerEventListener(e){e.removeEventListener("wheel",this.onWheel)}renderGraphicHTML(e){var t;const{html:i}=e.attribute;if(!i)return;const r=e.stage;if(!r)return;const{dom:s,container:a}=i;if(!s)return;const o=J(i.id)?`${(t=e.id)!==null&&t!==void 0?t:e._uid}_react`:i.id;if(this.htmlMap&&this.htmlMap[o]&&a&&a!==this.htmlMap[o].container&&this.removeElement(o),this.htmlMap&&this.htmlMap[o])typeof s=="string"?this.htmlMap[o].wrapContainer.innerHTML=s:s!==this.htmlMap[o].wrapContainer.firstChild&&(this.htmlMap[o].wrapContainer.removeChild(this.htmlMap[o].wrapContainer.firstChild),this.htmlMap[o].wrapContainer.appendChild(s));else{const{wrapContainer:c,nativeContainer:d}=this.getWrapContainer(r,a);c&&(typeof s=="string"?c.innerHTML=s:c.appendChild(s),this.htmlMap||(this.htmlMap={}),this.htmlMap[o]={wrapContainer:c,nativeContainer:d,container:a,renderId:this.renderId})}if(!this.htmlMap||!this.htmlMap[o])return;const{wrapContainer:l,nativeContainer:u}=this.htmlMap[o];this.updateStyleOfWrapContainer(e,r,l,u,i),this.htmlMap[o].renderId=this.renderId}release(){lt.global.env==="browser"&&this.removeAllDom(this.pluginService.stage.defaultLayer)}removeAllDom(e){this.htmlMap&&(Object.keys(this.htmlMap).forEach(t=>{this.removeElement(t)}),this.htmlMap=null)}}const t6t=()=>{tm.registerPlugin("HtmlAttributePlugin",rPe)};class n6t extends rPe{constructor(){super(...arguments),this.name="ReactAttributePlugin",this.activeEvent="onRegister",this._uid=aa.GenAutoIncrementId(),this.key=this.name+this._uid,this.htmlMap={}}removeElement(e){if(!this.htmlMap||!this.htmlMap[e])return;const{root:t,wrapContainer:i,unmount:r}=this.htmlMap[e];t?lt.global.getRequestAnimationFrame()(()=>{t.unmount()}):r&&r(),i&&lt.global.removeDom(i),this.htmlMap[e]=null}renderGraphicHTML(e){var t;const{react:i}=e.attribute;if(!i)return;const r=e.stage;if(!r)return;const s=r.params.ReactDOM,{element:a,container:o}=i;if(!a||!s||!s.createRoot&&!s.render)return;const l=J(i.id)?`${(t=e.id)!==null&&t!==void 0?t:e._uid}_react`:i.id;if(this.htmlMap&&this.htmlMap[l]&&o&&o!==this.htmlMap[l].container&&this.removeElement(l),this.htmlMap&&this.htmlMap[l])s.createRoot?this.htmlMap[l].root.render(a):s.render(a,this.htmlMap[l].wrapContainer);else{const{wrapContainer:d,nativeContainer:h}=this.getWrapContainer(r,o);if(d)if(this.htmlMap||(this.htmlMap={}),s.createRoot){const f=s.createRoot(d);f.render(a),this.htmlMap[l]={root:f,wrapContainer:d,nativeContainer:h,container:o,renderId:this.renderId}}else s.render(a,d),this.htmlMap[l]={wrapContainer:d,nativeContainer:h,container:o,renderId:this.renderId,unmount:()=>{s.unmountComponentAtNode(d)}}}if(!this.htmlMap||!this.htmlMap[l])return;const{wrapContainer:u,nativeContainer:c}=this.htmlMap[l];this.updateStyleOfWrapContainer(e,r,u,c,i),this.htmlMap[l].renderId=this.renderId}}const i6t=()=>{tm.registerPlugin("ReactAttributePlugin",n6t)};function zY(n){const e=[];for(let t=0;t<n.length;t++){const i=n[t];t!==0&&i[0]===e[e.length-1]||e.push(i[0]),e.push(i[1])}return e}function ufe(n,e,t){const i=n.indexOf(e),r=n.indexOf(t);i>=0&&r>=0&&i<r&&(n.splice(i,1),n.splice(r,0,e))}const CB=(n,...e)=>yi.getInstance().info(`[VChart log]: ${n}`,...e),fc=(n,e)=>(Re(TB.warnHandler)&&TB.warnHandler.call(null,n,e),yi.getInstance().warn(`[VChart warn]: ${n}`)),LO=(n,e,t)=>{{if(!Re(TB.errorHandler))throw new Error(n);TB.errorHandler.call(null,n,e)}},TB={warnHandler:!1,errorHandler:!1},sPe=MZ(),Zx=sPe&&globalThis?globalThis.document:void 0;function ng(n){return(n==="desktop-browser"||n==="mobile-browser")&&sPe}function Ny(n){return s_(n)||n==="mobile-browser"}function s_(n){return n.includes("miniApp")||n==="lynx"||n==="wx"||n==="harmony"}let Q4=0;function W1(){return Q4>=9999999&&(Q4=0),Q4++}function LC(n){return n!=null&&n!==""&&(!!st(n)||+n==+n)}function r6t(n){if(Me(n))return n;const e=+n;return Me(e)?e:0}function Qx(n){return!(!n||n.length===0)&&!J(n[0])&&!J(n[0].dataId)&&Oe(n[0].fields)}const s6t=["x","y","dx","dy","scaleX","scaleY","angle","anchor","postMatrix","visible","clip","pickable","childrenPickable","zIndex","cursor"];class ko extends z1{constructor(e,t){super(e),this._skipRenderAttributes=s6t,t!=null&&t.mode&&(this.mode=t.mode,this.setMode(t.mode)),t!=null&&t.skipDefault&&(this.skipDefault=!0),this.setTheme({common:{strokeBoundsBuffer:0}}),this.attribute=e,this.onSetStage(()=>{this.render(),this.bindEvents()})}setAttribute(e,t,i,r){const s=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({[e]:t},this.attribute,e,r);if(s)return this._setAttributes(s,i);gh(this.attribute[e])&&gh(t)&&!Re(this.attribute[e])&&!Re(t)?We(this.attribute[e],t):this.attribute[e]=t,this._skipRenderAttributes.includes(e)||this.render(),this.valid=this.isValid(),this.updateShapeAndBoundsTagSetted()||!i&&!this.needUpdateTag(e)?this.addUpdateBoundTag():this.addUpdateShapeAndBoundsTag(),this.addUpdatePositionTag(),this.onAttributeUpdate()}setAttributes(e,t,i){return e=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate(e,this.attribute,null,i)||e,this._setAttributes(e,t)}_setAttributes(e,t){const i=Object.keys(e);this._mergeAttributes(e,i),i.every(r=>this._skipRenderAttributes.includes(r))||this.render(),this.valid=this.isValid(),this.updateShapeAndBoundsTagSetted()||!t&&!this.needUpdateTags(i)?this.addUpdateBoundTag():this.addUpdateShapeAndBoundsTag(),this.addUpdatePositionTag(),this.onAttributeUpdate()}_mergeAttributes(e,t){J(t)&&(t=Object.keys(e));for(let i=0;i<t.length;i++){const r=t[i];!gh(this.attribute[r])||Re(this.attribute[r])||Re(e[r])?this.attribute[r]=e[r]:We(this.attribute[r],e[r])}}bindEvents(){}_getNodeId(e){var t;return`${(t=this.id)!==null&&t!==void 0?t:this._uid}-${this.name}-${e}`}_dispatchEvent(e,t){var i;const r=new nz(e,t);r.manager=(i=this.stage)===null||i===void 0?void 0:i.eventSystem.manager,this.dispatchEvent(r)}eventPosToStagePos(e){var t,i;const r={x:0,y:0},s=(i=(t=this.stage)===null||t===void 0?void 0:t.eventPointTransform(e))!==null&&i!==void 0?i:{x:0,y:0};return this.globalTransMatrix.transformPoint(s,r),r}}const qm=Symbol.for("MathPickerContribution"),cfe=Symbol.for("MathArcPicker"),dfe=Symbol.for("MathAreaPicker"),hfe=Symbol.for("MathCirclePicker"),EB=Symbol.for("MathImagePicker"),ffe=Symbol.for("MathLinePicker"),pfe=Symbol.for("MathPathPicker"),gfe=Symbol.for("MathRectPicker"),mfe=Symbol.for("MathSymbolPicker"),vfe=Symbol.for("MathTextPicker"),yfe=Symbol.for("MathPolygonPicker"),_fe=Symbol.for("MathGlyphPicker"),bfe=Symbol.for("CanvasArcPicker"),Sfe=Symbol.for("CanvasAreaPicker"),xfe=Symbol.for("CanvasCirclePicker"),wfe=Symbol.for("CanvasImagePicker"),Cfe=Symbol.for("CanvasLinePicker"),Tfe=Symbol.for("CanvasPathPicker"),Efe=Symbol.for("CanvasRectPicker"),Afe=Symbol.for("CanvasSymbolPicker"),kfe=Symbol.for("CanvasTextPicker"),Ofe=Symbol.for("CanvasPolygonPicker"),Pfe=Symbol.for("CanvasRichTextPicker"),Mfe=Symbol.for("CanvasGlyphPicker"),Ife=Symbol.for("CanvasGroupPicker"),ku=Symbol.for("CanvasPickerContribution"),Rfe=(n,e)=>{const t=e.x-n.x,i=e.y-n.y;return Math.abs(t)>Math.abs(i)?t>0?"right":"left":i>0?"down":"up"},MD=(n,e)=>{const t=Math.abs(e.x-n.x),i=Math.abs(e.y-n.y);return Math.sqrt(t*t+i*i)},a6t=n=>{const e=n.length;if(e===1)return{x:Math.round(n[0].x),y:Math.round(n[0].y)};let t=0,i=0,r=0;for(;r<e;)t+=n[r].x,i+=n[r].y,r++;return{x:Math.round(t/e),y:Math.round(i/e)}};class o6t extends i_{constructor(e,t={}){var i,r,s,a,o,l,u,c,d,h;super(),this.cachedEvents=[],this.startPoints=[],this.processEvent={},this.throttleTimer=0,this.emitThrottles=[],this.lastTapTarget=null,this.onStart=f=>{this.startTime=Mb.now();const{cachedEvents:p,startPoints:g}=this;f&&p.push(f.clone()),g.length=p.length;for(let m=0;m<p.length;m++){const{x:v,y:_}=p[m],y={x:v,y:_};g[m]=y}if(g.length!==1)this.startDistance=MD(g[0],g[1]),this.center=a6t([g[0],g[1]]);else{const m=p[0];this.pressTimeout=setTimeout(()=>{m.direction="none",m.deltaX=0,m.deltaY=0,m.points=g,this.triggerStartEvent("press",m),this.triggerEvent("press",m),this.eventType="press",this.direction="none",this.pressTimeout=null},this.config.press.time)}},this.onMove=f=>{this.clearPressTimeout();const{startPoints:p,cachedEvents:g}=this;if(!p.length)return;const m=f.clone(),{x:v,y:_,pointerId:y}=m;for(let k=0,P=g.length;k<P;k++)if(y===g[k].pointerId){g[k]=m;break}const x={x:v,y:_},w=g.map(k=>({x:k.x,y:k.y})),T=Mb.now();if(this.prevMoveTime=this.lastMoveTime,this.prevMovePoint=this.lastMovePoint,this.lastMoveTime=T,this.lastMovePoint=x,p.length===1){const k=p[0],P=v-k.x,I=_-k.y,D=this.direction||Rfe(k,x);this.direction=D;const L=this.getEventType(x);return m.direction=D,m.deltaX=P,m.deltaY=I,m.points=w,this.triggerStartEvent(L,m),void this.triggerEvent(L,m)}const{startDistance:E}=this,A=MD(w[0],w[1]);m.scale=A/E,m.center=this.center,m.points=w,this.triggerStartEvent("pinch",m),this.triggerEvent("pinch",m)},this.onEnd=f=>{const p=f.clone(),{cachedEvents:g,startPoints:m}=this,v=g.map(_=>({x:_.x,y:_.y}));if(p.points=v,this.triggerEndEvent(p),g.length===1){const _=Mb.now(),y=this.lastMoveTime;if(_-y<100){const x=y-(this.prevMoveTime||this.startTime);if(x>0){const w=this.prevMovePoint||m[0],T=this.lastMovePoint||m[0],E=MD(w,T),A=E/x;if(A>this.config.swipe.velocity&&E>this.config.swipe.threshold)return p.velocity=A,p.direction=Rfe(w,T),this.triggerEvent("swipe",p),this.cachedEvents=[],this.startPoints=[],void this.reset()}}_-this.startTime<this.config.press.time&&(_-this.lastTapTime<this.config.tap.interval&&f.target===this.lastTapTarget?this.tapCount++:this.tapCount=1,this.lastTapTime=_,this.lastTapTarget=f.target,this.tapCount===1?this.triggerEvent("tap",p):this.tapCount===2&&(this.triggerEvent("doubletap",p),this.tapCount=0))}for(let _=0,y=g.length;_<y;_++)if(g[_].pointerId===p.pointerId){g.splice(_,1),m.splice(_,1);break}this.reset(),g.length>0&&this.onStart()},this.element=e,this.tapCount=0,this.lastTapTime=0,this.config={press:{time:(r=(i=t==null?void 0:t.press)===null||i===void 0?void 0:i.time)!==null&&r!==void 0?r:251,threshold:(a=(s=t==null?void 0:t.press)===null||s===void 0?void 0:s.threshold)!==null&&a!==void 0?a:9},swipe:{threshold:(l=(o=t==null?void 0:t.swipe)===null||o===void 0?void 0:o.threshold)!==null&&l!==void 0?l:10,velocity:(c=(u=t==null?void 0:t.swipe)===null||u===void 0?void 0:u.velocity)!==null&&c!==void 0?c:.3},tap:{interval:(h=(d=t==null?void 0:t.tap)===null||d===void 0?void 0:d.interval)!==null&&h!==void 0?h:300}},this.initEvents()}initEvents(){const{element:e}=this;e&&(e.addEventListener("pointerdown",this.onStart),e.addEventListener("pointermove",this.onMove),e.addEventListener("pointerup",this.onEnd),e.addEventListener("pointerleave",this.onEnd),e.addEventListener("pointerupoutside",this.onEnd))}removeEvents(){const{element:e}=this;e&&(e.removeEventListener("pointerdown",this.onStart),e.removeEventListener("pointermove",this.onMove),e.removeEventListener("pointerup",this.onEnd),e.removeEventListener("pointerleave",this.onEnd),e.removeEventListener("pointerupoutside",this.onEnd))}release(){this.removeEvents(),this.element=null}getEventType(e){const{eventType:t,startTime:i,startPoints:r}=this;if(t==="press")return t;let s;return s=Mb.now()-i>this.config.press.time&&MD(r[0],e)<this.config.press.threshold?"press":"pan",this.eventType=s,s}enable(e){this.processEvent[e]=!0}isProcess(e){return this.processEvent[e]}pushEvent(e,t){const{emitThrottles:i}=this,r={type:e,ev:t};for(let s=0,a=i.length;s<a;s++)if(i[s].type===e)return void i.splice(s,1,r);i.push(r)}clearPressTimeout(){this.pressTimeout&&(clearTimeout(this.pressTimeout),this.pressTimeout=null)}reset(){this.clearPressTimeout(),this.startTime=0,this.startDistance=0,this.direction=null,this.eventType=null,this.prevMoveTime=0,this.prevMovePoint=null,this.lastMoveTime=0,this.lastMovePoint=null}triggerEvent(e,t){this.pushEvent(e,t);const{throttleTimer:i,emitThrottles:r}=this;i||(this.throttleTimer=lt.global.getRequestAnimationFrame()(()=>{lt.global.getCancelAnimationFrame()(this.throttleTimer),this.throttleTimer=null;for(let s=0,a=r.length;s<a;s++){const{type:o,ev:l}=r[s];this.emitEvent(o,l)}this.emitThrottles.length=0}))}triggerStartEvent(e,t){this.isProcess(e)||(this.enable(e),this.triggerEvent(`${e}start`,t))}triggerEndEvent(e){const t=this.processEvent;Object.keys(t).forEach(i=>{this.triggerEvent(`${i}end`,e),i==="press"&&this.triggerEvent(`${i}up`,e),delete t[i]})}emitEvent(e,t){if(!this.element)return;const i=this.element._events;this._callListeners(e,t,i[AOe]),this._callListeners(e,t,i[e]),this.emit(e,t)}_callListeners(e,t,i){if(i)if("fn"in i)i.fn.call(i.context,t,e);else for(let r=0,s=i.length;r<s&&!t.propagationImmediatelyStopped;r++)i[r].fn.call(i[r].context,t,e)}}var l6t=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},u6t=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)};const Qn=[0,0,0],c6t=(n,e,t,i,r,s,a,o)=>{if(o)for(;t>e;)t-=xn;else for(;t<e;)t+=xn;const l=Di/3*(t>e?1:-1);let u=e,c=u;for(;c!==t;){c=l>0?Math.min(c+l,t):Math.max(c+l,t);const d=Math.abs(c-u),h=4*Math.tan(d/4)/3,f=c<u?-1:1,p=Math.cos(u),g=Math.sin(u),m=Math.cos(c),v=Math.sin(c),_=p*s+i,y=g*a+r,x=m*s+i,w=v*a+r,T=s*h*f,E=a*h*f;n.push([_-T*g,y+E*p,x+T*v,w-E*m,x,w]),u=c}};let Nw=class{set fillStyle(n){this.nativeContext.fillStyle=n}get fillStyle(){return this.nativeContext.fillStyle}set font(n){n!==this._font&&(this._font=n,this.nativeContext.font=n)}get font(){var n;return(n=this._font)!==null&&n!==void 0?n:this.nativeContext.font}set globalAlpha(n){this.nativeContext.globalAlpha=n*this.baseGlobalAlpha}get globalAlpha(){return this.nativeContext.globalAlpha}set lineCap(n){this.nativeContext.lineCap=n}get lineCap(){return this.nativeContext.lineCap}set lineDashOffset(n){this.nativeContext.lineDashOffset=n}get lineDashOffset(){return this.nativeContext.lineDashOffset}set lineJoin(n){this.nativeContext.lineJoin=n}get lineJoin(){return this.nativeContext.lineJoin}set lineWidth(n){this.nativeContext.lineWidth=n}get lineWidth(){return this.nativeContext.lineWidth}set miterLimit(n){this.nativeContext.miterLimit=n}get miterLimit(){return this.nativeContext.miterLimit}set shadowBlur(n){this.nativeContext.shadowBlur=n}get shadowBlur(){return this.nativeContext.shadowBlur}set shadowColor(n){this.nativeContext.shadowColor=n}get shadowColor(){return this.nativeContext.shadowColor}set shadowOffsetX(n){this.nativeContext.shadowOffsetX=n}get shadowOffsetX(){return this.nativeContext.shadowOffsetX}set shadowOffsetY(n){this.nativeContext.shadowOffsetY=n}get shadowOffsetY(){return this.nativeContext.shadowOffsetY}set strokeStyle(n){this.nativeContext.strokeStyle=n}get strokeStyle(){return this.nativeContext.strokeStyle}set textAlign(n){this.nativeContext.textAlign=n}get textAlign(){return this.nativeContext.textAlign}set textBaseline(n){this.nativeContext.textBaseline=n}get textBaseline(){return this.nativeContext.textBaseline}get inuse(){return!!this._inuse}set inuse(n){n!==!!this._inuse&&(this._inuse=n,n?(this.nativeContext.save(),this.reset()):this.nativeContext.restore())}constructor(n,e){this.fillAttributes=Object.assign(Object.assign({},fOe),{opacity:1}),this.strokeAttributes=Object.assign(Object.assign({},pOe),{opacity:1}),this.textAttributes=Object.assign(Object.assign({},lh),{opacity:1}),this._clearShadowStyle=!1,this._clearFilterStyle=!1,this._clearGlobalCompositeOperationStyle=!1;const t=n.nativeCanvas.getContext("2d");if(!t)throw new Error("2d");this.nativeContext=t,this.canvas=n,this.matrix=new Rr(1,0,0,1,0,0),this.stack=[],this.dpr=e,this.applyedMatrix=new Rr(1,0,0,1,0,0),this._clearMatrix=new Rr(1,0,0,1,0,0),this.baseGlobalAlpha=1}reset(n=!0){this.stack.length&&yi.getInstance().warn("bugmatrix"),this.matrix.setValue(1,0,0,1,0,0),this.applyedMatrix=new Rr(1,0,0,1,0,0),this.stack.length=0,n&&this.nativeContext.setTransform(1,0,0,1,0,0)}getCanvas(){return this.canvas}getContext(){return this.nativeContext}setTransformForCurrent(n=!1){!n&&this.applyedMatrix.equalToMatrix(this.matrix)||(this.applyedMatrix.setValue(this.matrix.a,this.matrix.b,this.matrix.c,this.matrix.d,this.matrix.e,this.matrix.f),this.nativeContext.setTransform(this.matrix.a,this.matrix.b,this.matrix.c,this.matrix.d,this.matrix.e,this.matrix.f))}get currentMatrix(){return this.matrix}cloneMatrix(n){return Uo.allocateByObj(n)}clear(){this.save(),this.resetTransform(),this.nativeContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.restore()}restore(){this.nativeContext.restore(),this.stack.length>0&&(Uo.free(this.matrix),this.matrix=this.stack.pop(),this.setTransformForCurrent(!0)),this.font="",this._clearFilterStyle=!1,this._clearShadowStyle=!1}highPerformanceRestore(){this.stack.length>0&&(Uo.free(this.matrix),this.matrix=this.stack.pop())}rotate(n,e=!0){this.matrix.rotate(n),e&&this.setTransformForCurrent()}save(){const n=this.cloneMatrix(this.matrix);this.stack.push(n),this.nativeContext.save()}highPerformanceSave(){const n=this.cloneMatrix(this.matrix);this.stack.push(n)}scale(n,e,t=!0){this.matrix.scale(n,e),t&&this.setTransformForCurrent()}setScale(n,e,t=!0){this.matrix.setScale(n,e),t&&this.setTransformForCurrent()}scalePoint(n,e,t,i,r=!0){this.translate(t,i,!1),this.scale(n,e,!1),this.translate(-t,-i,!1),r&&this.setTransformForCurrent()}setTransform(n,e,t,i,r,s,a=!0,o=this.dpr){this.matrix.setValue(o*n,o*e,o*t,o*i,o*r,o*s),a&&this.setTransformForCurrent()}setTransformFromMatrix(n,e=!0,t=this.dpr){this.matrix.setValue(n.a*t,n.b*t,n.c*t,n.d*t,n.e*t,n.f*t),e&&this.setTransformForCurrent()}resetTransform(n=!0,e=this.dpr){this.setTransform(e,0,0,e,0,0),n&&this.setTransformForCurrent()}transform(n,e,t,i,r,s,a=!0){this.matrix.multiply(n,e,t,i,r,s),a&&this.setTransformForCurrent()}transformFromMatrix(n,e){this.matrix.multiply(n.a,n.b,n.c,n.d,n.e,n.f),e&&this.setTransformForCurrent()}translate(n,e,t=!0){this.matrix.translate(n,e),t&&this.setTransformForCurrent()}rotateDegrees(n,e=!0){const t=n*Math.PI/180;this.rotate(t,e)}rotateAbout(n,e,t,i=!0){this.translate(e,t,!1),this.rotate(n,!1),this.translate(-e,-t,!1),i&&this.setTransformForCurrent()}rotateDegreesAbout(n,e,t,i=!0){this.translate(e,t,!1),this.rotateDegrees(n,!1),this.translate(-e,-t,!1),i&&this.setTransformForCurrent()}beginPath(){this.disableBeginPath||this.nativeContext.beginPath()}clip(n,e){n?typeof n=="string"?this.nativeContext.clip(n):this.nativeContext.clip(n,e):this.nativeContext.clip()}arc(n,e,t,i,r,s,a){if(a=a||0,this.camera){const o=[];c6t(o,i,r,n,e,t,t,s);for(let l=0;l<o.length;++l){const u=o[l];this.bezierCurveTo(u[0],u[1],u[2],u[3],u[4],u[5],a)}}else this.nativeContext.arc(n,e,Math.max(0,t),i,r,s)}arcTo(n,e,t,i,r){this.nativeContext.arcTo(n,e,t,i,r)}bezierCurveTo(n,e,t,i,r,s,a){if(a=a||0,this.camera){let o=a,l=a;this.modelMatrix&&(Kh(Qn,[n,e,a],this.modelMatrix),n=Qn[0],e=Qn[1],o=Qn[2],Kh(Qn,[t,i,a],this.modelMatrix),t=Qn[0],i=Qn[1],l=Qn[2],Kh(Qn,[r,s,a],this.modelMatrix),r=Qn[0],s=Qn[1],a=Qn[2]);let u=this.camera.vp(r,s,a);r=u.x,s=u.y,u=this.camera.vp(n,e,o),n=u.x,e=u.y,u=this.camera.vp(t,i,l),t=u.x,i=u.y}this.nativeContext.bezierCurveTo(n,e,t,i,r,s)}closePath(){this.nativeContext.closePath()}ellipse(n,e,t,i,r,s,a,o){o==null?this.nativeContext.ellipse(n,e,t,i,r,s,a):this.nativeContext.ellipse(n,e,t,i,r,s,a,o)}lineTo(n,e,t){if(t=t||0,this.camera){this.modelMatrix&&(Kh(Qn,[n,e,t],this.modelMatrix),n=Qn[0],e=Qn[1],t=Qn[2]);const i=this.camera.vp(n,e,t);n=i.x,e=i.y}this.nativeContext.lineTo(n,e)}moveTo(n,e,t){if(t=t||0,this.camera){this.modelMatrix&&(Kh(Qn,[n,e,t],this.modelMatrix),n=Qn[0],e=Qn[1],t=Qn[2]);const i=this.camera.vp(n,e,t);n=i.x,e=i.y}this.nativeContext.moveTo(n,e)}quadraticCurveTo(n,e,t,i,r){if(r=r||0,this.camera){let s=r;this.modelMatrix&&(Kh(Qn,[n,e,r],this.modelMatrix),n=Qn[0],e=Qn[1],s=Qn[2],Kh(Qn,[t,i,r],this.modelMatrix),t=Qn[0],i=Qn[1],r=Qn[2]);let a=this.camera.vp(t,i,r);t=a.x,i=a.y,a=this.camera.vp(n,e,s),n=a.x,e=a.y}this.nativeContext.quadraticCurveTo(n,e,t,i)}rect(n,e,t,i,r){r=r||0,this.camera?(this.moveTo(n,e,r),this.lineTo(n+t,e,r),this.lineTo(n+t,e+i,r),this.lineTo(n,e+i,r),this.closePath()):this.nativeContext.rect(n,e,t,i)}createImageData(){const n=arguments;return n.length===2?this.nativeContext.createImageData(n[0],n[1]):n.length===1?this.nativeContext.createImageData(n[0]):null}createLinearGradient(n,e,t,i){return isFinite(n+e+t+i)||(n=0,e=0,t=0,i=0),this.nativeContext.createLinearGradient(n,e,t,i)}createPattern(n,e){return n.width===0||n.height===0?null:this.nativeContext.createPattern(n,e)}createRadialGradient(n,e,t,i,r,s){return this.nativeContext.createRadialGradient(n,e,t,i,r,s)}createConicGradient(n,e,t,i){if(this.nativeContext.createConicGradient&&Math.abs(i-t-2*Math.PI)<.001)return this.nativeContext.createConicGradient(t,n,e);let r,s=!1;const a=this;return{stops:[],addColorStop(o,l){this.stops.push([o,l]),s=!0},GetPattern(o,l,u){return s&&(u||(u=i-t),r=DVt(a,this.stops,n,e,u,t,i,o,l),s=!1),r}}}fill(n,e){this.disableFill||(n?this.nativeContext.fill(n):this.nativeContext.fill())}fillRect(n,e,t,i){this.nativeContext.fillRect(n,e,t,i)}clearRect(n,e,t,i){this.nativeContext.clearRect(n,e,t,i)}project(n,e,t){if(t=t||0,this.camera){this.modelMatrix&&(Kh(Qn,[n,e,t],this.modelMatrix),n=Qn[0],e=Qn[1],t=Qn[2]);const i=this.camera.vp(n,e,t);n=i.x,e=i.y}return{x:n,y:e}}view(n,e,t){return t=t||0,this.camera?(this.modelMatrix&&(Kh(Qn,[n,e,t],this.modelMatrix),n=Qn[0],e=Qn[1],t=Qn[2]),this.camera.view(n,e,t)):[n,e,t]}fillText(n,e,t,i){if(i=i||0,this.camera){this.modelMatrix&&(Kh(Qn,[e,t,i],this.modelMatrix),e=Qn[0],t=Qn[1],i=Qn[2]);const r=this.camera.vp(e,t,i);e=r.x,t=r.y}this.nativeContext.fillText(n,e,t)}getImageData(n,e,t,i){return this.nativeContext.getImageData(n,e,t,i)}getLineDash(){return this.nativeContext.getLineDash()}isPointInPath(n,e){return this.nativeContext.isPointInPath(n,e)}isPointInStroke(n,e){return this.nativeContext.isPointInStroke(n,e)}measureText(n,e=lt.global.measureTextMethod){var t,i;if(!e||e==="native")return this.nativeContext.measureText(n);this.mathTextMeasure||(this.mathTextMeasure=lt.graphicUtil.createTextMeasureInstance({},{},()=>this.canvas.nativeCanvas));const r=(t=this.fontFamily)!==null&&t!==void 0?t:lh.fontFamily,s=(i=this.fontSize)!==null&&i!==void 0?i:lh.fontSize;return this.mathTextMeasure.textSpec.fontFamily===r&&this.mathTextMeasure.textSpec.fontSize===s||(this.mathTextMeasure.textSpec.fontFamily=r,this.mathTextMeasure.textSpec.fontSize=s,this.mathTextMeasure._numberCharSize=null,this.mathTextMeasure._fullCharSize=null,this.mathTextMeasure._letterCharSize=null,this.mathTextMeasure._specialCharSizeMap={}),this.mathTextMeasure.measure(n,e)}putImageData(n,e,t){this.nativeContext.putImageData(n,e,t)}setLineDash(n){const e=arguments,t=this.nativeContext;this.nativeContext.setLineDash?e[0]&&t.setLineDash(e[0]):"mozDash"in t?t.mozDash=e[0]:"webkitLineDash"in t&&(t.webkitLineDash=e[0])}stroke(n){this.disableStroke||(n?this.nativeContext.stroke(n):this.nativeContext.stroke())}strokeRect(n,e,t,i){this.nativeContext.strokeRect(n,e,t,i)}strokeText(n,e,t,i){if(i=i||0,this.camera){this.modelMatrix&&(Kh(Qn,[e,t,i],this.modelMatrix),e=Qn[0],t=Qn[1],i=Qn[2]);const r=this.camera.vp(e,t,i);e=r.x,t=r.y}this.nativeContext.strokeText(n,e,t)}drawImage(){const n=this.nativeContext,e=arguments;e.length===3?n.drawImage(e[0],e[1],e[2]):e.length===5?n.drawImage(e[0],e[1],e[2],e[3],e[4]):e.length===9&&n.drawImage(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])}setCommonStyle(n,e,t,i,r){if(Array.isArray(r)){if(r.length<=1)return this._setCommonStyle(n,e,t,i,r[0]);const s=Object.create(r[0]);return r.forEach((a,o)=>{o!==0&&Object.assign(s,a)}),this._setCommonStyle(n,e,t,i,s)}return this._setCommonStyle(n,e,t,i,r)}_setCommonStyle(n,e,t,i,r){const s=this.nativeContext;r||(r=this.fillAttributes);const{fillOpacity:a=r.fillOpacity,opacity:o=r.opacity,fill:l=r.fill}=e;s.globalAlpha=a*o*this.baseGlobalAlpha,a>1e-12&&o>1e-12&&(s.fillStyle=BF(this,l,n,t,i))}setShadowBlendStyle(n,e,t){if(Array.isArray(t)){if(t.length<=1)return this._setShadowBlendStyle(n,t[0]);const i=Object.create(t[0]);return t.forEach((r,s)=>{s!==0&&Object.assign(i,r)}),this._setShadowBlendStyle(n,e,i)}return this._setShadowBlendStyle(n,e,t)}_setShadowBlendStyle(n,e,t){const i=this.nativeContext;t||(t=this.fillAttributes);const{opacity:r=t.opacity,shadowBlur:s=t.shadowBlur,shadowOffsetX:a=t.shadowOffsetX,shadowOffsetY:o=t.shadowOffsetY,blur:l=t.blur,globalCompositeOperation:u=t.globalCompositeOperation}=e;if(!(r<=1e-12)){if(a||o||s){const{shadowColor:c=t.shadowColor,shadowOffsetX:d=t.shadowOffsetX,shadowOffsetY:h=t.shadowOffsetY}=e;i.shadowBlur=s*this.dpr,i.shadowColor=c,i.shadowOffsetX=d*this.dpr,i.shadowOffsetY=h*this.dpr,this._clearShadowStyle=!0}else this._clearShadowStyle&&(i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0);l?(i.filter=`blur(${l}px)`,this._clearFilterStyle=!0):this._clearFilterStyle&&(i.filter="blur(0px)",this._clearFilterStyle=!1),u?(i.globalCompositeOperation=u,this._clearGlobalCompositeOperationStyle=!0):this._clearGlobalCompositeOperationStyle&&(i.globalCompositeOperation="source-over",this._clearGlobalCompositeOperationStyle=!1)}}setStrokeStyle(n,e,t,i,r){if(Array.isArray(r)){if(r.length<=1)return this._setStrokeStyle(n,e,t,i,r[0]);const s=Object.create(r[0]);return r.forEach((a,o)=>{o!==0&&Object.assign(s,a)}),this._setStrokeStyle(n,e,t,i,s)}return this._setStrokeStyle(n,e,t,i,r)}_setStrokeStyle(n,e,t,i,r){const s=this.nativeContext;r||(r=this.strokeAttributes);const{strokeOpacity:a=r.strokeOpacity,opacity:o=r.opacity}=e;if(s.globalAlpha=a*o*this.baseGlobalAlpha,a>1e-12&&o>1e-12){const{lineWidth:l=r.lineWidth,stroke:u=r.stroke,lineJoin:c=r.lineJoin,lineDash:d=r.lineDash,lineDashOffset:h=r.lineDashOffset,lineCap:f=r.lineCap,miterLimit:p=r.miterLimit,keepStrokeScale:g=r.keepStrokeScale}=e;s.lineWidth=g?l:mg(this,l,this.dpr),s.strokeStyle=BF(this,u,n,t,i),s.lineJoin=c,d&&(s.setLineDash(d),s.lineDashOffset=h),s.lineCap=f,s.miterLimit=p}}setTextStyleWithoutAlignBaseline(n,e,t){const i=this.nativeContext;e||(e=this.textAttributes);const{scaleIn3d:r=e.scaleIn3d}=n;n.font?this.font=n.font:this.font=_F(n,e,r&&this.camera&&this.camera.getProjectionScale(t));const{fontFamily:s=e.fontFamily,fontSize:a=e.fontSize}=n;this.fontFamily=s,this.fontSize=a,i.textAlign="left",i.textBaseline="alphabetic"}setTextStyle(n,e,t){var i,r;const s=this.nativeContext;e||(e=this.textAttributes),n.font?this.font=n.font:this.font=_F(n,e,this.camera&&this.camera.getProjectionScale(t));const{fontFamily:a=e.fontFamily,fontSize:o=e.fontSize}=n;this.fontFamily=a,this.fontSize=o,s.textAlign=(i=n.textAlign)!==null&&i!==void 0?i:e.textAlign,s.textBaseline=(r=n.textBaseline)!==null&&r!==void 0?r:e.textBaseline}draw(){}clearMatrix(n=!0,e=this.dpr){this.setTransformFromMatrix(this._clearMatrix,n,e)}setClearMatrix(n,e,t,i,r,s){this._clearMatrix.setValue(n,e,t,i,r,s)}onlyTranslate(n=this.dpr){return this.matrix.a===n&&this.matrix.b===0&&this.matrix.c===0&&this.matrix.d===n}release(...n){this.stack.forEach(e=>Uo.free(e)),this.stack.length=0}};Nw.env="browser",Nw=l6t([Nt(),u6t("design:paramtypes",[Object,Number])],Nw);var d6t=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},h6t=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)};let jw=class extends _Z{constructor(n){super(n)}init(n){const{container:e}=n;if(typeof e=="string"){const t=lt.global.getElementById(e);t&&(this._container=t)}else this._container=e;this._context=new Nw(this,this._dpr),this.initStyle()}initStyle(){if(!this.controled)return;const{nativeCanvas:n}=this;n.width=this._pixelWidth,n.height=this._pixelHeight,!n.style||this.setCanvasStyle(n,this._x,this._y,this._displayWidth,this._displayHeight),this._container&&this._container.appendChild(n),this.visiable||this.hide()}hide(){this._nativeCanvas&&(this._nativeCanvas.style.display="none")}show(){this._nativeCanvas&&(this._nativeCanvas.style.display="block")}applyPosition(){const n=this._nativeCanvas;n.style.position="absolute",n.style.top=`${this._y}px`,n.style.left=`${this._x}px`}resetStyle(n){if(!this.controled)return;const{width:e=this._displayWidth,height:t=this._displayHeight,dpr:i=this._dpr,x:r=this._x,y:s=this._y}=n,{nativeCanvas:a}=this;a.width=e*i,a.height=t*i,!a.style||this.setCanvasStyle(a,r,s,e,t),n.id&&(a.id=n.id),this.visiable||this.hide()}setCanvasStyle(n,e,t,i,r){this.controled&&(n.style.width=`${i}px`,n.style.height=`${r}px`)}toDataURL(n,e){return n==="image/jpeg"?this._nativeCanvas.toDataURL(n,e):n==="image/png"?this._nativeCanvas.toDataURL(n):this._nativeCanvas.toDataURL(n,e)}resize(n,e){this.controled&&(this._pixelWidth=n*this._dpr,this._pixelHeight=e*this._dpr,this._displayWidth=n,this._displayHeight=e,this._nativeCanvas.style&&(this._nativeCanvas.style.width=`${n}px`,this._nativeCanvas.style.height=`${e}px`),this._nativeCanvas.width=this._pixelWidth,this._nativeCanvas.height=this._pixelHeight,this._context.dpr=this._dpr)}};jw.env="browser",jw=d6t([Nt(),h6t("design:paramtypes",[Object])],jw);function aPe(n,e){return new Pn(t=>{t(bOe).toDynamicValue(()=>i=>new n(i)).whenTargetNamed(n.env),t(E3t).toDynamicValue(()=>(i,r)=>new e(i,r)).whenTargetNamed(e.env)})}const f6t=aPe(jw,Nw);var p6t=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},g6t=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},U_=function(n,e){return function(t,i){e(t,i,n)}};let Jx=class extends FY{constructor(n,e,t,i){super(t,i),this.contributions=n,this.drawContribution=e,this.pickItemInterceptorContributions=t,this.pickServiceInterceptorContributions=i,this.global.hooks.onSetEnv.tap("canvas-picker-service",(r,s,a)=>{this.configure(a,s)}),this.configure(this.global,this.global.env),this.pickerMap=new Map,this.init()}init(){this.contributions.getContributions().forEach(n=>{this.pickerMap.set(n.numberType,n)}),super._init()}configure(n,e){this.pickCanvas=Kb.shareCanvas(),this.pickContext=this.pickCanvas.getContext("2d")}pickItem(n,e,t,i){if(n.attribute.pickable===!1)return null;if(this.InterceptorContributions.length)for(let l=0;l<this.InterceptorContributions.length;l++){const u=this.InterceptorContributions[l];if(u.beforePickItem){const c=u.beforePickItem(n,this,e,i,{parentMatrix:t});if(c)return c}}const r=this.pickerMap.get(n.numberType);if(!r)return null;const s=r.contains(n,e,i),a=s?n:null,o={graphic:a,params:s};if(a)return o;if(this.InterceptorContributions.length)for(let l=0;l<this.InterceptorContributions.length;l++){const u=this.InterceptorContributions[l];if(u.afterPickItem){const c=u.afterPickItem(n,this,e,i,{parentMatrix:t});if(c)return c}}return o}};Jx=p6t([Nt(),U_(0,Vn(ia)),U_(0,Ha(ku)),U_(1,Vn(PZ)),U_(2,Vn(ia)),U_(2,Ha(Xx)),U_(3,Vn(ia)),U_(3,Ha(hB)),g6t("design:paramtypes",[Object,Object,Object,Object])],Jx);var m6t=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a};let HY=class{constructor(){this.type="group",this.numberType=pZ}contains(n,e,t){return!1}};HY=m6t([Nt()],HY);const AB=new Pn((n,e,t,i)=>{AB.__vloaded||(AB.__vloaded=!0,n(Ife).to(HY).inSingletonScope(),n(ku).toService(Ife),Wo(n,ku))});AB.__vloaded=!1;const v6t=new Pn((n,e,t,i)=>{t(Jx)||n(Jx).toSelf().inSingletonScope(),t($w)?i($w).toService(Jx):n($w).toService(Jx)});function y6t(n){n.load(AB),n.load(v6t)}var VE,_6t=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},b6t=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)};let Qv=VE=class extends wB{get container(){return this.canvas.nativeCanvas.parentElement}static GenerateCanvasId(){return`${VE.idprefix}_${VE.prefix_count++}`}constructor(){super(),this.type="browser",this._canvasIsIntersecting=!0,this.global=lt.global,this.viewBox=new ms,this.modelMatrix=new Rr(1,0,0,1,0,0)}getTitle(){return this.canvas.id&&this.canvas.id.toString()}getWH(){return{width:this.canvas.width/(this.canvas.dpr||1),height:this.canvas.height/(this.canvas.dpr||1)}}getXY(){return this.canvas.nativeCanvas.getBoundingClientRect()}createWindow(n){n.canvas?this.createWindowByCanvas(n):this.createWindowByConfig(n),this.postInit()}postInit(){if(this.global.optimizeVisible)try{this.observerCanvas()}catch{console.error("IntersectionObserver")}}isElementVisible(n){const e=n.getBoundingClientRect(),t=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight;return!(e.right<0||e.bottom<0||e.left>t||e.top>i)}observerCanvas(){this._canvasIsIntersecting=this.isElementVisible(this.canvas.nativeCanvas);const n=new IntersectionObserver((e,t)=>{e.forEach(i=>{this._canvasIsIntersecting!==i.isIntersecting?(this._canvasIsIntersecting=i.isIntersecting,this._onVisibleChangeCb&&this._onVisibleChangeCb(i.isIntersecting)):this._canvasIsIntersecting=i.isIntersecting})});n&&n.observe(this.canvas.nativeCanvas)}createWindowByConfig(n){const e=this.global.createCanvas({width:n.width,height:n.height});let t;if(t=typeof n.container=="string"?this.global.getElementById(n.container):n.container?n.container:this.global.getRootElement(),!t)throw new Error("containerId");n.offscreen?t=null:t.appendChild(e);const i={width:n.width,height:n.height,dpr:n.dpr,nativeCanvas:e,container:t,id:VE.GenerateCanvasId(),canvasControled:!0};this.canvas=new jw(i)}createWindowByCanvas(n){var e;let t;if(typeof n.canvas=="string"){if(t=this.global.getElementById(n.canvas),!t)throw new Error("canvasId canvasdom")}else t=n.canvas;if(!t)throw new Error("canvas");let i=n.width,r=n.height;if(i==null||r==null||!n.canvasControled){const a=t.getBoundingClientRect();i=a.width,r=a.height}let s=n.dpr;s==null&&(s=(e=t.getContext("2d").pixelRatio)!==null&&e!==void 0?e:t.width/i),this.canvas=new jw({width:i,height:r,dpr:s,nativeCanvas:t,canvasControled:n.canvasControled})}releaseWindow(){this.canvas.release()}resizeWindow(n,e){this.canvas.resize(n,e)}setDpr(n){this.canvas.dpr=n}getContext(){return this.canvas.getContext()}getNativeHandler(){return this.canvas}getDpr(){return this.canvas.dpr}addEventListener(n,e,t){return this.canvas.nativeCanvas.addEventListener(n,e,t)}removeEventListener(n,e,t){return this.canvas.nativeCanvas.removeEventListener(n,e,t)}dispatchEvent(n){return this.canvas.nativeCanvas.dispatchEvent(n)}getStyle(){var n;return(n=this.canvas.nativeCanvas.style)!==null&&n!==void 0?n:{}}setStyle(n){this.canvas.nativeCanvas.style=n}getBoundingClientRect(){const n=this.canvas.nativeCanvas,e=this.getWH();return n.parentElement?this.canvas.nativeCanvas.getBoundingClientRect():{x:0,y:0,width:e.width,height:e.height,left:0,top:0,right:0,bottom:0}}clearViewBox(n){const e=this.viewBox,t=this.getContext(),i=this.getDpr();t.nativeContext.save(),t.nativeContext.setTransform(i,0,0,i,0,0),t.clearRect(e.x1,e.y1,e.x2-e.x1,e.y2-e.y1),n&&(t.fillStyle=n,t.fillRect(e.x1,e.y1,e.x2-e.x1,e.y2-e.y1)),t.nativeContext.restore()}isVisible(n){return this._canvasIsIntersecting}onVisibleChange(n){this._onVisibleChangeCb=n}getTopLeft(n){return this.global.getElementTopLeft(this.canvas.nativeCanvas,n)}};Qv.env="browser",Qv.idprefix="visactor_window",Qv.prefix_count=0,Qv=VE=_6t([Nt(),b6t("design:paramtypes",[])],Qv);const S6t=new Pn(n=>{n(Qv).toSelf(),n(hZ).toDynamicValue(e=>e.container.get(Qv)).whenTargetNamed(Qv.env)});var x6t=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},w6t=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},C6t=function(n,e,t,i){return new(t||(t=Promise))(function(r,s){function a(u){try{l(i.next(u))}catch(c){s(c)}}function o(u){try{l(i.throw(u))}catch(c){s(c)}}function l(u){var c;u.done?r(u.value):(c=u.value,c instanceof t?c:new t(function(d){d(c)})).then(a,o)}l((i=i.apply(n,e||[])).next())})};class T6t{get x1(){return this.dom.getBoundingClientRect().left}get x2(){return this.dom.getBoundingClientRect().right}get y1(){return this.dom.getBoundingClientRect().top}get y2(){return this.dom.getBoundingClientRect().bottom}get width(){return this.dom.getBoundingClientRect().width}get height(){return this.dom.getBoundingClientRect().height}constructor(e){this.dom=e}}function Dfe(n,e=!1){const t=document.createElement("img");if(lt.global.isImageAnonymous&&(t.crossOrigin="anonymous"),e){const i=new Blob([n],{type:"image/svg+xml"});n=window.URL.createObjectURL(i)}return t.src=n,t.complete?Promise.resolve(t):new Promise((i,r)=>{t.onload=()=>{i(t)},t.onerror=()=>{r(new Error(""))}})}let kB=class extends xB{constructor(){super(),this.type="browser",this.supportEvent=!0;try{this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.supportsMouseEvents=!!globalThis.MouseEvent}catch{this.supportsTouchEvents=!1,this.supportsPointerEvents=!1,this.supportsPointerEvents=!1}this.applyStyles=!0}mapToCanvasPoint(n,e){var t,i;let r=0,s=0,a=0,o=0;if(n.changedTouches){const l=(t=n.changedTouches[0])!==null&&t!==void 0?t:{};r=l.clientX||0,s=l.clientY||0,a=r,o=s}else r=n.clientX||0,s=n.clientY||0,a=n.offsetX||0,o=n.offsetY||0;if(e){const l=r,u=s,c=e.getBoundingClientRect(),d=(i=e.getNativeHandler)===null||i===void 0?void 0:i.call(e).nativeCanvas;let h,f;return d&&(h=c.width/d.offsetWidth,f=c.height/d.offsetHeight),{x:(l-c.left)/(Me(h)?h:1),y:(u-c.top)/(Me(f)?f:1)}}return{x:a,y:o}}getNativeAABBBounds(n){let e=n;if(typeof n=="string"&&(e=new DOMParser().parseFromString(n,"text/html").firstChild,e.lastChild&&(e=e.lastChild.firstChild)),e.getBoundingClientRect){const t=e.getBoundingClientRect();return new T6t(t)}return new ms}removeDom(n){return n.parentElement.removeChild(n),!0}updateDom(n,e){const{width:t,height:i,style:r}=e;return r&&(Jt(r)?n.setAttribute("style",r):Object.keys(r).forEach(s=>{n.style[s]=r[s]})),t!=null&&(n.style.width=`${t}px`),i!=null&&(n.style.height=`${i}px`),!0}createDom(n){const{tagName:e="div",parent:t}=n,i=document.createElement(e);if(this.updateDom(i,n),t){const r=Jt(t)?this.getElementById(t):t;r&&r.appendChild&&r.appendChild(i)}return i}loadImage(n){return Dfe(n,!1).then(e=>({data:e,loadState:"success"})).catch(()=>({data:null,loadState:"fail"}))}loadSvg(n){return Dfe(n,!0).then(e=>({data:e,loadState:"success"})).catch(()=>({data:null,loadState:"fail"}))}createCanvas(n){var e,t;const i=document.createElement("canvas");n.id&&(i.id=(e=n.id)!==null&&e!==void 0?e:aa.GenAutoIncrementId().toString());const r=(t=n.dpr)!==null&&t!==void 0?t:window.devicePixelRatio;return n.width&&n.height&&(i.style.width=`${n.width}px`,i.style.height=`${n.height}px`,i.width=n.width*r,i.height=n.height*r),i}createOffscreenCanvas(n){var e;const t=(e=n.dpr)!==null&&e!==void 0?e:window.devicePixelRatio;return new OffscreenCanvas(n.width*t,n.height*t)}releaseCanvas(n){let e;e=typeof n=="string"?document.getElementById(n):n,e&&e.parentElement&&e.parentElement.removeChild(e)}getDevicePixelRatio(){return window.devicePixelRatio}getRequestAnimationFrame(){return window.requestAnimationFrame}getCancelAnimationFrame(){return window.cancelAnimationFrame}addEventListener(n,e,t){return document.addEventListener(n,e,t)}removeEventListener(n,e,t){return document.removeEventListener(n,e,t)}dispatchEvent(n){return document.dispatchEvent(n)}getElementById(n){return document.getElementById(n)}getRootElement(){return document.body}getDocument(){return document}release(...n){}getElementTop(n,e){let t=n.offsetTop,i=n.offsetParent;for(;i!==null;)t+=i.offsetTop,i=i.offsetParent;return t}getElementLeft(n,e){let t=n.offsetLeft,i=n.offsetParent;for(;i!==null;)t+=i.offsetLeft,i=i.offsetParent;return t}getElementTopLeft(n,e){let t=n.offsetTop,i=n.offsetLeft,r=n.offsetParent;for(;r!==null;)t+=r.offsetTop,i+=r.offsetLeft,r=r.offsetParent;return{top:t,left:i}}loadFont(n,e,t){return C6t(this,void 0,void 0,function*(){return new FontFace(n,Jt(e)?`url(${e})`:e,t).load().then(function(i){return document.fonts.add(i),{loadState:"success"}}).catch(function(i){return console.error("Failed to load font:",i),{loadState:"fail"}})})}isMacOS(){if(this._isMacOS===void 0)try{this._isMacOS=navigator.platform.toUpperCase().indexOf("MAC")>=0}catch{this._isMacOS=!1}return this._isMacOS}copyToClipBoard(n){return navigator.clipboard.writeText(n).then(()=>{}).catch(e=>{})}};kB=x6t([Nt(),w6t("design:paramtypes",[])],kB);const OB=new Pn(n=>{OB.isBrowserBound||(OB.isBrowserBound=!0,n(kB).toSelf().inSingletonScope(),n(ez).toService(kB))});OB.isBrowserBound=!1;function PB(n,e=!0){PB.__loaded||(PB.__loaded=!0,n.load(OB),n.load(f6t),n.load(S6t),e&&y6t(n))}PB.__loaded=!1;class Ah{contains(e,t,i){if(!e.AABBBounds.containsPoint(t))return!1;if(e.attribute.pickMode==="imprecise"||!this.canvasRenderer)return!0;const{pickContext:r}=i??{};if(!r)return!1;const s=e.getGraphicTheme();r.highPerformanceSave();let{x:a=s.x,y:o=s.y}=e.attribute;if(e.transMatrix.onlyTranslate()){const c=e.getOffsetXY(s);a+=c.x,o+=c.y,r.setTransformForCurrent()}else a=0,o=0,r.transformFromMatrix(e.transMatrix,!0);let l=!1,u=!1;return this.canvasRenderer.drawShape(e,r,a,o,{},null,(c,d,h,f)=>!(!l&&!u)||(l=c.isPointInPath(t.x,t.y),u=f||u,l),(c,d,h,f)=>{if(l||u)return!0;const p=d.lineWidth||h.lineWidth,g=d.pickStrokeBuffer||h.pickStrokeBuffer,m=d.keepStrokeScale||h.keepStrokeScale;return r.lineWidth=m?p+g:mg(r,p+g,r.dpr),l=c.isPointInStroke(t.x,t.y),u=f||u,l}),r.highPerformanceRestore(),l}}var E6t=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},A6t=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},k6t=function(n,e){return function(t,i){e(t,i,n)}};let VY=class extends Ah{constructor(n){super(),this.canvasRenderer=n,this.type="arc",this.numberType=oz}};VY=E6t([Nt(),k6t(0,Vn(tB)),A6t("design:paramtypes",[Object])],VY);let Lfe=!1;const O6t=new Pn((n,e,t,i)=>{Lfe||(Lfe=!0,n(cfe).to(VY).inSingletonScope(),n(qm).toService(cfe))});var P6t=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},M6t=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},I6t=function(n,e){return function(t,i){e(t,i,n)}};let WY=class extends Ah{constructor(n){super(),this.canvasRenderer=n,this.type="area",this.numberType=yM}};WY=P6t([Nt(),I6t(0,Vn(nB)),M6t("design:paramtypes",[Object])],WY);let Ffe=!1;const R6t=new Pn((n,e,t,i)=>{Ffe||(Ffe=!0,n(dfe).to(WY).inSingletonScope(),n(qm).toService(dfe))});var D6t=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},L6t=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},F6t=function(n,e){return function(t,i){e(t,i,n)}};let UY=class extends Ah{constructor(n){super(),this.canvasRenderer=n,this.type="circle",this.numberType=lz}};UY=D6t([Nt(),F6t(0,Vn(iB)),L6t("design:paramtypes",[Object])],UY);let Bfe=!1;const B6t=new Pn((n,e,t,i)=>{Bfe||(Bfe=!0,n(hfe).to(UY).inSingletonScope(),n(qm).toService(hfe))});class oPe{constructor(){this.type="glyph",this.numberType=fZ}contains(e,t,i){if(!e.AABBBounds.containsPoint(t))return!1;if(e.attribute.pickMode==="imprecise")return!0;const{pickContext:r}=i??{};if(!r)return!1;const s=i==null?void 0:i.pickerService;if(s){let a=!1;return e.getSubGraphic().forEach(o=>{if(a)return;const l=s.pickItem(o,t,null,i);a=!(!l||!l.graphic)}),a}return!1}}var $6t=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},N6t=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},j6t=function(n,e){return function(t,i){e(t,i,n)}};let MB=class extends oPe{constructor(n){super(),this.canvasRenderer=n}};MB=$6t([Nt(),j6t(0,Vn(uB)),N6t("design:paramtypes",[Object])],MB);let $fe=!1;const z6t=new Pn((n,e,t,i)=>{$fe||($fe=!0,n(_fe).to(MB).inSingletonScope(),n(MB).toService(_fe))});var H6t=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a};let FC=class{constructor(){this.type="image",this.numberType=uz}contains(n,e,t){const{pickContext:i}=t??{};return!!i&&!!n.AABBBounds.containsPoint(e)}};FC=H6t([Nt()],FC);let Nfe=!1;const V6t=new Pn((n,e,t,i)=>{Nfe||(Nfe=!0,n(EB).to(FC).inSingletonScope(),n(FC).toService(EB))});var W6t=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},U6t=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},G6t=function(n,e){return function(t,i){e(t,i,n)}};let GY=class extends Ah{constructor(n){super(),this.canvasRenderer=n,this.type="line",this.numberType=_M}};GY=W6t([Nt(),G6t(0,Vn(rB)),U6t("design:paramtypes",[Object])],GY);let jfe=!1;const Y6t=new Pn((n,e,t,i)=>{jfe||(jfe=!0,n(ffe).to(GY).inSingletonScope(),n(qm).toService(ffe))});var K6t=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},X6t=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},q6t=function(n,e){return function(t,i){e(t,i,n)}};let YY=class extends Ah{constructor(n){super(),this.canvasRenderer=n,this.type="polygon",this.numberType=dz}};YY=K6t([Nt(),q6t(0,Vn(aB)),X6t("design:paramtypes",[Object])],YY);let zfe=!1;const Z6t=new Pn((n,e,t,i)=>{zfe||(zfe=!0,n(yfe).to(YY).inSingletonScope(),n(qm).toService(yfe))});var Q6t=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},J6t=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},eGt=function(n,e){return function(t,i){e(t,i,n)}};let KY=class extends Ah{constructor(n){super(),this.canvasRenderer=n,this.type="path",this.numberType=cz}};KY=Q6t([Nt(),eGt(0,Vn(sB)),J6t("design:paramtypes",[Object])],KY);let Hfe=!1;const tGt=new Pn((n,e,t,i)=>{Hfe||(Hfe=!0,n(pfe).to(KY).inSingletonScope(),n(qm).toService(pfe))}),J4=new ms;class lPe{constructor(){this.type="rect",this.numberType=gZ}contains(e,t,i){if(!e.AABBBounds.containsPoint(t))return!1;if(e.attribute.pickMode==="imprecise")return!0;const{pickContext:r}=i??{};if(!r)return!1;const s=e.getGraphicTheme(),{cornerRadius:a=s.cornerRadius}=e.attribute;let{x:o=s.x,y:l=s.y}=e.attribute;r.highPerformanceSave();let u=!0;if(e.transMatrix.onlyTranslate()){const d=e.getOffsetXY(s);o+=d.x,l+=d.y,r.setTransformForCurrent()}else o=0,l=0,u=!1,r.transformFromMatrix(e.transMatrix,!0);let c=!0;if(!u||e.shadowRoot||st(a,!0)&&a!==0||Oe(a)&&a.some(d=>d!==0))c=!1,this.canvasRenderer.drawShape(e,r,o,l,{},null,(d,h,f)=>!!c||(c=d.isPointInPath(t.x,t.y),c),(d,h,f)=>{if(c)return!0;const p=h.lineWidth||f.lineWidth,g=h.pickStrokeBuffer||f.pickStrokeBuffer,m=h.keepStrokeScale||f.keepStrokeScale;return r.lineWidth=m?p+g:mg(r,p+g,r.dpr),c=d.isPointInStroke(t.x,t.y),c});else{const{fill:d=s.fill,stroke:h=s.stroke,lineWidth:f=s.lineWidth}=e.attribute;if(d)c=!0;else if(h){const p=e.AABBBounds;J4.setValue(p.x1,p.y1,p.x2,p.y2),J4.expand(-f/2),c=!J4.containsPoint(t)}}return r.highPerformanceRestore(),c}}var nGt=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},iGt=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},rGt=function(n,e){return function(t,i){e(t,i,n)}};let XY=class extends lPe{constructor(n){super(),this.canvasRenderer=n}};XY=nGt([Nt(),rGt(0,Vn(oB)),iGt("design:paramtypes",[Object])],XY);let Vfe=!1;const sGt=new Pn((n,e,t,i)=>{Vfe||(Vfe=!0,n(gfe).to(XY).inSingletonScope(),n(qm).toService(gfe))});let Wfe=!1;const aGt=new Pn((n,e,t,i)=>{Wfe||(Wfe=!0,n(EB).to(FC).inSingletonScope(),n(FC).toService(EB))});var oGt=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},lGt=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},uGt=function(n,e){return function(t,i){e(t,i,n)}};let qY=class extends Ah{constructor(n){super(),this.canvasRenderer=n,this.type="symbol",this.numberType=hz}};qY=oGt([Nt(),uGt(0,Vn(lB)),lGt("design:paramtypes",[Object])],qY);let Ufe=!1;const cGt=new Pn((n,e,t,i)=>{Ufe||(Ufe=!0,n(mfe).to(qY).inSingletonScope(),n(qm).toService(mfe))});var dGt=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a};let ZY=class{constructor(){this.type="text",this.numberType=fz}contains(n,e,t){return!!n.AABBBounds.containsPoint(e)}};ZY=dGt([Nt()],ZY);let Gfe=!1;const hGt=new Pn((n,e,t,i)=>{Gfe||(Gfe=!0,n(vfe).to(ZY).inSingletonScope(),n(qm).toService(vfe))});var fGt=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},pGt=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)};let EA=class extends Nw{constructor(n,e){super(n,e);const t=n.nativeCanvas.getContext("2d");if(!t)throw new Error("2d");this.nativeContext=t,this.canvas=n,this.matrix=new Rr(1,0,0,1,0,0),this.stack=[],this.dpr=e??1}release(...n){}};EA.env="node",EA=fGt([Nt(),pGt("design:paramtypes",[Object,Number])],EA);var gGt=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},mGt=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)};let zw=class extends _Z{constructor(n){super(n)}init(){this._context=new EA(this,this._dpr),this.nativeCanvas.width=this._pixelWidth,this.nativeCanvas.height=this._pixelHeight}release(...n){this._nativeCanvas.release&&Re(this._nativeCanvas.release)&&this._nativeCanvas.release()}};zw.env="node",zw=gGt([Nt(),mGt("design:paramtypes",[Object])],zw);const vGt=aPe(zw,EA);var yGt=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},_Gt=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},bGt=function(n,e){return function(t,i){e(t,i,n)}};let Hw=class extends wB{get container(){return null}constructor(n){super(),this.global=n,this.type="node"}getTitle(){return""}getWH(){return{width:this.canvas.displayWidth,height:this.canvas.displayHeight}}getXY(){return{x:0,y:0}}createWindow(n){n.canvas?this.createWindowByCanvas(n):this.createWindowByConfig(n)}createWindowByConfig(n){const e=this.global.createCanvas({width:n.width,height:n.height}),t={width:n.width,height:n.height,dpr:n.dpr,nativeCanvas:e,id:aa.GenAutoIncrementId().toString(),canvasControled:!0};this.canvas=new zw(t)}createWindowByCanvas(n){var e;const t=n.canvas,i=(e=n.dpr)!==null&&e!==void 0?e:1;let r=n.width,s=n.height;r!=null&&s!=null&&n.canvasControled||(r=t.width/i,s=t.height/i),this.canvas=new zw({width:r,height:s,dpr:i,nativeCanvas:t,canvasControled:n.canvasControled})}releaseWindow(){this.canvas.release()}resizeWindow(n,e){this.canvas.resize(n,e)}setDpr(n){this.canvas.dpr=n}getContext(){return this.canvas.getContext()}getNativeHandler(){return this.canvas}getDpr(){return this.canvas.dpr}getImageBuffer(n="image/png"){return this.canvas.nativeCanvas.toBuffer(n)}addEventListener(n,e,t){}dispatchEvent(n){return!0}removeEventListener(n,e,t){}getStyle(){}setStyle(n){}getBoundingClientRect(){return null}clearViewBox(n){}};Hw.env="node",Hw=yGt([Nt(),bGt(0,Vn(oZ)),_Gt("design:paramtypes",[Object])],Hw);const SGt=new Pn(n=>{n(Hw).toSelf(),n(hZ).toDynamicValue(e=>e.container.get(Hw)).whenTargetNamed(Hw.env)});var xGt=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a};let IB=class extends xB{constructor(){super(...arguments),this.type="node",this._lastTime=0,this.supportEvent=!1}configure(n,e){n.env===this.type&&(n.setActiveEnvContribution(this),this.pkg=e)}getDynamicCanvasCount(){return 0}getStaticCanvasCount(){return 999}loadJson(n){const e=fetch(n).then(t=>t.json());return e.then(t=>({data:t,state:"success"})).catch(()=>({data:null,state:"fail"})),e}loadArrayBuffer(n){return fetch(n).then(e=>e.arrayBuffer()).then(e=>({data:e,loadState:"success"})).catch(()=>({data:null,loadState:"fail"}))}loadImage(n){const{loadImage:e}=this.pkg;return e?e(n).then(t=>({loadState:t?"success":"fail",data:t})).catch(()=>({loadState:"fail",data:null})):Promise.reject(new Error("node-canvas loadImage could not be found!"))}loadSvg(n){const e=this.pkg.Resvg;if(!e)return Promise.reject(new Error("@resvg/resvg-js svgParser could not be found!"));const t=new e(n).render().asPng();return this.loadImage(t)}createCanvas(n){return this.pkg.createCanvas(n.width,n.height)}releaseCanvas(n){}getDevicePixelRatio(){return 1}getRequestAnimationFrame(){return function(n){return Rde.call(n)}}getCancelAnimationFrame(){return n=>{Rde.clear(n)}}addEventListener(n,e,t){}removeEventListener(n,e,t){}getElementById(n){return null}getRootElement(){return null}dispatchEvent(n){}release(...n){}createOffscreenCanvas(n){}};IB=xGt([Nt()],IB);const RB=new Pn(n=>{RB.isNodeBound||(RB.isNodeBound=!0,n(IB).toSelf().inSingletonScope(),n(ez).toService(IB))});RB.isNodeBound=!1;function DB(n,e=!0){DB.__loaded||(DB.__loaded=!0,n.load(RB),n.load(vGt),n.load(SGt))}DB.__loaded=!1;var wGt=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},CGt=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},TGt=function(n,e){return function(t,i){e(t,i,n)}};let QY=class extends Ah{constructor(n){super(),this.canvasRenderer=n,this.type="arc",this.numberType=oz}};QY=wGt([Nt(),TGt(0,Vn(tB)),CGt("design:paramtypes",[Object])],QY);let Yfe=!1;const EGt=new Pn((n,e,t,i)=>{Yfe||(Yfe=!0,n(bfe).to(QY).inSingletonScope(),n(ku).toService(bfe))});var AGt=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},kGt=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},OGt=function(n,e){return function(t,i){e(t,i,n)}};let JY=class extends lPe{constructor(n){super(),this.canvasRenderer=n}};JY=AGt([Nt(),OGt(0,Vn(oB)),kGt("design:paramtypes",[Object])],JY);let Kfe=!1;const PGt=new Pn((n,e,t,i)=>{Kfe||(Kfe=!0,n(Efe).to(JY).inSingletonScope(),n(ku).toService(Efe))});class uPe extends fd{contains(e,t,i){if(!e.AABBBounds.containsPoint(t))return!1;if(e.attribute.pickMode==="imprecise")return!0;const{pickContext:r}=i??{};if(!r)return!1;r.highPerformanceSave();const s=e.getGraphicTheme(),a=this.transform(e,s,r),{x:o,y:l,z:u,lastModelMatrix:c}=a;let d=t;if(r.camera){d=t.clone();const f=e.parent.globalTransMatrix;d.x=f.a*t.x+f.c*t.y+f.e,d.y=f.b*t.x+f.d*t.y+f.f}this.canvasRenderer.z=u;let h=!1;return this.canvasRenderer.drawShape(e,r,o,l,{},null,f=>!!h||(h=f.isPointInPath(d.x,d.y),h),(f,p,g)=>{if(h)return!0;const m=p.lineWidth||g.lineWidth,v=p.pickStrokeBuffer||g.pickStrokeBuffer,_=p.keepStrokeScale||g.keepStrokeScale;return r.lineWidth=_?m+v:mg(r,m+v,r.dpr),h=f.isPointInStroke(d.x,d.y),h}),this.canvasRenderer.z=0,r.modelMatrix!==c&&Ba.free(r.modelMatrix),r.modelMatrix=c,r.highPerformanceRestore(),h}}var MGt=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},IGt=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},RGt=function(n,e){return function(t,i){e(t,i,n)}};let e7=class extends uPe{constructor(n){super(),this.canvasRenderer=n,this.type="line",this.numberType=_M}};e7=MGt([Nt(),RGt(0,Vn(rB)),IGt("design:paramtypes",[Object])],e7);let Xfe=!1;const DGt=new Pn((n,e,t,i)=>{Xfe||(Xfe=!0,n(Cfe).to(e7).inSingletonScope(),n(ku).toService(Cfe))});var LGt=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},FGt=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},BGt=function(n,e){return function(t,i){e(t,i,n)}};let t7=class extends Ah{constructor(n){super(),this.canvasRenderer=n,this.type="area",this.numberType=yM}};t7=LGt([Nt(),BGt(0,Vn(nB)),FGt("design:paramtypes",[Object])],t7);let qfe=!1;const $Gt=new Pn((n,e,t,i)=>{qfe||(qfe=!0,n(Sfe).to(t7).inSingletonScope(),n(ku).toService(Sfe))});class cPe extends fd{contains(e,t,i){const{pickContext:r}=i??{};if(!r)return!1;const s=e.getGraphicTheme();r.highPerformanceSave();const a=this.transform(e,s,r),{x:o,y:l,z:u,lastModelMatrix:c}=a;let d=t;if(r.camera){d=t.clone();const f=e.parent.globalTransMatrix;d.x=f.a*t.x+f.c*t.y+f.e,d.y=f.b*t.x+f.d*t.y+f.f}this.canvasRenderer.z=u;let h=!1;return this.canvasRenderer.drawShape(e,r,o,l,i,null,(f,p,g)=>!!h||(h=f.isPointInPath(d.x,d.y),h)),this.canvasRenderer.z=0,r.modelMatrix!==c&&Ba.free(r.modelMatrix),r.modelMatrix=c,r.highPerformanceRestore(),h}}var NGt=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},jGt=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},zGt=function(n,e){return function(t,i){e(t,i,n)}};let n7=class extends cPe{constructor(n){super(),this.canvasRenderer=n,this.type="symbol",this.numberType=hz}contains(n,e,t){const{pickContext:i}=t??{};if(!i)return!1;const r=n.getParsedPath();if(!i.camera){if(!n.AABBBounds.containsPoint(e))return!1;if(r.isSvg||n.attribute.pickMode==="imprecise")return!0}i.highPerformanceSave();const s=n.getGraphicTheme(),a=this.transform(n,s,i),{x:o,y:l,z:u,lastModelMatrix:c}=a;let d=e;if(i.camera){d=e.clone();const f=n.parent.globalTransMatrix;d.x=f.a*e.x+f.c*e.y+f.e,d.y=f.b*e.x+f.d*e.y+f.f}this.canvasRenderer.z=u;let h=!1;return this.canvasRenderer.drawShape(n,i,o,l,{},null,(f,p,g)=>!!h||(h=f.isPointInPath(d.x,d.y),h),(f,p,g)=>{if(h)return!0;const m=p.lineWidth||g.lineWidth,v=p.pickStrokeBuffer||g.pickStrokeBuffer,_=p.keepStrokeScale||g.keepStrokeScale;return i.lineWidth=_?m+v:mg(i,m+v,i.dpr),h=f.isPointInStroke(d.x,d.y),h}),this.canvasRenderer.z=0,i.modelMatrix!==c&&Ba.free(i.modelMatrix),i.modelMatrix=c,i.highPerformanceRestore(),h}};n7=NGt([Nt(),zGt(0,Vn(lB)),jGt("design:paramtypes",[Object])],n7);let Zfe=!1;const HGt=new Pn((n,e,t,i)=>{Zfe||(Zfe=!0,n(Afe).to(n7).inSingletonScope(),n(ku).toService(Afe))});var VGt=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},WGt=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},UGt=function(n,e){return function(t,i){e(t,i,n)}};let i7=class extends Ah{constructor(n){super(),this.canvasRenderer=n,this.type="circle",this.numberType=lz}};i7=VGt([Nt(),UGt(0,Vn(iB)),WGt("design:paramtypes",[Object])],i7);let Qfe=!1;const GGt=new Pn((n,e,t,i)=>{Qfe||(Qfe=!0,n(xfe).to(i7).inSingletonScope(),n(ku).toService(xfe))});var YGt=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},KGt=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},XGt=function(n,e){return function(t,i){e(t,i,n)}};let r7=class extends cPe{constructor(n){super(),this.canvasRenderer=n,this.type="text",this.numberType=fz}contains(n,e,t){const{pickContext:i}=t??{};if(!i)return!1;const r=n.AABBBounds;if(!i.camera)return!!r.containsPoint(e);i.highPerformanceSave();const s=n.getGraphicTheme(),{keepDirIn3d:a=s.keepDirIn3d}=n.attribute,o=!a,l=this.transform(n,s,i,o),{x:u,y:c,z:d,lastModelMatrix:h}=l;this.canvasRenderer.z=d;let f=e;if(i.camera){f=e.clone();const g=n.parent.globalTransMatrix;f.x=g.a*e.x+g.c*e.y+g.e,f.y=g.b*e.x+g.d*e.y+g.f}let p=!1;return this.canvasRenderer.drawShape(n,i,u,c,{},null,(g,m,v)=>{if(p)return!0;const{fontSize:_=s.fontSize,textBaseline:y=s.textBaseline,textAlign:x=s.textAlign}=n.attribute,w=n.AABBBounds,T=w.height(),E=w.width(),A=UF(y,T,_),k=CO(x,E);return g.rect(k+u,A+c,E,T,d),p=g.isPointInPath(f.x,f.y),p},(g,m,v)=>p),this.canvasRenderer.z=0,i.modelMatrix!==h&&Ba.free(i.modelMatrix),i.modelMatrix=h,i.highPerformanceRestore(),p}};r7=YGt([Nt(),XGt(0,Vn(OY)),KGt("design:paramtypes",[Object])],r7);let Jfe=!1;const qGt=new Pn((n,e,t,i)=>{Jfe||(Jfe=!0,n(kfe).to(r7).inSingletonScope(),n(ku).toService(kfe))});var ZGt=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},QGt=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},JGt=function(n,e){return function(t,i){e(t,i,n)}};let s7=class extends uPe{constructor(n){super(),this.canvasRenderer=n,this.type="path",this.numberType=cz}};s7=ZGt([Nt(),JGt(0,Vn(sB)),QGt("design:paramtypes",[Object])],s7);let epe=!1;const e8t=new Pn((n,e,t,i)=>{epe||(epe=!0,n(Tfe).to(s7).inSingletonScope(),n(ku).toService(Tfe))});var t8t=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},n8t=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},i8t=function(n,e){return function(t,i){e(t,i,n)}};let a7=class extends Ah{constructor(n){super(),this.canvasRenderer=n,this.type="polygon",this.numberType=dz}};a7=t8t([Nt(),i8t(0,Vn(aB)),n8t("design:paramtypes",[Object])],a7);let tpe=!1;const r8t=new Pn((n,e,t,i)=>{tpe||(tpe=!0,n(Ofe).to(a7).inSingletonScope(),n(ku).toService(Ofe))});var s8t=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},a8t=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},o8t=function(n,e){return function(t,i){e(t,i,n)}};let o7=class extends oPe{constructor(n){super(),this.canvasRenderer=n}};o7=s8t([Nt(),o8t(0,Vn(uB)),a8t("design:paramtypes",[Object])],o7);let npe=!1;const l8t=new Pn((n,e,t,i)=>{npe||(npe=!0,n(Mfe).to(o7).inSingletonScope(),n(ku).toService(Mfe))});var u8t=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},c8t=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},d8t=function(n,e){return function(t,i){e(t,i,n)}};let l7=class{constructor(n){this.canvasRenderer=n,this.type="richtext",this.numberType=mZ}contains(n,e,t){return!!n.AABBBounds.containsPoint(e)}};l7=u8t([Nt(),d8t(0,Vn(PY)),c8t("design:paramtypes",[Object])],l7);let ipe=!1;const h8t=new Pn((n,e,t,i)=>{ipe||(ipe=!0,n(Pfe).to(l7).inSingletonScope(),n(ku).toService(Pfe))});var f8t=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},p8t=function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},g8t=function(n,e){return function(t,i){e(t,i,n)}};let u7=class extends Ah{constructor(n){super(),this.canvasRenderer=n,this.type="image",this.numberType=uz}};u7=f8t([Nt(),g8t(0,Vn(MY)),p8t("design:paramtypes",[Object])],u7);let rpe=!1;const m8t=new Pn((n,e,t,i)=>{rpe||(rpe=!0,n(wfe).to(u7).inSingletonScope(),n(ku).toService(wfe))}),kh=MZ();function LB(){LB.__loaded||(LB.__loaded=!0,zUt(),Tn.load(EUt),Tn.load(kh?EGt:O6t))}LB.__loaded=!1;const U1=LB;function FB(){FB.__loaded||(FB.__loaded=!0,HUt(),Tn.load(OUt),Tn.load(kh?$Gt:R6t))}FB.__loaded=!1;const dPe=FB;function BB(){BB.__loaded||(BB.__loaded=!0,VUt(),Tn.load(MUt),Tn.load(kh?GGt:B6t))}BB.__loaded=!1;const v8t=BB;function $B(){$B.__loaded||($B.__loaded=!0,WUt(),Tn.load(FUt),Tn.load(kh?l8t:z6t))}$B.__loaded=!1;const y8t=$B;function NB(){NB.__loaded||(NB.__loaded=!0,UUt())}NB.__loaded=!1;const Vs=NB;function jB(){jB.__loaded||(jB.__loaded=!0,GUt(),Tn.load(jUt),Tn.load(kh?m8t:V6t))}jB.__loaded=!1;const hPe=jB;function zB(){zB.__loaded||(zB.__loaded=!0,YUt(),Tn.load(kUt),Tn.load(kh?DGt:Y6t))}zB.__loaded=!1;const vg=zB;function HB(){HB.__loaded||(HB.__loaded=!0,KUt(),Tn.load(RUt),Tn.load(kh?e8t:tGt))}HB.__loaded=!1;const G1=HB;function VB(){VB.__loaded||(VB.__loaded=!0,XUt(),Tn.load(DUt),Tn.load(kh?r8t:Z6t))}VB.__loaded=!1;const yz=VB;function WB(){WB.__loaded||(WB.__loaded=!0,qUt(),Tn.load(AUt),Tn.load(kh?PGt:sGt))}WB.__loaded=!1;const yg=WB;function UB(){UB.__loaded||(UB.__loaded=!0,ZUt(),Tn.load(NUt),Tn.load(kh?h8t:aGt))}UB.__loaded=!1;const q0=UB;function GB(){GB.__loaded||(GB.__loaded=!0,e6t())}GB.__loaded=!1;const pd=GB;function YB(){YB.__loaded||(YB.__loaded=!0,QUt(),Tn.load(PUt),Tn.load(kh?HGt:cGt))}YB.__loaded=!1;const gd=YB;function KB(){KB.__loaded||(KB.__loaded=!0,JUt(),Tn.load(IUt),Tn.load(kh?qGt:hGt))}KB.__loaded=!1;const _g=KB;function fPe(){Vs(),yg()}const BC=-.5*Math.PI,$C=1.5*Math.PI,AA="PingFang SC,Helvetica Neue,Microsoft Yahei,system-ui,-apple-system,segoe ui,Roboto,Helvetica,Arial,sans-serif,apple color emoji,segoe ui emoji,segoe ui symbol",_8t=14;var ea;(function(n){n.selected="selected",n.selectedReverse="selected_reverse",n.hover="hover",n.hoverReverse="hover_reverse"})(ea||(ea={}));const ri={[ea.selectedReverse]:{},[ea.selected]:{},[ea.hover]:{},[ea.hoverReverse]:{}},XB={container:"",width:30,height:30,style:{}},b8t="scrollDown",pPe="scrollDrag",S8t="scrollUp";function Xb(){return un.env==="browser"?["pointerup","pointerleave","pointercancel"]:["pointerup","pointerleave","pointerupoutside"]}const spe={debounce:Y0,throttle:Km};fPe();let FO=class gPe extends ko{constructor(e,t){super(t!=null&&t.skipDefault?e:We({},gPe.defaultAttributes,e)),this.name="scrollbar",this._handleTouchMove=i=>{Y(this._prePos)&&i.preventDefault()},this._onRailPointerDown=i=>{const{viewX:r,viewY:s}=i,{direction:a,width:o,height:l,range:u}=this.attribute,c=this._sliderSize,[d,h]=this._getScrollRange();let f;if(a==="vertical"){const p=s-this._viewPosition.y,g=ki(p-c/2,d,h);f=p/l,this._slider.setAttribute("y",g,!0)}else{const p=r-this._viewPosition.x,g=ki(p-c/2,d,h);f=p/o,this._slider.setAttribute("x",g,!0)}this.setScrollRange([f-(u[1]-u[0])/2,f+(u[1]-u[0])/2],!1),this.stage&&!this.stage.autoRender&&this.stage.renderNextFrame()},this._onSliderPointerDown=i=>{this._clearDragEvents();const{stopSliderDownPropagation:r=!0}=this.attribute;r&&i.stopPropagation();const{direction:s}=this.attribute,{x:a,y:o}=this.stage.eventPointTransform(i);this._prePos=s==="horizontal"?a:o,this._dispatchEvent(b8t,{pos:this._prePos,event:i});const l=Xb(),u=un.env==="browser"?un:this.stage;u.addEventListener("pointermove",this._onSliderPointerMoveWithDelay,{capture:!0}),l.forEach(c=>{u.addEventListener(c,this._onSliderPointerUp)})},this._computeScrollValue=i=>{const{direction:r}=this.attribute,{x:s,y:a}=this.stage.eventPointTransform(i);let o,l,u=0;const{width:c,height:d}=this.getSliderRenderBounds();return r==="vertical"?(l=a,u=l-this._prePos,o=u/d):(l=s,u=l-this._prePos,o=u/c),[l,o]},this._onSliderPointerMove=i=>{const{stopSliderMovePropagation:r=!0}=this.attribute;r&&i.stopPropagation();const s=this.getScrollRange(),[a,o]=this._computeScrollValue(i);this.setScrollRange([s[0]+o,s[1]+o],!0),this._prePos=a},this._onSliderPointerMoveWithDelay=this.attribute.delayTime===0?this._onSliderPointerMove:spe[this.attribute.delayType](this._onSliderPointerMove,this.attribute.delayTime),this._onSliderPointerUp=i=>{const{range:r,limitRange:s=[0,1]}=this.attribute,a=this.getScrollRange(),[o,l]=this._computeScrollValue(i),u=[a[0]+l,a[1]+l];this._prePos=null,this._dispatchEvent(S8t,{pre:r,value:lb(u,s[0],s[1])}),this._clearDragEvents()}}setScrollRange(e,t=!0){const{direction:i="horizontal",limitRange:r=[0,1],range:s,realTime:a=!0}=this.attribute,o=lb(e,r[0],r[1]);if(t){const l=this._getSliderPos(o);if(this._slider){const u=l[1]-l[0];this._sliderSize=u,i==="horizontal"?this._slider.setAttributes({x:l[0],width:u},!0):this._slider.setAttributes({y:l[0],height:u},!0),this.stage&&!this.stage.autoRender&&this.stage.renderNextFrame()}}this.attribute.range=o,a&&this._dispatchEvent(pPe,{pre:s,value:o})}getScrollRange(){return this.attribute.range}bindEvents(){if(this.attribute.disableTriggerEvent)return;const{delayType:e="throttle",delayTime:t=0}=this.attribute;this._rail&&this._rail.addEventListener("pointerdown",spe[e](this._onRailPointerDown,t)),this._slider&&this._slider.addEventListener("pointerdown",this._onSliderPointerDown),(un.env==="browser"?un:this.stage).addEventListener("touchmove",this._handleTouchMove,{passive:!1})}render(){this._reset();const{direction:e="horizontal",width:t,height:i,range:r,limitRange:s=[0,1],railStyle:a,sliderStyle:o,padding:l=2}=this.attribute,u=this.createOrUpdateChild("scrollbar-container",{},"group"),c=u.createOrUpdateChild("scrollbar-rail",Object.assign({x:0,y:0,width:t,height:i},a),"rect");this._rail=c;const d=this.getSliderRenderBounds(),h=this._getSliderPos(lb(r,s[0],s[1])),f=h[1]-h[0];let p;this._sliderSize=f,p=e==="horizontal"?{x:h[0],y:d.y1,width:f,height:d.height}:{x:d.x1,y:h[0],width:d.width,height:f};const g=u.createOrUpdateChild("slider",Object.assign(Object.assign(Object.assign(Object.assign({},p),{cornerRadius:this._getDefaultSliderCornerRadius()}),o),{boundsPadding:gl(l),pickMode:"imprecise"}),"rect");this._slider=g,this._container=u;const m=this._container.AABBBounds;this._viewPosition={x:m.x1,y:m.y1}}getSliderRenderBounds(){if(this._sliderRenderBounds)return this._sliderRenderBounds;const{width:e,height:t,padding:i=2}=this.attribute,[r,s,a,o]=gl(i),l={x1:o,y1:r,x2:e-s,y2:t-a,width:Math.max(0,e-(o+s)),height:Math.max(0,t-(r+a))};return this._sliderRenderBounds=l,l}_getDefaultSliderCornerRadius(){const{direction:e,round:t}=this.attribute;if(t){const{width:i,height:r}=this.getSliderRenderBounds();return e==="horizontal"?r:i}return 0}_getSliderPos(e){const{direction:t}=this.attribute,{width:i,height:r,x1:s,y1:a}=this.getSliderRenderBounds();return t==="horizontal"?[i*e[0]+s,i*e[1]+s]:[r*e[0]+a,r*e[1]+a]}_getScrollRange(){if(this._sliderLimitRange)return this._sliderLimitRange;const{limitRange:e=[0,1],direction:t}=this.attribute,[i,r]=lb(e,0,1),{width:s,height:a,x1:o,y1:l}=this.getSliderRenderBounds(),u=this._sliderSize;return t==="horizontal"?lb([o+i*s,o+r*s],o,s-u):lb([l+i*a,l+r*a],l,a-u)}_clearDragEvents(){const e=Xb(),t=un.env==="browser"?un:this.stage;t.removeEventListener("pointermove",this._onSliderPointerMoveWithDelay,{capture:!0}),e.forEach(i=>{t.removeEventListener(i,this._onSliderPointerUp)})}_reset(){this._sliderRenderBounds=null,this._sliderLimitRange=null}release(e){super.release(e),(un.env==="browser"?un:this.stage).addEventListener("touchmove",this._handleTouchMove,{passive:!1}),this._clearDragEvents()}};FO.defaultAttributes={direction:"horizontal",round:!0,sliderSize:20,sliderStyle:{fill:"rgba(0, 0, 0, .5)"},railStyle:{fill:"rgba(0, 0, 0, .0)"},padding:2,scrollRange:[0,1],delayType:"throttle",delayTime:0,realTime:!0};var c7,x8t=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a};let Vw=c7=class{constructor(){this.name="scrollbar",this.activeEvent="onRegister",this._uid=aa.GenAutoIncrementId(),this.key=this.name+this._uid,this.scroll=n=>{var e,t;const i=n.target,r=this.getScrollContainer(i);if(!r&&!this.scrollContainer)return;if(!r&&this.scrollContainer){if(!this.scrollContainer.g.stage||this.scrollContainer.g.stage!==i.stage)return;const m=this.formatScrollContainer(this.scrollContainer.g);if(!m)return void this.clearScrollbar(this.scrollContainer.g,"all");this.scrollContainer.showH&&!m.showH&&this.clearScrollbar(this.scrollContainer.g,"horizontal"),this.scrollContainer.showV&&!m.showV&&this.clearScrollbar(this.scrollContainer.g,"vertical"),this.scrollContainer=m}else r&&this.scrollContainer&&r.g!==this.scrollContainer.g&&this.clearScrollbar(this.scrollContainer.g,"all");if(this.scrollContainer=r??this.scrollContainer,!r)return;const s=r.g;if(!s)return;const{width:a,height:o,scrollX:l=0,scrollY:u=0}=s.attribute;let c=l,d=u,{showH:h,showV:f}=r;this.scrollContainerBounds=new Xo().set(0,0,s.attribute.width,s.attribute.height),h&&h&&(qn(n.deltaX)>qn(n.deltaY)?(h=h&&!0,f=f&&!1):(h=h&&!1,f=f&&!0));const p=this.childrenBounds.width(),g=this.childrenBounds.height();h&&(c=l-((e=n.deltaX)!==null&&e!==void 0?e:0),c>0?c=0:c<a-p&&(c=a-p)),f&&(d=u-((t=n.deltaY)!==null&&t!==void 0?t:0),d>0?d=0:d<o-g&&(d=o-g)),s.setAttributes({scrollX:c,scrollY:d}),this.addOrUpdateScroll(h,f,s.parent,s)},this.handleScrollBarChange=n=>{if(!(this.scrollContainer&&this.scrollContainerBounds&&this.childrenBounds&&n&&n.target&&n.detail&&n.detail.value))return;const e=n.target,t=n.detail.value;if(e.attribute.direction==="horizontal"){const i=this.childrenBounds.width();this.scrollContainer.g.setAttributes({scrollX:-t[0]*i})}else{const i=this.childrenBounds.height();this.scrollContainer.g.setAttributes({scrollY:-t[0]*i})}}}activate(n){this.pluginService=n;const{stage:e}=this.pluginService;this.childrenBounds=new ms,e.addEventListener("wheel",this.scroll),this.params=c7.defaultParams}initEventOfScrollbar(n,e,t){n.addEventListener("pointerover",()=>{e.setAttribute("visibleAll",!0)}),n.addEventListener("pointermove",()=>{e.setAttribute("visibleAll",!0)}),n.addEventListener("pointerout",()=>{e.setAttribute("visibleAll",!1)}),e.addEventListener("pointerover",()=>{e.setAttribute("visibleAll",!0)}),e.addEventListener("pointerout",()=>{e.setAttribute("visibleAll",!0)}),e.addEventListener("scrollUp",this.handleScrollBarChange),e.addEventListener(pPe,this.handleScrollBarChange)}addOrUpdateScroll(n,e,t,i){if(n){const{scrollBar:r,isUpdate:s}=this.addOrUpdateHScroll(i,t,!0);s||this.initEventOfScrollbar(i,r,!0)}else this.clearScrollbar(i,"horizontal");if(e){const{scrollBar:r,isUpdate:s}=this.addOrUpdateHScroll(i,t,!1);s||this.initEventOfScrollbar(i,r,!1)}else this.clearScrollbar(i,"vertical")}getDirection(n){return n?"horizontal":"vertical"}addOrUpdateHScroll(n,e,t){var i,r;const s=this.getDirection(t),a=`${(i=n.name)!==null&&i!==void 0?i:n._uid}_${this.getDirection(t)}_${this.name}`,o=e.children.filter(w=>w.name===a);let l=!0,u=o[0];const{y:c=0,dy:d=0,x:h=0,dx:f=0,height:p,width:g,zIndex:m=0}=this.scrollContainer.g.attribute,v={x:0,y:0,direction:s,zIndex:m+1,visibleAll:!0,padding:[2,0],railStyle:{fill:"rgba(0, 0, 0, .1)"},range:[0,.05]};t?(v.width=this.scrollContainerBounds.width(),v.height=12):(v.height=this.scrollContainerBounds.height(),v.width=12),u?o.length>1&&o.forEach((w,T)=>{var E;T&&((E=w.parent)===null||E===void 0||E.removeChild(w))}):(l=!1,u=new FO(v),u.name=a,e.add(u),u.isScrollBar=!0);const _=this.childrenBounds,{scrollX:y,scrollY:x}=n.attribute;if(t){const w=Math.min(this.scrollContainerBounds.width()/_.width(),1),T=Math.max(Math.min(y/this.childrenBounds.width(),0),w-1);v.x=h+f,v.y=c+d+p-((r=v.height)!==null&&r!==void 0?r:0),v.range=[-T,-T+w]}else{const w=Math.min(this.scrollContainerBounds.height()/_.height(),1),T=Math.max(Math.min(x/this.childrenBounds.height(),0),w-1);v.x=h+f+g-this.scrollContainerBounds.width(),v.y=c+d,v.range=[-T,-T+w]}return u.setAttributes(v),{scrollBar:u,isUpdate:l}}clearScrollbar(n,e){n.parent&&n.parent.children.filter(t=>t.isScrollBar&&(e==="all"||t.attribute.direction===e)).forEach(t=>{t.parent.removeChild(t)})}formatScrollContainer(n){if(!n||n.type!=="group"||!n.attribute)return null;const{overflow:e,width:t,height:i}=n.attribute;if(!e||e==="hidden")return null;let r=!1,s=!1;e==="scroll"?(r=!0,s=!0):(r=e==="scroll-x",s=!r);const a=this.childrenBounds;return a.clear(),n.forEachChildren(o=>{a.union(o.AABBBounds)}),n.AABBBounds.empty()||(r&&(r=t<a.width()),s&&(s=i<a.height())),r||s?{g:n,showH:r,showV:s}:null}getScrollContainer(n){let e=n;for(;e;){const t=this.formatScrollContainer(e);if(t)return t;e=e.parent}return null}deactivate(n){const{stage:e}=this.pluginService;e.removeEventListener("wheel",this.scroll)}};Vw.defaultParams={timeout:500},Vw=c7=x8t([Nt()],Vw);const w8t=new Pn((n,e,t,i)=>{t(Vw)||(n(Vw).toSelf(),n(DC).toService(Vw))});function C8t(){Tn.load(w8t)}function vf(n,e){n.forEachChildren(t=>{const i=e(t);t.isContainer&&!i&&vf(t,e)})}const Rs=n=>!J(n)&&n.visible!==!1;function T8t(n,e){if(!e)return[];const t=n.find(i=>i.name===e,!0);return t?t.getChildren():[]}function E8t(n,e){if(!e)return[];const t=n.find(i=>i.name===e,!0);return t?t.findAll(i=>i.type!=="group",!0):[]}function A8t(n){const e=[n[0]];for(let t=1;t<n.length;t++)n[t].x===n[t-1].x&&n[t].y===n[t-1].y||e.push(n[t]);return e}function qB(n){return n>=0&&n<Math.PI/2||n>3*Math.PI/2&&n<=2*Math.PI}function mp(n,e,t){return Math.abs(n-e)<t}function mPe(n,e,t){return n?{textAlign:"right",textBaseline:"middle"}:{textAlign:e<Math.PI&&t.toLocaleLowerCase().includes("top")||e>Math.PI&&t.toLocaleLowerCase().includes("bottom")?"left":e<Math.PI&&t.toLocaleLowerCase().includes("bottom")||e>Math.PI&&t.toLocaleLowerCase().includes("top")?"right":"center",textBaseline:e<Math.PI&&t.includes("inside")||e>Math.PI&&!t.includes("inside")?"bottom":"top"}}const k8t=["#ffffff","#000000"];function ape(n,e,t,i,r,s){if(typeof n!="string"||typeof e!="string")return n;const a=new ga(n).toHex(),o=new ga(e).toHex();return RZ(a,o,t,i,s)?a:O8t(a,o,t,i,r,s)}function O8t(n,e,t,i,r,s){const a=[];r&&(r instanceof Array?a.push(...r):a.push(r)),a.push(...k8t);for(const o of a)if(n!==o&&RZ(o,e,t,i,s))return o}function RZ(n,e,t,i,r){if(r==="lightness"){const s=ga.getColorBrightness(new ga(e));return ga.getColorBrightness(new ga(n))<.5?s>=.5:s<.5}return i?eW(n,e)>i:t==="largeText"?eW(n,e)>3:eW(n,e)>4.5}function eW(n,e){const t=ope(n),i=ope(e);return((t>i?t:i)+.05)/((t>i?i:t)+.05)}function ope(n){const e=tke(n),t=e[0]/255,i=e[1]/255,r=e[2]/255;let s,a,o;return s=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4),a=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4),o=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4),.2126*s+.7152*a+.0722*o}function ID(n,e,t,i){let r;switch(n){case"base":r=e;break;case"invertBase":r=t;break;case"similarBase":r=i}return r}function vPe(n,e){return[n[0]*e,n[1]*e]}function yPe(n){const[e,t]=n;return Math.sqrt(e*e+t*t)}function P8t(n){let e=yPe(n);return e>0&&(e=1/e),[n[0]*e,n[1]*e]}function M8t(n,e){const[t,i]=n,[r,s]=e,a=Math.sqrt((t*t+i*i)*(r*r+s*s)),o=a&&(t*r+i*s)/a;return Math.acos(Math.min(Math.max(o,-1),1))}function lpe(n,e,t){const i=M8t(n,e),r=M8(n,e)>=0;return t?r?2*Math.PI-i:i:r?i:2*Math.PI-i}const Ww=(n,e,t,i)=>new Vl(Object.assign({defaultFontParams:Object.assign({fontFamily:AA,fontSize:_8t},i),getTextBounds:t?void 0:gz,specialCharSet:`-/: .,@%'"~`+Vl.ALPHABET_CHAR_SET+Vl.ALPHABET_CHAR_SET.toUpperCase()},e??{}),n);function _z(n,e,t={}){if(!n)return{width:0,height:0};const i=gz({text:n,fontFamily:e.fontFamily||t.fontFamily||AA,fontSize:e.fontSize||t.fontSize||12,fontWeight:e.fontWeight||t.fontWeight,textAlign:e.textAlign||"center",textBaseline:e.textBaseline,ellipsis:!!e.ellipsis,maxLineWidth:e.maxLineWidth||1/0,lineHeight:e.fontSize||t.fontSize||12});return{width:i.width(),height:i.height()}}function I8t(n,e="type"){return _Pe(n,e)==="rich"}function _Pe(n,e="type"){var t,i;return pn(n.text)&&"type"in n.text?(t=n.text.type)!==null&&t!==void 0?t:"text":e in n&&(i=n[e])!==null&&i!==void 0?i:"text"}function bPe(n){var e,t;return Y(n.maxLineWidth)&&(n.maxWidth=n.maxLineWidth,delete n.maxLineWidth),n.width=(e=n.width)!==null&&e!==void 0?e:0,n.height=(t=n.height)!==null&&t!==void 0?t:0,n.textConfig=n.text.text||n.text,n}function R8t(n){const{text:e,_originText:t}=n,{text:i}=e;return n.html=i,n.text=t,n.renderable=!1,n}function D8t(n){const{text:e,_originText:t}=n,{text:i}=e;return n.react=i,n.text=t,n.renderable=!1,n}function BO(n,e="type"){const t=_Pe(n,e);return t==="rich"?It.richtext(bPe(n)):(t==="html"?n=R8t(n):t==="react"&&(n=D8t(n)),It.text(n))}function upe(n,e,t,i,r){n==="right"?t==="center"?e.setAttribute("x",i-r/2):t==="right"||t==="end"?e.setAttribute("x",i):e.setAttribute("x",i-r):t==="center"?e.setAttribute("x",i+r/2):t==="right"||t==="end"?e.setAttribute("x",i+r):e.setAttribute("x",i)}const rx=(n,e)=>{const t=Math.atan2(n,e);return t<0?t+2*Math.PI:t};function SPe(n,e){const{x1:t,y1:i,x2:r,y2:s}=e,{x1:a,y1:o,x2:l,y2:u}=n.AABBBounds;let c=0,d=0;return a<t&&(c=t-a),o<i&&(d=i-o),l>r&&(c=r-l),u>s&&(d=s-u),{dx:c,dy:d}}function DZ(n,e){const{dx:t,dy:i}=SPe(n,e),{dx:r=0,dy:s=0}=n.attribute;t&&n.setAttribute("dx",t+r),i&&n.setAttribute("dy",i+s)}function bz(){Vs(),yg(),gd(),q0(),_g()}var cpe=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};bz();class If extends ko{getBgRect(){return this._bgRect}getTextShape(){return this._textShape}constructor(e,t){super(t!=null&&t.skipDefault?e:We({},If.defaultAttributes,e)),this.name="tag",this._tagStates=[],this._rectStates=[],this._symbolStates=[],this._textStates=[]}render(){var e,t,i;this.cacheStates();const{text:r="",textStyle:s={},shape:a={},panel:o={},space:l=4,minWidth:u,maxWidth:c,padding:d=4,visible:h,state:f,type:p,textAlwaysCenter:g,containerTextAlign:m}=this.attribute,v=gl(d),_=this.createOrUpdateChild("tag-content",{x:0,y:0,zIndex:1},"group");let y,x=-v[3],w=-v[0],T=v[1]+v[3],E=v[0]+v[2],A=0,k=0;const{visible:P}=a,I=cpe(a,["visible"]);if(Va(P)){const Q=(I==null?void 0:I.size)||10,se=st(Q)?Q:Math.max(Q[0],Q[1]);y=_.createOrUpdateChild("tag-shape",Object.assign(Object.assign({symbolType:"circle",size:Q,strokeBoundsBuffer:0},I),{visible:P,x:se/2,y:se/2}),"symbol"),Lt(f==null?void 0:f.shape)||(y.states=f.shape),P&&(k=se+l)}let D,L,B;if(T+=k,A+=k,I8t({text:r})||p==="rich"){const Q=Object.assign(Object.assign(Object.assign({},bPe(Object.assign({type:p,text:r},s))),s),{visible:Y(r)&&h!==!1,x:A,y:0});J(Q.lineHeight)&&(Q.lineHeight=s.fontSize),D=_.createOrUpdateChild("tag-text",Q,"richtext"),L=D.AABBBounds.width(),B=D.AABBBounds.height()}else{const Q=Object.assign(Object.assign({text:pn(r)&&"type"in r&&r.type==="text"?r.text:r,visible:Y(r)&&h!==!1,lineHeight:s==null?void 0:s.fontSize},s),{x:A,y:0});J(Q.lineHeight)&&(Q.lineHeight=s.fontSize),D=_.createOrUpdateChild("tag-text",Q,"text");const se=_z(Q.text,s,(t=(e=this.stage)===null||e===void 0?void 0:e.getTheme())===null||t===void 0?void 0:t.text);L=se.width,B=se.height}T+=L;const F=(i=a.size)!==null&&i!==void 0?i:10,$=st(F)?F:Math.max(F[0],F[1]);E+=Math.max(B,a.visible?$:0);const{textAlign:z,textBaseline:N}=s;(Y(u)||Y(c))&&(Y(u)&&T<u&&(T=u),Y(c)&&T>c&&(T=c,D.setAttribute("maxLineWidth",c-v[1]-v[2]))),x=0,w=0;let V=0;z==="left"||z==="start"?V=1:z==="right"||z==="end"?V=-1:z==="center"&&(V=0),V?V<0?(x-=T,y&&y.setAttribute("x",(y.attribute.x||0)-L),_.setAttribute("x",-v[1]-k)):V>0&&_.setAttribute("x",v[3]):(x-=T/2,y&&y.setAttribute("x",(y.attribute.x||0)-L/2),_.setAttribute("x",-k/2));const H=m==="right"||m==="end",K=m==="left"||m==="start",U=(Q,se)=>{D.type==="richtext"?D.setAttributes({x:Q,textAlign:se,textConfig:Ae(D.attribute.textConfig).map(ae=>Object.assign(Object.assign({},ae),{textAlign:se}))}):D.setAttributes({x:Q,textAlign:se})};if((m?m==="center":g)&&V){const Q=T-v[1]-v[3],se=L+k,ae=V===1?(Q-se)/2+k+L/2:v[0]+k-(T/2+se/2-k)+L/2;if(U(ae,"center"),y){const ue=ae-L/2-k+$/2;y.setAttributes({x:ue})}}if(K&&V!==1){const Q=T-v[1]-v[3],se=V===0?-Q/2+k/2:-T+v[3]+v[1]+k;if(U(se+k,"left"),y){const ae=se+$/2;y.setAttributes({x:ae})}}if(H&&V!==-1){const Q=T-v[1]-v[3],se=V===0?Q/2+k/2:Q;if(U(se,"right"),y){const ae=se-L-k+$/2;y.setAttributes({x:ae})}}N==="middle"?(w-=E/2,y&&y.setAttribute("y",0)):N==="bottom"?(w-=E,y&&y.setAttribute("y",-B/2),_.setAttribute("y",-v[2])):N==="top"&&(_.setAttribute("y",v[0]),y&&y.setAttribute("y",B/2)),Lt(f==null?void 0:f.text)||(D.states=f.text);const{visible:X}=o,Z=cpe(o,["visible"]);if(h&&Va(X)){const Q=this.createOrUpdateChild("tag-panel",Object.assign(Object.assign({},Z),{visible:X&&!!r,width:T,height:E,x,y:w}),"rect");if(Lt(f==null?void 0:f.panel)||(Q.states=f.panel),Z.customShape){const se=Z.customShape;Q.pathProxy=ae=>se(this,ae,new Ts)}this._bgRect=Q}this._textShape=D,this._symbol=y,this.resetStates()}initAttributes(e,t){e=t!=null&&t.skipDefault?e:We({},If.defaultAttributes,e),super.initAttributes(e),this.render()}addState(e,t,i){super.addState(e,t,i),this._textShape&&this._textShape.addState(e,t,i),this._bgRect&&this._bgRect.addState(e,t,i),this._symbol&&this._symbol.addState(e,t,i)}removeState(e,t){super.removeState(e,t),this._textShape&&this._textShape.removeState(e,t),this._bgRect&&this._bgRect.removeState(e,t),this._symbol&&this._symbol.removeState(e,t)}cacheStates(){var e,t,i,r,s,a,o,l,u,c,d,h,f,p;this._tagStates=(t=(e=this.currentStates)===null||e===void 0?void 0:e.slice())!==null&&t!==void 0?t:[],this._rectStates=(s=(r=(i=this._bgRect)===null||i===void 0?void 0:i.currentStates)===null||r===void 0?void 0:r.slice())!==null&&s!==void 0?s:[],this._symbolStates=(l=(o=(a=this._symbol)===null||a===void 0?void 0:a.currentStates)===null||o===void 0?void 0:o.slice())!==null&&l!==void 0?l:[],this._textStates=(d=(c=(u=this._textShape)===null||u===void 0?void 0:u.currentStates)===null||c===void 0?void 0:c.slice())!==null&&d!==void 0?d:[],this.clearStates(),(h=this._bgRect)===null||h===void 0||h.clearStates(),(f=this._symbol)===null||f===void 0||f.clearStates(),(p=this._textShape)===null||p===void 0||p.clearStates()}resetStates(){var e,t,i;this._tagStates.length&&this.useStates(this._tagStates),this._rectStates.length&&((e=this._bgRect)===null||e===void 0||e.useStates(this._rectStates)),this._symbolStates.length&&((t=this._symbol)===null||t===void 0||t.useStates(this._symbolStates)),this._textStates.length&&((i=this._textShape)===null||i===void 0||i.useStates(this._textStates))}}If.defaultAttributes={visible:!0,textStyle:{fontSize:12,fill:"#000",textAlign:"left",textBaseline:"top"},space:4,padding:4,shape:{fill:"#000"}};const xPe={visible:!0,position:"auto",titleStyle:{fontSize:16,fill:"#08979c"},contentStyle:{fontSize:12,fill:"green"},panel:{visible:!0,fill:"#e6fffb",size:12,space:0,stroke:"#87e8de",lineWidth:1,cornerRadius:4}},wPe={poptip:We({},xPe)};function L8t(){Vs(),_g(),gd(),yg()}function F8t(n){We(wPe.poptip,xPe,n)}var B8t=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};const dpe=new ms;L8t();const hpe="M -0.5 -0.5, L -0.5 0.5, L 0.5 -0.5, Z",fpe="M -0.5 -0.5, L -0.5 0.5, L 0.5 0.5, Z",ppe="M -0.5 -0.5, L 0.5 -0.5, L 0.5 0.5, Z",gpe="M 0.5 -0.5, L 0.5 0.5, L -0.5 0.5, Z",$8t={tl:hpe,tr:ppe,bl:fpe,br:gpe,lt:hpe,lb:fpe,rt:ppe,rb:gpe};class $O extends ko{constructor(e,t){super(t!=null&&t.skipDefault?e:We({},$O.defaultAttributes,e)),this.name="poptip",this.positionList=["top","tl","tr","bottom","bl","br","left","lt","lb","right","rt","rb"]}render(){var e,t,i,r,s,a,o,l,u;const{titleStyle:c={},position:d,contentStyle:h={},panel:f,logoSymbol:p,poptipAnchor:g="position",logoText:m,logoTextStyle:v={},triangleMode:_="default",space:y=4,minWidth:x=0,maxWidth:w=1/0,padding:T=4,maxWidthPercent:E,visible:A,state:k,dx:P=0,dy:I=0,positionBounds:D}=this.attribute;let{title:L="",content:B=""}=this.attribute;L=this.attribute.titleFormatMethod?this.attribute.titleFormatMethod(L):L,B=this.attribute.contentFormatMethod?this.attribute.contentFormatMethod(B):B;const F=gl(T),$=this.createOrUpdateChild("poptip-content",{x:0,y:0,zIndex:1},"group");this.group=$;const z=w-F[1]-F[3],N=Y(L)&&A!==!1,V=Object.assign(Object.assign({text:Oe(L)?L:[L],visible:N,wrap:!0},c),{x:F[3],y:F[0],maxLineWidth:z,textAlign:"left",textBaseline:"top"}),H=$.createOrUpdateChild("poptip-title",V,"text");Lt(k==null?void 0:k.title)||(H.states=k.title);const K=H.AABBBounds,U=K.height(),X=K.width();let Z=U+y;N||(Z=0);const Q=Y(B)&&A!==!1,se=Object.assign(Object.assign({text:Oe(B)?B:[B],visible:Q,wrap:!0},h),{x:F[3],y:F[0]+Z,maxLineWidth:z,textAlign:"left",textBaseline:"top"}),ae=$.createOrUpdateChild("poptip-content",se,"text");Lt(k==null?void 0:k.content)||(ae.states=k.content);const ue=ae.AABBBounds,oe=ue.height(),re=ue.width();Q&&(Z+=oe),this.titleShape=H,this.contentShape=ae;let fe=dl(X+F[1]+F[3],re+F[1]+F[3]);fe>w?fe=w:fe<x&&(fe=x);let ve=F[0]+F[2]+Z;const{visible:xe,square:ye}=f,Ee=B8t(f,["visible","square"]);if(ye){const et=dl(fe,ve);fe=et;const Mt=et-ve;ve=et,H.setAttributes({dy:Mt/2}),ae.setAttributes({dy:Mt/2})}const Se=(e=Ee.size)!==null&&e!==void 0?e:12,Fe=Oe(Se)?[Se[0]+((t=Ee.space)!==null&&t!==void 0?t:0),Se[1]+((i=Ee.space)!==null&&i!==void 0?i:0)]:Se+((r=Ee.space)!==null&&r!==void 0?r:0),Ge=(s=Ee.lineWidth)!==null&&s!==void 0?s:1,Pe=this.stage?[(a=this.stage.viewWidth)!==null&&a!==void 0?a:this.stage.width,(o=this.stage.viewHeight)!==null&&o!==void 0?o:this.stage.height]:void 0;if(Pe){const et=this.AABBBounds,Mt=(l=this.attribute.x)!==null&&l!==void 0?l:et.x1,Ct=Pe[0]-et.x1;let tt=Math.max(Mt,Ct);const xt=(Oe(Se)?Se[0]:12)+3;if(tt=Math.min(tt-xt,tt*E),tt<fe){fe=tt;const dt=F[1]+F[3];H.setAttribute("maxLineWidth",tt-dt),ae.setAttribute("maxLineWidth",tt-dt),ve=F[0]+F[2],N&&(ve+=H.AABBBounds.height()+y),ve+=ae.AABBBounds.height()}}const je=d==="auto"||Oe(d),qe=Oe(d)?d:this.positionList;let ot,$e=-1/0;for(let et=0;et<qe.length+1;et++){const Mt=je?qe[et===qe.length?ot:et]:d;let Ct="arrow2Left",tt=(Oe(Se)?Se[0]:Se)/4,xt=0;Mt==="top"||Mt==="bottom"||Mt==="left"||Mt==="right"?Ct="arrow2Left":_==="concise"&&(Ct=$8t[Mt],tt=["tl","bl","rt","rb"].includes(Mt)?(Oe(Se)?Se[0]:Se)/2:-(Oe(Se)?Se[0]:Se)/2,xt=["tl","tr","lb","rb"].includes(Mt)?-(Oe(Se)?Se[1]:Se)/2:(Oe(Se)?Se[1]:Se)/2);const{angle:dt,offset:bt}=this.getAngleAndOffset(Mt,fe,ve,Oe(Fe)?Fe:[Fe,Fe-Ge],Ct);let rt,Dt={x:0,y:0};if(g==="bounds"&&D&&(Dt=this.calculateAnchorPoint(Mt,D)),Va(xe)){let Je;rt=$.createOrUpdateChild("poptip-symbol-panel",Object.assign(Object.assign({},Ee),{visible:xe&&(Q||N),x:tt,y:xt,strokeBoundsBuffer:-1,boundsPadding:-2,anchor:[0,0],symbolType:Ct,angle:dt,dx:bt[0],dy:bt[1]-((u=Ee.space)!==null&&u!==void 0?u:0),size:Se,zIndex:9}),"symbol"),Lt(k==null?void 0:k.panel)||(rt.states=k.panel),Je=f.panelSymbolType?$.createOrUpdateChild("poptip-rect-panel",Object.assign(Object.assign({},Ee),{visible:xe&&(Q||N),x:0,y:0,symbolType:"rect",size:[fe,ve],zIndex:-8}),"symbol"):$.createOrUpdateChild("poptip-rect-panel",Object.assign(Object.assign({},Ee),{visible:xe&&(Q||N),x:0,y:0,width:fe,height:ve,zIndex:-8}),"rect"),Lt(k==null?void 0:k.panel)||(Je.states=k.panel)}if($.setAttributes({x:-bt[0]+P+Dt.x,y:-bt[1]+I+Dt.y,anchor:[tt,xt]}),p){const{size:Je=12}=p,At=Oe(Je)?Je:[Je,Je];At[1]==="auto"&&(At[1]=ve),At[0]==="auto"&&(At[0]=ve);const Ft=At[0];$.createOrUpdateChild("poptip-logo",Object.assign(Object.assign({},p),{x:0,y:ve/2,visible:xe&&(Q||N),zIndex:10,size:At}),"symbol"),$.setAttributes({x:-bt[0]+P+Ft/2,y:-bt[1]+I}),m&&$.createOrUpdateChild("poptip-logo-text",Object.assign(Object.assign({},v),{x:0,y:ve/2,visible:xe&&(Q||N),text:m,textAlign:"center",textBaseline:"middle",zIndex:10}),"text")}if(!Pe)break;{dpe.setValue(0,0,fe,ve).transformWithMatrix($.globalTransMatrix);const Je=dpe,At=new Xo().setValue(0,0,Pe[0],Pe[1]);if(je){if(rjt(Je,At,!1))break;{const Ft=qAe(Je,At,!1),on=(Ft.x2-Ft.x1)*(Ft.y2-Ft.y1);on>$e&&($e=on,ot=et)}}if(["top","bottom","left","right"].includes(Mt)){const Ft=Mt==="top"||Mt==="bottom",on=Mt==="left"||Mt==="right";let Wt=!1;if(Ft?Wt=Mt==="top"&&Je.y1<0||Mt==="bottom"&&Je.y2>At.y2:on&&(Wt=Mt==="left"&&Je.x1<0||Mt==="right"&&Je.x2>At.x2),!Wt){let Cn=0;const gn=(Oe(Se)?Se[1]:Se)/2;Ft?(Je.x1<0?Cn=-Je.x1:Je.x2>At.x2&&(Cn=At.x2-Je.x2),$.setAttribute("x",$.attribute.x+Cn),rt.setAttribute("dx",za(dl(rt.attribute.dx-Cn,gn),Je.width()-gn))):on&&(Je.y1<0?Cn=-Je.y1:Je.y2>At.y2&&(Cn=At.y2-Je.y2),$.setAttribute("y",$.attribute.y+Cn),rt.setAttribute("dy",za(dl(rt.attribute.dy-Cn,gn),Je.height()-gn)));break}}if(!je)break}}}calculateAnchorPoint(e,t){if(!t)return{x:0,y:0};const{x:i,y:r}=this.attribute,{x1:s,y1:a,x2:o,y2:l}=t,u=o-s,c=l-a;switch(e){case"top":case"tl":case"tr":return{x:s+u/2-i,y:a-r};case"bottom":case"bl":case"br":return{x:s+u/2-i,y:l-r};case"left":case"lt":case"lb":return{x:s-i,y:a+c/2-r};case"right":case"rt":case"rb":return{x:o-i,y:a+c/2-r};default:return{x:0,y:0}}}getAngleAndOffset(e,t,i,r,s){const a=s==="arrow2Left"?r[1]/2:r[1];switch(e){case"tl":return{angle:s==="arrow2Left"?Di/2*3:0,offset:s==="arrow2Left"?[t/4,i+a]:[0,i+a]};case"top":return{angle:Di/2*3,offset:[t/2,i+a]};case"tr":return{angle:s==="arrow2Left"?Di/2*3:0,offset:s==="arrow2Left"?[t/4*3,i+a]:[t,i+a]};case"rt":return{angle:0,offset:s==="arrow2Left"?[-a,i/5]:[-a,0]};case"right":return{angle:0,offset:[-a,i/2]};case"rb":return{angle:0,offset:s==="arrow2Left"?[-a,i/5*4]:[-a,i]};case"bl":return{angle:s==="arrow2Left"?Di/2:0,offset:s==="arrow2Left"?[t/4,-a]:[0,-a]};case"bottom":return{angle:Di/2,offset:[t/2,-a]};case"br":return{angle:s==="arrow2Left"?Di/2:0,offset:s==="arrow2Left"?[t/4*3,-a]:[t,-a]};case"lt":return{angle:s==="arrow2Left"?Di:0,offset:s==="arrow2Left"?[t+a,i/5]:[t+a,0]};case"left":return{angle:Di,offset:[t+a,i/2]};case"lb":return{angle:s==="arrow2Left"?Di:0,offset:s==="arrow2Left"?[t+a,i/5*4]:[t+a,i]}}}}$O.defaultAttributes={position:"rt",visible:!0,title:null,content:null,titleStyle:{fontSize:12,fill:"#000",textAlign:"left",textBaseline:"top"},contentStyle:{fontSize:12,fill:"#000",textAlign:"left",textBaseline:"top"},panel:{},maxWidthPercent:.8,space:8,padding:10};var N8t=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a};function j8t(n,e){return We(n,wPe.poptip,e),n}let kA=class{render(n,e,t,i,r,s,a,o,l,u,c,d,h){var f,p;if(n._showPoptip===1){const{visible:g,visibleCb:m}=n.attribute.poptip||{};if(g===!1||m&&m(n)===!1)return;const v={};We(v,$O.defaultAttributes,n.attribute.poptip?n.attribute.poptip:{}),this.poptipComponent?this.poptipComponent.initAttributes(v):this.poptipComponent=new $O(v);let _=n.attribute.poptip||{};if(n.type==="text"&&_.title==null&&_.content==null){const w={};j8t(w,_),_=w,_.content=(f=_.content)!==null&&f!==void 0?f:n.attribute.text}const y=n.globalTransMatrix;this.poptipComponent.setAttributes(Object.assign(Object.assign({visibleAll:!0,pickable:!1,childrenPickable:!1,poptipAnchor:"bounds"},_),{x:y.e,y:y.f,positionBounds:n.globalAABBBounds})),u.stage.tryInitInteractiveLayer();const x=u.stage.getLayer("_builtin_interactive");x&&x.add(this.poptipComponent)}else n._showPoptip===2&&(n._showPoptip=0,this.poptipComponent&&(this.poptipComponent.setAttributes({visibleAll:!1}),(p=this.poptipComponent.parent)===null||p===void 0||p.removeChild(this.poptipComponent),this.poptipComponent=null))}};kA=N8t([Nt()],kA);var CPe=function(n,e,t,i){var r,s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(r=n[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a};class TPe{constructor(){this.activeEvent="onRegister",this._uid=aa.GenAutoIncrementId(),this.poptip=e=>{const t=e.target;this.needHide(t)?this.unpoptip(e):t!==this.activeGraphic&&(this.needShow(t)&&(t.setAttributes({}),t._showPoptip=1),this.activeGraphic&&(this.activeGraphic.setAttributes({}),this.activeGraphic._showPoptip=2),this.setActiveGraphic(t,!0))},this.unpoptip=e=>{this.activeGraphic&&(this.activeGraphic.setAttributes({}),this.activeGraphic._showPoptip=2,this.setActiveGraphic(null,!0))}}activate(e){this.pluginService=e;const{stage:t}=this.pluginService;t.addEventListener("pointerover",this.poptip)}needHide(e){return e.isContainer||!e.attribute}needShow(e){return!!e.attribute.poptip}setActiveGraphic(e,t){this.activeGraphic=e,this.pluginService.stage.renderNextFrame()}deactivate(e){const{stage:t}=this.pluginService;t.removeEventListener("pointerover",this.poptip)}}let OA=class extends TPe{constructor(){super(...arguments),this.name="poptip",this.key=this.name+this._uid}};OA=CPe([Nt()],OA);let PA=class extends TPe{constructor(){super(...arguments),this.name="poptipForText",this.key=this.name+this._uid,this.pointerlave=n=>{const{stage:e}=this.pluginService;n.target===e&&this.unpoptip(n)}}activate(n){super.activate(n);const{stage:e}=this.pluginService;e.addEventListener("pointerleave",this.pointerlave)}needHide(n){return n.type!=="text"||!n.cliped||n.isContainer||!n.attribute||n.attribute.disableAutoClipedPoptip}needShow(n){return!0}deactivate(n){const{stage:e}=this.pluginService;super.deactivate(n),e.removeEventListener("pointerleave",this.pointerlave)}};PA=CPe([Nt()],PA);const z8t=new Pn((n,e,t,i)=>{t(kA)||(n(kA).toSelf().inSingletonScope(),n(xZ).toService(kA)),t(OA)||(n(OA).toSelf(),n(DC).toService(OA)),t(PA)||(n(PA).toSelf(),n(DC).toService(PA))});function H8t(){Tn.load(z8t)}class TM extends ko{constructor(){super(...arguments),this.name="crosshair"}render(){this.renderCrosshair(this)}}function V8t(){Vs(),vg()}function W8t(){Vs(),U1()}function U8t(){Vs(),G1()}function G8t(){Vs(),yg()}function Y8t(){Vs(),U1()}V8t();class EM extends TM{constructor(e,t){super(t!=null&&t.skipDefault?e:We({},EM.defaultAttributes,e))}renderCrosshair(e){const{start:t,end:i,lineStyle:r}=this.attribute;return e.createOrUpdateChild("crosshair-line",Object.assign({points:[t,i]},r),"line")}setLocation(e){const{start:t,end:i}=e;this.setAttributes({start:t,end:i})}}EM.defaultAttributes={lineStyle:{stroke:"#b2bacf",lineWidth:1,lineDash:[2]}};G8t();class Sz extends TM{constructor(e,t){super(t!=null&&t.skipDefault?e:We({},Sz.defaultAttributes,e))}renderCrosshair(e){const{start:t,end:i,rectStyle:r}=this.attribute;return e.createOrUpdateChild("crosshair-rect",Object.assign({x:t.x,y:t.y,width:i.x-t.x,height:i.y-t.y},r),"rect")}setLocation(e){const{start:t,end:i}=e;this.setAttributes({start:t,end:i})}}Sz.defaultAttributes={rectStyle:{fill:"#b2bacf",opacity:.2}};W8t();class xz extends TM{constructor(e,t){super(t!=null&&t.skipDefault?e:We({},xz.defaultAttributes,e))}renderCrosshair(e){const{center:t,radius:i,lineStyle:r}=this.attribute;return e.createOrUpdateChild("crosshair-circle",Object.assign(Object.assign(Object.assign(Object.assign({},t),{outerRadius:i}),this.attribute),r),"arc")}setLocation(e){const{center:t}=this.attribute,i=Fa.distancePP(e,t);this.setAttribute("radius",i)}}xz.defaultAttributes={lineStyle:{stroke:["#b2bacf",!1,!1,!1],lineWidth:1,lineDash:[2]}};Y8t();class wz extends TM{constructor(e,t){super(t!=null&&t.skipDefault?e:We({},wz.defaultAttributes,e))}renderCrosshair(e){const{center:t,radius:i,innerRadius:r=0,sectorStyle:s}=this.attribute,{startAngle:a,endAngle:o}=this.attribute;return e.createOrUpdateChild("crosshair-sector",Object.assign(Object.assign(Object.assign({},t),{outerRadius:i,innerRadius:r,startAngle:a,endAngle:o}),s),"arc")}setLocation(e){const{center:t,startAngle:i=BC,endAngle:r=$C}=this.attribute,s=r-i,a=Uq(GAe(t,e));this.setAttributes({startAngle:a-s/2,endAngle:a+s/2})}}wz.defaultAttributes={sectorStyle:{fill:"#b2bacf",opacity:.2}};U8t();class Cz extends TM{constructor(e,t){super(t!=null&&t.skipDefault?e:We({},Cz.defaultAttributes,e))}renderCrosshair(e){const{center:t,radius:i,sides:r=6,lineStyle:s}=this.attribute,{startAngle:a,endAngle:o}=this.attribute,l=(o-a)%(2*Math.PI)==0,u=(o-a)/r;let c;for(let d=0;d<=r;d++){const h=Sr(t,i,a+u*d);d===0?c=`M${h.x},${h.y}`:c+=`L${h.x},${h.y}`,d===r&&l&&(c+="Z")}return e.createOrUpdateChild("crosshair-polygon",Object.assign({path:c},s),"path")}setLocation(e){const{center:t}=this.attribute,i=Fa.distancePP(e,t);this.setAttribute("radius",i)}}Cz.defaultAttributes={lineStyle:{stroke:"#b2bacf",lineWidth:1,lineDash:[2]}};function LZ(){Vs(),vg(),yz(),gd()}function FZ(){Vs(),vg(),U1(),gd()}LZ();class jm extends ko{getStartAngle(){return $y(this._startAngle)}getEndAngle(){return $y(this._endAngle)}getMainSegmentPoints(){return this._mainSegmentPoints}constructor(e,t){super(t!=null&&t.skipDefault?e:We({},jm.defaultAttributes,e)),this.name="segment",this.key="segment",this.lines=[]}render(){this.removeAllChild(!0),this._reset();const{startSymbol:e,endSymbol:t,lineStyle:i,state:r,visible:s=!0,multiSegment:a,mainSegmentIndex:o}=this.attribute;if(!s)return;this._computeLineAngle();const l=this._getMainSegmentPoints(),u=this._renderSymbol(e,l,"start"),c=this._renderSymbol(t,l,"end");if(this.startSymbol=u,this.endSymbol=c,a){const d=[...this.attribute.points];if(Me(o))d[o]=this._clipPoints(d[o]);else{const h=this._clipPoints(P8(d));d[0][0]=h[0],d[d.length-1][d[d.length-1].length-1]=h[h.length-1]}d.forEach((h,f)=>{var p,g;const m=It.line(Object.assign(Object.assign({points:h},Oe(i)?(p=i[f])!==null&&p!==void 0?p:i[i.length-1]:i),{fill:!1}));m.name=`${this.name}-line`,m.id=this._getNodeId("line"+f),Lt(r==null?void 0:r.line)||(m.states=Oe(r.line)?(g=r.line[f])!==null&&g!==void 0?g:r.line[r.line.length-1]:r.line),this.add(m),this.lines.push(m)})}else{let d=It.line;Ae(i)[0].cornerRadius&&(d=It.polygon);const h=d(Object.assign(Object.assign({points:this._clipPoints(this.attribute.points)},Ae(i)[0]),{fill:!1,closePath:!1}));h.name=`${this.name}-line`,h.id=this._getNodeId("line"),Lt(r==null?void 0:r.line)||(h.states=[].concat(r.line)[0]),this.add(h),this.lines.push(h)}}_computeStartRotate(e){return e+Math.PI/2}_computeEndRotate(e){return e+Math.PI/2}_renderSymbol(e,t,i){if(!t.length)return;const{autoRotate:r=!0}=e;let s;if(e&&e.visible){const a=this.getStartAngle(),o=this.getEndAngle(),{state:l}=this.attribute,u=t[0],c=t[t.length-1],{refX:d=0,refY:h=0,refAngle:f=0,style:p,symbolType:g,size:m=12}=e;let v,_;i==="start"?(v={x:u.x+(Me(a)?d*Math.cos(a)+h*Math.cos(a-Math.PI/2):0),y:u.y+(Me(a)?d*Math.sin(a)+h*Math.sin(a-Math.PI/2):0)},_=this._computeStartRotate(this._startAngle)):(v={x:c.x+(Me(o)?d*Math.cos(o)+h*Math.cos(o-Math.PI/2):0),y:c.y+(Me(o)?d*Math.sin(o)+h*Math.sin(o-Math.PI/2):0)},_=this._computeEndRotate(this._endAngle)),s=It.symbol(Object.assign(Object.assign(Object.assign({},v),{symbolType:g,size:m,angle:r?_+f:0,strokeBoundsBuffer:0}),p)),s.name=`${this.name}-${i}-symbol`,s.id=this._getNodeId(`${i}-symbol`),Lt(l==null?void 0:l.symbol)||(s.states=l.symbol),i==="start"?Lt(l==null?void 0:l.startSymbol)||(s.states=l.startSymbol):Lt(l==null?void 0:l.endSymbol)||(s.states=l.endSymbol),this.add(s)}return s}_getMainSegmentPoints(){if(this._mainSegmentPoints)return this._mainSegmentPoints;const{points:e,multiSegment:t,mainSegmentIndex:i}=this.attribute;let r;return r=t?Me(i)?e[i]:P8(e):e,this._mainSegmentPoints=r,r}_clipPoints(e){const{startSymbol:t={},endSymbol:i={}}=this.attribute;let r=e;if(t.visible){const s=t.clip?t.size||10:0;r=[{x:e[0].x-s/2*(Math.cos(this._startAngle)||0),y:e[0].y-s/2*(Math.sin(this._startAngle)||0)},...r.slice(1)]}if(i.visible){const s=i.clip?i.size||10:0,a={x:e[e.length-1].x-s/2*(Math.cos(this._endAngle)||0),y:e[e.length-1].y-s/2*(Math.sin(this._endAngle)||0)};r=[...r.slice(0,r.length-1),a]}return r}_computeLineAngle(){const e=this._getMainSegmentPoints();if(e.length<=1)return;const t=e[0],i=e[1],r=e[e.length-2],s=e[e.length-1],a=[t.x-i.x,t.y-i.y],o=Math.atan2(a[1],a[0]),l=[s.x-r.x,s.y-r.y],u=Math.atan2(l[1],l[0]);this._startAngle=o,this._endAngle=u}_reset(){this.startSymbol=null,this.endSymbol=null,this._startAngle=null,this._endAngle=null,this._mainSegmentPoints=null}}jm.defaultAttributes={visible:!0,lineStyle:{lineWidth:1,stroke:"#000"},startSymbol:{visible:!1,autoRotate:!0,symbolType:"triangle",size:12,refX:0,refY:0,refAngle:0,style:{fill:"#000",zIndex:1}},endSymbol:{visible:!1,autoRotate:!0,symbolType:"triangle",size:12,refX:0,refY:0,refAngle:0,style:{fill:"#000",zIndex:1}}};FZ();class d7 extends jm{constructor(e,t){super(t!=null&&t.skipDefault?e:We({},jm.defaultAttributes,e)),this.name="arc-segment",this.key="arc-segment",this.isReverseArc=!1}getStartAngle(){const e=this.isReverseArc?this._startAngle+Math.PI/2:this._startAngle-Math.PI/2;return e<0?e+2*Math.PI:e>2*Math.PI?e-2*Math.PI:e}getEndAngle(){const e=this.isReverseArc?this._endAngle-Math.PI/2:this._endAngle+Math.PI/2;return e<0?e+2*Math.PI:e>2*Math.PI?e-2*Math.PI:e}getMainSegmentPoints(){return this._mainSegmentPoints}_computeStartRotate(e){return this.isReverseArc?e+Math.PI:e}_computeEndRotate(e){return this.isReverseArc?e:e+Math.PI}render(){this.removeAllChild(!0),this._reset();const{startSymbol:e,endSymbol:t,lineStyle:i,state:r,visible:s=!0,radius:a,startAngle:o,endAngle:l,center:u}=this.attribute;if(!s)return;this._startAngle=o,this._endAngle=l,this.isReverseArc=o>l;const c={x:u.x+a*Math.cos(this._startAngle),y:u.y+a*Math.sin(this._startAngle)},d={x:u.x+a*Math.cos(this._endAngle),y:u.y+a*Math.sin(this._endAngle)};this._mainSegmentPoints=[c,d];const h=this._renderSymbol(e,this._mainSegmentPoints,"start"),f=this._renderSymbol(t,this._mainSegmentPoints,"end");this.startSymbol=h,this.endSymbol=f;const p=It.arc(Object.assign({x:u.x,y:u.y,startAngle:o,endAngle:l,innerRadius:a,outerRadius:a},i));p.name=`${this.name}-line`,p.id=this._getNodeId("arc"),Lt(r==null?void 0:r.line)||(p.states=[].concat(r.line)[0]),this.add(p),this.line=p}}var pa;(function(n){n.innerView="inner-view",n.axisContainer="axis-container",n.labelContainer="axis-label-container",n.tickContainer="axis-tick-container",n.tick="axis-tick",n.subTick="axis-sub-tick",n.label="axis-label",n.title="axis-title",n.labelHoverOnAxis="axis-label-hover-on-axis",n.gridContainer="axis-grid-container",n.grid="axis-grid",n.gridRegion="axis-grid-region",n.line="axis-line",n.background="axis-background",n.axisLabelBackground="axis-label-background",n.axisBreak="axis-break",n.axisBreakSymbol="axis-break-symbol"})(pa||(pa={}));var ew;(function(n){n.selected="selected",n.selectedReverse="selected_reverse",n.hover="hover",n.hoverReverse="hover_reverse"})(ew||(ew={}));const wp={[ew.selectedReverse]:{},[ew.selected]:{},[ew.hover]:{},[ew.hoverReverse]:{}},K8t=999,ZB={title:{space:4,padding:0,textStyle:{fontSize:12,fill:"#333333",fontWeight:"normal",fillOpacity:1}},label:{visible:!0,inside:!1,space:4,padding:0,style:{fontSize:12,fill:"#333",fontWeight:"normal",fillOpacity:1}},labelHoverOnAxis:{visible:!1,space:7,padding:2,position:0,autoRotate:!1,textStyle:{fontSize:12,fill:"red",fontWeight:"normal",fillOpacity:1},background:{visible:!0,style:{cornerRadius:2,fill:"black"}}},tick:{visible:!0,inside:!1,alignWithLabel:!0,length:4,style:{lineWidth:1,stroke:"#000",strokeOpacity:1}},subTick:{visible:!1,inside:!1,count:4,length:2,style:{lineWidth:1,stroke:"#999",strokeOpacity:1}},line:{visible:!0,style:{lineWidth:1,stroke:"#000",strokeOpacity:1}}},mpe={size:8,stroke:"#000",lineWidth:1,zIndex:1};function X8t(n){const e=n.AABBBounds;return{x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,centerX:n.attribute.x,centerY:n.attribute.y,angle:n.attribute.angle}}function q8t(n){n.forEach(e=>{if(e.rotatedBounds||!e.attribute.angle)return;const t=X8t(e),i=Vp({x:e.attribute.x,y:e.attribute.y},t.angle,{x:t.centerX,y:t.centerY}),r=i.x-t.centerX,s=i.y-t.centerY;t.x1+=r,t.x2+=r,t.y1+=s,t.y2+=s,t.centerX+=r,t.centerY+=s,e.rotatedBounds=t})}function Z8t(n,e){var t,i;return!((t=n.OBBBounds)===null||t===void 0)&&t.empty()||!((i=e.OBBBounds)===null||i===void 0)&&i.empty()?pO(n.AABBBounds,e.AABBBounds,!1)&&(!n.rotatedBounds||!e.rotatedBounds||ZAe(n.rotatedBounds,e.rotatedBounds,!0)):n.OBBBounds.intersects(e.OBBBounds)}const EPe=Math.sin(Math.PI/10);function APe(n,e=EPe){const t=!J(n)&&n!==0,i=t?Math.cos(n):1;return t&&Math.abs(i)<=e}function BZ(n,e=EPe){const t=!J(n)&&n!==0,i=t?Math.sin(n):0;return!t||Math.abs(i)<=e}function Q8t(n,e){return{x:n.x+e[0],y:n.y+e[1]}}function J8t(n={}){var e,t;const{style:i={},angle:r=.5*Math.PI}=n,s=We({},mpe,i),a=(e=s.size)!==null&&e!==void 0?e:mpe.size;return Object.assign(Object.assign({},s),{symbolType:(t=s.symbolType)!==null&&t!==void 0?t:`M ${-a/2} ${a*Math.sin(r)} L ${a/2} ${-a*Math.sin(r)}`,symbolSize:a})}function kPe(n){const e={};return vf(n,t=>{t.type!=="group"&&t.id&&(e[t.id]=t)}),e}function $Z(n,e){return{x:n.x+e[0],y:n.y+e[1]}}function h7(n,e,t,i=!1,r=!1){const s=[e.x-t.x,e.y-t.y];return vPe(s,(i?-1:1)*(r?-1:1)*n/yPe(s))}function eYt(n){let e="center",t="middle";return e=(n=$y(n))>=Math.PI*(5/3)||n<=Math.PI*(1/3)?"left":n>=Math.PI*(2/3)&&n<=Math.PI*(4/3)?"right":"center",t=n>=Math.PI*(7/6)&&n<=Math.PI*(11/6)?"bottom":n>=Math.PI*(1/6)&&n<=Math.PI*(5/6)?"top":"middle",{align:e,baseline:t}}function tYt(n,e,t,i,r){const s=Sr({x:0,y:0},t,n),a=$Z(s,h7(i,s,e,r));return Q8t(a,h7(i||1,a,e,r))}function OPe(n,e,t,i,r){const s=[],a=r-i;for(let o=0;o<e;o++){const l=i+o*a/e;s.push(Sr(n,t,l))}return s}function Rb(n,e){let t="";return n.length===0||(n.forEach((i,r)=>{r===0?t=`M${i.x},${i.y}`:t+=`L${i.x},${i.y}`}),e&&(t+="Z")),t}function yf(n,e,t){var i;const r=(i=n.attribute)===null||i===void 0?void 0:i.angle;if(BZ(r,Number.EPSILON))return t>Ice(n.AABBBounds,e.AABBBounds);const s=n.OBBBounds,a=e.OBBBounds;return!s||!a||s.empty()||a.empty()?t>Ice(n.AABBBounds,e.AABBBounds):s.intersects(a)||t>ljt(s,a)}function f7(n,e){for(let t,i=1,r=n.length,s=n[0];i<r;s=t,++i)if(t=n[i],yf(s,t,e))return!0;return!1}const PPe=(n,e,t)=>{const i=n.target;return i!==t&&i.name&&!Lt(i.states)?(i.addState(ea.hover,!0),vf(e,r=>{r!==i&&r.name&&!Lt(r.states)&&r.addState(ea.hoverReverse,!0)}),i):t},MPe=(n,e,t)=>t&&(vf(e,i=>{i.name&&!Lt(i.states)&&(i.removeState(ea.hoverReverse),i.removeState(ea.hover))}),null),IPe=(n,e,t)=>{const i=n.target;return t===i&&i.hasState(ea.selected)?(vf(e,r=>{r.name&&!Lt(r.states)&&(r.removeState(ea.selectedReverse),r.removeState(ea.selected))}),null):i.name&&!Lt(i.states)?(i.addState(ea.selected,!0),vf(e,r=>{r!==i&&r.name&&!Lt(r.states)&&r.addState(ea.selectedReverse,!0)}),i):t};class RPe extends ko{_prepareAnimate(e){if(this.attribute.animation!==!1){const{animation:t,animationEnter:i,animationExit:r,animationUpdate:s}=this.attribute,a=pn(t)?t:{};this._animationConfig={enter:i!==!1&&We({},e,a,i??{}),exit:r!==!1&&We({},e,a,r??{}),update:s!==!1&&(Oe(s)?s:We({},e,a,s??{}))}}else this._animationConfig={enter:!1,exit:!1,update:!1}}}const nYt={type:"default",duration:300,easing:"linear"};class DPe extends RPe{constructor(){super(...arguments),this.name="axis",this.data=[],this.tickLineItems=[],this.subTickLineItems=[],this.axisLabelLayerSize={},this.axisLabelsContainer=null,this._onHover=e=>{this._lastHover=PPe(e,this.axisContainer,this._lastHover)},this._onUnHover=e=>{this._lastHover=MPe(e,this.axisContainer,this._lastHover)},this._onClick=e=>{this._lastSelect=IPe(e,this.axisContainer,this._lastSelect)}}getInnerView(){return this._innerView}getPrevInnerView(){return this._prevInnerView}getBoundsWithoutRender(e){const t=Ul(this.attribute);t.scale=this.attribute.scale,this.attribute=e;const i=It.group({x:this.attribute.x,y:this.attribute.y});return this.add(i),this._renderInner(i),this.removeChild(i),this.attribute=t,i.AABBBounds}render(){this._prepare(),this._prevInnerView=this._innerView&&kPe(this._innerView),this.removeAllChild(!0),this._innerView=It.group({x:0,y:0,pickable:!1}),this.add(this._innerView),this._renderInner(this._innerView),this._bindEvent(),this.runAnimation()}_prepare(){this._prepareAnimate(nYt)}_bindEvent(){if(this.attribute.disableTriggerEvent)return;const{hover:e,select:t}=this.attribute;e&&(this._innerView.addEventListener("pointermove",this._onHover),this._innerView.addEventListener("pointerout",this._onUnHover)),t&&this._innerView.addEventListener("pointerdown",this._onClick)}_renderInner(e){const{title:t,label:i,tick:r,line:s,items:a}=this.attribute,o=It.group({x:0,y:0,zIndex:1,pickable:!1});if(o.name=pa.axisContainer,o.id=this._getNodeId("container"),o.setMode(this.mode),this.axisContainer=o,e.add(o),s&&s.visible&&this.renderLine(o),a&&a.length&&(this.data=this._transformItems(a[0]),r&&r.visible&&this.renderTicks(o),i&&i.visible)){const l=It.group({x:0,y:0,pickable:!1});l.name=pa.labelContainer,l.id=this._getNodeId("label-container"),this.axisLabelsContainer=l,o.add(l),a.forEach((u,c)=>{const d=this.renderLabels(l,u,c),h=d.getChildren();this.beforeLabelsOverlap(h,u,d,c,a.length),this.handleLabelsOverlap(h,u,d,c,a.length),this.afterLabelsOverlap(h,u,d,c,a.length);let f=0,p=0,g="center",m="middle",v=0;h.forEach((_,y)=>{var x;const w=_.attribute,T=(x=w.angle)!==null&&x!==void 0?x:0,E=_.AABBBounds;let A=E.width(),k=E.height();T&&(A=Math.abs(A*Math.cos(T)),k=Math.abs(k*Math.sin(T))),f=Math.max(f,A),p=Math.max(p,k),g=w.textAlign,m=w.textBaseline,y===0&&(v=w.x)}),this.axisLabelLayerSize[c]={width:f,height:p,labelPos:v,textAlign:g,textBaseline:m}})}t&&t.visible&&this.renderTitle(o)}renderTicks(e){const t=this.getTickLineItems(),i=It.group({x:0,y:0,pickable:!1});i.name=pa.tickContainer,i.id=this._getNodeId("tick-container"),e.add(i),t.forEach((s,a)=>{var o;const l=It.line(Object.assign({},this._getTickLineAttribute("tick",s,a,t)));if(l.name=pa.tick,l.id=this._getNodeId(s.id),Lt((o=this.attribute.tick)===null||o===void 0?void 0:o.state))l.states=ri;else{const u=this.data[a],c=We({},ri,this.attribute.tick.state);Object.keys(c).forEach(d=>{Re(c[d])&&(c[d]=c[d](u.rawValue,a,u,this.data))}),l.states=c}i.add(l)}),this.tickLineItems=t;const{subTick:r}=this.attribute;if(r&&r.visible){const s=this.getSubTickLineItems();s.length&&s.forEach((a,o)=>{const l=It.line(Object.assign({},this._getTickLineAttribute("subTick",a,o,t)));if(l.name=pa.subTick,l.id=this._getNodeId(`${o}`),Lt(r.state))l.states=ri;else{const u=We({},ri,r.state);Object.keys(u).forEach(c=>{Re(u[c])&&(u[c]=u[c](a.value,o,a,t))}),l.states=u}i.add(l)}),this.subTickLineItems=s}}renderLabels(e,t,i){const{dataFilter:r}=this.attribute.label;r&&Re(r)&&(t=r(t,i));const s=this._transformItems(t),a=It.group({x:0,y:0,pickable:!1});return a.name=`${pa.labelContainer}-layer-${i}`,a.id=this._getNodeId(`label-container-layer-${i}`),e.add(a),s.forEach((o,l)=>{var u;const c=this._getLabelAttribute(o,l,s,i),d=BO(c);if(d.name=pa.label,d.id=this._getNodeId(`layer${i}-label-${o.id}`),Lt((u=this.attribute.label)===null||u===void 0?void 0:u.state))d.states=ri;else{const h=We({},ri,this.attribute.label.state);Object.keys(h).forEach(f=>{Re(h[f])&&(h[f]=h[f](o,l,s,i))}),d.states=h}d.data=Object.assign(Object.assign({},o),{index:l,layer:i}),a.add(d)}),a}renderTitle(e){const t=this.getTitleAttribute(),i=new If(Object.assign({},t));i.name=pa.title,i.id=this._getNodeId("title"),e.add(i)}getVerticalCoord(e,t,i){return $Z(e,this.getVerticalVector(t,i,e))}getTickLineItems(){const{tick:e}=this.attribute,t=this.data,i=[],{alignWithLabel:r,inside:s=!1,length:a,dataFilter:o}=e;let l=1;return t.length>=2&&(l=t[1].value-t[0].value),(o&&Re(o)?o(t):t).forEach(u=>{let c=u.point,d=u.value;if(!r){const f=u.value-l/2;if(this.isInValidValue(f))return;c=this.getTickCoord(f),d=f}const h=this.getVerticalCoord(c,a,s);if(this.mode==="3d"){const f=this.getVerticalVector(a,s,c);let p=0,g=0;qn(f[0])>qn(f[1])?p=Di/2*(h.x>c.x?1:-1):g=Di/2*(h.y>c.y?-1:1),i.push({start:c,end:h,value:d,id:`tick-${u.id}`,anchor:[c.x,c.y],alpha:p,beta:g})}else i.push({start:c,end:h,value:d,id:`tick-${u.id}`})}),i}getSubTickLineItems(){const{subTick:e}=this.attribute,t=[],{count:i=4,inside:r=!1,length:s=2}=e,a=this.tickLineItems,o=a.length;if(o>=2)for(let l=0;l<o-1;l++){const u=a[l],c=a[l+1];for(let d=0;d<i;d++){const h=(d+1)/(i+1),f=(1-h)*u.value+h*c.value,p=this.getTickCoord(f),g=this.getVerticalCoord(p,s,r);t.push({start:p,end:g,value:f,id:`sub-tick-${f}`})}}return t}_getTickLineAttribute(e,t,i,r){let s=Hn(this.attribute,`${e}.style`);const a=this.data[i];s=Re(s)?We({},Hn(ZB,`${e}.style`),e==="tick"?s(a.rawValue,i,a,this.data):s(t.value,i,t,r)):s;const{start:o,end:l,anchor:u,alpha:c,beta:d}=t;return Object.assign({points:[o,l],anchor:u,alpha:c,beta:d},s)}_getLabelAttribute(e,t,i,r){var s,a;const{space:o=4,inside:l=!1,formatMethod:u,type:c="text",text:d}=this.attribute.label;let h=o,f=0;!((s=this.attribute.tick)===null||s===void 0)&&s.visible&&this.attribute.tick.inside===l&&(f=this.attribute.tick.length||4),!((a=this.attribute.subTick)===null||a===void 0)&&a.visible&&this.attribute.subTick.inside===l&&(f=Math.max(f,this.attribute.subTick.length||2)),h+=f;const p=this.getRelativeVector(e.point);r>0&&(p[1]===0?h+=(this.axisLabelLayerSize[r-1].height+Hn(this.attribute,"label.space",4))*r:h+=(this.axisLabelLayerSize[r-1].width+Hn(this.attribute,"label.space",4))*r);const g=this.getVerticalCoord(e.point,h,l),m=this.getVerticalVector(h||1,l,g),v=u?u(`${e.label}`,e,t,i,r):e.label;let{style:_}=this.attribute.label;_=Re(_)?We({},ZB.label.style,_(e,t,i,r)):_;const y=this.getLabelAlign(m,l,_.angle);return _=We(y,_),Re(_.text)&&(_.text=_.text({label:e.label,value:e.rawValue,index:e.index,layer:r})),Object.assign(Object.assign(Object.assign({},this.getLabelPosition(g,m,v,_)),{text:d??v,_originText:e.label,lineHeight:_==null?void 0:_.fontSize,type:c}),_)}getLabelPosition(e,t,i,r){return e}_transformItems(e){const t=[];return e.forEach(i=>{var r;t.push(Object.assign(Object.assign({},i),{point:this.getTickCoord(i.value),id:(r=i.id)!==null&&r!==void 0?r:i.label}))}),t}runAnimation(){const e=this.lastScale;if(this.attribute.scale){const t=this.attribute.scale;this.lastScale=t.clone(),this.lastScale.range([0,1])}if(this.attribute.animation&&this.applyAnimationState){const t=this.getInnerView(),i=this.getPrevInnerView();if(!i)return;const r=this._animationConfig;this._newElementAttrMap={},vf(t,s=>{var a;if(s.type!=="group"&&s.id){const o=i[s.id];if(s.setFinalAttributes(s.attribute),o){o.release();const l=o.attribute,u=s.getFinalAttribute(),c=cUt(l,u);let d=Object.keys(c).length>0;if("opacity"in l&&u.opacity!==l.opacity&&(c.opacity=(a=u.opacity)!==null&&a!==void 0?a:1,d=!0),r.update&&d){this._newElementAttrMap[s.id]={state:"update",node:s,attrs:s.attribute};const h=o.attribute;s.setAttributes(h),s.applyAnimationState(["update"],[{name:"update",animation:Object.assign(Object.assign({selfOnly:!0},r.update),{type:"axisUpdate",customParameters:{config:r.update,diffAttrs:c,lastScale:e}})}])}}else r.enter&&(this._newElementAttrMap[s.id]={state:"enter",node:s,attrs:s.attribute},s.applyAnimationState(["enter"],[{name:"enter",animation:Object.assign(Object.assign({},r.enter),{type:"axisEnter",selfOnly:!0,customParameters:{config:r.enter,lastScale:e,getTickCoord:this.getTickCoord.bind(this)}})}]))}})}}release(){super.release(),this._prevInnerView=null,this._innerView=null}}const vpe={parity:function(n){return n.filter((e,t)=>t%2?e.setAttribute("opacity",0):1)},greedy:function(n,e){let t;return n.filter((i,r)=>r&&yf(t,i,e)?i.setAttribute("opacity",0):(t=i,1))}};function iYt(n){let e;return e=n.OBBBounds.empty()?n.AABBBounds:n.OBBBounds,e.width()>1&&e.height()>1}function rYt(n){return n.forEach(e=>e.setAttribute("opacity",1)),n}function ype(n,e,t,i,r=!1){if(t&&!n.attribute.opacity){const s=e.length;if(s>1){n.setAttribute("opacity",1);for(let a=0;a<s;a++){const o=r?e[s-1-a]:e[a];if(!i(o))break;o.setAttribute("opacity",0)}}}}function LPe(n,e){if(Lt(n))return;const t=n.filter(iYt);if(Lt(t))return;let i;i=rYt(t);const{method:r="parity",separation:s=0}=e,a=Re(r)?r:vpe[r]||vpe.parity;if(i.length>=3&&f7(i,s)){do i=a(i,s);while(i.length>=3&&f7(i,s));const o=(h,f,p=!0)=>p&&h<3||f,l=o(i.length,e.firstVisible,!1);let u=o(i.length,e.lastVisible);const c=t[0],d=Xn(t);yf(c,d,s)&&l&&u&&(d.setAttribute("opacity",0),u=!1),ype(c,i,l,h=>yf(h,c,s)),ype(d,i,u,h=>yf(h,d,s)||!(!l||h===c)&&yf(h,c,s),!0)}t.forEach(o=>{o.setAttribute("visible",!!o.attribute.opacity)})}function sYt(n,e){if(Lt(n))return;const{orient:t,labelRotateAngle:i=[0,45,90]}=e;if(i.length===0||n.some(o=>!!o.attribute.angle))return;let r=0,s=0,a=i;for(n.length>2&&(t==="bottom"||t==="top"?Math.abs(n[1].attribute.x-n[0].attribute.x)<n[0].attribute.fontSize/2&&(a=[i[i.length-1]]):Math.abs(n[1].attribute.y-n[0].attribute.y)<n[0].attribute.fontSize/2&&(a=[i[i.length-1]])),a&&a.length>0&&(s=a.length);r<s;){const o=a[r++];if(n.forEach(l=>{l.attribute.angle=ar(o)}),oYt(t,n),!aYt(n))break}}function aYt(n){for(let e=1;e<n.length;e++)if(Z8t(n[e-1],n[e]))return!0;return!1}function oYt(n,e){n!=="bottom"&&n!=="top"||uYt(n,e),n!=="left"&&n!=="right"||lYt(n,e),q8t(e)}function Tz(n=0){if(n<0)for(;n<0;)n+=2*Math.PI;if(n>0)for(;n>=2*Math.PI;)n-=2*Math.PI;return n}function lYt(n,e){e.forEach((t,i)=>{t.attribute.angle&&t.setAttributes(Object.assign(Object.assign({},BPe(n,t.attribute.angle)),{angle:Tz(t.attribute.angle)}))})}function uYt(n,e){e.forEach(t=>{t.attribute.angle&&t.setAttributes(Object.assign(Object.assign({},FPe(n,t.attribute.angle)),{angle:Tz(t.attribute.angle)}))})}function FPe(n,e=0){let t=["center","left","left","left","center","right","right","right","left"],i=["top","top","middle","bottom","bottom","bottom","middle","top","top"];n==="top"&&(t=["center","right","right","right","center","left","left","left","right"],i=["bottom","bottom","middle","top","top","top","middle","bottom","bottom"]);const r=(e=Tz(e))/(.5*Math.PI);let s;return s=r===Math.floor(r)?2*Math.floor(r):2*Math.floor(r)+1,{textAlign:t[s],textBaseline:i[s]}}function BPe(n,e=0){let t=["right","right","center","left","left","left","center","right","right"],i=["middle","middle","top","top","middle","middle","bottom","bottom","middle"];n==="right"&&(t=["left","left","center","right","right","right","center","left","left"],i=["middle","middle","bottom","bottom","middle","middle","top","middle","middle"]);const r=(e=Tz(e))/(.5*Math.PI);let s;return s=r===Math.floor(r)?2*Math.floor(r):2*Math.floor(r)+1,{textAlign:t[s],textBaseline:i[s]}}function cYt(n){return Me(n)?{left:n,right:n}:pn(n)?{left:n.left||0,right:n.right||0}:{left:0,right:0}}function dYt(n,e){const{limitLength:t,verticalLimitLength:i,ellipsis:r="...",orient:s,axisLength:a}=e;if(Lt(n)||!Me(t))return;const o=cYt(e.overflowLimitLength),l=n[0],u=l.attribute.angle,c=!J(u),d=c?Math.cos(u):1,h=c?Math.sin(u):0,f=BZ(u),p=APe(u),g=s==="top"||s==="bottom",m=l.attribute.direction,v=!f&&!p&&g&&(n.length<2||n.some(_=>Math.abs(_.AABBBounds.width()-l.AABBBounds.width())>=2))&&l.AABBBounds.width()>Math.abs(t/h);n.forEach(_=>{var y;if(g&&(p&&Math.floor(_.AABBBounds.height())<=t||f&&Math.floor(_.AABBBounds.width())<=i)||!g&&(m==="vertical"&&Math.floor(_.AABBBounds.height())<=i||m!=="vertical"&&(f&&Math.floor(_.AABBBounds.width())<=t||p&&Math.floor(_.AABBBounds.height())<=i)))return;let x=null;if(f||p)x=g?f?i:t:m==="vertical"||p?i:t;else if(g){const{x1:w,x2:T}=_.AABBBounds,E=h/d,A=Math.abs(t/h);if(v&&E>0&&w<=a+o.right&&t/E+w>a+o.right){const k=(a-w+o.right)/Math.abs(d);x=Math.min(k,A)}else if(v&&E<0&&T>=-o.left&&t/E+T<-o.left){const k=(T+o.left)/Math.abs(d);x=Math.min(k,A)}else x=A}else x=Math.abs(t/d);Me(_.attribute.maxLineWidth)&&(x=Me(x)?Math.min(_.attribute.maxLineWidth,x):_.attribute.maxLineWidth),_.setAttributes({maxLineWidth:x,ellipsis:(y=_.attribute.ellipsis)!==null&&y!==void 0?y:r})})}function hYt(n,e){const{limitLength:t,axisLength:i,ellipsis:r="...",orient:s}=e;if(Lt(n)||!Me(t))return;const a=n[0].attribute.angle,o=BZ(a),l=APe(a),u=s==="top"||s==="bottom";let c=i/n.length;n.forEach((d,h)=>{var f,p,g,m,v;if(u){if(l&&Math.floor(d.AABBBounds.height())<=t)return;if(o){const x=_pe(d.attribute.x,(f=n[h+1])===null||f===void 0?void 0:f.attribute.x,(p=n[h-1])===null||p===void 0?void 0:p.attribute.x);Me(x)&&(c=za(c,x))}}else{if(l){const x=_pe(d.attribute.y,(g=n[h+1])===null||g===void 0?void 0:g.attribute.y,(m=n[h-1])===null||m===void 0?void 0:m.attribute.y);Me(x)&&(c=za(c,x))}if(o&&Math.floor(d.AABBBounds.width())<=t)return}let _=null,y=null;u?l?(_=t,y=c):(_=c,y=t):l?(_=c,y=t):(_=t,y=c),d.setAttributes({maxLineWidth:_,ellipsis:(v=d.attribute.ellipsis)!==null&&v!==void 0?v:r,whiteSpace:"normal",heightLimit:y})})}function _pe(n,e,t){let i;return Me(e)&&(i=Math.abs(e-n)),Me(t)&&(i=Me(i)?Math.min(Math.abs(n-t),i):Math.abs(n-t)),i}function fYt(n,e,t,i,r){i==="left"||i==="right"?r==="left"?n.forEach(s=>{var a;s.setAttributes({dx:((a=s.attribute.dx)!==null&&a!==void 0?a:0)+e-s.AABBBounds.x1})}):r==="right"?n.forEach(s=>{var a;s.setAttributes({dx:((a=s.attribute.dx)!==null&&a!==void 0?a:0)+e+t-s.AABBBounds.x2})}):r==="center"&&n.forEach(s=>{var a;s.setAttributes({dx:((a=s.attribute.dx)!==null&&a!==void 0?a:0)+e+t/2-(s.AABBBounds.x1+s.AABBBounds.x2)/2})}):i!=="bottom"&&i!=="top"||(r==="top"?n.forEach(s=>{var a;s.setAttributes({dy:((a=s.attribute.dy)!==null&&a!==void 0?a:0)+e-s.AABBBounds.y1})}):r==="bottom"?n.forEach(s=>{var a;s.setAttributes({dy:((a=s.attribute.dy)!==null&&a!==void 0?a:0)+e+t-s.AABBBounds.y2})}):r==="middle"&&n.forEach(s=>{var a;s.setAttributes({dy:((a=s.attribute.dy)!==null&&a!==void 0?a:0)+e+t/2-(s.AABBBounds.y1+s.AABBBounds.y2)/2})}))}class $Pe{isInValidValue(e){return e<0||e>1}getTickCoord(e){const{start:t}=this.attribute,i=this.getRelativeVector();return{x:t.x+i[0]*e,y:t.y+i[1]*e}}getRelativeVector(e){const{start:t,end:i}=this.attribute;return[i.x-t.x,i.y-t.y]}getVerticalVector(e,t=!1,i){const{verticalFactor:r=1}=this.attribute,s=this.getRelativeVector(),a=P8t(s),o=[a[1],-1*a[0]];return vPe(o,e*(t?1:-1)*r)}}class Nn{constructor(){}static linear(e){return e}static none(){return this.linear}static get(e){return e<-1?e=-1:e>1&&(e=1),function(t){return e===0?t:e<0?t*(t*-e+1+e):t*((2-t)*e+(1-e))}}static getPowIn(e){return function(t){return Math.pow(t,e)}}static getPowOut(e){return function(t){return 1-Math.pow(1-t,e)}}static getPowInOut(e){return function(t){return(t*=2)<1?.5*Math.pow(t,e):1-.5*Math.abs(Math.pow(2-t,e))}}static getBackIn(e){return function(t){return t*t*((e+1)*t-e)}}static getBackOut(e){return function(t){return--t*t*((e+1)*t+e)+1}}static getBackInOut(e){return e*=1.525,function(t){return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}}static sineIn(e){return 1-Math.cos(e*Math.PI/2)}static sineOut(e){return Math.sin(e*Math.PI/2)}static sineInOut(e){return-(Math.cos(Math.PI*e)-1)/2}static expoIn(e){return e===0?0:Math.pow(2,10*e-10)}static expoOut(e){return e===1?1:1-Math.pow(2,-10*e)}static expoInOut(e){return e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}static circIn(e){return-(Math.sqrt(1-e*e)-1)}static circOut(e){return Math.sqrt(1- --e*e)}static circInOut(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}static bounceOut(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}static bounceIn(e){return 1-Nn.bounceOut(1-e)}static bounceInOut(e){return e<.5?.5*Nn.bounceIn(2*e):.5*Nn.bounceOut(2*e-1)+.5}static getElasticIn(e,t){return function(i){if(i===0||i===1)return i;const r=t/xn*Math.asin(1/e);return-e*Math.pow(2,10*(i-=1))*Math.sin((i-r)*xn/t)}}static getElasticOut(e,t){return function(i){if(i===0||i===1)return i;const r=t/xn*Math.asin(1/e);return e*Math.pow(2,-10*i)*Math.sin((i-r)*xn/t)+1}}static getElasticInOut(e,t){return function(i){const r=t/xn*Math.asin(1/e);return(i*=2)<1?e*Math.pow(2,10*(i-=1))*Math.sin((i-r)*xn/t)*-.5:e*Math.pow(2,-10*(i-=1))*Math.sin((i-r)*xn/t)*.5+1}}static registerFunc(e,t){Nn[e]=t}}function pYt(n,e){const t=1/e;let i=1;for(;n>t;)n-=t,i*=-1;const r=i*n/t;return r>0?r:1+r}Nn.quadIn=Nn.getPowIn(2),Nn.quadOut=Nn.getPowOut(2),Nn.quadInOut=Nn.getPowInOut(2),Nn.cubicIn=Nn.getPowIn(3),Nn.cubicOut=Nn.getPowOut(3),Nn.cubicInOut=Nn.getPowInOut(3),Nn.quartIn=Nn.getPowIn(4),Nn.quartOut=Nn.getPowOut(4),Nn.quartInOut=Nn.getPowInOut(4),Nn.quintIn=Nn.getPowIn(5),Nn.quintOut=Nn.getPowOut(5),Nn.quintInOut=Nn.getPowInOut(5),Nn.backIn=Nn.getBackIn(1.7),Nn.backOut=Nn.getBackOut(1.7),Nn.backInOut=Nn.getBackInOut(1.7),Nn.elasticIn=Nn.getElasticIn(1,.3),Nn.elasticOut=Nn.getElasticOut(1,.3),Nn.elasticInOut=Nn.getElasticInOut(1,.3*1.5),Nn.easeInOutQuad=n=>(n/=.5)<1?.5*Math.pow(n,2):-.5*((n-=2)*n-2),Nn.easeOutElastic=n=>{const e=2*Math.PI/3;return n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((10*n-.75)*e)+1},Nn.easeInOutElastic=n=>{const e=2*Math.PI/4.5;return n===0?0:n===1?1:n<.5?-Math.pow(2,20*n-10)*Math.sin((20*n-11.125)*e)/2:Math.pow(2,-20*n+10)*Math.sin((20*n-11.125)*e)/2+1};for(let n=0;n<10;n++)Nn[`flicker${n}`]=e=>pYt(e,n);for(let n=2;n<10;n++)Nn[`aIn${n}`]=e=>n*e*e+(1-n)*e;function Ss(n,e,t){return n+(e-n)*t}class gYt{constructor(){this.opacity=(e,t,i,r,s,a)=>{a.attribute.opacity=Ss(t,i,r)},this.baseOpacity=(e,t,i,r,s,a)=>{a.attribute.baseOpacity=Ss(t,i,r)},this.fillOpacity=(e,t,i,r,s,a)=>{a.attribute.fillOpacity=Ss(t,i,r)},this.strokeOpacity=(e,t,i,r,s,a)=>{a.attribute.strokeOpacity=Ss(t,i,r)},this.zIndex=(e,t,i,r,s,a)=>{a.attribute.zIndex=Ss(t,i,r)},this.backgroundOpacity=(e,t,i,r,s,a)=>{a.attribute.backgroundOpacity=Ss(t,i,r)},this.shadowOffsetX=(e,t,i,r,s,a)=>{a.attribute.shadowOffsetX=Ss(t,i,r)},this.shadowOffsetY=(e,t,i,r,s,a)=>{a.attribute.shadowOffsetY=Ss(t,i,r)},this.shadowBlur=(e,t,i,r,s,a)=>{a.attribute.shadowBlur=Ss(t,i,r)},this.fill=(e,t,i,r,s,a)=>{a.attribute.fill=IC(t,i,r,!1)},this.fillPure=(e,t,i,r,s,a)=>{a.attribute.fill=s.fromParsedProps.fill?ohe(s.fromParsedProps.fill,s.toParsedProps.fill,r):s.toParsedProps.fill},this.stroke=(e,t,i,r,s,a)=>{a.attribute.stroke=IC(t,i,r,!1)},this.strokePure=(e,t,i,r,s,a)=>{a.attribute.stroke=s.fromParsedProps.stroke?ohe(s.fromParsedProps.stroke,s.toParsedProps.stroke,r):s.toParsedProps.stroke},this.width=(e,t,i,r,s,a)=>{a.attribute.width=Ss(t,i,r),a.addUpdateBoundTag()},this.height=(e,t,i,r,s,a)=>{a.attribute.height=Ss(t,i,r),a.addUpdateBoundTag()},this.x=(e,t,i,r,s,a)=>{a.attribute.x=Ss(t,i,r),a.addUpdateBoundTag(),a.addUpdatePositionTag()},this.y=(e,t,i,r,s,a)=>{a.attribute.y=Ss(t,i,r),a.addUpdateBoundTag(),a.addUpdatePositionTag()},this.dx=(e,t,i,r,s,a)=>{a.attribute.dx=Ss(t,i,r),a.addUpdateBoundTag(),a.addUpdatePositionTag()},this.dy=(e,t,i,r,s,a)=>{a.attribute.dy=Ss(t,i,r),a.addUpdateBoundTag(),a.addUpdatePositionTag()},this.angle=(e,t,i,r,s,a)=>{a.attribute.angle=Ss(t,i,r),a.addUpdateBoundTag(),a.addUpdatePositionTag()},this.scaleX=(e,t,i,r,s,a)=>{a.attribute.scaleX=Ss(t,i,r),a.addUpdateBoundTag(),a.addUpdatePositionTag()},this.scaleY=(e,t,i,r,s,a)=>{a.attribute.scaleY=Ss(t,i,r),a.addUpdateBoundTag(),a.addUpdatePositionTag()},this.lineWidth=(e,t,i,r,s,a)=>{a.attribute.lineWidth=Ss(t,i,r),a.addUpdateBoundTag()},this.startAngle=(e,t,i,r,s,a)=>{a.attribute.startAngle=Ss(t,i,r),a.addUpdateBoundTag()},this.endAngle=(e,t,i,r,s,a)=>{a.attribute.endAngle=Ss(t,i,r),a.addUpdateBoundTag()},this.radius=(e,t,i,r,s,a)=>{a.attribute.radius=Ss(t,i,r),a.addUpdateBoundTag()},this.outerRadius=(e,t,i,r,s,a)=>{a.attribute.outerRadius=Ss(t,i,r),a.addUpdateBoundTag()},this.innerRadius=(e,t,i,r,s,a)=>{a.attribute.innerRadius=Ss(t,i,r),a.addUpdateBoundTag()},this.size=(e,t,i,r,s,a)=>{a.attribute.size=Ss(t,i,r),a.addUpdateBoundTag()},this.points=(e,t,i,r,s,a)=>{a.attribute.points=iz(t,i,r),a.addUpdateBoundTag()}}}const fE=new gYt;function bpe(n,e,t,i,r,s){if(Number.isFinite(t)&&Number.isFinite(e))return s.attribute[n]=e+(t-e)*i,!0;if(Array.isArray(t)&&Array.isArray(e)&&t.length===e.length){const a=[];let o=!0;for(let l=0;l<t.length;l++){const u=e[l],c=u+(t[l]-u)*i;if(!Number.isFinite(c)){o=!1;break}a.push(c)}return o&&(s.attribute[n]=a),!0}return!1}function Spe(){}class QB{constructor(e,t,i,r){var s;this._startTime=0,this._hasFirstRun=!1,this._syncAttributeUpdate=()=>{this.target.setAttributes(this.target.attribute)},this.type=e,this.props=t,this.duration=i,this.easing=r?typeof r=="function"?r:(s=Nn[r])!==null&&s!==void 0?s:Nn.linear:Nn.linear,e==="wait"&&(this.onUpdate=Spe),this.id=aa.GenAutoIncrementId(),this.syncAttributeUpdate=Spe}bind(e,t){this.target=e,this.animate=t,this.onBind(),this.syncAttributeUpdate()}append(e){this.next=e,e.prev=this,e.setStartTime(this.getStartTime()+this.duration,!1)}updateDownstreamStartTimes(){let e=this.next,t=this._startTime+this.duration;for(;e;)e.setStartTime(t,!1),t+=e.duration,e=e.next;this.animate.updateDuration()}getLastProps(){return this.prev?this.prev.props||{}:this.animate.getStartProps()}setDuration(e,t=!0){this.duration=e,t&&this.updateDownstreamStartTimes()}getDuration(){return this.duration}determineInterpolateUpdateFunction(){if(!this.props)return;const e=[];this.propKeys.forEach(t=>{if(t==="fill"||t==="stroke"){const i=this.fromProps[t],r=this.props[t];if(Jt(i)&&Jt(r)){const s=da.Get(i,mh.Color255),a=da.Get(r,mh.Color255);this.fromParsedProps||(this.fromParsedProps={}),this.toParsedProps||(this.toParsedProps={}),this.fromParsedProps[t]=s,this.toParsedProps[t]=a,e.push(fE[t==="fill"?"fillPure":"strokePure"])}else fE[t]?e.push(fE[t]):e.push(bpe)}else fE[t]?e.push(fE[t]):e.push(bpe)}),this.interpolateUpdateFunctions=e}setStartTime(e,t=!0){this._startTime=e,t&&this.updateDownstreamStartTimes()}getStartTime(){return this._startTime}onBind(){this.target.type==="glyph"&&(this.syncAttributeUpdate=this._syncAttributeUpdate)}onFirstRun(){}onStart(){if(!this._hasFirstRun){this._hasFirstRun=!0,this.fromProps=this.getLastProps();const e=this.animate.getStartProps();this.propKeys&&this.propKeys.forEach(t=>{var i;this.fromProps[t]=(i=this.fromProps[t])!==null&&i!==void 0?i:e[t]}),this.determineInterpolateUpdateFunction(),this.tryPreventConflict(),this.trySyncStartProps(),this.onFirstRun()}}tryPreventConflict(){const e=this.animate;this.target.animates.forEach(t=>{if(t===e||t.priority>e.priority||t.priority===1/0)return;const i=t.getStartProps();this.propKeys.forEach(r=>{i[r]!=null&&t.preventAttr(r)})})}deleteSelfAttr(e){var t;delete this.props[e],this.fromProps&&delete this.fromProps[e];const i=this.propKeys.indexOf(e);i!==-1&&(this.propKeys.splice(i,1),(t=this.interpolateUpdateFunctions)===null||t===void 0||t.splice(i,1))}trySyncStartProps(){this.propKeys.forEach(e=>{this.fromProps[e]=this.animate.target.getComputedAttribute(e)})}update(e,t,i){if(this.onStart(),!this.props||!this.propKeys)return;const r=this.easing(t);this.animate.interpolateUpdateFunction?this.animate.interpolateUpdateFunction(this.fromProps,this.props,r,this,this.target):this.interpolateUpdateFunctions.forEach((s,a)=>{if(!this.animate.validAttr(this.propKeys[a]))return;const o=this.propKeys[a];s(o,this.fromProps[o],this.props[o],r,this,this.target)}),this.onUpdate(e,r,i),this.syncAttributeUpdate()}onUpdate(e,t,i){}onEnd(e){this.target.setAttributes(this.props),e?this._endCb=e:this._endCb&&this._endCb(this.animate,this)}getEndProps(){return this.props}getFromProps(){return this.fromProps}getMergedEndProps(){return this.getEndProps()}stop(){}release(){}}class mYt extends QB{constructor(e,t,i,r){super(e,t,i,r)}onStart(){super.onStart();const e=this.getFromProps();this.target.setAttributes(e)}update(e,t,i){this.onStart()}determineInterpolateUpdateFunction(){}}class NPe extends i_{get animateCount(){return this._animateCount}constructor(){super(),this.head=null,this.tail=null,this.animateMap=new Map,this._animateCount=0,this._playSpeed=1,this._totalDuration=0,this._startTime=0,this._currentTime=0,this._animationEndFlag=!0,this.id=aa.GenAutoIncrementId(),this.paused=!1}isRunning(){return!this.paused&&this._animateCount>0}forEachAccessAnimate(e){let t=this.head,i=0;for(;t;){const r=t.next;e(t.animate,i),i++,t=r}}addAnimate(e){const t={animate:e,next:null,prev:null};this.head?this.tail&&(this.tail.next=t,t.prev=this.tail,this.tail=t):(this.head=t,this.tail=t),this.animateMap.set(e,t),this._animateCount++,this._totalDuration=Math.max(this._totalDuration,e.getStartTime()+e.getDuration())}pause(){this.paused=!0}resume(){this.paused=!1}tick(e){if(this.paused)return;this._animationEndFlag&&(this._animationEndFlag=!1,this.emit("animationStart"));const t=e*this._playSpeed;this._currentTime+=t,this.forEachAccessAnimate((i,r)=>{i.status===ol.END?this.removeAnimate(i,!0):i.status!==ol.RUNNING&&i.status!==ol.INITIAL||i.advance(t)}),this._animateCount===0&&(this._animationEndFlag=!0,this.emit("animationEnd"))}clear(){this.forEachAccessAnimate(e=>{e.release()}),this.head=null,this.tail=null,this.animateMap.clear(),this._animateCount=0,this._totalDuration=0}removeAnimate(e,t=!0){const i=this.animateMap.get(e);i&&(t&&(e._onRemove&&e._onRemove.forEach(r=>r()),e.release()),i.prev?i.prev.next=i.next:this.head=i.next,i.next?i.next.prev=i.prev:this.tail=i.prev,this.animateMap.delete(e),this._animateCount--,e.getStartTime()+e.getDuration()>=this._totalDuration&&this.recalculateTotalDuration())}recalculateTotalDuration(){this._totalDuration=0,this.forEachAccessAnimate(e=>{this._totalDuration=Math.max(this._totalDuration,e.getStartTime()+e.getDuration())})}getTotalDuration(){return this._totalDuration}getPlaySpeed(){return this._playSpeed}setPlaySpeed(e){this._playSpeed=e}getPlayState(){return this.paused?"paused":this.animateCount===0?"stopped":"playing"}setStartTime(e){this._startTime=e}getStartTime(){return this._startTime}getCurrentTime(){return this._currentTime}setCurrentTime(e){this._currentTime=e}}const NZ=new NPe;NZ.isGlobal=!0;class vYt{constructor(e=aa.GenAutoIncrementId(),t=NZ,i){this.id=e,this.status=ol.INITIAL,this._timeline=t,t.addAnimate(this),this.slience=i,this._startTime=0,this._duration=0,this._totalDuration=0,this._loopCount=0,this._currentLoop=0,this._bounce=!1,this._firstStep=null,this._lastStep=null,this._startProps={},this._endProps={},this._preventAttrs=new Set,this.currentTime=0,this.interpolateUpdateFunction=null,this.priority=0}getStartProps(){return this._startProps}getEndProps(){return this._endProps}setTimeline(e){this._timeline=e}getTimeline(){return this._timeline}get timeline(){return this._timeline}bind(e){return this.target=e,this.target.animates||(this.target.animates=new Map),this.target.animates.set(this.id,this),this.onRemove(()=>{this.stop(),this.target.animates.delete(this.id)}),this.target.onAnimateBind&&!this.slience&&this.target.onAnimateBind(this),this.target.animationAttribute||(this.target.animationAttribute={}),this}to(e,t=300,i="linear"){const r=new QB(TA.to,e,t,i);return r.bind(this.target,this),this.updateStepAfterAppend(r),this}wait(e){const t=new mYt(TA.wait,{},e,"linear");return t.bind(this.target,this),this.updateStepAfterAppend(t),this}updateStepAfterAppend(e){this._firstStep?(this._lastStep.append(e),this._lastStep=e):(this._firstStep=e,this._lastStep=e),this.parseStepProps(e),this.updateDuration()}parseStepProps(e){this._lastStep&&(e.propKeys=e.propKeys||Object.keys(e.props),Object.keys(this._endProps).forEach(t=>{var i;e.props[t]=(i=e.props[t])!==null&&i!==void 0?i:this._endProps[t]}),e.propKeys.forEach(t=>{this._endProps[t]=e.props[t]}))}reSyncProps(){if(!this._lastStep)return;this._endProps={};let e=this._firstStep;for(;e;)Object.keys(this._endProps).forEach(t=>{var i;e.props[t]=(i=e.props[t])!==null&&i!==void 0?i:this._endProps[t]}),e.propKeys.forEach(t=>{this._endProps[t]=e.props[t]}),e=e.next}from(e,t=300,i="linear"){const r=new QB(TA.from,e,t,i);return this._firstStep?(this._lastStep.append(r),this._lastStep=r):(this._firstStep=r,this._lastStep=r),this.updateDuration(),this}play(e){return e.bind(this.target,this),this.updateStepAfterAppend(e),this}pause(){this.status===ol.RUNNING&&(this.status=ol.PAUSED)}resume(){this.status===ol.PAUSED&&(this.status=ol.RUNNING)}onStart(e){var t;e?(this._onStart||(this._onStart=[]),this._onStart.push(e)):((t=this._onStart)===null||t===void 0||t.forEach(i=>i()),Object.keys(this._endProps).forEach(i=>{this._startProps[i]=this.target.getComputedAttribute(i)}))}onEnd(e){var t;e?(this._onEnd||(this._onEnd=[]),this._onEnd.push(e)):(t=this._onEnd)===null||t===void 0||t.forEach(i=>i())}onFrame(e){e&&(this._onFrame||(this._onFrame=[]),this._onFrame.push(e))}onRemove(e){var t;e?(this._onRemove||(this._onRemove=[]),this._onRemove.push(e)):(t=this._onRemove)===null||t===void 0||t.forEach(i=>i())}preventAttr(e){this._preventAttrs.add(e),delete this._startProps[e],delete this._endProps[e];let t=this._firstStep;for(;t;)t.deleteSelfAttr(e),t=t.next}preventAttrs(e){e.forEach(t=>this._preventAttrs.add(t))}validAttr(e){return!this._preventAttrs.has(e)}runCb(e){var t;return(t=this._lastStep)===null||t===void 0||t.onEnd(e),this}startAt(e){return this._startTime=e,this}customInterpolate(e,t,i,r,s,a){return!1}getFromValue(){return this._startProps}getToValue(){return this._endProps}stop(e){let t=this._firstStep;for(;t;)t.stop(),t=t.next;this.status!==ol.END&&this.onEnd(),this.status=ol.END,this.target&&(e==="start"?this.target.setAttributes(this._startProps):e==="end"?this.target.setAttributes(this._endProps):e&&this.target.setAttributes(e))}release(){this.status=ol.END,this._onRemove&&this._onRemove.forEach(e=>e()),this._onStart=[],this._onFrame=[],this._onEnd=[],this._onRemove=[],this.forEachStep(e=>{e.release()})}getDuration(){return this._duration}getStartTime(){return this._startTime}afterAll(e){if(!e||e.length===0)return this;let t=0;return e.forEach(i=>{const r=i.getStartTime()+i.getTotalDuration();t=Math.max(t,r)}),this.startAt(t)}after(e){if(!e)return this;const t=e.getStartTime()+e.getTotalDuration();return this.startAt(t)}parallel(e){return e?(this.startAt(e.getStartTime()),this):this}loop(e){return e===!0?e=1/0:e===!1&&(e=0),this._loopCount=e,this.updateDuration(),this}bounce(e){return this._bounce=e,this}advance(e){var t,i,r;if(this.status===ol.END)return void console.warn("aaa ");const s=this.currentTime+e;if(s<this._startTime)return void(this.currentTime=s);if(s>=this._startTime+this._totalDuration)return(t=this._lastStep)===null||t===void 0||t.onUpdate(!0,1,{}),(i=this._lastStep)===null||i===void 0||i.onEnd(),this.onEnd(),void(this.status=ol.END);this.status=ol.RUNNING,this.currentTime<=this._startTime&&this.onStart(),this.currentTime=s;let a=s-this._startTime,o=!1,l=!1;if(this._loopCount>0){a=(s-this._startTime)%this._duration;const h=Math.floor((s-this._startTime)/this._duration);o=h>this._currentLoop,this._currentLoop=h,l=this._bounce&&h%2==1,l&&(a=this._duration-a)}o&&!l&&this.target.setAttributes(this._startProps);let u=null;if(this._lastStep===this._firstStep)u=this._firstStep;else{let h=this._firstStep;for(;h;){const f=h.getStartTime(),p=h.getDuration();if(a>=f&&a<=f+p){u=h;break}h=h.next}}if(!u)return;u!==this.lastRunStep&&((r=this.lastRunStep)===null||r===void 0||r.onEnd()),this.lastRunStep=u;const c=(a-u.getStartTime())/u.getDuration(),d=c>=1;u.update(d,c,{}),d&&(u.onEnd(),this.lastRunStep=null)}updateDuration(){this._lastStep?(this._duration=this._lastStep.getStartTime()+this._lastStep.getDuration(),this._totalDuration=this._duration*(this._loopCount+1)):this._duration=0}getTotalDuration(){return this._totalDuration}getLoop(){return this._loopCount}forEachStep(e){let t=this._firstStep;for(;t;)e(t),t=t.next}}const yYt=new nOe;class _Yt{constructor(){this.released=!1}tick(e,t){yYt.addAnimationFrameCb(()=>{if(!this.released)return t(this)})}release(){this.released=!0}getTime(){return Date.now()}}class bYt extends i_{constructor(e){super(),this.timelines=[],this.frameTimeHistory=[],this.handleTick=(t,i)=>{const{once:r=!1}=i??{};if(this.ifCanStop())return this.stop(),!1;const s=t.getTime();this._lastTickTime=s,this.lastFrameTime<0&&(this.lastFrameTime=s-this.interval+this.timeOffset,this.frameTimeHistory.push(this.lastFrameTime));const a=s-this.lastFrameTime,o=this.checkSkip(a);return o||(this._handlerTick(a),this.lastFrameTime=s,this.frameTimeHistory.push(this.lastFrameTime)),r||t.tick(this.interval,this.handleTick),!o},this._handlerTick=t=>{this.status===qu.RUNNING&&(this.tickCounts++,this.timelines.forEach(i=>{i.tick(t)}),this.emit("tick",t))},this.init(),this.lastFrameTime=-1,this.tickCounts=0,this.stage=e,this.autoStop=!0,this.interval=16,this.computeTimeOffsetAndJitter()}bindStage(e){this.stage=e}computeTimeOffsetAndJitter(){this.timeOffset=Math.floor(Math.random()*this.interval),this._jitter=Math.min(Math.max(.2*this.interval,6),.7*this.interval)}init(){this.interval=16,this.status=qu.INITIAL,lt.global.hooks.onSetEnv.tap("graph-ticker",()=>{this.initHandler(!1)}),lt.global.env&&this.initHandler(!1)}addTimeline(e){this.timelines.push(e)}remTimeline(e){this.timelines=this.timelines.filter(t=>t!==e)}getTimelines(){return this.timelines}initHandler(e=!1){this.setupTickHandler(e)}setupTickHandler(e=!1){if(!e&&this.tickerHandler)return!0;const t=new _Yt;return this.tickerHandler&&this.tickerHandler.release(),this.tickerHandler=t,!0}setInterval(e){this.interval=e,this.computeTimeOffsetAndJitter()}getInterval(){return this.interval}setFPS(e){this.setInterval(Math.floor(1e3/e))}getFPS(){return 1e3/this.interval}tick(e){this.tickerHandler.tick(e,t=>this.handleTick(t,{once:!0}))}tickTo(e){this.tickerHandler.tickTo&&this.tickerHandler.tickTo(e,t=>{this.handleTick(t,{once:!0})})}pause(){return this.status!==qu.INITIAL&&(this.status=qu.PAUSE,!0)}resume(){return this.status!==qu.INITIAL&&(this.status=qu.RUNNING,!0)}ifCanStop(){return!!(this.autoStop&&(!this.timelines.length||this.timelines.every(e=>!e.isRunning())))}start(e=!1){return this.status===qu.RUNNING||!this.tickerHandler||!e&&(this.status===qu.PAUSE||this.ifCanStop())?!1:(this.status=qu.RUNNING,this.tickerHandler.tick(0,this.handleTick),!0)}stop(){this.status=qu.INITIAL,this.setupTickHandler(!0),this.lastFrameTime=-1}trySyncTickStatus(){this.status===qu.INITIAL&&this.timelines.some(e=>e.isRunning())?this.start():this.status===qu.RUNNING&&this.timelines.every(e=>!e.isRunning())&&this.stop()}release(){var e;this.stop(),this.timelines=[],(e=this.tickerHandler)===null||e===void 0||e.release(),this.tickerHandler=null,this.lastFrameTime=-1}checkSkip(e){var t,i,r;return((r=(i=(t=this.stage)===null||t===void 0?void 0:t.params)===null||i===void 0?void 0:i.optimize)===null||r===void 0?void 0:r.tickRenderMode)==="performance"?!1:e<this.interval+2*(Math.random()-.5)*this._jitter}}class Db{constructor(){this.transitions=new Map,this.registerDefaultTransitions()}static getInstance(){return Db.instance||(Db.instance=new Db),Db.instance}registerDefaultTransitions(){this.registerTransition("appear","*",()=>({allowTransition:!0,stopOriginalTransition:!1})),this.registerTransition("appear","appear",()=>({allowTransition:!1,stopOriginalTransition:!1})),this.registerTransition("appear","disappear",()=>({allowTransition:!0,stopOriginalTransition:!0})),this.registerTransition("appear","exit",()=>({allowTransition:!0,stopOriginalTransition:!0})),this.registerTransition("normal","*",()=>({allowTransition:!0,stopOriginalTransition:!1})),this.registerTransition("normal","normal",()=>({allowTransition:!1,stopOriginalTransition:!1})),this.registerTransition("normal","disappear",()=>({allowTransition:!0,stopOriginalTransition:!0})),this.registerTransition("normal","exit",()=>({allowTransition:!0,stopOriginalTransition:!0})),this.registerTransition("exit","*",()=>({allowTransition:!1,stopOriginalTransition:!1})),this.registerTransition("exit","disappear",()=>({allowTransition:!0,stopOriginalTransition:!0})),this.registerTransition("exit","enter",()=>({allowTransition:!0,stopOriginalTransition:!0})),this.registerTransition("exit","exit",()=>({allowTransition:!1,stopOriginalTransition:!1})),this.registerTransition("enter","*",()=>({allowTransition:!0,stopOriginalTransition:!1})),this.registerTransition("enter","enter",()=>({allowTransition:!1,stopOriginalTransition:!1})),this.registerTransition("enter","disappear",()=>({allowTransition:!0,stopOriginalTransition:!0})),this.registerTransition("enter","exit",()=>({allowTransition:!0,stopOriginalTransition:!0})),this.registerTransition("disappear","*",()=>({allowTransition:!1,stopOriginalTransition:!1})),this.registerTransition("disappear","appear",()=>({allowTransition:!0,stopOriginalTransition:!0})),this.registerTransition("update","*",()=>({allowTransition:!0,stopOriginalTransition:!1})),this.registerTransition("update","disappear",()=>({allowTransition:!0,stopOriginalTransition:!0})),this.registerTransition("update","exit",()=>({allowTransition:!0,stopOriginalTransition:!0})),this.registerTransition("state","*",()=>({allowTransition:!0,stopOriginalTransition:!1})),this.registerTransition("state","disappear",()=>({allowTransition:!0,stopOriginalTransition:!0})),this.registerTransition("state","exit",()=>({allowTransition:!0,stopOriginalTransition:!0}))}isTransitionAllowed(e,t,i){var r,s,a,o;let l=(r=this.transitions.get(e))===null||r===void 0?void 0:r.get(t);return l?l(i,e):(l=(s=this.transitions.get(e))===null||s===void 0?void 0:s.get("*"),l?l(i,e):(l=(a=this.transitions.get("*"))===null||a===void 0?void 0:a.get(t),l?l(i,e):(l=(o=this.transitions.get("*"))===null||o===void 0?void 0:o.get("*"),l?l(i,e):{allowTransition:!0,stopOriginalTransition:!0})))}registerTransition(e,t,i){let r=this.transitions.get(e);r||(r=new Map,this.transitions.set(e,r)),r.set(t,i)}}Db.getInstance();function RD(n){if(!n||!Re(n))return 0;const e=Function.prototype.toString.call(n);if(/^class\s/.test(e))return 1;if(!n.prototype)return 2;if(n.prototype.constructor===n){const t=Object.getOwnPropertyDescriptor(n,"prototype");if(t&&!t.writable)return 1}return 2}class _n{static registerBuiltInAnimate(e,t){_n.builtInAnimateMap[e]=t}constructor(e){this._animates=[],this._startCallbacks=[],this._endCallbacks=[],this._started=!1,this._activeCount=0,this._target=e}get started(){return this._started}onStart(e){e?(this._startCallbacks.push(e),this._started&&this._activeCount>0&&e()):this._startCallbacks.forEach(t=>{t()})}onEnd(e){e?this._endCallbacks.push(e):this._endCallbacks.forEach(t=>{t()})}_trackAnimation(e){this._animates.push(e),this._activeCount++,this._activeCount!==1||this._started||(this._started=!0,this.onStart()),e.onEnd(()=>{this._activeCount--;const t=this._animates.indexOf(e);t>=0&&this._animates.splice(t,1),this._activeCount===0&&this._started&&(this._started=!1,this.onEnd())})}parseParams(e,t,i){var r,s;const a=this.resolveValue(e.totalTime,void 0,void 0),o=this.resolveValue(e.startTime,void 0,0),l=Object.assign({},e);l.oneByOneDelay=0,l.startTime=o,l.totalTime=a;const u=this.resolveValue(e.oneByOne,i,!1);if(t){const c=l.timeSlices;Oe(c)||(l.timeSlices=[c]);let d=0;l.timeSlices=l.timeSlices.map(p=>{const g=this.resolveValue(p.delay,i,0),m=this.resolveValue(p.delayAfter,i,0),v=this.resolveValue(p.duration,i,300);return d+=g+v+m,Object.assign(Object.assign({},p),{delay:g,delayAfter:m,duration:v})});let h=0;u&&(h=typeof u=="number"?u:u?d:0),l.oneByOneDelay=h;let f=1;if(a){const p=d+h*(this._target.count-2);f=a?a/p:1}l.timeSlices=l.timeSlices.map(p=>{let g=p.effects;return Array.isArray(g)||(g=[g]),Object.assign(Object.assign({},p),{delay:p.delay*f,delayAfter:p.delayAfter*f,duration:p.duration*f,effects:g.map(m=>{var v,_;const y=(v=m.custom)!==null&&v!==void 0?v:_n.builtInAnimateMap[(_=m.type)!==null&&_!==void 0?_:"fromTo"],x=RD(y);return Object.assign(Object.assign({},m),{custom:y,customType:x})})})}),l.oneByOneDelay=h*f,l.startTime=o*f}else{const c=this.resolveValue(e.delay,i,0),d=this.resolveValue(e.delayAfter,i,0),h=this.resolveValue(e.duration,i,300);let f=0;u&&(f=typeof u=="number"?u:u?c+d+h:0),l.oneByOneDelay=f,l.custom=(r=e.custom)!==null&&r!==void 0?r:_n.builtInAnimateMap[(s=e.type)!==null&&s!==void 0?s:"fromTo"];const p=RD(l.custom);if(l.customType=p,a){const g=c+d+h+f*(this._target.count-2),m=a?a/g:1;l.delay=c*m,l.delayAfter=d*m,l.duration=h*m,l.oneByOneDelay=f*m,l.startTime=o}}return l}execute(e){Array.isArray(e)?e.forEach(t=>this._execute(t)):this._execute(e)}_execute(e){if(e.selfOnly)return this._executeItem(e,this._target,0,1);const t="timeSlices"in e;let i;t&&e.partitioner&&(i=(i??this._target.getChildren()).filter(s=>{var a,o;return e.partitioner((o=(a=s.context)===null||a===void 0?void 0:a.data)===null||o===void 0?void 0:o[0],s,{})})),t&&e.sort&&(i=i??this._target.getChildren(),i.sort((s,a)=>{var o,l,u,c;return e.sort((l=(o=s.context)===null||o===void 0?void 0:o.data)===null||l===void 0?void 0:l[0],(c=(u=a.context)===null||u===void 0?void 0:u.data)===null||c===void 0?void 0:c[0],s,a,{})}));const r=t?(s,a,o)=>{const l=this.parseParams(e,t,s),u=this.executeTimelineItem(l,s,a,o);u&&this._trackAnimation(u)}:(s,a,o)=>{const l=this.parseParams(e,t,s),u=this.executeTypeConfigItem(l,s,a,o);u&&this._trackAnimation(u)};i?i.forEach((s,a)=>r(s,a,i.length)):this._target.count<=1?r(this._target,0,1):this._target.forEachChildren((s,a)=>r(s,a,this._target.count-1))}executeTypeConfigItem(e,t,i,r){var s,a,o,l,u,c,d,h;const{type:f="fromTo",channel:p,customParameters:g,easing:m="linear",delay:v=0,delayAfter:_=0,duration:y=300,startTime:x=0,oneByOneDelay:w=0,loop:T,bounce:E,priority:A=0,options:k,custom:P,customType:I,controlOptions:D}=e,L=t.animate();L.priority=A;const B=Re(v)?v((a=(s=t.context)===null||s===void 0?void 0:s.data)===null||a===void 0?void 0:a[0],t,{}):v,F=(l=(o=t.context)===null||o===void 0?void 0:o.data)===null||l===void 0?void 0:l[0],$=(u=t.context)===null||u===void 0?void 0:u.indexKey;F&&$&&(i=(c=F[$])!==null&&c!==void 0?c:i),L.startAt(x);const z=i*w+B;z>0&&L.wait(z);let N=null,V=e.to,H=e.from;V||(N||(N=this.createPropsFromChannel(p,t)),V=N.props),H||(N||(N=this.createPropsFromChannel(p,t)),H=N.from),this._handleRunAnimate(L,P,I,H,V,y,m,g,D,k,f,t);let K=0;w&&(K=w*(r-i-1));const U=Re(_)?_((h=(d=t.context)===null||d===void 0?void 0:d.data)===null||h===void 0?void 0:h[0],t,{}):_;return U>0&&(K+=U),K>0&&L.wait(K),T&&T>0&&L.loop(T),E&&L.bounce(!0),L}_handleRunAnimate(e,t,i,r,s,a,o,l,u,c,d,h){var f,p,g,m,v,_,y,x;if(t&&i){i=RD(t);let w=this.resolveValue(l,h);typeof w=="function"&&(w=w((p=(f=h.context)===null||f===void 0?void 0:f.data)===null||p===void 0?void 0:p[0],h,{})),w=Object.assign({width:((g=h.stage)===null||g===void 0?void 0:g.width)||0,height:((m=h.stage)===null||m===void 0?void 0:m.height)||0,group:this._target.parent},w);const T=Re(c)?c.call(null,(_=w&&((v=w.data)===null||v===void 0?void 0:v[0]))!==null&&_!==void 0?_:(x=(y=h.context)===null||y===void 0?void 0:y.data)===null||x===void 0?void 0:x[0],h,w):c;w.options=T,w.controlOptions=u,i===1?this.createCustomAnimation(e,t,r,s,a,o,w):i===2&&this.createCustomInterpolatorAnimation(e,t,s,a,o,w)}else d==="to"?e.to(s,a,o):d==="from"&&e.from(s,a,o)}executeTimelineItem(e,t,i,r){var s,a,o,l;const{timeSlices:u,startTime:c=0,loop:d,bounce:h,oneByOneDelay:f,priority:p,controlOptions:g}=e,m=(a=(s=t.context)===null||s===void 0?void 0:s.data)===null||a===void 0?void 0:a[0],v=(o=t.context)===null||o===void 0?void 0:o.indexKey;m&&v&&(i=(l=m[v])!==null&&l!==void 0?l:i);const _=t.animate();return _.priority=p,_.startAt(c),_.wait(i*f),d&&d>0&&_.loop(d),h&&_.bounce(!0),(Array.isArray(u)?u:[u]).forEach(y=>{this.applyTimeSliceToAnimate(y,_,t,g)}),f&&_.wait(f*(r-i-1)),_}applyTimeSliceToAnimate(e,t,i,r){var s,a,o,l;const{effects:u,duration:c=300,delay:d=0,delayAfter:h=0}=e,f=Re(d)?d((a=(s=i.context)===null||s===void 0?void 0:s.data)===null||a===void 0?void 0:a[0],i,{}):d,p=Re(h)?h((l=(o=i.context)===null||o===void 0?void 0:o.data)===null||l===void 0?void 0:l[0],i,{}):h;f>0&&t.wait(f),(Array.isArray(u)?u:[u]).forEach(g=>{var m;const{type:v="fromTo",channel:_,customParameters:y,easing:x="linear",options:w}=g;let T=null,E=g.to,A=g.from;E||(T||(T=this.createPropsFromChannel(_,i)),E=T.props),A||(T||(T=this.createPropsFromChannel(_,i)),A=T.from);const k=(m=g.custom)!==null&&m!==void 0?m:_n.builtInAnimateMap[v],P=g.custom?g.customType:RD(k);this._handleRunAnimate(t,k,P,A,E,c,x,y,r,w,v,i)}),p>0&&t.wait(p)}createCustomInterpolatorAnimation(e,t,i,r,s,a){Object.keys(i).forEach(l=>{e.target.getComputedAttribute(l)}),e.interpolateUpdateFunction=(l,u,c,d,h)=>{t(c,l,u,d,h,e.target,a)},e.to(i,r,s)}createCustomAnimation(e,t,i,r,s,a,o){const l=new t(i,r,s,a,o);e.play(l)}createPropsFromChannel(e,t){const i={};let r=null;return e?(Array.isArray(e)?e.forEach(s=>{var a,o;const l=(o=(a=t.context)===null||a===void 0?void 0:a.diffAttrs)===null||o===void 0?void 0:o[s];l!==void 0&&(i[s]=l)}):Object.keys(e).forEach(s=>{var a,o,l,u;const c=e[s];c.to!==void 0&&(typeof c.to=="function"?i[s]=c.to((o=(a=t.context)===null||a===void 0?void 0:a.data)===null||o===void 0?void 0:o[0],t,{}):i[s]=c.to),c.from!==void 0&&(r||(r={}),typeof c.from=="function"?r[s]=c.from((u=(l=t.context)===null||l===void 0?void 0:l.data)===null||u===void 0?void 0:u[0],t,{}):r[s]=c.from)}),{from:r,props:i}):{from:r,props:i}}resolveValue(e,t,i){var r,s;return e===void 0?i:typeof e=="function"&&t?e((s=(r=t.context)===null||r===void 0?void 0:r.data)===null||s===void 0?void 0:s[0],t,{}):e}executeItem(e,t,i=0,r=1){return Array.isArray(e)?e.map(s=>this._executeItem(s,t,i,r)).filter(Boolean):[this._executeItem(e,t,i,r)].filter(Boolean)}_executeItem(e,t,i=0,r=1){if(!t)return null;const s="timeSlices"in e;let a=null;const o=this.parseParams(e,s);return a=s?this.executeTimelineItem(o,t,i,r):this.executeTypeConfigItem(o,t,i,r),a&&this._trackAnimation(a),a}stop(e,t=!0){for(;this._animates.length>0;){const i=this._animates.pop();t===!1&&(i.status=ol.END),i==null||i.stop(e)}this._animates=[],this._activeCount=0,this._started&&(this._started=!1,t&&this.onEnd())}}_n.builtInAnimateMap={};const op={APPEAR:"appear",DISAPPEAR:"disappear",UPDATE:"update",HIGHLIGHT:"highlight",UNHIGHLIGHT:"unhighlight"};class SYt{constructor(e){this.graphic=e}registerState(e){this.states||(this.states=new Map),this.states.set(e.name,e)}clearStates(){var e;(e=this.states)===null||e===void 0||e.clear()}}class xYt{constructor(e){this.stateList=null,this.graphic=e}applyState(e,t,i){const r=Db.getInstance(),s=[],a=[];if(this.stateList&&this.stateList.length?e.forEach((o,l)=>{const u={allowTransition:!0};this.stateList.forEach(c=>{const d=r.isTransitionAllowed(c.state,o,this.graphic);u.allowTransition=u.allowTransition&&d.allowTransition}),u.allowTransition&&(a.push({state:o,animationConfig:Oe(t[l])?t[l].map(c=>c.animation):t[l].animation,executor:new _n(this.graphic)}),this.stateList.forEach(c=>{r.isTransitionAllowed(c.state,o,this.graphic).stopOriginalTransition&&s.push(c)}))}):e.forEach((o,l)=>{a.push({state:o,animationConfig:Oe(t[l])?t[l].map(u=>u.animation):t[l].animation,executor:new _n(this.graphic)})}),s.forEach(o=>{o.executor.stop(null,!1)}),a.length){a[0].executor.execute(a[0].animationConfig);for(let o=0;o<a.length;o++){const l=a[o+1],u=a[o];u.executor.onEnd(()=>{l&&l.executor.execute(l.animationConfig),this.stateList=this.stateList.filter(c=>c!==u),o===a.length-1&&i&&i(!1)})}}else i&&i(!0);this.stateList?this.stateList=this.stateList.filter(o=>!s.includes(o)):this.stateList=[],this.stateList.push(...a)}applyAppearState(e,t){this.applyState([op.APPEAR],[{name:op.APPEAR,animation:e}],t)}applyDisappearState(e,t){this.applyState([op.DISAPPEAR],[{name:op.DISAPPEAR,animation:e}],t)}applyUpdateState(e,t){this.applyState([op.UPDATE],[{name:op.UPDATE,animation:e}],t)}applyHighlightState(e,t){this.applyState([op.HIGHLIGHT],[{name:op.HIGHLIGHT,animation:e}],t)}applyUnhighlightState(e,t){this.applyState([op.UNHIGHLIGHT],[{name:op.UNHIGHLIGHT,animation:e}],t)}stopState(e,t){var i;const r=(i=this.stateList)===null||i===void 0?void 0:i.find(s=>s.state===e);r&&r.executor.stop(t)}clearState(){var e;(e=this.stateList)===null||e===void 0||e.forEach(t=>{t.executor.stop(null,!1)}),this.stateList=null}reApplyState(e){var t;const i=(t=this.stateList)===null||t===void 0?void 0:t.find(r=>r.state===e);if(i&&i.executor.started){const r=this.stateList.slice();i.executor.stop(),this.stateList=r,i.executor.execute(i.animationConfig)}}}class jZ{_getAnimationStateManager(e){return e._animationStateManager||(e._animationStateManager=new xYt(e)),e._animationStateManager}_getAnimationStateStore(e){return e._animationStateStore||(e._animationStateStore=new SYt(e)),e._animationStateStore}registerAnimationState(e){return this._getAnimationStateStore(this).registerState(e),this}applyAnimationState(e,t,i){return this._getAnimationStateManager(this).applyState(e,t,i),this}applyAppearState(e,t){return this._getAnimationStateManager(this).applyAppearState(e,t),this}applyDisappearState(e,t){return this._getAnimationStateManager(this).applyDisappearState(e,t),this}applyUpdateState(e,t){return this._getAnimationStateManager(this).applyUpdateState(e,t),this}applyHighlightState(e,t){return this._getAnimationStateManager(this).applyHighlightState(e,t),this}applyUnhighlightState(e,t){return this._getAnimationStateManager(this).applyUnhighlightState(e,t),this}stopAnimationState(e,t,i=!1){return this._getAnimationStateManager(this).stopState(e,t),i&&this.isContainer&&this.forEachChildren(r=>{r.stopAnimationState(e,t,i)}),this}clearAnimationStates(){const e=this._animationStateManager;return e&&e.clearState(),this}reApplyAnimationState(e,t=!1){const i=this._animationStateManager;return i&&i.reApplyState(e),t&&this.isContainer&&this.forEachChildren(r=>{r.reApplyAnimationState(e,t)}),this}static extend(e){return new jZ()._getAnimationStateManager(e),e}}class wYt{getAttributes(e=!1){return e&&this.finalAttribute?this.finalAttribute:this.attribute}animate(e){var t,i,r;const s=new vYt(e==null?void 0:e.id,(i=(t=e==null?void 0:e.timeline)!==null&&t!==void 0?t:this.stage&&this.stage.getTimeline())!==null&&i!==void 0?i:NZ,e==null?void 0:e.slience);if(s.bind(this),e){const{onStart:a,onEnd:o,onRemove:l}=e;a!=null&&s.onStart(a),o!=null&&s.onEnd(o),l!=null&&s.onRemove(l)}return(r=this.stage)===null||r===void 0||r.ticker.start(),s}createTimeline(){return new NPe}createTicker(e){return new bYt(e)}setFinalAttributes(e){this.finalAttribute||(this.finalAttribute={}),Object.assign(this.finalAttribute,e)}initFinalAttributes(e){this.finalAttribute=e}initAnimateExecutor(){this._animateExecutor||(this._animateExecutor=new _n(this))}executeAnimation(e){return this.initAnimateExecutor(),this._animateExecutor.execute(e),this}executeAnimations(e){return this.initAnimateExecutor(),e.forEach(t=>{this._animateExecutor.execute(t)}),this}getFinalAttribute(){return this.finalAttribute}getGraphicAttribute(e,t=!1){return!t&&this.finalAttribute?this.finalAttribute[e]:this.attribute[e]}pauseAnimation(e=!1){this.animates&&this.animates.forEach(t=>t.pause()),e&&this.isContainer&&this.forEachChildren(t=>{t.pauseAnimation(e)})}resumeAnimation(e=!1){this.animates&&this.animates.forEach(t=>t.resume()),e&&this.isContainer&&this.forEachChildren(t=>{t.resumeAnimation(e)})}stopAnimation(e=!1){this.animates&&this.animates.forEach(t=>t.stop()),e&&this.isContainer&&this.forEachChildren(t=>{t.stopAnimation(e)})}}function Z0(){Li(_a,jZ),Li(_a,wYt)}class Dr extends QB{constructor(e,t,i,r,s){super("customAnimate",t,i,r),this.type="customAnimate",this.customFrom=e,this.params=s,this.from=e,this.to=t}update(e,t,i){if(this.onStart(),!this.props||!this.propKeys)return;const r=this.easing(t);this.onUpdate(e,r,i),this.syncAttributeUpdate()}setProps(e){this.props=e,this.propKeys=Object.keys(e),this.animate.reSyncProps()}}class Ez extends Dr{completeBind(e){this.setStartTime(0),this._animator&&this._animator.start(),this.setDuration(e.getDuration())}stop(){this._animator&&this._animator.stop()}}class jPe extends Dr{constructor(e,t,i,r,s){super(e,t,i,r,s),this.willCallBeforeStageRender=!0,this.willCallAfterStageRender=!0,this._beforeStageRender=()=>{if(!this.willCallBeforeStageRender)return;this.willCallBeforeStageRender=!1;const a=this.target.stage,o=a.window.getContext().canvas.nativeCanvas,l=this.beforeStageRender(a,o);l&&this.renderToStage(a,l)},this._afterStageRender=()=>{if(!this.willCallAfterStageRender)return;this.willCallAfterStageRender=!1;const a=this.target.stage,o=a.window.getContext().canvas.nativeCanvas,l=this.afterStageRender(a,o);l&&this.renderToStage(a,l)},this.props={}}beforeStageRender(e,t){return!1}afterStageRender(e,t){return!1}onFirstRun(){super.onFirstRun(),this.target.stage.setBeforeRender(this._beforeStageRender),this.target.stage.setAfterRender(this._afterStageRender),this.target.stage.disableDirtyBounds()}stop(){super.stop(),this.target.stage.removeBeforeRender(this._beforeStageRender),this.target.stage.removeAfterRender(this._afterStageRender)}onUpdate(e,t,i){super.onUpdate(e,t,i),this.willCallBeforeStageRender=!0,this.willCallAfterStageRender=!0}renderToStage(e,t){const i=e.window.getContext().canvas.nativeCanvas,r=i.getContext("2d");return!!r&&(r.clearRect(0,0,i.width,i.height),r.drawImage(t,0,0),i)}}class CYt{constructor(e){this.tasks=[],this.started=!1,this.completed=0,this.totalDuration=0,this.onStartCallbacks=[],this.onEndCallbacks=[],this.onUpdateCallbacks=[],this.component=e}animate(e,t){return this.started?(console.warn("Cannot add animations after animation has started"),this):(this.tasks.push({graphic:e,config:t}),this)}onStart(e){return this.onStartCallbacks.push(e),this}onEnd(e){return this.onEndCallbacks.push(e),this}onUpdate(e){return this.onUpdateCallbacks.push(e),this}start(){return this.started?(console.warn("Animation has already started"),this):(this.started=!0,this.completed=0,this.onStartCallbacks.forEach(e=>e()),this.tasks.length===0?(setTimeout(()=>{this.onEndCallbacks.forEach(e=>e())},0),this):(this.tasks.forEach(e=>{const t=new _n(e.graphic);t.onEnd(()=>{this.completed++,this.completed===this.tasks.length&&this.onEndCallbacks.forEach(r=>r())});const i=t.executeItem(e.config,e.graphic);e.animate=i,i.forEach(r=>{this.totalDuration=Math.max(this.totalDuration,r.getStartTime()+r.getDuration())})}),this))}deleteSelfAttr(e){this.tasks.forEach(t=>{t.animate&&t.animate.forEach(i=>i.preventAttr(e))})}stop(e){return this.tasks.forEach(t=>{t.animate&&t.animate.forEach(i=>i.stop(e))}),this.started&&this.completed!==this.tasks.length&&(this.onEndCallbacks.forEach(t=>t()),this.completed=this.tasks.length),this}getDuration(){return this.totalDuration}}function Az(n){return new CYt(n)}class TYt extends Dr{constructor(e,t,i,r,s){super(e,t,i,r,s),this.formatTemplate=null,this.decimalLength=s==null?void 0:s.decimalLength,s!=null&&s.formatTemplate&&s.formatTemplate.includes("{{var}}")&&(this.formatTemplate=s.formatTemplate)}onFirstRun(){var e,t,i;const r=this.getLastProps(),s=this.getEndProps(),a=(e=r.text)!==null&&e!==void 0?e:0,o=(t=s.text)!==null&&t!==void 0?t:0;this.valid=!0;let l=0,u=0,c="",d="",h=0;if(typeof a=="number"){l=a;const f=a.toString().split(".")[1]||"";h=Math.max(h,f.length)}else{if(typeof a!="string")return void(this.valid=!1);if(a.endsWith("%")){c="%";const f=a.substring(0,a.length-1).replace(/,/g,"");if(l=parseFloat(f)/100,isNaN(l))return void(this.valid=!1);const p=f.split(".")[1]||"";h=Math.max(h,p.length+2)}else{const f=a.replace(/,/g,"");if(l=parseFloat(f),isNaN(l))return void(this.valid=!1);a.includes(",")&&(c=",");const p=f.split(".")[1]||"";h=Math.max(h,p.length)}}if(typeof o=="number"){u=o;const f=o.toString().split(".")[1]||"";h=Math.max(h,f.length)}else{if(typeof o!="string")return void(this.valid=!1);if(o.endsWith("%")){d="%";const f=o.substring(0,o.length-1).replace(/,/g,"");if(u=parseFloat(f)/100,isNaN(u))return void(this.valid=!1);const p=f.split(".")[1]||"";h=Math.max(h,p.length+2)}else{const f=o.replace(/,/g,"");if(u=parseFloat(f),isNaN(u))return void(this.valid=!1);o.includes(",")&&(d=",");const p=f.split(".")[1]||"";h=Math.max(h,p.length)}}if(!((i=this.params)===null||i===void 0)&&i.format){switch(this.params.format){case"percent":this.format="%";break;case"thousandth":this.format=",";break;case"none":this.format="";break;default:this.format=d||c}this.format==="%"&&d!=="%"&&c!=="%"&&this.decimalLength===void 0&&(this.decimalLength=2),this.format==="%"||d!=="%"&&c!=="%"||(l*=100,u*=100)}else this.format=d||c;this.fromNumber=l,this.toNumber=u,this.decimalLength===void 0&&(this.decimalLength=h)}onEnd(e){super.onEnd(e),e||this.props&&this.target.setAttributes(this.props)}onUpdate(e,t,i){if(!this.valid)return;const r=this.fromNumber+(this.toNumber-this.fromNumber)*t;let s="";const a=this.format,o=(a==="%"?100*r:r).toFixed(this.decimalLength);let l,u=o;if(parseFloat(o)===Math.floor(parseFloat(o))&&(u=Math.floor(parseFloat(o))),a==="%")l=`${u}%`;else if(a===","){const c=u.toString().split(".");c[0]=c[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),l=c.join(".")}else l=u;s=this.formatTemplate?this.formatTemplate.replace("{{var}}",l.toString()):l,this.target.setAttribute("text",s)}}const tw={duration:1e3,easing:"quadInOut"},EYt=["x","y","dx","dy","scaleX","scaleY","angle","anchor","postMatrix","scrollX","scrollY"],AYt=n=>EYt.includes(n),zPe=(n,e,t)=>{n.forEach(i=>{if(Number.isFinite(i.to))e[i.key]=i.from+(i.to-i.from)*t;else if(i.key==="fill"||i.key==="stroke"){const r=IC(i.from,i.to,t,!1);r&&(e[i.key]=r)}})},HPe=(n,e,t)=>{const i=[],r=[];e.clear();for(let s=0;s<n.length;s++){const a=n[s],o=a.from,l=a.to,u=a.rotation*t,c=a.fromCp,d=a.toCp,h=Math.sin(u),f=Math.cos(u);r[0]=c[0]+(d[0]-c[0])*t,r[1]=c[1]+(d[1]-c[1])*t;for(let m=0;m<o.length;m+=2){const v=o[m],_=o[m+1],y=v*(1-t)+l[m]*t,x=_*(1-t)+l[m+1]*t;i[m]=y*f-x*h+r[0],i[m+1]=y*h+x*f+r[1]}let p=i[0],g=i[1];e.moveTo(p,g);for(let m=2;m<o.length;m+=6){const v=i[m],_=i[m+1],y=i[m+2],x=i[m+3],w=i[m+4],T=i[m+5];p===v&&g===_&&y===w&&x===T?e.lineTo(w,T):e.bezierCurveTo(v,_,y,x,w,T),p=w,g=T}}},VPe=(n,e,t)=>{const i=n?BY(n):[],r=BY(e);t&&i&&(t.fromTransform&&Khe(i,t.fromTransform.clone().getInverse()),Khe(i,t.toTransfrom));const[s,a]=gUt(i,r);return n?pUt(s,a,10,Math.PI):a.map((o,l)=>({from:s[l],to:o,fromCp:[0,0],toCp:[0,0],rotation:0}))},kYt=["fill","fillOpacity","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","stroke","strokeOpacity","lineDashOffset"],WPe=(n,e)=>{if(!n||!e)return null;const t=[];let i=!1;return Object.keys(n).forEach(r=>{if(!kYt.includes(r))return;const s=e[r];if(!J(s)&&!J(n[r])&&s!==n[r]){if(r==="fill"||r==="stroke"){const a=o=>typeof o=="string"?da.Get(o,mh.Color255):o;t.push({from:Oe(n[r])?n[r].map(a):a(n[r]),to:Oe(s)?s.map(a):a(s),key:r})}else t.push({from:n[r],to:s,key:r});i=!0}}),i?t:null};class UPe extends Dr{constructor(e,t,i){super({},{},t,i),this.morphingData=e.morphingData,this.otherAttrs=e.otherAttrs,this.saveOnEnd=e.saveOnEnd}getEndProps(){return{}}onBind(){this.target.createPathProxy(),this.onUpdate(!1,0,this.target.attribute)}onEnd(){}onUpdate(e,t,i){const r=this.target,s=typeof r.pathProxy=="function"?r.pathProxy(r.attribute):r.pathProxy;HPe(this.morphingData,s,t),this.otherAttrs&&this.otherAttrs.length&&zPe(this.otherAttrs,i,t),this.target.setAttributes(i),e&&!this.saveOnEnd&&(this.target.pathProxy=null)}}const GPe=(n,e,t,i)=>{var r,s,a;if(n&&(!n.valid||!n.toCustomPath))return __DEV__&&console.error(n," is not validate"),null;if(!e.valid||!e.toCustomPath)return __DEV__&&console.error(e," is not validate"),null;let o=n==null?void 0:n.globalTransMatrix;i&&o&&(o=i.clone().multiply(o.a,o.b,o.c,o.d,o.e,o.f));const l=VPe((r=n==null?void 0:n.toCustomPath)===null||r===void 0?void 0:r.call(n),e.toCustomPath(),{fromTransform:o,toTransfrom:e.globalTransMatrix}),u=WPe(n==null?void 0:n.attribute,e.attribute),c=e.animate(t);t!=null&&t.delay&&c.wait(t.delay);const d=new UPe({morphingData:l,otherAttrs:u},(s=t==null?void 0:t.duration)!==null&&s!==void 0?s:tw.duration,(a=t==null?void 0:t.easing)!==null&&a!==void 0?a:tw.easing);return c.play(d),c},OYt=(n,e,t)=>{var i;const r=e.filter(u=>u&&u.toCustomPath&&u.valid);r.length||__DEV__&&console.error(r," is not validate"),n.valid&&n.toCustomPath||__DEV__&&console.error(n," is not validate");const s=((t==null?void 0:t.splitPath)==="clone"?KPe:(i=t==null?void 0:t.splitPath)!==null&&i!==void 0?i:XPe)(n,r.length,!1),a=t==null?void 0:t.onEnd;let o=r.length;const l=()=>{o--,o===0&&a&&a()};r.forEach((u,c)=>{var d;const h=s[c],f=((d=t==null?void 0:t.delay)!==null&&d!==void 0?d:0)+(t!=null&&t.individualDelay?t.individualDelay(c,r.length,h,u):0);GPe(h,u,Object.assign({},t,{onEnd:l,delay:f}),n.globalTransMatrix)})};class PYt extends Dr{constructor(e,t,i){super({},{},t,i),this.morphingData=e.morphingData,this.otherAttrs=e.otherAttrs}getEndProps(){return{}}onBind(){this.addPathProxy()}addPathProxy(){this.target.shadowRoot.forEachChildren(e=>{e.createPathProxy()}),this.onUpdate(!1,0,this.target.attribute)}clearPathProxy(){this.target.shadowRoot.forEachChildren(e=>{e.pathProxy=null})}onEnd(){}onUpdate(e,t,i){this.target.shadowRoot.forEachChildren((r,s)=>{var a;HPe(this.morphingData[s],typeof r.pathProxy=="function"?r.pathProxy(r.attribute):r.pathProxy,t),!((a=this.otherAttrs)===null||a===void 0)&&a[s]&&this.otherAttrs[s].length&&zPe(this.otherAttrs[s],r.attribute,t)}),e&&(this.clearPathProxy(),this.morphingData=null)}}const zZ=n=>{const e={};return Object.keys(n).forEach(t=>{AYt(t)||(e[t]=n[t])}),e},YPe=(n,e,t)=>{const i=zZ(n.attribute),r=n.attachShadow();if(e.length)r.setTheme({[e[0].type]:i}),e.forEach(s=>{s.setAttributes({pickable:!1}),r.appendChild(s)});else{const s=n.AABBBounds,a=s.width(),o=s.height();r.setTheme({rect:i}),new Array(t).fill(0).forEach(l=>{const u=lt.graphicService.creator.rect({x:0,y:0,width:a,height:o,pickable:!1});r.appendChild(u),e.push(u)})}},KPe=(n,e,t)=>{const i=[],r=t?null:zZ(n.attribute),s=n.toCustomPath();for(let a=0;a<e;a++){const o={path:new Ts().fromCustomPath2D(s)};i.push(lt.graphicService.creator.path(t?o:Object.assign({},r,o)))}return t&&YPe(n,i,e),i},XPe=(n,e,t)=>{const i=[],r=t?null:zZ(n.attribute);if(n.type==="rect")vUt(n,e).forEach(s=>{i.push(lt.graphicService.creator.rect(t?s:Object.assign({},r,s)))});else if(n.type==="arc")yUt(n,e).forEach(s=>{i.push(lt.graphicService.creator.arc(t?s:Object.assign({},r,s)))});else if(n.type==="circle")_Ut(n,e).forEach(s=>{i.push(lt.graphicService.creator.arc(t?s:Object.assign({},r,s)))});else if(n.type==="line"){const s=SUt(n,e),a={size:10,symbolType:"circle"};s.forEach(o=>{i.push(lt.graphicService.creator.symbol(t?Object.assign({},o,a):Object.assign({},r,o,a)))})}else n.type==="polygon"?CUt(n,e).forEach(s=>{i.push(lt.graphicService.creator.polygon(t?s:Object.assign({},r,s)))}):n.type==="area"?bUt(n,e).forEach(s=>{i.push(lt.graphicService.creator.polygon(t?s:Object.assign({},r,s)))}):n.type==="path"&&TUt(n,e).forEach(s=>{"path"in s?i.push(lt.graphicService.creator.path(t?s:Object.assign({},r,s))):i.push(lt.graphicService.creator.polygon(t?s:Object.assign({},r,s)))});return t&&YPe(n,i,e),i},MYt=(n,e,t)=>{var i,r,s;const a=n.filter(d=>d.toCustomPath&&d.valid);a.length||__DEV__&&console.error(n," is not validate"),e.valid&&e.toCustomPath||__DEV__&&console.error(e," is not validate");const o=((t==null?void 0:t.splitPath)==="clone"?KPe:(i=t==null?void 0:t.splitPath)!==null&&i!==void 0?i:XPe)(e,a.length,!0),l=e.attribute;e.setAttribute("visible",!1);const u=a.map((d,h)=>VPe(d.toCustomPath(),o[h].toCustomPath(),{fromTransform:d.globalTransMatrix,toTransfrom:o[h].globalTransMatrix})),c=a.map((d,h)=>WPe(d.attribute,l));if(t!=null&&t.individualDelay){const d=t.onEnd;let h=a.length;const f=()=>{h--,h===0&&(e.setAttributes({visible:!0,ratio:null},!1,{type:Za.ANIMATE_END}),e.detachShadow(),d&&d())};o.forEach((p,g)=>{var m,v,_;const y=((m=t.delay)!==null&&m!==void 0?m:0)+t.individualDelay(g,a.length,n[g],p),x=p.animate(Object.assign({},t,{onEnd:f}));x.wait(y),x.play(new UPe({morphingData:u[g],saveOnEnd:!0,otherAttrs:c[g]},(v=t.duration)!==null&&v!==void 0?v:tw.duration,(_=t.easing)!==null&&_!==void 0?_:tw.easing))})}else{const d=t==null?void 0:t.onEnd,h=t?Object.assign({},t):{};h.onEnd=()=>{e.setAttribute("visible",!0,!1,{type:Za.ANIMATE_END}),e.detachShadow(),d&&d()};const f=e.animate(h);t!=null&&t.delay&&f.wait(t.delay),f.play(new PYt({morphingData:u,otherAttrs:c},(r=t==null?void 0:t.duration)!==null&&r!==void 0?r:tw.duration,(s=t==null?void 0:t.easing)!==null&&s!==void 0?s:tw.easing))}};class qPe extends Dr{constructor(e,t,i,r,s){super(null,{},i,r,s),this.clipFromAttribute=e,this.clipToAttribute=t,this._group=s==null?void 0:s.group,this._clipGraphic=s==null?void 0:s.clipGraphic}onBind(){super.onBind(),this._group&&this._clipGraphic&&(this._lastClip=this._group.attribute.clip,this._lastPath=this._group.attribute.path,this._group.setAttributes({clip:!0,path:[this._clipGraphic]},!1,{type:Za.ANIMATE_BIND}))}onEnd(){this._group&&this._group.setAttributes({clip:this._lastClip,path:this._lastPath},!1,{type:Za.ANIMATE_END})}onUpdate(e,t,i){if(!this._clipGraphic)return;const r={};Object.keys(this.clipFromAttribute).forEach(s=>{r[s]=this.clipFromAttribute[s]+(this.clipToAttribute[s]-this.clipFromAttribute[s])*t}),this._clipGraphic.setAttributes(r,!1,{type:Za.ANIMATE_UPDATE,animationState:{ratio:t,end:e}})}}class IYt extends qPe{constructor(e,t,i,r,s){var a,o,l,u,c,d,h,f,p,g,m,v;const _=(o=(a=s==null?void 0:s.group)===null||a===void 0?void 0:a.attribute)!==null&&o!==void 0?o:{},y=(l=_.width)!==null&&l!==void 0?l:0,x=(u=_.height)!==null&&u!==void 0?u:0,w=(c=s==null?void 0:s.animationType)!==null&&c!==void 0?c:"in",T=(d=s==null?void 0:s.startAngle)!==null&&d!==void 0?d:0,E=(h=s==null?void 0:s.orient)!==null&&h!==void 0?h:"clockwise";let A=0,k=0;E==="anticlockwise"?(k=w==="in"?T+2*Math.PI:T,k=T+2*Math.PI):(A=T,k=w==="out"?T+2*Math.PI:T);const P=lt.graphicService.creator.arc({x:(p=(f=s==null?void 0:s.center)===null||f===void 0?void 0:f.x)!==null&&p!==void 0?p:y/2,y:(m=(g=s==null?void 0:s.center)===null||g===void 0?void 0:g.y)!==null&&m!==void 0?m:x/2,outerRadius:(v=s==null?void 0:s.radius)!==null&&v!==void 0?v:(y+x)/2,innerRadius:0,startAngle:A,endAngle:k,fill:!0});let I,D;E==="anticlockwise"?(I={startAngle:T+2*Math.PI},D={startAngle:T}):(I={endAngle:T},D={endAngle:T+2*Math.PI}),super(w==="in"?I:D,w==="in"?D:I,i,r,{group:s==null?void 0:s.group,clipGraphic:P})}}class xpe extends qPe{constructor(e,t,i,r,s){var a,o,l,u,c,d,h,f,p;const g=(o=(a=s==null?void 0:s.group)===null||a===void 0?void 0:a.attribute)!==null&&o!==void 0?o:{},m=(u=(l=s==null?void 0:s.width)!==null&&l!==void 0?l:g.width)!==null&&u!==void 0?u:0,v=(d=(c=s==null?void 0:s.height)!==null&&c!==void 0?c:g.height)!==null&&d!==void 0?d:0,_=(h=s==null?void 0:s.animationType)!==null&&h!==void 0?h:"in",y=(f=s==null?void 0:s.direction)!==null&&f!==void 0?f:"x",x=(p=s==null?void 0:s.orient)!==null&&p!==void 0?p:"positive",w=lt.graphicService.creator.rect({x:0,y:0,width:_==="in"&&y==="x"?0:m,height:_==="in"&&y==="y"?0:v,fill:!0});let T={},E={};y==="y"?x==="negative"?(T={y:v,height:0},E={y:0,height:v}):(T={height:0},E={height:v}):x==="negative"?(T={x:m,width:0},E={x:0,width:m}):(T={width:0},E={width:m}),super(_==="in"?T:E,_==="in"?E:T,i,r,{group:s==null?void 0:s.group,clipGraphic:w})}}class ZPe extends Dr{constructor(e,t,i,r,s){var a,o;super(e,t,i,r,s),this.newPointAnimateType=(a=s==null?void 0:s.newPointAnimateType)!==null&&a!==void 0?a:"grow",this.clipRangeByDimension=(o=s==null?void 0:s.clipRangeByDimension)!==null&&o!==void 0?o:"x"}getPoints(e,t=!1){if(e.points)return e.points;if(e.segments){const i=[];return this.segmentsCache||(this.segmentsCache=[]),e.segments.map(r=>{var s,a;r.points&&i.push(...r.points),t&&this.segmentsCache.push((a=(s=r.points)===null||s===void 0?void 0:s.length)!==null&&a!==void 0?a:0)}),i}return[]}onBind(){super.onBind();const{points:e,segments:t}=this.target.attribute,{points:i,segments:r}=this.target.getFinalAttribute();this.from={points:e,segments:t},this.to={points:i,segments:r},this.props=this.to;const s=this.getPoints(this.from),a=this.getPoints(this.to,!0);this.fromPoints=s?Array.isArray(s)?s:[s]:[],this.toPoints=a?Array.isArray(a)?a:[a]:[];const o=new Map;this.fromPoints.forEach(f=>{f.context&&o.set(f.context,f)});let l,u,c=1/0,d=-1/0;for(let f=0;f<this.toPoints.length;f+=1)if(o.has(this.toPoints[f].context)){c=f,l=o.get(this.toPoints[f].context);break}for(let f=this.toPoints.length-1;f>=0;f-=1)if(o.has(this.toPoints[f].context)){d=f,u=o.get(this.toPoints[f].context);break}this.newPointAnimateType==="clip"&&this.toPoints.length!==0&&(Number.isFinite(d)?(this.clipRange=this.toPoints[d][this.clipRangeByDimension]/this.toPoints[this.toPoints.length-1][this.clipRangeByDimension],this.clipRange===1&&(this.shrinkClipRange=this.toPoints[d][this.clipRangeByDimension]/this.fromPoints[this.fromPoints.length-1][this.clipRangeByDimension]),Me(this.clipRange)?this.clipRange=ki(this.clipRange,0,1):this.clipRange=0):this.clipRange=0);let h=this.toPoints[0];this.interpolatePoints=this.toPoints.map((f,p)=>{const g=o.get(f.context);return g?(h=g,[g,f]):this.newPointAnimateType==="appear"||this.newPointAnimateType==="clip"?[f,f]:p<c&&l?[l,f]:p>d&&u?[u,f]:[h,f]}),this.points=this.interpolatePoints.map(f=>{const p=f[0],g=f[1],m=new Zi(p.x,p.y,p.x1,p.y1);return m.defined=g.defined,m.context=g.context,m})}onFirstRun(){const e=this.target.attribute.clipRange;Me(e*this.clipRange)&&(this.clipRange*=e)}onUpdate(e,t,i){if(e)return Object.keys(this.to).forEach(r=>{this.target.attribute[r]=this.to[r]}),this.target.addUpdatePositionTag(),void this.target.addUpdateShapeAndBoundsTag();if(this.points=this.points.map((r,s)=>{const a=zF(this.interpolatePoints[s][0],this.interpolatePoints[s][1],t);return a.context=r.context,a}),this.clipRange){if(this.shrinkClipRange)return void(e?(i.points=this.toPoints,i.clipRange=1):(i.points=this.fromPoints,i.clipRange=this.clipRange-(this.clipRange-this.shrinkClipRange)*t));this.target.setAttributes({clipRange:this.clipRange+(1-this.clipRange)*t})}if(this.segmentsCache&&this.to.segments){let r=0;const s=this.to.segments.map((a,o)=>{const l=r+this.segmentsCache[o],u=this.points.slice(r,l);return r=l,Object.assign(Object.assign({},a),{points:u})});this.target.attribute.segments=s}else this.target.attribute.points=this.points;this.target.addUpdatePositionTag(),this.target.addUpdateShapeAndBoundsTag()}}class QPe extends Dr{constructor(e,t,i,r,s){super(e,t,i,r,s)}onBind(){var e,t,i;super.onBind();const r=this.target.getFinalAttribute(),s=(e=this.target.attribute)!==null&&e!==void 0?e:{},a={},o=(t=this.from)!==null&&t!==void 0?t:{};this.keys.forEach(u=>{var c,d,h;a[u]=(c=r==null?void 0:r[u])!==null&&c!==void 0?c:1,o[u]=(h=(d=o[u])!==null&&d!==void 0?d:s[u])!==null&&h!==void 0?h:0});const l=this.target.getFinalAttribute();l&&this.target.setAttributes(l),this.props=a,this.propKeys=this.keys,this.from=o,this.to=a,((i=this.params.controlOptions)===null||i===void 0?void 0:i.immediatelyApply)!==!1&&this.target.setAttributes(o)}onUpdate(e,t,i){const r=this.target.attribute;this.propKeys.forEach(s=>{r[s]=this.from[s]+(this.to[s]-this.from[s])*t}),this.target.addUpdatePositionTag(),this.target.addUpdateShapeAndBoundsTag()}}class JPe extends Dr{constructor(e,t,i,r,s){super(e,t,i,r,s)}onBind(){super.onBind();const e=this.target.attribute,t={},i={};this.keys.forEach(r=>{var s;t[r]=0,i[r]=(s=e[r])!==null&&s!==void 0?s:1}),this.props=t,this.propKeys=this.keys,this.from=i,this.to=t,Object.assign(this.target.attribute,i),this.target.addUpdatePositionTag(),this.target.addUpdateBoundTag()}onEnd(e){super.onEnd(e)}onUpdate(e,t,i){const r=this.target.attribute;this.propKeys.forEach(s=>{r[s]=this.from[s]+(this.to[s]-this.from[s])*t}),this.target.addUpdatePositionTag(),this.target.addUpdateShapeAndBoundsTag()}}class RYt extends QPe{constructor(e,t,i,r,s){super(e,t,i,r,s),this.keys=["clipRange"],this.from={clipRange:0}}onFirstRun(){var e;super.onFirstRun();const{clipDimension:t}=((e=this.params)===null||e===void 0?void 0:e.options)||{};t&&(this.target.attribute.clipRangeByDimension=t)}}class DYt extends JPe{constructor(e,t,i,r,s){super(e,t,i,r,s),this.keys=["clipRange"]}}class LYt extends QPe{constructor(e,t,i,r,s){super(e,t,i,r,s),this.keys=["opacity","fillOpacity","strokeOpacity"],this.from={opacity:0,fillOpacity:0,strokeOpacity:0}}}class FYt extends JPe{constructor(e,t,i,r,s){super(e,t,i,r,s),this.keys=["opacity","fillOpacity","strokeOpacity"]}}const BYt=(n,e,t)=>{const i=n.getFinalAttribute();return e&&e.orient==="anticlockwise"?{from:{startAngle:i==null?void 0:i.endAngle},to:{startAngle:i==null?void 0:i.startAngle}}:{from:{endAngle:i==null?void 0:i.startAngle},to:{endAngle:i==null?void 0:i.endAngle}}},$Yt=(n,e,t)=>{const i=n.getFinalAttribute();if(e&&e.orient==="anticlockwise"){const s=st(e.overall)?e.overall:2*Math.PI;return{from:{startAngle:s,endAngle:s},to:{startAngle:i==null?void 0:i.startAngle,endAngle:i==null?void 0:i.endAngle}}}const r=st(e==null?void 0:e.overall)?e.overall:0;return{from:{startAngle:r,endAngle:r},to:{startAngle:i==null?void 0:i.startAngle,endAngle:i==null?void 0:i.endAngle}}},NYt=(n,e,t)=>{var i;return((i=e==null?void 0:e.overall)!==null&&i!==void 0&&i)!==!1?$Yt(n,e):BYt(n,e)},jYt=(n,e,t)=>{const i=n.attribute;return e&&e.orient==="anticlockwise"?{from:{startAngle:i.startAngle},to:{startAngle:i==null?void 0:i.endAngle}}:{from:{endAngle:i.endAngle},to:{endAngle:i==null?void 0:i.startAngle}}},zYt=(n,e,t)=>{const i=n.attribute;if(e&&e.orient==="anticlockwise"){const s=st(e.overall)?e.overall:2*Math.PI;return{from:{startAngle:i.startAngle,endAngle:i.endAngle},to:{startAngle:s,endAngle:s}}}const r=st(e==null?void 0:e.overall)?e.overall:0;return{from:{startAngle:i.startAngle,endAngle:i.endAngle},to:{startAngle:r,endAngle:r}}};class eMe extends Dr{constructor(e,t,i,r,s){super(e,t,i,r,s)}determineUpdateFunction(){this.propKeys?this.propKeys&&this.propKeys.length>1?this._updateFunction=this.updateAngle:this.propKeys[0]==="startAngle"?this._updateFunction=this.updateStartAngle:this.propKeys[0]==="endAngle"?this._updateFunction=this.updateEndAngle:this.valid=!1:this.valid=!1}deleteSelfAttr(e){delete this.props[e],this.fromProps&&delete this.fromProps[e];const t=this.propKeys.indexOf(e);t!==-1&&this.propKeys.splice(t,1),this.propKeys&&this.propKeys.length>1?this._updateFunction=this.updateAngle:this.propKeys[0]==="startAngle"?this._updateFunction=this.updateStartAngle:this.propKeys[0]==="endAngle"?this._updateFunction=this.updateEndAngle:this._updateFunction=null}updateStartAngle(e){this.target.attribute.startAngle=this.from.startAngle+(this.to.startAngle-this.from.startAngle)*e}updateEndAngle(e){this.target.attribute.endAngle=this.from.endAngle+(this.to.endAngle-this.from.endAngle)*e}updateAngle(e){this.updateStartAngle(e),this.updateEndAngle(e)}onUpdate(e,t,i){this._updateFunction&&(this._updateFunction(t),this.target.addUpdateShapeAndBoundsTag())}}class HYt extends eMe{onBind(){var e,t,i;super.onBind();const{from:r,to:s}=NYt(this.target,this.params.options,this.params),a=(t=(e=this.target.context)===null||e===void 0?void 0:e.lastAttrs)!==null&&t!==void 0?t:r;this.props=s,this.propKeys=Object.keys(s).filter(l=>s[l]!=null),this.from=a,this.to=s;const o=this.target.getFinalAttribute();o&&this.target.setAttributes(o),((i=this.params.controlOptions)===null||i===void 0?void 0:i.immediatelyApply)!==!1&&this.target.setAttributes(a),this.determineUpdateFunction()}}class VYt extends eMe{onBind(){super.onBind();const{from:e,to:t}=(i=this.target,r=this.params.options,this.params,((s=r==null?void 0:r.overall)!==null&&s!==void 0&&s)!==!1?zYt(i,r):jYt(i,r));var i,r,s;const a=e;this.props=t,this.propKeys=Object.keys(t).filter(o=>t[o]!=null),this.from=a??this.target.attribute,this.to=t,this.determineUpdateFunction()}}const WYt=(n,e,t)=>{const i=n.getFinalAttribute();switch(e==null?void 0:e.direction){case"x":{const r=i.x,s=i.x1,a=i.width;return{from:Y(a)?{x:r+a/2,x1:void 0,width:0}:{x:(r+s)/2,x1:(r+s)/2,width:void 0},to:{x:r,x1:s,width:a}}}case"y":{const r=i.y,s=i.y1,a=i.height;return{from:Y(a)?{y:r+a/2,y1:void 0,height:0}:{y:(r+s)/2,y1:(r+s)/2,height:void 0},to:{y:r,y1:s,height:a}}}default:{const r=i.x,s=i.x1,a=i.width,o=i.y,l=i.y1,u=i.height,c={};return Y(a)?(c.x=r+a/2,c.width=0,c.x1=void 0):(c.x=(r+s)/2,c.x1=(r+s)/2,c.width=void 0),Y(u)?(c.y=o+u/2,c.height=0,c.y1=void 0):(c.y=(o+l)/2,c.y1=(o+l)/2,c.height=void 0),{from:c,to:{x:r,y:o,x1:s,y1:l,width:a,height:u}}}}},UYt=(n,e,t)=>{const i=n.attribute;switch(e==null?void 0:e.direction){case"x":{const r=i.x,s=i.x1,a=i.width;return{to:Y(a)?{x:r+a/2,x1:void 0,width:0}:{x:(r+s)/2,x1:(r+s)/2,width:void 0}}}case"y":{const r=i.y,s=i.y1,a=i.height;return{to:Y(a)?{y:r+a/2,y1:void 0,height:0}:{y:(r+s)/2,y1:(r+s)/2,height:void 0}}}default:{const r=i.x,s=i.y,a=i.x1,o=i.y1,l=i.width,u=i.height,c={};return Y(l)?(c.x=r+l/2,c.width=0,c.x1=void 0):(c.x=(r+a)/2,c.x1=(r+a)/2,c.width=void 0),Y(u)?(c.y=s+u/2,c.height=0,c.y1=void 0):(c.y=(s+o)/2,c.y1=(s+o)/2,c.height=void 0),{to:c}}}};class GYt extends Dr{constructor(e,t,i,r,s){super(e,t,i,r,s)}onBind(){var e,t,i;super.onBind();const{from:r,to:s}=WYt(this.target,this.params.options,this.params),a=(t=(e=this.target.context)===null||e===void 0?void 0:e.lastAttrs)!==null&&t!==void 0?t:r;this.props=s,this.propKeys=Object.keys(s).filter(l=>s[l]!=null),this.from=a,this.to=s;const o=this.target.getFinalAttribute();o&&this.target.setAttributes(o),((i=this.params.controlOptions)===null||i===void 0?void 0:i.immediatelyApply)!==!1&&this.target.setAttributes(a)}onEnd(e){super.onEnd(e)}onUpdate(e,t,i){const r=this.target.attribute;this.propKeys.forEach(s=>{r[s]=this.from[s]+(this.to[s]-this.from[s])*t}),this.target.addUpdatePositionTag(),this.target.addUpdateShapeAndBoundsTag()}}class YYt extends Dr{constructor(e,t,i,r,s){super(e,t,i,r,s)}onBind(){super.onBind();const{from:e,to:t}=UYt(this.target,this.params.options,this.params);this.props=t,this.propKeys=Object.keys(t).filter(i=>t[i]!=null),this.from=e??this.target.attribute,this.to=t}onEnd(e){super.onEnd(e)}onUpdate(e,t,i){const r=this.target.attribute;this.propKeys.forEach(s=>{r[s]=this.from[s]+(this.to[s]-this.from[s])*t}),this.target.addUpdatePositionTag(),this.target.addUpdateShapeAndBoundsTag()}}function KYt(n,e,t){const i=n.getFinalAttribute(),r=i.y,s=i.y1,a=i.height;if(e&&e.orient==="negative"){const l=Y(a)?Math.max(r,r+a):Math.max(r,s);return{from:{y:l,y1:J(s)?void 0:l,height:J(a)?void 0:0},to:{y:r,y1:s,height:a}}}const o=Y(a)?Math.min(r,r+a):Math.min(r,s);return{from:{y:o,y1:J(s)?void 0:o,height:J(a)?void 0:0},to:{y:r,y1:s,height:a}}}function XYt(n,e,t){var i,r,s;const a=n.getFinalAttribute(),o=a.y,l=a.y1,u=a.height;let c;return e&&e.orient==="negative"?st(e.overall)?c=e.overall:t.group?(c=(s=(i=t.groupHeight)!==null&&i!==void 0?i:(r=e.layoutRect)===null||r===void 0?void 0:r.height)!==null&&s!==void 0?s:t.group.getBounds().height(),t.groupHeight=c):c=t.height:c=st(e==null?void 0:e.overall)?e.overall:0,{from:{y:c,y1:J(l)?void 0:c,height:J(u)?void 0:0},to:{y:o,y1:l,height:u}}}const qYt=(n,e,t)=>{var i;return((i=e==null?void 0:e.overall)!==null&&i!==void 0&&i)!==!1?XYt(n,e,t):KYt(n,e)};class ZYt extends Dr{constructor(e,t,i,r,s){super(e,t,i,r,s)}onBind(){var e,t,i;super.onBind();const{from:r,to:s}=qYt(this.target,this.params.options,this.params),a=(t=(e=this.target.context)===null||e===void 0?void 0:e.lastAttrs)!==null&&t!==void 0?t:r;this.props=s,this.propKeys=Object.keys(s).filter(l=>s[l]!=null),this.from=a,this.to=s;const o=this.target.getFinalAttribute();o&&this.target.setAttributes(o),((i=this.params.controlOptions)===null||i===void 0?void 0:i.immediatelyApply)!==!1&&this.target.setAttributes(a)}onEnd(e){super.onEnd(e)}onUpdate(e,t,i){const r=this.target.attribute;this.propKeys.forEach(s=>{r[s]=this.from[s]+(this.to[s]-this.from[s])*t}),this.target.addUpdatePositionTag(),this.target.addUpdateShapeAndBoundsTag()}}function QYt(n,e,t){const i=n.getFinalAttribute(),r=i.y,s=i.y1,a=i.height;if(e&&e.orient==="negative"){const l=Y(a)?Math.max(r,r+a):Math.max(r,s);return{to:{y:l,y1:J(s)?void 0:l,height:J(a)?void 0:0}}}const o=Y(a)?Math.min(r,r+a):Math.min(r,s);return{to:{y:o,y1:J(s)?void 0:o,height:J(a)?void 0:0}}}function JYt(n,e,t){var i,r,s;const a=n.getFinalAttribute(),o=a.y1,l=a.height;let u;return e&&e.orient==="negative"?st(e.overall)?u=e.overall:t.group?(u=(s=(i=t.groupHeight)!==null&&i!==void 0?i:(r=e.layoutRect)===null||r===void 0?void 0:r.height)!==null&&s!==void 0?s:t.group.getBounds().height(),t.groupHeight=u):u=t.height:u=st(e==null?void 0:e.overall)?e.overall:0,{to:{y:u,y1:J(o)?void 0:u,height:J(l)?void 0:0}}}class e7t extends Dr{constructor(e,t,i,r,s){super(e,t,i,r,s)}onBind(){super.onBind();const{from:e,to:t}=(i=this.target,r=this.params.options,s=this.params,((a=r==null?void 0:r.overall)!==null&&a!==void 0&&a)!==!1?JYt(i,r,s):QYt(i,r));var i,r,s,a;this.props=t,this.propKeys=Object.keys(t).filter(o=>t[o]!=null),this.from=e??this.target.attribute,this.to=t}onEnd(e){super.onEnd(e)}onUpdate(e,t,i){const r=this.target.attribute;this.propKeys.forEach(s=>{r[s]=this.from[s]+(this.to[s]-this.from[s])*t}),this.target.addUpdatePositionTag(),this.target.addUpdateShapeAndBoundsTag()}}const tMe=(n,e,t)=>{const i=n.getFinalAttribute().points,r={x:0,y:0};return i.forEach(s=>{r.x+=s.x,r.y+=s.y}),r.x/=i.length,r.y/=i.length,e&&e.center&&(Me(e.center.x)&&(r.x=e.center.x),Me(e.center.y)&&(r.y=e.center.y)),n.type==="area"&&(r.x1=r.x,r.y1=r.y),i.map(s=>Object.assign({},s,r))},t7t=(n,e,t)=>{const i=n.getFinalAttribute();return{from:{points:tMe(n,e)},to:{points:i.points}}};class Y1 extends Dr{constructor(e,t,i,r,s){super(e,t,i,r,s)}onUpdate(e,t,i){var r,s;const a=(r=this.from)===null||r===void 0?void 0:r.points,o=(s=this.to)===null||s===void 0?void 0:s.points;a&&o&&(this.target.attribute.points=a.map((l,u)=>zF(a[u],o[u],t)),this.target.addUpdatePositionTag(),this.target.addUpdateShapeAndBoundsTag())}}class n7t extends Y1{onBind(){var e;if(super.onBind(),["area","line","polygon"].includes(this.target.type)){const{from:t,to:i}=t7t(this.target,this.params.options,this.params);this.props=i,this.propKeys=Object.keys(i).filter(s=>i[s]!=null),this.from=t,this.to=i;const r=this.target.getFinalAttribute();r&&this.target.setAttributes(r),((e=this.params.controlOptions)===null||e===void 0?void 0:e.immediatelyApply)!==!1&&this.target.setAttributes(t)}else this.valid=!1}}class nMe extends Y1{onBind(){if(super.onBind(),["area","line"].includes(this.target.type)){const i=this.target.getFinalAttribute(),{from:r,to:s}=(e=this.target,t=this.params.options,this.params,{from:{points:e.getFinalAttribute().points},to:{points:tMe(e,t)}});this.props=s,this.propKeys=Object.keys(s).filter(a=>s[a]!=null),this.from=r||i,this.to=s}else this.valid=!1;var e,t}}const iMe=(n,e,t)=>n.getFinalAttribute().points.map(i=>{if(e&&e.orient==="negative"){let r=n.stage.viewWidth;return n.parent.parent.parent&&(r=n.parent.parent.parent.AABBBounds.width()),Object.assign(Object.assign({},i),{x:r,y:i.y,x1:r,y1:i.y1,defined:i.defined!==!1})}return Object.assign(Object.assign({},i),{x:0,y:i.y,x1:0,y1:i.y1,defined:i.defined!==!1})}),i7t=(n,e,t)=>{const i=n.getFinalAttribute();return{from:{points:iMe(n,e)},to:{points:i.points}}};class r7t extends Y1{onBind(){var e;if(super.onBind(),["area","line","polygon"].includes(this.target.type)){const{from:t,to:i}=i7t(this.target,this.params.options,this.params);this.props=i,this.propKeys=Object.keys(i).filter(s=>i[s]!=null),this.from=t,this.to=i;const r=this.target.getFinalAttribute();r&&this.target.setAttributes(r),((e=this.params.controlOptions)===null||e===void 0?void 0:e.immediatelyApply)!==!1&&this.target.setAttributes(t)}else this.valid=!1}}class s7t extends Y1{onBind(){if(super.onBind(),["area","line"].includes(this.target.type)){const i=this.target.getFinalAttribute(),{from:r,to:s}=(e=this.target,t=this.params.options,this.params,{from:{points:e.getFinalAttribute().points},to:{points:iMe(e,t)}});this.props=s,this.propKeys=Object.keys(s).filter(a=>s[a]!=null),this.from=r||i,this.to=s}else this.valid=!1;var e,t}}const rMe=(n,e,t)=>n.getFinalAttribute().points.map(i=>{if(e&&e.orient==="negative"){let r=n.stage.viewHeight;return n.parent.parent.parent&&(r=n.parent.parent.parent.AABBBounds.height()),Object.assign(Object.assign({},i),{x:i.x,y:r,x1:i.x1,y1:r,defined:i.defined!==!1})}return Object.assign(Object.assign({},i),{x:i.x,y:0,x1:i.x1,y1:0,defined:i.defined!==!1})}),a7t=(n,e,t)=>{const i=n.getFinalAttribute();return{from:{points:rMe(n,e)},to:{points:i.points}}};class o7t extends Y1{onBind(){var e;if(super.onBind(),["area","line","polygon"].includes(this.target.type)){const{from:t,to:i}=a7t(this.target,this.params.options,this.params);this.props=i,this.propKeys=Object.keys(i).filter(s=>i[s]!=null),this.from=t,this.to=i;const r=this.target.getFinalAttribute();r&&this.target.setAttributes(r),((e=this.params.controlOptions)===null||e===void 0?void 0:e.immediatelyApply)!==!1&&this.target.setAttributes(t)}else this.valid=!1}}class l7t extends Y1{onBind(){if(super.onBind(),["area","line","polygon"].includes(this.target.type)){const{from:i,to:r}=(e=this.target,t=this.params.options,this.params,{from:{points:e.getFinalAttribute().points},to:{points:rMe(e,t)}});this.props=r,this.propKeys=Object.keys(r).filter(s=>r[s]!=null),this.from=i??this.target.attribute,this.to=r}else this.valid=!1;var e,t}}const u7t=(n,e,t)=>{const i=n.getFinalAttribute();return e&&e.orient==="inside"?{from:{innerRadius:i==null?void 0:i.outerRadius},to:{innerRadius:i==null?void 0:i.innerRadius}}:{from:{outerRadius:i==null?void 0:i.innerRadius},to:{outerRadius:i==null?void 0:i.outerRadius}}},c7t=(n,e,t)=>{const i=n.getFinalAttribute(),r=st(e==null?void 0:e.overall)?e.overall:0;return{from:{innerRadius:r,outerRadius:r},to:{innerRadius:i==null?void 0:i.innerRadius,outerRadius:i==null?void 0:i.outerRadius}}},d7t=(n,e,t)=>{var i;return((i=e==null?void 0:e.overall)!==null&&i!==void 0&&i)!==!1?c7t(n,e):u7t(n,e)},h7t=(n,e,t)=>{const i=n.getFinalAttribute();return e&&e.orient==="inside"?{from:{innerRadius:i==null?void 0:i.innerRadius},to:{innerRadius:i==null?void 0:i.outerRadius}}:{from:{outerRadius:i==null?void 0:i.outerRadius},to:{outerRadius:i==null?void 0:i.innerRadius}}},f7t=(n,e,t)=>{const i=n.getFinalAttribute(),r=st(e==null?void 0:e.overall)?e.overall:0;return{from:{innerRadius:i==null?void 0:i.innerRadius,outerRadius:i==null?void 0:i.outerRadius},to:{innerRadius:r,outerRadius:r}}};class sMe extends Dr{constructor(e,t,i,r,s){super(e,t,i,r,s)}onUpdate(e,t,i){const r=this.target.attribute;this.propKeys.forEach(s=>{r[s]=this.from[s]+(this.to[s]-this.from[s])*t}),this.target.addUpdatePositionTag(),this.target.addUpdateShapeAndBoundsTag()}}class p7t extends sMe{onBind(){var e,t,i;super.onBind();const{from:r,to:s}=d7t(this.target,this.params.options,this.params),a=(t=(e=this.target.context)===null||e===void 0?void 0:e.lastAttrs)!==null&&t!==void 0?t:r;this.props=s,this.propKeys=Object.keys(s).filter(l=>s[l]!=null),this.from=a,this.to=s;const o=this.target.getFinalAttribute();o&&this.target.setAttributes(o),((i=this.params.controlOptions)===null||i===void 0?void 0:i.immediatelyApply)!==!1&&this.target.setAttributes(a)}}class g7t extends sMe{onBind(){super.onBind();const{to:e}=(t=this.target,i=this.params.options,this.params,((r=i==null?void 0:i.overall)!==null&&r!==void 0&&r)!==!1?f7t(t,i):h7t(t,i));var t,i,r;this.props=e,this.propKeys=Object.keys(e).filter(s=>e[s]!=null),this.from=this.target.attribute,this.to=e}}function m7t(n,e,t){const i=n.getFinalAttribute(),r=i.x,s=i.x1,a=i.width;if(e&&e.orient==="negative"){const l=Y(a)?Math.max(r,r+a):Math.max(r,s);return{from:{x:l,x1:J(s)?void 0:l,width:J(a)?void 0:0},to:{x:r,x1:s,width:a}}}const o=Y(a)?Math.min(r,r+a):Math.min(r,s);return{from:{x:o,x1:J(s)?void 0:o,width:J(a)?void 0:0},to:{x:r,x1:s,width:a}}}function v7t(n,e,t){var i;const r=n.getFinalAttribute(),s=r.x,a=r.x1,o=r.width;let l;return e&&e.orient==="negative"?st(e.overall)?l=e.overall:t.group?(l=(i=t.groupWidth)!==null&&i!==void 0?i:t.group.getBounds().width(),t.groupWidth=l):l=t.width:l=st(e==null?void 0:e.overall)?e==null?void 0:e.overall:0,{from:{x:l,x1:J(a)?void 0:l,width:J(o)?void 0:0},to:{x:s,x1:a,width:o}}}const y7t=(n,e,t)=>{var i;return((i=e==null?void 0:e.overall)!==null&&i!==void 0&&i)!==!1?v7t(n,e,t):m7t(n,e)};function _7t(n,e,t){const i=n.getFinalAttribute(),r=i.x,s=i.x1,a=i.width;if(e&&e.orient==="negative"){const l=Y(a)?Math.max(r,r+a):Math.max(r,s);return{to:{x:l,x1:J(s)?void 0:l,width:J(a)?void 0:0}}}const o=Y(a)?Math.min(r,r+a):Math.min(r,s);return{to:{x:o,x1:J(s)?void 0:o,width:J(a)?void 0:0}}}function b7t(n,e,t){var i;const r=n.getFinalAttribute(),s=r.x1,a=r.width;let o;return e&&e.orient==="negative"?st(e.overall)?o=e.overall:t.group?(o=(i=t.groupWidth)!==null&&i!==void 0?i:t.group.getBounds().width(),t.groupWidth=o):o=t.width:o=st(e==null?void 0:e.overall)?e.overall:0,{to:{x:o,x1:J(s)?void 0:o,width:J(a)?void 0:0}}}class S7t extends Dr{constructor(e,t,i,r,s){super(e,t,i,r,s)}onBind(){var e,t,i;super.onBind();const{from:r,to:s}=y7t(this.target,this.params.options,this.params),a=(t=(e=this.target.context)===null||e===void 0?void 0:e.lastAttrs)!==null&&t!==void 0?t:r;this.props=s,this.propKeys=Object.keys(s).filter(l=>s[l]!=null),this.from=a,this.to=s;const o=this.target.getFinalAttribute();o&&this.target.setAttributes(o),((i=this.params.controlOptions)===null||i===void 0?void 0:i.immediatelyApply)!==!1&&this.target.setAttributes(a)}onEnd(e){super.onEnd(e)}onUpdate(e,t,i){const r=this.target.attribute;this.propKeys.forEach(s=>{r[s]=this.from[s]+(this.to[s]-this.from[s])*t}),this.target.addUpdatePositionTag(),this.target.addUpdateShapeAndBoundsTag()}}class x7t extends Dr{constructor(e,t,i,r,s){super(e,t,i,r,s)}onBind(){super.onBind();const{from:e,to:t}=(i=this.target,r=this.params.options,s=this.params,((a=r==null?void 0:r.overall)!==null&&a!==void 0&&a)!==!1?b7t(i,r,s):_7t(i,r));var i,r,s,a;this.props=t,this.propKeys=Object.keys(t).filter(o=>t[o]!=null),this.from=e??this.target.attribute,this.to=t}onEnd(e){super.onEnd(e)}onUpdate(e,t,i){const r=this.target.attribute;this.propKeys.forEach(s=>{r[s]=this.from[s]+(this.to[s]-this.from[s])*t}),this.target.addUpdatePositionTag(),this.target.addUpdateShapeAndBoundsTag()}}class w7t extends Dr{constructor(e,t,i,r,s){super(e,t,i,r,s)}onBind(){var e,t,i,r,s,a,o,l,u,c,d;let h,f;super.onBind();const p=this.target.getFinalAttribute(),g=(e=this.target.attribute)!==null&&e!==void 0?e:{};switch((t=this.params)===null||t===void 0?void 0:t.direction){case"x":h={scaleX:(i=g.scaleX)!==null&&i!==void 0?i:0},f={scaleX:(r=p==null?void 0:p.scaleX)!==null&&r!==void 0?r:1},this._updateFunction=this.updateX;break;case"y":h={scaleY:(s=g.scaleY)!==null&&s!==void 0?s:0},f={scaleY:(a=p==null?void 0:p.scaleY)!==null&&a!==void 0?a:1},this._updateFunction=this.updateY;break;default:h={scaleX:(o=g.scaleX)!==null&&o!==void 0?o:0,scaleY:(l=g.scaleY)!==null&&l!==void 0?l:0},f={scaleX:(u=p==null?void 0:p.scaleX)!==null&&u!==void 0?u:1,scaleY:(c=p==null?void 0:p.scaleY)!==null&&c!==void 0?c:1},this._updateFunction=this.updateXY}const m=this.target.getFinalAttribute();m&&this.target.setAttributes(m),this.props=f,this.from=h,this.to=f,((d=this.params.controlOptions)===null||d===void 0?void 0:d.immediatelyApply)!==!1&&this.target.setAttributes(h)}onEnd(e){super.onEnd(e)}updateX(e){this.target.attribute.scaleX=this.from.scaleX+(this.to.scaleX-this.from.scaleX)*e}updateY(e){this.target.attribute.scaleY=this.from.scaleY+(this.to.scaleY-this.from.scaleY)*e}updateXY(e){this.updateX(e),this.updateY(e)}deleteSelfAttr(e){delete this.props[e],this.fromProps&&delete this.fromProps[e];const t=this.propKeys.indexOf(e);t!==-1&&this.propKeys.splice(t,1),this.propKeys&&this.propKeys.length>1?this._updateFunction=this.updateXY:this.propKeys[0]==="scaleX"?this._updateFunction=this.updateX:this.propKeys[0]==="scaleY"?this._updateFunction=this.updateY:this._updateFunction=null}onUpdate(e,t,i){this._updateFunction&&(this._updateFunction(t),this.target.addUpdatePositionTag(),this.target.addUpdateBoundTag())}}class C7t extends Dr{constructor(e,t,i,r,s){super(e,t,i,r,s)}onBind(){var e,t,i,r,s;let a,o;super.onBind();const l=this.target.attribute;switch((e=this.params)===null||e===void 0?void 0:e.direction){case"x":a={scaleX:(t=l==null?void 0:l.scaleX)!==null&&t!==void 0?t:1},o={scaleX:0};break;case"y":a={scaleY:(i=l==null?void 0:l.scaleY)!==null&&i!==void 0?i:1},o={scaleY:0};break;default:a={scaleX:(r=l==null?void 0:l.scaleX)!==null&&r!==void 0?r:1,scaleY:(s=l==null?void 0:l.scaleY)!==null&&s!==void 0?s:1},o={scaleX:0,scaleY:0}}this.props=o,this.from=a,this.to=o}onEnd(e){super.onEnd(e)}onUpdate(e,t,i){const r=this.target.attribute;this.propKeys.forEach(s=>{r[s]=this.from[s]+(this.to[s]-this.from[s])*t}),this.target.addUpdatePositionTag(),this.target.addUpdateBoundTag()}}class T7t extends Dr{constructor(e,t,i,r,s){super(e,t,i,r,s)}update(e,t,i){if(this.onStart(),!this.props||!this.propKeys)return;const r=this.easing(t);this.animate.interpolateUpdateFunction?this.animate.interpolateUpdateFunction(this.fromProps,this.props,r,this,this.target):this.interpolateUpdateFunctions.forEach((s,a)=>{if(!this.animate.validAttr(this.propKeys[a]))return;const o=this.propKeys[a];s(o,this.fromProps[o],this.props[o],r,this,this.target)}),this.onUpdate(e,r,i),this.syncAttributeUpdate()}}class E7t extends Dr{constructor(e,t,i,r,s){super(e,t,i,r,s)}onBind(){var e,t;super.onBind();let{diffAttrs:i={}}=(e=this.target.context)!==null&&e!==void 0?e:{};const{options:r}=this.params;i=Object.assign({},i),!((t=r==null?void 0:r.excludeChannels)===null||t===void 0)&&t.length&&r.excludeChannels.forEach(s=>{delete i[s]}),this.props=i}update(e,t,i){if(this.onStart(),!this.props||!this.propKeys)return;const r=this.easing(t);this.animate.interpolateUpdateFunction?this.animate.interpolateUpdateFunction(this.fromProps,this.props,r,this,this.target):this.interpolateUpdateFunctions.forEach((s,a)=>{if(!this.animate.validAttr(this.propKeys[a]))return;const o=this.propKeys[a];s(o,this.fromProps[o],this.props[o],r,this,this.target)}),this.onUpdate(e,r,i)}}const A7t=(n,e,t)=>{var i,r,s,a;const{offset:o=0,orient:l,direction:u,point:c,excludeChannels:d=[],layoutRect:h={}}=e??{};let f=0,p=0;l==="negative"&&(f=(i=h.width)!==null&&i!==void 0?i:n.stage.viewWidth,p=(r=h.height)!==null&&r!==void 0?r:n.stage.viewHeight),f+=o,p+=o;const g=Re(c)?c.call(null,(a=(s=n.context)===null||s===void 0?void 0:s.data)===null||a===void 0?void 0:a[0],n,t):c,m=n.getGraphicAttribute("x"),v=n.getGraphicAttribute("y"),_=d.includes("x")?m:g&&Me(g.x)?g.x:f,y=d.includes("y")?v:g&&Me(g.y)?g.y:p;switch(u){case"x":return{from:{x:d.includes("x")?m:_},to:{x:m}};case"y":return{from:{y},to:{y:v}};default:return{from:{x:_,y},to:{x:m,y:v}}}},k7t=(n,e,t)=>{var i,r,s,a;const{offset:o=0,orient:l,direction:u,point:c}=e??{},d=t.group?t.group.AABBBounds:null,h=(i=d.width())!==null&&i!==void 0?i:t.width,f=(r=d.height())!==null&&r!==void 0?r:t.height,p=(l==="negative"?h:0)+o,g=(l==="negative"?f:0)+o,m=Re(c)?c.call(null,(a=(s=n.context)===null||s===void 0?void 0:s.data)===null||a===void 0?void 0:a[0],n,t):c,v=m&&Me(m.x)?m.x:p,_=m&&Me(m.y)?m.y:g;switch(u){case"x":return{from:{x:n.getGraphicAttribute("x")},to:{x:v}};case"y":return{from:{y:n.getGraphicAttribute("y")},to:{y:_}};default:return{from:{x:n.getGraphicAttribute("x"),y:n.getGraphicAttribute("y")},to:{x:v,y:_}}}};class aMe extends Dr{constructor(e,t,i,r,s){super(e,t,i,r,s)}onUpdate(e,t,i){const r=this.target.attribute;this.propKeys.forEach(s=>{r[s]=this.from[s]+(this.to[s]-this.from[s])*t}),this.target.addUpdatePositionTag(),this.target.addUpdateShapeAndBoundsTag()}}class O7t extends aMe{onBind(){var e;super.onBind();const{from:t,to:i}=A7t(this.target,this.params.options,this.params);this.props=i,this.propKeys=Object.keys(i).filter(s=>i[s]!=null),this.from=t,this.to=i;const r=this.target.getFinalAttribute();r&&this.target.setAttributes(r),((e=this.params.controlOptions)===null||e===void 0?void 0:e.immediatelyApply)!==!1&&this.target.setAttributes(t)}}class P7t extends aMe{onBind(){super.onBind();const{from:e,to:t}=k7t(this.target,this.params.options,this.params);this.props=t,this.propKeys=Object.keys(t).filter(i=>t[i]!=null),this.from=e,this.to=t}}const M7t=(n,e)=>{var t;const i=(t=n.getFinalAttribute().angle)!==null&&t!==void 0?t:0;let r=0;return r=zs(i/(2*Math.PI),0)?Math.round(i/(2*Math.PI))*Math.PI*2:Me(e==null?void 0:e.angle)?e.angle:(e==null?void 0:e.orient)==="anticlockwise"?Math.ceil(i/(2*Math.PI))*Math.PI*2:Math.floor(i/(2*Math.PI))*Math.PI*2,{from:{angle:r},to:{angle:i}}},I7t=(n,e)=>{var t;const i=(t=n.getFinalAttribute().angle)!==null&&t!==void 0?t:0;let r=0;return r=zs(i/(2*Math.PI),0)?Math.round(i/(2*Math.PI))*Math.PI*2:Me(e==null?void 0:e.angle)?e.angle:(e==null?void 0:e.orient)==="anticlockwise"?Math.ceil(i/(2*Math.PI))*Math.PI*2:Math.floor(i/(2*Math.PI))*Math.PI*2,{from:{angle:i},to:{angle:r}}};class oMe extends Dr{constructor(e,t,i,r,s){super(e,t,i,r,s)}onUpdate(e,t,i){const r=this.target.attribute;this.propKeys.forEach(s=>{r[s]=this.from[s]+(this.to[s]-this.from[s])*t}),this.target.addUpdatePositionTag(),this.target.addUpdateShapeAndBoundsTag()}}class R7t extends oMe{onBind(){var e;super.onBind();const{from:t,to:i}=M7t(this.target,this.params.options);this.props=i,this.propKeys=["angle"],this.from=t,this.to=i;const r=this.target.getFinalAttribute();r&&this.target.setAttributes(r),((e=this.params.controlOptions)===null||e===void 0?void 0:e.immediatelyApply)!==!1&&this.target.setAttributes(t)}}class D7t extends oMe{onBind(){super.onBind();const{from:e,to:t}=I7t(this.target,this.params.options);this.props=t,this.propKeys=["angle"],this.from=e,this.to=t}}class L7t extends Dr{constructor(e,t,i,r,s){super(e,t,i,r,s),this.from=e??{}}onBind(){var e,t;super.onBind(),Object.keys(this.from).forEach(r=>{this.props[r]==null&&(this.props[r]=this.target.getGraphicAttribute(r))});const i=this.target.getFinalAttribute();((e=this.target.context)===null||e===void 0?void 0:e.animationState)==="appear"&&i&&this.target.setAttributes(i),((t=this.params.controlOptions)===null||t===void 0?void 0:t.immediatelyApply)!==!1&&this.target.setAttributes(this.from)}onFirstRun(){this.from=Object.assign(Object.assign({},this.getLastProps()),this.from);const e=this.animate.getStartProps();this.propKeys&&this.propKeys.forEach(t=>{var i;this.from[t]=(i=this.from[t])!==null&&i!==void 0?i:e[t]}),this.target.setAttributes(this.from)}deleteSelfAttr(e){super.deleteSelfAttr(e),delete this.from[e]}update(e,t,i){if(this.onStart(),!this.props||!this.propKeys)return;const r=this.easing(t);this.animate.interpolateUpdateFunction?this.animate.interpolateUpdateFunction(this.from,this.props,r,this,this.target):this.interpolateUpdateFunctions.forEach((s,a)=>{if(!this.animate.validAttr(this.propKeys[a]))return;const o=this.propKeys[a];s(o,this.from[o],this.props[o],r,this,this.target)}),this.onUpdate(e,r,i),this.syncAttributeUpdate()}}class AM extends jPe{constructor(e,t,i,r,s){super(e,t,i,r,s),this.webglCanvas=null,this.gl=null,this.program=null,this.currentAnimationRatio=0,this.animationTime=0}onUpdate(e,t,i){super.onUpdate(e,t,i),this.currentAnimationRatio=t,this.animationTime=t*Math.PI*2}getAnimationTime(){return this.currentAnimationRatio>0?this.animationTime:Date.now()/1e3}getDurationFromParent(){return this.duration||1e3}initWebGL(e){try{if(this.webglCanvas=un.createCanvas({width:e.width,height:e.height,dpr:un.devicePixelRatio}),!this.webglCanvas)return console.warn("WebGL canvas creation failed"),!1;this.webglCanvas.style.width=e.style.width||`${e.width}px`,this.webglCanvas.style.height=e.style.height||`${e.height}px`;let t=null;try{t=this.webglCanvas.getContext("webgl"),t||(t=this.webglCanvas.getContext("experimental-webgl"))}catch(r){console.warn("Failed to get WebGL context:",r)}if(this.gl=t,!this.gl)return console.warn("WebGL not supported"),!1;const i=this.getShaderSources();return this.program=this.createShaderProgram(i.vertex,i.fragment),this.program!==null}catch(t){return console.warn("Failed to initialize WebGL:",t),!1}}createShaderProgram(e,t){if(!this.gl)return null;const i=this.createShader(this.gl.VERTEX_SHADER,e),r=this.createShader(this.gl.FRAGMENT_SHADER,t);if(!i||!r)return null;const s=this.gl.createProgram();return s?(this.gl.attachShader(s,i),this.gl.attachShader(s,r),this.gl.linkProgram(s),this.gl.getProgramParameter(s,this.gl.LINK_STATUS)?s:(console.error("Shader program link error:",this.gl.getProgramInfoLog(s)),null)):null}createShader(e,t){if(!this.gl)return null;const i=this.gl.createShader(e);return i?(this.gl.shaderSource(i,t),this.gl.compileShader(i),this.gl.getShaderParameter(i,this.gl.COMPILE_STATUS)?i:(console.error("Shader compile error:",this.gl.getShaderInfoLog(i)),this.gl.deleteShader(i),null)):null}setupWebGLState(e){this.gl&&this.webglCanvas&&(this.webglCanvas.width===e.width&&this.webglCanvas.height===e.height||(this.webglCanvas.width=e.width,this.webglCanvas.height=e.height),this.gl.viewport(0,0,this.webglCanvas.width,this.webglCanvas.height),this.gl.clearColor(0,0,0,0),this.gl.clear(this.gl.COLOR_BUFFER_BIT))}createFullScreenQuad(){if(!this.gl)return null;const e=new Float32Array([-1,-1,0,1,1,-1,1,1,-1,1,0,0,1,1,1,0]),t=this.gl.createBuffer();return this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t),this.gl.bufferData(this.gl.ARRAY_BUFFER,e,this.gl.STATIC_DRAW),t}createTextureFromCanvas(e){if(!this.gl)return null;const t=this.gl.createTexture();return this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,t),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,e),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),t}setupVertexAttributes(){if(!this.gl||!this.program)return;const e=this.gl.getAttribLocation(this.program,"a_position"),t=this.gl.getAttribLocation(this.program,"a_texCoord");this.gl.enableVertexAttribArray(e),this.gl.vertexAttribPointer(e,2,this.gl.FLOAT,!1,16,0),this.gl.enableVertexAttribArray(t),this.gl.vertexAttribPointer(t,2,this.gl.FLOAT,!1,16,8)}createOutputCanvas(e){const t=un.createCanvas({width:e.width,height:e.height,dpr:un.devicePixelRatio}),i=t.getContext("2d");return i?(i.clearRect(0,0,e.width,e.height),i.drawImage(e,0,0),{canvas:t,ctx:i}):null}getShaderSources(){return null}applyWebGLEffect(e){return null}applyCanvas2DEffect(e){return null}supportsWebGL(){return this.getShaderSources()!==null}supportsCanvas2D(){return this.applyCanvas2DEffect!==AM.prototype.applyCanvas2DEffect}release(){super.release(),this.gl&&(this.program&&(this.gl.deleteProgram(this.program),this.program=null),this.gl=null),this.webglCanvas&&(this.webglCanvas=null),this.currentAnimationRatio=0,this.animationTime=0}afterStageRender(e,t){let i=null;if(this.supportsWebGL()&&(this.gl||this.initWebGL(t)||console.warn("WebGLCanvas 2D"),this.gl)){if(i=this.applyWebGLEffect(t),i)return i;console.warn("WebGLCanvas 2D")}if(this.supportsCanvas2D()){if(i=this.applyCanvas2DEffect(t),i)return i;console.warn("Canvas 2D")}return this.supportsWebGL()||this.supportsCanvas2D()||console.error(` ${this.constructor.name}  applyWebGLEffect  applyCanvas2DEffect `),t}}class F7t extends AM{constructor(e,t,i,r,s){super(e,t,i,r,s)}getShaderSources(){return null}applyWebGLEffect(e){return null}}class S0 extends AM{constructor(e,t,i,r,s){super(e,t,i,r,s)}getShaderSources(){return null}applyWebGLEffect(e){return null}applyCanvas2DEffect(e){return null}supportsWebGL(){return this.getShaderSources!==S0.prototype.getShaderSources&&this.getShaderSources()!==null}supportsCanvas2D(){return this.applyCanvas2DEffect!==S0.prototype.applyCanvas2DEffect}afterStageRender(e,t){var i,r;let s=null;if(((r=(i=this.params)===null||i===void 0?void 0:i.options)===null||r===void 0?void 0:r.useWebGL)!==!1){if(this.supportsWebGL()&&(this.gl||this.initWebGL(t)||console.warn("WebGLCanvas 2D"),this.gl)){if(s=this.applyWebGLEffect(t),s)return s;console.warn("WebGLCanvas 2D")}if(this.supportsCanvas2D()){if(s=this.applyCanvas2DEffect(t),s)return s;console.warn("Canvas 2D")}}else if(this.supportsCanvas2D()){if(s=this.applyCanvas2DEffect(t),s)return s;console.warn("Canvas 2D")}else console.warn(`${this.constructor.name}: useWebGL=false Canvas 2D`);return this.supportsWebGL()||this.supportsCanvas2D()||console.error(` ${this.constructor.name}  applyWebGLEffect  applyCanvas2DEffect `),t}}class zr{static createTempCanvas(e,t,i){return un.createCanvas({width:e,height:t,dpr:i||un.devicePixelRatio})}static cloneImageData(e){const t=new Uint8ClampedArray(e.data);return new ImageData(t,e.width,e.height)}static lerp(e,t,i){return e*(1-i)+t*i}static smoothstep(e,t,i){const r=Math.max(0,Math.min(1,(i-e)/(t-e)));return r*r*(3-2*r)}static distance(e,t,i,r){const s=i-e,a=r-t;return Math.sqrt(s*s+a*a)}static normalizeAngle(e){return(e+Math.PI)/(2*Math.PI)}static pixelNoise(e,t,i){if(i<=0)return 0;const r=Math.floor(e/i)*i,s=Math.floor(t/i)*i,a=43758.5453*Math.sin(12.9898*r+78.233*s);return a-Math.floor(a)}static generateNoiseTexture(e,t){const i=new Uint8Array(e*t);for(let r=0;r<i.length;r++)i[r]=Math.floor(256*Math.random());return i}static applyCSSFilter(e,t){const i=this.createTempCanvas(e.width,e.height),r=i.getContext("2d");return r?(r.filter=t,r.drawImage(e,0,0),r.filter="none",i):e}static extractChannel(e,t){const{data:i,width:r,height:s}=e,a=new Uint8ClampedArray(i.length);for(let o=0;o<i.length;o+=4)a[o]=0,a[o+1]=0,a[o+2]=0,a[o+3]=i[o+3],t>=0&&t<=2&&(a[o+t]=i[o+t]);return new ImageData(a,r,s)}static blendImageData(e,t,i){const{data:r,width:s,height:a}=e,{data:o}=t,l=new Uint8ClampedArray(r.length);for(let u=0;u<r.length;u+=4)l[u]=Math.round(this.lerp(r[u],o[u],i)),l[u+1]=Math.round(this.lerp(r[u+1],o[u+1],i)),l[u+2]=Math.round(this.lerp(r[u+2],o[u+2],i)),l[u+3]=Math.round(this.lerp(r[u+3],o[u+3],i));return new ImageData(l,s,a)}static getLuminance(e,t,i){return .299*e+.587*t+.114*i}static applySepiaToPixel(e,t,i){return[Math.min(255,.393*e+.769*t+.189*i),Math.min(255,.349*e+.686*t+.168*i),Math.min(255,.272*e+.534*t+.131*i)]}static calculateDynamicStrength(e,t){return e*(t/(2*Math.PI))}}class NC{}NC.STANDARD_VERTEX_SHADER=`
    attribute vec2 a_position;
    attribute vec2 a_texCoord;
    varying vec2 v_texCoord;

    void main() {
      gl_Position = vec4(a_position, 0.0, 1.0);
      v_texCoord = a_texCoord;
    }
  `,NC.SHADER_FUNCTIONS=`
    // 
    float luminance(vec3 color) {
      return dot(color, vec3(0.299, 0.587, 0.114));
    }

    // 
    vec3 sepia(vec3 color) {
      float r = color.r * 0.393 + color.g * 0.769 + color.b * 0.189;
      float g = color.r * 0.349 + color.g * 0.686 + color.b * 0.168;
      float b = color.r * 0.272 + color.g * 0.534 + color.b * 0.131;
      return vec3(r, g, b);
    }

    // 
    float lerp(float a, float b, float t) {
      return a * (1.0 - t) + b * t;
    }


    // 
    float pixelNoise(vec2 coord, float pixelSize) {
      vec2 gridCoord = floor(coord / pixelSize) * pixelSize;
      return fract(sin(dot(gridCoord, vec2(12.9898, 78.233))) * 43758.5453123);
    }

    // 
    float calculateDynamicStrength(float baseStrength, float time) {
      return baseStrength * (time / 6.28318531); // 2
    }
  `;class B7t extends S0{constructor(e,t,i,r,s){var a,o,l,u;super(e,t,i,r,s),this.noiseData=null;const c=(a=s==null?void 0:s.options)===null||a===void 0?void 0:a.noiseScale,d=c!==void 0?Math.max(0,Math.floor(c)):8;this.dissolveConfig={dissolveType:((o=s==null?void 0:s.options)===null||o===void 0?void 0:o.dissolveType)||"outward",useWebGL:((l=s==null?void 0:s.options)===null||l===void 0?void 0:l.useWebGL)===void 0||s.options.useWebGL,noiseScale:d,fadeEdge:((u=s==null?void 0:s.options)===null||u===void 0?void 0:u.fadeEdge)===void 0||s.options.fadeEdge}}getShaderSources(){return{vertex:NC.STANDARD_VERTEX_SHADER,fragment:`
      precision mediump float;
      uniform sampler2D u_texture;
      uniform sampler2D u_noiseTexture;
      uniform float u_time;
      uniform int u_dissolveType;
      uniform vec2 u_resolution;
      uniform float u_noiseScale;
      uniform bool u_fadeEdge;
      varying vec2 v_texCoord;

      ${NC.SHADER_FUNCTIONS}

      // 
      float outwardDissolve(vec2 uv, float time, float pixelSize, vec2 resolution) {
        vec2 center = vec2(0.5, 0.5);
        float distFromCenter = length(uv - center);
        float maxDist = length(vec2(0.5, 0.5));

        //  (01)
        float normalizedDist = distFromCenter / maxDist;

        // time
        // 
        float edgeThreshold = 1.2 - time * 1.5;

        // pixelSize > 0
        if (pixelSize > 0.0) {
          // 
          vec2 pixelCoord = uv * resolution; // 
          float noiseValue = pixelNoise(pixelCoord, pixelSize);
          float noiseInfluence = (noiseValue - 0.5) * 0.4; // 
          edgeThreshold += noiseInfluence;
          return normalizedDist > edgeThreshold ? 0.0 : 1.0;
        } else {
          // fadeEdge
          if (u_fadeEdge) {
            // 
            float fadeWidth = 0.15; // 
            return 1.0 - smoothstep(edgeThreshold - fadeWidth, edgeThreshold, normalizedDist);
          } else {
            // 01
            return normalizedDist > edgeThreshold ? 0.0 : 1.0;
          }
        }
      }

      // 
      float inwardDissolve(vec2 uv, float time, float pixelSize, vec2 resolution) {
        vec2 center = vec2(0.5, 0.5);
        float distFromCenter = length(uv - center);
        float maxDist = length(vec2(0.5, 0.5));

        float normalizedDist = distFromCenter / maxDist;

        // time
        // 
        float centerThreshold = time * 1.4;

        // pixelSize > 0
        if (pixelSize > 0.0) {
          vec2 pixelCoord = uv * resolution;
          float noiseValue = pixelNoise(pixelCoord, pixelSize);
          float noiseInfluence = (noiseValue - 0.5) * 0.4;
          centerThreshold += noiseInfluence;
          return normalizedDist < centerThreshold ? 0.0 : 1.0;
        } else {
          // fadeEdge
          if (u_fadeEdge) {
            // 
            float fadeWidth = 0.15; // 
            return smoothstep(centerThreshold, centerThreshold + fadeWidth, normalizedDist);
          } else {
            // 01
            return normalizedDist < centerThreshold ? 0.0 : 1.0;
          }
        }
      }

      // 
      float radialDissolve(vec2 uv, float time, float pixelSize, vec2 resolution) {
        vec2 center = vec2(0.5, 0.5);
        float angle = atan(uv.y - center.y, uv.x - center.x);
        float normalizedAngle = (angle + 3.14159) / (2.0 * 3.14159);

        // time
        // 
        float angleThreshold = time * 1.2;

        // pixelSize > 0
        if (pixelSize > 0.0) {
          vec2 pixelCoord = uv * resolution;
          float noiseValue = pixelNoise(pixelCoord, pixelSize);
          float noiseInfluence = (noiseValue - 0.5) * 0.3;
          angleThreshold += noiseInfluence;
          return normalizedAngle < angleThreshold ? 0.0 : 1.0;
        } else {
          // fadeEdge
          if (u_fadeEdge) {
            // 
            float fadeWidth = 0.08; // 
            return smoothstep(angleThreshold, angleThreshold + fadeWidth, normalizedAngle);
          } else {
            // 01
            return normalizedAngle < angleThreshold ? 0.0 : 1.0;
          }
        }
      }

      // 
      float leftToRightDissolve(vec2 uv, float time, float pixelSize, vec2 resolution) {
        // x=0x=1
        float dissolvePosition = time * 1.2; // 

        // pixelSize > 0
        if (pixelSize > 0.0) {
          vec2 pixelCoord = uv * resolution;
          float noiseValue = pixelNoise(pixelCoord, pixelSize);
          float noiseInfluence = (noiseValue - 0.5) * 0.3;
          dissolvePosition += noiseInfluence;
          return uv.x < dissolvePosition ? 0.0 : 1.0;
        } else {
          // fadeEdge
          if (u_fadeEdge) {
            // 
            float fadeWidth = 0.08; // 
            return smoothstep(dissolvePosition, dissolvePosition + fadeWidth, uv.x);
          } else {
            // 01
            return uv.x < dissolvePosition ? 0.0 : 1.0;
          }
        }
      }

      // 
      float rightToLeftDissolve(vec2 uv, float time, float pixelSize, vec2 resolution) {
        // x=1x=0
        float dissolvePosition = 1.0 - time * 1.2; // 

        // pixelSize > 0
        if (pixelSize > 0.0) {
          vec2 pixelCoord = uv * resolution;
          float noiseValue = pixelNoise(pixelCoord, pixelSize);
          float noiseInfluence = (noiseValue - 0.5) * 0.3;
          dissolvePosition += noiseInfluence;
          return uv.x > dissolvePosition ? 0.0 : 1.0;
        } else {
          // fadeEdge
          if (u_fadeEdge) {
            // 
            float fadeWidth = 0.08; // 
            return smoothstep(dissolvePosition - fadeWidth, dissolvePosition, uv.x);
          } else {
            // 01
            return uv.x > dissolvePosition ? 0.0 : 1.0;
          }
        }
      }

      // 
      float topToBottomDissolve(vec2 uv, float time, float pixelSize, vec2 resolution) {
        // y=0y=1
        float dissolvePosition = time * 1.2; // 

        // pixelSize > 0
        if (pixelSize > 0.0) {
          vec2 pixelCoord = uv * resolution;
          float noiseValue = pixelNoise(pixelCoord, pixelSize);
          float noiseInfluence = (noiseValue - 0.5) * 0.3;
          dissolvePosition += noiseInfluence;
          return uv.y < dissolvePosition ? 0.0 : 1.0;
        } else {
          // fadeEdge
          if (u_fadeEdge) {
            // 
            float fadeWidth = 0.08; // 
            return smoothstep(dissolvePosition, dissolvePosition + fadeWidth, uv.y);
          } else {
            // 01
            return uv.y < dissolvePosition ? 0.0 : 1.0;
          }
        }
      }

      // 
      float bottomToTopDissolve(vec2 uv, float time, float pixelSize, vec2 resolution) {
        // y=1y=0
        float dissolvePosition = 1.0 - time * 1.2; // 

        // pixelSize > 0
        if (pixelSize > 0.0) {
          vec2 pixelCoord = uv * resolution;
          float noiseValue = pixelNoise(pixelCoord, pixelSize);
          float noiseInfluence = (noiseValue - 0.5) * 0.3;
          dissolvePosition += noiseInfluence;
          return uv.y > dissolvePosition ? 0.0 : 1.0;
        } else {
          // fadeEdge
          if (u_fadeEdge) {
            // 
            float fadeWidth = 0.08; // 
            return smoothstep(dissolvePosition - fadeWidth, dissolvePosition, uv.y);
          } else {
            // 01
            return uv.y > dissolvePosition ? 0.0 : 1.0;
          }
        }
      }

      void main() {
        vec2 uv = v_texCoord;
        vec4 texColor = texture2D(u_texture, uv);

        float alpha = 1.0;

        // 
        if (u_dissolveType == 0) {
          alpha = outwardDissolve(uv, u_time, u_noiseScale, u_resolution);
        } else if (u_dissolveType == 1) {
          alpha = inwardDissolve(uv, u_time, u_noiseScale, u_resolution);
        } else if (u_dissolveType == 2) {
          alpha = radialDissolve(uv, u_time, u_noiseScale, u_resolution);
        } else if (u_dissolveType == 3) {
          alpha = leftToRightDissolve(uv, u_time, u_noiseScale, u_resolution);
        } else if (u_dissolveType == 4) {
          alpha = rightToLeftDissolve(uv, u_time, u_noiseScale, u_resolution);
        } else if (u_dissolveType == 5) {
          alpha = topToBottomDissolve(uv, u_time, u_noiseScale, u_resolution);
        } else if (u_dissolveType == 6) {
          alpha = bottomToTopDissolve(uv, u_time, u_noiseScale, u_resolution);
        }

        gl_FragColor = vec4(texColor.rgb, texColor.a * alpha);
      }
    `}}applyWebGLEffect(e){if(!this.gl||!this.program||!this.webglCanvas)return e;this.setupWebGLState(e);const t=this.createTextureFromCanvas(e);if(!t)return e;this.noiseData||(this.noiseData=zr.generateNoiseTexture(256,256));const i=this.gl.createTexture();this.gl.activeTexture(this.gl.TEXTURE1),this.gl.bindTexture(this.gl.TEXTURE_2D,i),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.LUMINANCE,256,256,0,this.gl.LUMINANCE,this.gl.UNSIGNED_BYTE,this.noiseData),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.REPEAT),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.REPEAT),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR);const r=this.createFullScreenQuad();return r?(this.gl.useProgram(this.program),this.setupVertexAttributes(),this.setUniforms(),this.gl.enable(this.gl.BLEND),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.gl.deleteTexture(t),this.gl.deleteTexture(i),this.gl.deleteBuffer(r),this.webglCanvas):e}setUniforms(){if(!this.gl||!this.program||!this.webglCanvas)return;const e=this.gl.getUniformLocation(this.program,"u_texture"),t=this.gl.getUniformLocation(this.program,"u_noiseTexture"),i=this.gl.getUniformLocation(this.program,"u_time"),r=this.gl.getUniformLocation(this.program,"u_dissolveType"),s=this.gl.getUniformLocation(this.program,"u_resolution"),a=this.gl.getUniformLocation(this.program,"u_noiseScale"),o=this.gl.getUniformLocation(this.program,"u_fadeEdge");this.gl.uniform1i(e,0),this.gl.uniform1i(t,1),this.gl.uniform1f(i,this.currentAnimationRatio),this.gl.uniform2f(s,this.webglCanvas.width,this.webglCanvas.height),this.gl.uniform1f(a,this.dissolveConfig.noiseScale),this.gl.uniform1i(o,this.dissolveConfig.fadeEdge?1:0),this.gl.uniform1i(r,{outward:0,inward:1,radial:2,leftToRight:3,rightToLeft:4,topToBottom:5,bottomToTop:6}[this.dissolveConfig.dissolveType]||0)}applyCanvas2DEffect(e){const t=this.createOutputCanvas(e);if(!t)return e;const{canvas:i,ctx:r}=t,s=r.getImageData(0,0,e.width,e.height),a=this.currentAnimationRatio;let o;switch(this.dissolveConfig.dissolveType){case"outward":o=this.applyOutwardDissolve(s,a);break;case"inward":o=this.applyInwardDissolve(s,a);break;case"radial":o=this.applyRadialDissolve(s,a);break;case"leftToRight":o=this.applyLeftToRightDissolve(s,a);break;case"rightToLeft":o=this.applyRightToLeftDissolve(s,a);break;case"topToBottom":o=this.applyTopToBottomDissolve(s,a);break;case"bottomToTop":o=this.applyBottomToTopDissolve(s,a);break;default:o=s}return r.putImageData(o,0,0),i}applyOutwardDissolve(e,t){const{data:i,width:r,height:s}=e,a=new Uint8ClampedArray(i.length);a.set(i);const o=r/2,l=s/2,u=Math.sqrt(o*o+l*l),c=this.dissolveConfig.noiseScale;for(let d=0;d<s;d++)for(let h=0;h<r;h++){const f=h-o,p=d-l,g=Math.sqrt(f*f+p*p)/u;let m=1.2-1.4*t,v=1;if(c>0)m+=.4*(zr.pixelNoise(h,d,c)-.5),v=g>m?0:1;else if(this.dissolveConfig.fadeEdge){const y=m-.15;v=g<y?1:g>m?0:1-(g-y)/(m-y)}else v=g>m?0:1;const _=4*(d*r+h);a[_+3]=Math.floor(a[_+3]*v)}return new ImageData(a,r,s)}applyInwardDissolve(e,t){const{data:i,width:r,height:s}=e,a=new Uint8ClampedArray(i.length);a.set(i);const o=r/2,l=s/2,u=Math.sqrt(o*o+l*l),c=this.dissolveConfig.noiseScale;for(let d=0;d<s;d++)for(let h=0;h<r;h++){const f=h-o,p=d-l,g=Math.sqrt(f*f+p*p)/u;let m=1.4*t,v=1;if(c>0)m+=.4*(zr.pixelNoise(h,d,c)-.5),v=g<m?0:1;else if(this.dissolveConfig.fadeEdge){const y=m+.15;v=g<m?0:g>y?1:(g-m)/(y-m)}else v=g<m?0:1;const _=4*(d*r+h);a[_+3]=Math.floor(a[_+3]*v)}return new ImageData(a,r,s)}applyRadialDissolve(e,t){const{data:i,width:r,height:s}=e,a=new Uint8ClampedArray(i.length);a.set(i);const o=r/2,l=s/2,u=this.dissolveConfig.noiseScale;for(let c=0;c<s;c++)for(let d=0;d<r;d++){const h=d-o,f=c-l,p=(Math.atan2(f,h)+Math.PI)/(2*Math.PI);let g=1.2*t,m=1;if(u>0)g+=.3*(zr.pixelNoise(d,c,u)-.5),m=p<g?0:1;else if(this.dissolveConfig.fadeEdge){const _=g+.08;m=p<g?0:p>_?1:(p-g)/(_-g)}else m=p<g?0:1;const v=4*(c*r+d);a[v+3]=Math.floor(a[v+3]*m)}return new ImageData(a,r,s)}applyLeftToRightDissolve(e,t){const{data:i,width:r,height:s}=e,a=new Uint8ClampedArray(i.length);a.set(i);const o=this.dissolveConfig.noiseScale;for(let l=0;l<s;l++)for(let u=0;u<r;u++){const c=u/r;let d=1.2*t,h=1;if(o>0)d+=.3*(zr.pixelNoise(u,l,o)-.5),h=c<d?0:1;else if(this.dissolveConfig.fadeEdge){const p=d+.08;h=c<d?0:c>p?1:(c-d)/(p-d)}else h=c<d?0:1;const f=4*(l*r+u);a[f+3]=Math.floor(a[f+3]*h)}return new ImageData(a,r,s)}applyRightToLeftDissolve(e,t){const{data:i,width:r,height:s}=e,a=new Uint8ClampedArray(i.length);a.set(i);const o=this.dissolveConfig.noiseScale;for(let l=0;l<s;l++)for(let u=0;u<r;u++){const c=u/r;let d=1-1.2*t,h=1;if(o>0)d+=.3*(zr.pixelNoise(u,l,o)-.5),h=c>d?0:1;else if(this.dissolveConfig.fadeEdge){const p=d-.08;h=c<p?1:c>d?0:1-(c-p)/(d-p)}else h=c>d?0:1;const f=4*(l*r+u);a[f+3]=Math.floor(a[f+3]*h)}return new ImageData(a,r,s)}applyTopToBottomDissolve(e,t){const{data:i,width:r,height:s}=e,a=new Uint8ClampedArray(i.length);a.set(i);const o=this.dissolveConfig.noiseScale;for(let l=0;l<s;l++)for(let u=0;u<r;u++){const c=l/s;let d=1.2*t,h=1;if(o>0)d+=.3*(zr.pixelNoise(u,l,o)-.5),h=c<d?0:1;else if(this.dissolveConfig.fadeEdge){const p=d+.08;h=c<d?0:c>p?1:(c-d)/(p-d)}else h=c<d?0:1;const f=4*(l*r+u);a[f+3]=Math.floor(a[f+3]*h)}return new ImageData(a,r,s)}applyBottomToTopDissolve(e,t){const{data:i,width:r,height:s}=e,a=new Uint8ClampedArray(i.length);a.set(i);const o=this.dissolveConfig.noiseScale;for(let l=0;l<s;l++)for(let u=0;u<r;u++){const c=l/s;let d=1-1.2*t,h=1;if(o>0)d+=.3*(zr.pixelNoise(u,l,o)-.5),h=c>d?0:1;else if(this.dissolveConfig.fadeEdge){const p=d-.08;h=c<p?1:c>d?0:1-(c-p)/(d-p)}else h=c>d?0:1;const f=4*(l*r+u);a[f+3]=Math.floor(a[f+3]*h)}return new ImageData(a,r,s)}}class $7t extends S0{constructor(e,t,i,r,s){var a,o,l;super(e,t,i,r,s);const u=((a=s==null?void 0:s.options)===null||a===void 0?void 0:a.strength)!==void 0?s.options.strength:1,c=Math.max(0,Math.min(1,u));this.colorConfig={effectType:((o=s==null?void 0:s.options)===null||o===void 0?void 0:o.effectType)||"grayscale",strength:c,useWebGL:((l=s==null?void 0:s.options)===null||l===void 0?void 0:l.useWebGL)===void 0||s.options.useWebGL}}getShaderSources(){return{vertex:NC.STANDARD_VERTEX_SHADER,fragment:`
      precision mediump float;
      uniform sampler2D u_texture;
      uniform float u_time;
      uniform float u_strength;
      uniform int u_effectType;
      uniform vec2 u_resolution;
      varying vec2 v_texCoord;

      ${NC.SHADER_FUNCTIONS}

      void main() {
        vec2 uv = v_texCoord;
        vec4 originalColor = texture2D(u_texture, uv);
        vec3 color = originalColor.rgb;

        // 
        float dynamicStrength = calculateDynamicStrength(u_strength, u_time);

        if (u_effectType == 0) {
          // 
          float gray = luminance(color);
          vec3 grayColor = vec3(gray);
          color = mix(color, grayColor, dynamicStrength);
        } else if (u_effectType == 1) {
          // 
          vec3 sepiaColor = sepia(color);
          color = mix(color, sepiaColor, dynamicStrength);
        }

        gl_FragColor = vec4(color, originalColor.a);
      }
    `}}applyWebGLEffect(e){if(!this.gl||!this.program||!this.webglCanvas)return null;this.setupWebGLState(e);const t=this.createTextureFromCanvas(e);if(!t)return null;const i=this.createFullScreenQuad();if(!i)return this.gl.deleteTexture(t),null;try{return this.gl.useProgram(this.program),this.setupVertexAttributes(),this.setColorUniforms(),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.webglCanvas}finally{this.gl.deleteTexture(t),this.gl.deleteBuffer(i)}}setColorUniforms(){if(!this.gl||!this.program)return;const e=this.getAnimationTime(),t=this.gl.getUniformLocation(this.program,"u_time"),i=this.gl.getUniformLocation(this.program,"u_strength"),r=this.gl.getUniformLocation(this.program,"u_effectType"),s=this.gl.getUniformLocation(this.program,"u_resolution");this.gl.uniform1f(t,e),this.gl.uniform1f(i,this.colorConfig.strength),this.gl.uniform2f(s,this.webglCanvas.width,this.webglCanvas.height),this.gl.uniform1i(r,{grayscale:0,sepia:1}[this.colorConfig.effectType]||0)}applyCanvas2DEffect(e){if(this.colorConfig.strength<=0){const r=this.createOutputCanvas(e);return r?r.canvas:null}if(this.canUseCSSFilter())return this.applyCSSFilter(e);const t=this.createOutputCanvas(e);if(!t)return null;const{ctx:i}=t;try{const r=i.getImageData(0,0,e.width,e.height),s=this.getAnimationTime();let a;switch(this.colorConfig.effectType){case"grayscale":default:a=this.applyGrayscaleEffect(r,this.colorConfig.strength,s);break;case"sepia":a=this.applySepiaEffect(r,this.colorConfig.strength,s)}return i.clearRect(0,0,e.width,e.height),i.putImageData(a,0,0),t.canvas}catch(r){return console.warn("Canvas 2D color effect failed:",r),null}}canUseCSSFilter(){var e;return!!window.useFilterAPI&&typeof CSS<"u"&&((e=CSS.supports)===null||e===void 0?void 0:e.call(CSS,"filter","grayscale(1)"))}applyCSSFilter(e){try{const t=zr.createTempCanvas(e.width,e.height),i=t.getContext("2d");if(!i)return null;const r=this.getAnimationTime(),s=zr.calculateDynamicStrength(this.colorConfig.strength,r);let a="";return this.colorConfig.effectType==="grayscale"?a=`grayscale(${Math.min(1,s)})`:this.colorConfig.effectType==="sepia"&&(a=`sepia(${Math.min(1,s)})`),i.filter=a,i.drawImage(e,0,0),i.filter="none",t}catch(t){return console.warn("CSS Filter API failed, falling back to pixel processing:",t),null}}applyGrayscaleEffect(e,t,i){const{data:r,width:s,height:a}=e,o=new Uint8ClampedArray(r.length),l=zr.calculateDynamicStrength(t,i);for(let u=0;u<r.length;u+=4){const c=r[u],d=r[u+1],h=r[u+2],f=r[u+3],p=zr.getLuminance(c,d,h);o[u]=Math.round(zr.lerp(c,p,l)),o[u+1]=Math.round(zr.lerp(d,p,l)),o[u+2]=Math.round(zr.lerp(h,p,l)),o[u+3]=f}return new ImageData(o,s,a)}applySepiaEffect(e,t,i){const{data:r,width:s,height:a}=e,o=new Uint8ClampedArray(r.length),l=zr.calculateDynamicStrength(t,i);for(let u=0;u<r.length;u+=4){const c=r[u],d=r[u+1],h=r[u+2],f=r[u+3],[p,g,m]=zr.applySepiaToPixel(c,d,h);o[u]=Math.round(zr.lerp(c,p,l)),o[u+1]=Math.round(zr.lerp(d,g,l)),o[u+2]=Math.round(zr.lerp(h,m,l)),o[u+3]=f}return new ImageData(o,s,a)}afterStageRender(e,t){if(this.canUseCSSFilter()&&this.colorConfig.strength>0){const i=this.applyCSSFilter(t);if(i)return i}return super.afterStageRender(e,t)}}class N7t extends S0{constructor(e,t,i,r,s){var a,o,l;super(e,t,i,r,s),this.distortionConfig={distortionType:((a=s==null?void 0:s.options)===null||a===void 0?void 0:a.distortionType)||"wave",strength:((o=s==null?void 0:s.options)===null||o===void 0?void 0:o.strength)||.3,useWebGL:((l=s==null?void 0:s.options)===null||l===void 0?void 0:l.useWebGL)===void 0||s.options.useWebGL}}getShaderSources(){return{vertex:`
      attribute vec2 a_position;
      attribute vec2 a_texCoord;
      varying vec2 v_texCoord;

      void main() {
        gl_Position = vec4(a_position, 0.0, 1.0);
        v_texCoord = a_texCoord;
      }
    `,fragment:`
      precision mediump float;
      uniform sampler2D u_texture;
      uniform float u_time;
      uniform float u_strength;
      uniform int u_distortionType;
      uniform vec2 u_resolution;
      varying vec2 v_texCoord;

      // 
      vec2 wave(vec2 uv, float time, float strength) {
        float waveX = sin(uv.y * 10.0 + time * 3.0) * strength * 0.1;
        float waveY = sin(uv.x * 10.0 + time * 2.0) * strength * 0.1;
        return uv + vec2(waveX, waveY);
      }

      // 
      vec2 ripple(vec2 uv, float time, float strength) {
        vec2 center = vec2(0.5, 0.5);
        float distance = length(uv - center);
        float ripple = sin(distance * 20.0 - time * 5.0) * strength * 0.1;
        vec2 direction = normalize(uv - center);
        return uv + direction * ripple;
      }

      // 
      vec2 swirl(vec2 uv, float time, float strength) {
        vec2 center = vec2(0.5, 0.5);
        vec2 delta = uv - center;
        float dist = length(delta);
        float originalAngle = atan(delta.y, delta.x);
        float rotationAngle = dist * strength * time * 2.0;
        float finalAngle = originalAngle + rotationAngle;
        return center + dist * vec2(cos(finalAngle), sin(finalAngle));
      }

      void main() {
        vec2 uv = v_texCoord;

        // 
        if (u_distortionType == 0) {
          uv = wave(uv, u_time, u_strength);
        } else if (u_distortionType == 1) {
          uv = ripple(uv, u_time, u_strength);
        } else if (u_distortionType == 2) {
          uv = swirl(uv, u_time, u_strength);
        }

        // 
        if (uv.x < 0.0 || uv.x > 1.0 || uv.y < 0.0 || uv.y > 1.0) {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        } else {
          gl_FragColor = texture2D(u_texture, uv);
        }
      }
    `}}applyWebGLEffect(e){if(!this.gl||!this.program||!this.webglCanvas)return null;this.setupWebGLState(e);const t=this.createTextureFromCanvas(e);if(!t)return null;const i=this.createFullScreenQuad();if(!i)return this.gl.deleteTexture(t),null;try{return this.gl.useProgram(this.program),this.setupVertexAttributes(),this.setDistortionUniforms(),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.webglCanvas}finally{this.gl.deleteTexture(t),this.gl.deleteBuffer(i)}}setDistortionUniforms(){if(!this.gl||!this.program)return;const e=this.getAnimationTime(),t=this.gl.getUniformLocation(this.program,"u_time"),i=this.gl.getUniformLocation(this.program,"u_strength"),r=this.gl.getUniformLocation(this.program,"u_distortionType"),s=this.gl.getUniformLocation(this.program,"u_resolution");this.gl.uniform1f(t,e),this.gl.uniform1f(i,this.distortionConfig.strength),this.gl.uniform2f(s,this.webglCanvas.width,this.webglCanvas.height),this.gl.uniform1i(r,{wave:0,ripple:1,swirl:2}[this.distortionConfig.distortionType]||0)}applyCanvas2DEffect(e){const t=this.createOutputCanvas(e);if(!t)return null;const{ctx:i}=t;try{const r=i.getImageData(0,0,e.width,e.height),s=this.getAnimationTime();let a;switch(this.distortionConfig.distortionType){case"wave":a=this.applyWaveDistortion(r,this.distortionConfig.strength,s);break;case"ripple":a=this.applyRippleDistortion(r,this.distortionConfig.strength,s);break;case"swirl":a=this.applySwirlDistortion(r,this.distortionConfig.strength,s);break;default:a=r}return i.clearRect(0,0,e.width,e.height),i.putImageData(a,0,0),t.canvas}catch(r){return console.warn("Canvas 2D distortion effect failed:",r),null}}applyWaveDistortion(e,t,i){const{data:r,width:s,height:a}=e,o=new Uint8ClampedArray(r.length);for(let l=0;l<a;l++)for(let u=0;u<s;u++){const c=Math.sin(.1*l+3*i)*t*20,d=Math.sin(.1*u+2*i)*t*20,h=Math.round(u-c),f=Math.round(l-d),p=4*(l*s+u);if(h>=0&&h<s&&f>=0&&f<a){const g=4*(f*s+h);o[p]=r[g],o[p+1]=r[g+1],o[p+2]=r[g+2],o[p+3]=r[g+3]}else o[p+3]=0}return new ImageData(o,s,a)}applyRippleDistortion(e,t,i){const{data:r,width:s,height:a}=e,o=new Uint8ClampedArray(r.length),l=s/2,u=a/2;for(let c=0;c<a;c++)for(let d=0;d<s;d++){const h=d-l,f=c-u,p=Math.sqrt(h*h+f*f),g=Math.sin(.2*p-5*i)*t*10,m=Math.atan2(f,h),v=Math.round(d-Math.cos(m)*g),_=Math.round(c-Math.sin(m)*g),y=4*(c*s+d);if(v>=0&&v<s&&_>=0&&_<a){const x=4*(_*s+v);o[y]=r[x],o[y+1]=r[x+1],o[y+2]=r[x+2],o[y+3]=r[x+3]}else o[y+3]=0}return new ImageData(o,s,a)}applySwirlDistortion(e,t,i){const{data:r,width:s,height:a}=e,o=new Uint8ClampedArray(r.length),l=s/2,u=a/2;for(let c=0;c<a;c++)for(let d=0;d<s;d++){const h=d-l,f=c-u,p=Math.sqrt(h*h+f*f),g=Math.atan2(f,h)+p*t*i*.02,m=Math.round(l+p*Math.cos(g)),v=Math.round(u+p*Math.sin(g)),_=4*(c*s+d);if(m>=0&&m<s&&v>=0&&v<a){const y=4*(v*s+m);o[_]=r[y],o[_+1]=r[y+1],o[_+2]=r[y+2],o[_+3]=r[y+3]}else o[_+3]=0}return new ImageData(o,s,a)}afterStageRender(e,t){return this.distortionConfig.strength<=0?t:super.afterStageRender(e,t)}}class j7t extends S0{constructor(e,t,i,r,s){var a,o,l,u,c;super(e,t,i,r,s),this.particles=[],this.positionBuffer=null,this.colorBuffer=null,this.particleConfig={effectType:((a=s==null?void 0:s.options)===null||a===void 0?void 0:a.effectType)||"gravity",count:((o=s==null?void 0:s.options)===null||o===void 0?void 0:o.count)||4e3,size:((l=s==null?void 0:s.options)===null||l===void 0?void 0:l.size)||20,strength:((u=s==null?void 0:s.options)===null||u===void 0?void 0:u.strength)||1.5,useWebGL:((c=s==null?void 0:s.options)===null||c===void 0?void 0:c.useWebGL)===void 0||s.options.useWebGL}}getShaderSources(){return{vertex:`
      attribute vec2 a_position;
      attribute vec4 a_color;
      attribute float a_size;

      uniform vec2 u_resolution;
      uniform float u_time;
      uniform float u_forceStrength;
      uniform int u_effectType;

      varying vec4 v_color;

      void main() {
        // 
        vec2 clipSpace = ((a_position / u_resolution) * 2.0) - 1.0;
        clipSpace.y = -clipSpace.y; // Y

        gl_Position = vec4(clipSpace, 0.0, 1.0);
        gl_PointSize = a_size;
        v_color = a_color;
      }
    `,fragment:`
      precision mediump float;
      varying vec4 v_color;

      void main() {
        // 
        vec2 coord = gl_PointCoord - vec2(0.5);
        float distance = length(coord);

        if (distance > 0.5) {
          discard;
        }

        // 
        gl_FragColor = vec4(v_color.rgb, v_color.a);
      }
    `}}applyWebGLEffect(e){if(!this.gl||!this.program||!this.webglCanvas)return null;this.setupWebGLState(e),this.particles.length===0&&this.extractParticles(e),this.updateParticles(e);const t=this.gl;return t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),t.useProgram(this.program),this.prepareAndDrawParticles(t),this.webglCanvas}applyCanvas2DEffect(e){const t=this.createOutputCanvas(e);if(!t)return null;const{canvas:i,ctx:r}=t,s=this.currentAnimationRatio;switch(this.particleConfig.effectType){case"explode":this.applyCanvas2DExplode(r,e,s);break;case"gravity":this.applyCanvas2DGravity(r,e,s);break;case"vortex":this.applyCanvas2DVortex(r,e,s);break;default:r.globalAlpha=Math.max(0,1-s),r.drawImage(e,0,0)}return i}extractParticles(e){const t=zr.createTempCanvas(e.width,e.height,1),i=t.getContext("2d");if(!i)return;i.drawImage(e,0,0,t.width,t.height);const r=i.getImageData(0,0,t.width,t.height).data;this.particles=[];const s=Math.max(1,Math.floor(Math.sqrt(t.width*t.height/(1.5*this.particleConfig.count))));for(let a=0;a<t.height;a+=s)for(let o=0;o<t.width;o+=s){const l=4*(a*t.width+o),u=r[l],c=r[l+1],d=r[l+2],h=r[l+3];if(h>5){const f=o/t.width*e.width,p=a/t.height*e.height,g={x:f,y:p,originX:f,originY:p,vx:0,vy:0,r:u/255,g:c/255,b:d/255,a:Math.max(.6,h/255),life:1,size:this.particleConfig.size*(1+.5*Math.random())};this.particles.push(g)}}}updateParticles(e){const t=e.width/2,i=e.height/2,r=this.currentAnimationRatio,s=this.getDurationFromParent(),a=s<2e3,o=a?Math.max(1.5,3e3/s):1,l=a?Math.min(2,2e3/s):1;this.particles.forEach(u=>{const c=u.x-t,d=u.y-i,h=Math.sqrt(c*c+d*d),f=Math.atan2(d,c);this.applyParticleForces(u,f,h,r,l,e),this.updateParticleProperties(u,r,a,o,l)})}applyParticleForces(e,t,i,r,s,a){const o=this.getAnimationTime();switch(this.particleConfig.effectType){case"explode":const l=r*this.particleConfig.strength*s*5;e.vx+=Math.cos(t)*l,e.vy+=Math.sin(t)*l;break;case"gravity":this.applyGravityEffect(e,r,s,a,o);break;case"vortex":this.applyVortexEffect(e,r,s,a,t,i)}}applyGravityEffect(e,t,i,r,s){const a=(e.originX+.7*e.originY)/(r.width+r.height)*.8;if(t>a){const o=(t-a)/(1-a),l=this.particleConfig.strength*o*o*12*i;e.vy+=l;const u=Math.sin(3*s+.02*e.originX)*Math.cos(2*s+.015*e.originY);e.vx+=u*this.particleConfig.strength*2*i}}applyVortexEffect(e,t,i,r,s,a){const o=r.width/2,l=r.height/2,u=s+t*Math.PI*.8,c=a+t*Math.max(r.width,r.height)*.7*1.8,d=o+Math.cos(u)*c,h=l+Math.sin(u)*c,f=t*this.particleConfig.strength*.08*i;e.vx+=(d-e.x)*f,e.vy+=(h-e.y)*f}updateParticleProperties(e,t,i,r,s){const a=i?.99:.98;if(e.vx*=a,e.vy*=a,e.x+=e.vx,e.y+=e.vy,i){const o=Math.max(.1,.5/r);e.life=Math.max(0,1-t*o),e.a=Math.max(.2,e.life*Math.min(1,1.2*e.a)),e.size=Math.max(.7*this.particleConfig.size,this.particleConfig.size*(.5+.5*e.life))}else e.life=Math.max(0,1-.2*t),e.a=Math.max(.1,e.life*Math.min(1,1.5*e.a)),e.size=Math.max(.5*this.particleConfig.size,this.particleConfig.size*(.3+.7*e.life))}prepareAndDrawParticles(e){const t=new Float32Array(2*this.particles.length),i=new Float32Array(4*this.particles.length),r=new Float32Array(this.particles.length);this.particles.forEach((s,a)=>{t[2*a]=s.x,t[2*a+1]=s.y,i[4*a]=s.r,i[4*a+1]=s.g,i[4*a+2]=s.b,i[4*a+3]=Math.max(.1,s.a),r[a]=Math.max(6,1.5*s.size)}),this.updateParticleBuffers(e,t,i,r),this.setParticleUniforms(e),e.drawArrays(e.POINTS,0,this.particles.length),this.cleanupTempBuffers(e)}updateParticleBuffers(e,t,i,r){this.positionBuffer||(this.positionBuffer=e.createBuffer()),e.bindBuffer(e.ARRAY_BUFFER,this.positionBuffer),e.bufferData(e.ARRAY_BUFFER,t,e.DYNAMIC_DRAW);const s=e.getAttribLocation(this.program,"a_position");e.enableVertexAttribArray(s),e.vertexAttribPointer(s,2,e.FLOAT,!1,0,0),this.colorBuffer||(this.colorBuffer=e.createBuffer()),e.bindBuffer(e.ARRAY_BUFFER,this.colorBuffer),e.bufferData(e.ARRAY_BUFFER,i,e.DYNAMIC_DRAW);const a=e.getAttribLocation(this.program,"a_color");e.enableVertexAttribArray(a),e.vertexAttribPointer(a,4,e.FLOAT,!1,0,0);const o=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,r,e.DYNAMIC_DRAW);const l=e.getAttribLocation(this.program,"a_size");e.enableVertexAttribArray(l),e.vertexAttribPointer(l,1,e.FLOAT,!1,0,0),this._tempSizeBuffer=o}setParticleUniforms(e){const t=e.getUniformLocation(this.program,"u_resolution"),i=e.getUniformLocation(this.program,"u_time"),r=e.getUniformLocation(this.program,"u_forceStrength"),s=e.getUniformLocation(this.program,"u_effectType");e.uniform2f(t,this.webglCanvas.width,this.webglCanvas.height),e.uniform1f(i,this.getAnimationTime()),e.uniform1f(r,this.particleConfig.strength),e.uniform1i(s,{explode:0,vortex:1,gravity:2}[this.particleConfig.effectType]||0)}cleanupTempBuffers(e){const t=this._tempSizeBuffer;t&&(e.deleteBuffer(t),delete this._tempSizeBuffer)}applyCanvas2DExplode(e,t,i){const r=t.width/2,s=t.height/2;e.save(),e.globalAlpha=Math.max(0,1-i),e.translate(r,s);const a=1+.5*i;e.scale(a,a),e.translate(-r,-s),e.drawImage(t,0,0),e.restore()}applyCanvas2DGravity(e,t,i){e.save(),e.globalAlpha=Math.max(0,1-i);const r=i*t.height*.3;e.drawImage(t,0,r),e.restore()}applyCanvas2DVortex(e,t,i){const r=t.width/2,s=t.height/2;e.save(),e.globalAlpha=Math.max(0,1-i),e.translate(r,s),e.rotate(i*Math.PI*2),e.translate(-r,-s),e.drawImage(t,0,0),e.restore()}}class z7t extends F7t{constructor(e,t,i,r,s){var a,o;super(e,t,i,r,s),this.glitchConfig={effectType:((a=s==null?void 0:s.options)===null||a===void 0?void 0:a.effectType)||"rgb-shift",intensity:((o=s==null?void 0:s.options)===null||o===void 0?void 0:o.intensity)!==void 0?s.options.intensity:.5}}applyCanvas2DEffect(e){if(this.glitchConfig.intensity<=0){const t=this.createOutputCanvas(e);return t?t.canvas:null}try{switch(this.glitchConfig.effectType){case"rgb-shift":default:return this.applyRGBShiftGlitch(e);case"digital-distortion":return this.applyDigitalDistortionGlitch(e);case"scan-lines":return this.applyScanLineGlitch(e);case"data-corruption":return this.applyDataCorruptionGlitch(e)}}catch(t){return console.warn("Glitch effect failed:",t),null}}applyRGBShiftGlitch(e){const t=this.createOutputCanvas(e);if(!t)return null;const{ctx:i}=t;try{i.clearRect(0,0,e.width,e.height);const r=zr.calculateDynamicStrength(this.glitchConfig.intensity,this.getAnimationTime()),s=Math.floor(20*r),a=this.generateRandomOffset(s),o=this.generateRandomOffset(s,.3),l=this.generateRandomOffset(-s),u=zr.createTempCanvas(e.width,e.height),c=u.getContext("2d");c.drawImage(e,0,0);const d=c.getImageData(0,0,e.width,e.height),h=zr.extractChannel(d,0),f=zr.extractChannel(d,1),p=zr.extractChannel(d,2);return i.globalCompositeOperation="screen",c.clearRect(0,0,e.width,e.height),c.putImageData(h,0,0),i.drawImage(u,a.x,a.y),c.clearRect(0,0,e.width,e.height),c.putImageData(f,0,0),i.drawImage(u,o.x,o.y),c.clearRect(0,0,e.width,e.height),c.putImageData(p,0,0),i.drawImage(u,l.x,l.y),i.globalCompositeOperation="source-over",t.canvas}catch(r){return console.warn("RGB shift glitch failed:",r),null}}applyDigitalDistortionGlitch(e){const t=this.createOutputCanvas(e);if(!t)return null;const{ctx:i}=t;try{const r=i.getImageData(0,0,e.width,e.height),s=zr.calculateDynamicStrength(this.glitchConfig.intensity,this.getAnimationTime()),a=this.processDigitalDistortion(r,s);return i.clearRect(0,0,e.width,e.height),i.putImageData(a,0,0),t.canvas}catch(r){return console.warn("Digital distortion glitch failed:",r),null}}applyScanLineGlitch(e){const t=this.createOutputCanvas(e);if(!t)return null;const{ctx:i}=t;try{const r=zr.calculateDynamicStrength(this.glitchConfig.intensity,this.getAnimationTime()),s=Math.max(2,Math.floor(10-8*r));i.globalCompositeOperation="multiply";for(let o=0;o<e.height;o+=s)if(Math.random()<r){const l=.1+.4*r;i.fillStyle=`rgba(0, 0, 0, ${l})`,i.fillRect(0,o,e.width,1)}i.globalCompositeOperation="screen";const a=Math.floor(20*r);for(let o=0;o<a;o++){const l=Math.random()*e.height,u=.3*r;i.fillStyle=`rgba(255, 255, 255, ${u})`,i.fillRect(0,Math.floor(l),e.width,1)}return i.globalCompositeOperation="source-over",t.canvas}catch(r){return console.warn("Scan line glitch failed:",r),null}}applyDataCorruptionGlitch(e){const t=this.createOutputCanvas(e);if(!t)return null;const{ctx:i}=t;try{const r=i.getImageData(0,0,e.width,e.height),s=zr.calculateDynamicStrength(this.glitchConfig.intensity,this.getAnimationTime()),a=this.processDataCorruption(r,s);return i.clearRect(0,0,e.width,e.height),i.putImageData(a,0,0),t.canvas}catch(r){return console.warn("Data corruption glitch failed:",r),null}}generateRandomOffset(e,t=1){return{x:(Math.random()-.5)*e,y:(Math.random()-.5)*e*t}}processDigitalDistortion(e,t){const{data:i,width:r,height:s}=e,a=new Uint8ClampedArray(i),o=Math.floor(20*t)+5,l=Math.floor(s/o);for(let c=0;c<o;c++)if(Math.random()<t){const d=c*l,h=Math.min(d+l,s),f=Math.floor((Math.random()-.5)*r*t*.1);this.shiftSliceHorizontal(a,r,s,d,h,f)}const u=.3*t;for(let c=0;c<i.length;c+=4)Math.random()<u&&(a[c]=255*Math.random(),a[c+1]=255*Math.random(),a[c+2]=255*Math.random());return new ImageData(a,r,s)}shiftSliceHorizontal(e,t,i,r,s,a){const o=new Uint8ClampedArray(4*t);for(let l=r;l<s;l++){const u=l*t*4;for(let c=0;c<4*t;c++)o[c]=e[u+c];for(let c=0;c<t;c++){const d=u+4*c,h=4*((c-a+t)%t);e[d]=o[h],e[d+1]=o[h+1],e[d+2]=o[h+2],e[d+3]=o[h+3]}}}processDataCorruption(e,t){const{data:i,width:r,height:s}=e,a=new Uint8ClampedArray(i),o=Math.floor(15*t)+5;for(let u=0;u<o;u++)if(Math.random()<t){const c=Math.floor(Math.random()*r),d=Math.floor(5*Math.random())+1,h=Math.random()<.5?0:255;for(let f=0;f<s;f++)for(let p=0;p<d&&c+p<r;p++){const g=4*(f*r+c+p);a[g]=h,a[g+1]=h,a[g+2]=h}}const l=Math.floor(20*t);for(let u=0;u<l;u++){const c=Math.floor(Math.random()*r),d=Math.floor(Math.random()*s),h=Math.floor(20*Math.random())+5,f=Math.floor(10*Math.random())+2;this.corruptBlock(a,r,s,c,d,h,f)}return new ImageData(a,r,s)}corruptBlock(e,t,i,r,s,a,o){for(let l=0;l<o&&s+l<i;l++)for(let u=0;u<a&&r+u<t;u++){const c=4*((s+l)*t+(r+u));Math.random()<.7&&(e[c]=255*Math.random(),e[c+1]=255*Math.random(),e[c+2]=255*Math.random())}}}class H7t extends jPe{constructor(e,t,i,r,s){var a,o;super(e,t,i,r,s),this.blurConfig={blurRadius:((a=s==null?void 0:s.options)===null||a===void 0?void 0:a.blurRadius)||8,useOptimizedBlur:((o=s==null?void 0:s.options)===null||o===void 0?void 0:o.useOptimizedBlur)===void 0||s.options.useOptimizedBlur}}applyCSSBlur(e,t){const i=un.createCanvas({width:e.width,height:e.height,dpr:un.devicePixelRatio}),r=i.getContext("2d");return r?(r.filter=`blur(${t}px)`,r.drawImage(e,0,0),r.filter="none",i):e}applyDownsampleBlur(e,t){const{width:i,height:r}=e,s=Math.max(1,Math.floor(t/2)),a=Math.floor(i/s),o=Math.floor(r/s),l=un.createCanvas({width:a,height:o,dpr:1}),u=l.getContext("2d");if(!u)return e;const c=un.createCanvas({width:i,height:r,dpr:1}),d=c.getContext("2d");return d?(d.putImageData(e,0,0),u.drawImage(c,0,0,a,o),u.filter=`blur(${t/s}px)`,u.drawImage(l,0,0),u.filter="none",d.clearRect(0,0,i,r),d.drawImage(l,0,0,i,r),d.getImageData(0,0,i,r)):e}afterStageRender(e,t){if(this.blurConfig.blurRadius<=0)return t;let i;if(this.blurConfig.useOptimizedBlur)i=this.applyCSSBlur(t,this.blurConfig.blurRadius);else{const s=un.createCanvas({width:t.width,height:t.height,dpr:un.devicePixelRatio}),a=s.getContext("2d");if(!a)return!1;a.clearRect(0,0,t.width,t.height),a.drawImage(t,0,0);const o=a.getImageData(0,0,t.width,t.height),l=this.applyDownsampleBlur(o,this.blurConfig.blurRadius);a.putImageData(l,0,0),i=s}const r=i.getContext("2d");return r&&(r.globalCompositeOperation="overlay",r.fillStyle="rgba(255, 255, 255, 0.1)",r.fillRect(0,0,i.width,i.height),r.globalCompositeOperation="source-over"),i}}class V7t extends AM{constructor(e,t,i,r,s){var a,o;super(e,t,i,r,s),this.pixelationConfig={maxPixelSize:((a=s==null?void 0:s.options)===null||a===void 0?void 0:a.maxPixelSize)||20,method:((o=s==null?void 0:s.options)===null||o===void 0?void 0:o.method)||"out"}}applyDownsamplePixelation(e,t){if(t<=1)return e;const{width:i,height:r}=e,s=Math.ceil(i/t),a=Math.ceil(r/t),o=un.createCanvas({width:s,height:a,dpr:1}),l=o.getContext("2d");if(!l)return e;const u=un.createCanvas({width:i,height:r,dpr:un.devicePixelRatio}),c=u.getContext("2d");return c?(l.imageSmoothingEnabled=!1,c.imageSmoothingEnabled=!1,l.drawImage(e,0,0,s,a),c.drawImage(o,0,0,i,r),u):e}updateAnimationProgress(){return this.pixelationConfig.method==="in"?this.pixelationConfig.maxPixelSize-this.currentAnimationRatio*(this.pixelationConfig.maxPixelSize-1):1+this.currentAnimationRatio*(this.pixelationConfig.maxPixelSize-1)}afterStageRender(e,t){const i=this.updateAnimationProgress();return i<=1?t:this.applyDownsamplePixelation(t,i)}}class W7t extends Ez{onBind(){var e;const t=Az(this.target);this._animator=t;const i=this.duration,r=this.easing,{config:s,lastScale:a,getTickCoord:o}=this.params;let l=1;const u=this.target.data;if(a&&o&&u){l=.7;const c=o(a.scale(u.rawValue)),d=this.target.attribute.x,h=this.target.attribute.y;this.target.setAttributes({x:c.x,y:c.y}),t.animate(this.target,{type:"to",to:{x:d,y:h},duration:i,easing:r})}t.animate(this.target,{type:(e=s.type)!==null&&e!==void 0?e:"fadeIn",to:s.to,duration:i*l,easing:r}),this.completeBind(t)}}class U7t extends Ez{onBind(){const e=Az(this.target);this._animator=e;const t=this.duration,i=this.easing,{config:r,diffAttrs:s}=this.params;e.animate(this.target,{type:"to",to:Object.assign({},s),duration:t,easing:i,customParameters:{diffAttrs:Object.assign({},s)}}),this.completeBind(e)}deleteSelfAttr(e){super.deleteSelfAttr(e),this._animator.deleteSelfAttr(e)}tryPreventConflict(){}}function G7t(){_n.registerBuiltInAnimate("axisEnter",W7t),_n.registerBuiltInAnimate("axisUpdate",U7t)}function lMe(){Vs(),vg(),q0(),_g(),G7t()}function Y7t(){lMe(),yg()}function K7t(){lMe(),v8t()}function X7t(){Vs(),G1()}function q7t(){Vs(),G1()}var tW=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};Y7t();class wh extends DPe{constructor(e,t){var i;if(e.labelHoverOnAxis&&(e.labelHoverOnAxis.textStyle=Object.assign({},e.label.style,e.labelHoverOnAxis.textStyle),e.labelHoverOnAxis.space===void 0)){const{padding:r=2}=e.labelHoverOnAxis,s=gl(r),a=e.orient==="bottom"?s[0]:e.orient==="left"?s[1]:e.orient==="top"?s[2]:s[3],o=((i=e.label.space)!==null&&i!==void 0?i:wh.defaultAttributes.label.space)-a;e.labelHoverOnAxis.space=o}super(t!=null&&t.skipDefault?e:We({},wh.defaultAttributes,e),t),this.labelHoverOnAxisGroup=null}_renderInner(e){var t;if(this._breaks=null,this.attribute.breaks&&this.attribute.breaks.length){const s=[];for(let a=0;a<this.attribute.breaks.length;a++){const o=this.attribute.breaks[a],{range:l,breakSymbol:u,rawRange:c}=o;s.push({startPoint:this.getTickCoord(l[0]),endPoint:this.getTickCoord(l[1]),range:l,breakSymbol:u,rawRange:c})}this._breaks=s}super._renderInner(e),this._breaks&&this._breaks.length&&this._breaks.forEach((s,a)=>{const{startPoint:o,endPoint:l,breakSymbol:u,rawRange:c}=s;if((u==null?void 0:u.visible)!==!1){const d=It.group({zIndex:K8t});d.name=pa.axisBreak,d.id=this._getNodeId(`${pa.axisBreak}-${a}`),d.data=c;const h=J8t(u),f=It.symbol(Object.assign({x:o.x,y:o.y},h));f.name=pa.axisBreakSymbol;const p=It.symbol(Object.assign({x:l.x,y:l.y},h));p.name=pa.axisBreakSymbol,d.add(f),d.add(p),e.add(d)}});const{panel:i}=this.attribute;if(i&&i.visible){const s=this.axisContainer,a=s.AABBBounds,o=It.rect(Object.assign({x:a.x1,y:a.y1,width:a.width(),height:a.height()},i.style));o.name=pa.background,o.id=this._getNodeId("background"),o.states=We({},wp,(t=i.state)!==null&&t!==void 0?t:{}),s.insertBefore(o,s.firstChild)}const{labelHoverOnAxis:r}=this.attribute;r&&r.visible&&this.renderLabelHoverOnAxis()}renderLabelHoverOnAxis(){const e=this.getLabelHoverOnAxisAttribute(),t=new If(Object.assign({},e));t.name=pa.title,t.id=this._getNodeId("hover-on-label"),this.labelHoverOnAxisGroup=t,this.axisContainer.add(t)}renderLine(e){const{start:t,end:i,line:r}=this.attribute,s=r,{startSymbol:a,endSymbol:o,style:l,state:u}=s,c=tW(s,["startSymbol","endSymbol","style","state"]),d=Object.assign({startSymbol:a,endSymbol:o,lineStyle:l},c);if(this._breaks&&this._breaks.length){const f=[];let p=t;this._breaks.forEach(g=>{const{startPoint:m,endPoint:v}=g;f.push([p,m]),p=v}),f.push([p,i]),d.points=f,d.multiSegment=!0}else d.points=[t,i];Lt(u)||(d.state={line:We({},wp,u),symbol:We({},wp,u)});const h=new jm(d);h.name=pa.line,h.id=this._getNodeId("line"),e.add(h)}getTextAlign(e){let t="center";return zs(e[0],0)?zs(e[1],0)?Object.is(e[1],-0)?t="start":Object.is(e[0],-0)&&(t="end"):t="center":e[0]>0?t="start":e[0]<0&&(t="end"),t}getTitleAttribute(){var e,t,i;const r=this.attribute.title,{position:s="middle",space:a=4,textStyle:o={},autoRotate:l=!0,shape:u,background:c,state:d={},maxWidth:h}=r,f=tW(r,["position","space","textStyle","autoRotate","shape","background","state","maxWidth"]);let p=.5;s==="start"?p=0:s==="end"&&(p=1);const{verticalFactor:g=1}=this.attribute,m=-1*g,v=this.getTickCoord(p),_=this.getRelativeVector();let y=0;if(!((e=this.attribute.label)===null||e===void 0)&&e.visible&&this.attribute.label.inside===!1){const L=+Hn(this.attribute,"label.space",4);y+=L;const B=Object.keys(this.axisLabelLayerSize).length;if(_[1]===0){const F=this.axisLabelsContainer?this.axisLabelsContainer.AABBBounds.height():0;isFinite(F)?y+=F+(B-1)*L:y=0}else if(_[0]===0)if(this.axisLabelsContainer&&this.axisLabelsContainer.AABBBounds&&!this.axisLabelsContainer.AABBBounds.empty()){const F=this.axisLabelLayerSize[0].labelPos,$=this.axisLabelsContainer.AABBBounds;y+=(m===1?$.x2>F?Math.min($.x2-F,$.width()):0:$.x1<F?Math.min(F-$.x1,$.width()):0)+(B-1)*L}else y=0;else Object.keys(this.axisLabelLayerSize).forEach((F,$)=>{y+=this.axisLabelLayerSize[F].width+($>0?L:0)})}let x=0;!((t=this.attribute.tick)===null||t===void 0)&&t.visible&&this.attribute.tick.inside===!1&&(x=this.attribute.tick.length||4),!((i=this.attribute.subTick)===null||i===void 0)&&i.visible&&this.attribute.subTick.inside===!1&&(x=Math.max(x,this.attribute.subTick.length||2));const w=x+y+a,T=this.getVerticalCoord(v,w,!1),E=this.getVerticalVector(w,!1,{x:0,y:0});let A,k,{angle:P}=f;if(A=s==="start"?"start":s==="end"?"end":"center",J(P)&&l){P=lpe(_,[1,0],!0);const{verticalFactor:L=1}=this.attribute;k=-1*L===1?"bottom":"top"}else A=this.getTextAlign(E),k=this.getTextBaseline(E,!1);let I=h;if(J(I)){const{verticalLimitSize:L,verticalMinSize:B,orient:F}=this.attribute,$=Math.min(L||1/0,B||1/0);if(Me($))if(F==="bottom"||F==="top")if(P!==Math.PI/2){const z=Math.abs(Math.cos(P??0));I=z<1e-6?1/0:this.attribute.end.x/z}else I=$-w;else if(P&&P!==0){const z=Math.abs(Math.sin(P));I=z<1e-6?1/0:this.attribute.end.y/z}else I=$-w}const D=Object.assign(Object.assign(Object.assign({},T),f),{maxWidth:I,textStyle:Object.assign({textAlign:A,textBaseline:k},o),state:{text:We({},wp,d.text),shape:We({},wp,d.shape),panel:We({},wp,d.background)}});return D.angle=P,u&&u.visible&&(D.shape=Object.assign({visible:!0},u.style),u.space&&(D.space=u.space)),c&&c.visible&&(D.panel=Object.assign({visible:!0},c.style)),D}getLabelHoverOnAxisAttribute(){var e,t;const{orient:i}=this.attribute,r=this.attribute.labelHoverOnAxis,{position:s=0,space:a=4,autoRotate:o=!0,textStyle:l={},background:u={},formatMethod:c,text:d="",maxWidth:h}=r,f=tW(r,["position","space","autoRotate","textStyle","background","formatMethod","text","maxWidth"]),p=this.getTickCoord(0);i==="bottom"||i==="top"?p.x=s:p.y=s;let g=0;!((e=this.attribute.tick)===null||e===void 0)&&e.visible&&this.attribute.tick.inside===!1&&(g=this.attribute.tick.length||4),!((t=this.attribute.subTick)===null||t===void 0)&&t.visible&&this.attribute.subTick.inside===!1&&(g=Math.max(g,this.attribute.subTick.length||2));const m=g+0+a,v=this.getVerticalCoord(p,m,!1),_=this.getVerticalVector(m,!1,{x:0,y:0});let y,{angle:x}=f,w="center";if(J(x)&&o){const k=this.getRelativeVector();x=lpe(k,[1,0],!0);const{verticalFactor:P=1}=this.attribute;y=-1*P===1?"bottom":"top"}else{const{textAlign:k,textBaseline:P}=this.getLabelAlign(_,!1,l.angle);w=k,y=P}const T=h,E=c?c(d):d,A=Object.assign(Object.assign(Object.assign({},v),f),{maxWidth:T,textStyle:Object.assign({textAlign:w,textBaseline:y},l),text:E});return A.angle=x,u&&u.visible&&(A.panel=Object.assign(Object.assign({visible:!0},f.panel),u.style)),A}getTextBaseline(e,t){let i="middle";const{verticalFactor:r=1}=this.attribute,s=(t?1:-1)*r;return zs(e[1],0)?i=!zs(e[0],0)||Object.is(e[0],-0)||Object.is(e[1],-0)?"middle":s===1?"bottom":"top":e[1]>0?i="top":e[1]<0&&(i="bottom"),i}getLabelAlign(e,t,i){const r=this.attribute.orient;if(["top","bottom","right","left"].includes(r)||e[0]===0&&e[1]===0){if(r==="top"||r==="bottom")return FPe(t?r==="bottom"?"top":"bottom":r,i);if(r==="left"||r==="right")return BPe(t?r==="left"?"right":"left":r,i)}return{textAlign:this.getTextAlign(e),textBaseline:this.getTextBaseline(e,t)}}beforeLabelsOverlap(e,t,i,r,s){var a,o,l,u;const{flush:c=!1}=this.attribute.label||{};if(c&&e.length){const{orient:d,start:h,end:f}=this.attribute,p=d==="bottom"||d==="top",g=e[0],m=Xn(e),v=p?g.attribute.x>m.attribute.x:g.attribute.y<m.attribute.y;if(p){const _=v?m:g,y=v?g:m,x=h.x,w=f.x,T=_.AABBBounds.x1,E=y.AABBBounds.x2;T<x&&(_.attribute.angle?_.setAttributes({dx:((a=_.attribute.dx)!==null&&a!==void 0?a:0)+x-T}):_.setAttributes({x,textAlign:"left"})),E>w&&(y.attribute.angle?y.setAttributes({dx:((o=y.attribute.dx)!==null&&o!==void 0?o:0)+w-E}):y.setAttributes({x:w,textAlign:"right"}))}else{const _=v?m:g,y=v?g:m,x=_.AABBBounds.y2,w=y.AABBBounds.y1,T=h.y,E=f.y;w<T&&(y.attribute.angle?y.setAttributes({dy:((l=y.attribute.dy)!==null&&l!==void 0?l:0)+T-w}):y.setAttributes({y:T,textBaseline:"top"})),x>E&&(_.attribute.angle?_.setAttributes({dy:((u=_.attribute.dy)!==null&&u!==void 0?u:0)+E-x}):_.setAttributes({y:E,textBaseline:"bottom"}))}}}handleLabelsOverlap(e,t,i,r,s){if(Lt(e))return;const{verticalLimitSize:a,label:o,orient:l}=this.attribute,u=this._getAxisLabelLimitLength(a,s),{layoutFunc:c,autoRotate:d,autoRotateAngle:h,autoLimit:f,limitEllipsis:p,autoHide:g,autoHideMethod:m,autoHideSeparation:v,lastVisible:_,firstVisible:y,autoWrap:x,overflowLimitLength:w}=o;if(Re(c))c(e,t,r,this);else{if(d)sYt(e,{labelRotateAngle:h,orient:l});else if(x){const T=Math.abs(l==="left"||l==="right"?this.attribute.start.y-this.attribute.end.y:this.attribute.start.x-this.attribute.end.x);hYt(e,{orient:l,limitLength:u,axisLength:T,ellipsis:p})}if(!x&&f&&Me(u)&&u>0){const T=l==="left"||l==="right",E=Math.abs(T?this.attribute.start.y-this.attribute.end.y:this.attribute.start.x-this.attribute.end.x),A=T?E/e.length:g||d?1/0:E/e.length;dYt(e,{limitLength:u,verticalLimitLength:A,ellipsis:p,orient:l,axisLength:E,overflowLimitLength:w})}g&&LPe(e,{method:m,separation:v,lastVisible:_,firstVisible:y})}}afterLabelsOverlap(e,t,i,r,s){const{verticalLimitSize:a,orient:o}=this.attribute,l=o==="bottom"||o==="top",u=i.AABBBounds;let c=l?u.height():u.width();const{verticalMinSize:d}=this.attribute;if(Me(d)&&(!Me(a)||d<=a)){const h=this._getAxisLabelLimitLength(d,s);let f,p;c=Math.max(c,h),o==="left"?(f=u.x2-c,p=u.y1):o==="right"?(f=u.x1,p=u.y1):o==="top"?(f=u.x1,p=u.y2-c):o==="bottom"&&(f=u.x1,p=u.y1);const g=It.rect({x:f,y:p,width:l?u.width():c,height:l?c:u.height(),pickable:!1});g.name=pa.axisLabelBackground,g.id=this._getNodeId("axis-label-background"),i.insertBefore(g,i.firstChild)}if(Y(this.attribute.label.containerAlign)){let h;o==="left"?h=u.x2-c:o==="right"?h=u.x1:o==="top"?h=u.y2-c:o==="bottom"&&(h=u.y1),fYt(e,h,c,o,this.attribute.label.containerAlign)}}_getAxisLabelLimitLength(e,t){var i,r,s,a,o;const{label:l,title:u,line:c,tick:d}=this.attribute,h=(i=l.space)!==null&&i!==void 0?i:4;let f=e,p=0,g=0;const m=c&&c.visible?(r=c.style.lineWidth)!==null&&r!==void 0?r:1:0,v=d&&d.visible?(s=d.length)!==null&&s!==void 0?s:4:0;if(u&&u.visible&&typeof u.text=="string"){p=_z(u.text,u.textStyle,(o=(a=this.stage)===null||a===void 0?void 0:a.getTheme())===null||o===void 0?void 0:o.text).height;const _=gl(u.padding);g=u.space+_[0]+_[2]}return f&&(f=(f-h-g-p-m-v)/t),f}showLabelHoverOnAxis(e,t,i=!0){if(this.attribute.labelHoverOnAxis){const r=this.axisContainer.AABBBounds,s=r.width(),a=r.height(),o=r.x1,l=r.y1,u=r.x2,c=r.y2;if(this.labelHoverOnAxisGroup){const{formatMethod:d}=this.attribute.labelHoverOnAxis,h=d?d(t):t;this.labelHoverOnAxisGroup.setAttribute("text",h),this.labelHoverOnAxisGroup.setAttribute("visible",!0),this.labelHoverOnAxisGroup.setAttribute("visibleAll",!0),this.attribute.orient==="left"||this.attribute.orient==="right"?this.labelHoverOnAxisGroup.setAttributes({y:e}):this.labelHoverOnAxisGroup.setAttributes({x:e})}else this.attribute.labelHoverOnAxis.visible=!0,this.attribute.labelHoverOnAxis.position=e,this.attribute.labelHoverOnAxis.text=t,this.renderLabelHoverOnAxis();if(i){const d=this.axisContainer.AABBBounds,h=d.width()-s,f=d.height()-a;h>0&&(this.attribute.orient==="top"||this.attribute.orient==="bottom")&&(d.x1<o?this.showLabelHoverOnAxis(e+h,t,!1):d.x2>u&&this.showLabelHoverOnAxis(e-h,t,!1)),f>0&&(this.attribute.orient==="left"||this.attribute.orient==="right")&&(d.y1<l?this.showLabelHoverOnAxis(e+f,t,!1):d.y2>c&&this.showLabelHoverOnAxis(e-f,t,!1))}}}hideLabelHoverOnAxis(){this.attribute.labelHoverOnAxis&&this.labelHoverOnAxisGroup&&this.labelHoverOnAxisGroup.setAttributes({visible:!1,visibleAll:!1})}release(){super.release(),this._breaks=null}}wh.defaultAttributes=ZB,Li(wh,$Pe);class uMe{isInValidValue(e){const{startAngle:t=BC,endAngle:i=$C}=this.attribute;return Math.abs(i-t)%(2*Math.PI)==0?e>1:e<0||e>1}getTickCoord(e){const{startAngle:t=BC,endAngle:i=$C,center:r,radius:s,inside:a=!1,innerRadius:o=0}=this.attribute;return Sr(r,a&&o>0?o:s,t+(i-t)*e)}getVerticalVector(e,t=!1,i){return h7(e,i,this.attribute.center,t,this.attribute.inside)}getRelativeVector(e){const{center:t}=this.attribute;return[e.y-t.y,-1*(e.x-t.x)]}}function cMe(n,e){const t=n.length;return{prevLabel:e>=1?n[e-1]:n[t-1],nextLabel:e<t-1?n[e+1]:n[0]}}function pE(n,e,t){var i;n.setAttributes({maxLineWidth:e,ellipsis:(i=n.attribute.ellipsis)!==null&&i!==void 0?i:t})}function wpe(n,e,t){const i=[];if(n.length>=3){const{prevLabel:a,nextLabel:o}=cMe(n,e);i.push(a,o)}else n.length===2&&i.push(n[e===0?1:0]);const r=n[e];let s=Math.min(Math.abs(r.attribute.y-t.y1),Math.abs(r.attribute.y-t.y2));i.forEach(a=>{s=Math.min(s,Math.abs(a.attribute.y-r.attribute.y))}),s>0&&r.setAttributes({whiteSpace:"normal",heightLimit:s})}function Z7t(n,e){const{ellipsis:t,inside:i,bounds:r,autoWrap:s,center:a}=e;i||n.forEach((o,l)=>{const{x:u,y:c}=o.attribute,d=o.AABBBounds;if(zs(u,a.x)){if(c>r.y2||c<r.y1)return void pE(o,0,t);const h=r.x2-r.x1;if(n.length>=3){const{prevLabel:f,nextLabel:p}=cMe(n,l);let g=f.attribute.x,m=p.attribute.x;g>m&&(g=p.attribute.x,m=f.attribute.x);const v=g===m?h:u>=g&&u<=m?m-g:Math.min(Math.abs(g-u),Math.abs(m-u));o.AABBBounds.width()>v&&pE(o,v,t)}else o.AABBBounds.width()>h&&pE(o,h,t)}else u>a.x&&d.x2>r.x2?(pE(o,r.x2-u,t),s&&wpe(n,l,r)):u<a.x&&d.x1<r.x1&&(pE(o,u-r.x1,t),s&&wpe(n,l,r))})}var Q7t=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};K7t();class jC extends DPe{constructor(e,t){super(t!=null&&t.skipDefault?e:We({},jC.defaultAttributes,e))}renderLine(e){const{startAngle:t=BC,endAngle:i=$C,radius:r,center:s,innerRadius:a=0,line:o={},inside:l=!1,sides:u}=this.attribute;let c,d=r,h=a;if(l&&a>0&&(d=a,h=0),Me(u)&&u>=3){const f=OPe(s,u,d,t,i);c=It.path(Object.assign(Object.assign({},o.style),{path:Rb(f,!0)}))}else{const f=Object.assign(Object.assign(Object.assign({},s),{startAngle:t,endAngle:i,radius:d,innerRadius:h}),o.style);c=It.circle(f)}c.name=pa.line,c.id=this._getNodeId("line"),Lt(o.state)||(c.states=We({},wp,o.state)),e.add(c)}getTitleAttribute(){var e,t,i;const{center:r,radius:s,innerRadius:a=0}=this.attribute,o=this.attribute.title,{space:l=4,textStyle:u={},shape:c,background:d,state:h={}}=o,f=Q7t(o,["space","textStyle","shape","background","state"]);let p=r,g=0;!((e=this.attribute.label)===null||e===void 0)&&e.visible&&this.attribute.label.inside===!1&&(g=Hn(this.attribute.label,"style.fontSize",12)+Hn(this.attribute.label,"space",4));let m=0;!((t=this.attribute.tick)===null||t===void 0)&&t.visible&&this.attribute.tick.inside===!1&&(m=this.attribute.tick.length||4),!((i=this.attribute.subTick)===null||i===void 0)&&i.visible&&this.attribute.subTick.inside===!1&&(m=Math.max(m,this.attribute.subTick.length||2));const v=s+m+g+l;let _="middle",{position:y}=this.attribute.title;J(y)&&(y=a===0?"end":"middle"),y==="start"?(_="bottom",p={x:r.x,y:r.y-v}):y==="end"&&(_="top",p={x:r.x,y:r.y+v});const x=Object.assign(Object.assign(Object.assign({},p),f),{textStyle:Object.assign({textBaseline:_,textAlign:"center"},u),state:{text:We({},wp,h.text),shape:We({},wp,h.shape),panel:We({},wp,h.background)}}),{angle:w}=f;return x.angle=w,c&&c.visible&&(x.shape=Object.assign({visible:!0},c.style),c.space&&(x.space=c.space)),d&&d.visible&&(x.panel=Object.assign({visible:!0},d.style)),x}getSubTickLineItems(){var e,t;const{subTick:i}=this.attribute,r=[],{count:s=4,inside:a=!1,length:o=2}=i,l=this.tickLineItems,u=l.length;if(u>=2){const c=this.data[1].value-this.data[0].value,d=(t=(e=this.attribute)===null||e===void 0?void 0:e.tick)===null||t===void 0?void 0:t.alignWithLabel;for(let h=0;h<u;h++){const f=l[h],p=l[h+1];for(let g=0;g<s;g++){const m=(g+1)/(s+1),v=(1-m)*f.value+m*(p?p.value:d?1:f.value+c),_=this.getTickCoord(v),y=this.getVerticalCoord(_,o,a);r.push({start:_,end:y,value:v})}}}return r}beforeLabelsOverlap(e,t,i,r,s){}handleLabelsOverlap(e,t,i,r,s){if(Lt(e))return;const{inside:a,radius:o,center:l,size:u,label:c,orient:d}=this.attribute,h=u?{x1:0,y1:0,x2:u.width,y2:u.height}:{x1:l.x-o,y1:l.y-o,x2:l.x+o,y2:l.y+o},{layoutFunc:f,autoLimit:p,limitEllipsis:g,autoHide:m,autoHideMethod:v,autoHideSeparation:_,autoWrap:y}=c;Re(f)?f(e,t,r,this):((p||y)&&Z7t(e,{inside:a,autoWrap:y,bounds:h,ellipsis:g,center:l}),m&&LPe(e,{method:v,separation:_}))}afterLabelsOverlap(e,t,i,r,s){var a;const{layoutRect:o,autoLabelMaxWidth:l}=this.attribute;if(!l||!o||!e||e.length===0)return;const u=0+o.width;for(let c=0;c<e.length;c++){const d=e[c],h=d.attribute.x,f=(a=d.attribute.textAlign)!==null&&a!==void 0?a:"center";let p=0;if(f==="left")p=u-h;else if(f==="right")p=h-0;else{const g=h-0,m=u-h;p=2*Math.max(0,Math.min(g,m))}p>0?d.setAttributes({maxLineWidth:p}):d.setAttributes({maxLineWidth:0})}}getTextBaseline(e){return Math.abs(e[1]/e[0])<.3?"middle":e[1]<0?"bottom":e[1]>0?"top":"middle"}getLabelAlign(e,t,i){return zs(e[0],0)?{textAlign:"center",textBaseline:e[1]>0?"top":"bottom"}:e[0]<0?{textAlign:"right",textBaseline:this.getTextBaseline(e)}:e[0]>0?{textAlign:"left",textBaseline:this.getTextBaseline(e)}:{textAlign:"center",textBaseline:"middle"}}getLabelPosition(e,t,i,r){return e}}jC.defaultAttributes=ZB,Li(jC,uMe);const Em=n=>n.map((e,t)=>({index:t,value:e})),Cpe=(n,e,t=0)=>{const i=new ms(n).expand(t/2),r=new ms(e).expand(t/2);return i.intersects(r)},Tpe=12,DD=(n,e,t,i)=>t<n?Math.max(n-e/2,t):t>n?Math.min(n-e/2,t-e):t<i?t:t-e,p7=(n,e,t)=>{var i,r,s;const{labelStyle:a,axisOrientType:o,labelFlush:l,labelFormatter:u,startAngle:c=0}=t;let d=(i=a.angle)!==null&&i!==void 0?i:0;a.direction==="vertical"&&(d+=ar(90));const h=["bottom","top"].includes(o),f=["left","right"].includes(o);let p=1,g=0;h||(f?(p=0,g=1):c&&(p=Math.cos(c),g=-Math.sin(c)));const m=Ww(a),v=n.range();let _=[];for(let y=0;y<e.length;y++){const x=e[y],w=u?u(x):`${x}`;if(gh(w)){_=void 0;break}const{width:T,height:E}=m.quickMeasure(w),A=Math.max(T,12),k=Math.max(E,12),P=n.scale(x),I=p*P,D=g*P;let L,B,F=I,$=D;l&&h&&y===0?F=DD(I,A,v[0],v[v.length-1]):l&&h&&y===e.length-1?F=DD(I,A,v[v.length-1],v[0]):L=(r=a.textAlign)!==null&&r!==void 0?r:"center",L==="right"?F-=A:L==="center"&&(F-=A/2),l&&f&&y===0?$=DD(D,k,v[0],v[v.length-1]):l&&f&&y===e.length-1?$=DD(D,k,v[v.length-1],v[0]):B=(s=a.textBaseline)!==null&&s!==void 0?s:"middle",B==="bottom"?$-=k:B==="middle"&&($-=k/2);const z=new ms().set(F,$,F+A,$+k);d&&z.rotate(d,I,D),_.push(z)}return _},J7t=n=>["bottom","top","z"].includes(n);var ma;(function(n){n.Identity="identity",n.Linear="linear",n.Log="log",n.Pow="pow",n.Sqrt="sqrt",n.Symlog="symlog",n.Time="time",n.Quantile="quantile",n.Quantize="quantize",n.Threshold="threshold",n.Ordinal="ordinal",n.Point="point",n.Band="band"})(ma||(ma={}));const dMe={};Object.values(ma).forEach(n=>{dMe[n]=!0});function Ei(n){switch(n){case ma.Linear:case ma.Log:case ma.Pow:case ma.Sqrt:case ma.Symlog:case ma.Time:return!0;default:return!1}}function g7(n){return!!dMe[n]}function ml(n){switch(n){case ma.Ordinal:case ma.Point:case ma.Band:return!0;default:return!1}}function xx(n){return n}const eKt=n=>n<0?-Math.sqrt(-n):Math.sqrt(n),tKt=n=>n<0?-n*n:n*n,nKt=n=>-Math.log(-n),iKt=n=>-Math.exp(-n),rKt=n=>isFinite(n)?Math.pow(10,n):n<0?0:n,Epe=n=>n===10?rKt:n===Math.E?Math.exp:e=>Math.pow(n,e),Ape=n=>n===Math.E?Math.log:n===10?Math.log10:n===2?Math.log2:(n=Math.log(n),e=>Math.log(e)/n),kpe=n=>e=>Math.sign(e)*Math.log1p(Math.abs(e/n)),Ope=n=>e=>Math.sign(e)*Math.expm1(Math.abs(e))*n;function m7(n,e){if(n=Number(n),e=Number(e),e-=n)return i=>(i-n)/e;const t=Number.isNaN(e)?NaN:.5;return()=>t}function Ppe(n,e,t){const i=n[0],r=n[1],s=e[0],a=e[1];let o,l;return r<i?(o=m7(r,i),l=t(a,s)):(o=m7(i,r),l=t(s,a)),u=>l(o(u))}function HZ(n,e,t){let i;return i=n===1?n+2*t:n-e+2*t,n?i>0?i:1:0}function v7(n,e,t,i){return t===1&&(t=0),HZ(n,t,i)*(e/(1-t))}function sKt(n,e,t,i,r){const s=HZ(n,t,i);let a=e/Math.max(1,s||1);r&&(a=Math.floor(a));let o=a*(1-t);return r&&(o=Math.round(o)),o}function hMe(n,e){const t=(n[1]-n[0])/(e[1]-e[0]),i=n[0]-t*e[0];return[i,t+i]}function aKt(n,e,t){const i=Math.min(n.length,e.length)-1,r=new Array(i),s=new Array(i);let a=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++a<i;)r[a]=m7(n[a],n[a+1]),s[a]=t(e[a],e[a+1]);return function(o){const l=VAe(n,o,1,i)-1;return s[l](r[l](o))}}const oKt=(n,e)=>{const t=n.slice();let i=0,r=t.length-1,s=t[i],a=t[r];return a<s&&([i,r]=[r,i],[s,a]=[a,s]),t[i]=e.floor(s),t[r]=e.ceil(a),t},fMe=(n,e=!1)=>{const t=Math.floor(Math.log10(n)),i=n/Math.pow(10,t);let r;return r=e?i<1.5?1:i<3?2:i<7?5:10:i<=1?1:i<=2?2:i<=5?5:10,r*Math.pow(10,t)},lKt=(n,e)=>{let t,i;return e[0]<e[1]?(t=e[0],i=e[1]):(t=e[1],i=e[0]),Math.min(Math.max(n,t),i)};class pMe{constructor(){this._rangeFactorStart=null,this._rangeFactorEnd=null}_calculateWholeRange(e){return this._wholeRange?this._wholeRange:Y(this._rangeFactorStart)&&Y(this._rangeFactorEnd)&&e.length===2?(this._wholeRange=hMe(e,[this._rangeFactorStart,this._rangeFactorEnd]),this._wholeRange):e}rangeFactor(e,t,i){return e?(e.length===2&&e.every(r=>r>=0&&r<=1)&&(this._wholeRange=null,e[0]===0&&e[1]===1?(this._rangeFactorStart=null,this._rangeFactorEnd=null):(this._rangeFactorStart=e[0],this._rangeFactorEnd=e[1])),this):i?(this._wholeRange=null,this._rangeFactorStart=null,this._rangeFactorEnd=null,this):Y(this._rangeFactorStart)&&Y(this._rangeFactorEnd)?[this._rangeFactorStart,this._rangeFactorEnd]:null}rangeFactorStart(e,t){var i;return J(e)?this._rangeFactorStart:(e>=0&&e<=1&&(this._wholeRange=null,e!==0||!J(this._rangeFactorEnd)&&this._rangeFactorEnd!==1?(this._rangeFactorStart=e,this._rangeFactorEnd=(i=this._rangeFactorEnd)!==null&&i!==void 0?i:1):(this._rangeFactorStart=null,this._rangeFactorEnd=null)),this)}rangeFactorEnd(e,t){var i;return J(e)?this._rangeFactorEnd:(e>=0&&e<=1&&(this._wholeRange=null,e!==0||!J(this._rangeFactorStart)&&this._rangeFactorStart!==0?(this._rangeFactorEnd=e,this._rangeFactorStart=(i=this._rangeFactorStart)!==null&&i!==void 0?i:0):(this._rangeFactorStart=null,this._rangeFactorEnd=null)),this)}generateFishEyeTransform(){var e;if(!this._fishEyeOptions)return void(this._fishEyeTransform=null);const{distortion:t=2,radiusRatio:i=.1,radius:r}=this._fishEyeOptions,s=this.range(),a=s[0],o=s[s.length-1],l=Math.min(a,o),u=Math.max(a,o),c=ki((e=this._fishEyeOptions.focus)!==null&&e!==void 0?e:0,l,u),d=J(r)?(u-l)*i:r;let h=Math.exp(t);h=h/(h-1)*d;const f=t/d;this._fishEyeTransform=p=>{const g=Math.abs(p-c);if(g>=d)return p;if(g<=1e-6)return c;const m=h*(1-Math.exp(-g*f))/g*.75+.25;return c+(p-c)*m}}unknown(e){return arguments.length?(this._unknown=e,this):this._unknown}get(e,t){var i;return(i=this==null?void 0:this[e])!==null&&i!==void 0?i:t}}const y7=Symbol("implicit");class x0 extends pMe{specified(e){var t;return e?(this._specified=Object.assign((t=this._specified)!==null&&t!==void 0?t:{},e),this):Object.assign({},this._specified)}_getSpecifiedValue(e){if(this._specified)return this._specified[e]}constructor(){super(),this.type=ma.Ordinal,this._index=new Map,this._domain=[],this._ordinalRange=[],this._unknown=y7}clone(){const e=new x0().domain(this._domain).range(this._ordinalRange).unknown(this._unknown);return this._specified&&e.specified(this._specified),e}calculateVisibleDomain(e){return Y(this._rangeFactorStart)&&Y(this._rangeFactorEnd)&&e.length===2?[this.invert(e[0]),this.invert(e[1])]:this._domain}scale(e){const t=`${e}`,i=this._getSpecifiedValue(t);if(i!==void 0)return i;let r=this._index.get(t);if(!r){if(this._unknown!==y7)return this._unknown;r=this._domain.push(e),this._index.set(t,r)}const s=this._ordinalRange[(r-1)%this._ordinalRange.length];return this._fishEyeTransform?this._fishEyeTransform(s):s}invert(e){let t=0;for(;t<this._ordinalRange.length&&this._ordinalRange[t]!==e;)t++;return this._domain[(t-1)%this._domain.length]}domain(e){if(!e)return this._domain.slice();this._domain=[],this._index=new Map;for(const t of e){const i=`${t}`;this._index.has(i)||this._index.set(i,this._domain.push(t))}return this}range(e){if(!e)return this._ordinalRange.slice();const t=Array.from(e);return this._ordinalRange=t,this}index(e){var t;return this._index&&(t=this._index.get(`${e}`))!==null&&t!==void 0?t:-1}}function gMe(n,e,t,i){const r=[];let s=n;for(;s<=e;)r.push(s),s+=t;return i&&r.reverse(),r}function Mpe(n,e,t,i){let r,s;if(e=Math.floor(+e),n=Math.floor(+n),!(t=Math.floor(+t)))return[];if(n===e)return[n];if(r=e<n){const o=n;n=e,e=o}let a=AC(1,e-n+1)(t);if(s=Math.floor((e-n+1)/a),!i)for(;Math.ceil((e-n+1)/s)>t&&a>1;)a-=1,s=Math.floor((e-n)/a);return gMe(n,e,s,r)}function uKt(n,e,t){let i;if(e=Math.floor(+e),n=Math.floor(+n),t=AC(1,e-n+1)(Math.floor(+t)),i=e<n){const r=n;n=e,e=r}return gMe(n,e,t,i)}class Q0 extends x0{constructor(e){super(),this.type=ma.Band,this._range=[0,1],this._step=void 0,this._bandwidth=void 0,this._isFixed=!1,this._round=!1,this._paddingInner=0,this._paddingOuter=0,this._align=.5,this._unknown=void 0,delete this.unknown,this.rescale(e)}rescale(e,t){if(e)return this;this._wholeRange=null;const i=this._calculateWholeRange(this._range,t),r=super.domain().length,s=i[1]<i[0];let a=i[Number(s)-0];const o=i[1-Number(s)],l=HZ(r,this._paddingInner,this._paddingOuter);return this._step=(o-a)/Math.max(1,l||1),this._round&&(this._step=Math.floor(this._step)),a+=(o-a-this._step*(r-this._paddingInner))*this._align,this.isBandwidthFixed()||(this._bandwidth=this._step*(1-this._paddingInner)),this._round&&(a=Math.round(a),this.isBandwidthFixed()||(this._bandwidth=Math.round(this._bandwidth))),this._bandRangeState={reverse:s,start:s?ki(a+this._step*(r-1),i[1],i[0]):ki(a,i[0],i[1]),min:s?i[1]:i[0],max:o,count:r},this.generateFishEyeTransform(),this}scale(e){if(!this._bandRangeState)return;const t=`${e}`,i=this._getSpecifiedValue(t);if(i!==void 0)return i;let r=this._index.get(t);if(!r){if(this._unknown!==y7)return this._unknown;r=this._domain.push(e),this._index.set(t,r)}const{count:s,start:a,reverse:o,min:l,max:u}=this._bandRangeState,c=a+(o?-1:1)*((r-1)%s)*this._step;return ki(this._fishEyeTransform?this._fishEyeTransform(c):c,l,u)}_calculateWholeRange(e,t){if(this._wholeRange)return this._wholeRange;if((this._minBandwidth||this._maxBandwidth)&&!this._isBandwidthFixedByUser()){let i;if(Y(this._rangeFactorStart)&&Y(this._rangeFactorEnd)&&e.length===2){const s=hMe(e,[this._rangeFactorStart,this._rangeFactorEnd]);i=Math.abs(s[1]-s[0])}else i=Math.abs(e[1]-e[0]);const r=sKt(super.domain().length,i,this._paddingInner,this._paddingOuter,this._round);r<this._minBandwidth?(this._bandwidth=this._minBandwidth,this._isFixed=!0):r>this._maxBandwidth?(this._bandwidth=this._maxBandwidth,this._isFixed=!0):(this._bandwidth=r,this._isFixed=!1)}if(this.isBandwidthFixed()){const i=v7(super.domain().length,this._bandwidth,this._paddingInner,this._paddingOuter)*Math.sign(e[1]-e[0]),r=Math.min((e[1]-e[0])/i,1);if(Y(this._rangeFactorStart)&&Y(this._rangeFactorEnd)){const s=this._rangeFactorStart+r<=1,a=this._rangeFactorEnd-r>=0;if(t==="rangeFactorStart"&&s?this._rangeFactorEnd=this._rangeFactorStart+r:t==="rangeFactorEnd"&&a?this._rangeFactorStart=this._rangeFactorEnd-r:e[0]<=e[1]?s?this._rangeFactorEnd=this._rangeFactorStart+r:a?this._rangeFactorStart=this._rangeFactorEnd-r:(this._rangeFactorStart=0,this._rangeFactorEnd=r):a?this._rangeFactorStart=this._rangeFactorEnd-r:s?this._rangeFactorEnd=this._rangeFactorStart+r:(this._rangeFactorStart=1-r,this._rangeFactorEnd=1),i>0){const o=e[0]-i*this._rangeFactorStart,l=o+i;this._wholeRange=[o,l]}else{const o=e[1]+i*(1-this._rangeFactorEnd),l=o-i;this._wholeRange=[l,o]}}else this._rangeFactorStart=0,this._rangeFactorEnd=r,this._wholeRange=[e[0],e[0]+i];return this._wholeRange}return super._calculateWholeRange(e)}calculateWholeRangeSize(){const e=this._calculateWholeRange(this._range);return Math.abs(e[1]-e[0])}calculateVisibleDomain(e){const t=this._domain;if(Y(this._rangeFactorStart)&&Y(this._rangeFactorEnd)&&t.length){const i=this._getInvertIndex(e[0]),r=this._getInvertIndex(e[1]);return t.slice(Math.min(i,r),Math.max(i,r)+1)}return t}domain(e,t){return e?(super.domain(e),this.rescale(t)):super.domain()}range(e,t){return e?(this._range=[dy(e[0]),dy(e[1])],this.rescale(t)):this._range}rangeRound(e,t){return this._range=[dy(e[0]),dy(e[1])],this._round=!0,this.rescale(t)}ticks(e=10){const t=this.calculateVisibleDomain(this._range);return e===-1?t:Mpe(0,t.length-1,e,!1).map(i=>t[i])}tickData(e=10){return this.ticks(e).map((t,i)=>({index:i,tick:t,value:(this.scale(t)-this._range[0]+this._bandwidth/2)/(this._range[1]-this._range[0])}))}forceTicks(e=10){const t=this.calculateVisibleDomain(this._range);return Mpe(0,t.length-1,e,!0).filter(i=>i<t.length).map(i=>t[i])}stepTicks(e){const t=this.calculateVisibleDomain(this._range);return uKt(0,t.length-1,e).map(i=>t[i])}_getInvertIndex(e){let t=0;const i=this.step()/2,r=this.bandwidth()/2,s=this._domain.length,a=this.range(),o=a[0]>a[a.length-1];for(t=0;t<s;t++){const l=this.scale(this._domain[t])+r;if(t===0&&(!o&&!Xg(e,l+i)||o&&!gp(e,l-i))||t===s-1||!gp(e,l-i)&&!Xg(e,l+i))break}return t>=0&&t<=s-1?t:s-1}invert(e){return this._domain[this._getInvertIndex(e)]}padding(e,t){return e!==void 0?(this._paddingOuter=Math.max(0,Math.min(Array.isArray(e)?Math.min.apply(null,e):e)),this._paddingInner=this._paddingOuter,this.rescale(t)):this._paddingInner}paddingInner(e,t){return e!==void 0?(this._paddingInner=Math.max(0,Math.min(1,e)),this.rescale(t)):this._paddingInner}paddingOuter(e,t){return e!==void 0?(this._paddingOuter=Math.max(0,Math.min(1,e)),this.rescale(t)):this._paddingOuter}step(){return this._step}round(e,t){return e!==void 0?(this._round=e,this.rescale(t)):this._round}align(e,t){return e!==void 0?(this._align=Math.max(0,Math.min(1,e)),this.rescale(t)):this._align}rangeFactor(e,t){return e?(super.rangeFactor(e),this.rescale(t)):super.rangeFactor()}rangeFactorStart(e,t){return J(e)?super.rangeFactorStart():(super.rangeFactorStart(e),this.rescale(t,"rangeFactorStart"))}rangeFactorEnd(e,t){return J(e)?super.rangeFactorEnd():(super.rangeFactorEnd(e),this.rescale(t,"rangeFactorEnd"))}bandwidth(e,t){return e?(e==="auto"?(this._bandwidth=void 0,this._isFixed=!1):(this._bandwidth=e,this._isFixed=!0),this._userBandwidth=e,this.rescale(t)):this._bandwidth}maxBandwidth(e,t){return e?(this._maxBandwidth=e==="auto"?void 0:e,this.rescale(t)):this._maxBandwidth}minBandwidth(e,t){return e?(this._minBandwidth=e==="auto"?void 0:e,this.rescale(t)):this._minBandwidth}fishEye(e,t,i){return e||i?(this._fishEyeOptions=e,this._fishEyeTransform=null,this.rescale(t)):this._fishEyeOptions}isBandwidthFixed(){return this._isFixed&&!!this._bandwidth}_isBandwidthFixedByUser(){return this._isFixed&&this._userBandwidth&&st(this._userBandwidth)}clone(){var e,t,i;return new Q0(!0).domain(this._domain,!0).range(this._range,!0).round(this._round,!0).paddingInner(this._paddingInner,!0).paddingOuter(this._paddingOuter,!0).align(this._align,!0).bandwidth((e=this._userBandwidth)!==null&&e!==void 0?e:"auto",!0).maxBandwidth((t=this._maxBandwidth)!==null&&t!==void 0?t:"auto",!0).minBandwidth((i=this._maxBandwidth)!==null&&i!==void 0?i:"auto")}}const{interpolateRgb:nW}=gjt;function cKt(n,e){const t=typeof e;let i;if(J(e)||t==="boolean")return()=>e;if(t==="number")return V2(n,e);if(t==="string"){if(i=ga.parseColorString(e)){const r=nW(ga.parseColorString(n),i);return s=>r(s).formatRgb()}return V2(Number(n),Number(e))}return e instanceof wu?nW(n,e):e instanceof ga?nW(n.color,e.color):e instanceof Date?$Nt(n,e):V2(Number(n),Number(e))}class mMe extends pMe{constructor(e=xx,t=xx){super(),this._unknown=void 0,this.transformer=e,this.untransformer=t,this._forceAlign=!0,this._domain=[0,1],this._range=[0,1],this._clamp=xx,this._piecewise=Ppe,this._interpolate=cKt}calculateVisibleDomain(e){var t;return Y(this._rangeFactorStart)&&Y(this._rangeFactorEnd)&&e.length===2?[this.invert(e[0]),this.invert(e[1])]:(t=this._niceDomain)!==null&&t!==void 0?t:this._domain}fishEye(e,t,i){return e||i?(this._fishEyeOptions=e,this._fishEyeTransform=null,this.rescale(t)):this._fishEyeOptions}scale(e){var t;if(e=Number(e),Number.isNaN(e)||this._domainValidator&&!this._domainValidator(e))return this._unknown;this._output||(this._output=this._piecewise(((t=this._niceDomain)!==null&&t!==void 0?t:this._domain).map(this.transformer),this._calculateWholeRange(this._range),this._interpolate));const i=this._output(this.transformer(this._clamp(e)));return this._fishEyeTransform?this._fishEyeTransform(i):i}invert(e){var t;return this._input||(this._input=this._piecewise(this._calculateWholeRange(this._range),((t=this._niceDomain)!==null&&t!==void 0?t:this._domain).map(this.transformer),V2)),this._clamp(this.untransformer(this._input(e)))}domain(e,t){var i;if(!e)return((i=this._niceDomain)!==null&&i!==void 0?i:this._domain).slice();this._domainValidator=null,this._niceType=null,this._niceDomain=null;const r=Array.from(e,dy);return this._domain=r,this.rescale(t)}range(e,t){if(!e)return this._range.slice();const i=Array.from(e);return this._range=i,this.rescale(t)}rangeRound(e,t){const i=Array.from(e);return this._range=i,this._interpolate=BNt,this.rescale(t)}rescale(e){var t;if(e)return this;const i=(t=this._niceDomain)!==null&&t!==void 0?t:this._domain,r=i.length,s=this._range.length;let a=Math.min(r,s);if(r&&r<s&&this._forceAlign){const o=s-r+1,l=i[r-1],u=r>=2?(l-i[r-2])/o:0;for(let c=1;c<=o;c++)i[r-2+c]=l-u*(o-c);a=s}return this._autoClamp&&(this._clamp=AC(i[0],i[a-1])),this._piecewise=a>2?aKt:Ppe,this._output=this._input=null,this._wholeRange=null,this.generateFishEyeTransform(),this}clamp(e,t,i){return arguments.length?(t?(this._autoClamp=!1,this._clamp=t):(this._autoClamp=!!e,this._clamp=e?void 0:xx),this.rescale(i)):this._clamp!==xx}interpolate(e,t){return arguments.length?(this._interpolate=e,this.rescale(t)):this._interpolate}ticks(e=10){return[]}tickData(e=10){const t=this.ticks(e);return(t??[]).map((i,r)=>({index:r,tick:i,value:(this.scale(i)-this._range[0])/(this._range[1]-this._range[0])}))}rangeFactor(e,t){return e?(super.rangeFactor(e),this._output=this._input=null,this):super.rangeFactor()}rangeFactorStart(e,t){return J(e)?super.rangeFactorStart():(super.rangeFactorStart(e),this._output=this._input=null,this)}rangeFactorEnd(e,t){return J(e)?super.rangeFactorEnd():(super.rangeFactorEnd(e),this._output=this._input=null,this)}forceAlignDomainRange(e){return arguments.length?(this._forceAlign=e,this):this._forceAlign}}const dKt=Math.sqrt(50),hKt=Math.sqrt(10),fKt=Math.sqrt(2),LD=[1,2,5,10],Ipe=(n,e,t)=>{let i=1,r=n;const s=Math.floor((e-1)/2),a=Math.abs(n);return n>=0&&n<=Number.MIN_VALUE?r=0:n<0&&n>=-Number.MIN_VALUE?r=-(e-1):!t&&a<1?i=vMe(a).step:(t||a>1)&&(r=Math.floor(n)-s*i),i>0?(n>0?r=Math.max(r,0):n<0&&(r=Math.min(r,-(e-1)*i)),zAe(0,e).map(o=>r+o*i)):n>0?JB(0,-(e-1)/i,i):JB((e-1)/i,0,i)},pKt=pM((n,e,t,i)=>{let r,s,a,o,l=-1;if(t=+t,(n=+n)==(e=+e))return[n];if(Math.abs(n-e)<=Number.MIN_VALUE&&t>0)return[n];if((r=e<n)&&(s=n,n=e,e=s),o=VZ(n,e,t).step,!isFinite(o))return[];if(o>0){let u=Math.round(n/o),c=Math.round(e/o);for(u*o<n&&++u,c*o>e&&--c,a=new Array(s=c-u+1);++l<s;)a[l]=(u+l)*o}else if(o<0&&(i!=null&&i.noDecimals)){o=1;const u=Math.ceil(n),c=Math.floor(e);if(!(u<=c))return[];for(a=new Array(s=c-u+1);++l<s;)a[l]=u+l}else{o=-o;let u=Math.round(n*o),c=Math.round(e*o);for(u/o<n&&++u,c/o>e&&--c,a=new Array(s=c-u+1);++l<s;)a[l]=(u+l)/o}return r&&a.reverse(),a}),JB=(n,e,t)=>{let i,r,s=-1;if(t>0){let a=Math.floor(n/t),o=Math.ceil(e/t);for((a+1)*t<n&&++a,(o-1)*t>e&&--o,r=new Array(i=o-a+1);++s<i;)r[s]=(a+s)*t}else{t=-t;let a=Math.floor(n*t),o=Math.ceil(e*t);for((a+1)/t<n&&++a,(o-1)/t>e&&--o,r=new Array(i=o-a+1);++s<i;)r[s]=(a+s)/t}return r},gKt=(n,e,t)=>{let i;const r=n[0],s=n[n.length-1],a=e-n.length;if(s<=0){const u=[];for(i=a;i>=1;i--)u.push(r-i*t);return u.concat(n)}if(r>=0){for(i=1;i<=a;i++)n.push(s+i*t);return n}let o=[];const l=[];for(i=1;i<=a;i++)i%2==0?o=[r-Math.floor(i/2)*t].concat(o):l.push(s+Math.ceil(i/2)*t);return o.concat(n).concat(l)},e$=pM((n,e,t,i)=>{let r,s,a;if(t=+t,(n=+n)==(e=+e)||Math.abs(n-e)<=Number.MIN_VALUE&&t>0)return Ipe(n,t,i==null?void 0:i.noDecimals);(r=e<n)&&(a=n,n=e,e=a);const o=VZ(n,e,t);let l=o.step;if(!isFinite(l))return[];if(l>0){let u=1;const{power:c,gap:d}=o,h=d===10?2*10**c:1*10**c;for(;u<=5&&(s=JB(n,e,l),s.length>t+1)&&t>2;)l+=h,u+=1;t>2&&s.length<t-1&&(s=gKt(s,t,l))}else i!=null&&i.noDecimals&&l<0&&(l=1),s=JB(n,e,l);return r&&s.reverse(),s}),vMe=n=>{const e=Math.floor(Math.log(n)/Math.LN10),t=n/10**e;let i=LD[0];return t>=dKt?i=LD[3]:t>=hKt?i=LD[2]:t>=fKt&&(i=LD[1]),e>=0?{step:i*10**e,gap:i,power:e}:{step:-(10**-e)/i,gap:i,power:e}};function VZ(n,e,t){const i=(e-n)/Math.max(0,t);return vMe(i)}function yMe(n,e,t){let i;if(t=+t,(n=+n)==(e=+e)&&t>0)return[n];if(t<=0||(i=mKt(n,e,t))===0||!isFinite(i))return[];const r=new Array(t);for(let s=0;s<t;s++)r[s]=n+s*i;return r}function mKt(n,e,t){return(e-n)/Math.max(1,t-1)}function vKt(n,e,t){let i,r,s=-1;if(t=+t,(r=(e=+e)<(n=+n))&&(i=n,n=e,e=i),!isFinite(t)||e-n<=t)return[n];const a=Math.floor((e-n)/t+1),o=new Array(a);for(;++s<a;)o[s]=n+s*t;return r&&o.reverse(),o}function iW(n,e=10){let t,i,r=0,s=n.length-1,a=n[r],o=n[s],l=10;for(o<a&&(i=a,a=o,o=i,i=r,r=s,s=i);l-- >0;){if(i=VZ(a,o,e).step,i===t)return n[r]=a,n[s]=o,n;if(i>0)a=Math.floor(a/i)*i,o=Math.ceil(o/i)*i;else{if(!(i<0))break;a=Math.ceil(a*i)/i,o=Math.floor(o*i)/i}t=i}}function _Me(n,e){const t=st(e.forceMin),i=st(e.forceMax);let r=null;const s=[];let a=null;const o=t&&i?l=>l>=e.forceMin&&l<=e.forceMax:t?l=>l>=e.forceMin:i?l=>l<=e.forceMax:null;return t?s[0]=e.forceMin:st(e.min)&&e.min<=Math.min(n[0],n[n.length-1])&&(s[0]=e.min),i?s[1]=e.forceMax:st(e.max)&&e.max>=Math.max(n[0],n[n.length-1])&&(s[1]=e.max),st(s[0])&&st(s[1])?(a=n.slice(),a[0]=s[0],a[a.length-1]=s[1]):r=st(s[0])||st(s[1])?st(s[0])?"max":"min":"all",{niceType:r,niceDomain:a,niceMinMax:s,domainValidator:o}}const rW=(n,e,t)=>Math.abs(e-n)<1?+t.toFixed(1):Math.round(+t),bMe=pM((n,e,t,i,r,s,a)=>{let o=n,l=e;const u=l<o;u&&([o,l]=[l,o]);let c,d,h=r(o),f=r(l),p=[];if(!(i%1)&&f-h<t){if(h=Math.floor(h),f=Math.ceil(f),o>0){for(;h<=f;++h)for(c=1;c<i;++c)if(d=h<0?c/s(-h):c*s(h),!(d<o)){if(d>l)break;p.push(d)}}else for(;h<=f;++h)for(c=i-1;c>=1;--c)if(d=h>0?c/s(-h):c*s(h),!(d<o)){if(d>l)break;p.push(d)}2*p.length<t&&(p=e$(o,l,t))}else p=e$(h,f,Math.min(f-h,t)).map(s);return p=p.filter(g=>g!==0),a!=null&&a.noDecimals&&(p=Array.from(new Set(p.map(g=>Math.floor(g))))),u?p.reverse():p}),SMe=pM((n,e,t,i,r,s)=>{const a=[],o={},l=r(n),u=r(e);let c=[];if(Number.isInteger(i))c=e$(l,u,t);else{const d=(u-l)/(t-1);for(let h=0;h<t;h++)c.push(l+h*d)}return c.forEach(d=>{const h=s(d),f=Number.isInteger(i)?rW(n,e,h):rW(n,e,fMe(h)),p=rW(n,e,lKt(f,[n,e]));!o[p]&&!isNaN(p)&&c.length>1&&(o[p]=1,a.push(p))}),a}),t$=pM((n,e,t,i,r)=>yMe(i(n),i(e),t).map(s=>fMe(r(s))));class Ou extends mMe{constructor(){super(...arguments),this.type=ma.Linear}clone(){var e;const t=new Ou;return t.domain(this._domain,!0).range(this._range,!0).unknown(this._unknown).clamp(this.clamp(),null,!0).interpolate(this._interpolate),this._niceType&&(t._niceType=this._niceType,t._domainValidator=this._domainValidator,t._niceDomain=(e=this._niceDomain)===null||e===void 0?void 0:e.slice()),t}tickFormat(){return()=>{}}d3Ticks(e=10,t){const i=this.calculateVisibleDomain(this._range);return pKt(i[0],i[i.length-1],e,t)}ticks(e=10,t){var i;if(Re(t==null?void 0:t.customTicks))return t.customTicks(this,e);if(Y(this._rangeFactorStart)&&Y(this._rangeFactorEnd)&&(this._rangeFactorStart>0||this._rangeFactorEnd<1)&&this._range.length===2||!this._niceType)return this.d3Ticks(e,t);const r=(i=this._niceDomain)!==null&&i!==void 0?i:this._domain,s=this._domain,a=r[0],o=r[r.length-1];let l=e$(s[0],s[s.length-1],e,t);if(!l.length)return l;if(this._domainValidator)l=l.filter(this._domainValidator);else if((l[0]!==a||l[l.length-1]!==o)&&this._niceType){const u=r.slice();if(this._niceType==="all"?(u[0]=l[0],u[u.length-1]=l[l.length-1],this._niceDomain=u,this.rescale()):this._niceType==="min"&&l[0]!==a?(u[0]=l[0],this._niceDomain=u,this.rescale()):this._niceType==="max"&&l[l.length-1]!==o&&(u[u.length-1]=l[l.length-1],this._niceDomain=u,this.rescale()),this._niceType!=="all"){const c=Math.min(u[0],u[u.length-1]),d=Math.max(u[0],u[u.length-1]);l=l.filter(h=>h>=c&&h<=d)}}return l}forceTicks(e=10){const t=this.calculateVisibleDomain(this._range);return yMe(t[0],t[t.length-1],e)}stepTicks(e){const t=this.calculateVisibleDomain(this._range);return vKt(t[0],t[t.length-1],e)}nice(e=10,t){var i,r;const s=this._domain;let a=[];if(t){const o=_Me(s,t);if(a=o.niceMinMax,this._domainValidator=o.domainValidator,this._niceType=o.niceType,o.niceDomain)return this._niceDomain=o.niceDomain,this.rescale(),this}else this._niceType="all";if(this._niceType){const o=iW(s.slice(),e);this._niceType==="min"?o[o.length-1]=(i=a[1])!==null&&i!==void 0?i:o[o.length-1]:this._niceType==="max"&&(o[0]=(r=a[0])!==null&&r!==void 0?r:o[0]),this._niceDomain=o,this.rescale()}return this}niceMin(e=10){this._niceType="min";const t=this._domain[this._domain.length-1],i=iW(this.domain(),e);return i&&(i[i.length-1]=t,this._niceDomain=i,this.rescale()),this}niceMax(e=10){this._niceType="max";const t=this._domain[0],i=iW(this._domain.slice(),e);return i&&(i[0]=t,this._niceDomain=i,this.rescale()),this}}class xMe{nice(e=10,t){var i,r,s,a;const o=this._domain;let l=[],u=null;if(t){const c=_Me(o,t);if(l=c.niceMinMax,this._domainValidator=c.domainValidator,u=c.niceType,c.niceDomain)return this._niceDomain=c.niceDomain,this.rescale(),this}else u="all";if(u){const c=oKt(o.slice(),(r=(i=this.getNiceConfig)===null||i===void 0?void 0:i.call(this))!==null&&r!==void 0?r:{floor:d=>Math.floor(d),ceil:d=>Math.ceil(d)});return u==="min"?c[c.length-1]=(s=l[1])!==null&&s!==void 0?s:c[c.length-1]:u==="max"&&(c[0]=(a=l[0])!==null&&a!==void 0?a:c[0]),this._niceDomain=c,this.rescale(),this}return this}niceMin(){const e=this._domain[this._domain.length-1];this.nice();const t=this._domain.slice();return this._domain&&(t[t.length-1]=e,this._niceDomain=t,this.rescale()),this}niceMax(){const e=this._domain[0];this.nice();const t=this._domain.slice();return this._domain&&(t[0]=e,this._niceDomain=t,this.rescale()),this}}function Rpe(n){return e=>-n(-e)}function Dpe(n=Number.EPSILON){return e=>Math.max(e,n)}function yKt(n=Number.EPSILON){return e=>Math.min(e,-n)}class kz extends mMe{constructor(){super(Ape(10),Epe(10)),this.type=ma.Log,this._limit=Dpe(),this._logs=this.transformer,this._pows=this.untransformer,this._domain=[1,10],this._base=10}clone(){return new kz().domain(this._domain,!0).range(this._range,!0).unknown(this._unknown).clamp(this.clamp(),null,!0).interpolate(this._interpolate,!0).base(this._base)}rescale(e){var t;if(e)return this;super.rescale();const i=Ape(this._base),r=Epe(this._base);return((t=this._niceDomain)!==null&&t!==void 0?t:this._domain)[0]<0?(this._logs=Rpe(i),this._pows=Rpe(r),this._limit=yKt(),this.transformer=nKt,this.untransformer=iKt):(this._logs=i,this._pows=r,this._limit=Dpe(),this.transformer=this._logs,this.untransformer=r),this}scale(e){var t;if(e=Number(e),Number.isNaN(e)||this._domainValidator&&!this._domainValidator(e))return this._unknown;this._output||(this._output=this._piecewise(((t=this._niceDomain)!==null&&t!==void 0?t:this._domain).map(this._limit).map(this.transformer),this._calculateWholeRange(this._range),this._interpolate));const i=this._output(this.transformer(this._limit(this._clamp(e))));return this._fishEyeTransform?this._fishEyeTransform(i):i}base(e,t){return arguments.length?(this._base=e,this.rescale(t)):this._base}tickFormat(){return xx}d3Ticks(e=10,t){const i=this.domain(),r=this._limit(i[0]),s=this._limit(i[i.length-1]);return bMe(r,s,e,this._base,this.transformer,this.untransformer,t)}ticks(e=10){const t=this.calculateVisibleDomain(this._range);return SMe(this._limit(t[0]),this._limit(t[t.length-1]),e,this._base,this.transformer,this.untransformer)}forceTicks(e=10){const t=this.calculateVisibleDomain(this._range);return t$(t[0],t[t.length-1],e,this.transformer,this.untransformer)}stepTicks(e){const t=this.calculateVisibleDomain(this._range);return t$(this._limit(t[0]),this._limit(t[t.length-1]),e,this.transformer,this.untransformer)}getNiceConfig(){return{floor:e=>this._pows(Math.floor(this._logs(this._limit(e)))),ceil:e=>Math.abs(e)>=1?Math.ceil(e):this._pows(Math.ceil(this._logs(this._limit(e))))}}}Li(kz,xMe);class _Kt extends Q0{constructor(e){super(!1),this.type=ma.Point,this._padding=0,this.paddingInner(1,e),this.padding=this.paddingOuter,this.paddingInner=void 0,this.paddingOuter=void 0}}class n$ extends Ou{constructor(){super(eKt,tKt),this.type=ma.Sqrt}clone(){return new n$().domain(this._domain,!0).range(this._range,!0).unknown(this._unknown).clamp(this.clamp(),null,!0).interpolate(this._interpolate)}}class Oz extends Ou{constructor(){super(kpe(1),Ope(1)),this.type=ma.Symlog,this._const=1}clone(){return new Oz().domain(this._domain,!0).range(this._range,!0).unknown(this._unknown).clamp(this.clamp(),null,!0).interpolate(this._interpolate,!0).constant(this._const)}constant(e,t){return arguments.length?(this._const=e,this.transformer=kpe(e),this.untransformer=Ope(e),this.rescale(t)):this._const}d3Ticks(e=10,t){const i=this.domain(),r=i[0],s=i[i.length-1];return bMe(r,s,e,this._const,this.transformer,this.untransformer,t)}ticks(e=10){const t=this.calculateVisibleDomain(this._range);return SMe(t[0],t[t.length-1],e,this._const,this.transformer,this.untransformer)}forceTicks(e=10){const t=this.calculateVisibleDomain(this._range);return t$(t[0],t[t.length-1],e,this.transformer,this.untransformer)}stepTicks(e){const t=this.calculateVisibleDomain(this._range);return t$(t[0],t[t.length-1],e,this.transformer,this.untransformer)}}Li(Oz,xMe);class WZ{constructor(){this.type=ma.Threshold,this._range=[0,1],this._domain=[.5],this.n=1}unknown(e){return arguments.length?(this._unknown=e,this):this._unknown}scale(e){return!J(e)&&Me(+e)?this._range[VAe(this._domain,e,0,this.n)]:this._unknown}invertExtent(e){const t=this._range.indexOf(e);return[this._domain[t-1],this._domain[t]]}domain(e){return e?(this._domain=Array.from(e),this.n=Math.min(this._domain.length,this._range.length-1),this):this._domain.slice()}range(e){return e?(this._range=Array.from(e),this.n=Math.min(this._domain.length,this._range.length-1),this):this._range.slice()}clone(){return new WZ().domain(this._domain).range(this._range).unknown(this._unknown)}}function sW(n,e,t,i){let r;const{breakData:s}=n;if(s&&s()){const{breakDomains:a}=s(),o=e.domain();r=[];for(let l=0;l<o.length-1;l++)i(t,[o[l],o[l+1]]).forEach(u=>{a.some(c=>u>=c[0]&&u<=c[1])||r.push(u)});e.domain(o)}else r=i(t);return r}function Lpe(n,e,t,i,r=!1){if(t&&!e.includes(n)){let s=e.length;if(s>1){r?e.push(n):e.unshift(n);for(let a=0;a<s;a++){const o=r?s-1-a:a;if(!i(e[o]))break;e.splice(o,1),a--,s--}}}}const kM=(n,e)=>{var t,i,r,s;if(!Ei(n.type))return Em(n.domain());const a=n.range(),o=Math.abs(a[a.length-1]-a[0]);if(o<2)return Em([n.domain()[0]]);const{tickCount:l,forceTickCount:u,tickStep:c,noDecimals:d=!1,labelStyle:h,breakData:f}=e;let p;if(Y(c))g=n.stepTicks(c),m=f&&f()?f().breakDomains:null,p=m&&m.length?g.filter(_=>m.every(y=>_<y[0]||_>y[1])):g;else if(Y(u))p=sW(e,n,u,(_,y)=>y&&y.length?n.domain(y,!0).forceTicks(_):n.forceTicks(_));else if(e.tickMode==="d3"){const _=(t=Re(l)?l({axisLength:o,labelStyle:h}):l)!==null&&t!==void 0?t:5;p=sW(e,n,_,(y,x)=>x&&x.length?n.domain(x,!0).d3Ticks(y,{noDecimals:d}):n.d3Ticks(y,{noDecimals:d}))}else{const _=(i=Re(l)?l({axisLength:o,labelStyle:h}):l)!==null&&i!==void 0?i:5,y=Re(e.tickMode)?e.tickMode:void 0;p=sW(e,n,_,(x,w)=>w&&w.length?n.domain(w,!0).ticks(x,{noDecimals:d,customTicks:y}):n.ticks(x,{noDecimals:d,customTicks:y}))}var g,m;const v=n.domain();if(e.labelFirstVisible&&v[0]!==p[0]&&!p.includes(v[0])&&p.unshift(v[0]),e.labelLastVisible&&v[v.length-1]!==p[p.length-1]&&!p.includes(v[v.length-1])&&p.push(v[v.length-1]),e.sampling&&p.length>1&&(e.coordinateType==="cartesian"||e.coordinateType==="polar"&&e.axisOrientType==="radius")){const{labelGap:_=4,labelFlush:y}=e,x=6;let w;if(p.length*x>o){const T=[],E=Math.floor(p.length*x/o);p.forEach((A,k)=>{k%E!=0&&k!==p.length-1||T.push(A)}),w=(r=p7(n,T,e))===null||r===void 0?void 0:r.map((A,k)=>({AABBBounds:A,value:T[k]}))}else w=(s=p7(n,p,e))===null||s===void 0?void 0:s.map((T,E)=>({AABBBounds:T,value:p[E]}));if(w){const T=w[0],E=Xn(w),A=f&&f()?Fpe.greedy:Fpe.parity;for(;w.length>=3&&f7(w,_);)w=A(w,_);const k=e.labelFirstVisible;let P=e.labelLastVisible;yf(T,E,_)&&w.includes(E)&&w.length>1&&k&&P&&(w.splice(w.indexOf(E),1),P=!1),Lpe(T,w,k,D=>yf(D,T,_)),Lpe(E,w,P,D=>yf(D,E,_)||!(!k||D===T)&&yf(D,T,_),!0);const I=w.map(D=>D.value);I.length<3&&y&&(I.length>1&&I.pop(),Xn(I)!==Xn(p)&&I.push(Xn(p))),p=I}}return Em(p)},Fpe={parity:function(n){return n.filter((e,t)=>t%2==0)},greedy:function(n,e){let t;return n.filter((i,r)=>(!r||!yf(t,i,e))&&(t=i,!0))}},Bpe=(n,e,t,i)=>{const r=p7(n,e,t);return r&&r.map(s=>i?[s.x1,s.x2,s.width()]:[s.y1,s.y2,s.height()])},$pe=(n,e,t=0)=>Math.max(n[0],e[0])-t/2<=Math.min(n[1],e[1])+t/2,Npe=(n,e)=>n[1]<e[0]?e[0]-n[1]:e[1]<n[0]?n[0]-e[1]:0,bKt=(n,e)=>{var t;const i=n.domain();if(!i.length)return[];const{tickCount:r,forceTickCount:s,tickStep:a,labelGap:o=4,axisOrientType:l,labelStyle:u}=e,c=J7t(l),d=n.range(),h=n.calculateWholeRangeSize();if(h<2)return e.labelLastVisible?Em([i[i.length-1]]):Em([i[0]]);let f;if(Y(a))f=n.stepTicks(a);else if(Y(s))f=n.forceTicks(s);else if(Y(r)){const p=Re(r)?r({axisLength:h,labelStyle:u}):r;f=n.ticks(p)}else if(e.sampling){const p=((t=e.labelStyle.fontSize)!==null&&t!==void 0?t:12)+2,g=Sa(d),m=js(d);if(i.length<=h/p){const v=Bpe(n,i,e,c);if(v){const _=Math.min(...v.map(w=>w[2])),y=(m-g)/i.length,x=SKt(i,v,o,e.labelLastVisible,Math.floor(_/y));f=n.stepTicks(x.step),e.labelLastVisible&&(x.delCount&&(f=f.slice(0,f.length-x.delCount)),f.push(i[i.length-1]))}}else{const v=[i[0],i[Math.floor(i.length/2)],i[i.length-1]],_=Bpe(n,v,e,c);if(_){let y=null;_.forEach(w=>{y?y[2]<w[2]&&(y=w):y=w});const x=m-g-o>0?Math.ceil(i.length*(o+y[2])/(m-g-o)):i.length-1;f=n.stepTicks(x),!e.labelLastVisible||f.length&&f[f.length-1]===i[i.length-1]||(f.length&&Math.abs(n.scale(f[f.length-1])-n.scale(i[i.length-1]))<y[2]&&(f=f.slice(0,-1)),f.push(i[i.length-1]))}}}return J(f)&&(f=n.domain()),Em(f)},SKt=(n,e,t,i,r,s)=>{let a=0,o=0,l=-1,u=Number.MAX_VALUE;const c=f=>{let p=!0,g=0;do g+f<n.length&&$pe(e[g],e[g+f],t)&&(p=!1),g+=f;while(p&&g<n.length);return p},d=WAe(r,n.length,f=>c(f)?1:-1);let h=d;do if(h>d&&!c(h))h++;else{if(!i){o=h;break}{const f=n.length-1;let p,g=0;p=n.length%h>0?n.length-n.length%h+h:n.length;do{if(p-=h,p!==f&&!$pe(e[p],e[f],t))break;g++}while(p>0);if(p===f){o=h,a=g;break}{const m=Math.floor(n.length/h)-g+1;if(m<l)break;{l=m;const v=Npe(e[p],e[f]),_=p-h>=0?Npe(e[p-h],e[p]):v,y=Math.abs(v-_);if(y<u&&(u=y,o=h,a=g),v<=_)break}}}h++}while(h<=n.length);return{step:o,delCount:a}},xKt=(n,e,t)=>{var i;const{labelStyle:r,getRadius:s,labelOffset:a,labelFormatter:o,inside:l}=t,u=s==null?void 0:s(),c=(i=r.angle)!==null&&i!==void 0?i:0,d=Ww(r);return e.map(h=>{const f=o?o(h):`${h}`,{width:p,height:g}=d.quickMeasure(f),m=Math.max(p,Tpe),v=Math.max(g,Tpe),_=n.scale(h),y={x:0,y:0};let x=0,w=0;const T={align:r.textAlign,baseline:r.textBaseline},{x:E,y:A}=tYt(_,y,u,a,l);return T.align||(zs(E,y.x)?T.baseline||(T.baseline=A>y.y?"top":"bottom"):E>y.x?T.align="left":E<y.x&&(T.align="right")),x=E+(T.align==="right"?-m:T.align==="left"?0:-m/2),w=A+(T.baseline==="bottom"?-v:T.baseline==="top"?0:-v/2),new ms().set(x,w,x+m,w+v).rotate(c,x+m/2,w+v/2)})},wKt=(n,e)=>{const{tickCount:t,forceTickCount:i,tickStep:r,getRadius:s,labelOffset:a,labelGap:o=0,labelStyle:l}=e,u=s==null?void 0:s();if(!u||u<=0)return Em(n.domain());let c;if(Y(r))c=n.stepTicks(r);else if(Y(i))c=n.forceTicks(i);else if(Y(t)){const d=n.range(),h=Math.abs(d[d.length-1]-d[0]),f=Re(t)?t({axisLength:h,labelStyle:l}):t;c=n.ticks(f)}else if(e.sampling){const d=n.domain(),h=n.range(),f=xKt(n,d,e),p=Sa(h),g=js(h),m=Math.abs(g-p)*(u+a)/d.length,{step:v,delCount:_}=CKt(d,f,o,Math.floor(f.reduce((y,x)=>Math.min(y,x.width(),x.height()),Number.MAX_VALUE)/m));c=n.stepTicks(v),c=c.slice(0,c.length-_)}else c=n.domain();return Em(c)},CKt=(n,e,t,i)=>{let r=i;do{let a=!0;r++;let o=0;do o+r<n.length&&Cpe(e[o],e[o+r],t)&&(a=!1),o+=r;while(a&&o<n.length);if(a)break}while(r<=n.length);let s=0;if(n.length>2){let a=n.length-n.length%r;for(a>=n.length&&(a-=r);a>0&&Cpe(e[0],e[a]);)s++,a-=r}return{step:r,delCount:s}},Gv=new Uint32Array(33),af=new Uint32Array(33);af[0]=0,Gv[0]=~af[0];for(let n=1;n<=32;++n)af[n]=af[n-1]<<1|1,Gv[n]=~af[n];function TKt(n,e){const t=new Uint32Array(~~((n*e+32)/32));function i(s,a){t[s]|=a}function r(s,a){t[s]&=a}return{array:t,get:(s,a)=>{const o=a*n+s;return t[o>>>5]&1<<(31&o)},set:(s,a)=>{const o=a*n+s;i(o>>>5,1<<(31&o))},clear:(s,a)=>{const o=a*n+s;r(o>>>5,~(1<<(31&o)))},getRange:({x1:s,y1:a,x2:o,y2:l})=>{if(o<0||l<0||s>n||a>e)return!0;let u,c,d,h,f=l;for(;f>=a;--f)if(u=f*n+s,c=f*n+o,d=u>>>5,h=c>>>5,d===h){if(t[d]&Gv[31&u]&af[1+(31&c)])return!0}else{if(t[d]&Gv[31&u]||t[h]&af[1+(31&c)])return!0;for(let p=d+1;p<h;++p)if(t[p])return!0}return!1},setRange:({x1:s,y1:a,x2:o,y2:l})=>{if(o<0||l<0||s>n||a>e)return;let u,c,d,h,f;for(;a<=l;++a)if(u=a*n+s,c=a*n+o,d=u>>>5,h=c>>>5,d===h)i(d,Gv[31&u]&af[1+(31&c)]);else for(i(d,Gv[31&u]),i(h,af[1+(31&c)]),f=d+1;f<h;++f)i(f,4294967295)},clearRange:({x1:s,y1:a,x2:o,y2:l})=>{let u,c,d,h,f;for(;a<=l;++a)if(u=a*n+s,c=a*n+o,d=u>>>5,h=c>>>5,d===h)r(d,af[31&u]|Gv[1+(31&c)]);else for(r(d,af[31&u]),r(h,Gv[1+(31&c)]),f=d+1;f<h;++f)r(f,0)},outOfBounds:({x1:s,y1:a,x2:o,y2:l})=>s<0||a<0||l>=e||o>=n,toImageData:s=>{const a=s.createImageData(n,e),o=a.data;for(let l=0;l<e;++l)for(let u=0;u<n;++u){const c=l*n+u,d=4*c,h=t[c>>>5]&1<<(31&c);o[d+0]=255*h,o[d+1]=255*h,o[d+2]=255*h,o[d+3]=31}return a}}}function wMe(n,e,t={top:0,left:0,right:0,bottom:0}){const{top:i=0,left:r=0,right:s=0,bottom:a=0}=t,o=Math.max(1,Math.sqrt(n*e/1e6)),l=~~((n+r+s+o)/o),u=~~((e+i+a+o)/o),c=d=>~~(d/o);return c.bitmap=()=>TKt(l,u),c.x=d=>~~((d+r)/o),c.y=d=>~~((d+i)/o),c.ratio=o,c.padding=t,c.width=n,c.height=e,c}function CMe(n,e){const{x1:t,x2:i,y1:r,y2:s}=e,{top:a=0,left:o=0,right:l=0,bottom:u=0}=n.padding,c=ki(t,-o,n.width+l),d=ki(i,-o,n.width+l),h=ki(r,-a,n.height+u),f=ki(s,-a,n.height+u);return{x1:n.x(c),x2:n.x(d),y1:n.y(h),y2:n.y(f)}}function vp(n,e,t=!1){return t?CMe(n,e):{x1:n.x(e.x1),x2:n.x(e.x2),y1:n.y(e.y1),y2:n.y(e.y2)}}function WE(n,e,t,i=!0,r=0){let s=t;r>0&&(s={x1:t.x1-r,x2:t.x2+r,y1:t.y1-r,y2:t.y2+r}),s=vp(n,s);const a=e.outOfBounds(s);return(!i||!a)&&(a&&(s=CMe(n,s)),!e.getRange(s))}function aW(n,e,t,i=[],r=!0,s=0,a=!1){var o,l,u,c;const d=i.filter(v=>Y(v)),h=(o=t.attribute.x)!==null&&o!==void 0?o:0,f=(l=t.attribute.y)!==null&&l!==void 0?l:0,p=t.AABBBounds,g={x1:p.x1,x2:p.x2,y1:p.y1,y2:p.y2};let m;for(let v=0;v<d.length;v++){const _=d[v];m=_;const y=((u=_.x)!==null&&u!==void 0?u:h)-h,x=((c=_.y)!==null&&c!==void 0?c:f)-f;if(g.x1=p.x1+y,g.x2=p.x2+y,g.y1=p.y1+x,g.y2=p.y2+x,WE(n,e,g,r,s))return e.setRange(vp(n,g,!0)),_}return a&&m&&t.setAttributes(m),!1}function EKt(n,e,t,i,r,s,a){var o,l;const u=(o=i.overlap)===null||o===void 0?void 0:o.clampForce,c=(l=i.overlap)===null||l===void 0?void 0:l.overlapPadding;if(t.type==="bound"||t.type==="position"){if(Re(a)){const d=((Re(t.position)?t.position(r.attribute):t.position)||OKt(i.type)).map(f=>a(r.AABBBounds,s,f,i.offset)),h=t.restorePosition===!1;return aW(n,e,r,d,u,c,h)}return!1}if(t.type==="moveY"){const d=(t.offset?Re(t.offset)?t.offset(r.attribute):t.offset:[]).map(h=>({x:r.attribute.x,y:r.attribute.y+h}));return aW(n,e,r,d,u,c)}if(t.type==="moveX"){const d=(t.offset?Re(t.offset)?t.offset(r.attribute):t.offset:[]).map(h=>({x:r.attribute.x+h,y:r.attribute.y}));return aW(n,e,r,d,u,c)}return!1}const AKt=["top","bottom","right","left","top-right","bottom-right","top-left","bottom-left"],kKt=["top","inside-top","inside"];function OKt(n){return n==="rect"?kKt:AKt}function oW(n,e,t,i={}){const{x1:r,x2:s,y1:a,y2:o}=n.AABBBounds,{top:l=0,left:u=0,right:c=0,bottom:d=0}=i,h=Math.min(r,s),f=Math.max(r,s),p=Math.min(a,o),g=Math.max(a,o),m=e+c,v=t+d;let _=0,y=0;return h<0-u?_=-h:f>m&&(_=m-f),p<0-l?y=-p:g>v&&(y=v-g),{dx:_,dy:y}}const PKt={mode:"same-time",duration:300,easing:"linear"};function G_(n){return n===3||n===4}function MKt(n){return n===1||n===2}function IKt(n,e,t,i,r,s){if(n===0&&e===0||s<=0)return[];if(n===0){const h=-t/e,f=s**2-(h-r)**2;return f<0?[]:f===0?[{x:i,y:h}]:[{x:Math.sqrt(f)+i,y:h},{x:-Math.sqrt(f)+i,y:h}]}if(e===0){const h=-t/n,f=s**2-(h-i)**2;return f<0?[]:f===0?[{x:h,y:r}]:[{x:h,y:Math.sqrt(f)+r},{x:h,y:-Math.sqrt(f)+r}]}const a=(e/n)**2+1,o=2*((t/n+i)*(e/n)-r),l=o**2-4*a*((t/n+i)**2+r**2-s**2);if(l<0)return[];const u=(-o+Math.sqrt(l))/(2*a),c=(-o-Math.sqrt(l))/(2*a),d=-(e*u+t)/n;return l===0?[{x:d,y:u}]:[{x:d,y:u},{x:-(e*c+t)/n,y:c}]}function RKt(n,e){return e>2*n?NaN:2*Math.asin(e/2/n)}function DKt(n,e){const{x1:t,y1:i,x2:r,y2:s}=n,{x1:a,y1:o,x2:l,y2:u}=e;return!(t<=a&&r<=a||t>=l&&r>=l||i<=o&&s<=o||i>=u&&s>=u)}const LKt=(n,e,t="top",i=0)=>{if(!n)return;const{x1:r,y1:s,x2:a,y2:o}=n,l=Math.abs(a-r),u=Math.abs(o-s),c=(e.x1+e.x2)/2,d=(e.y1+e.y2)/2;let h=0,f=0,p=0,g=0;e&&(p=Math.abs(e.x1-e.x2)/2,g=Math.abs(e.y1-e.y2)/2);const m={"top-right":-235,"top-left":235,"bottom-right":45,"bottom-left":-45};switch(t){case"top":f=-1;break;case"bottom":f=1;break;case"left":h=-1;break;case"right":h=1;break;case"bottom-left":case"bottom-right":case"top-left":case"top-right":h=Math.sin(m[t]*(Math.PI/180)),f=Math.cos(m[t]*(Math.PI/180));break;case"center":h=0,f=0}return{x:c+h*(i+p)+Math.sign(h)*(l/2),y:d+f*(i+g)+Math.sign(f)*(u/2)}},FKt=n=>{if(!n||!n.attribute)return[];const{points:e,segments:t}=n.attribute;if(t&&t.length){const i=[];return t.forEach(r=>{r.points.forEach(s=>{i.push(s)})}),i}return e};function BKt(n,e,t="end",i=0){if(!n||!e)return{x:1/0,y:1/0};const{x1:r,x2:s}=n,a=Math.abs(s-r),o=e.x1;let l=o;return t==="end"?l=o+a/2+i:t==="start"&&(l=o-a/2-i),{x:l,y:e.y1}}function $Kt(n,e){if(!n||!e||pO(n,e,!0))return;const t=Math.min(n.x1,n.x2),i=Math.min(n.y1,n.y2),r=Math.min(e.x1,e.x2),s=Math.min(e.y1,e.y2),a=Math.abs(n.x2-t)/2,o=Math.abs(n.y2-i)/2,l=Math.abs(e.x2-r)/2,u=Math.abs(e.y2-s)/2,c=t+a,d=i+o,h=r+l,f=s+u,p=h-c,g=f-d;return[jpe(p,g,c,d,a,o),jpe(-p,-g,h,f,l,u)]}function jpe(n,e,t,i,r,s){return Math.abs(e/n)<s/r?{x:t+(n>0?r:-r),y:i+e*r/Math.abs(n)}:{x:t+n*s/Math.abs(e),y:i+(e>0?s:-s)}}function NKt(n){return n==="left"?0:n==="right"?1:.5}var jKt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};class zKt extends Ez{onBind(){const e=Az(this.target);this._animator=e;const t=this.duration,i=this.easing,{prevText:r,curText:s,prevLabelLine:a,curLabelLine:o,increaseEffect:l=!0}=this.params,u={};for(const h in s.attribute)r.attribute[h]!==s.attribute[h]&&(u[h]=s.attribute[h]);const{text:c}=u,d=jKt(u,["text"]);e.animate(r,{type:"to",to:d,duration:t,easing:i}),l!==!1&&e.animate(r,{type:"increaseCount",to:{text:s.attribute.text},duration:t,easing:i}),a&&e.animate(a,{type:"to",to:o.attribute,duration:t,easing:i}),this.completeBind(e)}tryPreventConflict(){}}class HKt extends Ez{onBind(){const e=Az(this.target);this._animator=e;const t=this.duration,i=this.easing,{relatedGraphic:r,relatedGraphics:s,config:a}=this.params,{mode:o,type:l="fadeIn"}=a,u=this.target;let c=0;o==="after"?r.animates&&r.animates.forEach(d=>{c=Math.max(c,d.getStartTime()+d.getTotalDuration())}):o==="after-all"?s&&s.forEach(d=>{d.animates&&d.animates.forEach(h=>{c=Math.max(c,h.getStartTime()+h.getTotalDuration())})}):r.animates&&r.animates.forEach(d=>{c=Math.max(c,d.getStartTime())}),e.animate(u,Object.assign(Object.assign({},a),{duration:t,easing:i,startTime:c,type:l})),this.completeBind(e)}tryPreventConflict(){}}function VKt(){_n.registerBuiltInAnimate("increaseCount",TYt),_n.registerBuiltInAnimate("labelUpdate",zKt),_n.registerBuiltInAnimate("labelEnter",HKt)}function WKt(){Vs(),_g(),q0(),vg(),VKt()}const zpe=(n,e)=>Math.ceil(n)>Math.floor(e),UKt=([n,e],[t,i])=>i>n&&e>t;function GKt(n,e){const[t,i]=n,[r,s]=e,a=Math.max(t,r),o=Math.min(i,s);return Math.max(0,o-a)}function YKt(n,e){const{maxY:t=Number.MAX_VALUE,labelling:i,globalShiftY:r={enable:!0,maxIterations:10,maxError:.1,padding:1}}=e,s=n.length;if(s<=1)return n;const a=new Map,o=new Map,l=w=>o.get(w).y1Initial,u=w=>o.get(w).height,c=w=>o.get(w).y1,d=w=>o.get(w).x,h=w=>o.get(w).x1,f=w=>o.get(w).x2,p=w=>o.get(w).attempts,g=(w,T)=>{o.get(w).y1=T},m=(w,T)=>{o.get(w).attempts=T};function v(w){for(let E=w.length-1;E>=0;E--){const A=w[E],k=w[E-1],P=w[E+1];if(k&&zpe(c(k)+u(k),c(A))||c(A)===0&&A._isClamped){const{y:I}=i(A);P&&zpe(I+u(A)/2,c(P))||I+u(A)/2<=t&&g(A,c(A)+I-(T=A,o.get(T).y))}}var T}n.sort((w,T)=>w.attribute.x-T.attribute.x);for(const w of n){const{y1:T,y2:E,x1:A,x2:k}=w.AABBBounds,{x:P,y:I}=w.attribute;o.set(w,{y1Initial:T,y1:T,y2:E,y:I,height:E-T,x1:A,x2:k,x:P,attempts:0});let D=!1;for(const[L,B]of a){const{start:F,end:$}=L;if(A>=F&&k<=$)B.push(w),D=!0;else if(zs(P,d(B[0]),void 0,5)){const z={start:Math.min(F,A),end:Math.max($,k)};B.push(w),a.set(z,B),a.delete(L),D=!0}else if(GKt([F,$],[A,k])/($-F)>.5){const z={start:Math.min(F,A),end:Math.max($,k)};B.push(w),a.set(z,B),a.delete(L),D=!0}if(D)break}D||a.set({start:A,end:k},[w])}for(const w of a.values())w.sort((T,E)=>l(T)-l(E)),v(w);if(r.enable!==!1){const{maxIterations:w=10,maxError:T=.1,padding:E=1,maxAttempts:A=1e3,deltaYTolerance:k=Number.MAX_VALUE}=r;for(let P=0;P<w;P++){n.sort((D,L)=>l(D)-l(L));let I=0;for(let D=0;D<s-1;D++){const L=n[D];if(p(L)>=A)continue;let B,F=D+1;for(;(B=n[F])&&!UKt([h(L),f(L)],[h(B),f(B)]);)F+=1;if(B){const $=c(L),z=u(L),N=c(B),V=N-($+z);if(V<E){const H=(E-V)/2;if(I=Math.max(I,H),$+H+u(B)>t){const K=$-(E-V),U=l(L)-K;Math.abs(U)<=k&&(g(L,K),m(L,p(L)+1))}else if($-H<0){const K=N+(E-V),U=l(B)-K;Math.abs(U)<=k&&(g(B,K),m(B,p(B)+1))}else{const K=$-H,U=l(L)-K,X=N+H,Z=l(B)-X;Math.abs(U)<=k&&Math.abs(Z)<=k&&(g(L,K),g(B,X),m(L,p(L)+1),m(B,p(B)+1))}}}}if(I<T)break}}for(const w of n){const T=w.attribute.y+c(w)-l(w);w.setAttribute("y",T)}const _=[];n.sort((w,T)=>w.attribute.x-T.attribute.x);let y=0,x=n.length-1;for(;y<=x;)y===x?_.push(n[y]):(_.push(n[y]),_.push(n[x])),y++,x--;return _}var KKt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};WKt();class a_ extends RPe{setBitmap(e){this._bitmap=e}setBitmapTool(e){this._bmpTool=e}constructor(e,t){const{data:i}=e,r=KKt(e,["data"]);super(t!=null&&t.skipDefault?e:Object.assign({data:i},We({},a_.defaultAttributes,r))),this.name="label",this._onHover=s=>{const a=s.target;a===this._lastHover||Lt(a.states)||(a.addState(ea.hover,!0),vf(this,o=>{o===a||Lt(o.states)||o.addState(ea.hoverReverse,!0)}),this._lastHover=a)},this._onUnHover=s=>{this._lastHover&&(vf(this,a=>{Lt(a.states)||(a.removeState(ea.hoverReverse),a.removeState(ea.hover))}),this._lastHover=null)},this._onClick=s=>{const a=s.target;if(this._lastSelect===a&&a.hasState("selected"))return this._lastSelect=null,void vf(this,o=>{Lt(o.states)||(o.removeState(ea.selectedReverse),o.removeState(ea.selected))});Lt(a.states)||(a.addState(ea.selected,!0),vf(this,o=>{o===a||Lt(o.states)||o.addState(ea.selectedReverse,!0)}),this._lastSelect=a)},this._handleRelatedGraphicSetState=s=>{var a,o,l,u,c;if(((a=s.detail)===null||a===void 0?void 0:a.type)===Za.STATE||((o=s.detail)===null||o===void 0?void 0:o.type)===Za.ANIMATE_UPDATE&&(!((l=s.detail.animationState)===null||l===void 0)&&l.isFirstFrameOfStep)){const d=(c=(u=s.target)===null||u===void 0?void 0:u.currentStates)!==null&&c!==void 0?c:[],h=this._isCollectionBase?[...this._graphicToText.values()]:[this._graphicToText.get(s.target)];this.updateStatesOfLabels(h,d)}}}labeling(e,t,i,r){}_getLabelLinePoints(e,t){return $Kt(e.AABBBounds,t==null?void 0:t.AABBBounds)}_createLabelLine(e,t){const i=this._getLabelLinePoints(e,t);if(i){const r=It.line({points:i}),{line:s={}}=e.attribute;if(s.customShape){const a=s.customShape;r.pathProxy=o=>a({text:e,baseMark:t},o,new Ts)}return t&&t.getAttributes(!0).fill&&r.setAttribute("stroke",t.getAttributes(!0).fill),this.attribute.line&&!Lt(this.attribute.line.style)&&r.setAttributes(this.attribute.line.style),this._setStatesOfLabelLine(r),r}}render(){if(this._prepare(),J(this._idToGraphic)||this._isCollectionBase&&J(this._idToPoint))return;const e=[];this._enableAnimation!==!1&&this._baseMarks.forEach(d=>{e.push(d.attribute),d.initAttributes(d.getAttributes(!0))});const{overlap:t,smartInvert:i,dataFilter:r,customLayoutFunc:s,customOverlapFunc:a}=this.attribute;let o=this.attribute.data;if(Re(r)&&(o=r(o)),o&&o.length){const d=new Set;o=o.filter(h=>!d.has(h.id)&&d.add(h.id))}let l=this._initText(o);l=Re(s)?s(o,l,this.getRelatedGraphic.bind(this),this._isCollectionBase?d=>this._idToPoint.get(d.id):null,this):this._layout(l);const u=[],c=l;if(!Va(t)&&Re(t==null?void 0:t.filterBeforeOverlap)){const d=this.getRelatedGraphic.bind(this);l.forEach(h=>{t.filterBeforeOverlap(h,d,this)?c.push(h):u.push(h)})}Re(a)?l=a(c,this.getRelatedGraphic.bind(this),this._isCollectionBase?d=>this._idToPoint.get(d.id):null,this).concat(u):t!==!1&&(l=this._overlapping(c).concat(u)),Re(this.attribute.onAfterOverlapping)&&this.attribute.onAfterOverlapping(l,this.getRelatedGraphic.bind(this),this._isCollectionBase?d=>this._idToPoint.get(d.id):null,this),l&&l.length&&l.forEach(d=>{this._bindEvent(d),this._setStatesOfText(d)}),i!==!1&&this._smartInvert(l),this._renderLabels(l),this._enableAnimation!==!1&&this._baseMarks.forEach((d,h)=>{d.initAttributes(e[h])})}_bindEvent(e){if(this.attribute.disableTriggerEvent||!e)return;const{hover:t,select:i}=this.attribute;t&&(e.addEventListener("pointermove",this._onHover),e.addEventListener("pointerout",this._onUnHover)),i&&e.addEventListener("pointerdown",this._onClick)}_setStatesOfText(e){if(!e)return;const t=this.attribute.state;t&&!Lt(t)&&(e.states=t)}_setStatesOfLabelLine(e){if(!e)return;const t=this.attribute.labelLineState;t&&!Lt(t)&&(e.states=t)}_createLabelText(e){var t,i;const r=Object.assign(Object.assign({},(i=(t=this.stage)===null||t===void 0?void 0:t.getTheme())===null||i===void 0?void 0:i.text),e);return BO(r,"textType")}_prepare(){var e,t;const i=[];let r;if(r=Re(this.attribute.getBaseMarks)?this.attribute.getBaseMarks():T8t(this.getRootNode(),this.attribute.baseMarkGroupName),r.forEach(a=>{a.releaseStatus!=="willRelease"&&i.push(a)}),(e=this._idToGraphic)===null||e===void 0||e.clear(),(t=this._idToPoint)===null||t===void 0||t.clear(),this._baseMarks=i,this._isCollectionBase=this.attribute.type==="line-data",!i||i.length===0)return;const{data:s}=this.attribute;if(s&&s.length!==0){if(this._idToGraphic||(this._idToGraphic=new Map),this._isCollectionBase){this._idToPoint||(this._idToPoint=new Map);let a=0;for(let o=0;o<i.length;o++){const l=i[o],u=FKt(l);if(u&&u.length)for(let c=0;c<u.length;c++){const d=s[a];d&&u[c]&&(Y(d.id)||(d.id=`vrender-component-${this.name}-${a}`),this._idToPoint.set(d.id,u[c]),this._idToGraphic.set(d.id,l)),a++}}}else for(let a=0;a<i.length;a++){const o=s[a],l=i[a];o&&l&&(Y(o.id)||(o.id=`vrender-component-${this.name}-${a}`),this._idToGraphic.set(o.id,l))}this._prepareAnimate(PKt)}}getRelatedGraphic(e){return this._idToGraphic.get(e.id)}_initText(e=[]){const{textStyle:t={}}=this.attribute,i=[];for(let r=0;r<e.length;r++){const s=e[r],a=this.getRelatedGraphic(s);if(!a)continue;const o=a.getAttributes(!0),l=Object.assign(Object.assign({fill:this._isCollectionBase?Oe(o.stroke)?o.stroke.find(c=>!!c&&c!==!0):o.stroke:o.fill},t),s),u=this._createLabelText(l);i.push(u)}return i}_layout(e){const{position:t,offset:i}=this.attribute;for(let r=0;r<e.length;r++){const s=e[r];if(!s)return[];const a=s.attribute,o=this.getRelatedGraphic(a);if(!o)continue;s.attachedThemeGraphic=this;const l=this.getGraphicBounds(s);s.attachedThemeGraphic=null;const u=Re(t)?t(a):t,c=this._isCollectionBase?this.getGraphicBounds(null,this._idToPoint.get(a.id),u):this.getGraphicBounds(o,{x:a.x,y:a.y},u),d=this.labeling(l,c,u,i);d&&s.setAttributes(d)}return e}_overlapping(e){var t,i,r;if(e.length===0)return[];const s=pn(this.attribute.overlap)?this.attribute.overlap:{},a=this.getBaseMarkGroup(),o=(t=s.size)!==null&&t!==void 0?t:{width:(i=a==null?void 0:a.AABBBounds.width())!==null&&i!==void 0?i:0,height:(r=a==null?void 0:a.AABBBounds.height())!==null&&r!==void 0?r:0};if(o.width===0||o.height===0)return e;const{strategy:l,priority:u}=s,c=this._bmpTool||wMe(o.width,o.height),d=this._bitmap||c.bitmap();return u&&(e=e.sort((h,f)=>u(f.attribute.data)-u(h.attribute.data))),(l==null?void 0:l.type)==="shiftY"?this._overlapGlobal(e,s,c,d):this._overlapByStrategy(e,s,c,d)}_overlapGlobal(e,t,i,r){let s=e.filter(d=>d.attribute.visible&&d.attribute.opacity!==0&&this.isMarkInsideRect(this.getRelatedGraphic(d.attribute),i));const{clampForce:a=!0,hideOnHit:o=!0,hideOnOverflow:l=!1,overlapPadding:u,strategy:c}=t;if(a||l)for(let d=0;d<s.length;d++){const h=e[d],{dx:f=0,dy:p=0}=oW(h,i.width,i.height,i.padding);f===0&&p===0||(l?h.setAttributes({visible:!1}):(h.setAttributes({x:h.attribute.x+f,y:h.attribute.y+p}),h._isClamped=!0))}s=YKt(s,Object.assign(Object.assign({maxY:i.height},c),{labelling:d=>{const h=this.getRelatedGraphic(d.attribute),f=this._isCollectionBase?this.getGraphicBounds(null,this._idToPoint.get(d.attribute.id)):this.getGraphicBounds(h,d);return this.labeling(d.AABBBounds,f,"bottom",this.attribute.offset)}}));for(let d=0;d<s.length;d++){const h=s[d],f=h.AABBBounds,p=vp(i,f,!0);if(WE(i,r,f,a||l,u))r.setRange(p);else{if(l){if(this._processHideOnOverflow(h,i))continue}else if(a&&this._processClampForce(h,i,r,u))continue;o?h.setAttributes({visible:!1}):r.setRange(p)}}return s}_processHideOnOverflow(e,t){const{dy:i=0,dx:r=0}=oW(e,t.width,t.height,t.padding);return r===0&&i===0||(e.setAttributes({visible:!1}),!1)}_processClampForce(e,t,i,r=0){const{dy:s=0,dx:a=0}=oW(e,t.width,t.height,t.padding);if(a===0&&s===0){if(WE(t,i,e.AABBBounds,!1,r))return i.setRange(vp(t,e.AABBBounds,!0)),!0}else if(WE(t,i,{x1:e.AABBBounds.x1+a,x2:e.AABBBounds.x2+a,y1:e.AABBBounds.y1+s,y2:e.AABBBounds.y2+s}))return e.setAttributes({x:e.attribute.x+a,y:e.attribute.y+s}),i.setRange(vp(t,e.AABBBounds,!0)),!0;return!1}_overlapByStrategy(e,t,i,r){var s;const{avoidBaseMark:a,strategy:o=[],hideOnHit:l=!0,clampForce:u=!0,avoidMarks:c=[],overlapPadding:d,hideOnOverflow:h=!1}=t,f=[],p=o.some(g=>g.type==="bound");a&&((s=this._baseMarks)===null||s===void 0||s.forEach(g=>{g.AABBBounds&&r.setRange(vp(i,g.AABBBounds,!0))})),c.length>0&&c.forEach(g=>{Jt(g)?E8t(this.getRootNode(),g).forEach(m=>{m.AABBBounds&&r.setRange(vp(i,m.AABBBounds,!0))}):g.AABBBounds&&r.setRange(vp(i,g.AABBBounds,!0))});for(let g=0;g<e.length;g++){if(e[g].attribute.visible===!1)continue;const m=e[g],v=this.getRelatedGraphic(m.attribute);if(m.update(),!this.isMarkInsideRect(v,i))continue;if(WE(i,r,m.AABBBounds,u||h,d)){if(!p){r.setRange(vp(i,m.AABBBounds,!0)),f.push(m);continue}if(p&&v&&v.AABBBounds&&this._canPlaceInside(m.AABBBounds,v.AABBBounds)){r.setRange(vp(i,m.AABBBounds,!0)),f.push(m);continue}}let _=!1;for(let y=0;y<o.length;y++)if(_=EKt(i,r,o[y],this.attribute,m,this._isCollectionBase?this.getGraphicBounds(null,this._idToPoint.get(e[g].attribute.id)):this.getGraphicBounds(v,e[g].attribute),this.labeling),_!==!1&&(m.setAttributes({x:_.x,y:_.y}),!h||this._processHideOnOverflow(m,i))){f.push(m);break}if(!_){if(h&&!this._processHideOnOverflow(m,i))continue;if(u&&this._processClampForce(m,i,r,d)){f.push(m);continue}}!_&&!l&&f.push(m)}return f}isMarkInsideRect(e,t){const{left:i,right:r,top:s,bottom:a}=t.padding,o={x1:-i,x2:t.width+r,y1:-s,y2:t.height+a},l=e.AABBBounds;if(l.width()!==0&&l.height()!==0)return pO(e.AABBBounds,o,!0);const{attribute:u}=e;if(e.type==="rect"){const{x:c,x1:d,y:h,y1:f}=u;return bA({x:c??d,y:h??f},o,!0)}return"x"in u&&"y"in u&&bA({x:u.x,y:u.y},o,!0)}getBaseMarkGroup(){const{baseMarkGroupName:e}=this.attribute;if(e)return this.getRootNode().find(t=>t.name===e,!0)}getGraphicBounds(e,t={},i){var r;if(e){if(e.attribute.visible!==!1){if(!((r=e.context)===null||r===void 0)&&r.animationState){const u=e.clone();return Object.assign(u.attribute,e.getAttributes(!0)),u.AABBBounds}return e.AABBBounds}const{x:o,y:l}=e.attribute;return{x1:o,x2:o,y1:l,y2:l}}if(t&&i&&i==="inside-middle"){const{x:o,y:l,x1:u=o,y1:c=l}=t;return{x1:(o+u)/2,x2:(o+u)/2,y1:(l+c)/2,y2:(l+c)/2}}const{x:s,y:a}=t;return{x1:s,x2:s,y1:a,y2:a}}_renderLabels(e){var t;const{syncState:i}=this.attribute,r=new Map,s=this._graphicToText||new Map,a=[],o=[],{visible:l}=(t=this.attribute.line)!==null&&t!==void 0?t:{};e&&e.forEach((u,c)=>{var d;const h=this.getRelatedGraphic(u.attribute),f=this._isCollectionBase?u.attribute.id:h,p=s!=null&&s.get(f)?"update":"enter";let g;l&&(g=this._createLabelLine(u,h));const m=g?{text:u,labelLine:g}:{text:u};if(i&&this.updateStatesOfLabels([m],(d=h.currentStates)!==null&&d!==void 0?d:[]),p==="enter")a.push(u),r.set(f,m),this._addLabel(m,a,o,c);else if(p==="update"){const v=s.get(f);s.delete(f),r.set(f,v),this._updateLabel(v,m)}}),this._removeLabel(s),this._graphicToText=r}runEnterAnimation(e,t){if(this._enableAnimation===!1||!this._animationConfig.enter)return;const i=this.getRelatedGraphic(e.attribute),{enter:r}=this._animationConfig;[e,t].filter(Boolean).forEach(s=>{var a;(a=s.setFinalAttributes)===null||a===void 0||a.call(s,s.attribute),s.applyAnimationState(["enter"],[{name:"enter",animation:Object.assign(Object.assign({},r),{type:"labelEnter",selfOnly:!0,customParameters:{relatedGraphic:i,relatedGraphics:this._idToGraphic,config:Object.assign(Object.assign({},r),{type:s===e?r.type:"fadeIn"})}})}])})}_runUpdateAnimation(e,t){const{text:i,labelLine:r}=e,{text:s,labelLine:a}=t;i.applyAnimationState(["update"],[{name:"update",animation:{type:"labelUpdate",customParameters:Object.assign(Object.assign({},this._animationConfig.update),{prevText:i,curText:s,prevLabelLine:r,curLabelLine:a})}}])}_syncStateWithRelatedGraphic(e){this.attribute.syncState&&e&&e.on("afterStateUpdate",this._handleRelatedGraphicSetState)}_addLabel(e,t,i,r){const{text:s,labelLine:a}=e,o=this.getRelatedGraphic(s.attribute);this._syncStateWithRelatedGraphic(o),s&&this.add(s),a&&this.add(a),this.runEnterAnimation(s,a)}_updateLabel(e,t){const{text:i,labelLine:r}=e,{text:s,labelLine:a}=t;this._enableAnimation===!1||this._animationConfig.update===!1?(e.text.setAttributes(s.attribute),r&&a&&e.labelLine.setAttributes(a.attribute)):this._runUpdateAnimation(e,t)}_removeLabel(e){const t=i=>{this.removeChild(i.text),i.labelLine&&this.removeChild(i.labelLine)};this._enableAnimation!==!1&&this._animationConfig.exit!==!1?e.forEach(i=>{var r;i.text.applyAnimationState(["exit"],[{name:"exit",animation:Object.assign(Object.assign({},this._animationConfig.exit),{type:"fadeOut"})}],()=>{t(i)}),(r=i.labelLine)===null||r===void 0||r.applyAnimationState(["exit"],[{name:"exit",animation:Object.assign(Object.assign({},this._animationConfig.exit),{type:"fadeOut"})}],()=>{})}):e.forEach(i=>{t(i)})}updateStatesOfLabels(e,t){e.forEach(i=>{i&&(i.text&&i.text.useStates(t),i.labelLine&&i.labelLine.useStates(t))})}_smartInvert(e){var t,i,r,s,a,o,l;const u=pn(this.attribute.smartInvert)?this.attribute.smartInvert:{},{textType:c,contrastRatiosThreshold:d,alternativeColors:h,mode:f,interactInvertType:p}=u,g=(t=u.fillStrategy)!==null&&t!==void 0?t:"invertBase",m=(i=u.strokeStrategy)!==null&&i!==void 0?i:"base",v=(r=u.brightColor)!==null&&r!==void 0?r:"#ffffff",_=(s=u.darkColor)!==null&&s!==void 0?s:"#000000",y=(a=u.outsideEnable)!==null&&a!==void 0&&a;if(g!=="null"||m!=="null")for(let x=0;x<e.length;x++){const w=e[x];if(!w)continue;const T=this.getRelatedGraphic(w.attribute);let E=T.getAttributes(!0).fill,A=w.attribute.fill;if(pn(E)&&E.gradient){const L=(l=(o=E.stops)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.color;L&&(E=L,A=L)}const k=ape(A,E,c,d,h,f),P=RZ(k,v)?v:_,I=this._canPlaceInside(w.AABBBounds,T.AABBBounds),D=!I&&w.AABBBounds&&T.AABBBounds&&T.AABBBounds.intersects(w.AABBBounds);if(I||y||D&&p==="inside"){const L=ID(g,E,k,P);if(L&&w.setAttributes({fill:L}),w.attribute.lineWidth===0||w.attribute.strokeOpacity===0)continue;const B=ID(m,E,k,P);B&&w.setAttributes({stroke:B})}else if(D&&p!=="none"){if(w.attribute.lineWidth===0||w.attribute.strokeOpacity===0)continue;if(w.attribute.stroke){w.setAttributes({fill:ape(w.attribute.fill,w.attribute.stroke,c,d,h,f)});continue}const L=ID(g,E,k,P);L&&w.setAttributes({fill:L});const B=ID(m,E,k,P);B&&w.setAttributes({stroke:B})}}}_canPlaceInside(e,t){return!(!e||!t)&&t.encloses(e)}setLocation(e){this.translateTo(e.x,e.y)}disableAnimation(){this._enableAnimation=!1}enableAnimation(){this._enableAnimation=!0}}a_.defaultAttributes={textStyle:{fontSize:12,textAlign:"center",textBaseline:"middle",boundsPadding:[-2,-1,-2,-1]},offset:0,pickable:!1};const TMe={},zC=(n,e)=>{TMe[n]=e},XKt=n=>TMe[n];var qKt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};class NO extends a_{constructor(e,t){const{data:i}=e,r=qKt(e,["data"]);super(t!=null&&t.skipDefault?e:Object.assign({data:i},We({},NO.defaultAttributes,r))),this.name="symbol-label"}labeling(e,t,i="top",r=0){return LKt(e,t,i,r)}}NO.defaultAttributes={textStyle:{fill:"#000"},position:"top",offset:5};const Pz=()=>{zC("symbol",NO),zC("line-data",NO)};var ZKt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};class jO extends a_{constructor(e,t){const{data:i}=e,r=ZKt(e,["data"]);super(t!=null&&t.skipDefault?e:Object.assign({data:i},We({},jO.defaultAttributes,r)))}labeling(e,t,i="top",r=0){if(!e||!t)return;const{x1:s,y1:a,x2:o,y2:l}=e,u=Math.abs(o-s),c=Math.abs(l-a),{x:d,y:h}=JAe(t,i);let f=0,p=0;const g=i.includes("inside");switch(i.includes("top")?p=g?1:-1:i.includes("bottom")?p=g?-1:1:i.includes("left")?f=g?1:-1:i.includes("right")&&(f=g?-1:1),i){case"top-right":case"bottom-right":f=-1;break;case"top-left":case"bottom-left":f=1}return{x:d+f*r+f*u/2,y:h+p*r+p*c/2}}}jO.tag="rect-label",jO.defaultAttributes={textStyle:{fill:"#000"},position:"top",offset:5};const QKt=()=>{zC("rect",jO)};var JKt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};let _7=class EMe extends a_{constructor(e,t){const{data:i}=e,r=JKt(e,["data"]);super(t!=null&&t.skipDefault?e:Object.assign({data:i},We({},EMe.defaultAttributes,r))),this.name="line-label"}getGraphicBounds(e,t={},i="end"){if(!e||e.type!=="line"&&e.type!=="area")return super.getGraphicBounds(e,t);let r=e.attribute.points;const s=e.attribute.segments;!r&&s&&s.length&&(r=s.reduce((o,l)=>{var u;return o.concat((u=l.points)!==null&&u!==void 0?u:[])},[])),r&&r.length!==0||(r=[t]);const a=i==="start"?0:r.length-1;return r[a]?{x1:r[a].x,x2:r[a].x,y1:r[a].y,y2:r[a].y}:void 0}labeling(e,t,i="end",r=0){return BKt(e,t,i,r)}};_7.defaultAttributes={textStyle:{fill:"#000"},position:"end",offset:6};const AMe=()=>{zC("line",_7),zC("area",_7)};var e9t=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};class t9t{constructor(e,t,i,r,s,a,o,l,u){this.refDatum=e,this.center=t,this.outerCenter=i,this.quadrant=r,this.radian=s,this.middleAngle=a,this.innerRadius=o,this.outerRadius=l,this.circleCenter=u,this.labelVisible=!0}getLabelBounds(){return this.labelPosition&&this.labelSize?{x1:this.labelPosition.x-this.labelSize.width/2,y1:this.labelPosition.y-this.labelSize.height/2,x2:this.labelPosition.x+this.labelSize.width/2,y2:this.labelPosition.y+this.labelSize.height/2}:{x1:0,x2:0,y1:0,y2:0}}}class Mz extends a_{constructor(e,t){const{data:i}=e,r=e9t(e,["data"]);super(t!=null&&t.skipDefault?e:Object.assign({data:i},We({},Mz.defaultAttributes,r))),this.name="arc-label",this._ellipsisWidth=0,this._arcLeft=new Map,this._arcRight=new Map,this._line2MinLength=0,this._alignOffset=0}_overlapping(e){return["inside","inside-center"].includes(this.attribute.position)?super._overlapping(e):e}labeling(e,t,i="outside",r=0){if(e&&t)return{x:0,y:0}}_layout(e){var t,i,r;if(!e||!e.length)return[];const s=super._layout(e),a=s.map(h=>this.getGraphicBounds(h)),o=Object.assign(Object.assign({},this.attribute.textStyle),{text:""});let l=1/0;if(o.ellipsis!==!1){const h=this._createLabelText(o),f=this.getGraphicBounds(h);l=f.x2-f.x1}const u=s.map(h=>h.attribute),c=Array.from(this._idToGraphic.values());this._line2MinLength=Re(this.attribute.line.line2MinLength)?this.attribute.line.line2MinLength(e,c,this.attribute):this.attribute.line.line2MinLength,this._alignOffset=(t=Re(this.attribute.layout.alignOffset)?this.attribute.layout.alignOffset(e,c,this.attribute):this.attribute.layout.alignOffset)!==null&&t!==void 0?t:0;const d=this.layoutArcLabels(this.attribute.position,this.attribute,c,u,a,l);for(let h=0;h<u.length;h++){const f=u[h],p=d.find(g=>{var m;return((m=g.refDatum)===null||m===void 0?void 0:m.id)===f.id});if(p){const g={visible:p.labelVisible,x:p.labelPosition.x,y:p.labelPosition.y,angle:p.angle,points:p.pointA&&p.pointB&&p.pointC?[p.pointA,p.pointB,p.pointC]:void 0,line:p.labelLine};s[h].type==="richtext"?g.width=(i=p.labelLimit)!==null&&i!==void 0?i:s[h].attribute.width:g.maxLineWidth=(r=p.labelLimit)!==null&&r!==void 0?r:s[h].attribute.maxLineWidth,p.refArc&&p.refArc.type==="arc3d"&&(g.anchor3d=[p.circleCenter.x-g.x,p.circleCenter.y-g.y],g.beta=p.refArc.attribute.beta),s[h].setAttributes(g)}}return s}layoutArcLabels(e,t,i,r,s,a){this._arcLeft.clear(),this._arcRight.clear(),this._ellipsisWidth=a;let o=0;i.forEach(d=>{d.attribute.outerRadius>o&&(o=d.attribute.outerRadius)}),r.forEach((d,h)=>{var f,p;const g=this._idToGraphic.get(d.id),m=g.getAttributes(!0),v={x:(f=m==null?void 0:m.x)!==null&&f!==void 0?f:0,y:(p=m==null?void 0:m.y)!==null&&p!==void 0?p:0};if(!J(r[h])&&!J(s[h])){const _=r[h]?r[h]:null,y=s[h]?s[h]:{x1:0,x2:0,y1:0,y2:0},x=(m.startAngle+m.endAngle)/2,w=m.endAngle-m.startAngle,T=YAe(m.endAngle-w/2),E=Sr(v,m.outerRadius,x),A=Sr(v,o+t.line.line1MinLength,x),k=new t9t(_,E,A,T,w,x,m.innerRadius,m.outerRadius,v);k.refArc=g,k.pointA=Sr(v,this.computeDatumRadius(2*v.x,2*v.y,m.outerRadius),k.middleAngle),k.labelSize={width:y.x2-y.x1,height:y.y2-y.y1},MKt(k.quadrant)?this._arcRight.set(k.refDatum,k):G_(k.quadrant)&&this._arcLeft.set(k.refDatum,k)}});const l=Array.from(this._arcLeft.values()),u=Array.from(this._arcRight.values()),c=[];switch(e){case"inside":case"inside-inner":case"inside-outer":case"inside-center":c.push(...this._layoutInsideLabels(u,t,i)),c.push(...this._layoutInsideLabels(l,t,i));break;default:c.push(...this._layoutOutsideLabels(u,t,i)),c.push(...this._layoutOutsideLabels(l,t,i))}return c}_layoutInsideLabels(e,t,i){var r,s;const a=t,o=a.spaceWidth,l=(r=a.position)!==null&&r!==void 0?r:"inside",u=(s=a.offsetRadius)!==null&&s!==void 0?s:-o;return e.forEach(c=>{var d,h,f;const{labelSize:p,radian:g}=c,m=c.innerRadius,v=c.outerRadius;let _;if(g<RKt(v,p.height))_=0;else{let A;A=g>=Math.PI?m:Math.max(m,p.height/2/Math.tan(g/2)),_=v-A-o}a.rotate!==!0&&(_=v-o);const y=this._getFormatLabelText(c.refDatum,_);c.labelText=y;const x=Math.min(_,c.labelSize.width),w=this._computeAlign(c,t);let T,E=0;if(l==="inside"&&(E=w==="left"?x:w==="right"?0:x/2),T=l==="inside-inner"?m-u+E:l==="inside-center"?m+(v-m)/2:v+u-E,c.labelPosition=Sr(c.circleCenter,T,c.middleAngle),c.labelLimit=x,Xg(x,0)||(c.labelVisible=!1),a.rotate!==!1){c.angle=(h=(d=t.textStyle)===null||d===void 0?void 0:d.angle)!==null&&h!==void 0?h:c.middleAngle;let A=(f=a.offsetAngle)!==null&&f!==void 0?f:0;["inside-inner","inside-outer"].includes(l)&&(A+=Math.PI/2),c.angle+=A}}),e}_layoutOutsideLabels(e,t,i){var r,s,a;const o=(r=i[0].attribute.x)!==null&&r!==void 0?r:0,l=2*((s=i[0].attribute.y)!==null&&s!==void 0?s:0),u=t.layout,c=t.spaceWidth;if(e.forEach(h=>{const f=G_(h.quadrant)?-1:1;h.labelPosition={x:h.outerCenter.x+f*(h.labelSize.width/2+this._line2MinLength+c),y:h.outerCenter.y}}),e.sort((h,f)=>h.labelPosition.y-f.labelPosition.y),t.coverEnable!==!1||u.strategy==="none"){for(const h of e){const{labelPosition:f,labelSize:p}=h;h.labelLimit=p.width,h.pointB=G_(h.quadrant)?{x:f.x+p.width/2+this._line2MinLength+c,y:f.y}:{x:f.x-p.width/2-this._line2MinLength-c,y:f.y},this._computeX(h,t,i)}t.coverEnable===!1&&u.strategy==="none"&&this._coverLabels(e)}else{const h=l/(((a=t.textStyle)===null||a===void 0?void 0:a.fontSize)||16);this._adjustY(e,h,t,i);const{minY:f,maxY:p}=e.reduce((v,_)=>{const{y1:y,y2:x}=_.getLabelBounds();return v.minY=Math.max(0,Math.min(y,v.minY)),v.maxY=Math.min(l,Math.max(x,v.maxY)),v},{minY:1/0,maxY:-1/0}),g=Math.max(Math.abs(l/2-f),Math.abs(p-l/2)),m=this._computeLayoutRadius(g,t,i);for(const v of e)this._computePointB(v,m,t,i),this._computeX(v,t,i)}const d=2*o;return e.forEach(h=>{var f,p;h.labelVisible&&(gp(h.pointB.x,this._line2MinLength+c)||Xg(h.pointB.x,d-this._line2MinLength-c))&&(h.labelVisible=!1),h.angle=(p=(f=t.textStyle)===null||f===void 0?void 0:f.angle)!==null&&p!==void 0?p:0,t.offsetAngle&&(h.angle+=t.offsetAngle),h.labelLine=Object.assign(Object.assign({},t.line),{visible:h.labelVisible})}),e}_computeX(e,t,i){var r;const s=e.circleCenter,a=0,o=this.attribute.width;this.attribute.height;let l=0;i.forEach(k=>{k.getAttributes(!0).outerRadius>l&&(l=k.getAttributes(!0).outerRadius)});const u=this.computeLayoutOuterRadius(l,t.width,t.height),c=t.line.line1MinLength,d=(r=t.layout)===null||r===void 0?void 0:r.align,h=t.spaceWidth,{labelPosition:f,quadrant:p,pointB:g}=e;Me(g.x*g.y)||(e.pointC={x:NaN,y:NaN},f.x=NaN,e.labelLimit=0);const m=this.computeRadius(u,t.width,t.height),v=G_(p)?-1:1;let _=0,y=(v>0?o-g.x:g.x-a)+this._alignOffset-this._line2MinLength-h;d==="labelLine"&&(_=(m+c+this._line2MinLength)*v+s.x,y=(v>0?o-_:_-a)-h);const x=this._getFormatLabelText(e.refDatum,y);e.labelText=x;let w=Math.min(y,e.labelSize.width);switch(d){case"labelLine":break;case"edge":_=v>0?o-w-h:a+w+h;break;default:_=g.x+v*this._line2MinLength}w=Math.max(this._ellipsisWidth,w);const T=w<e.labelSize.width-1;e.labelLimit=T?w:null,e.pointC={x:_,y:f.y};const E=this._computeAlign(e,t),A=NKt(E)*(T?w:e.labelSize.width);d==="edge"?(f.x=(v>0?o:a)-v*A+v*this._alignOffset,e.pointC.x+=v*this._alignOffset):f.x=_+v*(this._alignOffset+h+A)}_computeAlign(e,t){var i,r,s,a,o,l;const u=t,c=(r=(i=u.textStyle)===null||i===void 0?void 0:i.textAlign)!==null&&r!==void 0?r:(s=u.textStyle)===null||s===void 0?void 0:s.align,d=(o=(a=u.layout)===null||a===void 0?void 0:a.textAlign)!==null&&o!==void 0?o:(l=u.layout)===null||l===void 0?void 0:l.align;return u.position!=="inside"?J(c)||c==="auto"?d==="edge"?G_(e.quadrant)?"left":"right":G_(e.quadrant)?"right":"left":c:J(c)||c==="auto"?"center":c}_getFormatLabelText(e,t){var i;return(i=e==null?void 0:e.text)!==null&&i!==void 0?i:""}_adjustY(e,t,i,r){var s;r[0].attribute.x;const a=2*((s=r[0].attribute.y)!==null&&s!==void 0?s:0),o=i.layout;if(o.strategy==="vertical"){let l,u=0;const c=e.length;if(c<=0)return;for(let h=0;h<c;h++){const{y1:f}=e[h].getLabelBounds();if(l=f-u,gp(l,0)){const g=this._shiftY(e,h,c-1,-l);this._shiftY(e,g,0,l/2)}const{y2:p}=e[h].getLabelBounds();u=p}const{y1:d}=e[0].getLabelBounds();l=d-0,gp(l,0)&&this._shiftY(e,0,c-1,-l);for(let h=e.length-1;h>=0&&e[h].getLabelBounds().y2>a;h--)e[h].labelVisible=!1}else if(o.strategy!=="none"){const l=e.map((d,h)=>({arc:d,originIndex:h,priorityIndex:0}));l.sort((d,h)=>h.arc.radian-d.arc.radian),l.forEach((d,h)=>{d.priorityIndex=h,d.arc.labelVisible=!1});let u=1/0,c=-1/0;for(let d=0;d<t&&d<e.length;d++){this._storeY(e);const h=l[d].arc;this._computeYRange(h,i,r),h.labelVisible=!0;const f=h.labelPosition.y,{lastIndex:p,nextIndex:g}=this._findNeighborIndex(e,l[d]),m=e[p],v=e[g];if(p===-1&&g!==-1){const w=v.labelPosition.y;f>w?h.labelPosition.y=w-v.labelSize.height/2-h.labelSize.height/2:this._twoWayShift(e,h,v,g)}else if(p!==-1&&g===-1){const w=m.labelPosition.y;f<w?h.labelPosition.y=w+m.labelSize.height/2+h.labelSize.height/2:this._twoWayShift(e,m,h,l[d].originIndex)}else if(p!==-1&&g!==-1){const w=m.labelPosition.y,T=v.labelPosition.y;f>T?(h.labelPosition.y=T-v.labelSize.height/2-h.labelSize.height/2,this._twoWayShift(e,m,h,l[d].originIndex)):f<w?(h.labelPosition.y=w+m.labelSize.height/2+h.labelSize.height/2,this._twoWayShift(e,h,v,g)):(this._twoWayShift(e,m,h,l[d].originIndex),this._twoWayShift(e,h,v,g))}const _=Math.min(u,l[d].originIndex),y=Math.max(c,l[d].originIndex);let x;if(x=e[y].getLabelBounds().y2-a,Xg(x,0)&&this._shiftY(e,y,0,-x),x=e[_].getLabelBounds().y1-0,gp(x,0)&&this._shiftY(e,_,e.length-1,-x),x=e[y].getLabelBounds().y2-a,Xg(x,0)){h.labelVisible=!1,this._restoreY(e);break}o.tangentConstraint&&!this._checkYRange(e)?(h.labelVisible=!1,this._restoreY(e)):(u=_,c=y)}}}_shiftY(e,t,i,r){const s=t<i?1:-1;let a=t;for(;a!==-1;){e[a].labelPosition.y+=r;const o=this._findNextVisibleIndex(e,a,i,s);if(o>=0&&o<e.length){const{y1:l,y2:u}=e[a].getLabelBounds(),{y1:c,y2:d}=e[o].getLabelBounds();if(s>0&&u<c||s<0&&l>d)return a}a=o}return i}_findNextVisibleIndex(e,t,i,r){const s=(i-t)*r;for(let a=1;a<=s;a++){const o=t+a*r;if(e[o].labelVisible)return o}return-1}_computePointB(e,t,i,r){const s=i;let a=0;r.forEach(u=>{u.getAttributes(!0).outerRadius>a&&(a=u.getAttributes(!0).outerRadius)});const o=this.computeLayoutOuterRadius(a,i.width,i.height),l=s.line.line1MinLength;if(s.layout.strategy==="none")e.pointB={x:e.outerCenter.x,y:e.outerCenter.y};else{const u=e.circleCenter,c=this.computeRadius(o,i.width,i.height),{labelPosition:d,quadrant:h}=e,f=t-Math.max(c+l,e.outerRadius),p=Math.sqrt(t**2-Math.abs(u.y-d.y)**2)-f;Me(p)?e.pointB={x:u.x+p*(G_(h)?-1:1),y:d.y}:e.pointB={x:NaN,y:NaN}}}_storeY(e){for(const t of e)t.labelVisible&&(t.lastLabelY=t.labelPosition.y)}_computeYRange(e,t,i){const r=e.circleCenter,s={width:2*r.x,height:2*r.y};let a=0;i.forEach(w=>{w.getAttributes(!0).outerRadius>a&&(a=w.getAttributes(!0).outerRadius)});const o=this.computeLayoutOuterRadius(a,t.width,t.height),l=t.line.line1MinLength,{width:u,height:c}=s,d=this.computeRadius(o,t.width,t.height),h=this._computeLayoutRadius(c/2,t,i),f=Math.abs(e.center.x-u/2),p=e.center.y-c/2;let g,m,v;if(zs(u/2,f))g=0,m=1,v=-p;else if(zs(c/2,p))g=1,m=0,v=-f;else{const w=-1/(p/f);g=w,m=-1,v=p-w*f}const _=IKt(g,m,v,l+d-h,0,h);if(_.length<2)return;let y,x;_[0].x>_[1].x&&_.reverse(),_[0].x<0?zs(_[0].y,_[1].y)?Xg(e.middleAngle,-Math.PI)&&gp(e.middleAngle,0)||Xg(e.middleAngle,Math.PI)&&gp(e.middleAngle,2*Math.PI)?(y=0,x=_[1].y+c/2):(y=_[1].y+c/2,x=c):_[0].y<_[1].y?(y=0,x=_[1].y+c/2):(y=_[1].y+c/2,x=s.height):(y=Math.min(_[0].y,_[1].y)+c/2,x=Math.max(_[0].y,_[1].y)+c/2),e.labelYRange=[y,x]}_computeLayoutRadius(e,t,i){const r=t,s=r.layoutArcGap,a=r.line.line1MinLength;let o=0;i.forEach(d=>{d.getAttributes(!0).outerRadius>o&&(o=d.getAttributes(!0).outerRadius)});const l=this.computeLayoutOuterRadius(o,t.width,t.height),u=this.computeRadius(l,t.width,t.height)+a,c=u-s;return Math.max((c**2+e**2)/(2*c),u)}_findNeighborIndex(e,t){const i=t.originIndex;let r=-1,s=-1;for(let a=i-1;a>=0;a--)if(e[a].labelVisible){r=a;break}for(let a=i+1;a<e.length;a++)if(e[a].labelVisible){s=a;break}return{lastIndex:r,nextIndex:s}}_twoWayShift(e,t,i,r){const s=i.getLabelBounds().y1-t.getLabelBounds().y2;if(gp(s,0)){const a=this._shiftY(e,r,e.length-1,-s);this._shiftY(e,a,0,s/2)}}_restoreY(e){for(const t of e)t.labelVisible&&(t.labelPosition.y=t.lastLabelY)}_checkYRange(e){for(const t of e){const{labelYRange:i,labelPosition:r}=t;if(t.labelVisible&&i&&(gp(r.y,i[0])||Xg(r.y,i[1])))return!1}return!0}_coverLabels(e){if(e.length<=1)return;let t=e[0].getLabelBounds();for(let i=1;i<e.length;i++){const r=e[i].getLabelBounds();DKt(t,r)?e[i].labelVisible=!1:t=r}}_getLabelLinePoints(e,t){return e.attribute.points}_createLabelLine(e,t){var i,r,s,a,o;const{line:l={},visible:u}=e.attribute,c=super._createLabelLine(e,t);if(c&&(c.setAttributes({visible:(s=(i=l.visible&&u)!==null&&i!==void 0?i:(r=e.attribute)===null||r===void 0?void 0:r.visible)===null||s===void 0||s,lineWidth:(o=(a=l.style)===null||a===void 0?void 0:a.lineWidth)!==null&&o!==void 0?o:1}),l.smooth&&c.setAttributes({curveType:"basis"}),t.type==="arc3d"&&t)){const{beta:d,x:h,y:f}=t.getAttributes(!0);c.setAttributes({beta:d,anchor3d:[h,f]})}return c}computeRadius(e,t,i,r){return this.computeLayoutRadius(t||0,i||0)*e*(J(r)?1:r)}computeLayoutRadius(e,t){return Math.min(e/2,t/2)}_canPlaceInside(e,t){return this.attribute.position==="inside"||this.attribute.position==="inside-center"}computeLayoutOuterRadius(e,t,i){return e/(Math.min(t,i)/2)}computeDatumRadius(e,t,i){const r=this.computeLayoutOuterRadius(i,e,t);return this.computeLayoutRadius(e||0,t||0)*r}}Mz.defaultAttributes={coverEnable:!1,spaceWidth:5,layoutArcGap:6,textStyle:{visible:!0,fontSize:14,fontWeight:"normal",fillOpacity:1,boundsPadding:[-1,0,-1,0],ellipsis:!0},position:"outside",line:{visible:!0,line1MinLength:20,line2MinLength:10},layout:{align:"arc",strategy:"priority",tangentConstraint:!0}};const n9t=()=>{zC("arc",Mz)};var i9t=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};class OM extends ko{constructor(e,t){const{dataLabels:i}=e,r=i9t(e,["dataLabels"]);super(t!=null&&t.skipDefault?e:Object.assign({dataLabels:i},We({},OM.defaultAttributes,r))),this.name="data-label"}render(){var e;const{dataLabels:t,size:i}=this.attribute;if(!t||t.length===0)return;const{width:r=0,height:s=0,padding:a}=i||{};if(!r||!s||!Me(s*r))return;this._componentMap||(this._componentMap=new Map);const o=wMe(r,s,a),l=o.bitmap(),u=new Map,c=this._componentMap;for(let d=0;d<t.length;d++){const h=t[d],f=XKt(h.type)||a_;if(f){const{baseMarkGroupName:p,type:g}=h,m=(e=h.id)!==null&&e!==void 0?e:`${p}-${g}-${d}`;h.type==="arc"&&(h.width=i.width,h.height=i.height);let v=this._componentMap.get(m);v?(v.setBitmapTool(o),v.setBitmap(l),v.setAttributes(h),u.set(m,v)):(v=new f(h),v.setBitmap(l),v.setBitmapTool(o),this.add(v),u.set(m,v))}}c.forEach((d,h)=>{u.get(h)||this.removeChild(d)}),this._componentMap=u}setLocation(e){this.translateTo(e.x,e.y)}disableAnimation(){this._componentMap.forEach(e=>{e.disableAnimation()})}enableAnimation(){this._componentMap.forEach(e=>{e.enableAnimation()})}}OM.defaultAttributes={pickable:!1};function b7(n,e,t,i){let r="";if(!n||e.length===0)return r;const s=e[0],a=Fa.distancePP(n,s),o=t?0:1;return i?r+=`M${n.x},${n.y-a}A${a},${a},0,0,${o},${n.x},${n.y+a}A${a},${a},0,0,${o},${n.x},${n.y-a}Z`:e.forEach((l,u)=>{u===0?r=`M${l.x},${l.y}`:r+=`A${a},${a},0,0,${o},${l.x},${l.y}`}),r}function r9t(n,e,t){const{type:i,closed:r}=t,s=e.slice(0).reverse();let a="",o="";if(i==="line"&&t.smoothLink&&t.center){const l=n[0],u=s[0],c=t.center;a=Rb(n,!!r),o=Rb(s,!!r);const d=Fa.distancePP(u,c),h=Fa.distancePP(l,c);a+=`A${d},${d},0,0,1,${u.x},${u.y}L${u.x},${u.y}`,o+=`A${h},${h},0,0,0,${l.x},${l.y}`}else if(i==="circle"){const{center:l}=t;a=b7(l,n,!1,!!r),o=b7(l,s,!0,!!r)}else i!=="line"&&i!=="polygon"||(a=Rb(n,!!r),o=Rb(s,!!r));return r?a+=o:(o="L"+o.substring(1),a+=o,a+="Z"),a}class jy extends ko{constructor(){super(...arguments),this.name="axis-grid",this.data=[]}getInnerView(){return this._innerView}getPrevInnerView(){return this._prevInnerView}render(){this._prevInnerView=this._innerView&&kPe(this._innerView),this.removeAllChild(!0),this._innerView=It.group({x:0,y:0,pickable:!1}),this.add(this._innerView);const{items:e,visible:t}=this.attribute;e&&e.length&&t!==!1&&(this.data=this._transformItems(e),this._renderGrid(this._innerView))}getVerticalCoord(e,t,i){return $Z(e,this.getVerticalVector(t,i,e))}_transformItems(e){const t=[];return e.forEach(i=>{var r;t.push(Object.assign(Object.assign({},i),{point:this.getTickCoord(i.value),id:(r=i.id)!==null&&r!==void 0?r:i.label}))}),t}_renderGrid(e){const{visible:t}=this.attribute.subGrid||{};t&&this._renderGridByType(!0,e),this._renderGridByType(!1,e)}_renderGridByType(e,t){const i=We({},this.attribute,this.getGridAttribute(e)),{type:r,items:s,style:a,closed:o,alternateColor:l,depth:u=0}=i,c=e?`${pa.grid}-sub`:`${pa.grid}`;if(s.forEach((d,h)=>{const{id:f,points:p}=d;let g="";if(r==="line"||r==="polygon")g=Rb(p,!!o);else if(r==="circle"){const{center:v}=this.attribute;g=b7(v,p,!1,!!o)}const m=It.path(Object.assign({path:g,z:u},Re(a)?We({},this.skipDefault?null:jy.defaultAttributes.style,a(d,h)):a));m.name=`${c}-line`,m.id=this._getNodeId(`${c}-path-${f}`),t.add(m)}),u&&r==="line"&&s.forEach((d,h)=>{const{id:f,points:p}=d,g=[];g.push(p[0]);const m=p[1].x-p[0].x,v=p[1].y-p[0].y,_=Math.sqrt(m*m+v*v),y=u/_;g.push({x:p[0].x+m*y,y:p[0].y+v*y});const x=Rb(g,!!o),w=qn(g[0].x-g[1].x),T=qn(g[0].y-g[1].y),E=It.path(Object.assign({path:x,z:0,alpha:w>T?(p[1].x-p[0].x>0?-1:1)*Di/2:0,beta:w<T?-Di/2:0,anchor3d:w>T?[g[0].x,0]:[0,g[0].y]},Re(a)?We({},this.skipDefault?null:jy.defaultAttributes.style,a(d,h)):a));E.name=`${c}-line`,E.id=this._getNodeId(`${c}-path-${f}`),t.add(E)}),s.length>1&&l){const d=Oe(l)?l:[l,"transparent"],h=x=>d[x%d.length],f=this.attribute.items,p=f[0],g=f[f.length-1],m=!zs(p.value,0)&&!zs(g.value,0),v=!zs(p.value,1)&&!zs(g.value,1),_=[],y=p.value>g.value;(y&&v||!y&&m)&&_.push(this.getGridPointsByValue(y?1:0)),s.forEach(x=>{_.push(x.points)}),(y&&m||!y&&v)&&_.push(this.getGridPointsByValue(y?0:1));for(let x=0;x<_.length-1;x++){const w=r9t(_[x],_[x+1],i),T=It.path({path:w,fill:h(x)});T.name=`${c}-region`,T.id=this._getNodeId(`${c}-region-${x}`),t.add(T)}}}_getNodeId(e){return`${this.id}-${e}`}_parseTickSegment(){let e=1;return this.data.length>=2&&(e=this.data[1].value-this.data[0].value),e}_getPointsOfSubGrid(e,t){const i=this.data.length,r=[];return i>=2&&this.data.forEach(s=>{let a=s.value;if(!t){const o=s.value-e/2;if(this.isInValidValue(o))return;a=o}r.push({value:a})}),r}release(){super.release(),this._prevInnerView=null,this._innerView=null}}jy.defaultAttributes={style:{lineWidth:1,stroke:"#999",strokeOpacity:1,lineDash:[4,4]},subGrid:{visible:!1,style:{lineWidth:1,stroke:"#999",strokeOpacity:1,lineDash:[4,4]}}};X7t();class o_ extends jy{constructor(e,t){super(t!=null&&t.skipDefault?e:We({},jy.defaultAttributes,e),t)}_getGridPoint(e,t){let i;if(e==="line"){const{length:r}=this.attribute;i=[t,this.getVerticalCoord(t,r,!0)]}else if(e==="circle"||e==="polygon"){const{center:r,sides:s=6,startAngle:a=BC,endAngle:o=$C}=this.attribute,l=Fa.distancePP(r,t);i=OPe(r,s,l,a,o)}return i}getGridPointsByValue(e){const t=this.getTickCoord(e);return this._getGridPoint(this.attribute.type,t)}getGridAttribute(e){const{type:t,alignWithLabel:i=!0}=this.attribute,r=this._parseTickSegment();let s,a=[];if(e){s=We({},this.attribute,this.attribute.subGrid);const o=[],{count:l=4}=s;if(this.data.length>=2){const u=this._getPointsOfSubGrid(r,i);for(let c=0;c<u.length-1;c++){const d=u[c],h=u[c+1];o.push({id:`sub-${c}-0`,points:this.getGridPointsByValue(d.value),datum:{}});for(let f=0;f<l;f++){const p=(f+1)/(l+1),g=(1-p)*d.value+p*h.value;o.push({id:`sub-${c}-${f+1}`,points:this.getGridPointsByValue(g),datum:{}})}c===u.length-2&&o.push({id:`sub-${c}-${l+1}`,points:this.getGridPointsByValue(h.value),datum:{}})}a=o}}else{s=this.attribute;const o=[];this.data.forEach(l=>{let{point:u}=l;if(!i){const c=l.value-r/2;if(this.isInValidValue(c))return;u=this.getTickCoord(c)}o.push({id:l.label,datum:l,points:this._getGridPoint(t,u)})}),a=o}return Object.assign(Object.assign({},s),{items:a})}}Li(o_,$Pe);var s9t=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};q7t();class UZ extends jy{constructor(e,t){super(t!=null&&t.skipDefault?e:We({},jy.defaultAttributes,e),t)}getGridPointsByValue(e){const t=this.getTickCoord(e),{radius:i,innerRadius:r=0}=this.attribute;return[t,this.getVerticalCoord(t,i-r,!0)]}getGridAttribute(e){let t,i=[];const r=this.attribute,{radius:s,innerRadius:a=0,startAngle:o=BC,endAngle:l=$C,center:u,subGrid:c}=r,d=s9t(r,["radius","innerRadius","startAngle","endAngle","center","subGrid"]),{alignWithLabel:h=!0}=d||{},f=s-a,p=this._parseTickSegment();if(e){t=We({},d,c);const g=[],{count:m=4}=c||{},v=this.data.length;if(v>=2){const _=this._getPointsOfSubGrid(p,h);for(let y=0;y<v;y++){const x=_[y],w=_[y+1];g.push({id:`sub-${y}-0`,points:[this.getTickCoord(x.value),this.getVerticalCoord(this.getTickCoord(x.value),f,!0)],datum:{}});for(let T=0;T<m;T++){const E=(T+1)/(m+1),A=(1-E)*x.value+E*(w?w.value:h?1:x.value+p),k=this.getTickCoord(A),P=this.getVerticalCoord(k,f,!0);g.push({id:`sub-${y}-${T+1}`,points:[k,P],datum:{}})}}Math.abs(l-o)%(2*Math.PI)==0&&g.push(g[0]),i=g}}else{t=d;const g=[];let m;m=Math.abs(l-o)%(2*Math.PI)==0?[...this.data].concat(this.data[0]):this.data,m.forEach(v=>{let{point:_}=v;if(!h){const x=v.value-p/2;if(this.isInValidValue(x))return;_=this.getTickCoord(x)}const y=this.getVerticalCoord(_,f,!0);g.push({id:v.id,points:[_,y],datum:v})}),i=g}return Object.assign(Object.assign({},t),{items:i,center:u,type:"line"})}}Li(UZ,uMe);var Zu;(function(n){n.startHandler="startHandler",n.endHandler="endHandler",n.middleHandler="middleHandler",n.background="background"})(Zu||(Zu={}));var Lp;(function(n){n.stateUpdate="stateUpdate",n.maskUpdate="maskUpdate",n.dataZoomUpdate="dataZoomUpdate"})(Lp||(Lp={}));var i$;(function(n){n.dataZoomChange="dataZoomChange"})(i$||(i$={}));const Hpe="M -0.0544 0.25 C -0.0742 0.25 -0.0901 0.234 -0.0901 0.2143 L -0.0901 -0.1786 C -0.0901 -0.1983 -0.0742 -0.2143 -0.0544 -0.2143 L -0.0187 -0.2143 L -0.0187 -0.5 L 0.017 -0.5 L 0.017 -0.2143 L 0.0527 -0.2143 C 0.0724 -0.2143 0.0884 -0.1983 0.0884 -0.1786 L 0.0884 0.2143 C 0.0884 0.234 0.0724 0.25 0.0527 0.25 L 0.017 0.25 L 0.017 0.5 L -0.0187 0.5 L -0.0187 0.25 L -0.0544 0.25 Z M -0.0187 -0.1429 L -0.0544 -0.1429 L -0.0544 0.1786 L -0.0187 0.1786 L -0.0187 -0.1429 Z M 0.0527 -0.1429 L 0.017 -0.1429 L 0.017 0.1786 L 0.0527 0.1786 L 0.0527 -0.1429 Z",a9t={orient:"bottom",showDetail:"auto",brushSelect:!0,zoomLock:!1,minSpan:0,maxSpan:1,delayType:"throttle",delayTime:0,realTime:!0,backgroundStyle:{fill:"white",stroke:"#D1DBEE",lineWidth:1,cornerRadius:2},dragMaskStyle:{fill:"#B0C8F9",fillOpacity:.2},backgroundChartStyle:{area:{visible:!0,stroke:"#D1DBEE",lineWidth:1,fill:"#F6F8FC"},line:{visible:!0,stroke:"#D1DBEE",lineWidth:1}},selectedBackgroundStyle:{fill:"#B0C8F9",fillOpacity:.5},selectedBackgroundChartStyle:{area:{visible:!0,stroke:"#B0C8F9",lineWidth:1,fill:"#fbb934"},line:{visible:!0,stroke:"#fbb934",lineWidth:1}},middleHandlerStyle:{visible:!0,background:{size:8,style:{fill:"white",stroke:"#B0C8F9",cornerRadius:2}},icon:{size:6,fill:"white",stroke:"#B0C8F9",symbolType:"M 0.3 -0.5 C 0.41 -0.5 0.5 -0.41 0.5 -0.3 C 0.5 -0.3 0.5 0.3 0.5 0.3 C 0.5 0.41 0.41 0.5 0.3 0.5 C 0.3 0.5 -0.3 0.5 -0.3 0.5 C -0.41 0.5 -0.5 0.41 -0.5 0.3 C -0.5 0.3 -0.5 -0.3 -0.5 -0.3 C -0.5 -0.41 -0.41 -0.5 -0.3 -0.5 C -0.3 -0.5 0.3 -0.5 0.3 -0.5 Z",lineWidth:.5}},startHandlerStyle:{visible:!0,triggerMinSize:0,symbolType:Hpe,fill:"white",stroke:"#B0C8F9",lineWidth:.5},endHandlerStyle:{visible:!0,triggerMinSize:0,symbolType:Hpe,fill:"white",stroke:"#B0C8F9",lineWidth:.5},startTextStyle:{padding:4,textStyle:{fontSize:10,fill:"#6F6F6F"}},endTextStyle:{padding:4,textStyle:{fontSize:10,fill:"#6F6F6F"}}},Pv={horizontal:{angle:0,strokeBoundsBuffer:0,boundsPadding:2,pickMode:"imprecise",cursor:"ew-resize"},vertical:{angle:Math.PI/180*90,cursor:"ns-resize",boundsPadding:2,pickMode:"imprecise",strokeBoundsBuffer:0}},FD=(n,e,t,i)=>{if(!e)return!1;if(i){if(t==="start"){if(e.x1<n.x1)return!0}else if(e.x2>n.x2)return!0}else if(t==="start"){if(e.y1<n.y1)return!0}else if(e.y2>n.y2)return!0;return!1};var Vpe=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};class o9t{get startHandlerMask(){return this._startHandlerMask}get middleHandlerSymbol(){return this._middleHandlerSymbol}get middleHandlerRect(){return this._middleHandlerRect}get endHandlerMask(){return this._endHandlerMask}get selectedBackground(){return this._selectedBackground}get dragMask(){return this._dragMask}get startText(){return this._startText}get endText(){return this._endText}get startValue(){return this._startValue}get endValue(){return this._endValue}set showText(e){this._showText=e}get background(){return this._background}set previewData(e){this._previewData=e}get previewGroup(){return this._previewGroup}get selectedPreviewGroup(){return this._selectedPreviewGroup}set previewPointsX(e){this._previewPointsX=e}set previewPointsY(e){this._previewPointsY=e}set previewPointsX1(e){this._previewPointsX1=e}set previewPointsY1(e){this._previewPointsY1=e}set statePointToData(e){this._statePointToData=e}_initAttrs(e){this.attribute=e.attribute,this._isHorizontal=this.attribute.orient==="top"||this.attribute.orient==="bottom";const{previewData:t,previewPointsX:i,previewPointsY:r,previewPointsX1:s,previewPointsY1:a}=this.attribute;t&&(this._previewData=t),Re(i)&&(this._previewPointsX=i),Re(r)&&(this._previewPointsY=r),Re(s)&&(this._previewPointsX1=s),Re(a)&&(this._previewPointsY1=a),this._getState=e.getState,this._getLayoutAttrFromConfig=e.getLayoutAttrFromConfig,this._getContainer=e.getContainer}constructor(e){this._previewData=[],this._statePointToData=i=>i;const{showDetail:t}=e.attribute;this._showText=t!=="auto"&&t,this._initAttrs(e)}setAttributes(e){this._initAttrs(e)}renderDataZoom(e=!1){var t,i,r,s,a,o;const{backgroundChartStyle:l={},selectedBackgroundChartStyle:u={},brushSelect:c}=this.attribute;this._renderBackground(),!((t=l.line)===null||t===void 0)&&t.visible&&!e&&this._setPreviewAttributes("line",this._getContainer()),!((i=l.area)===null||i===void 0)&&i.visible&&!e&&this._setPreviewAttributes("area",this._getContainer()),c&&this.renderDragMask(),this._renderSelectedBackground(),!((r=u.line)===null||r===void 0)&&r.visible&&this._setSelectedPreviewClipAttributes("line",this._getContainer()),!((s=u.line)===null||s===void 0)&&s.visible&&!e&&this._setSelectedPreviewAttributes("line"),!((a=u.line)===null||a===void 0)&&a.visible&&this._setSelectedPreviewClipAttributes("area",this._getContainer()),!((o=u.area)===null||o===void 0)&&o.visible&&!e&&this._setSelectedPreviewAttributes("area"),this._renderHandler(),this._showText&&this.renderText()}renderDragMask(){const{dragMaskStyle:e}=this.attribute,{position:t,width:i,height:r}=this._getLayoutAttrFromConfig(),{start:s,end:a}=this._getState();return this._isHorizontal?this._dragMask=this._getContainer().createOrUpdateChild("dragMask",Object.assign({x:t.x+s*i,y:t.y,width:(a-s)*i,height:r},e),"rect"):this._dragMask=this._getContainer().createOrUpdateChild("dragMask",Object.assign({x:t.x,y:t.y+s*r,width:i,height:(a-s)*r},e),"rect"),{start:s,end:a}}_renderBackground(){var e;const{backgroundStyle:t,brushSelect:i,zoomLock:r}=this.attribute,{position:s,width:a,height:o}=this._getLayoutAttrFromConfig(),l=this._getContainer();this._background=l.createOrUpdateChild("background",Object.assign(Object.assign({x:s.x,y:s.y,width:a,height:o,cursor:i?"crosshair":"auto"},t),{pickable:!r&&((e=t.pickable)===null||e===void 0||e)}),"rect")}_renderHandler(){var e,t,i,r,s,a,o,l,u,c,d,h,f,p,g,m,v,_,y,x,w,T,E,A,k,P,I;const{orient:D,middleHandlerStyle:L={},startHandlerStyle:B={},endHandlerStyle:F={},zoomLock:$}=this.attribute,{start:z,end:N}=this._getState(),{position:V,width:H,height:K}=this._getLayoutAttrFromConfig(),U=(e=B.triggerMinSize)!==null&&e!==void 0?e:40,X=(t=F.triggerMinSize)!==null&&t!==void 0?t:40,Z=this._getContainer();if(this._isHorizontal){if(L.visible){const oe=((i=L.background)===null||i===void 0?void 0:i.size)||10;this._middleHandlerRect=Z.createOrUpdateChild("middleHandlerRect",Object.assign(Object.assign({x:V.x+z*H,y:V.y-oe,width:(N-z)*H,height:oe},(r=L.background)===null||r===void 0?void 0:r.style),{pickable:!$&&((o=(a=(s=L.background)===null||s===void 0?void 0:s.style)===null||a===void 0?void 0:a.pickable)===null||o===void 0||o)}),"rect"),this._middleHandlerSymbol=Z.createOrUpdateChild("middleHandlerSymbol",Object.assign(Object.assign({x:V.x+(z+N)/2*H,y:V.y-oe/2,strokeBoundsBuffer:0,angle:0,symbolType:(u=(l=L.icon)===null||l===void 0?void 0:l.symbolType)!==null&&u!==void 0?u:"square"},L.icon),{pickable:!$&&((c=L.icon.pickable)===null||c===void 0||c)}),"symbol")}this._startHandler=Z.createOrUpdateChild("startHandler",Object.assign(Object.assign(Object.assign({x:V.x+z*H,y:V.y+K/2,size:K,symbolType:(d=B.symbolType)!==null&&d!==void 0?d:"square"},Pv.horizontal),B),{pickable:!$&&((h=B.pickable)===null||h===void 0||h)}),"symbol"),this._endHandler=Z.createOrUpdateChild("endHandler",Object.assign(Object.assign(Object.assign({x:V.x+N*H,y:V.y+K/2,size:K,symbolType:(f=F.symbolType)!==null&&f!==void 0?f:"square"},Pv.horizontal),F),{pickable:!$&&((p=F.pickable)===null||p===void 0||p)}),"symbol");const Q=Math.max(this._startHandler.AABBBounds.width(),U),se=Math.max(this._startHandler.AABBBounds.height(),U),ae=Math.max(this._endHandler.AABBBounds.width(),X),ue=Math.max(this._endHandler.AABBBounds.height(),X);this._startHandlerMask=Z.createOrUpdateChild("startHandlerMask",Object.assign(Object.assign({x:V.x+z*H-Q/2,y:V.y+K/2-se/2,width:Q,height:se,fill:"white",fillOpacity:0,zIndex:999},Pv.horizontal),{pickable:!$}),"rect"),this._endHandlerMask=Z.createOrUpdateChild("endHandlerMask",Object.assign(Object.assign({x:V.x+N*H-ae/2,y:V.y+K/2-ue/2,width:ae,height:ue,fill:"white",fillOpacity:0,zIndex:999},Pv.horizontal),{pickable:!$}),"rect")}else{if(L.visible){const oe=((g=L.background)===null||g===void 0?void 0:g.size)||10;this._middleHandlerRect=Z.createOrUpdateChild("middleHandlerRect",Object.assign(Object.assign({x:D==="left"?V.x-oe:V.x+H,y:V.y+z*K,width:oe,height:(N-z)*K},(m=L.background)===null||m===void 0?void 0:m.style),{pickable:!$&&((y=(_=(v=L.background)===null||v===void 0?void 0:v.style)===null||_===void 0?void 0:_.pickable)===null||y===void 0||y)}),"rect"),this._middleHandlerSymbol=Z.createOrUpdateChild("middleHandlerSymbol",Object.assign(Object.assign({x:D==="left"?V.x-oe/2:V.x+H+oe/2,y:V.y+(z+N)/2*K,angle:Math.PI/180*90,symbolType:(w=(x=L.icon)===null||x===void 0?void 0:x.symbolType)!==null&&w!==void 0?w:"square",strokeBoundsBuffer:0},L.icon),{pickable:!$&&((E=(T=L.icon)===null||T===void 0?void 0:T.pickable)===null||E===void 0||E)}),"symbol")}this._startHandler=Z.createOrUpdateChild("startHandler",Object.assign(Object.assign(Object.assign({x:V.x+H/2,y:V.y+z*K,size:H,symbolType:(A=B.symbolType)!==null&&A!==void 0?A:"square"},Pv.vertical),B),{pickable:!$&&((k=B.pickable)===null||k===void 0||k)}),"symbol"),this._endHandler=Z.createOrUpdateChild("endHandler",Object.assign(Object.assign(Object.assign({x:V.x+H/2,y:V.y+N*K,size:H,symbolType:(P=F.symbolType)!==null&&P!==void 0?P:"square"},Pv.vertical),F),{pickable:!$&&((I=F.pickable)===null||I===void 0||I)}),"symbol");const Q=Math.max(this._startHandler.AABBBounds.width(),U),se=Math.max(this._startHandler.AABBBounds.height(),U),ae=Math.max(this._endHandler.AABBBounds.width(),X),ue=Math.max(this._endHandler.AABBBounds.height(),X);this._startHandlerMask=Z.createOrUpdateChild("startHandlerMask",Object.assign(Object.assign({x:V.x+H/2+Q/2,y:V.y+z*K-se/2,width:ue,height:ae,fill:"white",fillOpacity:0,zIndex:999},Pv.vertical),{pickable:!$}),"rect"),this._endHandlerMask=Z.createOrUpdateChild("endHandlerMask",Object.assign(Object.assign({x:V.x+H/2+ae/2,y:V.y+N*K-ue/2,width:ue,height:ae,fill:"white",fillOpacity:0,zIndex:999},Pv.vertical),{pickable:!$}),"rect")}}_renderSelectedBackground(){var e,t;const{selectedBackgroundStyle:i={},selectedBackgroundChartStyle:r={},brushSelect:s,zoomLock:a}=this.attribute,{start:o,end:l}=this._getState(),{position:u,width:c,height:d}=this._getLayoutAttrFromConfig(),h=this._getContainer();this._isHorizontal?this._selectedBackground=h.createOrUpdateChild("selectedBackground",Object.assign(Object.assign({x:u.x+o*c,y:u.y,width:(l-o)*c,height:d,cursor:s?"crosshair":"move"},i),{pickable:!a&&((e=r.pickable)===null||e===void 0||e)}),"rect"):this._selectedBackground=h.createOrUpdateChild("selectedBackground",Object.assign(Object.assign({x:u.x,y:u.y+o*d,width:c,height:(l-o)*d,cursor:s?"crosshair":"move"},i),{pickable:!a&&((t=i.pickable)===null||t===void 0||t)}),"rect")}_setPreviewAttributes(e,t){this._previewGroup||(this._previewGroup=t.createOrUpdateChild("previewGroup",{pickable:!1},"group")),e==="line"?this._previewLine=this._previewGroup.createOrUpdateChild("previewLine",{},"line"):this._previewArea=this._previewGroup.createOrUpdateChild("previewArea",{curveType:"basis"},"area");const{backgroundChartStyle:i={}}=this.attribute;e==="line"&&this._previewLine.setAttributes(Object.assign({points:this._getPreviewLinePoints(),curveType:"basis",pickable:!1},i.line)),e==="area"&&this._previewArea.setAttributes(Object.assign({points:this._getPreviewAreaPoints(),curveType:"basis",pickable:!1},i.area))}_setSelectedPreviewClipAttributes(e,t){this._selectedPreviewGroupClip||(this._selectedPreviewGroupClip=t.createOrUpdateChild("selectedPreviewGroupClip",{pickable:!1},"group"),this._selectedPreviewGroup=this._selectedPreviewGroupClip.createOrUpdateChild("selectedPreviewGroup",{},"group"));const{start:i,end:r}=this._getState(),{position:s,width:a,height:o}=this._getLayoutAttrFromConfig();this._selectedPreviewGroupClip.setAttributes({x:this._isHorizontal?s.x+i*a:s.x,y:this._isHorizontal?s.y:s.y+i*o,width:this._isHorizontal?(r-i)*a:a,height:this._isHorizontal?o:(r-i)*o,clip:!0,pickable:!1}),this._selectedPreviewGroup.setAttributes({x:-(this._isHorizontal?s.x+i*a:s.x),y:-(this._isHorizontal?s.y:s.y+i*o),width:this._isHorizontal?(r-i)*a:a,height:this._isHorizontal?o:(r-i)*o,pickable:!1})}_setSelectedPreviewAttributes(e){const{selectedBackgroundChartStyle:t={}}=this.attribute;e==="line"?this._selectedPreviewLine=this._selectedPreviewGroup.createOrUpdateChild("selectedPreviewLine",{},"line"):this._selectedPreviewArea=this._selectedPreviewGroup.createOrUpdateChild("selectedPreviewArea",{curveType:"basis"},"area"),e==="line"&&this._selectedPreviewLine.setAttributes(Object.assign({points:this._getPreviewLinePoints(),curveType:"basis",pickable:!1},t.line)),e==="area"&&this._selectedPreviewArea.setAttributes(Object.assign({points:this._getPreviewAreaPoints(),curveType:"basis",pickable:!1},t.area))}_computeBasePoints(e){const{orient:t}=this.attribute,i=t==="bottom"||t==="top"?"x":"y";let r=Math.sign(e[e.length-1][i]-e[0][i]);r===0&&(r=1);const{position:s,width:a,height:o}=this._getLayoutAttrFromConfig();let l,u;return this._isHorizontal?(l=[{x:s.x,y:s.y+o}],u=[{x:s.x+a,y:s.y+o}]):t==="left"?(l=[{x:s.x+a,y:s.y}],u=[{x:s.x+a,y:s.y+o}]):(l=[{x:s.x,y:s.y+o}],u=[{x:s.x,y:s.y}]),Math.sign(u[0][i]-l[0][i])!==r?{basePointStart:u,basePointEnd:l}:{basePointStart:l,basePointEnd:u}}_simplifyPoints(e){var t;if(e.length>1e4){const i=(t=this.attribute.tolerance)!==null&&t!==void 0?t:this._previewData.length/1e4;return uUt(e,i)}return e}_getPreviewLinePoints(){let e=this._previewData.map(r=>({x:this._previewPointsX&&this._previewPointsX(r),y:this._previewPointsY&&this._previewPointsY(r)}));if(e.length===0)return e;e=this._simplifyPoints(e);const{basePointStart:t,basePointEnd:i}=this._computeBasePoints(e);return t.concat(e).concat(i)}_getPreviewAreaPoints(){let e=this._previewData.map(r=>({x:this._previewPointsX&&this._previewPointsX(r),y:this._previewPointsY&&this._previewPointsY(r),x1:this._previewPointsX1&&this._previewPointsX1(r),y1:this._previewPointsY1&&this._previewPointsY1(r)}));if(e.length===0)return e;e=this._simplifyPoints(e);const{basePointStart:t,basePointEnd:i}=this._computeBasePoints(e);return t.concat(e).concat(i)}renderText(){let e=null,t=null;if(this._setTextAttr(e,t),this._showText){e=this._startText.AABBBounds,t=this._endText.AABBBounds,this._setTextAttr(e,t),e=this._startText.AABBBounds,t=this._endText.AABBBounds;const{x1:i,x2:r,y1:s,y2:a}=e,{dx:o=0,dy:l=0}=this.attribute.startTextStyle;if(new Xo().set(i,s,r,a).intersects(t)){const u=this.attribute.orient==="bottom"||this.attribute.orient==="right"?-1:1;this._isHorizontal?this._startText.setAttribute("dy",l+u*Math.abs(t.y1-t.y2)):this._startText.setAttribute("dx",o+u*Math.abs(t.x1-t.x2))}else this._isHorizontal?this._startText.setAttribute("dy",l):this._startText.setAttribute("dx",o)}}_setTextAttr(e,t){var i,r,s,a,o,l,u,c;const{startTextStyle:d,endTextStyle:h}=this.attribute,{formatMethod:f}=d,p=Vpe(d,["formatMethod"]),{formatMethod:g}=h,m=Vpe(h,["formatMethod"]),{start:v,end:_}=this._getState();this._startValue=this._statePointToData(v),this._endValue=this._statePointToData(_);const{position:y,width:x,height:w}=this._getLayoutAttrFromConfig(),T=f?f(this._startValue):this._startValue,E=g?g(this._endValue):this._endValue,A={x1:y.x,y1:y.y,x2:y.x+x,y2:y.y+w};let k,P,I,D;this._isHorizontal?(k={x:y.x+v*x,y:y.y+w/2},P={x:y.x+_*x,y:y.y+w/2},I={textAlign:FD(A,e,"start",this._isHorizontal)?"left":"right",textBaseline:(r=(i=p==null?void 0:p.textStyle)===null||i===void 0?void 0:i.textBaseline)!==null&&r!==void 0?r:"middle"},D={textAlign:FD(A,t,"end",this._isHorizontal)?"right":"left",textBaseline:(a=(s=m==null?void 0:m.textStyle)===null||s===void 0?void 0:s.textBaseline)!==null&&a!==void 0?a:"middle"}):(k={x:y.x+x/2,y:y.y+v*w},P={x:y.x+x/2,y:y.y+_*w},I={textAlign:(l=(o=p==null?void 0:p.textStyle)===null||o===void 0?void 0:o.textAlign)!==null&&l!==void 0?l:"center",textBaseline:FD(A,e,"start",this._isHorizontal)?"top":"bottom"},D={textAlign:(c=(u=m==null?void 0:m.textStyle)===null||u===void 0?void 0:u.textAlign)!==null&&c!==void 0?c:"center",textBaseline:FD(A,t,"end",this._isHorizontal)?"bottom":"top"}),this._startText=this._maybeAddLabel(this._getContainer(),We({},p,{text:T,x:k.x,y:k.y,visible:this._showText,pickable:!1,childrenPickable:!1,textStyle:I}),"data-zoom-start-text"),this._endText=this._maybeAddLabel(this._getContainer(),We({},m,{text:E,x:P.x,y:P.y,visible:this._showText,pickable:!1,childrenPickable:!1,textStyle:D}),"data-zoom-end-text")}_maybeAddLabel(e,t,i){let r=e.find(s=>s.name===i,!0);return r?r.setAttributes(t):(r=new If(t),r.name=i,e.add(r)),r}}const l9t={debounce:Y0,throttle:Km};class u9t extends i_{constructor(e){super(),this._activeState=!1,this._activeCache={startPos:{x:0,y:0},lastPos:{x:0,y:0}},this._layoutCache={attPos:"x",attSize:"width",size:0},this._handleTouchMove=t=>{this._activeState&&t.preventDefault()},this._onHandlerPointerDown=(t,i)=>{this.clearDragEvents(),i==="start"?(this._activeTag=Zu.startHandler,this._activeItem=this._startHandlerMask):i==="end"?(this._activeTag=Zu.endHandler,this._activeItem=this._endHandlerMask):i==="middleRect"?(this._activeTag=Zu.middleHandler,this._activeItem=this._middleHandlerRect):i==="middleSymbol"?(this._activeTag=Zu.middleHandler,this._activeItem=this._middleHandlerSymbol):i==="background"&&(this._activeTag=Zu.background,this._activeItem=this._background),this._activeState=!0,this._activeCache.startPos=this._eventPosToStagePos(t),this._activeCache.lastPos=this._eventPosToStagePos(t);const r=un.env==="browser"?un:this.stage,s=Xb();r.addEventListener("pointermove",this._onHandlerPointerMove,{capture:!0}),this.on("pointermove",this._onHandlerPointerMove,{capture:!0}),s.forEach(a=>{r.addEventListener(a,this._onHandlerPointerUp)})},this._pointerMove=t=>{const{brushSelect:i}=this.attribute,{position:r}=this._getLayoutAttrFromConfig(),s=this._eventPosToStagePos(t),{attPos:a,size:o,attSize:l}=this._layoutCache,u=(s[a]-this._activeCache.lastPos[a])/o,c=(s[a]-r[a])/this._getLayoutAttrFromConfig()[l];let{start:d,end:h}=this._getState(),f=!0;this._activeState&&(this._activeTag===Zu.middleHandler?{start:d,end:h}=this._moveZoomWithMiddle(u):this._activeTag===Zu.startHandler?{start:d,end:h}=this._moveZoomWithHandler(c,"start"):this._activeTag===Zu.endHandler?{start:d,end:h}=this._moveZoomWithHandler(c,"end"):this._activeTag===Zu.background&&i&&({start:d,end:h}=this._moveZoomWithBackground(c),f=!1,this._dispatchEvent(Lp.maskUpdate)),this._activeCache.lastPos=s),this._getState().start===d&&this._getState().end===h||(this._setStateAttr(d,h),this._dispatchEvent(Lp.stateUpdate,{start:this._getState().start,end:this._getState().end,shouldRender:f,tag:this._activeTag}),this.attribute.realTime&&this._dispatchEvent(Lp.dataZoomUpdate,{start:this._getState().start,end:this._getState().end,shouldRender:!0,tag:this._activeTag}))},this._onHandlerPointerUp=t=>{this._activeState&&this._activeTag===Zu.background&&(this._setStateAttr(this._getState().start,this._getState().end),this._dispatchEvent(Lp.stateUpdate,{start:this._getState().start,end:this._getState().end,shouldRender:!0,tag:this._activeTag})),this._activeState=!1,this._dispatchEvent(Lp.dataZoomUpdate,{start:this._getState().start,end:this._getState().end,shouldRender:!0,tag:this._activeTag}),this.clearDragEvents()},this._initAttrs(e)}setAttributes(e){var t,i,r,s,a,o;this._initAttrs(e),this._onHandlerPointerMove=((i=(t=this.attribute)===null||t===void 0?void 0:t.delayTime)!==null&&i!==void 0?i:0)===0?this._pointerMove:l9t[(s=(r=this.attribute)===null||r===void 0?void 0:r.delayType)!==null&&s!==void 0?s:"debounce"](this._pointerMove,(o=(a=this.attribute)===null||a===void 0?void 0:a.delayTime)!==null&&o!==void 0?o:0)}_initAttrs(e){this.stage=e.stage,this.attribute=e.attribute,this._startHandlerMask=e.startHandlerMask,this._endHandlerMask=e.endHandlerMask,this._middleHandlerSymbol=e.middleHandlerSymbol,this._middleHandlerRect=e.middleHandlerRect,this._selectedBackground=e.selectedBackground,this._background=e.background,this._previewGroup=e.previewGroup,this._selectedPreviewGroup=e.selectedPreviewGroup,this._getLayoutAttrFromConfig=e.getLayoutAttrFromConfig,this._getState=e.getState,this._setState=e.setState;const{width:t,height:i}=this._getLayoutAttrFromConfig();this._spanCache=this._getState().end-this._getState().start;const r=this.attribute.orient==="top"||this.attribute.orient==="bottom";this._layoutCache.size=r?t:i,this._layoutCache.attPos=r?"x":"y",this._layoutCache.attSize=r?"width":"height",this._getGlobalTransMatrix=e.getGlobalTransMatrix}clearDragEvents(){const e=un.env==="browser"?un:this.stage,t=Xb();e.removeEventListener("pointermove",this._onHandlerPointerMove,{capture:!0}),t.forEach(i=>{e.removeEventListener(i,this._onHandlerPointerUp)}),this.off("pointermove",this._onHandlerPointerMove,{capture:!0})}clearVGlobalEvents(){(un.env==="browser"?un:this.stage).addEventListener("touchmove",this._handleTouchMove,{passive:!1})}bindEvents(){var e,t,i,r,s,a,o,l;const{brushSelect:u}=this.attribute;(e=this._startHandlerMask)===null||e===void 0||e.addEventListener("pointerdown",d=>this._onHandlerPointerDown(d,"start")),(t=this._endHandlerMask)===null||t===void 0||t.addEventListener("pointerdown",d=>this._onHandlerPointerDown(d,"end")),(i=this._middleHandlerSymbol)===null||i===void 0||i.addEventListener("pointerdown",d=>this._onHandlerPointerDown(d,"middleSymbol")),(r=this._middleHandlerRect)===null||r===void 0||r.addEventListener("pointerdown",d=>this._onHandlerPointerDown(d,"middleRect"));const c=u?"background":"middleRect";(s=this._selectedBackground)===null||s===void 0||s.addEventListener("pointerdown",d=>this._onHandlerPointerDown(d,c)),u&&((a=this._background)===null||a===void 0||a.addEventListener("pointerdown",d=>this._onHandlerPointerDown(d,"background"))),u&&((o=this._previewGroup)===null||o===void 0||o.addEventListener("pointerdown",d=>this._onHandlerPointerDown(d,"background"))),(l=this._selectedPreviewGroup)===null||l===void 0||l.addEventListener("pointerdown",d=>this._onHandlerPointerDown(d,c)),(un.env==="browser"?un:this.stage).addEventListener("touchmove",this._handleTouchMove,{passive:!1})}_setStateAttr(e,t){const{zoomLock:i=!1,minSpan:r=0,maxSpan:s=1}=this.attribute,a=t-e;a!==this._spanCache&&(i||a<r||a>s)||(this._spanCache=a,this._setState({start:e,end:t}))}_moveZoomWithMiddle(e){const{start:t,end:i}=this._getState();return e>0&&i+e>1?e=1-i:e<0&&t+e<0&&(e=-t),{start:ki(t+e,0,1),end:ki(i+e,0,1)}}_moveZoomWithHandler(e,t){const{start:i,end:r}=this._getState();let s=i,a=r;return t==="start"?e>r?(s=r,a=e,this._activeTag=Zu.endHandler):s=e:t==="end"&&(e<i?(a=i,s=e,this._activeTag=Zu.startHandler):a=e),{start:ki(s,0,1),end:ki(a,0,1)}}_moveZoomWithBackground(e){const{position:t}=this._getLayoutAttrFromConfig(),{attSize:i}=this._layoutCache,r=(this._activeCache.startPos[this._layoutCache.attPos]-t[this._layoutCache.attPos])/this._getLayoutAttrFromConfig()[i],s=e;let a=ki(r,0,1),o=ki(s,0,1);return a>o&&([a,o]=[o,a]),{start:a,end:o}}_eventPosToStagePos(e){var t,i;const r={x:0,y:0},s=(i=(t=this.stage)===null||t===void 0?void 0:t.eventPointTransform(e))!==null&&i!==void 0?i:{x:0,y:0};return this._getGlobalTransMatrix().transformPoint(s,r),r}_dispatchEvent(e,t){this.emit(e,t)}}function c9t(){bz(),yg(),gd(),dPe(),vg()}c9t();let kMe=class OMe extends ko{constructor(e,t){super(t!=null&&t.skipDefault?e:We({},OMe.defaultAttributes,e)),this.name="dataZoom",this._state={start:0,end:1},this.getLayoutAttrFromConfig=()=>{var a,o,l,u,c,d;if(this._layoutCacheFromConfig)return this._layoutCacheFromConfig;const{position:h,size:f,orient:p,middleHandlerStyle:g={},startHandlerStyle:m={},endHandlerStyle:v={},backgroundStyle:_={}}=this.attribute,{width:y,height:x}=f,w=(o=(a=g.background)===null||a===void 0?void 0:a.size)!==null&&o!==void 0?o:10;let T,E,A;g.visible?this._isHorizontal?(T=y,E=x-w,A={x:h.x,y:h.y+w}):(T=y-w,E=x,A={x:h.x+(p==="left"?w:0),y:h.y}):(T=y,E=x,A=h);const k=(l=m.size)!==null&&l!==void 0?l:this._isHorizontal?E:T,P=(u=v.size)!==null&&u!==void 0?u:this._isHorizontal?E:T;return m.visible&&(this._isHorizontal?(T-=(k+P)/2,A={x:A.x+k/2,y:A.y}):(E-=(k+P)/2,A={x:A.x,y:A.y+k/2})),E+=((c=_.lineWidth)!==null&&c!==void 0?c:2)/2,T+=((d=_.lineWidth)!==null&&d!==void 0?d:2)/2,this._layoutCacheFromConfig={position:A,width:T,height:E},this._layoutCacheFromConfig};const{start:i,end:r,orient:s}=this.attribute;this._isHorizontal=s==="top"||s==="bottom",i&&(this._state.start=i),r&&(this._state.end=r),this._renderer=new o9t(this._getRendererAttrs()),this._interaction=new u9t(this._getInteractionAttrs())}_getRendererAttrs(){return{attribute:this.attribute,getLayoutAttrFromConfig:this.getLayoutAttrFromConfig,setState:e=>{this._state=e},getState:()=>this._state,getContainer:()=>this._container}}_getInteractionAttrs(){return{stage:this.stage,attribute:this.attribute,startHandlerMask:this._renderer.startHandlerMask,endHandlerMask:this._renderer.endHandlerMask,middleHandlerSymbol:this._renderer.middleHandlerSymbol,middleHandlerRect:this._renderer.middleHandlerRect,selectedBackground:this._renderer.selectedBackground,background:this._renderer.background,previewGroup:this._renderer.previewGroup,selectedPreviewGroup:this._renderer.selectedPreviewGroup,getLayoutAttrFromConfig:this.getLayoutAttrFromConfig,setState:e=>{this._state=e},getState:()=>this._state,getGlobalTransMatrix:()=>this.globalTransMatrix}}bindEvents(){this.attribute.disableTriggerEvent?this.setAttribute("childrenPickable",!1):(this._interaction.bindEvents(),this._interaction.on(Lp.stateUpdate,({shouldRender:e})=>{e&&this._renderer.renderDataZoom(!0)}),this._interaction.on(Lp.dataZoomUpdate,({start:e,end:t,tag:i})=>{this._dispatchEvent(i$.dataZoomChange,{start:e,end:t,tag:i})}),this._interaction.on(Lp.maskUpdate,()=>{this._renderer.renderDragMask()}),this.attribute.showDetail==="auto"&&(this._container.addEventListener("pointerenter",()=>{this._renderer.showText=!0,this._renderer.renderText()}),this._container.addEventListener("pointerleave",()=>{this._renderer.showText=!1,this._renderer.renderText()})))}setAttributes(e,t){var i,r;const{start:s,end:a}=this.attribute;s&&(this._state.start=(i=e.start)!==null&&i!==void 0?i:s),a&&(this._state.end=(r=e.end)!==null&&r!==void 0?r:a),this._renderer.setAttributes(this._getRendererAttrs()),this._interaction.setAttributes(this._getInteractionAttrs()),super.setAttributes(e,t)}render(){this._layoutCacheFromConfig=null,this._container=this.createOrUpdateChild("datazoom-container",{},"group"),this._renderer.renderDataZoom(),this._interaction.setAttributes(this._getInteractionAttrs())}release(e){super.release(e),this._interaction.clearDragEvents()}setStartAndEnd(e,t){const{start:i,end:r}=this._state;Y(e)&&Y(t)&&(e!==i||t!==r)&&(this._state={start:e,end:t},this._renderer.renderDataZoom(!0),this._dispatchEvent(i$.dataZoomChange,{start:e,end:t}))}setPreviewData(e){this._renderer.previewData=e}setText(e,t){t==="start"?this._renderer.startText.setAttribute("text",e):this._renderer.endText.setAttribute("text",e)}getStartValue(){return this._renderer.startValue}getEndTextValue(){return this._renderer.endValue}getMiddleHandlerSize(){var e,t,i,r;const{middleHandlerStyle:s={}}=this.attribute,a=(t=(e=s.background)===null||e===void 0?void 0:e.size)!==null&&t!==void 0?t:10,o=(r=(i=s.icon)===null||i===void 0?void 0:i.size)!==null&&r!==void 0?r:10;return Math.max(a,...Ae(o))}setPreviewPointsX(e){Re(e)&&(this._renderer.previewPointsX=e)}setPreviewPointsY(e){Re(e)&&(this._renderer.previewPointsY=e)}setPreviewPointsX1(e){Re(e)&&(this._renderer.previewPointsX1=e)}setPreviewPointsY1(e){Re(e)&&(this._renderer.previewPointsY1=e)}setStatePointToData(e){Re(e)&&(this._renderer.statePointToData=e)}};kMe.defaultAttributes=a9t;var S7;(function(n){n.start="start",n.startTop="startTop",n.startBottom="startBottom",n.insideStart="insideStart",n.insideStartTop="insideStartTop",n.insideStartBottom="insideStartBottom",n.middle="middle",n.insideMiddleTop="insideMiddleTop",n.insideMiddleBottom="insideMiddleBottom",n.end="end",n.endTop="endTop",n.endBottom="endBottom",n.insideEnd="insideEnd",n.insideEndTop="insideEndTop",n.insideEndBottom="insideEndBottom"})(S7||(S7={}));var x7;(function(n){n.left="left",n.right="right",n.top="top",n.bottom="bottom",n.topLeft="topLeft",n.topRight="topRight",n.bottomLeft="bottomLeft",n.bottomRight="bottomRight",n.middle="middle",n.insideLeft="insideLeft",n.insideRight="insideRight",n.insideTop="insideTop",n.insideBottom="insideBottom",n.insideTopLeft="insideTopLeft",n.insideTopRight="insideTopRight",n.insideBottomLeft="insideBottomLeft",n.insideBottomRight="insideBottomRight"})(x7||(x7={}));var Vo;(function(n){n.arcInnerStart="arcInnerStart",n.arcInnerEnd="arcInnerEnd",n.arcInnerMiddle="arcInnerMiddle",n.arcOuterStart="arcOuterStart",n.arcOuterEnd="arcOuterEnd",n.arcOuterMiddle="arcOuterMiddle",n.center="center"})(Vo||(Vo={}));var w7;(function(n){n.top="top",n.bottom="bottom",n.middle="middle",n.insideTop="insideTop",n.insideBottom="insideBottom",n.insideMiddle="insideMiddle"})(w7||(w7={}));function PM(){Vs(),bz(),Z0()}function d9t(){PM(),LZ(),Z0()}function h9t(){PM(),FZ(),Z0()}function f9t(){PM(),yz(),Z0()}function p9t(){PM(),U1(),Z0()}function g9t(){PM(),LZ(),FZ(),gd(),hPe(),vg(),Z0()}class Iz extends ko{constructor(){super(...arguments),this.name="marker",this._onHover=e=>{this._lastHover=PPe(e,this._container,this._lastHover)},this._onUnHover=e=>{this._lastHover=MPe(e,this._container,this._lastHover)},this._onClick=e=>{this._lastSelect=IPe(e,this._container,this._lastSelect)}}transAnimationConfig(){var e,t,i;if(this.attribute.animation!==!1){const r=pn(this.attribute.animation)?this.attribute.animation:{};this._animationConfig={enter:We({},this.defaultUpdateAnimation,r,(e=this.attribute.animationEnter)!==null&&e!==void 0?e:{}),exit:We({},this.defaultExitAnimation,r,(t=this.attribute.animationExit)!==null&&t!==void 0?t:{}),update:We({},this.defaultUpdateAnimation,r,(i=this.attribute.animationUpdate)!==null&&i!==void 0?i:{})}}}setAttribute(e,t,i){super.setAttribute(e,t,i),e==="visible"&&this.render()}_bindEvent(){var e,t,i;if(!this.attribute.interactive)return;const{hover:r,select:s}=this.attribute;r&&((e=this._container)===null||e===void 0||e.addEventListener("pointermove",this._onHover),(t=this._container)===null||t===void 0||t.addEventListener("pointerout",this._onUnHover)),s&&((i=this._container)===null||i===void 0||i.addEventListener("pointerdown",this._onClick))}_releaseEvent(){var e,t,i;(e=this._container)===null||e===void 0||e.removeEventListener("pointermove",this._onHover),(t=this._container)===null||t===void 0||t.removeEventListener("pointerout",this._onUnHover),(i=this._container)===null||i===void 0||i.removeEventListener("pointerdown",this._onClick)}_initContainer(){var e,t;const{limitRect:i={},clipInRange:r}=this.attribute;let s;if(r){const a=It.group(Object.assign(Object.assign({},i),{clip:!0,pickable:!1}));s=It.group({x:-((e=i.x)!==null&&e!==void 0?e:0),y:-((t=i.y)!==null&&t!==void 0?t:0),pickable:!1}),a.add(s),this._containerClip=a,this.add(a)}else s=It.group({x:0,y:0,pickable:!1}),this.add(s);s.name="marker-container",this._container=s}_updateContainer(){var e,t;const{limitRect:i={},clipInRange:r}=this.attribute;this._containerClip&&this._containerClip.setAttributes(Object.assign({},i)),this._container.setAttributes({x:r?-((e=i.x)!==null&&e!==void 0?e:0):0,y:r?-((t=i.y)!==null&&t!==void 0?t:0):0})}render(){var e;this.transAnimationConfig(),this.setAttribute("pickable",!1);const t=(e=this.attribute.visible)===null||e===void 0||e;this.attribute.interactive===!1&&this.setAttribute("childrenPickable",!1),t&&this.isValidPoints()?this._container?(this._updateContainer(),this.updateMarker(),this.markerAnimate("update")):(this._initContainer(),this.initMarker(this._container),this.markerAnimate("enter")):(this.markerAnimate("exit"),this._container=null,this.removeAllChild(!0)),this._releaseEvent(),this._bindEvent()}release(){this.markerAnimate("exit"),super.release(),this._releaseEvent(),this._container=null}}function io(n,e,t,i){var r,s,a,o,l;if(!n)return;(r=n==null?void 0:n.animates)===null||r===void 0||r.forEach(d=>d.stop("end"));const u=(a=(s=n.attribute)===null||s===void 0?void 0:s.fillOpacity)!==null&&a!==void 0?a:1,c=(l=(o=n.attribute)===null||o===void 0?void 0:o.strokeOpacity)!==null&&l!==void 0?l:1;n.setAttributes({fillOpacity:0,strokeOpacity:0}),n.animate().wait(e).to({fillOpacity:u,strokeOpacity:c},t,i)}function PMe(n,e,t,i){n&&(io(n.startSymbol,e,t,i),n.lines.forEach(r=>io(r,e,t,i)),io(n.line,e,t,i),io(n.endSymbol,e,t,i))}function Rz(n,e,t,i){n&&(io(n.getTextShape(),e,t,i),io(n.getBgRect(),e,t,i))}function Wp(n,e,t,i){var r,s,a,o;n&&(n.setAttributes({fillOpacity:(s=(r=n.attribute)===null||r===void 0?void 0:r.fillOpacity)!==null&&s!==void 0?s:1,strokeOpacity:(o=(a=n.attribute)===null||a===void 0?void 0:a.strokeOpacity)!==null&&o!==void 0?o:1}),n.animate().wait(e).to({fillOpacity:0,strokeOpacity:0},t,i))}function MMe(n,e,t,i){n&&(Wp(n.startSymbol,e,t,i),n.lines.forEach(r=>Wp(r,e,t,i)),Wp(n.line,e,t,i),Wp(n.endSymbol,e,t,i))}function Dz(n,e,t,i){n&&(Wp(n.getTextShape(),e,t,i),Wp(n.getBgRect(),e,t,i))}function Wpe(n,e,t,i,r){const s=.1*t,a=.7*t,o=.1*t,l=.1*t;io(n.startSymbol,i,s,r),n.lines.forEach(u=>u.setAttribute("clipRange",0)),n.lines.forEach((u,c)=>{const d=a/n.lines.length;u.animate().wait(i+s+c*d).to({clipRange:1},d,r)}),io(n.endSymbol,i+s+a,o,r),Ae(e).forEach(u=>{const c=i+s+a+o;io(u.getTextShape(),c,l,r),io(u.getBgRect(),c,l,r)})}function Upe(n,e,t,i,r){PMe(n,i,t,r),Ae(e).forEach(s=>{Rz(s,i,t,r)})}function Gpe(n,e,t,i,r){io(n,i,t,r),Ae(e).forEach(s=>{Rz(s,i,t,r)})}function Ype(n,e,t,i,r){io(n,i,t,r),Ae(e).forEach(s=>{Rz(s,i,t,r)})}function Kpe(n,e,t,i,r,s){var a;PMe(n,r,i,s),io(e,r,i,s),!((a=t.getTextShape)===null||a===void 0)&&a.call(t)?Rz(t,r,i,s):io(t,r,i,s)}function m9t(n,e,t,i,r){MMe(n,i,t,r),Ae(e).forEach(s=>{Dz(s,i,t,r)})}function v9t(n,e,t,i,r){Wp(n,i,t,r),Ae(e).forEach(s=>{Dz(s,i,t,r)})}function y9t(n,e,t,i,r){Wp(n,i,t,r),Ae(e).forEach(s=>{Dz(s,i,t,r)})}function _9t(n,e,t,i,r,s){var a;MMe(n,r,i,s),Wp(e,r,i,s),!((a=t.getTextShape)===null||a===void 0)&&a.call(t)?Dz(t,r,i,s):Wp(t,r,i,s)}function Xpe(n,e,t,i,r,s){var a;const o=.1*i,l=.65*i,u=.05*i,c=.1*i,d=.1*i;io(n.startSymbol,r,o,s),n.lines.forEach(h=>h.setAttribute("clipRange",0)),n.lines.forEach((h,f)=>{const p=l/n.lines.length;h.animate().wait(r+o+f*p).to({clipRange:1},p,s)}),io(e,r+o+l,u,s),io(n.endSymbol,r+o+l+u,c,s),!((a=t.getTextShape)===null||a===void 0)&&a.call(t)?(io(t.getTextShape(),r+o+l+u+c,d,s),io(t.getBgRect(),r+o+l+c,d,s)):io(t,r+o+l+c,d,s)}function IMe(n,e,t,i){const{enter:r,update:s,exit:a}=t;if(i==="enter"){const{type:o,duration:l,delay:u,easing:c}=r;o==="clipIn"?Wpe(n,e,l,u,c):o==="fadeIn"&&Upe(n,e,l,u,c)}else if(i==="update"){const{type:o,duration:l,delay:u,easing:c}=s;o==="clipIn"?Wpe(n,e,l,u,c):o==="fadeIn"&&Upe(n,e,l,u,c)}else if(i==="exit"){const{duration:o,delay:l,easing:u}=a;m9t(n,e,o,l,u)}}function b9t(n,e,t,i){const{enter:r,update:s,exit:a}=t;if(i==="enter"){const{type:o,duration:l,delay:u,easing:c}=r;o==="fadeIn"&&Gpe(n,e,l,u,c)}else if(i==="update"){const{type:o,duration:l,delay:u,easing:c}=s;o==="fadeIn"&&Gpe(n,e,l,u,c)}else if(i==="exit"){const{duration:o,delay:l,easing:u}=a;v9t(n,e,o,l,u)}}function S9t(n,e,t,i){const{enter:r,update:s,exit:a}=t;if(i==="enter"){const{type:o,duration:l,delay:u,easing:c}=r;o==="fadeIn"&&Ype(n,e,l,u,c)}else if(i==="update"){const{type:o,duration:l,delay:u,easing:c}=s;o==="fadeIn"&&Ype(n,e,l,u,c)}else if(i==="exit"){const{duration:o,delay:l,easing:u}=a;y9t(n,e,o,l,u)}}function x9t(n,e,t,i){const[r,s]=n,{enter:a,update:o,exit:l}=t;if(i==="enter"){const{type:u,duration:c,delay:d,easing:h}=a;u==="fadeIn"?Kpe(r,s,e,c,d,h):u==="callIn"&&Xpe(r,s,e,c,d,h)}else if(i==="update"){const{type:u,duration:c,delay:d,easing:h}=o;u==="fadeIn"?Kpe(r,s,e,c,d,h):u==="callIn"&&Xpe(r,s,e,c,d,h)}else if(i==="exit"){const{duration:u,delay:c,easing:d}=l;_9t(r,s,e,u,c,d)}}const w9t={type:"clipIn",duration:500,easing:"linear",delay:0},RMe={type:"fadeIn",duration:500,easing:"linear",delay:0},C9t={type:"callIn",duration:500,easing:"linear",delay:0},Lz={type:"fadeOut",duration:500,easing:"linear",delay:0};class GZ{getLabel(){return this._label}_addMarkLabels(e,t,i){const{label:r,state:s}=this.attribute,a=Ae(s==null?void 0:s.label),o=Ae(s==null?void 0:s.labelBackground),l=Ae(r).map((u,c)=>{var d,h;const f=We({},i,u),p=new If(Object.assign(Object.assign({},f),{state:{panel:We({},ri,(d=o[c])!==null&&d!==void 0?d:Xn(o)),text:We({},ri,(h=a[c])!==null&&h!==void 0?h:Xn(a))}}));return p.name=t,e.add(p),this.setLabelPos(p,f),p});this._label=Ae(l).length===1?l[0]:l}_updateMarkLabels(e){const{label:t,state:i}=this.attribute,r=Ae(this._label),s=Ae(i==null?void 0:i.label),a=Ae(i==null?void 0:i.labelBackground);if(r.length){const o=Ae(t);r.forEach((l,u)=>{var c,d;const h=We({},e,o[u]);l.setAttributes(Object.assign(Object.assign({dx:0,dy:0},h),{state:{panel:We({},ri,(c=a[u])!==null&&c!==void 0?c:Xn(a)),text:We({},ri,(d=s[u])!==null&&d!==void 0?d:Xn(s))}})),this.setLabelPos(l,h)})}}}class YZ extends Iz{constructor(){super(...arguments),this.name="markCommonLine",this.defaultUpdateAnimation=w9t,this.defaultExitAnimation=Lz}getLine(){return this._line}setLabelPos(e,t){const{limitRect:i}=this.attribute,{position:r,confine:s,autoRotate:a}=t,o=this.getPointAttrByPosition(r,t),l=r.toString().toLocaleLowerCase().includes("start")?this._line.getStartAngle()||0:this._line.getEndAngle()||0;if(e.setAttributes(Object.assign(Object.assign({},o.position),{angle:a?this.getRotateByAngle(o.angle,t):0,textStyle:Object.assign(Object.assign({},this.getTextStyle(r,l,a)),t.textStyle)})),i&&s){const{x:u,y:c,width:d,height:h}=i;DZ(e,{x1:u,y1:c,x2:u+d,y2:c+h})}}initMarker(e){const t=this.createSegment();t.name="mark-common-line-line",this._line=t,e.add(t),this.addMarkLineLabels(e)}updateMarker(){this.setLineAttributes(),this.updateMarkLineLabels()}}Li(YZ,GZ);const yp=.001,T9t={interactive:!0,startSymbol:{visible:!1,symbolType:"triangle",size:12,fill:"rgba(46, 47, 50)",lineWidth:0},endSymbol:{visible:!0,symbolType:"triangle",size:12,fill:"rgba(46, 47, 50)",lineWidth:0},label:{position:S7.end,refX:0,refY:0,refAngle:0,textStyle:{fill:"#fff",stroke:"#fff",lineWidth:0,fontSize:10,fontWeight:"normal",fontStyle:"normal"},padding:[2,2,4,4],panel:{visible:!0,cornerRadius:0,fill:"rgb(48, 115, 242)",fillOpacity:.8}},lineStyle:{stroke:"#b2bacf",lineWidth:1,lineDash:[2]}},qpe={postiveXAxis:{start:{textAlign:"left",textBaseline:"middle"},startTop:{textAlign:"left",textBaseline:"bottom"},startBottom:{textAlign:"left",textBaseline:"top"},insideStart:{textAlign:"right",textBaseline:"middle"},insideStartTop:{textAlign:"right",textBaseline:"bottom"},insideStartBottom:{textAlign:"right",textBaseline:"top"},middle:{textAlign:"center",textBaseline:"middle"},insideMiddleTop:{textAlign:"center",textBaseline:"bottom"},insideMiddleBottom:{textAlign:"center",textBaseline:"top"},end:{textAlign:"left",textBaseline:"middle"},endTop:{textAlign:"left",textBaseline:"bottom"},endBottom:{textAlign:"left",textBaseline:"top"},insideEnd:{textAlign:"right",textBaseline:"middle"},insideEndTop:{textAlign:"right",textBaseline:"bottom"},insideEndBottom:{textAlign:"right",textBaseline:"top"}},negativeXAxis:{start:{textAlign:"right",textBaseline:"middle"},startTop:{textAlign:"right",textBaseline:"bottom"},startBottom:{textAlign:"right",textBaseline:"top"},insideStart:{textAlign:"left",textBaseline:"middle"},insideStartTop:{textAlign:"left",textBaseline:"bottom"},insideStartBottom:{textAlign:"left",textBaseline:"top"},middle:{textAlign:"center",textBaseline:"middle"},insideMiddleTop:{textAlign:"center",textBaseline:"bottom"},insideMiddleBottom:{textAlign:"center",textBaseline:"top"},end:{textAlign:"right",textBaseline:"middle"},endTop:{textAlign:"right",textBaseline:"bottom"},endBottom:{textAlign:"right",textBaseline:"top"},insideEnd:{textAlign:"left",textBaseline:"middle"},insideEndTop:{textAlign:"left",textBaseline:"bottom"},insideEndBottom:{textAlign:"left",textBaseline:"top"}}},E9t={interactive:!0,startSymbol:{visible:!1,symbolType:"triangle",size:12,fill:"rgba(46, 47, 50)",lineWidth:0},endSymbol:{visible:!0,symbolType:"triangle",size:12,fill:"rgba(46, 47, 50)",lineWidth:0},label:{autoRotate:!0,position:Vo.arcOuterMiddle,refX:0,refY:0,refAngle:0,textStyle:{fill:"#fff",stroke:"#fff",lineWidth:0,fontSize:10,fontWeight:"normal",fontStyle:"normal"},padding:[2,2,4,4],panel:{visible:!0,cornerRadius:0,fill:"rgb(48, 115, 242)",fillOpacity:.8}},lineStyle:{stroke:"#b2bacf",lineWidth:1,lineDash:[2]}},A9t={interactive:!0,label:{position:x7.right,textStyle:{fill:"#fff",stroke:"#fff",lineWidth:0,fontSize:10,fontWeight:"normal",fontStyle:"normal"},padding:[2,2,4,4],panel:{visible:!0,cornerRadius:0,fill:"rgb(48, 115, 242)",fillOpacity:.8}},areaStyle:{fill:"#b2bacf",visible:!0}},k9t={interactive:!0,label:{autoRotate:!0,position:Vo.arcOuterMiddle,textStyle:{fill:"#fff",stroke:"#fff",lineWidth:0,fontSize:10,fontWeight:"normal",fontStyle:"normal"},padding:[2,2,4,4],panel:{visible:!0,cornerRadius:0,fill:"rgb(48, 115, 242)",fillOpacity:.8}},areaStyle:{fill:"#b2bacf",visible:!0}},DMe={arcInnerStart:{textAlign:"center",textBaseline:"bottom"},arcInnerEnd:{textAlign:"center",textBaseline:"bottom"},arcInnerMiddle:{textAlign:"center",textBaseline:"bottom"},arcOuterStart:{textAlign:"center",textBaseline:"top"},arcOuterEnd:{textAlign:"center",textBaseline:"top"},arcOuterMiddle:{textAlign:"center",textBaseline:"top"},center:{textAlign:"center",textBaseline:"middle"}},O9t={left:{textAlign:"right",textBaseline:"middle"},insideLeft:{textAlign:"left",textBaseline:"middle"},right:{textAlign:"left",textBaseline:"middle"},insideRight:{textAlign:"right",textBaseline:"middle"},top:{textAlign:"center",textBaseline:"bottom"},insideTop:{textAlign:"center",textBaseline:"top"},bottom:{textAlign:"center",textBaseline:"top"},insideBottom:{textAlign:"center",textBaseline:"bottom"},middle:{textAlign:"center",textBaseline:"middle"},topLeft:{textAlign:"right",textBaseline:"top"},insideTopLeft:{textAlign:"left",textBaseline:"top"},topRight:{textAlign:"left",textBaseline:"top"},insideTopRight:{textAlign:"right",textBaseline:"top"},bottomLeft:{textAlign:"right",textBaseline:"bottom"},insideBottomLeft:{textAlign:"left",textBaseline:"bottom"},bottomRight:{textAlign:"left",textBaseline:"bottom"},insideBottomRight:{textAlign:"right",textBaseline:"bottom"}},P9t={interactive:!0,targetSymbol:{visible:!1,offset:0,style:{symbolType:"circle",size:20,fill:!1,stroke:"rgba(46, 47, 50)"}},itemLine:{visible:!0,decorativeLine:{visible:!1,length:30},startSymbol:{visible:!0,clip:!0,symbolType:"circle",size:20,style:{fill:!1,stroke:"rgba(46, 47, 50)"}},endSymbol:{visible:!1,clip:!0,symbolType:"triangle",size:12,style:{fill:!1,stroke:"rgba(46, 47, 50)"}},lineStyle:{stroke:"#000",lineWidth:1}},itemContent:{type:"text",position:"middle",refX:10}},Zpe={postiveXAxis:{top:{textAlign:"left",textBaseline:"bottom"},bottom:{textAlign:"left",textBaseline:"top"},middle:{textAlign:"left",textBaseline:"middle"},insideTop:{textAlign:"right",textBaseline:"bottom"},insideBottom:{textAlign:"right",textBaseline:"top"},insideMiddle:{textAlign:"right",textBaseline:"middle"}},negativeXAxis:{top:{textAlign:"right",textBaseline:"bottom"},bottom:{textAlign:"right",textBaseline:"top"},middle:{textAlign:"right",textBaseline:"middle"},insideTop:{textAlign:"left",textBaseline:"bottom"},insideBottom:{textAlign:"left",textBaseline:"top"},insideMiddle:{textAlign:"left",textBaseline:"middle"}}};d9t();function LMe(){Fp._animate=IMe}class Fp extends YZ{markerAnimate(e){Fp._animate&&this._animationConfig&&Fp._animate(this._line,this._label,this._animationConfig,e)}constructor(e,t){super(t!=null&&t.skipDefault?e:We({},Fp.defaultAttributes,e)),this.name="markLine"}getPointAttrByPosition(e,t){var i;const{refX:r=0,refY:s=0}=t,a=this._line.getMainSegmentPoints(),o=(i=this._line.getEndAngle())!==null&&i!==void 0?i:0,l=o,u=r*Math.cos(l)+s*Math.cos(l-Math.PI/2),c=r*Math.sin(l)+s*Math.sin(l-Math.PI/2);return e.includes("start")||e.includes("Start")?{position:{x:a[0].x+u,y:a[0].y+c},angle:l}:e.includes("middle")||e.includes("Middle")?{position:{x:(a[0].x+a[a.length-1].x)/2+u,y:(a[0].y+a[a.length-1].y)/2+c},angle:l}:{position:{x:a[a.length-1].x+u,y:a[a.length-1].y+c},angle:l}}getRotateByAngle(e,t){var i;return(qB(e)?e:e-Math.PI)+((i=t.refAngle)!==null&&i!==void 0?i:0)}getTextStyle(e,t,i){return mp(Math.abs(t),Math.PI/2,yp)||mp(Math.abs(t),3*Math.PI/2,yp)?mPe(i,t,e):qB(t)?qpe.postiveXAxis[e]:qpe.negativeXAxis[e]}createSegment(){const{points:e,startSymbol:t,endSymbol:i,lineStyle:r,mainSegmentIndex:s,multiSegment:a,state:o}=this.attribute;return new jm({points:e,startSymbol:t,endSymbol:i,lineStyle:r,mainSegmentIndex:s,multiSegment:a,pickable:!1,state:{line:We({},ri,o==null?void 0:o.line),startSymbol:We({},ri,o==null?void 0:o.lineStartSymbol),endSymbol:We({},ri,o==null?void 0:o.lineEndSymbol)}})}setLineAttributes(){const{points:e,startSymbol:t,endSymbol:i,lineStyle:r,mainSegmentIndex:s,multiSegment:a,state:o}=this.attribute;this._line&&this._line.setAttributes({points:e,startSymbol:t,endSymbol:i,lineStyle:r,mainSegmentIndex:s,multiSegment:a,state:{line:We({},ri,o==null?void 0:o.line),startSymbol:We({},ri,o==null?void 0:o.lineStartSymbol),endSymbol:We({},ri,o==null?void 0:o.lineEndSymbol)}})}isValidPoints(){const{points:e}=this.attribute;if(!e||e.length<2)return!1;let t=!0;return e.forEach(i=>{if(i.length)i.forEach(r=>{Me(r.x)&&Me(r.y)||(t=!1)});else if(!Me(i.x)||!Me(i.y))return void(t=!1)}),t}addMarkLineLabels(e){this._addMarkLabels(e,"mark-common-line-label",Fp.defaultAttributes.label)}updateMarkLineLabels(){this._updateMarkLabels(Fp.defaultAttributes.label)}}Fp.defaultAttributes=T9t;f9t();function FMe(){df._animate=b9t}class df extends Iz{markerAnimate(e){df._animate&&this._animationConfig&&df._animate(this._area,this._label,this._animationConfig,e)}getArea(){return this._area}constructor(e,t){super(t!=null&&t.skipDefault?e:We({},df.defaultAttributes,e)),this.name="markArea",this.defaultUpdateAnimation=RMe,this.defaultExitAnimation=Lz}getPointAttrByPosition(e){const{x1:t,x2:i,y1:r,y2:s}=this._area.AABBBounds,a={x:(t+i)/2,y:(r+s)/2};return(e.includes("left")||e.includes("Left"))&&(a.x=t),(e.includes("right")||e.includes("Right"))&&(a.x=i),(e.includes("top")||e.includes("Top"))&&(a.y=r),(e.includes("bottom")||e.includes("Bottom"))&&(a.y=s),a}setLabelPos(e,t){var i;if(this._area){const r=(i=t.position)!==null&&i!==void 0?i:"middle",s=this.getPointAttrByPosition(r);if(e.setAttributes(Object.assign(Object.assign({},s),{textStyle:Object.assign(Object.assign({},O9t[r]),t.textStyle)})),this.attribute.limitRect&&t.confine){const{x:a,y:o,width:l,height:u}=this.attribute.limitRect;DZ(e,{x1:a,y1:o,x2:a+l,y2:o+u})}}}initMarker(e){const{points:t,areaStyle:i,state:r}=this.attribute,s=It.polygon(Object.assign({points:t},i));s.states=We({},ri,r==null?void 0:r.area),s.name="mark-area-polygon",this._area=s,e.add(s),this._addMarkLabels(e,"mark-area-label",df.defaultAttributes.label)}updateMarker(){const{points:e,areaStyle:t,state:i}=this.attribute;this._area&&(this._area.setAttributes(Object.assign({points:e},t)),this._area.states=We({},ri,i==null?void 0:i.area)),this._updateMarkLabels(df.defaultAttributes.label)}isValidPoints(){const{points:e}=this.attribute;if(!e||e.length<3)return!1;let t=!0;return e.forEach(i=>{Me(i.x)&&Me(i.y)||(t=!1)}),t}}df.defaultAttributes=A9t,Li(df,GZ);h9t();function M9t(){im._animate=IMe}class im extends YZ{markerAnimate(e){im._animate&&this._animationConfig&&im._animate(this._line,this._label,this._animationConfig,e)}constructor(e,t){super(t!=null&&t.skipDefault?e:We({},im.defaultAttributes,e)),this.name="markArcLine"}getPointAttrByPosition(e,t){const{center:i,radius:r,startAngle:s,endAngle:a}=this.attribute,{refX:o=0,refY:l=0}=t;let u;switch(e){case Vo.arcInnerStart:u=s;case Vo.arcOuterStart:u=s;break;case Vo.arcInnerEnd:u=a;case Vo.arcOuterEnd:u=a;break;case Vo.center:case Vo.arcInnerMiddle:case Vo.arcOuterMiddle:default:u=(s+a)/2}return{position:{x:i.x+(r+l)*Math.cos(u)+o*Math.cos(u-Math.PI/2),y:i.y+(r+l)*Math.sin(u)+o*Math.sin(u-Math.PI/2)},angle:u}}getTextStyle(e){return DMe[e]}getRotateByAngle(e,t){var i;return e-Math.PI/2+((i=t.refAngle)!==null&&i!==void 0?i:0)}createSegment(){const{center:e,radius:t,startAngle:i,endAngle:r,startSymbol:s,endSymbol:a,lineStyle:o,state:l}=this.attribute;return new d7({center:e,radius:t,startAngle:i,endAngle:r,startSymbol:s,endSymbol:a,lineStyle:o,state:{line:We({},ri,l==null?void 0:l.line),startSymbol:We({},ri,l==null?void 0:l.lineStartSymbol),endSymbol:We({},ri,l==null?void 0:l.lineEndSymbol)}})}setLineAttributes(){const{center:e,radius:t,startAngle:i,endAngle:r,startSymbol:s,endSymbol:a,lineStyle:o,state:l}=this.attribute;this._line&&this._line.setAttributes({center:e,radius:t,startAngle:i,endAngle:r,startSymbol:s,endSymbol:a,lineStyle:o,state:{line:We({},ri,l==null?void 0:l.line),startSymbol:We({},ri,l==null?void 0:l.lineStartSymbol),endSymbol:We({},ri,l==null?void 0:l.lineEndSymbol)}})}isValidPoints(){return!0}addMarkLineLabels(e){this._addMarkLabels(e,"mark-common-line-label",im.defaultAttributes.label)}updateMarkLineLabels(){this._updateMarkLabels(im.defaultAttributes.label)}}im.defaultAttributes=E9t;p9t();function I9t(){Bp._animate=S9t}class Bp extends Iz{markerAnimate(e){Bp._animate&&this._animationConfig&&Bp._animate(this._area,this._label,this._animationConfig,e)}getArea(){return this._area}constructor(e,t){super(t!=null&&t.skipDefault?e:We({},Bp.defaultAttributes,e)),this.name="markArcArea",this.defaultUpdateAnimation=RMe,this.defaultExitAnimation=Lz}getPointAttrByPosition(e,t){const{center:i,innerRadius:r,outerRadius:s,startAngle:a,endAngle:o}=this.attribute,{refX:l=0,refY:u=0}=t;let c,d;switch(e){case Vo.center:c=(r+s)/2,d=(a+o)/2;break;case Vo.arcInnerStart:c=r,d=a;break;case Vo.arcOuterStart:c=s,d=a;break;case Vo.arcInnerEnd:c=r,d=o;break;case Vo.arcOuterEnd:c=s,d=o;break;case Vo.arcInnerMiddle:c=r,d=(a+o)/2;break;case Vo.arcOuterMiddle:c=s,d=(a+o)/2;break;default:c=r,d=(a+o)/2}return{position:{x:i.x+(c+u)*Math.cos(d)+l*Math.cos(d-Math.PI/2),y:i.y+(c+u)*Math.sin(d)+l*Math.sin(d-Math.PI/2)},angle:d}}setLabelPos(e,t){var i;if(this._area){const{position:r="arcInnerMiddle",autoRotate:s}=t,a=this.getPointAttrByPosition(r,t);if(e.setAttributes(Object.assign(Object.assign({},a.position),{angle:s?a.angle-Math.PI/2+((i=t.refAngle)!==null&&i!==void 0?i:0):0,textStyle:Object.assign(Object.assign({},DMe[r]),t.textStyle)})),this.attribute.limitRect&&t.confine){const{x:o,y:l,width:u,height:c}=this.attribute.limitRect;DZ(e,{x1:o,y1:l,x2:o+u,y2:l+c})}}}initMarker(e){const{center:t,innerRadius:i,outerRadius:r,startAngle:s,endAngle:a,areaStyle:o,state:l}=this.attribute,u=It.arc(Object.assign({x:t.x,y:t.y,innerRadius:i,outerRadius:r,startAngle:s,endAngle:a},o));u.states=We({},ri,l==null?void 0:l.area),u.name="polar-mark-area-area",this._area=u,e.add(u),this._addMarkLabels(e,"mark-area-label",Bp.defaultAttributes.label)}updateMarker(){const{center:e,innerRadius:t,outerRadius:i,startAngle:r,endAngle:s,areaStyle:a,label:o,state:l}=this.attribute;this._area&&(this._area.setAttributes(Object.assign({x:e.x,y:e.y,innerRadius:t,outerRadius:i,startAngle:r,endAngle:s},a)),this._area.states=We({},ri,l==null?void 0:l.area)),this._updateMarkLabels(Bp.defaultAttributes.label)}isValidPoints(){return!0}}Bp.defaultAttributes=k9t,Li(Bp,GZ);g9t();function KZ(){qb._animate=x9t}class qb extends Iz{markerAnimate(e){qb._animate&&this._animationConfig&&qb._animate([this._line,this._decorativeLine],this._item,this._animationConfig,e)}constructor(e,t){super(t!=null&&t.skipDefault?e:We({},qb.defaultAttributes,e)),this.name="markPoint",this.defaultUpdateAnimation=C9t,this.defaultExitAnimation=Lz,this._isArcLine=!1,this._isStraightLine=!1}setLabelPos(){}getTextAlignAttr(e,t,i,r,s){return mp(Math.abs(r),Math.PI/2,yp)||mp(Math.abs(r),3*Math.PI/2,yp)?mPe(e,r,s):qB(r)?Zpe.postiveXAxis[s]:Zpe.negativeXAxis[s]}setItemAttributes(e,t,i,r,s){var a,o;if(!e)return;const{autoRotate:l=!0,refX:u=0,refY:c=0,refAngle:d=0,style:h,position:f=w7.middle}=t,{state:p}=this.attribute,g=((a=this._line)===null||a===void 0?void 0:a.getEndAngle())||0,m=u*Math.cos(g)+c*Math.cos(g-Math.PI/2),v=u*Math.sin(g)+c*Math.sin(g-Math.PI/2);if(s==="text"){const y=r.x-i.x,x=r.y-i.y;e.setAttributes(Object.assign(Object.assign({},h),{textStyle:Object.assign(Object.assign({},this.getTextAlignAttr(l,y,x,g,(o=t.position)!==null&&o!==void 0?o:"end")),h.textStyle),state:{panel:We({},ri,p==null?void 0:p.textBackground),text:We({},ri,p==null?void 0:p.itemContent)}}))}else(s==="richText"||s==="image")&&(e.setAttributes({dx:this.getItemDx(e,f,h)+(h.dx||0),dy:this.getItemDy(e,f,h)+(h.dy||0)}),e.states=We({},ri,p==null?void 0:p.itemContent));const _=qB(g)?g:g-Math.PI;e.setAttributes({x:r.x+(m||0),y:r.y+(v||0),angle:l&&_+d})}getItemDx(e,t,i){var r,s;const a=(s=(r=e==null?void 0:e.AABBBounds)===null||r===void 0?void 0:r.width())!==null&&s!==void 0?s:(i==null?void 0:i.width)||0;return t.includes("inside")?-a:0}getItemDy(e,t,i){var r,s;const a=(s=(r=e==null?void 0:e.AABBBounds)===null||r===void 0?void 0:r.height())!==null&&s!==void 0?s:(i==null?void 0:i.height)||0;return t.includes("top")||t.includes("Top")?-a:t.includes("middle")||t.includes("Middle")?-a/2:0}initItem(e,t,i){const{state:r}=this.attribute,{type:s="text",style:a,renderCustomCallback:o}=e;let l;return s==="symbol"?(l=It.symbol(Object.assign(Object.assign({},i),a)),l.states=We({},ri,r==null?void 0:r.itemContent)):s==="text"?l=new If(Object.assign(Object.assign({},i),{state:{panel:We({},ri,r==null?void 0:r.textBackground),text:We({},ri,r==null?void 0:r.itemContent)}})):s==="richText"?(l=It.richtext(Object.assign(Object.assign({},i),a)),l.states=We({},ri,r==null?void 0:r.itemContent)):s==="image"?(l=It.image(Object.assign(Object.assign({},i),a)),l.states=We({},ri,r==null?void 0:r.itemContent)):s==="custom"&&o&&(l=o(),l.states=We({},ri,r==null?void 0:r.itemContent)),l.name=`mark-point-${s}`,this.setItemAttributes(l,e,t,i,s),l}getItemLineAttr(e,t,i){let r=[],s={x:0,y:0},a=0,o=0,l=0;const{type:u="type-s",arcRatio:c=.8}=e,d=i.x-t.x,h=i.y-t.y;if(this._isStraightLine=mp(d,0,yp)||mp(h,0,yp),this._isArcLine){const{x:f,y:p}=this.attribute.position,{x:g,y:m}=i,v=(f+g)/2,_=(p+m)/2,y=p===m?0:-(f-g)/(p-m),x=v+c*(m>p?-1:1)*v,w=(A=>y*(A-v)+_)(x);o=rx(p-w,f-x),l=rx(m-w,g-x),s={x,y:w};const T=Math.sqrt((x-f)*(x-f)+(w-p)*(w-p)),E=this.attribute.targetSymbol.style.size/2;o+=2*Math.acos(Math.sqrt(1-E*E/(4*T*T))),c>0?l<o&&(l+=2*Math.PI):o<l&&(o+=2*Math.PI),a=Math.sqrt((x-f)*(x-f)+(w-p)*(w-p))}else r=u!=="type-do"||this._isStraightLine?u!=="type-po"||this._isStraightLine?u!=="type-op"||this._isStraightLine?[t,i]:[t,{x:t.x,y:i.y},i]:[t,{x:i.x,y:t.y},i]:[t,{x:(t.x+i.x)/2,y:i.y},i];return r=A8t(r),{points:r,center:s,radius:a,startAngle:o,endAngle:l}}reDrawLine(e,t){this._line.release();const{startSymbol:i,endSymbol:r,lineStyle:s,type:a="type-s"}=e,{state:o}=this.attribute,l=this._isArcLine?d7:jm;this._container.removeChild(this._line),this._line=new l(Object.assign(Object.assign({},t),{pickable:!1,startSymbol:i,endSymbol:r,lineStyle:s,visible:e.visible,state:{line:We({},ri,o==null?void 0:o.line),startSymbol:We({},ri,o==null?void 0:o.lineStartSymbol),endSymbol:We({},ri,o==null?void 0:o.lineEndSymbol)}})),this._container.add(this._line)}setItemLineAttr(e,t,i){if(this._line){const{startSymbol:r,endSymbol:s,lineStyle:a,type:o="type-s"}=e,{state:l}=this.attribute,u=this.getItemLineAttr(e,t,i);this._isArcLine&&this._line.key==="arc-segment"||!this._isArcLine&&this._line.key==="segment"?this._line.setAttributes(Object.assign(Object.assign({},u),{startSymbol:r,endSymbol:s,lineStyle:a,visible:e.visible,state:{line:We({},ri,l==null?void 0:l.line),startSymbol:We({},ri,l==null?void 0:l.lineStartSymbol),endSymbol:We({},ri,l==null?void 0:l.lineEndSymbol)}})):this.reDrawLine(e,u)}}getDecorativeLineAttr(e){var t;const i=((t=e==null?void 0:e.decorativeLine)===null||t===void 0?void 0:t.length)||10,r=this._line.getEndAngle()||0;return{startPointOffsetX:i/2*Math.cos(r-Math.PI/2),startPointOffsetY:i/2*Math.sin(r-Math.PI/2),endPointOffsetX:-i/2*Math.cos(r-Math.PI/2),endPointOffsetY:-i/2*Math.sin(r-Math.PI/2)}}setDecorativeLineAttr(e,t,i){var r;if(this._decorativeLine){const{lineStyle:s}=e,{startPointOffsetX:a,startPointOffsetY:o,endPointOffsetX:l,endPointOffsetY:u}=this.getDecorativeLineAttr(e);this._decorativeLine.setAttributes(Object.assign(Object.assign({points:[{x:t.x+a,y:t.y+o},{x:t.x+l,y:t.y+u}]},s),{visible:i})),this._decorativeLine.states=We({},ri,(r=this.attribute.state)===null||r===void 0?void 0:r.line)}}setTargetItemAttributes(e,t){var i,r;this._targetItem&&(this._targetItem.setAttributes(Object.assign({x:t.x,y:t.y,visible:(i=e.visible)!==null&&i!==void 0&&i,size:e.size},e.style)),this._targetItem.states=We({},ri,(r=this.attribute.state)===null||r===void 0?void 0:r.targetItem))}setAllOfItemsAttr(e,t){var i;const{position:r,itemLine:s={},itemContent:a={},limitRect:o,targetSymbol:l}=this.attribute,{type:u="text",confine:c}=a;if(o&&c){const{x:d,y:h,width:f,height:p}=o,{dx:g,dy:m}=SPe(this._item,{x1:d,y1:h,x2:d+f,y2:h+p});t.x=t.x+g,t.y=t.y+m}this.setTargetItemAttributes(l,r),this.setItemLineAttr(s,e,t),this.setItemAttributes(this._item,a,e,t,u),this.setDecorativeLineAttr(s,t,(i=s.decorativeLine)===null||i===void 0?void 0:i.visible)}computeNewPositionAfterTargetItem(e){var t,i;const{itemContent:r={},targetSymbol:s,itemLine:a}=this.attribute,{offsetX:o=0,offsetY:l=0}=r,{offset:u=0,style:c,visible:d=!1,size:h}=s,f=d?(i=(t=c.size)!==null&&t!==void 0?t:h)!==null&&i!==void 0?i:20:0;let p;return p=a.type==="type-do"?rx(l,o/2):a.type==="type-po"?rx(0,o):a.type==="type-op"?rx(l,0):rx(l,o),{newPosition:{x:e.x+(f/2+u)*Math.cos(p),y:e.y+(f/2+u)*Math.sin(p)},newItemPosition:{x:e.x+(f/2+u)*Math.cos(p)+o,y:e.y+(f/2+u)*Math.sin(p)+l}}}initMarker(e){const{position:t,itemContent:i={},itemLine:r}=this.attribute,{type:s="type-s",arcRatio:a=.8}=r,{offsetX:o=0,offsetY:l=0}=i;this._isStraightLine=mp(o,0,yp)||mp(l,0,yp),this._isArcLine=s==="type-arc"&&a!==0&&!this._isStraightLine;const{newPosition:u,newItemPosition:c}=this.computeNewPositionAfterTargetItem(t),d=new(this._isArcLine?d7:jm)({points:[],pickable:!1,center:{x:0,y:0},radius:0,startAngle:0,endAngle:0});d.name="mark-point-line",this._line=d,e.add(d);const h=It.line({points:[]});h.name="mark-point-decorativeLine",this._decorativeLine=h,e.add(h);const f=It.symbol({});f.name="mark-point-targetItem",this._targetItem=f,e.add(this._targetItem);const p=this.initItem(i,u,c);this._item=p,e.add(p),this.setAllOfItemsAttr(u,c)}updateMarker(){const{position:e,itemContent:t={},itemLine:i}=this.attribute,{type:r="text"}=t,{type:s="type-s",arcRatio:a=.8}=i,{offsetX:o=0,offsetY:l=0}=t;this._isStraightLine=mp(o,0,yp)||mp(l,0,yp);const u=s==="type-arc"&&a!==0&&!this._isStraightLine,{newPosition:c,newItemPosition:d}=this.computeNewPositionAfterTargetItem(e);u!==this._isArcLine?(this._isArcLine=u,this.reDrawLine(i,{points:[{x:0,y:0}],pickable:!1,center:{x:0,y:0},radius:0,startAngle:0,endAngle:0})):this._isArcLine=u,this.setItemAttributes(this._item,t,c,d,r),this.setAllOfItemsAttr(c,d)}isValidPoints(){const{position:e}=this.attribute;return!(!Me(e.x)||!Me(e.y))}}qb.defaultAttributes=P9t;function BMe(){Vs(),gd(),_g()}const $Me={space:8,style:{fill:"rgb(47, 69, 84)",cursor:"pointer",size:15},state:{disable:{fill:"rgb(170, 170, 170)",cursor:"not-allowed"},hover:{}}};BMe();class zO extends ko{getCurrent(){return this._current}constructor(e,t){super(t!=null&&t.skipDefault?e:We({},zO.defaultAttributes,e)),this.name="pager",this._current=1,this._onHover=i=>{const r=i.target;r.hasState("disable")||r.addState("hover")},this._onUnHover=i=>{i.target.removeState("hover")},this._onClick=i=>{const r=i.target;if(r.name==="preHandler"){if(this._current===1)return;this._current-=1,this._current===1?r.addState("disable"):r.removeState("disable"),this._dispatchEvent("toPrev",{current:this._current,total:this._total,direction:"pre",event:i})}if(r.name==="nextHandler"){if(this._current===this._total)return;this._current+=1,this._current===this._total?r.addState("disable"):r.removeState("disable"),this._dispatchEvent("toNext",{current:this._current,total:this._total,direction:"next",event:i})}this._current>1&&this.preHandler.removeState("disable"),this._current<this._total&&this.nextHandler.removeState("disable"),this.text.setAttribute("text",this._getPageText(this._current))}}render(){var e,t,i;this._reset();const{layout:r="horizontal",handler:s=$Me,total:a,defaultCurrent:o=1,textStyle:l,padding:u=0}=this.attribute;this._current=o;const c=gl(u),d=r==="horizontal",h=It.group({x:0,y:0}),f=s.style||{},p=f.size||15,g=(e=s.space)!==null&&e!==void 0?e:8,m=s.state||{};let{preShape:v,nextShape:_}=s;v||(v=d?"triangleLeft":"triangleUp"),_||(_=d?"triangleRight":"triangleDown");const y=It.symbol(Object.assign(Object.assign({strokeBoundsBuffer:0,pickMode:"imprecise"},f),{x:0,y:0,symbolType:v,size:p}));y.states=m,y.name="preHandler",this.preHandler=y,h.add(y);const{width:x,height:w}=_z(this._getPageText(a),Object.assign({textAlign:"center",textBaseline:"middle"},l),(i=(t=this.stage)===null||t===void 0?void 0:t.getTheme())===null||i===void 0?void 0:i.text),T=st(p)?p:p[0],E=st(p)?p:p[1],A=It.text(Object.assign({x:d?T/2+g+x/2:0,y:d?0:E/2+g+w/2,text:this._getPageText(o),textAlign:"center",textBaseline:"middle",lineHeight:l==null?void 0:l.fontSize},l));this.text=A,h.add(A);const k=It.symbol(Object.assign(Object.assign({strokeBoundsBuffer:0,pickMode:"imprecise"},f),{x:d?T+2*g+x:0,y:d?0:E+2*g+w,symbolType:_,size:p}));k.name="nextHandler",k.states=m,this.nextHandler=k,h.add(k),this._total===1?(y.addState("disable"),k.addState("disable")):this._current===1?y.addState("disable"):this._current===a&&k.addState("disable");const P=h.AABBBounds,I=P.width(),D=P.height();h.translateTo(0-P.x1+c[3],0-P.y1+c[0]),this.add(h),this.attribute.width=I+c[1]+c[3],this.attribute.height=D+c[0]+c[2],this._bindEvents()}_bindEvents(){this.attribute.disableTriggerEvent||(this.preHandler&&(this.preHandler.addEventListener("pointerenter",this._onHover),this.preHandler.addEventListener("pointerleave",this._onUnHover),this.preHandler.addEventListener("pointerdown",this._onClick)),this.nextHandler&&(this.nextHandler.addEventListener("pointerenter",this._onHover),this.nextHandler.addEventListener("pointerleave",this._onUnHover),this.nextHandler.addEventListener("pointerdown",this._onClick)))}_reset(){this.removeAllChild(!0),this._current=1,this._total=this.attribute.total,this.preHandler=this.nextHandler=this.text=null}_getPageText(e){const{pageFormatter:t}=this.attribute;return t?Re(t)?t(e,this._total):`${t}`.replace("{current}",`${e}`).replace("{total}",`${this._total}`):`${e}/${this._total}`}setTotal(e){e!==this.attribute.total&&(this._total=e,this._current!==1&&this._current<=e?this.setAttributes({total:e,defaultCurrent:this._current}):this.setAttribute("total",e))}}zO.defaultAttributes={handler:$Me,textStyle:{fill:"rgb(51, 51, 51)",fontSize:12}};const r$=10,NMe=8,jMe=8,R9t=8,X2=16,q2=8,MM=12,C7=12;var hn;(function(n){n.selected="selected",n.unSelected="unSelected",n.selectedHover="selectedHover",n.unSelectedHover="unSelectedHover",n.focus="focus"})(hn||(hn={}));var Gd;(function(n){n.legendItemHover="legendItemHover",n.legendItemUnHover="legendItemUnHover",n.legendItemClick="legendItemClick",n.legendItemAttributeUpdate="legendItemAttributeUpdate"})(Gd||(Gd={}));var sl;(function(n){n.innerView="innerView",n.title="legendTitle",n.item="legendItem",n.itemShape="legendItemShape",n.itemLabel="legendItemLabel",n.itemValue="legendItemValue",n.focus="legendItemFocus"})(sl||(sl={}));class XZ extends ko{constructor(){super(...arguments),this.name="legend",this._title=null}render(){this.removeAllChild(!0);const{interactive:e=!0,title:t,padding:i=0}=this.attribute;this._parsedPadding=gl(i);const r=It.group({x:this._parsedPadding[3],y:this._parsedPadding[0],pickable:e,childrenPickable:e});r.name=sl.innerView,this.add(r),this._innerView=r,t!=null&&t.visible&&this._renderTitle(t),this._renderContent(),this._adjustLayout(),e&&this._bindEvents();const s=this._innerView.AABBBounds;this.attribute.width=s.width()+this._parsedPadding[1]+this._parsedPadding[3],this.attribute.height=s.height()+this._parsedPadding[0]+this._parsedPadding[2]}_renderTitle(e){const{text:t="",textStyle:i,padding:r=0,background:s,minWidth:a,maxWidth:o,shape:l}=e,u={x:0,y:0,text:t,textStyle:i,padding:gl(r),minWidth:a,maxWidth:o};l&&l.visible&&(u.shape=Object.assign({visible:!0},l.style),Y(l.space)&&(u.space=l.space)),s&&s.visible&&(u.panel=Object.assign({visible:!0},s.style));const c=new If(u);c.name=sl.title,this._title=c,this._innerView.add(c)}_adjustLayout(){var e;if(this._title){const t=this._innerView.AABBBounds.width(),i=this._title.AABBBounds.width(),r=(e=this.attribute.title)===null||e===void 0?void 0:e.align;r==="center"?this._title.setAttribute("x",(t-i)/2):r==="end"&&this._title.setAttribute("x",t-i)}}}function Fz(){Vs(),_g(),yg(),gd()}function qZ(){Vs(),bz()}function D9t(){qZ(),BMe(),fPe()}function L9t(){qZ(),Fz()}function F9t(){qZ(),Fz(),G1()}var Qpe=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};const B9t={[hn.focus]:{},[hn.selected]:{},[hn.selectedHover]:{},[hn.unSelected]:{},[hn.unSelectedHover]:{}};D9t();let zMe=class HMe extends XZ{constructor(e,t){super(t!=null&&t.skipDefault?e:We({},HMe.defaultAttributes,e)),this.name="discreteLegend",this._itemsContainer=null,this._itemHeightByUser=void 0,this._itemHeight=0,this._itemMaxWidth=0,this._contentMaxHeight=0,this._onHover=i=>{const r=i.target;if(r&&r.name&&r.name.startsWith(sl.item)){const s=r.delegate;if(this._lastActiveItem){if(this._lastActiveItem.id===s.id)return;this._unHover(this._lastActiveItem,i)}this._hover(s,i)}else this._lastActiveItem&&(this._unHover(this._lastActiveItem,i),this._lastActiveItem=null)},this._onUnHover=i=>{this._lastActiveItem&&(this._unHover(this._lastActiveItem,i),this._lastActiveItem=null)},this._onClick=i=>{var r,s,a,o;const l=i.target;if(l&&l.name&&l.name.startsWith(sl.item)){const u=l.delegate,{selectMode:c="multiple"}=this.attribute;if(l.name===sl.focus||c==="focus"){const d=u.hasState(hn.focus);u.toggleState(hn.focus),d?(r=this._itemsContainer)===null||r===void 0||r.getChildren().forEach(h=>{this._removeLegendItemState(h,[hn.unSelected,hn.unSelectedHover,hn.focus],i),this._setLegendItemState(h,hn.selected,i)}):(this._setLegendItemState(u,hn.selected,i),this._removeLegendItemState(u,[hn.unSelected,hn.unSelectedHover],i),(s=this._itemsContainer)===null||s===void 0||s.getChildren().forEach(h=>{u!==h&&(this._removeLegendItemState(h,[hn.selected,hn.selectedHover,hn.focus],i),this._setLegendItemState(h,hn.unSelected,i))}))}else{(a=this._itemsContainer)===null||a===void 0||a.getChildren().forEach(p=>{p.removeState(hn.focus)});const{allowAllCanceled:d=!0}=this.attribute,h=u.hasState(hn.selected),f=this._getSelectedLegends();if(c==="multiple"){if(d===!1&&h&&f.length===1)return void this._dispatchLegendEvent(Gd.legendItemClick,u,i);h?(this._removeLegendItemState(u,[hn.selected,hn.selectedHover],i),this._setLegendItemState(u,hn.unSelected,i)):(this._setLegendItemState(u,hn.selected,i),this._removeLegendItemState(u,[hn.unSelected,hn.unSelectedHover],i))}else this._setLegendItemState(u,hn.selected,i),this._removeLegendItemState(u,[hn.unSelected,hn.unSelectedHover],i),(o=this._itemsContainer)===null||o===void 0||o.getChildren().forEach(p=>{u!==p&&(this._removeLegendItemState(p,[hn.selected,hn.selectedHover],i),this._setLegendItemState(p,hn.unSelected,i))})}this._dispatchLegendEvent(Gd.legendItemClick,u,i)}}}render(){super.render(),this._lastActiveItem=null}setSelected(e){var t;((t=this._itemsContainer)===null||t===void 0?void 0:t.getChildren()).forEach(i=>{const r=i.data;e.includes(r.label)?(this._setLegendItemState(i,hn.selected),this._removeLegendItemState(i,[hn.unSelected,hn.unSelectedHover])):(this._removeLegendItemState(i,[hn.selected,hn.selectedHover]),this._setLegendItemState(i,hn.unSelected))})}_renderItems(){const{item:e={},maxCol:t=1,maxRow:i=2,maxWidth:r,defaultSelected:s,lazyload:a,autoPage:o}=this.attribute,{spaceCol:l=X2,spaceRow:u=q2,verticalAlign:c="middle"}=e,d=this._itemsContainer,{items:h,isHorizontal:f,startIndex:p,isScrollbar:g}=this._itemContext,m=g?1:f?i:t,v=this._contentMaxHeight;let _,{doWrap:y,maxWidthInCol:x,startX:w,startY:T,pages:E}=this._itemContext,A=0,k=0;const P=[];for(let I=p,D=h.length;I<D&&!(a&&E>this._itemContext.currentPage*m);I++){a&&(this._itemContext.startIndex=I+1),_=h[I],_.id||(_.id=_.label),_.index=I;let L=!0;Oe(s)&&(L=s.includes(_.label));const B=this._renderEachItem(_,L,I,h),F=B.attribute.width,$=B.attribute.height;this._itemHeight=Math.max(this._itemHeight,$),x=Math.max(F,x),this._itemMaxWidth=Math.max(F,this._itemMaxWidth),f?(Y(r)&&(g&&o?(E=Math.ceil((w+F)/r),y=E>1):w+F>r&&(y=!0,w>0&&(c!=="middle"&&c!=="bottom"||P.forEach(z=>{z.setAttributes({y:z.attribute.y+(k-z.attribute.height)/(c==="middle"?2:1)})}),E+=1,w=0,T+=k+u,k=0,P.length=0))),w===0&&T===0||B.setAttributes({x:w,y:T}),w+=l+F,k=Math.max(k,$),P.push(B)):(Y(v)&&(g&&o?(E=Math.ceil((T+$)/v),y=E>1):v<=$?(E+=1,y=!0,T=0,I>0&&(w+=A+l)):v<T+$&&(E+=1,y=!0,T=0,w+=x+l,x=0)),w===0&&T===0||B.setAttributes({x:w,y:T}),T+=u+$),d.add(B),A=F}return!f||c!=="middle"&&c!=="bottom"||P.forEach(I=>{I.setAttributes({y:I.attribute.y+(k-I.attribute.height)/(c==="middle"?2:1)})}),this._itemContext.doWrap=y,this._itemContext.startX=w,this._itemContext.startY=T,this._itemContext.maxWidthInCol=x,this._itemContext.pages=E,this._itemContext.maxPages=m,g&&(this._itemContext.totalPage=E),a||(this._itemContext.startIndex=h.length),this._itemContext}_renderContent(){const{item:e={},items:t,reversed:i,maxWidth:r,maxHeight:s}=this.attribute;if(e.visible===!1||Lt(t))return;let a=t;i&&(a=t==null?void 0:t.reverse()),this._contentMaxHeight=Math.max(0,s-this._parsedPadding[0]-this._parsedPadding[2]);const o=It.group({x:0,y:0});this._itemsContainer=o;const{layout:l,autoPage:u}=this.attribute,c=l==="horizontal",{maxWidth:d,width:h,height:f}=e,p=[];Y(d)&&p.push(d),Y(h)&&p.push(h),p.length&&(Y(r)&&p.push(r),this._itemWidthByUser=Sa(p)),Y(f)&&(this._itemHeightByUser=f);const g=this.attribute.pager;this._itemContext={currentPage:g&&g.defaultCurrent||1,doWrap:!1,maxWidthInCol:0,maxPages:1,pages:1,startX:0,startY:0,startIndex:0,items:a,isHorizontal:c,totalPage:1/0,isScrollbar:g&&g.type==="scrollbar",clipContainer:void 0},this._itemContext=this._renderItems();let m=!1;this._itemContext.doWrap&&u&&this._itemContext.pages>this._itemContext.maxPages&&(m=this._renderPagerComponent()),m||(o.setAttribute("y",this._title?this._title.AABBBounds.height()+Hn(this.attribute,"title.space",8):0),this._innerView.add(o))}_bindEvents(){if(this.attribute.disableTriggerEvent||!this._itemsContainer)return;const{hover:e=!0,select:t=!0}=this.attribute;if(e){let i="pointermove",r="pointerleave";pn(e)&&(e.trigger&&(i=e.trigger),e.triggerOff&&(r=e.triggerOff)),this._itemsContainer.addEventListener(i,this._onHover),this._itemsContainer.addEventListener(r,this._onUnHover)}if(t){let i="pointerdown";pn(t)&&t.trigger&&(i=t.trigger),this._itemsContainer.addEventListener(i,this._onClick)}}_autoEllipsis(e,t,i,r){var s,a;const{label:o,value:l}=this.attribute.item,u=r.AABBBounds,c=i.AABBBounds,d=u.width(),h=c.width();let f=!1;e==="labelFirst"?h>t?f=!0:r.setAttribute("maxLineWidth",t-h):e==="valueFirst"?d>t?f=!0:i.setAttribute("maxLineWidth",t-d):d+h>t&&(f=!0),f&&(r.setAttribute("maxLineWidth",Math.max(t*((s=o.widthRatio)!==null&&s!==void 0?s:.5),t-h)),i.setAttribute("maxLineWidth",Math.max(t*((a=l.widthRatio)!==null&&a!==void 0?a:.5),t-d)))}_renderEachItem(e,t,i,r){var s,a;const{id:o,label:l,value:u,shape:c}=e,{padding:d=0,focus:h,focusIconStyle:f,align:p,autoEllipsisStrategy:g}=this.attribute.item,{shape:m,label:v,value:_,background:y}=this.attribute.item,x=this._handleStyle(m,e,t,i,r),w=this._handleStyle(v,e,t,i,r),T=this._handleStyle(_,e,t,i,r),E=this._handleStyle(y,e,t,i,r),A=gl(d);let k;y.visible===!1?(k=It.group({x:0,y:0,cursor:(s=E.style)===null||s===void 0?void 0:s.cursor}),this._appendDataToShape(k,sl.item,e,k)):(k=It.group(Object.assign({x:0,y:0},E.style)),this._appendDataToShape(k,sl.item,e,k,E.state)),k.id=`${o??l}-${i}`,k.addState(t?hn.selected:hn.unSelected);const P=It.group({x:0,y:0,pickable:!1});k.add(P);let I,D=0,L=0,B=0;if(m&&m.visible!==!1){const Q=Hn(x,"style.size",r$);L=Oe(Q)?Q[0]||0:Q,B=Hn(m,"space",NMe);const se=It.symbol(Object.assign(Object.assign({x:0,y:0,symbolType:"circle",strokeBoundsBuffer:0},c),x.style));Object.keys(x.state||{}).forEach(ae=>{const ue=x.state[ae].fill||x.state[ae].stroke;c.fill&&J(x.state[ae].fill)&&ue&&(x.state[ae].fill=ue),c.stroke&&J(x.state[ae].stroke)&&ue&&(x.state[ae].stroke=ue)}),this._appendDataToShape(se,sl.itemShape,e,k,x.state),se.addState(t?hn.selected:hn.unSelected),P.add(se)}let F=0;if(h){const Q=Hn(f,"size",r$);I=It.symbol(Object.assign(Object.assign({x:0,y:-Q/2-1,strokeBoundsBuffer:0,boundsPadding:A},f),{visible:!0,pickMode:"imprecise"})),this._appendDataToShape(I,sl.focus,e,k),F=Q}const $=v.formatMethod?v.formatMethod(l,e,i):l,z=Object.assign(Object.assign({x:L/2+B,y:0,textAlign:"start",textBaseline:"middle",lineHeight:(a=w.style)===null||a===void 0?void 0:a.fontSize},w.style),{text:$,_originText:v.formatMethod?l:void 0}),N=BO(z);this._appendDataToShape(N,sl.itemLabel,e,k,w.state),N.addState(t?hn.selected:hn.unSelected),P.add(N);const V=Hn(v,"space",jMe);if(Y(u)){const Q=Hn(_,"space",h?R9t:0),se=_.formatMethod?_.formatMethod(u,e,i):u,ae=Object.assign(Object.assign({x:0,y:0,textAlign:"start",textBaseline:"middle",lineHeight:T.style.fontSize},T.style),{text:se,_originText:_.formatMethod?u:void 0}),ue=BO(ae);if(this._appendDataToShape(ue,sl.itemValue,e,k,T.state),ue.addState(t?hn.selected:hn.unSelected),this._itemWidthByUser){const oe=this._itemWidthByUser-A[1]-A[3]-L-B-V-F-Q;this._autoEllipsis(g,oe,N,ue),_.alignRight?ue.setAttributes({textAlign:"right",x:this._itemWidthByUser-L/2-A[1]-A[3]-F-Q}):ue.setAttribute("x",V+(N.AABBBounds.empty()?0:N.AABBBounds.x2))}else ue.setAttribute("x",V+(N.AABBBounds.empty()?0:N.AABBBounds.x2));D=Q+(ue.AABBBounds.empty()?0:ue.AABBBounds.x2),P.add(ue)}else this._itemWidthByUser&&N.setAttribute("maxLineWidth",this._itemWidthByUser-A[1]-A[3]-L-B-F),D=V+(N.AABBBounds.empty()?0:N.AABBBounds.x2);I&&(I.setAttribute("x",D),P.add(I));const H=P.AABBBounds,K=H.width();if(p==="right"){const Q=H.x2,se=H.x1;P.forEachChildren((ae,ue)=>{ae.type!=="symbol"&&ae.attribute.textAlign!=="right"||ae===I?ae.setAttribute("x",se+Q-ae.attribute.x-ae.AABBBounds.width()):ae.type!=="symbol"?ae.setAttributes({x:se+Q-ae.attribute.x,textAlign:"left"}):ae.setAttribute("x",se+Q-ae.attribute.x)})}const U=H.height(),X=Y(this.attribute.item.width)?this.attribute.item.width:K+A[1]+A[3],Z=this._itemHeightByUser||U+A[0]+A[2];return k.attribute.width=X,k.attribute.height=Z,I&&I.setAttribute("visible",!1),P.translateTo(-H.x1+A[3],-H.y1+A[0]),k}_createPager(e){var t,i;const{disableTriggerEvent:r,maxRow:s}=this.attribute,a=o=>o<=99?99:o<=999?999:9999;return this._itemContext.isHorizontal?new zO(Object.assign(Object.assign({layout:s===1?"horizontal":"vertical",total:a(this._itemContext.pages)},We({handler:{preShape:"triangleUp",nextShape:"triangleDown"}},e)),{defaultCurrent:(t=this.attribute.pager)===null||t===void 0?void 0:t.defaultCurrent,disableTriggerEvent:r})):new zO(Object.assign({layout:"horizontal",total:a(this._itemContext.pages),disableTriggerEvent:r,defaultCurrent:(i=this.attribute.pager)===null||i===void 0?void 0:i.defaultCurrent},e))}_createScrollbar(e,t){const{disableTriggerEvent:i}=this.attribute;return this._itemContext.isHorizontal?new FO(Object.assign(Object.assign({direction:"horizontal",disableTriggerEvent:i,range:[0,.5],height:e.visible===!1?0:12},e),{width:t})):new FO(Object.assign(Object.assign({direction:"vertical",width:e.visible===!1?0:12,range:[0,.5]},e),{height:t,disableTriggerEvent:i}))}_updatePositionOfPager(e,t,i){const{pager:r}=this.attribute,{totalPage:s,isHorizontal:a}=this._itemContext,o=r&&r.position||"middle";if(this._pagerComponent.setTotal(s),a){let l;l=o==="start"?e:o==="end"?e+i-this._pagerComponent.AABBBounds.height()/2:e+i/2-this._pagerComponent.AABBBounds.height()/2,this._pagerComponent.setAttributes({x:t-this._pagerComponent.AABBBounds.width(),y:l})}else{let l;l=o==="start"?0:o==="end"?t-this._pagerComponent.AABBBounds.width():(t-this._pagerComponent.AABBBounds.width())/2,this._pagerComponent.setAttributes({x:l,y:i-this._pagerComponent.AABBBounds.height()})}}_computeScrollbarDelta(){const{isHorizontal:e,clipContainer:t}=this._itemContext,i=this._itemsContainer.AABBBounds,r=t.AABBBounds;let s,a;return e?(a=r.width(),s=a/i.width()):(a=r.height(),s=a/i.height()),s}_updatePositionOfScrollbar(e,t,i){const{isHorizontal:r,currentPage:s,totalPage:a}=this._itemContext,o=(s-1)/a;this._pagerComponent.setScrollRange([o,o+this._computeScrollbarDelta()]),r?this._pagerComponent.setAttributes({x:0,y:i+t}):this._pagerComponent.setAttributes({x:e,y:i})}_bindEventsOfPager(e,t){const i=this.attribute.pager||{},{animation:r=!0,animationDuration:s=450,animationEasing:a="quadIn"}=i,o=this._itemContext.isScrollbar?c=>{const{value:d}=c.detail;let h;return h=d[0]===0?1:d[1]===1?this._itemContext.totalPage:d[0]*this._itemContext.totalPage+1,h}:c=>c.detail.current,l=c=>{const d=this._pagerComponent,h=d.getScrollRange(),{direction:f}=d.attribute,{width:p,height:g}=d.getSliderRenderBounds(),m=f==="vertical"?c.deltaY/g:c.deltaX/p;d.setScrollRange([h[0]+m,h[1]+m],!0),this.updateScrollMask()},u=c=>{const d=o(c);if(d!==this._itemContext.currentPage){if(this._itemContext.currentPage=d,this._itemContext&&this._itemContext.startIndex<this._itemContext.items.length){this._renderItems();const h=Math.ceil(this._itemContext.pages/this._itemContext.maxPages);if(this._itemContext.totalPage=h,this._itemContext.isScrollbar&&this._pagerComponent){const f=this._computeScrollbarDelta(),[p]=this._pagerComponent.getScrollRange();this._pagerComponent.setScrollRange([p,p+f])}}if(this._itemContext.isScrollbar){const[h]=this._pagerComponent.getScrollRange();let f;f=this._itemContext.isHorizontal?this._itemsContainer.AABBBounds.width():this._itemsContainer.AABBBounds.height();const p=f*h;this.updateScrollMask(),r?this._itemsContainer.animate().to({[t]:-p},s,a):this._itemsContainer.setAttribute(t,-p)}else r?this._itemsContainer.animate().to({[t]:-(d-1)*e},s,a):this._itemsContainer.setAttribute(t,-(d-1)*e)}};this._itemContext.isScrollbar?(this._pagerComponent.addEventListener("scrollDrag",u),this._pagerComponent.addEventListener("scrollUp",u),this.attribute.pager.roamScroll&&(this.addEventListener("wheel",d=>d.nativeEvent.preventDefault()),this.addEventListener("wheel",Km(l,50)))):(this._pagerComponent.addEventListener("toPrev",u),this._pagerComponent.addEventListener("toNext",u))}_renderPager(){const e=this._title?this._title.AABBBounds.height()+Hn(this.attribute,"title.space",8):0,{maxWidth:t,maxCol:i=1,maxRow:r=2,item:s={},pager:a={}}=this.attribute,{spaceCol:o=X2,spaceRow:l=q2}=s,u=this._itemsContainer,{space:c=C7,defaultCurrent:d=1}=a,h=Qpe(a,["space","defaultCurrent"]),{isHorizontal:f}=this._itemContext,p=this._contentMaxHeight;let g,m=0,v=0,_=0,y=0,x=0,w=0,T=1;if(f){if(v=(r-1)*l+this._itemHeight*r,m=t,g=this._createPager(h),this._pagerComponent=g,this._innerView.add(g),_=t-g.AABBBounds.width()-c,_<=0)return this._innerView.removeChild(g),!1;u.getChildren().forEach((k,P)=>{const{width:I,height:D}=k.attribute;_<x+I&&P>0&&(x=0,w+=D+l,T+=1),P>0&&k.setAttributes({x,y:w}),x+=o+I}),this._itemContext.startX=x,this._itemContext.startY=w,this._itemContext.pages=T;const A=Math.ceil(T/r);this._itemContext.totalPage=A,this._updatePositionOfPager(e,m,v)}else{if(m=this._itemMaxWidth*i+(i-1)*o,v=p,_=m,g=this._createPager(h),this._pagerComponent=g,this._innerView.add(g),y=p-g.AABBBounds.height()-c-e,y<=0)return this._innerView.removeChild(g),!1;u.getChildren().forEach((k,P)=>{const{width:I,height:D}=k.attribute;y<w+D&&P>0&&(w=0,x+=this._itemMaxWidth+o,T+=1),P>0&&k.setAttributes({x,y:w}),w+=l+D});const A=Math.ceil(T/i);this._itemContext.totalPage=A,this._updatePositionOfPager(e,m,v)}d>1&&(f?u.setAttribute("y",-(d-1)*(v+l)):u.setAttribute("x",-(d-1)*(m+o)));const E=It.group({x:0,y:e,width:f?_:m,height:f?v:y,clip:!0,pickable:!1});return E.add(u),this._innerView.add(E),this._itemContext.clipContainer=E,this._bindEventsOfPager(f?v+l:m+o,f?"y":"x"),!0}_renderScrollbar(){var e;const t=this._title?this._title.AABBBounds.height()+Hn(this.attribute,"title.space",8):0,{maxWidth:i,item:r={},pager:s={}}=this.attribute,{spaceCol:a=X2,spaceRow:o=q2}=r,l=this._itemsContainer,{space:u=C7,defaultCurrent:c=1}=s,d=Qpe(s,["space","defaultCurrent"]),{isHorizontal:h}=this._itemContext,f=this._contentMaxHeight;let p,g=0,m=0,v=0,_=1;if(h)g=i,m=this._itemHeight,p=this._createScrollbar(d,g),this._pagerComponent=p,this._innerView.add(p);else{if(m=f-t,g=this._itemMaxWidth,p=this._createScrollbar(d,m),this._pagerComponent=p,this._innerView.add(p),m<=0)return this._innerView.removeChild(p),!1;const x=l.getChildren(),w=x.map(T=>T.attribute.height);if(w.length===1||w.every(T=>T===w[0])){const T=w[0],E=m,A=Math.floor(E/(o+T));m=A*(o+T),_=Math.ceil(x.length/A)}else x.forEach((T,E)=>{const{height:A}=T.attribute,k=_,P=v;_=Math.floor((v+A)/m)+1,v+=o+A,k!==_&&E===l.getChildren().length-1&&v-m>=1/3*A&&(m=P+A,_-=1)});this._itemContext.totalPage=_,this._itemContext.pages=_}if(c>1)if(h){const x=this._itemsContainer.AABBBounds.width()-g;l.setAttribute("x",-Math.min((c-1)*(g+a),x))}else{const x=this._itemsContainer.AABBBounds.height()-m;l.setAttribute("y",-Math.min((c-1)*(m+o),x))}const y=It.group({x:0,y:t,width:g,height:m,clip:!0,pickable:!1});return y.add(l),this._innerView.add(y),this._itemContext.clipContainer=y,this._updatePositionOfScrollbar(g,m,t),!((e=s.scrollMask)===null||e===void 0)&&e.visible&&this.renderScrollMask(y),this._bindEventsOfPager(h?g:m,h?"x":"y"),!0}renderScrollMask(e){const{scrollMask:t={}}=this.attribute.pager,{visible:i=!0,gradientLength:r=16,gradientStops:s}=t;if(!i||!s)return;const a=e.AABBBounds.width(),o=e.AABBBounds.height(),l=this._itemContext.isHorizontal?a:o,u=s.map(h=>({offset:r*h.offset/l,color:h.color})),c=s.map(h=>({offset:(l-r*h.offset)/l,color:h.color})),d=It.rect({x:0,y:0,width:a,height:o});this._scrollMask=d,this._scrollMaskContext={startStops:u,endStops:c},this.updateScrollMask(),e.add(d)}updateScrollMask(){if(!this._scrollMask||!this._pagerComponent||!this._itemContext.isScrollbar)return;const[e,t]=this._pagerComponent.getScrollRange(),i=[];zs(ki(t,0,1),1)||i.push(...this._scrollMaskContext.endStops),zs(ki(e,0,1),0)||i.push(...this._scrollMaskContext.startStops),i.length&&(this._itemContext.isHorizontal?this._scrollMask.setAttributes({fill:{gradient:"linear",x0:0,y0:0,x1:1,y1:0,stops:i}}):this._scrollMask.setAttributes({fill:{gradient:"linear",x0:0,y0:0,x1:0,y1:1,stops:i}}))}_renderPagerComponent(){return this._itemContext.isScrollbar?this._renderScrollbar():this._renderPager(),!0}_hover(e,t){this._lastActiveItem=e,e.hasState(hn.selected)?this._setLegendItemState(e,hn.selectedHover,t):this._setLegendItemState(e,hn.unSelectedHover,t);const i=e.getChildren()[0].find(r=>r.name===sl.focus,!1);i&&i.setAttribute("visible",!0),this._dispatchLegendEvent(Gd.legendItemHover,e,t)}_unHover(e,t){let i=!1;(e.hasState(hn.unSelectedHover)||e.hasState(hn.selectedHover))&&(i=!0),e.removeState(hn.unSelectedHover),e.removeState(hn.selectedHover),e.getChildren()[0].getChildren().forEach(s=>{i||!s.hasState(hn.unSelectedHover)&&!s.hasState(hn.selectedHover)||(i=!0),s.removeState(hn.unSelectedHover),s.removeState(hn.selectedHover)});const r=e.getChildren()[0].find(s=>s.name===sl.focus,!1);r&&r.setAttribute("visible",!1),i&&this._dispatchLegendEvent(Gd.legendItemAttributeUpdate,e,t),this._dispatchLegendEvent(Gd.legendItemUnHover,e,t)}_setLegendItemState(e,t,i){let r=!1;e.hasState(t)||(r=!0),e.addState(t,!0),e.getChildren()[0].getChildren().forEach(s=>{s.name!==sl.focus&&(r||s.hasState(t)||(r=!0),s.addState(t,!0))}),r&&this._dispatchLegendEvent(Gd.legendItemAttributeUpdate,e,i)}_removeLegendItemState(e,t,i){let r=!1;t.forEach(s=>{!r&&e.hasState(s)&&(r=!0),e.removeState(s)}),e.getChildren()[0].getChildren().forEach(s=>{s.name!==sl.focus&&t.forEach(a=>{!r&&s.hasState(a)&&(r=!0),s.removeState(a)})}),r&&this._dispatchLegendEvent(Gd.legendItemAttributeUpdate,e,i)}_getSelectedLegends(){var e;const t=[];return(e=this._itemsContainer)===null||e===void 0||e.getChildren().forEach(i=>{i.hasState(hn.selected)&&t.push(i.data)}),t}_appendDataToShape(e,t,i,r,s={}){e.name=t,e.data=i,e.delegate=r,e.states=We({},B9t,s)}_dispatchLegendEvent(e,t,i){const r=this._getSelectedLegends();r.sort((a,o)=>a.index-o.index);const s=r.map(a=>a.label);this._dispatchEvent(e,{item:t,data:t.data,selected:t.hasState(hn.selected),currentSelectedItems:r,currentSelected:s,event:i})}_handleStyle(e,t,i,r,s){const a={};return e.style&&(Re(e.style)?a.style=e.style(t,i,r,s):a.style=e.style),e.state&&(a.state={},Object.keys(e.state).forEach(o=>{e.state[o]&&(Re(e.state[o])?a.state[o]=e.state[o](t,i,r,s):a.state[o]=e.state[o])})),a}release(){super.release(),this.removeAllEventListeners()}};zMe.defaultAttributes={layout:"horizontal",title:{align:"start",space:MM,textStyle:{fontSize:12,fontWeight:"bold",fill:"#2C3542"}},item:{spaceCol:X2,spaceRow:q2,shape:{space:NMe,style:{size:r$,cursor:"pointer"},state:{selectedHover:{opacity:.85},unSelected:{opacity:.5}}},label:{space:jMe,style:{fontSize:12,fill:"#2C3542",cursor:"pointer"},state:{selectedHover:{opacity:.85},unSelected:{fill:"#D8D8D8"}}},value:{alignRight:!1,style:{fontSize:12,fill:"#ccc",cursor:"pointer"},state:{selectedHover:{opacity:.85},unSelected:{fill:"#D8D8D8"}}},background:{style:{cursor:"pointer"}},focus:!1,focusIconStyle:{size:r$,symbolType:"M8 1C11.866 1 15 4.13401 15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8C1 4.13401 4.13401 1 8 1ZM8.75044 2.55077L8.75 3.75H7.25L7.25006 2.5507C4.81247 2.88304 2.88304 4.81247 2.5507 7.25006L3.75 7.25V8.75L2.55077 8.75044C2.8833 11.1878 4.81264 13.117 7.25006 13.4493L7.25 12.25H8.75L8.75044 13.4492C11.1876 13.1167 13.1167 11.1876 13.4492 8.75044L12.25 8.75V7.25L13.4493 7.25006C13.117 4.81264 11.1878 2.8833 8.75044 2.55077ZM8 5.5C9.38071 5.5 10.5 6.61929 10.5 8C10.5 9.38071 9.38071 10.5 8 10.5C6.61929 10.5 5.5 9.38071 5.5 8C5.5 6.61929 6.61929 5.5 8 5.5ZM8 7C7.44772 7 7 7.44772 7 8C7 8.55228 7.44772 9 8 9C8.55228 9 9 8.55228 9 8C9 7.44772 8.55228 7 8 7Z",fill:"#333",cursor:"pointer"}},autoPage:!0,pager:{space:C7,handler:{style:{size:10},space:4}},hover:!0,select:!0,selectMode:"multiple",allowAllCanceled:!0};var rl;(function(n){n.innerView="innerView",n.railContainer="sliderRailContainer",n.rail="sliderRail",n.startText="sliderStartText",n.endText="sliderEndText",n.startHandler="sliderStartHandler",n.startHandlerText="startHandlerText",n.endHandler="sliderEndHandler",n.endHandlerText="sliderEndHandlerText",n.track="sliderTrack",n.trackContainer="sliderTrackContainer"})(rl||(rl={}));function lW(n){return Oe(n)?n:[n,n]}function BD(n){return n?"ew-resize":"ns-resize"}Fz();class K1 extends ko{get track(){return this._track}get currentValue(){return this._currentValue}get startHandler(){return this._startHandler}get endHandler(){return this._endHandler}get tooltipShape(){return this._tooltipShape}constructor(e,t){super(t!=null&&t.skipDefault?e:We({},K1.defaultAttributes,e)),this.name="slider",this._isHorizontal=!0,this._startHandler=null,this._endHandler=null,this._startHandlerText=null,this._endHandlerText=null,this._currentHandler=null,this._currentValue={},this._onTooltipShow=i=>{this._isChanging||this._tooltipState&&this._tooltipState.isActive||(this._tooltipState?this._tooltipState.isActive=!0:this._tooltipState={isActive:!0},this._onTooltipUpdate(i),this._dispatchTooltipEvent("sliderTooltipShow"))},this._onTooltipUpdate=i=>{if(this._isChanging||!this._tooltipState||!this._tooltipState.isActive)return;const r=this._isHorizontal?this._rail.globalAABBBounds.width():this._rail.globalAABBBounds.height(),s=ki(this._isHorizontal?(i.viewX-this._rail.globalAABBBounds.x1)/r:(i.viewY-this._rail.globalAABBBounds.y1)/r,0,1);s!==this._tooltipState.pos&&(this._tooltipState.pos=s,this._tooltipState.value=this.calculateValueByPos(s*r),this._updateTooltip(),this._dispatchTooltipEvent("sliderTooltipUpdate"))},this._onTooltipHide=()=>{const{tooltip:i}=this.attribute;i&&i.alwaysShow||(this._tooltipState=null,this._tooltipShape&&this._tooltipShape.setAttribute("visible",!1),this._tooltipText&&this._tooltipText.setAttribute("visible",!1),this._dispatchTooltipEvent("sliderTooltipHide"))},this._onHandlerPointerdown=i=>{this._clearAllDragEvents(),this._isChanging=!0;const{x:r,y:s}=this.stage.eventPointTransform(i);this._currentHandler=i.target,this._prePos=this._isHorizontal?r:s;const a=Xb(),o=un.env==="browser"?un:this.stage;o.addEventListener("pointermove",this._onHandlerPointerMove,{capture:!0}),a.forEach(l=>{o.addEventListener(l,this._onHandlerPointerUp)})},this._onHandlerPointerMove=i=>{var r,s;this._isChanging=!0;const{railWidth:a,railHeight:o,min:l,max:u}=this.attribute;if(u===l)return;const{x:c,y:d}=this.stage.eventPointTransform(i);let h,f,p,g=0;this._isHorizontal?(h=c,g=h-this._prePos,f=(s=this._currentHandler)===null||s===void 0?void 0:s.attribute.x,p=a):(h=d,g=h-this._prePos,f=(r=this._currentHandler)===null||r===void 0?void 0:r.attribute.y,p=o);const m=ki(f+g,0,p),v=this.calculateValueByPos(m);this._currentHandler.type==="text"?this._updateHandlerText(this._currentHandler,m,v):this._updateHandler(this._currentHandler,m,v),this._updateTrack(),this._prePos=h,this._dispatchChangeEvent()},this._onHandlerPointerUp=i=>{this._isChanging=!1,this._currentHandler=null,this._clearAllDragEvents()},this._handleTouchMove=i=>{this._isChanging&&i.preventDefault()},this._onTrackPointerdown=i=>{this._clearAllDragEvents(),this._isChanging=!0;const{x:r,y:s}=this.stage.eventPointTransform(i);this._prePos=this._isHorizontal?r:s;const a=Xb(),o=un.env==="browser"?un:this.stage;o.addEventListener("pointermove",this._onTrackPointerMove,{capture:!0}),a.forEach(l=>{o.addEventListener(l,this._onTrackPointerUp)})},this._onTrackPointerMove=i=>{this._isChanging=!0;const{railWidth:r,railHeight:s,min:a,max:o,inverse:l}=this.attribute;if(o===a)return;const{startHandler:u,endHandler:c}=this._getHandlers();let d,h,f;const{x:p,y:g}=this.stage.eventPointTransform(i);this._isHorizontal?(d=p,h=this._track.attribute.width,f=r):(d=g,h=this._track.attribute.height,f=s);const m=d-this._prePos;if(u){const v=this._isHorizontal?u.attribute.x:u.attribute.y,_=l?ki(v+m,h,f):ki(v+m,0,f-h),y=this.calculateValueByPos(_);this._updateHandler(u,_,y)}if(c){const v=this._isHorizontal?c.attribute.x:c.attribute.y,_=l?ki(v+m,0,f-h):ki(v+m,h,f),y=this.calculateValueByPos(_),x=u==null?void 0:u.attribute;this._updateHandler(c,_,y),this._track.setAttributes(this._isHorizontal?{x:Math.min(x.x,c.attribute.x),width:Math.abs(x.x-c.attribute.x)}:{y:Math.min(x.y,c.attribute.y),height:Math.abs(x.y-c.attribute.y)})}this._prePos=d,this._dispatchChangeEvent()},this._onTrackPointerUp=i=>{this._isChanging=!1,this._clearAllDragEvents()},this._onRailPointerDown=i=>{this._clearAllDragEvents(),this._isChanging=!0;const{railWidth:r,railHeight:s,min:a,max:o}=this.attribute;if(o===a)return;const l=this._startHandler,u=this._endHandler;let c,d,h;this._isHorizontal?(c=i.viewX-this._rail.globalAABBBounds.x1,d=l==null?void 0:l.attribute.x,h=u==null?void 0:u.attribute.x):(c=i.viewY-this._rail.globalAABBBounds.y1,d=l==null?void 0:l.attribute.y,h=u==null?void 0:u.attribute.y);const f=this.calculateValueByPos(c);if(Y(h)){const p=Math.abs(c-d)>Math.abs(c-h)?u:l;this._updateHandler(p,c,f)}else this._updateHandler(l,c,f);this._updateTrack(),this._dispatchChangeEvent()}}calculatePosByValue(e,t){const{layout:i,railWidth:r,railHeight:s,min:a,max:o,inverse:l}=this.attribute;let u=0;return u=a===o?t==="start"?0:t==="end"?1:0:(e-a)/(o-a),(l?1-u:u)*(i==="vertical"?s:r)}calculateValueByPos(e){const{layout:t,railWidth:i,railHeight:r,min:s,max:a,inverse:o}=this.attribute,l=t==="vertical"?r:i;return s+(a-s)*(o?1-e/l:e/l)}setValue(e){const{min:t,max:i}=this.attribute;if(i===t)return;const[r,s]=Ae(e),{startHandler:a,endHandler:o}=this._getHandlers();a&&this._updateHandler(a,this.calculatePosByValue(r),r),o&&this._updateHandler(o,this.calculatePosByValue(s),s),this._updateTrack()}render(){var e,t;this.removeAllChild(!0);const{layout:i="horizontal",railWidth:r,railHeight:s,startText:a,endText:o,min:l,max:u,showHandler:c=!0,showTooltip:d}=this.attribute;let{value:h}=this.attribute;J(h)&&(h=[l,u]),this._currentValue={startValue:lW(h)[0],endValue:lW(h)[1]};const f=i==="horizontal";this._isHorizontal=f;const p=It.group({x:0,y:0});p.name=rl.innerView,this.add(p),this._innerView=p;let g,m=0;if(a&&a.visible){g=It.text(Object.assign({x:f?0:r/2,y:f?s/2:0,textAlign:f?"start":"center",textBaseline:f?"middle":"top",text:a.text,lineHeight:(e=a.style)===null||e===void 0?void 0:e.fontSize},a.style)),g.name=rl.startText,p.add(g);const x=Y(a.space)?a.space:0;m+=(f?g.AABBBounds.width():g.AABBBounds.height())+x}const v=It.group({x:f?m:0,y:f?0:m});p.add(v);const _=It.group({x:0,y:0});let y;if(_.name=rl.railContainer,this._railContainer=_,v.add(_),this._mainContainer=v,this._renderRail(_),m+=f?r:s,o&&o.visible){const x=Y(o.space)?o.space:0;y=It.text(Object.assign({x:f?m+x:r/2,y:f?s/2:m+x,textAlign:f?"start":"center",textBaseline:f?"middle":"top",text:o.text,lineHeight:(t=o.style)===null||t===void 0?void 0:t.fontSize},o.style)),y.name=rl.endText,p.add(y)}this._renderTrack(_),c&&(this._renderHandlers(v),this._bindEvents()),d&&(this._renderTooltip(),this._bindTooltipEvents())}_renderRail(e){const{railWidth:t,railHeight:i,railStyle:r,slidable:s}=this.attribute;let a="default";s!==!1&&(a="pointer");const o=It.rect(Object.assign({x:0,y:0,width:t,height:i,cursor:a},r));return o.name=rl.rail,e.add(o),this._rail=o,o}_renderHandlers(e){const{range:t,min:i,max:r,handlerSize:s=14,handlerStyle:a,handlerText:o,railHeight:l,railWidth:u,slidable:c}=this.attribute;let{value:d}=this.attribute;J(d)&&(d=[i,r]);const h=o&&o.visible,f=this._isHorizontal,[p,g]=lW(d),m=this.calculatePosByValue(p,t?"start":"end"),v=this._renderHandler(Object.assign({x:f?m:u/2,y:f?l/2:m,size:s,strokeBoundsBuffer:0,cursor:c===!1?"default":BD(f)},a));if(v.name=rl.startHandler,this._startHandler=v,e.add(v),this._currentValue.startPos=m,h){const _=this._renderHandlerText(p,t?"start":"end");_.name=rl.startHandlerText,e.add(_),this._startHandlerText=_}if(t){const _=this.calculatePosByValue(g,"end"),y=this._renderHandler(Object.assign({x:f?_:u/2,y:f?l/2:_,size:s,strokeBoundsBuffer:0,cursor:c===!1?"default":BD(f)},a));if(y.name=rl.endHandler,this._endHandler=y,e.add(y),this._currentValue.endPos=_,h){const x=this._renderHandlerText(g,"end");x.name=rl.endHandlerText,e.add(x),this._endHandlerText=x}}}_renderTrack(e){const{range:t,min:i,max:r,railHeight:s,railWidth:a,trackStyle:o,railStyle:l,slidable:u,value:c}=this.attribute;let d,h;if(J(c))t?(d=i,h=r):d=h=i;else if(t){const x=lb(c,i,r);d=x[0],h=x[1]}else d=i,h=ki(c,i,r);const f=this._isHorizontal;t||(d=i);const p=It.group({x:0,y:0,width:a,height:s,cornerRadius:l==null?void 0:l.cornerRadius,clip:!0,pickable:!1});p.name=rl.trackContainer;const g=pn(t)&&t.draggableTrack===!0;let m;m=u===!1?"default":t===!1||g===!1?"pointer":BD(f);const v=this.calculatePosByValue(d,"start"),_=this.calculatePosByValue(h,t?"end":"start"),y=It.rect(Object.assign({x:f?Math.min(v,_):0,y:f?0:Math.min(v,_),width:f?Math.abs(_-v):a,height:f?s:Math.abs(_-v),cursor:m},o));y.name=rl.track,this._track=y,p.add(y),e.add(p)}_renderHandler(e){return It.symbol(e)}_renderHandlerText(e,t){var i,r,s;const{align:a,handlerSize:o=14,handlerText:l={},railHeight:u,railWidth:c,slidable:d}=this.attribute,h=this._isHorizontal,f=this.calculatePosByValue(e,t),p=(i=l.space)!==null&&i!==void 0?i:4,g={text:l.formatter?l.formatter(e):e.toFixed((r=l.precision)!==null&&r!==void 0?r:0),lineHeight:(s=l.style)===null||s===void 0?void 0:s.lineHeight,cursor:d===!1?"default":BD(h)};return h?a==="top"?(g.textBaseline="bottom",g.textAlign="center",g.x=f,g.y=(u-o)/2-p):(g.textBaseline="top",g.textAlign="center",g.x=f,g.y=(u+o)/2+p):a==="left"?(g.textBaseline="middle",g.textAlign="end",g.x=(c-o)/2-p,g.y=f):(g.textBaseline="middle",g.textAlign="start",g.x=(c+o)/2+p,g.y=f),It.text(Object.assign(Object.assign({},g),l.style))}_renderTooltip(){var e;const{tooltip:t,railHeight:i,railWidth:r,align:s}=this.attribute;t&&t.alwaysShow?this._tooltipState={value:this._currentValue.startValue,pos:this._currentValue.startPos}:this._tooltipState=null;const a=this._isHorizontal?0:r/2,o=this._isHorizontal?i/2:0;if(t&&t.shape){const h=It.symbol(Object.assign({pickable:!1,visible:!!this._tooltipState,x:a,y:o,symbolType:"circle"},t.shapeStyle));this._tooltipShape=h,this._mainContainer.add(h)}const l=t&&t.text||{},u=(e=l.space)!==null&&e!==void 0?e:6,c={pickable:!1,visible:!!this._tooltipState,text:""};this._isHorizontal?(c.x=a,c.y=s==="top"?o-i/2-u:o+i/2+u,c.textAlign="center",c.textBaseline=s==="top"?"bottom":"top"):(c.y=o,c.x=s==="left"?a-r/2-u:o+r/2+u,c.textAlign=s==="left"?"end":"start",c.textBaseline="middle");const d=It.text(Object.assign(Object.assign({},c),l.style));this._mainContainer.add(d),this._tooltipText=d,this._tooltipState&&this._updateTooltip()}_updateTooltip(){var e,t;if(!this._tooltipShape&&!this._tooltipText||!this._tooltipState)return;const{railWidth:i,railHeight:r}=this.attribute,s=this._isHorizontal?i:r,a=this._tooltipState.pos*s,o=this._isHorizontal?"x":"y";this._tooltipShape&&this._tooltipShape.setAttributes({visible:!0,[o]:a});const{align:l}=this.attribute;if(this._tooltipText){const u=this.attribute.tooltip&&this.attribute.tooltip.text||{};this._tooltipText.setAttributes({visible:!0,[o]:a,text:u.formatter?u.formatter(this._tooltipState.value):this._isHorizontal||l!=="left"?` ${this._tooltipState.value.toFixed((t=u.precision)!==null&&t!==void 0?t:0)}`:`${this._tooltipState.value.toFixed((e=u.precision)!==null&&e!==void 0?e:0)} `})}}_bindEvents(){if(this.attribute.disableTriggerEvent)return;const{slidable:e,range:t}=this.attribute;e&&(this._startHandler&&this._startHandler.addEventListener("pointerdown",this._onHandlerPointerdown),this._startHandlerText&&this._startHandlerText.addEventListener("pointerdown",this._onHandlerPointerdown),this._endHandler&&this._endHandler.addEventListener("pointerdown",this._onHandlerPointerdown),this._endHandlerText&&this._endHandlerText.addEventListener("pointerdown",this._onHandlerPointerdown),pn(t)&&t.draggableTrack&&this._track.addEventListener("pointerdown",this._onTrackPointerdown),this._railContainer.addEventListener("pointerdown",this._onRailPointerDown),(un.env==="browser"?un:this.stage).addEventListener("touchmove",this._handleTouchMove,{passive:!1}))}_bindTooltipEvents(){this.attribute.disableTriggerEvent||(this._mainContainer.addEventListener("pointerenter",this._onTooltipShow),this._mainContainer.addEventListener("pointermove",this._onTooltipUpdate),this._mainContainer.addEventListener("pointerleave",this._onTooltipHide))}_clearAllDragEvents(){const e=Xb(),t=un.env==="browser"?un:this.stage;t.removeEventListener("pointermove",this._onHandlerPointerMove,{capture:!0}),e.forEach(i=>{t.removeEventListener(i,this._onHandlerPointerUp)}),t.removeEventListener("pointermove",this._onTrackPointerMove,{capture:!0}),e.forEach(i=>{t.removeEventListener(i,this._onTrackPointerUp)})}_updateTrack(){const{inverse:e,railWidth:t,railHeight:i}=this.attribute,r=this._startHandler,s=this._endHandler;if(this._isHorizontal){const a=r==null?void 0:r.attribute.x;if(s){const o=s==null?void 0:s.attribute.x;this._track.setAttributes({x:Math.min(a,o),width:Math.abs(a-o)})}else e?this._track.setAttributes({x:a,width:t-a}):this._track.setAttributes({width:a})}else{const a=r==null?void 0:r.attribute.y;if(s){const o=s==null?void 0:s.attribute.y;this._track.setAttributes({y:Math.min(a,o),height:Math.abs(a-o)})}else e?this._track.setAttributes({y:a,height:i-a}):this._track.setAttributes({height:a})}}_updateHandler(e,t,i){var r;const s=this._isHorizontal;e.setAttribute(s?"x":"y",t);const a=e.name===rl.startHandler?this._startHandlerText:this._endHandlerText;if(a){const{handlerText:o={}}=this.attribute;a.setAttributes({text:o.formatter?o.formatter(i):i.toFixed((r=o.precision)!==null&&r!==void 0?r:0),[s?"x":"y"]:t})}e.name===rl.startHandler?(this._currentValue.startValue=i,this._currentValue.startPos=t):(this._currentValue.endValue=i,this._currentValue.endPos=t)}_updateHandlerText(e,t,i){var r;const s=this._isHorizontal,{handlerText:a={}}=this.attribute;e.setAttributes({[s?"x":"y"]:t,text:a.formatter?a.formatter(i):i.toFixed((r=a.precision)!==null&&r!==void 0?r:0)});const o=e.name===rl.startHandlerText?this._startHandler:this._endHandler;o&&o.setAttributes({[s?"x":"y"]:t}),e.name===rl.startHandlerText?(this._currentValue.startValue=i,this._currentValue.startPos=t):(this._currentValue.endValue=i,this._currentValue.endPos=t)}_dispatchChangeEvent(){const e=!!this.attribute.range,t=this._currentValue;this._dispatchEvent("change",{value:e?[Math.min(t.endValue,t.startValue),Math.max(t.endValue,t.startValue)]:t.startValue,position:e?[Math.min(t.endPos,t.startPos),Math.max(t.endPos,t.startPos)]:t.startPos})}_dispatchTooltipEvent(e){this._dispatchEvent("sliderTooltip",{type:e,position:this._tooltipState&&this._tooltipState.pos,value:this._tooltipState&&this._tooltipState.value})}_getHandlers(){const{inverse:e}=this.attribute;let t=this._startHandler,i=this._endHandler;return i?(this._isHorizontal?(!e&&i.attribute.x<(t==null?void 0:t.attribute.x)||e&&i.attribute.x>(t==null?void 0:t.attribute.x))&&([t,i]=[i,t]):(!e&&i.attribute.y<(t==null?void 0:t.attribute.y)||e&&i.attribute.y>(t==null?void 0:t.attribute.y))&&([t,i]=[i,t]),{startHandler:t,endHandler:i}):{startHandler:t,endHandler:i}}release(e){super.release(e),(un.env==="browser"?un:this.stage).addEventListener("touchmove",this._handleTouchMove,{passive:!1}),this._clearAllDragEvents()}}K1.defaultAttributes={slidable:!0,layout:"horizontal",align:"bottom",height:8,showHandler:!0,handlerSize:14,handlerStyle:{symbolType:"circle",fill:"#fff",stroke:"#91caff",lineWidth:2},tooltip:{shapeStyle:{symbolType:"circle",fill:"#fff",stroke:"#91caff",lineWidth:2},text:{style:{fill:"#2C3542",fontSize:12}}},railStyle:{fill:"rgba(0,0,0,.04)"},trackStyle:{fill:"#91caff"},showValue:!0,valueStyle:{fill:"#2C3542",fontSize:12},startText:{style:{fill:"#2C3542",fontSize:12}},endText:{style:{fill:"#2C3542",fontSize:12}},handlerText:{visible:!0,space:4,precision:0,style:{fill:"#2C3542",fontSize:12}}};L9t();class Bz extends XZ{constructor(e,t){super(t!=null&&t.skipDefault?e:We({},Bz.defaultAttributes,e)),this.name="colorLegend",this._onSliderToolipChange=i=>{const r=this._slider.tooltipShape;if(r&&i.detail&&!J(i.detail.value)){const s=this._colorScale.scale(i.detail.value);r.setAttribute("fill",s)}this.dispatchEvent(i)},this._onSliderChange=i=>{this._updateColor(),this.dispatchEvent(i)}}setSelected(e){this._slider&&(this._slider.setValue(e),this._updateColor())}_renderContent(){const{colors:e,slidable:t,layout:i,align:r,min:s,max:a,value:o,railWidth:l,railHeight:u,showHandler:c=!0,handlerSize:d,handlerStyle:h,railStyle:f,trackStyle:p,startText:g,endText:m,handlerText:v,showTooltip:_,tooltip:y,inverse:x,disableTriggerEvent:w}=this.attribute,T=[],E=(a-s)/(e.length-1);for(let k=0;k<e.length;k++)T.push(s+E*k);this._colorScale=new Ou().domain(T,!0).range(e),this._color=this._getTrackColor();const A=new K1({x:0,y:0,range:{draggableTrack:!0},slidable:t,layout:i,align:r,min:s,max:a,value:o,railWidth:l,railHeight:u,showHandler:c,handlerSize:d,handlerStyle:h,railStyle:f,trackStyle:Object.assign({fill:this._color},p),startText:g,endText:m,handlerText:v,showTooltip:_,tooltip:y,disableTriggerEvent:w,inverse:x});this._innerView.add(A),this._slider=A,A.translateTo(0-A.AABBBounds.x1,(this._title?this._title.AABBBounds.height()+Hn(this.attribute,"title.space",MM):0)-A.AABBBounds.y1),this._updateColor()}_bindEvents(){this.attribute.disableTriggerEvent||this._slider&&(this._slider.addEventListener("change",this._onSliderChange),this._slider.addEventListener("sliderTooltip",this._onSliderToolipChange))}_getTrackColor(){const{colors:e,layout:t,inverse:i}=this.attribute;if(Lt(e))return;const r=e.length;if(r===1)return e[0];const s=[];for(let l=0;l<r;l++){const u=l/(r-1);s.push({offset:u,color:e[l]})}const a=t==="horizontal",o={gradient:"linear",stops:s,x0:0,y0:0,x1:a?1:0,y1:a?0:1};return i&&(a?(o.x0=1,o.x1=0):(o.y0=1,o.y1=0)),o}_updateColor(){var e;const{layout:t="horizontal",colors:i,railWidth:r,railHeight:s}=this.attribute,{startHandler:a,endHandler:o,track:l,attribute:u}=this._slider,{startValue:c,endValue:d,startPos:h,endPos:f}=this._slider.currentValue,p=(e=u.handlerStyle)===null||e===void 0?void 0:e.fill;if(a&&!p){const m=this._colorScale.scale(c);a.setAttribute("fill",m)}if(o&&!p){const m=this._colorScale.scale(d);o.setAttribute("fill",m)}const g=t==="horizontal"?r:s;if(Math.abs(h-f)!==g&&i&&i.length>1){const m=this._color.stops,v=Math.min(h,f),_=Math.max(h,f),y=v/g,x=_/g,w=x-y,T=m.filter(D=>D.offset>y&&D.offset<x),E=Math.min(c,d),A=Math.max(c,d),k=this._colorScale.scale(E),P=this._colorScale.scale(A),I=[{offset:0,color:k}];T.forEach(D=>{I.push({offset:(D.offset-y)/w,color:D.color})}),I.push({offset:1,color:P}),l.setAttribute("fill",Object.assign(Object.assign({},this._color),{stops:I}))}}}Bz.defaultAttributes={layout:"horizontal",title:{align:"start",space:MM,textStyle:{fontSize:12,fontWeight:"bold",fill:"rgba(46, 47, 50, 1)"}},handlerSize:10,handlerStyle:{fill:null,lineWidth:4,stroke:"#fff",outerBorder:{distance:2,lineWidth:1,stroke:"#ccc"}},tooltip:{shapeStyle:{lineWidth:4,stroke:"#fff"}}};function $9t(n="bottom"){let e=0;return n==="top"?`
    M${e},-6L${e-3.5},-2.5
    v5
    h7
    v-5
    Z
`:n==="left"?(e=1,`
    M${e-6},0L${e-6+2.5},-3.5
    h5
    v7
    h-5
    Z
`):n==="right"?(e=-1,`
    M${e+6},0L${e+6-2.5},-3.5
    h-5
    v7
    h5
    Z
  `):`
    M${e},6L${e-3.5},2.5
    v-5
    h7
    v5
    Z
`}F9t();class $z extends XZ{constructor(e,t){super(t!=null&&t.skipDefault?e:We({},$z.defaultAttributes,e)),this.name="sizeLegend",this._onSliderChange=i=>{this.dispatchEvent(i)},this._onSliderToolipChange=i=>{this.dispatchEvent(i)}}setSelected(e){this._slider&&this._slider.setValue(e)}_renderContent(){const{slidable:e,layout:t,align:i,min:r,max:s,value:a,railWidth:o,railHeight:l,showHandler:u=!0,handlerSize:c,handlerStyle:d,railStyle:h,trackStyle:f,startText:p,endText:g,handlerText:m,showTooltip:v,tooltip:_,sizeBackground:y,disableTriggerEvent:x,inverse:w}=this.attribute,T=It.group({x:0,y:0});this._innerView.add(T);const E=new K1({x:0,y:0,zIndex:1,range:{draggableTrack:!0},slidable:e,layout:t,align:i,min:r,max:s,value:a,railWidth:o,railHeight:l,showHandler:u,handlerSize:c,handlerStyle:Object.assign({symbolType:$9t(i)},d),railStyle:h,trackStyle:f,startText:p,endText:g,handlerText:m,showTooltip:v,tooltip:_,disableTriggerEvent:x,inverse:w});T.add(E);let A,k=0;t==="horizontal"?i==="top"?(A=`M0,0L${o},0L${w?0:o},12Z`,k=l):(A=`M0,12L${o},12L${w?0:o},0Z`,E.setAttribute("y",12)):i==="left"?A=`M${o},0L${o+12},${w?0:l}L${o},${l}Z`:(A=`M0,${w?0:l}L12,${l}L12,0Z`,E.setAttribute("x",12));const P=It.path(Object.assign(Object.assign({x:0,y:k,path:A},y),{zIndex:0}));T.add(P);const I=this._title?this._title.AABBBounds.height()+Hn(this.attribute,"title.space",MM):0;T.translate(0-T.AABBBounds.x1,I-T.AABBBounds.y1),this._slider=E}_bindEvents(){this.attribute.disableTriggerEvent||this._slider&&(this._slider.addEventListener("change",this._onSliderChange),this._slider.addEventListener("sliderTooltip",this._onSliderToolipChange))}}$z.defaultAttributes={layout:"horizontal",title:{align:"start",space:MM,textStyle:{fontSize:12,fontWeight:"bold",fill:"rgba(46, 47, 50, 1)"}},handlerSize:10,handlerStyle:{lineWidth:1,stroke:"#ccc",fill:"#fff"},sizeBackground:{fill:"rgba(20,20,20,0.1)"}};function N9t(){Vs(),_g(),q0()}N9t();let VMe=class WMe extends ko{constructor(e,t){super(t!=null&&t.skipDefault?e:We({},WMe.defaultAttributes,e)),this.name="title"}render(){var e,t,i,r,s,a,o,l,u,c,d,h,f,p,g,m,v,_,y,x;const{textType:w,text:T,subtextType:E,textStyle:A={},subtext:k,subtextStyle:P={},width:I,height:D,minWidth:L,maxWidth:B,minHeight:F,maxHeight:$,align:z,verticalAlign:N,padding:V=0}=this.attribute,H=gl(V),K=this.createOrUpdateChild("title-container",{x:H[3],y:H[0],zIndex:1},"group"),U=(e=A.height)!==null&&e!==void 0?e:D;if(this.attribute.visible!==!1&&A.visible!==!1){const{width:oe,maxHeight:re,maxWidth:fe,x:ve=0,y:xe=0,ellipsis:ye=!0,wordBreak:Ee="break-word",maxWidth:Se,lineClamp:Fe}=A;if(w==="rich"||Y(A.character)){const Ge=Object.assign({x:ve,y:xe,width:(t=oe??I)!==null&&t!==void 0?t:0,height:U??0,ellipsis:ye==null||ye,wordBreak:Ee??"break-word",maxHeight:re??$,maxWidth:fe??Se,textConfig:(i=A.character)!==null&&i!==void 0?i:T},A);this._mainTitle=K.createOrUpdateChild("mainTitle",Ge,"richtext")}else if(w==="html"){const Ge=Object.assign({html:Object.assign(Object.assign({dom:T},XB),A),x:ve,y:xe,width:(r=oe??I)!==null&&r!==void 0?r:0,height:U??0,ellipsis:ye,wordBreak:Ee,maxHeight:re??$,maxWidth:fe??Se,textConfig:[]},A);this._mainTitle=K.createOrUpdateChild("mainTitle",Ge,"richtext")}else Y(T)&&(this._mainTitle=K.createOrUpdateChild("mainTitle",Object.assign(Object.assign({text:Oe(T)?T:[T],whiteSpace:"normal"},A),{maxLineWidth:(a=(s=A.maxLineWidth)!==null&&s!==void 0?s:oe)!==null&&a!==void 0?a:I,heightLimit:(o=A.height)!==null&&o!==void 0?o:$,lineClamp:Fe,ellipsis:ye,x:ve,y:xe}),"text"))}const X=this._mainTitle?this._mainTitle.AABBBounds.height():0,Z=this._mainTitle?this._mainTitle.AABBBounds.width():0;if(this.attribute.visible!==!1&&P.visible!==!1){const{width:oe,height:re,maxWidth:fe,maxHeight:ve,x:xe=0,y:ye=0,ellipsis:Ee=!0,wordBreak:Se="break-word",lineClamp:Fe}=P,Ge=Math.max(Number.MIN_VALUE,$-X);if(E==="rich"||Y(P.character)){const Pe=Object.assign({x:xe,y:ye,width:(l=oe??I)!==null&&l!==void 0?l:0,height:(u=re??D)!==null&&u!==void 0?u:0,ellipsis:Ee,wordBreak:Se,maxHeight:ve??Ge,maxWidth:fe??B,textConfig:(c=P.character)!==null&&c!==void 0?c:k},P);this._subTitle=K.createOrUpdateChild("subTitle",Pe,"richtext")}else if(E==="html"){const Pe=Object.assign({html:Object.assign(Object.assign({dom:k},XB),P),x:xe,y:ye,width:(d=oe??I)!==null&&d!==void 0?d:0,height:(h=re??D)!==null&&h!==void 0?h:0,ellipsis:Ee,wordBreak:Se,maxHeight:ve??Ge,maxWidth:fe??B,textConfig:[]},P);this._subTitle=K.createOrUpdateChild("subTitle",Pe,"richtext")}else Y(k)&&(this._subTitle=K.createOrUpdateChild("subTitle",Object.assign(Object.assign({text:Oe(k)?k:[k],whiteSpace:"normal"},P),{maxLineWidth:(f=P.maxLineWidth)!==null&&f!==void 0?f:I,heightLimit:(p=P.heightLimit)!==null&&p!==void 0?p:Ge,lineClamp:Fe,ellipsis:Ee,x:0,y:X}),"text"))}const Q=this._subTitle?this._subTitle.AABBBounds.height():0,se=this._subTitle?this._subTitle.AABBBounds.width():0;let ae=Math.max(Z,se),ue=X+((g=P.height)!==null&&g!==void 0?g:Q);if(Y(I)&&(ae=I),Y(D)&&(ue=D),Y(L)&&ae<L&&(ae=L),Y(B)&&ae>B&&(ae=B),Y(F)&&ue<F&&(ue=F),Y($)&&ue>$&&(ue=$),K.attribute.width=ae,K.attribute.height=ue,K.attribute.boundsPadding=H,this._mainTitle){if(Y(z)||Y(A.align)){const fe=A.align?A.align:z,ve=(m=A.width)!==null&&m!==void 0?m:ae;fe==="center"?(this._mainTitle.setAttribute("x",ve/2),this._mainTitle.setAttribute("textAlign","center")):fe==="right"?(this._mainTitle.setAttribute("x",ve),this._mainTitle.setAttribute("textAlign","right")):(this._mainTitle.setAttribute("x",0),this._mainTitle.setAttribute("textAlign","left"))}const oe=A.verticalAlign?A.verticalAlign:N,re=U??(this._mainTitle.AABBBounds.empty()?0:this._mainTitle.AABBBounds.height());oe==="middle"?(this._mainTitle.setAttribute("y",re/2),this._mainTitle.setAttribute("textBaseline","middle")):oe==="bottom"?(this._mainTitle.setAttribute("y",re),this._mainTitle.setAttribute("textBaseline","bottom")):(this._mainTitle.setAttribute("y",0),this._mainTitle.setAttribute("textBaseline","top"))}if(this._subTitle){if(Y(z)||Y(P.align)){const ve=P.align?P.align:z,xe=(_=(v=P.width)!==null&&v!==void 0?v:A.width)!==null&&_!==void 0?_:ae;ve==="center"?(this._subTitle.setAttribute("x",xe/2),this._subTitle.setAttribute("textAlign","center")):ve==="right"?(this._subTitle.setAttribute("x",xe),this._subTitle.setAttribute("textAlign","right")):(this._subTitle.setAttribute("x",0),this._subTitle.setAttribute("textAlign","left"))}const oe=P.verticalAlign?P.verticalAlign:N,re=this._mainTitle?Y(U)?this._mainTitle.AABBBounds.y1+Math.max(this._mainTitle.AABBBounds.empty()?0:this._mainTitle.AABBBounds.height(),U):this._mainTitle.AABBBounds.y2:0,fe=(x=(y=P.height)!==null&&y!==void 0?y:D)!==null&&x!==void 0?x:this._subTitle.AABBBounds.empty()?0:this._subTitle.AABBBounds.height();oe==="middle"?(this._subTitle.setAttribute("y",re+fe/2),this._subTitle.setAttribute("textBaseline","middle")):oe==="bottom"?(this._subTitle.setAttribute("y",re+fe),this._subTitle.setAttribute("textBaseline","bottom")):(this._subTitle.setAttribute("y",re),this._subTitle.setAttribute("textBaseline","top"))}}};VMe.defaultAttributes={textStyle:{ellipsis:"...",fill:"#333",fontSize:20,fontWeight:"bold",textAlign:"left",textBaseline:"top"},subtextStyle:{ellipsis:"...",fill:"#6F6F6F",fontSize:16,fontWeight:"normal",textAlign:"left",textBaseline:"top"}};const j9t={title:{style:{text:"",fontSize:20,fill:"black",fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}},content:{style:{text:"",fontSize:16,fill:"black",fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}}};function z9t(){Vs(),_g(),q0()}z9t();let H9t=class extends ko{constructor(){super(...arguments),this.name="indicator"}_renderText(e,t,i,r,s,a){if(t.visible!==!1){const o=We({},Hn(j9t,s),t.style,{visible:t.visible});o.lineHeight=Y(o.lineHeight)?o.lineHeight:o.fontSize,t.formatMethod&&(o._originText=o.text,o.text=t.formatMethod(o.text,o));const l=BO(o);return l.name=a,e.appendChild(l),t.autoFit&&Me(i)&&this._setLocalAutoFit(i,l,t),t.autoLimit&&Me(r)&&l.setAttribute("maxLineWidth",i),l}}render(){var e,t;if(this.removeAllChild(!0),this.attribute.visible!==!0)return;const{title:i={},content:r,size:s,limitRatio:a=1/0}=this.attribute,o=Math.min(s.width,s.height)*a,l=this.createOrUpdateChild("indicator-container",{x:0,y:0,zIndex:1,pickable:(e=this.attribute.pickable)===null||e===void 0||e},"group");if(Y(i)&&(this._title=this._renderText(l,i,o,a,"title.style","indicator-title")),Y(r)){const c=Ae(r),d=[];c.forEach((h,f)=>{h.visible!==!1&&d.push(this._renderText(l,h,o,a,"content.style","indicator-content-"+f))}),this._content=d}this._setGlobalAutoFit(o),this._setYPosition();const u=(t=l==null?void 0:l.AABBBounds.height())!==null&&t!==void 0?t:0;l.setAttribute("y",s.height/2-u/2),l.setAttribute("x",s.width/2)}_setLocalAutoFit(e,t,i){var r,s,a,o,l,u,c,d,h;if(((r=i.fitStrategy)!==null&&r!==void 0?r:"default")!=="default")return;const f=_z((a=(s=i.style)===null||s===void 0?void 0:s.text)!==null&&a!==void 0?a:"",(o=i.style)!==null&&o!==void 0?o:{},(u=(l=this.stage)===null||l===void 0?void 0:l.getTheme())===null||u===void 0?void 0:u.text).width;if(f>0){const p=e*((c=i.fitPercent)!==null&&c!==void 0?c:.5)/f,g=Math.floor(((h=(d=i.style)===null||d===void 0?void 0:d.fontSize)!==null&&h!==void 0?h:20)*p);t.setAttribute("fontSize",g),t.setAttribute("lineHeight",Y(i.style.lineHeight)?i.style.lineHeight:g)}}_setGlobalAutoFit(e){var t,i,r,s,a,o,l;const u=e/2,c=[];let d=0;const h=(t=this.attribute.title)!==null&&t!==void 0?t:{};h.autoFit&&h.fitStrategy==="inscribed"?(this._title.setAttribute("fontSize",12),c.push({text:this._title,spec:(i=this.attribute.title)!==null&&i!==void 0?i:{}})):d+=(o=(a=(s=(r=this._title)===null||r===void 0?void 0:r.AABBBounds)===null||s===void 0?void 0:s.height)===null||a===void 0?void 0:a.call(s))!==null&&o!==void 0?o:0;const f=(l=h.space)!==null&&l!==void 0?l:0;if(d+=f,Ae(this.attribute.content).filter(w=>w.visible!==!1).forEach((w,T)=>{var E,A,k,P;const I=this._content[T];w.autoFit&&w.fitStrategy==="inscribed"?(I.setAttribute("fontSize",12),c.push({text:I,spec:w})):d+=(k=(A=(E=I==null?void 0:I.AABBBounds)===null||E===void 0?void 0:E.height)===null||A===void 0?void 0:A.call(E))!==null&&k!==void 0?k:0;const D=(P=w.space)!==null&&P!==void 0?P:0;d+=D}),c.length<=0)return;const p=12/c.reduce((w,T)=>Math.max(w,T.text.AABBBounds.width()),0)*c.length,g=d/2,m=p**2+1,v=2*g*p,_=g**2-u**2,y=2*(p*((-v+Math.sqrt(v**2-4*m*_))/(2*m))+g),x=(y-d)/c.length;Me(y)&&c.forEach(w=>{var T;const E=(T=w.spec.style)===null||T===void 0?void 0:T.lineHeight;w.text.setAttribute("fontSize",x),w.text.setAttribute("lineHeight",Y(E)?E:x)})}_setYPosition(){var e,t,i,r,s,a;let o=0;const l=(r=(i=(t=(e=this._title)===null||e===void 0?void 0:e.AABBBounds)===null||t===void 0?void 0:t.height)===null||i===void 0?void 0:i.call(t))!==null&&r!==void 0?r:0,u=(a=(s=this.attribute.title)===null||s===void 0?void 0:s.space)!==null&&a!==void 0?a:0;Ae(this.attribute.content).filter(c=>c.visible!==!1).forEach((c,d)=>{var h;const f=this._content[d];f.setAttribute("y",l+u+o);const p=(h=c.space)!==null&&h!==void 0?h:0;o+=f.AABBBounds.height()+p})}};const V9t="M 414.5 0.0238 c 228.9128 0 414.4762 185.5634 414.4762 414.4762 s -185.5634 414.4762 -414.4762 414.4762 S 0.0238 643.4128 0.0238 414.5 S 185.5872 0.0238 414.5 0.0238 z m 0 73.1429 C 225.9865 73.1667 73.1667 225.9865 73.1667 414.5 s 152.8198 341.3333 341.3333 341.3333 s 341.3333 -152.8198 341.3333 -341.3333 S 603.0135 73.1667 414.5 73.1667 z m -73.1429 161.4994 a 48.7619 48.7619 0 0 1 25.9901 7.5093 l 201.7524 127.1223 a 48.7619 48.7619 0 0 1 0.3657 82.2613 l -201.7524 129.6335 A 48.7619 48.7619 0 0 1 292.5952 540.1838 v -256.7314 a 48.7619 48.7619 0 0 1 48.7619 -48.7619 z m 24.381 92.9402 v 167.9116 l 131.9497 -84.7726 L 365.7381 327.6063 z",W9t="M 414.5 0.0238 c 228.9128 0 414.4762 185.5634 414.4762 414.4762 s -185.5634 414.4762 -414.4762 414.4762 S 0.0238 643.4128 0.0238 414.5 S 185.5872 0.0238 414.5 0.0238 z m 0 73.1429 C 225.9865 73.1667 73.1667 225.9865 73.1667 414.5 s 152.8198 341.3333 341.3333 341.3333 s 341.3333 -152.8198 341.3333 -341.3333 S 603.0135 73.1667 414.5 73.1667 z m -48.7619 195.0476 v 316.9524 h -73.1429 V 268.2143 h 73.1429 z m 158.4762 0 v 316.9524 h -73.1429 V 268.2143 h 73.1429 z",U9t="M 521.29 734.276 L 230.929 448.019 L 521.29 161.762 c 37.685 -37.153 38.003 -97.625 0.707 -134.384 c -37.297 -36.758 -98.646 -36.435 -136.331 0.718 l -357.43 352.378 c -0.155 0.153 -0.297 0.314 -0.451 0.468 c -0.084 0.082 -0.172 0.157 -0.256 0.239 c -18.357 18.092 -27.581 41.929 -27.743 65.902 c -0.004 0.311 -0.017 0.623 -0.018 0.934 c 0.001 0.316 0.014 0.632 0.018 0.948 c 0.165 23.97 9.389 47.803 27.743 65.892 c 0.083 0.082 0.171 0.157 0.255 0.239 c 0.154 0.154 0.296 0.315 0.452 0.468 l 357.43 352.378 c 37.685 37.153 99.034 37.476 136.331 0.718 c 37.297 -36.758 36.979 -97.231 -0.707 -134.384 z",G9t="M 734.276 28.71 L 448.019 319.071 L 161.762 28.71 c -37.153 -37.685 -97.625 -38.003 -134.384 -0.707 c -36.758 37.297 -36.435 98.646 0.718 136.331 l 352.378 357.43 c 0.153 0.155 0.314 0.297 0.468 0.451 c 0.082 0.084 0.157 0.172 0.239 0.256 c 18.092 18.357 41.929 27.581 65.902 27.743 c 0.311 0.004 0.623 0.017 0.934 0.018 c 0.316 -0.001 0.632 -0.014 0.948 -0.018 c 23.97 -0.165 47.803 -9.389 65.892 -27.743 c 0.082 -0.083 0.157 -0.171 0.239 -0.255 c 0.154 -0.154 0.315 -0.296 0.468 -0.452 l 352.378 -357.43 c 37.153 -37.685 37.476 -99.034 0.718 -136.331 c -36.758 -37.297 -97.231 -36.979 -134.384 0.707 z",Y9t="m 161.724 521.29 l 286.257 -290.361 l 286.257 290.361 c 37.153 37.685 97.625 38.003 134.384 0.707 c 36.758 -37.297 36.435 -98.646 -0.718 -136.331 l -352.378 -357.43 c -0.153 -0.155 -0.314 -0.297 -0.468 -0.451 c -0.082 -0.084 -0.157 -0.172 -0.239 -0.256 c -18.092 -18.357 -41.929 -27.581 -65.902 -27.743 c -0.311 -0.004 -0.623 -0.017 -0.934 -0.018 c -0.316 0.001 -0.632 0.014 -0.948 0.018 c -23.97 0.165 -47.803 9.389 -65.892 27.743 c -0.082 0.083 -0.157 0.171 -0.239 0.255 c -0.154 0.154 -0.315 0.296 -0.468 0.452 l -352.378 357.43 c -37.153 37.685 -37.476 99.034 -0.718 136.331 c 36.758 37.297 97.231 36.979 134.384 -0.707 z",K9t="M 30 163 L 320.361 449.257 L 30 735.514 c -37.685 37.153 -38.003 97.625 -0.707 134.384 c 37.297 36.758 98.646 36.435 136.331 -0.718 l 357.43 -352.378 c 0.155 -0.153 0.297 -0.314 0.451 -0.468 c 0.084 -0.082 0.172 -0.157 0.256 -0.239 c 18.357 -18.092 27.581 -41.929 27.743 -65.902 c 0.004 -0.311 0.017 -0.623 0.018 -0.934 c -0.001 -0.316 -0.014 -0.632 -0.018 -0.948 c -0.165 -23.97 -9.389 -47.803 -27.743 -65.892 c -0.083 -0.082 -0.171 -0.157 -0.255 -0.239 c -0.154 -0.154 -0.296 -0.315 -0.452 -0.468 l -357.43 -352.378 c -37.685 -37.153 -99.034 -37.476 -136.331 -0.718 c -37.297 36.758 -36.979 97.231 0.707 134.384 z";class uW extends pz{constructor(e){super(e)}}var uc;(function(n){n.OnPlay="onPlay",n.OnPause="onPause",n.OnForward="onForward",n.OnBackward="onBackward"})(uc||(uc={}));var nw;(function(n){n.Start="start",n.Pause="pause",n.Forward="forward",n.Backward="backward"})(nw||(nw={}));class rm extends ko{constructor(e,t){super(t!=null&&t.skipDefault?e:We({},rm.defaultAttributes,e)),this._isPaused=!0,this.updateAttributes=()=>{this._startAttr={style:Object.assign(Object.assign(Object.assign({symbolType:V9t},rm.defaultControllerAttr),{visible:this.attribute.start.visible}),this.attribute.start.style)},this._pauseAttr={style:Object.assign(Object.assign(Object.assign({symbolType:W9t},rm.defaultControllerAttr),{visible:this.attribute.pause.visible}),this.attribute.pause.style)},this._forwardAttr={style:Object.assign(Object.assign(Object.assign({},rm.defaultControllerAttr),{visible:this.attribute.forward.visible}),this.attribute.forward.style)},this._backwardAttr={style:Object.assign(Object.assign(Object.assign({},rm.defaultControllerAttr),{visible:this.attribute.backward.visible}),this.attribute.backward.style)},this.updateLayout()},this.updateLayout=()=>{var i,r,s,a;this._layout=this.attribute.layout,this._layout==="horizontal"?(this._backwardAttr.style.symbolType=(i=this._backwardAttr.style.symbolType)!==null&&i!==void 0?i:U9t,this._forwardAttr.style.symbolType=(r=this._forwardAttr.style.symbolType)!==null&&r!==void 0?r:K9t):this._layout==="vertical"&&(this._backwardAttr.style.symbolType=(s=this._backwardAttr.style.symbolType)!==null&&s!==void 0?s:Y9t,this._forwardAttr.style.symbolType=(a=this._forwardAttr.style.symbolType)!==null&&a!==void 0?a:G9t)},this._initPlay=()=>{J(this._playController)&&(this._playController=new uW(Object.assign({},this._startAttr.style)),this.add(this._playController))},this._initBackward=()=>{J(this._backwardController)&&(this._backwardController=new uW(Object.assign({},this._backwardAttr.style)),this.add(this._backwardController))},this._initForward=()=>{J(this._forwardController)&&(this._forwardController=new uW(Object.assign({},this._forwardAttr.style)),this.add(this._forwardController))},this._initEvents=()=>{this.attribute.disableTriggerEvent||(this._playController.addEventListener("pointerdown",i=>{i.stopPropagation(),this._isPaused===!0?this.play():this.pause()}),this._backwardController.addEventListener("pointerdown",i=>{i.stopPropagation(),this.backward()}),this._forwardController.addEventListener("pointerdown",i=>{i.stopPropagation(),this.forward()}))},this.renderPlay=()=>{this._isPaused?this._playController.setAttributes(Object.assign({symbolType:this._playController.getComputedAttribute("symbolType")},this._startAttr.style)):this._playController.setAttributes(Object.assign({symbolType:this._playController.getComputedAttribute("symbolType")},this._pauseAttr.style))},this.renderBackward=()=>{this._backwardController.setAttributes(this._backwardAttr.style)},this.renderForward=()=>{this._forwardController.setAttributes(this._forwardAttr.style)},this.play=()=>{this._dispatchEvent(uc.OnPlay)},this.pause=()=>{this._dispatchEvent(uc.OnPause)},this.forward=()=>{this._dispatchEvent(uc.OnForward)},this.backward=()=>{this._dispatchEvent(uc.OnBackward)},this.togglePlay=()=>{this._playController.setAttributes(this._startAttr.style),this._isPaused=!0},this.togglePause=()=>{this._playController.setAttributes(this._pauseAttr.style),this._isPaused=!1},this.updateAttributes(),this._initPlay(),this._initBackward(),this._initForward(),this._initEvents()}render(){this.updateAttributes(),this.renderPlay(),this.renderBackward(),this.renderForward()}}rm.defaultControllerAttr={visible:!0,x:0,y:0,size:20,fill:"#91caff",pickMode:"imprecise",cursor:"pointer"},rm.defaultAttributes={[nw.Start]:{},[nw.Pause]:{},[nw.Backward]:{},[nw.Forward]:{}};const $D={visible:!0,style:{x:0,y:0,dx:0,dy:0,size:20},order:0,space:10},cW=[200,10];var zy;(function(n){n.Default="default",n.Reverse="reverse"})(zy||(zy={}));var Ls;(function(n){n.change="change",n.play="play",n.pause="pause",n.backward="backward",n.forward="forward",n.end="end",n.OnChange="change",n.OnPlay="play",n.OnPause="pause",n.OnBackward="backward",n.OnForward="forward",n.OnEnd="end"})(Ls||(Ls={}));const X9t=({direction:n,maxIndex:e,dataIndex:t})=>n===zy.Default&&t===e,q9t=({direction:n,minIndex:e,dataIndex:t})=>n===zy.Reverse&&t===e,Z9t=({direction:n,maxIndex:e,minIndex:t,dataIndex:i})=>X9t({direction:n,maxIndex:e,dataIndex:i})||q9t({direction:n,minIndex:t,dataIndex:i}),Q9t=({direction:n,minIndex:e,dataIndex:t})=>n===zy.Default&&t===e,J9t=({direction:n,maxIndex:e,dataIndex:t})=>n===zy.Reverse&&t===e,eXt=({direction:n,maxIndex:e,minIndex:t,dataIndex:i})=>Q9t({direction:n,minIndex:t,dataIndex:i})||J9t({direction:n,maxIndex:e,dataIndex:i}),lp=n=>n==="top"||n==="bottom",tXt=(n,e,t,i)=>n==="default"?Math.min(e+1,i):Math.max(e-1,t);class IM extends ko{getMinIndex(){return this._minIndex}getMaxIndex(){return this._maxIndex}getDataIndex(){return this._dataIndex}constructor(e,t){super(t!=null&&t.skipDefault?e:We({},IM.defaultAttributes,e)),this._data=[],this._dataIndex=0,this._layoutInfo={},this._updateSliderAttrs=()=>{var i,r;let s;Me(this._handlerStyle.size)?s=this._handlerStyle.size:this._handlerStyle.size&&this._handlerStyle.size.length&&(s=dl(this._handlerStyle.size[0],this._handlerStyle.size[1]));const a={visible:this._sliderVisible,min:this._minIndex,max:this._maxIndex,value:this._dataIndex,railWidth:this._railStyle.width,railHeight:this._railStyle.height,railStyle:this._railStyle,trackStyle:this._trackStyle,handlerSize:Me(s)?s:void 0,handlerStyle:this._handlerStyle,dy:this.attribute.slider.dy,dx:this.attribute.slider.dx,slidable:!0,range:!1,handlerText:{visible:!1},startText:{visible:!1},endText:{visible:!1},disableTriggerEvent:this.attribute.disableTriggerEvent};if(lp(this._orient)){const o=Math.max(0,this._layoutInfo.slider.size),l=(i=this._railStyle.height)!==null&&i!==void 0?i:cW[1];a.layout="horizontal",a.railHeight=l,a.railWidth=o,a.x=this._layoutInfo.slider.x,a.y=this._layoutInfo.slider.y}else{const o=Math.max(0,this._layoutInfo.slider.size),l=(r=this._railStyle.width)!==null&&r!==void 0?r:cW[1];a.layout="vertical",a.railWidth=l,a.railHeight=o,a.x=this._layoutInfo.slider.x,a.y=this._layoutInfo.slider.y}return a},this._initSlider=()=>{const i=this._updateSliderAttrs();this._slider=new K1(i),this._sliderVisible&&this.add(this._slider)},this._updateControllerAttrs=()=>{const i={start:this._start,pause:this._pause,forward:this._forward,backward:this._backward,disableTriggerEvent:this.attribute.disableTriggerEvent};return i.layout=lp(this._orient)?"horizontal":"vertical",i.start=Object.assign(Object.assign({},i.start),{style:Object.assign(Object.assign({},i.start.style),{x:this._layoutInfo.start.x,y:this._layoutInfo.start.y})}),i.pause=Object.assign(Object.assign({},i.pause),{style:Object.assign(Object.assign({},i.pause.style),{x:this._layoutInfo.start.x,y:this._layoutInfo.start.y})}),i.backward=Object.assign(Object.assign({},i.backward),{style:Object.assign(Object.assign({},i.backward.style),{x:this._layoutInfo.backward.x,y:this._layoutInfo.backward.y})}),i.forward=Object.assign(Object.assign({},i.forward),{style:Object.assign(Object.assign({},i.forward.style),{x:this._layoutInfo.forward.x,y:this._layoutInfo.forward.y})}),i},this._initController=()=>{const i=this._updateControllerAttrs();this._controller=new rm(i),this._controllerVisible&&this.add(this._controller)},this._initAttributes(),this._initDataIndex(),this._initLayoutInfo(),this._initController(),this._initSlider()}_initAttributes(){this._size=this.attribute.size,this._orient=this.attribute.orient,this._data=this.attribute.data,this._minIndex=0,this._maxIndex=this._data.length-1;const{slider:e={},controller:t={}}=this.attribute;this._sliderVisible=e.visible,this._railStyle=Object.assign({},e.railStyle),this._trackStyle=Object.assign({},e.trackStyle),this._handlerStyle=Object.assign({},e.handlerStyle),this._controllerVisible=t.visible,this._start=Object.assign({},t.start),this._pause=Object.assign({},t.pause),this._forward=Object.assign({},t.forward),this._backward=Object.assign({},t.backward)}_initDataIndex(){var e;this._dataIndex=(e=this.attribute.dataIndex)!==null&&e!==void 0?e:0}_initLayoutInfo(){var e,t,i;const r=[this._start,this._backward,this._forward].sort((h,f)=>h.order-f.order),s=r.filter(h=>h.position!=="end"),a=r.filter(h=>h.position==="end"),o=(e=lp(this._orient)?this._railStyle.height:this._railStyle.width)!==null&&e!==void 0?e:cW[1],l=r.reduce((h,f)=>{const p=f.style.size,g=st(p)?p:dl(p[0],p[1]);return h+f.space+g},0),u=this._sliderVisible?(lp(this._orient)?(t=this._size)===null||t===void 0?void 0:t.width:(i=this._size)===null||i===void 0?void 0:i.height)-l:0,c=u-this.attribute.slider.space,d=s.reduce((h,f)=>{const{key:p,space:g,style:{size:m}}=f,v=st(m)?m:dl(m[0],m[1]);return this._layoutInfo[p]=Object.assign(Object.assign({},this._layoutInfo[p]),{size:v,x:lp(this._orient)?h+g:(this._size.width-v)/2,y:lp(this._orient)?(this._size.height-v)/2:h+g}),h+g+v},0);this._layoutInfo.slider=Object.assign(Object.assign({},this._layoutInfo.slider),{size:c,x:lp(this._orient)?d+this.attribute.slider.space:(this._size.width-o)/2,y:lp(this._orient)?(this._size.height-o)/2:d+this.attribute.slider.space}),a.reduce((h,f)=>{const{key:p,space:g,style:{size:m}}=f,v=st(m)?m:dl(m[0],m[1]);return this._layoutInfo[p]=Object.assign(Object.assign({},this._layoutInfo[p]),{size:v,x:lp(this._orient)?h+g:(this._size.width-v)/2,y:lp(this._orient)?(this._size.height-v)/2:h+g}),h+g+v},d+u)}render(){this._initLayoutInfo(),this.renderSlider(),this.renderController()}renderSlider(){const e=this._updateSliderAttrs();this._slider.setAttributes(e)}renderController(){const e=this._updateControllerAttrs();this._controller.setAttributes(e)}dispatchCustomEvent(e,t){this._dispatchEvent(e,{eventType:e,index:t,value:this._data[t]})}}IM.defaultAttributes={visible:!0,data:[],interval:1e3,orient:"bottom",align:"center",size:{height:20,width:300},slider:{visible:!0,space:10,dx:0,dy:0,railStyle:{cornerRadius:5},trackStyle:{},handlerStyle:{}},controller:{visible:!0,start:Object.assign(Object.assign({},$D),{key:"start",position:"start",space:0}),pause:Object.assign(Object.assign({},$D),{key:"pause",position:"start"}),forward:Object.assign(Object.assign({},$D),{key:"forward",position:"end"}),backward:Object.assign(Object.assign({},$D),{key:"backward",position:"start"})}};function UMe(){Fz(),Vs(),gd()}function nXt(){UMe()}function iXt(){UMe()}nXt();class rXt extends IM{constructor(e,t){super(t!=null&&t.skipDefault?e:We({},e)),this._activeIndex=-1,this._isReachEnd=!1,this._initAttributes=()=>{var i,r,s;super._initAttributes(),this._alternate=(i=this.attribute.alternate)!==null&&i!==void 0&&i,this._interval=(r=this.attribute.interval)!==null&&r!==void 0?r:1e3,this._direction=(s=this.attribute.direction)!==null&&s!==void 0?s:zy.Default},this._initDataIndex=()=>{var i;this._dataIndex=J(this.attribute.dataIndex)?this._direction==="default"?this._minIndex:this._maxIndex:(i=this.attribute.dataIndex)!==null&&i!==void 0?i:0,this._slider.setAttribute("value",this._dataIndex)},this._initEvents=()=>{this.attribute.disableTriggerEvent||(this._controller.addEventListener(uc.OnPlay,i=>{i.stopPropagation(),this.play()}),this._controller.addEventListener(uc.OnPause,i=>{i.stopPropagation(),this.pause()}),this._controller.addEventListener(uc.OnForward,i=>{i.stopPropagation(),this.forward()}),this._controller.addEventListener(uc.OnBackward,i=>{i.stopPropagation(),this.backward()}),this._slider.addEventListener("change",i=>{const r=Math.floor(i.detail.value)+.5;this._dataIndex=i.detail.value>=r?Math.ceil(i.detail.value):Math.floor(i.detail.value),this._slider.setValue(this._dataIndex),this.dispatchCustomEvent(Ls.change)}))},this.play=()=>{this._isPlaying||this._data.length!==1&&(this._controller.togglePause(),this._isPlaying=!0,(Z9t({dataIndex:this._dataIndex,maxIndex:this._maxIndex,minIndex:this._minIndex,direction:this._direction})||eXt({dataIndex:this._dataIndex,maxIndex:this._maxIndex,minIndex:this._minIndex,direction:this._direction}))&&(this._direction===zy.Default?this._updateDataIndex(this._minIndex):this._updateDataIndex(this._maxIndex)),this.dispatchCustomEvent(Ls.play),this._isReachEnd=!1,this._tickTime=Date.now(),this._rafId=un.getRequestAnimationFrame()(this._play.bind(this,!0)))},this._play=i=>{const r=Date.now();if(this._isReachEnd&&r-this._tickTime>=this._interval)return this._isReachEnd=!1,void this._playEnd();i&&this._activeIndex!==this._dataIndex?(this.dispatchCustomEvent(Ls.change),this._activeIndex=this._dataIndex):r-this._tickTime>=this._interval&&(this._tickTime=r,this._updateDataIndex(tXt(this._direction,this._dataIndex,this._minIndex,this._maxIndex)),this._activeIndex=this._dataIndex,this.dispatchCustomEvent(Ls.change)),(this._direction==="default"&&this._dataIndex>=this._maxIndex||this._direction==="reverse"&&this._dataIndex<=this._minIndex)&&(this._isReachEnd=!0),this._rafId=un.getRequestAnimationFrame()(this._play.bind(this,!1))},this._updateDataIndex=i=>{this._dataIndex=i,this._slider.setValue(this._dataIndex)},this._playEnd=()=>{this._isPlaying=!1,this._controller.togglePlay(),un.getCancelAnimationFrame()(this._rafId),this._activeIndex=-1,this.dispatchCustomEvent(Ls.end)},this.pause=()=>{this._isPlaying&&(this._isPlaying=!1,un.getCancelAnimationFrame()(this._rafId),this._controller.togglePlay(),this.dispatchCustomEvent(Ls.pause))},this.backward=()=>{const{loop:i=!1}=this.attribute;let r;r=i?this._dataIndex-1<this._minIndex?this._maxIndex:this._dataIndex-1:Math.max(this._dataIndex-1,this._minIndex),this._updateDataIndex(r),this.dispatchCustomEvent(Ls.change),this.dispatchCustomEvent(Ls.backward)},this.forward=()=>{const{loop:i=!1}=this.attribute;let r;r=i?this._dataIndex+1>this._maxIndex?this._minIndex:this._dataIndex+1:Math.min(this._dataIndex+1,this._maxIndex),this._updateDataIndex(r),this.dispatchCustomEvent(Ls.change),this.dispatchCustomEvent(Ls.forward)},this._initAttributes(),this._initDataIndex(),this._initEvents()}setAttributes(e,t){super.setAttributes(e,t),this._initAttributes()}dispatchCustomEvent(e){super.dispatchCustomEvent(e,this._dataIndex)}}var sXt=function(n,e,t,i){return new(t||(t=Promise))(function(r,s){function a(u){try{l(i.next(u))}catch(c){s(c)}}function o(u){try{l(i.throw(u))}catch(c){s(c)}}function l(u){var c;u.done?r(u.value):(c=u.value,c instanceof t?c:new t(function(d){d(c)})).then(a,o)}l((i=i.apply(n,e||[])).next())})};iXt();class aXt extends IM{constructor(e){super(e),this._isPlaying=!1,this._startTime=Date.now(),this._initAttributes=()=>{var t;super._initAttributes(),this._maxIndex=this._data.length,this._slider.setAttribute("max",this._maxIndex),this._isPlaying=!1,this._elapsed=0,this._interval=(t=this.attribute.interval)!==null&&t!==void 0?t:1e3;const i=this._data.length;this.attribute.totalDuration&&this._data.length?(this._totalDuration=this.attribute.totalDuration,this._interval=this._totalDuration/(i??1)):(this._totalDuration=this._interval*i,this._interval=this.attribute.interval)},this._initDataIndex=()=>{var t;this._dataIndex=(t=this.attribute.dataIndex)!==null&&t!==void 0?t:this._minIndex},this._initEvents=()=>{this.attribute.disableTriggerEvent||(this._controller.addEventListener(uc.OnPlay,t=>{t.stopPropagation(),this.play()}),this._controller.addEventListener(uc.OnPause,t=>{t.stopPropagation(),this.pause()}),this._controller.addEventListener(uc.OnForward,t=>{t.stopPropagation(),this.forward()}),this._controller.addEventListener(uc.OnBackward,t=>{t.stopPropagation(),this.backward()}),this._slider.addEventListener("change",t=>{var i;t.stopPropagation();const r=(i=t.detail)===null||i===void 0?void 0:i.value,s=r/this._maxIndex;this._elapsed=s*this._totalDuration,this._startTime=Date.now()-this._elapsed,this._dispatchChange(r)}))},this._getSliderValue=()=>{const t=this._elapsed/this._totalDuration;return Math.min(t*this._maxIndex,this._maxIndex)},this._updateSlider=()=>{const t=this._getSliderValue();this._dataIndex=Math.floor(t),this._slider.setValue(Math.min(t,this._maxIndex)),this._dispatchChange(Math.floor(t))},this._dispatchChange=t=>{const i=Math.floor(t);i!==this._activeIndex&&(this._dataIndex=i,this._activeIndex=i,i!==this._maxIndex&&this.dispatchCustomEvent(Ls.change))},this.play=()=>sXt(this,void 0,void 0,function*(){this._isPlaying||(this._controller.togglePause(),this._isPlaying=!0,this._elapsed>=this._totalDuration&&(this._elapsed=0),this._startTime=Date.now()-this._elapsed,this.dispatchCustomEvent(Ls.play),this._rafId=un.getRequestAnimationFrame()(this._play.bind(this)))}),this._play=()=>{this._elapsed=Date.now()-this._startTime;const t=this._getSliderValue();this._updateSlider(),t>=this._maxIndex?this._playEnd():this._rafId=un.getRequestAnimationFrame()(this._play.bind(this))},this._playEnd=()=>{this._isPlaying=!1,un.getCancelAnimationFrame()(this._rafId),this._controller.togglePlay(),this.dispatchCustomEvent(Ls.end)},this.pause=()=>{this._isPlaying&&(this._isPlaying=!1,this._elapsed=Date.now()-this._startTime,un.getCancelAnimationFrame()(this._rafId),this._controller.togglePlay(),this.dispatchCustomEvent(Ls.pause))},this.backward=()=>{const t=Date.now(),i=1*this._interval,r=this._elapsed-i;r<=0?(this._elapsed=0,this._startTime=t):(this._elapsed=r,this._startTime=this._startTime+this._interval),this._updateSlider(),this.dispatchCustomEvent(Ls.backward)},this.forward=()=>{const t=Date.now(),i=1*this._interval,r=this._elapsed+i;r>=this._totalDuration?(this._startTime=t-this._totalDuration,this._elapsed=this._totalDuration):(this._startTime=this._startTime-i,this._elapsed=r),this._updateSlider(),this.dispatchCustomEvent(Ls.forward)},this._initAttributes(),this._initDataIndex(),this._initEvents()}dispatchCustomEvent(e){super.dispatchCustomEvent(e,this._dataIndex)}render(){super.render()}}var Oa;(function(n){n.drawStart="drawStart",n.drawEnd="drawEnd",n.drawing="drawing",n.moving="moving",n.moveStart="moveStart",n.moveEnd="moveEnd",n.brushActive="brushActive",n.brushClear="brushClear"})(Oa||(Oa={}));const Hg={trigger:"pointerdown",updateTrigger:"pointermove",endTrigger:["pointerup","pointerleave"],resetTrigger:"pointerupoutside",hasMask:!0,brushMode:"single",brushType:"rect",brushStyle:{fill:"#B0C8F9",fillOpacity:.2,stroke:"#B0C8F9",strokeWidth:2},brushMoved:!0,removeOnClick:!0,delayType:"throttle",delayTime:10,interactiveRange:{minY:-1/0,maxY:1/0,minX:-1/0,maxX:1/0}},Jpe=5;function oXt(){Vs(),yz()}const lXt={debounce:Y0,throttle:Km};oXt();let GMe=class YMe extends ko{constructor(e,t){super(t!=null&&t.skipDefault?e:We({},YMe.defaultAttributes,e)),this.name="brush",this._activeBrushState=!1,this._activeDrawState=!1,this._cacheDrawPoints=[],this._activeMoveState=!1,this._operatingMaskMoveDx=0,this._operatingMaskMoveDy=0,this._operatingMaskMoveRangeX=[-1/0,1/0],this._operatingMaskMoveRangeY=[-1/0,1/0],this._brushMaskAABBBoundsDict={},this._firstUpdate=!0,this._onBrushStart=i=>{const{updateTrigger:r=Hg.updateTrigger,endTrigger:s=Hg.endTrigger,brushMoved:a=!0}=this.attribute;Ae(r).forEach(o=>this.stage.addEventListener(o,this._onBrushingWithDelay)),Ae(s).forEach(o=>this.stage.addEventListener(o,this._onBrushEnd)),i.stopPropagation(),this._firstUpdate=!0,this._activeMoveState=a&&this._isPosInBrushMask(i),this._activeDrawState=!this._activeMoveState,this._startPos=this.eventPosToStagePos(i),this._cacheDrawPoints=[this._startPos]},this._onBrushing=i=>{this._outOfInteractiveRange(i)||(i.stopPropagation(),this._firstUpdate?(this._activeDrawState&&this._initDraw(i),this._activeMoveState&&this._initMove(i),this._firstUpdate=!1):(this._activeDrawState&&this._drawing(i),this._activeMoveState&&this._moving(i)))},this._onBrushingWithDelay=this.attribute.delayTime===0?this._onBrushing:lXt[this.attribute.delayType](this._onBrushing,this.attribute.delayTime),this._onBrushEnd=i=>{this._releaseBrushUpdateEvents(),i.preventDefault(),this._activeDrawState&&this._drawEnd(i),this._activeMoveState&&this._moveEnd(i),this._activeDrawState=!1,this._activeMoveState=!1},this._onBrushClear=i=>{i.preventDefault(),this._isEmptyMask()||(this._clearMask(),this._dispatchBrushEvent(Oa.brushClear,i)),this._activeDrawState=!1,this._activeMoveState=!1}}_bindBrushEvents(){if(this.releaseBrushEvents(),this.attribute.disableTriggerEvent)return;const{trigger:e=Hg.trigger,resetTrigger:t=Hg.resetTrigger}=this.attribute;Ae(e).forEach(i=>this.stage.addEventListener(i,this._onBrushStart)),Ae(t).forEach(i=>this.stage.addEventListener(i,this._onBrushClear))}_initDraw(e){const{brushMode:t}=this.attribute,i=this.eventPosToStagePos(e);this._cacheDrawPoints.push(i),t==="single"&&this._clearMask(),this._addBrushMask(),this._dispatchBrushEvent(Oa.drawStart,e),this._activeBrushState=!1}_initMove(e){var t,i;this._cacheMovePoint=this.eventPosToStagePos(e),this._operatingMaskMoveDx=(t=this._operatingMask.attribute.dx)!==null&&t!==void 0?t:0,this._operatingMaskMoveDy=(i=this._operatingMask.attribute.dy)!==null&&i!==void 0?i:0;const{interactiveRange:r}=this.attribute,{minY:s=-1/0,maxY:a=1/0,minX:o=-1/0,maxX:l=1/0}=r,{x1:u,x2:c,y1:d,y2:h}=this._operatingMask.globalAABBBounds,f=o-u,p=l-c,g=s-d,m=a-h;this._operatingMaskMoveRangeX=[f,p],this._operatingMaskMoveRangeY=[g,m],this._operatingMask.setAttribute("pickable",!0),this._dispatchBrushEvent(Oa.moveStart,e)}_drawing(e){var t;const i=this.eventPosToStagePos(e),{brushType:r,sizeThreshold:s=Jpe}=this.attribute,a=this._cacheDrawPoints.length;if(a>0){const h=(t=this._cacheDrawPoints[this._cacheDrawPoints.length-1])!==null&&t!==void 0?t:{};if(i.x===h.x&&i.y===h.y)return}r==="polygon"||a<=1?this._cacheDrawPoints.push(i):this._cacheDrawPoints[a-1]=i;const o=this._computeMaskPoints();this._operatingMask.setAttribute("points",o);const{x:l,y:u}=this._startPos,{x:c,y:d}=this.eventPosToStagePos(e);(Math.abs(c-l)>s||Math.abs(u-d)>s)&&(Object.keys(this._brushMaskAABBBoundsDict).length!==1||this._activeBrushState?this._dispatchBrushEvent(Oa.drawing,e):(this._activeBrushState=!0,this._dispatchBrushEvent(Oa.brushActive,e)))}_moving(e){const t=this._cacheMovePoint,i=this.eventPosToStagePos(e);if(i.x===(t==null?void 0:t.x)&&i.y===(t==null?void 0:t.y))return;const r=i.x-t.x,s=i.y-t.y,a=Math.min(this._operatingMaskMoveRangeX[1],Math.max(this._operatingMaskMoveRangeX[0],r))+this._operatingMaskMoveDx,o=Math.min(this._operatingMaskMoveRangeY[1],Math.max(this._operatingMaskMoveRangeY[0],s))+this._operatingMaskMoveDy;this._operatingMask.setAttributes({dx:a,dy:o}),this._brushMaskAABBBoundsDict[this._operatingMask.name]=this._operatingMask.AABBBounds,this._dispatchBrushEvent(Oa.moving,e)}_drawEnd(e){const{removeOnClick:t=!0,sizeThreshold:i=Jpe}=this.attribute;if(this._outOfInteractiveRange(e))this._isEmptyMask()||(this._clearMask(),this._dispatchBrushEvent(Oa.brushClear,e));else{const{x:r,y:s}=this._startPos,{x:a,y:o}=this.eventPosToStagePos(e);Math.abs(a-r)<=1&&Math.abs(o-s)<=1&&t?this._isEmptyMask()||(this._clearMask(),this._dispatchBrushEvent(Oa.brushClear,e)):Math.abs(a-r)<i&&Math.abs(s-o)<i?(delete this._brushMaskAABBBoundsDict[this._operatingMask.name],this._container.setAttributes({}),this._container.removeChild(this._operatingMask),this._isEmptyMask()&&this._dispatchBrushEvent(Oa.brushClear,e)):(this._brushMaskAABBBoundsDict[this._operatingMask.name]=this._operatingMask.AABBBounds,this._dispatchBrushEvent(Oa.drawEnd,e))}}_moveEnd(e){this._operatingMask&&this._operatingMask.setAttribute("pickable",!1),this._dispatchBrushEvent(Oa.moveEnd,e)}render(){this._bindBrushEvents();const e=this.createOrUpdateChild("brush-container",{},"group");this._container=e}releaseBrushEvents(){const{trigger:e=Hg.trigger,resetTrigger:t=Hg.resetTrigger}=this.attribute;Ae(e).forEach(i=>this.stage.removeEventListener(i,this._onBrushStart)),Ae(t).forEach(i=>this.stage.removeEventListener(i,this._onBrushClear)),this._releaseBrushUpdateEvents()}_releaseBrushUpdateEvents(){const{updateTrigger:e=Hg.updateTrigger,endTrigger:t=Hg.endTrigger}=this.attribute;Ae(e).forEach(i=>this.stage.removeEventListener(i,this._onBrushingWithDelay)),Ae(t).forEach(i=>this.stage.removeEventListener(i,this._onBrushEnd))}_computeMaskPoints(){const{brushType:e,xRange:t=[0,0],yRange:i=[0,0]}=this.attribute;let r=[];const s=this._cacheDrawPoints[0],a=this._cacheDrawPoints[this._cacheDrawPoints.length-1];return r=e==="rect"?[s,{x:a.x,y:s.y},a,{x:s.x,y:a.y}]:e==="x"?[{x:s.x,y:i[0]},{x:a.x,y:i[0]},{x:a.x,y:i[1]},{x:s.x,y:i[1]}]:e==="y"?[{x:t[0],y:s.y},{x:t[0],y:a.y},{x:t[1],y:a.y},{x:t[1],y:s.y}]:Ul(this._cacheDrawPoints),r}_addBrushMask(){var e;const{brushStyle:t,hasMask:i}=this.attribute,r=It.polygon(Object.assign(Object.assign({points:Ul(this._cacheDrawPoints),cursor:"move",pickable:!1},t),{opacity:i?(e=t.opacity)!==null&&e!==void 0?e:1:0}));r.name=`brush-${Date.now()}`,this._operatingMask=r,this._container.add(r),this._brushMaskAABBBoundsDict[r.name]=r.AABBBounds}_isPosInBrushMask(e){const t=this.eventPosToStagePos(e),i=this._container.getChildren();for(let r=0;r<i.length;r++){const{points:s=[],dx:a=0,dy:o=0}=i[r].attribute,l=s.map(u=>({x:u.x+a,y:u.y+o}));if(QAe(l,t.x,t.y))return this._operatingMask=i[r],!0}return!1}_outOfInteractiveRange(e){const{interactiveRange:t}=this.attribute,{minY:i=-1/0,maxY:r=1/0,minX:s=-1/0,maxX:a=1/0}=t,o=this.eventPosToStagePos(e);return o.x>a||o.x<s||o.y>r||o.y<i}_dispatchBrushEvent(e,t){this._dispatchEvent(e,{operateMask:this._operatingMask,operatedMaskAABBBounds:this._brushMaskAABBBoundsDict,event:t})}_clearMask(){this._brushMaskAABBBoundsDict={},this._container.removeAllChild(),this._operatingMask=null}_isEmptyMask(){return Lt(this._brushMaskAABBBoundsDict)||Object.keys(this._brushMaskAABBBoundsDict).every(e=>this._brushMaskAABBBoundsDict[e].empty())}};GMe.defaultAttributes=Hg;const ege=(n,...e)=>{const t=[n.shape,...e.map(s=>s==null?void 0:s.shape)],i=[n.key,...e.map(s=>s==null?void 0:s.key)],r=[n.value,...e.map(s=>s==null?void 0:s.value)];return We(n,...e,{shape:t.every(J)?void 0:We({},...t),key:i.every(J)?void 0:We({},...i),value:r.every(J)?void 0:We({},...r)})},sx=n=>{const{width:e,height:t,wordBreak:i="break-word",textAlign:r,textBaseline:s,text:a}=n;return Array.isArray(a)?{width:e,height:t,wordBreak:i,textAlign:r,textBaseline:s,singleLine:!1,textConfig:Ae(a).map(o=>Object.assign(Object.assign({},n),{text:o}))}:{width:e,height:t,wordBreak:i,textAlign:r,textBaseline:s,singleLine:!1,textConfig:a==null?void 0:a.text}},uXt={panel:{visible:!0,cornerRadius:[3,3,3,3],fill:"white",shadow:!0,shadowBlur:12,shadowColor:"rgba(0, 0, 0, 0.1)",shadowOffsetX:0,shadowOffsetY:4,shadowSpread:0,stroke:"white"},titleStyle:{value:{fill:"#4E5969",fontFamily:AA,fontSize:14,lineHeight:18,textAlign:"left",textBaseline:"middle"},spaceRow:6},contentStyle:{shape:{fill:"black",size:8,symbolType:"circle",spacing:6},key:{fill:"#4E5969",fontFamily:AA,fontSize:12,lineHeight:18,textAlign:"left",textBaseline:"middle",spacing:26},value:{fill:"#4E5969",fontFamily:AA,fontSize:12,lineHeight:18,textAlign:"right",textBaseline:"middle",spacing:0},spaceRow:6},padding:10,positionX:"right",positionY:"bottom",offsetX:10,offsetY:10,parentBounds:new ms().setValue(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),autoCalculatePosition:!0,autoMeasure:!0,pickable:!1,childrenPickable:!1,zIndex:500},cXt=["pointerX","pointerY","offsetX","offsetY","positionX","positionY","parentBounds"];function dXt(){Vs(),yg(),gd(),_g(),q0()}dXt();let KMe=class zc extends ko{constructor(e,t){super(t!=null&&t.skipDefault?e:We({},zc.defaultAttributes,e),t),this.name="tooltip"}render(){var e;const{visible:t,content:i,panel:r,keyWidth:s,valueWidth:a,hasContentShape:o,autoCalculatePosition:l,autoMeasure:u,align:c}=this.attribute;if(!t)return void this.hideAll();u&&zc.measureTooltip(this.attribute),l&&zc.calculateTooltipPosition(this.attribute);const d=gl(this.attribute.padding);this._tooltipPanel=this.createOrUpdateChild("tooltip-background",Object.assign({visible:!0},r),"rect"),this._tooltipTitleContainer=this.createOrUpdateChild("tooltip-title",{visible:!0,x:d[3],y:d[0]},"group");const h=zc.getTitleAttr(this.attribute);this._tooltipTitleSymbol=this._tooltipTitleContainer.createOrUpdateChild("tooltip-title-shape",We({symbolType:"circle"},h.shape,{visible:Rs(h)&&Rs(h.shape)}),"symbol"),typeof h.value.text!="object"||h.value.text===null||h.value.text.type!=="rich"&&h.value.text.type!=="html"?h.value.multiLine?this._tooltipTitle=this._tooltipTitleContainer.createOrUpdateChild("tooltip-title-value",Object.assign({visible:Rs(h)&&Rs(h.value)},sx(h.value)),"richtext"):this._tooltipTitle=this._tooltipTitleContainer.createOrUpdateChild("tooltip-title-value",Object.assign({text:(e=h.value.text)!==null&&e!==void 0?e:"",visible:Rs(h)&&Rs(h.value)},h.value),"text"):h.value.text.type==="rich"?this._tooltipTitle=this._tooltipTitleContainer.createOrUpdateChild("tooltip-title-value",Object.assign({visible:Rs(h)&&Rs(h.value)},sx(h.value)),"richtext"):h.value.text.type==="html"&&(this._tooltipTitle=this._tooltipTitleContainer.createOrUpdateChild("tooltip-title-value",Object.assign({html:Object.assign(Object.assign({dom:h.value.text.text},XB),h.value),visible:Rs(h)&&Rs(h.value),width:h.value.width,height:h.value.height,wordBreak:h.value.wordBreak,textAlign:h.value.textAlign,textBaseline:h.value.textBaseline,singleLine:!1,textConfig:[]},h.value),"richtext"));const f=Rs(h.shape)?h.shape.size+h.shape.spacing:0,{textAlign:p,textBaseline:g}=h.value,m=r.width-d[3]-d[0]-f;p==="center"?this._tooltipTitle.setAttribute("x",f+m/2):p==="right"||p==="end"?this._tooltipTitle.setAttribute("x",f+m):this._tooltipTitle.setAttribute("x",f),g==="bottom"?this._tooltipTitle.setAttribute("y",h.height):g==="middle"?this._tooltipTitle.setAttribute("y",h.height/2):this._tooltipTitle.setAttribute("y",0);const v=Rs(h)?h.height+h.spaceRow:0;if(this._tooltipContent=this.createOrUpdateChild("tooltip-content",{visible:!0},"group"),this._tooltipContent.removeAllChild(!0),i&&i.length){this._tooltipContent.setAttribute("x",d[3]),this._tooltipContent.setAttribute("y",d[0]+v);let _=0;i.forEach((y,x)=>{const w=zc.getContentAttr(this.attribute,x);if(!Rs(w))return;const T=`tooltip-content-${x}`,E=this._tooltipContent.createOrUpdateChild(T,{visible:!0,x:0,y:_},"group"),A=w.shape.size+w.shape.spacing;let k=c==="right"?(o?A:0)+(Rs(w.key)?s+w.key.spacing:0)+(Rs(w.value)?a:0):0;this._createShape(c==="right"?k-w.shape.size/2:k+w.shape.size/2,w,E,T),o&&(c==="right"?k-=A:k+=A);const P=this._createKey(w,E,T);P&&(upe(c,P,w.key.textAlign,k,s),P.setAttribute("y",0),c==="right"?k-=s+w.key.spacing:k+=s+w.key.spacing);const I=this._createValue(w,E,T);if(I){let D="right";Y(w.value.textAlign)?D=w.value.textAlign:Rs(w.key)||c==="right"||(D="left"),I.setAttribute("textAlign",D),upe(c,I,D,k,a),I.setAttribute("y",0)}_+=w.height+w.spaceRow})}}_createShape(e,t,i,r){var s;if(Rs(t.shape))return i.createOrUpdateChild(`${r}-shape`,Object.assign({visible:!0,x:e,y:t.shape.size/2+(((s=sz(t.key.lineHeight,t.key.fontSize))!==null&&s!==void 0?s:t.key.fontSize)-t.shape.size)/2},t.shape),"symbol")}_createKey(e,t,i){var r;if(Rs(e.key)){let s;return s=e.key.multiLine?t.createOrUpdateChild(`${i}-key`,Object.assign(Object.assign({visible:!0},sx(e.key)),{textBaseline:"top"}),"richtext"):typeof e.key.text!="object"||e.key.text===null||e.key.text.type!=="rich"&&e.key.text.type!=="html"?t.createOrUpdateChild(`${i}-key`,Object.assign(Object.assign({visible:!0,text:(r=e.key.text)!==null&&r!==void 0?r:""},e.key),{textBaseline:"top"}),"text"):e.key.text.type==="rich"?t.createOrUpdateChild(`${i}-value`,Object.assign(Object.assign({visible:!0},sx(e.key)),{textBaseline:"top"}),"richtext"):t.createOrUpdateChild(`${i}-value`,{html:Object.assign(Object.assign({dom:e.key.text.text},XB),e.key)},"richtext"),s}}_createValue(e,t,i){var r;if(Rs(e.value)){let s;return s=e.value.multiLine?t.createOrUpdateChild(`${i}-value`,Object.assign(Object.assign({visible:!0},sx(e.value)),{textBaseline:"top"}),"richtext"):typeof e.value.text!="object"||e.value.text===null||e.value.text.type!=="rich"&&e.value.text.type!=="html"?t.createOrUpdateChild(`${i}-value`,Object.assign(Object.assign({visible:!0,text:(r=e.value.text)!==null&&r!==void 0?r:""},e.value),{textBaseline:"top"}),"text"):e.value.text.type==="rich"?t.createOrUpdateChild(`${i}-value`,Object.assign(Object.assign({visible:!0},sx(e.value)),{textBaseline:"top"}),"richtext"):t.createOrUpdateChild(`${i}-value`,{html:Object.assign({dom:e.value.text.text,container:"",width:30,height:30,style:{}},e.value)},"richtext"),s}}setAttributes(e,t){const i=Object.keys(e);this.attribute.autoCalculatePosition&&i.every(r=>cXt.includes(r))?(this._mergeAttributes(e,i),J(this.attribute.panel.width)&&this.attribute.autoMeasure&&zc.measureTooltip(this.attribute),zc.calculateTooltipPosition(this.attribute),super.setAttributes({x:this.attribute.x,y:this.attribute.y},t)):super.setAttributes(e,t)}static calculateTooltipPosition(e){const{width:t=0,height:i=0}=e.panel,{offsetX:r,offsetY:s,pointerX:a,pointerY:o,positionX:l,positionY:u,parentBounds:c}=e;let d=a,h=o;return l==="left"?d-=t+r:l==="center"?d-=t/2:d+=r,u==="top"?h-=i+s:u==="middle"?h-=i/2:h+=s,d+t>c.x2&&(d-=t+r),h+i>c.y2&&(h-=i+s),d<c.x1&&(d=c.x1),h<c.y1&&(h=c.y1),e.x=d,e.y=h,e}static measureTooltip(e){const{content:t,contentStyle:i}=e,r=gl(e.padding),s=zc.getTitleAttr(e);let a=0,o=r[0]+r[2],l=0;const{value:u,shape:c}=s,{visible:d=!1,symbolType:h=""}=c??{};if(Y(u)&&typeof s.value.text!="object"){const{width:f,height:p}=Ww(u).quickMeasure(u.text);a=f,l=p}if(d&&HF[h]&&(a+=c.size+c.spacing,l=Math.max(c.size,l)),e.title&&(e.title.width=a,e.title.height=l),Rs(s)&&(o+=l+s.spaceRow),t&&t.length){const f=[];if(t.forEach((p,g)=>{const m=zc.getContentAttr(e,g);(p.key||p.value)&&Rs(m)&&f.push([p,m])}),f.length){let p=!1;const g=[],m=[],v=[];f.forEach(([w,T],E)=>{var A;const{key:k,value:P,shape:I,spaceRow:D}=T,L=Rs(I),B=(A=I==null?void 0:I.symbolType)!==null&&A!==void 0?A:"",F=Ww(k),$=Ww(P);let z=0;if(Rs(k)){const{width:N,height:V}=F.quickMeasure(k.text);m.push(N),z=Math.max(z,V)}if(Rs(P)){const{width:N,height:V}=$.quickMeasure(P.text);v.push(N),z=Math.max(z,V)}L&&HF[B]&&(p=!0,g.push(I.size),z=Math.max(I.size,z)),w.height=z,o+=z,E<f.length-1&&(o+=D??i.spaceRow)});const _=g.length?Math.max(...g):0,y=m.length?Math.max(...m):0,x=v.length?Math.max(...v):0;a=Math.max(y+x+i.key.spacing+i.value.spacing+(p?_+i.shape.spacing:0),a),t.forEach(w=>{w.width=a}),e.hasContentShape=p,e.keyWidth=y,e.valueWidth=x}}return e.panel.width=a+r[1]+r[3],e.panel.height=o,e}static getTitleAttr(e){return ege({},zc.defaultAttributes.titleStyle,zc.defaultAttributes.title,e.titleStyle,e.title)}static getContentAttr(e,t){return ege({},zc.defaultAttributes.contentStyle,e.contentStyle,e.content[t])}};KMe.defaultAttributes=uXt;const s$=zs;function hXt(n,e){let t=0,i=2*Math.PI;const r=Y(n),s=Y(e);for(r||s?s?r?(t=n,i=e):(t=e-2*Math.PI,i=e):(t=n,i=n+2*Math.PI):(t=0,i=2*Math.PI);i<=t;)i+=2*Math.PI;for(;t>2*Math.PI;)t-=2*Math.PI,i-=2*Math.PI;for(;i<0;)t+=2*Math.PI,i+=2*Math.PI;return{startAngle:t,endAngle:i}}function fXt(n,e,t){return n.x1>e||n.x2<e||n.y1>t||n.y2<t}function XMe(n,e){const t=[];return n.forEach(i=>{const r=+i[e];Me(r)&&t.push(r)}),t.length===0?null:Sa(t)}function ZZ(n,e){const t=[];return n.forEach(i=>{const r=+i[e];Me(r)&&t.push(r)}),t.length===0?null:js(t)}function QZ(n,e){return n.reduce((t,i)=>{const r=e?+i[e]:+i;return Me(r)&&(t+=r),t},0)}function JZ(n,e){let t=0,i=0;return n.forEach(r=>{const s=e?+r[e]:+r;Me(s)&&(t+=s,i++)}),t/i}function qMe(n,e){const t=JZ(n,e);return n.length<=1?0:n.reduce((r,s)=>r+(e?+s[e]:+s-t)**2,0)/(n.length-1)}function pXt(n,e){return Math.sqrt(qMe(n,e))}function gXt(n,e){return DNt(n.map(t=>t[e]))}function mXt(n,e,t){const{predict:i}=ZNt(n,l=>l[e],l=>l[t]),r=XMe(n,e),s=ZZ(n,e),a=i(r),o=i(s);return[{[e]:r,[t]:a},{[e]:s,[t]:o}]}function vXt(n){let e="center",t="middle";return e=(n=$y(n))>=Math.PI*(7/6)&&n<=Math.PI*(11/6)?"right":n>=Math.PI*(1/6)&&n<=Math.PI*(5/6)?"left":"center",t=n>=Math.PI*(5/3)||n<=Math.PI*(1/3)?"bottom":n>=Math.PI*(2/3)&&n<=Math.PI*(4/3)?"top":"middle",{align:e,baseline:t}}function tge(n,e){const t=a$(n),i=a$(e),r=Math.asin((n.x*e.y-e.x*n.y)/t/i),s=Math.acos((n.x*e.x+n.y*e.y)/t/i);return r<0?-s:s}function a$(n,e={x:0,y:0}){return Fa.distancePP(n,e)}function yXt(n,e=2){const t=n.reduce((u,c)=>u+(isNaN(c)?0:c),0);if(t===0)return 0;const i=Math.pow(10,e),r=n.map(u=>(isNaN(u)?0:u)/t*i*100),s=100*i,a=r.map(u=>Math.floor(u));let o=a.reduce((u,c)=>u+c,0);const l=r.map((u,c)=>u-a[c]);for(;o<s;){let u=Number.NEGATIVE_INFINITY,c=null;for(let d=0;d<l.length;d++)l[d]>u&&(u=l[d],c=d);++a[c],l[c]=0,++o}return a.map(u=>u/i)}function nge(n){return Me(n.x)&&Me(n.y)}function ts(n,e,t){let i=!1;if(e&&Re(e)){for(const r of n)for(const s of r.getSeries(t))if(i=!!e.call(null,s),i)return i}return i}function ZMe(n,e){const t=[];for(const i of n)for(const r of i.getSeries(e))t.push(r);return t}const eQ=(n,e)=>{for(let t=0;t<n.length;t++){const i=n[t].getSeries();for(let r=0;r<i.length;r++){const s=i[r];if(e&&s&&s.coordinate===e||!e&&s)return s}}return null};function Z2(n){return function(e){let t;return t=Oe(n)?n.reduce((i,r)=>i==null?void 0:i[r],e):e==null?void 0:e[n],t}}function QMe(n,e=!1){if(n===null||typeof n!="object")return n;for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){if(n[t]===void 0){delete n[t];continue}e&&QMe(n[t],e)}}var Ye;(function(n){n.area="area",n.line="line",n.bar="bar",n.rangeColumn="rangeColumn",n.rangeArea="rangeArea",n.dot="dot",n.geo="geo",n.link="link",n.map="map",n.pie="pie",n.radar="radar",n.rose="rose",n.scatter="scatter",n.circularProgress="circularProgress",n.wordCloud="wordCloud",n.funnel="funnel",n.linearProgress="linearProgress",n.boxPlot="boxPlot",n.sankey="sankey",n.gaugePointer="gaugePointer",n.gauge="gauge",n.treemap="treemap",n.sunburst="sunburst",n.circlePacking="circlePacking",n.waterfall="waterfall",n.heatmap="heatmap",n.correlation="correlation",n.liquid="liquid",n.venn="venn",n.mosaic="mosaic",n.pictogram="pictogram"})(Ye||(Ye={}));var ige;(function(n){n.label="label",n.point="point",n.line="line",n.area="area",n.bar="bar",n.boxPlot="boxPlot",n.outlier="outlier",n.circlePacking="circlePacking",n.group="group",n.gridBackground="gridBackground",n.grid="grid",n.dot="dot",n.title="title",n.subTitle="subTitle",n.symbol="symbol",n.funnel="funnel",n.transform="transform",n.transformLabel="transformLabel",n.outerLabel="outerLabel",n.outerLabelLine="outerLabelLine",n.pin="pin",n.pinBackground="pinBackground",n.pointer="pointer",n.segment="segment",n.track="track",n.cell="cell",n.cellBackground="cellBackground",n.link="link",n.arrow="arrow",n.pie="pie",n.labelLine="labelLine",n.progress="progress",n.minLabel="minLabel",n.maxLabel="maxLabel",n.rose="rose",n.node="node",n.sunburst="sunburst",n.nonLeaf="nonLeaf",n.leaf="leaf",n.nonLeafLabel="nonLeafLabel",n.leaderLine="leaderLine",n.stackLabel="stackLabel",n.word="word",n.fillingWord="fillingWord",n.wordMask="wordMask",n.nodePoint="nodePoint",n.ripplePoint="ripplePoint",n.centerPoint="centerPoint",n.centerLabel="centerLabel",n.barBackground="barBackground",n.lineLabel="lineLabel",n.areaLabel="areaLabel",n.liquidGroup="liquidGroup",n.liquid="liquid",n.liquidBackground="liquidBackground",n.liquidOutline="liquidOutline",n.circle="circle",n.overlap="overlap",n.overlapLabel="overlapLabel"})(ige||(ige={}));function JMe(n){var e,t;const{type:i}=n;return i===Ye.sankey?(e=n.direction)!==null&&e!==void 0?e:"horizontal":(t=n.direction)!==null&&t!==void 0?t:"vertical"}const _Xt={primaryFontColor:"titleFontColor",tertiaryFontColor:"labelFontColor",axisLabelFontColor:"axisFontColor",axisMarkerFontColor:"labelReverseFontColor",dataZoomHandleStrokeColor:"dataZoomHandlerStrokeColor",sliderHandleColor:"dataZoomHandlerFillColor",sliderRailColor:"dataZoomBackgroundColor",sliderTrackColor:"dataZoomSelectedColor",playerControllerColor:"dataZoomSelectedColor",popupBackgroundColor:"tooltipBackgroundColor",hoverBackgroundColor:"axisGridColor"},bXt={titleFontColor:"primaryFontColor",labelFontColor:"tertiaryFontColor",axisFontColor:"axisLabelFontColor",labelReverseFontColor:"axisMarkerFontColor",dataZoomHandlerStrokeColor:"dataZoomHandleStrokeColor",dataZoomHandlerFillColor:"sliderHandleColor",dataZoomBackgroundColor:"sliderRailColor",dataZoomSelectedColor:"sliderTrackColor",tooltipBackgroundColor:"popupBackgroundColor"};function SXt(n,e){const t=_Xt[e];if(t&&n[t])return n[t];if(n[e])return n[e];const i=bXt[e];return i?n[i]:void 0}function HO(n,e){var t;if(!n)return[];const i=tIe(n,e);if(!i||Oe(i))return(t=i)!==null&&t!==void 0?t:[];if(pn(i)){const{dataScheme:r}=i;return r?tQ(r)?r.map(s=>Object.assign(Object.assign({},s),{scheme:s.scheme.map(a=>o$(a)?E7(n,a,e):a).filter(Y)})):r.map(s=>o$(s)?E7(n,s,e):s).filter(Y):[]}return[]}function T7(n,e){var t,i;return tQ(n)?(i=(t=n.find(r=>Y(r.isAvailable)?Re(r.isAvailable)?r.isAvailable(e):!!r.isAvailable:!Y(r.maxDomainLength)||(e==null?void 0:e.length)<=r.maxDomainLength))===null||t===void 0?void 0:t.scheme)!==null&&i!==void 0?i:n[n.length-1].scheme:n}function E7(n,e,t){var i;const r=tIe(n,t);if(!r)return;let s;const{palette:a}=r;if(pn(a)&&(s=(i=SXt(a,e.key))!==null&&i!==void 0?i:e.default),!s)return;if(J(e.a)&&J(e.l)||!Jt(s))return s;let o=new ga(s);if(Y(e.l)){const{r:l,g:u,b:c}=o.color,{h:d,s:h}=Gj(l,u,c),f=bF(d,h,e.l),p=new ga(`rgb(${f.r}, ${f.g}, ${f.b})`);p.setOpacity(o.color.opacity),o=p}return Y(e.a)&&o.setOpacity(e.a),o.toRGBA()}const eIe=(n,e)=>{if(e&&o$(n)){const t=E7(e,n);if(t)return t}return n};function o$(n){return n&&n.type==="palette"&&!!n.key}function tQ(n){return!(!Oe(n)||n.length===0)&&n.every(e=>Y(e.scheme))}function xXt(n){return Oe(n)?{dataScheme:n}:n}function tIe(n,e){var t,i;const{type:r}=e??{};let s;if(!e||J(r))s=n==null?void 0:n.default;else{const a=JMe(e);s=(i=(t=n==null?void 0:n[`${r}_${a}`])!==null&&t!==void 0?t:n==null?void 0:n[r])!==null&&i!==void 0?i:n==null?void 0:n.default}return s}class RM extends x0{range(e){return e?(this._range=e,this._resetRange(),this):super.range()}domain(e){return e?(super.domain(e),this._resetRange(),this):super.domain()}_resetRange(){if(!tQ(this._range))return void super.range(this._range);const e=T7(this._range,this._domain);super.range(e)}}const wXt={linear:Ou,band:Q0,point:_Kt,ordinal:x0,threshold:WZ,colorOrdinal:RM};function A7(n){const e=wXt[n];return e?new e:null}function CXt(n,e){if("scale"in n&&n.scale)return Jt(n.scale)&&(e!=null&&e.globalScale)?e.globalScale.registerMarkAttributeScale(n,e.seriesId):n.scale;const t=A7(n.type);return t&&TXt(t,n),t}function TXt(n,e){n&&e&&(e.domain&&n.domain(e.domain),e.range&&n.range(e.range),e.specified&&n.specified&&n.specified(e.specified),e.clamp&&n.clamp&&n.clamp(e.clamp))}function xi(n,e,t){if(!e)return n;const i=e.range(),r=t&&e._calculateWholeRange?e._calculateWholeRange(i):e.range(),s=Math.min(r[0],r[r.length-1]),a=Math.max(r[0],r[r.length-1]);return Math.min(Math.max(s,n),a)}function nQ(n,e,t){if(!e)return!0;e.range();const i=e.range().map(a=>e.invert(a)),r=Math.min(i[0],i[i.length-1]),s=Math.max(i[0],i[i.length-1]);return Array.isArray(n)?n.every(a=>a>=r&&a<=s):n>=r&&n<=s}function rge(n){return Y(n==null?void 0:n.field)&&Y(n==null?void 0:n.scale)}function iQ(n){switch(n){case"left":case"right":case"top":case"bottom":return!0;default:return!1}}function Jc(n){return!!Jt(n)&&!!n.endsWith("%")&&LC(n.substring(0,n.length-1))}function EXt(n){return!!pn(n)&&("percent"in n||"offset"in n)}function Fs(n,e,t,i=0){var r,s;return st(n)?n:Jc(n)?Number(n.substring(0,n.length-1))*e/100:Re(n)?n(t):pn(n)?e*((r=n.percent)!==null&&r!==void 0?r:0)+((s=n.offset)!==null&&s!==void 0?s:0):i}function nIe(n,e,t){var i,r,s,a;const o={top:0,bottom:0,left:0,right:0};return Object.values(n).every(l=>st(l))?(o.top=(i=n.top)!==null&&i!==void 0?i:0,o.right=(r=n.right)!==null&&r!==void 0?r:0,o.bottom=(s=n.bottom)!==null&&s!==void 0?s:0,o.left=(a=n.left)!==null&&a!==void 0?a:0,o):([{orients:["left","right"],size:e.width},{orients:["top","bottom"],size:e.height}].forEach(l=>{l.orients.forEach(u=>{o[u]=Fs(n[u],l.size,t)})}),o)}function AXt(n,e){return n?{width:Math.ceil(Math.min(n.x2-n.x1,e.width)),height:Math.ceil(Math.min(n.y2-n.y1,e.height))}:{width:0,height:0}}function HC(n){let e={};return Oe(n)?(J(n[0])||(e.top=e.left=e.bottom=e.right=n[0]),J(n[1])||(e.left=e.right=n[1]),J(n[2])||(e.bottom=n[2]),J(n[3])||(e.left=n[3]),e):st(n)||Jc(n)||Re(n)||EXt(n)?(e.top=e.left=e.bottom=e.right=n,e):(pn(n)&&(e=Object.assign({},n)),e)}function sge(n,e,t){return t?{x:n.x+e.x,y:n.y+e.y}:n}const mo=(n,e)=>{const t=Number(n),i=n.toString();return isNaN(t)&&i[i.length-1]==="%"?e*(Number(i.slice(0,i.length-1))/100):t},iIe=[{maxDomainLength:10,scheme:["#1664FF","#1AC6FF","#FF8A00","#3CC780","#7442D4","#FFC400","#304D77","#B48DEB","#009488","#FF7DDA"]},{scheme:["#1664FF","#B2CFFF","#1AC6FF","#94EFFF","#FF8A00","#FFCE7A","#3CC780","#B9EDCD","#7442D4","#DDC5FA","#FFC400","#FAE878","#304D77","#8B959E","#B48DEB","#EFE3FF","#009488","#59BAA8","#FF7DDA","#FFCFEE"]}],kXt={default:{dataScheme:iIe,palette:{backgroundColor:"#ffffff",borderColor:"#e3e5e8",shadowColor:"rgba(33,37,44,0.1)",hoverBackgroundColor:"#f1f2f5",sliderRailColor:"#f1f3f4",sliderHandleColor:"#ffffff",sliderTrackColor:"#0040ff",popupBackgroundColor:"#ffffff",primaryFontColor:"#21252c",secondaryFontColor:"#606773",tertiaryFontColor:"#89909d",axisLabelFontColor:"#89909d",disableFontColor:"#bcc1cb",axisMarkerFontColor:"#ffffff",axisGridColor:"#f1f2f5",axisDomainColor:"#d9dde4",dataZoomHandleStrokeColor:"#aeb5be",dataZoomChartColor:"#c9ced8",playerControllerColor:"#0040ff",scrollBarSliderColor:"rgba(0,0,0,0.3)",axisMarkerBackgroundColor:"#21252c",markLabelBackgroundColor:"#f1f2f5",markLineStrokeColor:"#606773",dangerColor:"#e33232",warningColor:"#ffc528",successColor:"#07a35a",infoColor:"#3073f2",discreteLegendPagerTextColor:"rgb(51, 51, 51)",discreteLegendPagerHandlerColor:"rgb(47, 69, 84)",discreteLegendPagerHandlerDisableColor:"rgb(170, 170, 170)",emptyCircleColor:"#e3e5e8",linearProgressTrackColor:"#E7EBED"}}},OXt={text:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1}}},PXt={label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1,lineJoin:"bevel"}},area:{style:{fillOpacity:.2}},line:{style:{lineWidth:2,lineCap:"round",lineJoin:"round"}},point:{style:{size:8,stroke:{type:"palette",key:"backgroundColor"},lineWidth:1,fillOpacity:1}},word:{style:{fontWeight:null,fontSize:null}},fillingWord:{style:{fontWeight:null,fontSize:null}},barBackground:{visible:!1,style:{fill:{type:"palette",key:"primaryFontColor",a:.06},stroke:"transparent"}}};function MXt(n,e){return n&&e.key in n?n[e.key]:e.default}function IXt(n){return n&&n.type==="token"&&!!n.key}const VO={fontFamily:"PingFang SC,Helvetica Neue,Microsoft Yahei,system-ui,'-apple-system',segoe ui,Roboto,Helvetica,Arial,sans-serif,apple color emoji,segoe ui emoji,segoe ui symbol",fontSize:14,l1FontSize:32,l1LineHeight:"150%",l2FontSize:20,l2LineHeight:"140%",l3FontSize:16,l3LineHeight:"150%",l4FontSize:14,l4LineHeight:"150%",l5FontSize:12,l5LineHeight:"130%",l6FontSize:10,l6LineHeight:"120%"},RXt={visible:!0,position:"auto",padding:8,titleStyle:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"bold",fill:{type:"palette",key:"primaryFontColor"}},contentStyle:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"primaryFontColor"}},panel:{visible:!0,fill:{type:"palette",key:"popupBackgroundColor"},cornerRadius:3,lineWidth:0,shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"},size:0,space:12}},k7={name:"light",background:{type:"palette",key:"backgroundColor"},padding:20,fontFamily:{type:"token",key:"fontFamily"},colorScheme:kXt,token:VO,component:{poptip:RXt},mark:OXt,markByName:PXt,animationThreshold:2e3},DXt={default:{dataScheme:iIe,palette:{backgroundColor:"#202226",borderColor:"#404349",shadowColor:"rgba(0,0,0,0.1)",hoverBackgroundColor:"#404349",sliderRailColor:"#404349",sliderHandleColor:"#202226",sliderTrackColor:"#4284FF",popupBackgroundColor:"#404349",primaryFontColor:"#fdfdfd",secondaryFontColor:"#bbbdc3",tertiaryFontColor:"#888c93",axisLabelFontColor:"#888c93",disableFontColor:"#55595f",axisMarkerFontColor:"#202226",axisGridColor:"#404349",axisDomainColor:"#4b4f54",dataZoomHandleStrokeColor:"#bbbdc3",dataZoomChartColor:"#55595F",playerControllerColor:"#4284FF",scrollBarSliderColor:"rgba(255,255,255,0.3)",axisMarkerBackgroundColor:"#fdfdfd",markLabelBackgroundColor:"#404349",markLineStrokeColor:"#bbbdc3",dangerColor:"#eb4b4b",warningColor:"#f0bd30",successColor:"#14b267",infoColor:"#4284ff",discreteLegendPagerTextColor:"#BBBDC3",discreteLegendPagerHandlerColor:"#BBBDC3",discreteLegendPagerHandlerDisableColor:"#55595F",emptyCircleColor:"#bbbdc3",linearProgressTrackColor:"#404349"}}},age={name:"dark",colorScheme:DXt,component:{dataZoom:{selectedBackground:{style:{fillOpacity:.4,outerBorder:{strokeOpacity:.4}}}}}},O7=(n,e,t)=>{if(J(e))return n;const i=e[0];return J(i)?n:e.length===1?(n[i]=t,n):(J(n[i])&&(typeof e[1]=="number"?n[i]=[]:n[i]={}),O7(n[i],e.slice(1),t))},LXt=(n,e,t)=>{if(!J(e))return Hn(n,e,t)};function qt(n,...e){let t=-1;const i=e.length;for(;++t<i;){const r=e[t];Wq(n,r,!0,!0)}return n}function FXt(n,e,t,i){Object.keys(n).forEach(r=>{if(pn(e))e.type===r&&(Oe(n[r])?n[r].length>=e.index&&(n[r][e.index]=i?qt({},n[r][e.index],t):t):n[r]=i?qt({},n[r],t):t);else if(Oe(n[r])){const s=n[r].findIndex(a=>a.id===e);s>=0&&(n[r][s]=i?qt({},n[r][s],t):t)}else n.id===e&&(n[r]=i?qt({},n[r],t):t)})}class ne{static registerChart(e,t){ne._charts[e]=t}static registerSeries(e,t){ne._series[e]=t}static registerComponent(e,t,i,r){ne._components[e]={cmp:t,alwaysCheck:i,createOrder:r??0}}static registerGraphicComponent(e,t){ne._graphicComponents[e]=t}static createGraphicComponent(e,t,i){const r=ne._graphicComponents[e];return r?r(t,i):null}static registerMark(e,t){ne._marks[e]=t}static registerRegion(e,t){ne._regions[e]=t}static registerTransform(e,t){ne.transforms[e]=t}static registerGrammarTransform(e,t){ne._grammarTransforms[e]=t}static getGrammarTransform(e){return ne._grammarTransforms[e]}static registerLayout(e,t){ne._layout[e]=t}static registerAnimation(e,t){ne._animations[e]=t}static registerImplement(e,t){ne._implements[e]=t}static registerChartPlugin(e,t){ne._chartPlugin[e]=t}static registerVChartPlugin(e,t){ne._vChartPlugin[e]=t}static registerComponentPlugin(e,t){ne._componentPlugin[e]=t}static createChart(e,t,i){return ne._charts[e]?new ne._charts[e](t,i):null}static getChart(e){return ne._charts[e]}static createChartSpecTransformer(e,t){if(!ne._charts[e])return null;const i=ne._charts[e];return new i.transformerConstructor(Object.assign({seriesType:i.seriesType},t))}static createRegion(e,t,i){return ne._regions[e]?new ne._regions[e](t,i):null}static createRegionSpecTransformer(e,t){return ne._regions[e]?new ne._regions[e].transformerConstructor(t):null}static createSeries(e,t,i){return ne._series[e]?new ne._series[e](t,i):null}static createSeriesSpecTransformer(e,t){return ne._series[e]?new ne._series[e].transformerConstructor(t):null}static createMark(e,t,i){if(!ne._marks[e])return null;const r=new ne._marks[e](t,i);return r.type==="group"&&r.setMarkConfig({interactive:!1}),r}static getComponents(){return Object.values(ne._components)}static getComponentInKey(e){return ne._components[e].cmp}static getLayout(){return Object.values(ne._layout)}static getLayoutInKey(e){return ne._layout[e]}static getSeries(){return Object.values(ne._series)}static getSeriesInType(e){return ne._series[e]}static getRegionInType(e){return ne._regions[e]}static getAnimationInKey(e){return ne._animations[e]}static getImplementInKey(e){return ne._implements[e]}static getSeriesMarkMap(e){return ne._series[e]?ne._series[e].mark:{}}static getSeriesBuiltInTheme(e){for(const t in ne._series){const i=ne._series[t];if(i&&i.builtInTheme&&i.builtInTheme[e])return i.builtInTheme[e]}return null}static getComponentBuiltInTheme(e){for(const t in ne._components){const i=ne._components[t];if(i&&i.cmp&&i.cmp.builtInTheme&&i.cmp.builtInTheme[e])return i.cmp.builtInTheme[e]}return null}static getChartPlugins(){return Object.values(ne._chartPlugin)}static getVChartPlugins(){return Object.values(ne._vChartPlugin)}static getComponentPlugins(){return Object.values(ne._componentPlugin)}static getComponentPluginInType(e){return ne._componentPlugin[e]}static registerFormatter(e){this._formatter=e}static getFormatter(){return this._formatter}static createInteractionTrigger(e,t){const i=ne._interactionTriggers[e];return i?new i(t):null}static hasInteractionTrigger(e){return!!ne._interactionTriggers[e]}static getComposedEvent(e){return ne._composedEventMap[e]}}ne._charts={},ne._series={},ne._components={},ne._graphicComponents={},ne._marks={},ne._regions={},ne._animations={},ne._implements={},ne._chartPlugin={},ne._vChartPlugin={},ne._componentPlugin={},ne.transforms={fields:Nke,filter:Ejt,fold:Fzt},ne.dataParser={csv:Xzt,dsv:Kzt,tsv:qzt},ne._layout={},ne._grammarTransforms={},ne._stageEventPlugins={},ne.registerStageEventPlugin=(n,e)=>{ne._stageEventPlugins[n]=e},ne.getStageEventPlugin=n=>ne._stageEventPlugins[n],ne._interactionTriggers={},ne.registerInteractionTrigger=(n,e)=>{ne._interactionTriggers[n]=e},ne._composedEventMap={},ne.registerComposedEvent=(n,e)=>{ne._composedEventMap[n]=e},ne._tooltipProcessors={},ne.registerTooltipProcessor=(n,e)=>{ne._tooltipProcessors[n]=e},ne.createTooltipProcessor=(n,e)=>{const t=ne._tooltipProcessors[n];return t?new t(e):null};function Q2(n,...e){return qt(oge(n),...e.map(oge))}function oge(n){var e;if(!n)return n;const t=BXt(n.colorScheme);return Object.assign({},n,{colorScheme:t,token:(e=n.token)!==null&&e!==void 0?e:{},series:Object.assign({},n.series)})}function BXt(n){return n&&(n=Object.keys(n).reduce((e,t)=>{const i=n[t];return e[t]=xXt(i),e},{})),n}function $Xt(n,e,t){const i=ne.getSeriesMarkMap(e);if(!i)return n;const r={};return Object.values(i).forEach(({type:s,name:a})=>{r[a]=qt({},t("mark",Ae(s)[0]),t("markByName",a),n==null?void 0:n[a])}),Object.assign(Object.assign({},n),r)}const NXt=n=>{const e={label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}}};return e.transform={style:{fill:{type:"palette",key:"axisGridColor"}}},e},jXt=NXt(),P7={[k7.name]:k7},DM=k7.name,VC=new Map(Object.keys(P7).map(n=>[n,P7[n]])),zXt=new Map,l$=new Map(Object.keys(P7).map(n=>[n,n===DM])),rQ=(n,e)=>{if(!n)return;const t=WXt(e);VC.set(n,t),l$.set(n,!0)},rIe=(n=DM)=>(l$.has(n)&&!l$.get(n)&&rQ(n,VC.get(n)),VC.get(n)),HXt=n=>VC.delete(n)&&zXt.delete(n)&&l$.delete(n),VXt=n=>!!Jt(n)&&VC.has(n),WXt=n=>{var e;const t=(e=n.type)!==null&&e!==void 0?e:DM,i=rIe(t);return Q2({},i,n)};class nh{static registerInstance(e){nh.instances.set(e.id,e)}static unregisterInstance(e){nh.instances.delete(e.id)}static getInstance(e){return nh.instances.get(e)}static instanceExist(e){return nh.instances.has(e)}static forEach(e,t=[],i){const r=Ae(t);return nh.instances.forEach((s,a,o)=>{r.includes(a)||e(s,a,o)},i)}}nh.instances=new Map;class rc{static registerTheme(e,t){rQ(e,t)}static getTheme(e,t=!1){return rIe(e)}static removeTheme(e){return HXt(e)}static themeExist(e){return VXt(e)}static getDefaultTheme(){return rc.themes.get(DM)}static setCurrentTheme(e){rc.themeExist(e)&&(rc._currentThemeName=e,nh.forEach(t=>t==null?void 0:t.setCurrentTheme(e)))}static getCurrentTheme(e=!1){return rc.getTheme(rc._currentThemeName,e)}static getCurrentThemeName(){return rc._currentThemeName}}rc.themes=VC,rc._currentThemeName=DM;function Mv(n){return Jt(n)?rc.themeExist(n)?rc.getTheme(n):{}:pn(n)?n:{}}const UXt=["animationThreshold","colorScheme","name","padding"];function sIe(n,e,t){if(!n)return n;e||(e=n.colorScheme),t||(t=n.token);const i={};return Object.keys(n).forEach(r=>{const s=n[r];UXt.includes(r)?i[r]=s:gh(s)?o$(s)?i[r]=eIe(s,e):IXt(s)?i[r]=MXt(t,s):i[r]=sIe(s,e,t):i[r]=s}),i}function M7(n,e={data:t=>t}){if(!n)return n;if(n.constructor===Object){const t={};for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e[i]){t[i]=e[i](n[i]);continue}t[i]=M7(n[i],e)}return t}return Oe(n)?n.map(t=>M7(t,e)):n}function I7(n,e){if(!n)return n;if(gh(n)){const t={};for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(Jt(n[i])&&e.getFunction(n[i])){t[i]=e.getFunction(n[i]);continue}t[i]=I7(n[i],e)}return t}return Oe(n)?n.map(t=>I7(t,e)):n}const GXt=(n,e,t)=>Ww(n,e,t,{fontFamily:VO.fontFamily,fontSize:VO.fontSize}),YXt=(n,e,t,i)=>GXt(e,t,i).measure(n),Xt="__VCHART",iw=500,rw=500,Go=`${Xt}_DEFAULT_DATA_INDEX`,yc=`${Xt}_DEFAULT_DATA_KEY`,Cu=`${Xt}_DEFAULT_DATA_SERIES_FIELD`,lge=`${Xt}_DEFAULT_SERIES_STYLE_NAME`,KXt=`${Xt}_STACK_KEY`,Ch=`${Xt}_STACK_START`,Pu=`${Xt}_STACK_END`,w0=`${Xt}_STACK_START_PERCENT`,Hy=`${Xt}_STACK_END_PERCENT`,R7=`${Xt}_STACK_START_OffsetSilhouette`,D7=`${Xt}_STACK_END_OffsetSilhouette`,aIe=`${Xt}_STACK_TOTAL`,XXt=`${Xt}_STACK_TOTAL_PERCENT`,WO=`${Xt}_STACK_TOTAL_TOP`,sQ=`${Xt}_STACK_TOTAL_BOTTOM`,J2=`${Xt}_SEGMENT_START`,dW=`${Xt}_SEGMENT_END`,uge=`${Xt}_KEY`,u$=`${Xt}_MAP_LOOK_UP_KEY`;function Uw(n,e){for(let t=0;t<e.length;t++){const i=e[t],r=qXt(n,i.key);r?r.operations=[...new Set(r.operations.concat(i.operations))]:n.push(i)}return n}function qXt(n,e){return n.find(t=>t.key===e)}function c$(n,e){var t;if(!n)return e??null;const i=n.getFields();return i&&i[e]?(t=i[e].alias)!==null&&t!==void 0?t:e:e??null}function oIe(n,e,t){const i=n.getStackSort(),r={};let s=null;return i&&(s={},n.getSeries().forEach(a=>{const o=a.getSeriesField();if(o){const l=a.getRawDataStatisticsByField(o);l.values&&(s[o]||(s[o]={lastIndex:0,sort:{}}),l.values.forEach((u,c)=>{u in s[o].sort||(s[o].sort[u]=s[o].lastIndex,s[o].lastIndex++)}))}})),n.getSeries().forEach(a=>{var o;const l=a.getStackData(),u=a.getStackValue(),c=a.getStackValueField(),d=!t||t(a);l&&c&&d&&(r[u]=(o=r[u])!==null&&o!==void 0?o:{groupField:l.groupField,nodes:{}},cIe(a,l,r[u],c,e,s))}),i?lIe(r):r}function lIe(n,e){var t;for(const i in n)!((t=n[i].sortDatums)===null||t===void 0)&&t.length?(n[i].sortDatums.sort((r,s)=>r.index-s.index),n[i].values=n[i].sortDatums.map(r=>r.datum)):lIe(n[i].nodes);return n}function aQ(n,e){if("values"in n&&n.values.length){const t=QZ(n.values,e),i=ZZ(n.values,Hy);n.values.forEach(r=>{r[aIe]=t,r[XXt]=i})}else for(const t in n.nodes)aQ(n.nodes[t],e)}function ZXt(n){if(!n.values.length)return;const e=n.values[n.values.length-1][Pu]/2;for(let t=0;t<n.values.length;t++)n.values[t][R7]=n.values[t][Ch]-e,n.values[t][D7]=n.values[t][Pu]-e}function uIe(n,e,t,i,r={key:KXt,start:Ch,end:Pu,startPercent:w0,endPercent:Hy,max:WO,min:sQ}){const s=i&&Y(r.min),a=i&&Y(r.max);if(n.values.length>0){let o=0,l=0,u=1,c=0,d=null,h=null;const f=n.values.length;for(let p=0;p<f;p++){const g=n.values[e?f-1-p:p];c=g[r.end],c>=0?(g[r.start]=o,o+=g[r.end],g[r.end]=o):(g[r.start]=l,l+=g[r.end],g[r.end]=l),g[r.key]=n.key,a&&(delete g[r.max],(!h||g[r.end]>h[r.end])&&(h=g)),s&&(delete g[r.min],(!d||g[r.start]<d[r.start])&&(d=g))}if(a&&h&&(h[r.max]=!0),s&&d&&(d[r.min]=!0),t)for(let p=0;p<f;p++){const g=n.values[e?f-1-p:p];c=g[r.end];const m=c>=0?o:l;u=c>=0?1:-1,g[r.startPercent]=m===0?0:Math.min(1,g[r.start]/m)*u,g[r.endPercent]=m===0?0:Math.min(1,g[r.end]/m)*u}}for(const o in n.nodes)uIe(n.nodes[o],e,t,i,r)}function cIe(n,e,t,i,r,s,a){var o;if("values"in e)if(r&&e.values.forEach(l=>l[Pu]=r6t(l[i])),t.series.push({s:n,values:e.values}),s){const l=n.getSeriesField();e.values.forEach(u=>{t.sortDatums.push({series:n,datum:u,index:l?s[l].sort[u[l]]:0})})}else t.values.push(...e.values);else for(const l in e.nodes){const u=a?`${a}_${l}`:l;t.nodes[l]||(t.nodes[l]={values:[],series:[],nodes:{},sortDatums:[],key:u},Y((o=e.nodes[l])===null||o===void 0?void 0:o.groupField)&&(t.nodes[l].groupField=e.nodes[l].groupField)),cIe(n,e.nodes[l],t.nodes[l],i,r,s,u)}}const dIe=(n,e,t="key",i="children")=>{for(let r=0;r<n.length;r++){const s=n[r];if(s[t]===e)return s;if(s[i]){const a=dIe(s[i],e,t,i);if(a)return a}}return null},hIe=(n,e,t="key",i="children")=>{for(let r=0;r<n.length;r++){const s=n[r];if(s[i])for(let a=0;a<s[i].length;a++){const o=s[i][a];if(o[t]===e)return s;const l=hIe([o],e,t,i);if(l)return l}}return null},QXt=(n,e,t="key",i="children")=>{const r=[],s=(a,o)=>{for(const l of a){if(l[t]===e)return r.push(...o,l[t].toString()),!0;if(l[i]){const u=s(l[i],[...o,l[t]]);if(u===!0)return u}}return!1};return s(n,[]),r};function JXt(n,e="value",t="children"){return!!pn(n)&&!!n.hasOwnProperty(t)&&Array.isArray(n[t])}function fIe(n,e,t,i="value",r="children"){return Array.isArray(n)?n.map(s=>{const a=Object.assign({},s);return Array.isArray(a[r])&&(a[r]=fIe(a[r],e,t,i,r)),a}).filter(s=>+s[i]>=e&&+s[i]<=t||s[r]&&s[r].length>0):n}function hf(n={}){const e=Object.assign({},n);if(Re(n.style)?e.style=(t,i,r,s)=>ln(n.style(t,i,r,s)):Lt(n.style)||(e.style=ln(n.style)),!Lt(n.state)){const t={};Object.keys(n.state).forEach(i=>{Re(n.state[i])?t[i]=(r,s,a,o)=>ln(n.state[i](r,s,a,o)):Lt(n.state[i])||(t[i]=ln(n.state[i]))}),e.state=t}return e}function ax(n){if(Lt(n))return null;const e={};return Object.keys(n).forEach(t=>{Re(n[t])?e[t]=(i,r,s,a)=>ln(n[t](i,r,s,a)):Lt(n[t])||(e[t]=ln(n[t]))}),e}function eqt(n){if(Lt(n))return null;const e={};return Object.keys(n).forEach(t=>{Re(n[t])?e[t]=(i,r,s,a)=>ln(n[t](i.rawValue,r,i,s,a)):Lt(n[t])||(e[t]=ln(n[t]))}),e}function cge(n,e){if(Lt(n))return null;const t={};return Object.keys(n).forEach(i=>{Re(n[i])?t[i]=n[i](e):t[i]=n[i]}),ln(t)}function ln(n){return n!=null&&n.angle?Object.assign(Object.assign({},n),{angle:ar(n.angle)}):n}const tqt=n=>n==="line"||n==="area",ka=n=>{if(!n||!n.context)return null;const{data:e,markType:t}=n.context;return(i=t)==="line"||i==="area"?e:e==null?void 0:e[0];var i},nqt=(n,e)=>{let t=e;for(;t!=null&&t.parent&&t.parent!==n;)if(t=t.parent,t.context)return t;return null},pIe=(n,e)=>{const t=n.getAttributes(!0),i={};return Object.keys(e).forEach(r=>{t[r]!==e[r]&&(i[r]=e[r])}),i};let oQ=class{getComposedEventMap(){return this._composedEventMap}constructor(e,t){this._composedEventMap=new Map,this._eventDispatcher=e,this._mode=t}on(e,t,i){const r=typeof t=="function"?{query:null,callback:t}:{query:t,callback:i},s=ne.getComposedEvent(e);if(s){const a=new s(this._eventDispatcher,this._mode);a.register(e,r),this._composedEventMap.set(i,{eventType:e,event:a})}else this._eventDispatcher.register(e,r);return this}off(e,t,i){var r,s;const a=i??t;if(ne.getComposedEvent(e))if(a)(r=this._composedEventMap.get(a))===null||r===void 0||r.event.unregister(),this._composedEventMap.delete(a);else for(const o of this._composedEventMap.entries())o[1].eventType===e&&((s=this._composedEventMap.get(o[0]))===null||s===void 0||s.event.unregister(),this._composedEventMap.delete(o[0]));else if(a){const o={callback:a,query:null,filter:{nodeName:null,type:e,level:null,source:t.source,markName:null,filter:null,userId:null}};this._eventDispatcher.unregister(e,o)}else this._eventDispatcher.unregister(e);return this}emit(e,t,i){return this._eventDispatcher.dispatch(e,t,i),this}prevent(e,t){return this._eventDispatcher.prevent(e,t),this}allow(e){return this._eventDispatcher.allow(e),this}release(){this._eventDispatcher.clear(),this._composedEventMap.clear()}};var Rf;(function(n){n.BEFORE_EVALUATE_DATA="beforeEvaluateData",n.AFTER_EVALUATE_DATA="afterEvaluateData",n.BEFORE_EVALUATE_SCALE="beforeEvaluateScale",n.AFTER_EVALUATE_SCALE="afterEvaluateScale",n.BEFORE_PARSE_VIEW="beforeParseView",n.AFTER_PARSE_VIEW="afterParseView",n.BEFORE_TRANSFORM="beforeTransform",n.AFTER_TRANSFORM="afterTransform",n.BEFORE_CREATE_VRENDER_STAGE="beforeCreateVRenderStage",n.AFTER_CREATE_VRENDER_STAGE="afterCreateVRenderStage",n.BEFORE_CREATE_VRENDER_LAYER="beforeCreateVRenderLayer",n.AFTER_CREATE_VRENDER_LAYER="afterCreateVRenderLayer",n.BEFORE_STAGE_RESIZE="beforeStageResize",n.AFTER_STAGE_RESIZE="afterStageResize",n.BEFORE_VRENDER_DRAW="beforeVRenderDraw",n.AFTER_VRENDER_DRAW="afterVRenderDraw",n.BEFORE_MARK_JOIN="beforeMarkJoin",n.AFTER_MARK_JOIN="afterMarkJoin",n.BEFORE_MARK_UPDATE="beforeMarkUpdate",n.AFTER_MARK_UPDATE="afterMarkUpdate",n.BEFORE_MARK_STATE="beforeMarkState",n.AFTER_MARK_STATE="afterMarkState",n.BEFORE_MARK_ENCODE="beforeMarkEncode",n.AFTER_MARK_ENCODE="afterMarkEncode",n.BEFORE_DO_LAYOUT="beforeDoLayout",n.AFTER_DO_LAYOUT="afterDoLayout",n.BEFORE_MARK_LAYOUT_END="beforeMarkLayoutEnd",n.AFTER_MARK_LAYOUT_END="afterMarkLayoutEnd",n.BEFORE_DO_RENDER="beforeDoRender",n.AFTER_DO_RENDER="afterDoRender",n.BEFORE_MARK_RENDER_END="beforeMarkRenderEnd",n.AFTER_MARK_RENDER_END="afterMarkRenderEnd",n.BEFORE_CREATE_VRENDER_MARK="beforeCreateVRenderMark",n.AFTER_CREATE_VRENDER_MARK="afterCreateVRenderMark",n.BEFORE_ADD_VRENDER_MARK="beforeAddVRenderMark",n.AFTER_ADD_VRENDER_MARK="afterAddVRenderMark",n.AFTER_VRENDER_NEXT_RENDER="afterVRenderNextRender",n.BEFORE_ELEMENT_UPDATE_DATA="beforeElementUpdateData",n.AFTER_ELEMENT_UPDATE_DATA="afterElementUpdateData",n.BEFORE_ELEMENT_STATE="beforeElementState",n.AFTER_ELEMENT_STATE="afterElementState",n.BEFORE_ELEMENT_ENCODE="beforeElementEncode",n.AFTER_ELEMENT_ENCODE="afterElementEncode",n.ANIMATION_START="animationStart",n.ANIMATION_END="animationEnd",n.ELEMENT_ANIMATION_START="elementAnimationStart",n.ELEMENT_ANIMATION_END="elementAnimationEnd",n.ALL_ANIMATION_START="allAnimationStart",n.ALL_ANIMATION_END="allAnimationEnd"})(Rf||(Rf={}));const iqt=["pointerdown","pointerup","pointerupoutside","pointertap","pointerover","pointermove","pointerenter","pointerleave","pointerout","mousedown","mouseup","mouseupoutside","rightdown","rightup","rightupoutside","click","dblclick","mousemove","mouseover","mouseout","mouseenter","mouseleave","wheel","touchstart","touchend","touchendoutside","touchmove","touchcancel","tap","dragstart","drag","dragenter","dragleave","dragover","dragend","drop","pan","panstart","panend","press","pressup","pressend","pinch","pinchstart","pinchend","swipe"];var Et;(function(n){n.initialized="initialized",n.rendered="rendered",n.renderFinished="renderFinished",n.animationFinished="animationFinished",n.regionSeriesDataFilterOver="regionSeriesDataFilterOver",n.afterInitData="afterInitData",n.afterInitEvent="afterInitEvent",n.afterInitMark="afterInitMark",n.rawDataUpdate="rawDataUpdate",n.viewDataFilterOver="viewDataFilterOver",n.viewDataUpdate="viewDataUpdate",n.viewDataStatisticsUpdate="viewDataStatisticsUpdate",n.markDeltaYUpdate="markDeltaYUpdate",n.viewDataLabelUpdate="viewDataLabelUpdate",n.scaleDomainUpdate="scaleDomainUpdate",n.scaleRawDomainUpdate="scaleRawDomainUpdate",n.scaleUpdate="scaleUpdate",n.dataZoomChange="dataZoomChange",n.drill="drill",n.layoutStart="layoutStart",n.layoutEnd="layoutEnd",n.layoutRectUpdate="layoutRectUpdate",n.playerPlay="playerPlay",n.playerPause="playerPause",n.playerEnd="playerEnd",n.playerChange="playerChange",n.playerForward="playerForward",n.playerBackward="playerBackward",n.scrollBarChange="scrollBarChange",n.brushStart="brushStart",n.brushChange="brushChange",n.brushEnd="brushEnd",n.brushClear="brushClear",n.brushActive="brushActive",n.legendSelectedDataChange="legendSelectedDataChange",n.legendFilter="legendFilter",n.legendItemClick="legendItemClick",n.legendItemHover="legendItemHover",n.legendItemUnHover="legendItemUnHover",n.tooltipShow="tooltipShow",n.tooltipHide="tooltipHide",n.tooltipRelease="tooltipRelease",n.afterResize="afterResize",n.afterRender="afterRender",n.afterLayout="afterLayout",n.afterMarkLayoutEnd="afterMarkLayoutEnd",n.afterWordcloudShapeDraw="afterWordcloudShapeDraw"})(Et||(Et={}));var vi;(function(n){n.chart="chart",n.window="window",n.canvas="canvas"})(vi||(vi={}));var yr;(function(n){n.vchart="vchart",n.chart="chart",n.model="model",n.mark="mark"})(yr||(yr={}));const ND=[yr.mark,yr.model,yr.chart,yr.vchart];class rqt{constructor(){this._map=new Map,this._levelNodes=new Map,this._levelNodes.set(yr.vchart,[]),this._levelNodes.set(yr.chart,[]),this._levelNodes.set(yr.model,[]),this._levelNodes.set(yr.mark,[])}addHandler(e,t){var i;const r={level:t,handler:e};return(i=this._levelNodes.get(t))===null||i===void 0||i.push(r),this._map.set(e.callback,r),this}removeHandler(e){const t=this._map.get(e.callback);if(!t)return this;this._map.delete(e.callback);const i=this._levelNodes.get(t.level),r=i==null?void 0:i.findIndex(s=>s.handler.callback===e.callback);return r!==void 0&&r>=0&&(i==null||i.splice(r,1)),this}preventHandler(e){return e&&(e.prevented=!0),this}allowHandler(e){return e&&(e.prevented=!1),this}getHandlers(e){var t;return((t=this._levelNodes.get(e))===null||t===void 0?void 0:t.map(i=>i.handler))||[]}getAllHandlers(){return Array.from(this._map.values()).map(e=>e.handler)||[]}getCount(){return this._map.size}release(){this._map.clear(),this._levelNodes.clear()}}const dge={cartesianAxis:"axis","cartesianAxis-band":"axis","cartesianAxis-linear":"axis","cartesianAxis-time":"axis",polarAxis:"axis","polarAxis-band":"axis","polarAxis-linear":"axis",discreteLegend:"legend",continuousLegend:"legend",colorLegend:"legend",sizeLegend:"legend"};class sqt{constructor(e,t){this._viewBubbles=new Map,this._windowBubbles=new Map,this._canvasBubbles=new Map,this._viewListeners=new Map,this._windowListeners=new Map,this._canvasListeners=new Map,this._onDelegate=i=>{var r;const s=this.globalInstance.getChart(),a=Y(i.modelId)&&(s==null?void 0:s.getModelById(i.modelId))||void 0,o=Y(i.markId)&&(s==null?void 0:s.getMarkById(i.markId))||null,l=Hn(i.event,"target");let u=i.datum;a&&a.modelType==="component"&&(u=(r=a.getDatum(l))!==null&&r!==void 0?r:u);const c={event:i.event,item:i.item,source:i.source,datum:u,chart:s,model:a,mark:o??void 0,node:l};this.dispatch(i.type,c)},this._onDelegateInteractionEvent=i=>{const r=this.globalInstance.getChart(),s=i.event;let a=null;s.graphics&&(a=s.graphics);const o={event:i.event,chart:r,graphics:a,datums:a&&a.map(l=>ka(l))};this.dispatch(i.type,o)},this.globalInstance=e,this._compiler=t}register(e,t){var i,r,s,a,o;this._parseQuery(t);const l=this.getEventBubble(((i=t.filter)===null||i===void 0?void 0:i.source)||vi.chart),u=this.getEventListeners(((r=t.filter)===null||r===void 0?void 0:r.source)||vi.chart);if(l.get(e)||l.set(e,new rqt),l.get(e).addHandler(t,(s=t.filter)===null||s===void 0?void 0:s.level),this._isValidEvent(e)&&!u.has(e)){const c=this._onDelegate.bind(this);this._compiler.addEventListener((a=t.filter)===null||a===void 0?void 0:a.source,e,c),u.set(e,c)}else if(this._isInteractionEvent(e)&&!u.has(e)){const c=this._onDelegateInteractionEvent.bind(this);this._compiler.addEventListener((o=t.filter)===null||o===void 0?void 0:o.source,e,c),u.set(e,c)}return this}unregister(e,t){var i,r,s,a;let o=!1;const l=this.getEventBubble(((i=t==null?void 0:t.filter)===null||i===void 0?void 0:i.source)||vi.chart),u=this.getEventListeners(((r=t==null?void 0:t.filter)===null||r===void 0?void 0:r.source)||vi.chart);if(t){const c=l.get(e);c==null||c.removeHandler(t),(c==null?void 0:c.getCount())===0&&(c==null||c.release(),l.delete(e),o=!0),!((s=t==null?void 0:t.wrappedCallback)===null||s===void 0)&&s.cancel&&t.wrappedCallback.cancel()}else{const c=l.get(e);c==null||c.release(),l.delete(e),o=!0}if(o&&this._isValidEvent(e)){const c=u.get(e);this._compiler.removeEventListener(((a=t==null?void 0:t.filter)===null||a===void 0?void 0:a.source)||vi.chart,e,c),u.delete(e)}return this}dispatch(e,t,i){const r=this.getEventBubble(t.source||vi.chart).get(e);if(!r)return this;let s=!1;if(i){const a=r.getHandlers(i);s=this._invoke(a,e,t)}else{let a=0;for(;!s&&a<ND.length;)s=this._invoke(r.getHandlers(ND[a]),e,t),a++}return this}prevent(e,t){return["canvas","chart","window"].forEach(i=>{const r=this.getEventBubble(i).get(e);r&&r.getAllHandlers().forEach(s=>{t?ND.indexOf(s.filter.level)<ND.indexOf(t.level)&&s.callback!==t.handler&&r.preventHandler(s):r.preventHandler(s)})}),this}allow(e){return["canvas","chart","window"].forEach(t=>{const i=this.getEventBubble(t).get(e);i&&i.getAllHandlers().forEach(r=>i.allowHandler(r))}),this}clear(){[vi.chart,vi.window,vi.canvas].forEach(e=>{const t=this.getEventListeners(e);for(const i of t.entries())this._compiler.removeEventListener(e,i[0],i[1]);t.clear()}),[this._viewBubbles,this._windowBubbles,this._canvasBubbles].forEach(e=>{for(const t of e.values())t.release();e.clear()})}release(){this.clear(),this.globalInstance=null,this._compiler=null}_filter(e,t,i){var r,s,a;if(Re(e.filter)&&!e.filter(i)||e.nodeName&&Hn(i,"node.name")!==e.nodeName||e.markName&&((r=i==null?void 0:i.mark)===null||r===void 0?void 0:r.name)!==e.markName)return!1;let o=(s=i.model)===null||s===void 0?void 0:s.type;return dge[o]&&(o=dge[o]),(!e.type||o===e.type)&&!(e.level==="mark"&&!e.type&&!(i!=null&&i.mark))&&!(e.level==="model"&&!e.type&&!(i!=null&&i.model))&&(!Y(e.userId)||((a=i.model)===null||a===void 0?void 0:a.userId)===e.userId)}_invoke(e,t,i){return e.map(r=>{var s,a,o;const l=r.filter;if(!r.prevented&&(!r.query||this._filter(l,t,i))){const u=(r.wrappedCallback||r.callback).call(null,Object.assign({},i)),c=u??((s=r.query)===null||s===void 0?void 0:s.consume);return c&&((a=i.event)===null||a===void 0||a.stopPropagation(),(o=i.event)===null||o===void 0||o.preventDefault()),!!c}}).some(r=>r===!0)}_getQueryLevel(e){return e?e.level?e.level:Y(e.id)?yr.model:yr.vchart:yr.vchart}_parseQuery(e){var t;const i=e.query;i!=null&&i.throttle?e.wrappedCallback=Km(e.callback,i.throttle):i!=null&&i.debounce&&(e.wrappedCallback=Y0(e.callback,i.debounce));let r=this._getQueryLevel(i),s=null,a=vi.chart,o=null,l=null,u=null;return i!=null&&i.nodeName&&(o=i.nodeName),i!=null&&i.markName&&(l=i.markName),!(i!=null&&i.type)||r!==yr.model&&r!==yr.mark||(s=i.type),i!=null&&i.source&&(a=i.source),Y(i==null?void 0:i.id)&&(u=i==null?void 0:i.id,r=yr.model),e.filter={level:r,markName:l,type:s,source:a,nodeName:o,userId:u,filter:(t=i==null?void 0:i.filter)!==null&&t!==void 0?t:null},e}getEventBubble(e){switch(e){case vi.chart:return this._viewBubbles;case vi.window:return this._windowBubbles;case vi.canvas:return this._canvasBubbles;default:return this._viewBubbles}}getEventListeners(e){switch(e){case vi.chart:return this._viewListeners;case vi.window:return this._windowListeners;case vi.canvas:return this._canvasListeners;default:return this._viewListeners}}_isValidEvent(e){return iqt.includes(e)||Object.values(Rf).includes(e)}_isInteractionEvent(e){let t;return e&&(t=e.split(":")[0],t)&&ne.hasInteractionTrigger(t)}}function rn(n,e,t){n.getTransform(e)||n.registerTransform(e,t)}function Am(n,e,t){n.getParser(e)||n.registerParser(e,t)}const C0=new Map;let wx;function aqt(){wx||(wx=new y0,Am(wx,"geojson",Uke),Am(wx,"topojson",rHt),rn(wx,"simplify",Lzt))}function oqt(n,e,t={type:"geojson",centroid:!0}){C0.has(n)&&fc(`map type of '${n}' already exists, will be overwritten.`),aqt();const i=new Pi(wx),r=We({},{centroid:!0,simplify:!1},t);t.type==="topojson"?i.parse(e,{type:"topojson",options:r}):i.parse(e,{type:"geojson",options:r});const{simplify:s}=t;s===!0?i.transform({type:"simplify"}):pn(s)&&i.transform({type:"simplify",options:s}),C0.set(n,i)}function lqt(n){C0.has(n)?C0.delete(n):fc(`map type of '${n}' does not exists.`)}function uqt(n){return C0.get(n)}function hge(n,e=!1){let t=e;return n.latestData instanceof Pi&&(t=!1),t?Ul(n.latestData):n.latestData&&n.latestData.slice()}const Nz=(n,e)=>n.length===0?[]:n.length===1?hge(n[0],e==null?void 0:e.deep):n.map(t=>hge(t,e==null?void 0:e.deep));function L7(n,e,t){e=e instanceof y0?e:n.dataSet,rn(e,"copyDataView",Nz);const i=new Pi(e,t);return i.parse([n],{type:"dataview"}),i.transform({type:"copyDataView",level:og.copyDataView}),i}function lQ(n,e,t=[]){var i;if(n instanceof Pi)return n;const{id:r,values:s=[],fromDataIndex:a,fromDataId:o,transforms:l=[]}=n,u=n.parser?Ul(n.parser):{clone:!0},c=Ul(n.fields);let d;u.clone=u.clone!==!1;const h=t.find(f=>f.name===r);if(h)d=h;else{const f={name:r};if(c&&(f.fields=c),d=new Pi(e,f),typeof o=="string"){const p=t.find(g=>g.name===o);if(!p)return fc(`no data matches fromDataId ${o}`),null;d.parse([p],{type:"dataview"}),d.transform({type:"copyDataView"})}else if(typeof a=="number"){const p=t[a];if(!p)return fc(`no data matches fromDataIndex ${a}`),null;d.parse([p],{type:"dataview"}),d.transform({type:"copyDataView"})}else Array.isArray(s)?d.parse(s,u):!Jt(s)||u&&!["csv","dsv","tsv"].includes(u.type)?(d.parse([]),fc("values should be array")):d.parse(s,(i=u)!==null&&i!==void 0?i:{type:"csv"});l&&l.length&&l.forEach(p=>{e.getTransform(p.type)&&d.transform(p)})}return d}function uQ(n,e,t){n&&(e.fields&&n.setFields(e.fields,t),n.parseNewData(e.values,e.parser))}var og;(function(n){n[n.copyDataView=-10]="copyDataView",n[n.treemapFilter=-8]="treemapFilter",n[n.treemapFlatten=-7]="treemapFlatten",n[n.dotObjFlat=-7]="dotObjFlat",n[n.linkDotInfo=-7]="linkDotInfo",n[n.sankeyLayout=-7]="sankeyLayout",n[n.dataZoomFilter=-6]="dataZoomFilter",n[n.legendFilter=-5]="legendFilter"})(og||(og={}));var qi;(function(n){n.appear="appear",n.disappear="disappear",n.enter="enter",n.update="update",n.state="state",n.exit="exit",n.normal="normal",n.none="none"})(qi||(qi={}));var Lb;(function(n){n.before="before",n.layouting="layouting",n.reevaluate="reevaluate",n.after="after"})(Lb||(Lb={}));const cqt=["line","area","trail"];function dqt(n){return cqt.includes(n)}function hqt(n,e){return n==="monotone"?e==="horizontal"?"monotoneY":"monotoneX":n}function WC(n,e,t){const i=new Map;if(!n||n.length===0)return{keys:[],data:i};if(!e)return i.set(uge,n.slice()),{keys:[uge],data:i};if(n.length===1){const s=e(n[0],0);return i.set(s,[n[0]]),{keys:[s],data:i}}const r=new Set;return n.forEach((s,a)=>{var o;const l=e(s,a),u=(o=i.get(l))!==null&&o!==void 0?o:[];u.push(s),i.set(l,u),r.add(l)}),{keys:Array.from(r),data:i}}const fge=(n,e,t={})=>(n&&Object.keys(n).forEach(i=>{t[i]=n[i](e)}),t);function fqt(n){switch(n){case ha["desktop-browser"]:case ha["mobile-browser"]:return"browser";case ha.node:case ha.worker:return"node";case ha.miniApp:case ha["desktop-miniApp"]:return"feishu";case ha.lynx:return"lynx";case ha.wx:return"wx";case ha.tt:return"tt";case ha.harmony:return"harmony"}return"browser"}function Yv(n,e,t,i,r){const s=a=>{if(!i&&a&&(!t||t(a))){const o=e.call(null,a);if(r&&o)return o}if(a.type==="group"){const o=a.getMarks();if(o)for(let l=0;l<o.length;l++){const u=s(o[l]);if(u&&r)return u}}if(i&&a&&(!t||t(a))){const o=e.call(null,a);if(o&&r)return o}};return s(n)}function pge(n){const e=[];return n.forEach(t=>{Yv(t,i=>{i.type!=="group"&&i.type!=="component"&&e.push(i)})}),e}function gge(n,e,t,i){const r=WC(n,u=>t(u)),s=WC(e,u=>i(u));let a=n,o=e;const l=[];return s.keys.forEach(u=>{if(!J(u)){const c=r.data.get(u),d=s.data.get(u);c&&d&&(l.push({prev:c,next:d}),a=a.filter(h=>!c.includes(h)),o=o.filter(h=>!d.includes(h)))}}),{prev:a,next:o,update:l}}function pqt(n,e,t){const i={enter:[],exit:[],update:[]};let r=[],s=[];n.forEach(c=>{t.morph&&c.getMarkConfig().morph||t.morphAll||t.reuse?r.push(c):i.exit.push({prev:[c]})}),e.forEach(c=>{t.morph&&c.getMarkConfig().morph||t.morphAll||t.reuse?s.push(c):i.enter.push({next:[c]})});const a=gge(r,s,c=>c.getMarkConfig().morphKey,c=>c.getMarkConfig().morphKey);r=a.prev,s=a.next,i.update=i.update.concat(a.update);const o=gge(r,s,c=>`${c.getUserId()}`,c=>`${c.getUserId()}`);r=o.prev,s=o.next,i.update=i.update.concat(o.update);const l=WC(r,c=>{var d,h;return(h=(d=c.group)===null||d===void 0?void 0:d.id)===null||h===void 0?void 0:h.call(d)}),u=WC(s,c=>{var d,h;return(h=(d=c.group)===null||d===void 0?void 0:d.id)===null||h===void 0?void 0:h.call(d)});return Object.keys(u).forEach(c=>{const d=l.data.get(c),h=u.data.get(c);if(d&&h){for(let f=0;f<Math.max(d.length,h.length);f+=1){const p=d[f],g=h[f];p&&g?i.update.push({prev:[p],next:[g]}):p?i.exit.push({prev:[p]}):g&&i.enter.push({next:[g]})}r=r.filter(f=>!d.includes(f)),s=s.filter(f=>!h.includes(f))}}),r.forEach(c=>i.exit.push({prev:[c]})),s.forEach(c=>i.enter.push({next:[c]})),i}class gqt{getRootGroup(){return this._rootGroup}constructor(e,t){this._count=0,this._rootMarks=[],this._viewListeners=new Map,this._windowListeners=new Map,this._canvasListeners=new Map,this.isInited=!1,this._released=!1,this._compileChart=null,this.handleLayoutEnd=()=>{var i,r;(r=(i=this._compileChart)===null||i===void 0?void 0:i.getEvent())===null||r===void 0||r.emit(Et.afterMarkLayoutEnd,{chart:this._compileChart})},this.handleStageRender=()=>{var i,r;(r=(i=this._compileChart)===null||i===void 0?void 0:i.getEvent())===null||r===void 0||r.emit(Et.afterRender,{chart:this._compileChart})},this._handleAfterNextRender=()=>{var i,r,s,a;this._stage&&!this._option.disableDirtyBounds&&this._stage.enableDirtyBounds(),this._compileChart&&((i=this._compileChart.getEvent())===null||i===void 0||i.emit(Et.renderFinished,{chart:this._compileChart,vchart:(r=this._compileChart.getOption())===null||r===void 0?void 0:r.globalInstance})),(a=(s=this._option.performanceHook)===null||s===void 0?void 0:s.afterVRenderDraw)===null||a===void 0||a.call(s,this._compileChart.getOption().globalInstance)},this.handleProgressiveFrame=()=>{this._progressiveMarks.length&&this._progressiveMarks.forEach(i=>{i.isDoingProgressive()&&i.renderProgressive()}),this.doPreProgressive()},this._container=e,this._option=t}getChart(){return this._compileChart}getCanvas(){var e;return(e=this._stage)===null||e===void 0?void 0:e.window.getNativeHandler().nativeCanvas}getStage(){return this._stage}initView(){var e,t,i,r;if(this._released||(this.isInited=!0,this._stage))return;const{autoRefreshDpr:s,dpr:a,mode:o,modeParams:l,gestureConfig:u,interactive:c,clickInterval:d,autoPreventDefault:h,background:f}=this._option;un.setEnv(fqt(o),l??{}),this._stage=(e=this._option.stage)!==null&&e!==void 0?e:new tUt(Object.assign({background:f,width:this._width,height:this._height,container:(t=this._container.dom)!==null&&t!==void 0?t:null,canvas:(i=this._container.canvas)!==null&&i!==void 0?i:null,dpr:a,viewBox:this._option.viewBox,canvasControled:this._option.canvasControled,beforeRender:m=>{var v,_,y;(v=this._compileChart)===null||v===void 0||v.onBeforeRender(),(y=(_=this._option).beforeRender)===null||y===void 0||y.call(_,m)},afterRender:this._option.afterRender,disableDirtyBounds:!0,autoRender:!0,ticker:this._option.ticker,pluginList:this._option.pluginList,enableHtmlAttribute:this._option.enableHtmlAttribute,optimize:this._option.optimize,supportsTouchEvents:this._option.supportsTouchEvents,supportsPointerEvents:this._option.supportsPointerEvents,event:{clickInterval:d,autoPreventDefault:h},ReactDOM:this._option.ReactDOM,autoRefresh:Y(s)?s:!Y(a)},(r=this._option.renderHooks)!==null&&r!==void 0?r:{})),this._stage.enableIncrementalAutoRender(),this._stage.setTheme({symbol:{shape:"circle",size:8},text:{fontSize:14,fill:"#000000"}});const p=WF({x:0,y:0,width:this._width,height:this._height});p.name="root",this._stage.defaultLayer.appendChild(p),this._rootGroup=p;const g=(Y(u)?u:Ny(o))&&c!==!1&&ne.getStageEventPlugin("gesture");g&&(this._gestureController=new g(this._stage,pn(u)?u:{})),this._setCanvasStyle(),this.getStage().hooks.afterRender.tap("chart-event",this.handleStageRender),c!==!1&&this._viewListeners.forEach(m=>{})}getLayoutState(){return this._layoutState}updateLayoutTag(){this._layoutState=Lb.before}_setCanvasStyle(){if(this._stage&&this._container.dom&&!Jt(this._container.dom)){this._container.dom.style.display="block",this._container.dom.style.position="relative";const e=this.getCanvas();e&&(e.style.display="block")}}compile(e,t){if(this._released)return;const{chart:i}=e;this._compileChart=i,this.initView(),this._stage&&((t==null?void 0:t.actionSource)!=="render"&&this._cachedMarks&&(this.reuseOrMorphing(t.morphConfig),this._cachedMarks=null),i.compile(),i.afterCompile())}clearNextRender(){return!!this._nextRafId&&(un.getSpecifiedCancelAnimationFrame(10)(this._nextRafId),this._nextRafId=null,!0)}clear(e){const{chart:t}=e;this.clearNextRender(),t.clear()}renderNextTick(e){this._released||(this._nextRafId&&this.clearNextRender(),this._nextRafId=un.getSpecifiedRequestAnimationFrame(10)(()=>{this._nextRafId=null,this.render(e)}))}_commitedAll(){return this._rootMarks.some(e=>Yv(e,t=>t.commit()))}_hasCommitedMark(){return this._rootMarks.some(e=>Yv(e,t=>t.isCommited(),null,null,!0))}_doRender(e){var t,i,r,s,a,o;(i=(t=this._option.performanceHook)===null||t===void 0?void 0:t.beforeDoRender)===null||i===void 0||i.call(t,this._compileChart.getOption().globalInstance),this._stage&&(this.runStageAnimation(),this._rootMarks.forEach(l=>{Yv(l,u=>{u.needClear&&(this._progressiveMarks||u.runAnimation(),u.clearExitGraphics(),u.needClear=!1)},null,!0)}),(s=(r=this._option.performanceHook)===null||r===void 0?void 0:r.beforeVRenderDraw)===null||s===void 0||s.call(r,this._compileChart.getOption().globalInstance),this._stage.disableDirtyBounds(),this._stage.afterNextRender(this._handleAfterNextRender),e&&(this._stage.render(),(o=(a=this._option.performanceHook)===null||a===void 0?void 0:a.afterVRenderDraw)===null||o===void 0||o.call(a,this._compileChart.getOption().globalInstance)))}renderMarks(){var e;this._hasCommitedMark()&&(CB(`--- start of renderMarks(${this._count}) ---`),this.clearProgressive(),this._rootMarks.forEach(t=>{t.render()}),this._layoutState===Lb.before&&(this._layoutState=Lb.layouting,(e=this._compileChart)===null||e===void 0||e.onLayout(),this._layoutState=Lb.reevaluate,this._hasCommitedMark()&&this._rootMarks.forEach(t=>{t.render()}),this.handleLayoutEnd()),this.findProgressiveMarks(),this.updateStateAnimation(),this._doRender(!0),this.doPreProgressive(),CB(`--- start of renderMarks(${this._count}) ---`),this._count++)}reuseOrMorphing(e={}){const{reuse:t=!0,morph:i=!0,morphAll:r=!1,animation:s={},enableExitAnimation:a=!1}=e,o=pge(this._rootMarks),{update:l,exit:u}=pqt(this._cachedMarks,o,{morph:i,morphAll:r,reuse:t});l.forEach(({prev:c,next:d})=>{if(t&&c.length===1&&d.length===1&&c[0].type===d[0].type)d[0].reuse(c[0]);else{const h=c.filter(f=>f.getMarkConfig().morph)[0];h&&d.forEach(f=>{f.getMarkConfig().morph&&f.prepareMorph(h)})}}),u.forEach(({prev:c})=>{c.forEach(d=>{d.removeProduct()})})}render(e){if(this._released||(this.clearNextRender(),this.initView(),!this._stage))return;const{width:t,height:i}=this._rootGroup.attribute;this._width===t&&this._height===i||this._rootGroup.setAttributes({width:this._width,height:this._height}),this.renderMarks(),this.clearNextRender()&&this.renderMarks()}setStageAnimationConfig(e){const t={};Object.keys(e).forEach(i=>{const r=e[i];Oe(r)?t[i]=r.map(s=>{var a;const o=(a=s.options)!==null&&a!==void 0?a:{};return Object.assign(Object.assign({},s),{options:(...l)=>{const u=typeof o=="function"?o(...l):o;return Object.assign({},u)}})}):t[i]=Object.assign({},e[i])}),this._stateAnimationConfig=t}updateStateAnimation(){const e=[];this._rootMarks.forEach(r=>{Yv(r,s=>{e.push(s)})});const t=e.map(r=>r.getAnimationState()),i=t.every(r=>r===qi.appear)?qi.appear:t.every(r=>r===qi.disappear)?qi.disappear:qi.none;this._stage.context||(this._stage.context={}),this._stage.context.animationState=i}runStageAnimation(){var e;const t=(e=this._stage.context)===null||e===void 0?void 0:e.animationState;if(!this._stateAnimationConfig||t===qi.none)return;const i=Ae(this._stateAnimationConfig[t]).filter(r=>r.type);i.length&&(t===qi.appear?this._stage.stopAnimationState(qi.disappear):t===qi.disappear&&this._stage.stopAnimationState(qi.appear),this._stage.applyAnimationState([t],[{name:t,animation:i}]))}updateViewBox(e,t=!0){if(!this._stage)return;const i=this._stage.viewBox;!e||i&&i.x1===e.x1&&i.y1===e.y1&&i.x2===e.x2&&i.y2===e.y2||this._stage.setViewBox(e,t)}resize(e,t,i=!0){if(!this._stage)return;const r=this._width!==e||this._height!==t;this._width=e,this._height=t,r&&(this._stage.resize(e,t),this._commitedAll(),i&&this.render({morph:!1}))}setBackground(e){this._stage&&(this._stage.background=e)}setSize(e,t){this._width=e,this._height=t,this._stage}setViewBox(e,t=!0){this.updateViewBox(e,t)}addEventListener(e,t,i){var r,s;if(this._option.interactive!==!1){if(e===vi.chart){const a=this.getRootGroup(),o=(function(l){var u;const c=l.target;let d=null;c&&(d=Y(c.context)?c:nqt(a,c));const h=(u=d==null?void 0:d.context)!==null&&u!==void 0?u:{},f=Y(h.markId)?h.markId:null,p=Y(h.modelId)?h.modelId:null,g=Y(h.modelUserId)?h.modelUserId:null,m=Y(h.markUserId)?h.markUserId:null,v={event:l,type:t,source:e,item:d,datum:ka(d),markId:f,modelId:p,markUserId:m,modelUserId:g};i.call(null,v)}).bind(this);this._viewListeners.set(i,{type:t,callback:o}),(r=this._stage)===null||r===void 0||r.addEventListener(t,o)}else if(e===vi.window){const a=(function(l){const u={event:l,type:t,source:e,item:null,datum:null,markId:null,modelId:null,markUserId:null,modelUserId:null};i.call(null,u)}).bind(this);this._windowListeners.set(i,{type:t,callback:a});const o=this._getGlobalThis();o==null||o.addEventListener(t,a)}else if(e===vi.canvas){const a=(function(l){const u={event:l,type:t,source:e,item:null,datum:null,markId:null,modelId:null,markUserId:null,modelUserId:null};i.call(null,u)}).bind(this);this._canvasListeners.set(i,{type:t,callback:a});const o=(s=this.getStage())===null||s===void 0?void 0:s.window;o==null||o.addEventListener(t,a)}}}removeEventListener(e,t,i){var r,s,a,o,l;if(this._option.interactive!==!1){if(e===vi.chart){const u=(r=this._viewListeners.get(i))===null||r===void 0?void 0:r.callback;u&&((s=this._stage)===null||s===void 0||s.removeEventListener(t,u)),this._viewListeners.delete(i)}else if(e===vi.window){const u=this._getGlobalThis(),c=(a=this._windowListeners.get(i))===null||a===void 0?void 0:a.callback;c&&(u==null||u.removeEventListener(t,c)),this._windowListeners.delete(i)}else if(e===vi.canvas){const u=(o=this.getStage())===null||o===void 0?void 0:o.window,c=(l=this._canvasListeners.get(i))===null||l===void 0?void 0:l.callback;u&&c&&(u==null||u.removeEventListener(t,c)),this._canvasListeners.delete(i)}}}releaseEvent(){const e=this.getStage();e&&e.hooks.afterRender.unTap("chart-event",this.handleStageRender),this._viewListeners.clear(),this._windowListeners.clear(),this._canvasListeners.clear()}release(){var e;this.clearNextRender(),this.releaseEvent(),this._option=this._container=null,this.releaseGrammar(!0),this._stage!==((e=this._option)===null||e===void 0?void 0:e.stage)&&this._stage.release(),this._stage=null,this.isInited=!1,this._compileChart=null,this._released=!0}releaseGrammar(e=!1){e?this._rootMarks.forEach(t=>{Yv(t,i=>{i.removeProduct()},null,!0)}):this._cachedMarks=pge(this._rootMarks),this._rootMarks=[]}addRootMark(e){this._rootMarks.includes(e)||this._rootMarks.push(e)}getRootMarks(){return this._rootMarks}removeRootMark(e){const t=this._rootMarks.findIndex(i=>i===e);return t>=0&&(this._rootMarks.splice(t,1),!0)}_getGlobalThis(){var e;return ng(this._option.mode)?globalThis:(e=this.getStage())===null||e===void 0?void 0:e.window}_combineIncrementalLayers(){this._stage&&dVt(this._stage).then(()=>{this._stage&&this._stage.defaultLayer.combineSubLayer()})}findProgressiveMarks(){const e=[];return this._rootMarks.forEach(t=>{Yv(t,i=>{i.isProgressive()&&e.push(i)})}),e.length?(this._progressiveMarks=e,this._combineIncrementalLayers(),e):(this._progressiveMarks=null,null)}doPreProgressive(){if(this._progressiveMarks&&this._progressiveMarks.some(e=>e.isDoingProgressive())){const e=un.getSpecifiedRequestAnimationFrame(10);this._progressiveRafId=e(this.handleProgressiveFrame)}else this._progressiveMarks&&this._progressiveMarks.every(e=>e.canAnimateAfterProgressive())?this._progressiveMarks.forEach(e=>{e.runAnimation()}):this._progressiveMarks&&(this._progressiveMarks=null)}clearProgressive(){this._progressiveRafId&&un.getSpecifiedCancelAnimationFrame(10)(this._progressiveRafId),this._progressiveMarks&&this._progressiveMarks.length&&(this._progressiveMarks.forEach(e=>{e.clearProgressive()}),this._progressiveMarks=null)}}var mqt=function(n,e,t,i){return new(t||(t=Promise))(function(r,s){function a(u){try{l(i.next(u))}catch(c){s(c)}}function o(u){try{l(i.throw(u))}catch(c){s(c)}}function l(u){var c;u.done?r(u.value):(c=u.value,c instanceof t?c:new t(function(d){d(c)})).then(a,o)}l((i=i.apply(n,e||[])).next())})};function vqt(n="vchart",e){const t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("target","_blank"),t.setAttribute("download",`${n}.png`),t.dispatchEvent(new MouseEvent("click"))}function yqt(n){return new Promise(e=>{n.convertToBlob().then(t=>{const i=new FileReader;i.readAsDataURL(t),i.onload=()=>{e(i.result)}})})}function _qt(n,e){var t;return mqt(this,void 0,void 0,function*(){if(!n)return"";try{if(OffscreenCanvas!==void 0&&n instanceof OffscreenCanvas)return yqt(n)}catch(i){((t=e==null?void 0:e.onError)!==null&&t!==void 0?t:LO)(`getCanvasDataURL error : ${i.toString()}`)}return n.toDataURL()})}function l_(n){n.crosshair=Ae(n.crosshair||{}).map(e=>qt({[n.direction==="horizontal"?"yField":"xField"]:{visible:!0,line:{visible:!0,type:"rect"}}},e))}function gIe(n,e,t){var i;const{width:r,height:s}=n;if(Y(r)&&Y(s))return{width:r,height:s};let a=t.width,o=t.height;const l=e.container,u=e.canvas;if(l){const{width:c,height:d}=Lce(l,t.width,t.height);a=c,o=d}else if(u&&ng(e.mode)){let c;c=Jt(u)?un.getElementById(u):u;const{width:d,height:h}=Lce(c,t.width,t.height);a=d,o=h}else if(s_(e.mode)&&(!((i=e.modeParams)===null||i===void 0)&&i.domref)){const c=e.modeParams.domref;a=c.width,o=c.height}return a=r??a,o=s??o,{width:a,height:o}}function Cx(n,...e){const t=i=>e.reduce((r,s)=>r||(s==null?void 0:s[i]),n[i]);return Object.assign(n,{change:t("change"),reCompile:t("reCompile"),reMake:t("reMake"),reRender:t("reRender"),reSize:t("reSize"),reTransformSpec:t("reTransformSpec"),changeTheme:t("changeTheme"),changeBackground:t("changeBackground")}),n}function mIe(n,e){return n==="line"||n==="area"||n==="common"&&e.series.every(t=>t.type==="area"||t.type==="line")?{paddingInner:1,paddingOuter:0}:{paddingOuter:0}}const Kv=9,Ju=0;var ji;(function(n){n[n.SeriesGroup=0]="SeriesGroup",n[n.Axis_Grid=50]="Axis_Grid",n[n.CrossHair_Grid=100]="CrossHair_Grid",n[n.Region=450]="Region",n[n.Mark=300]="Mark",n[n.Node=400]="Node",n[n.Axis=100]="Axis",n[n.MarkLine=500]="MarkLine",n[n.MarkArea=100]="MarkArea",n[n.MarkPoint=500]="MarkPoint",n[n.DataZoom=500]="DataZoom",n[n.ScrollBar=500]="ScrollBar",n[n.Player=500]="Player",n[n.Legend=500]="Legend",n[n.CrossHair=500]="CrossHair",n[n.Indicator=500]="Indicator",n[n.Title=500]="Title",n[n.Label=500]="Label",n[n.Brush=500]="Brush",n[n.CustomMark=500]="CustomMark",n[n.Interaction=700]="Interaction"})(ji||(ji={}));var Df;(function(n){n[n.Indicator=10]="Indicator",n[n.Region=20]="Region",n[n.Axis=30]="Axis",n[n.DataZoom=40]="DataZoom",n[n.Player=40]="Player",n[n.ScrollBar=40]="ScrollBar",n[n.Legend=50]="Legend",n[n.Title=70]="Title",n[n.CustomMark=70]="CustomMark"})(Df||(Df={}));var Qe;(function(n){n[n.Default=0]="Default",n[n.Theme=1]="Theme",n[n.Chart=2]="Chart",n[n.Base_Series=3]="Base_Series",n[n.Series=4]="Series",n[n.Mark=5]="Mark",n[n.User_Chart=6]="User_Chart",n[n.User_Series=7]="User_Series",n[n.User_Mark=8]="User_Mark",n[n.User_SeriesStyle=9]="User_SeriesStyle",n[n.Built_In=99]="Built_In"})(Qe||(Qe={}));class LM{constructor(){this._children=[],this._markNameMap={},this._infoMap=new Map}getMarkNameMap(){return this._markNameMap}addMark(e,t){J(e)||(this._children.push(e),this._markNameMap[e.name]=e,this._infoMap.set(e,We({},LM.defaultMarkInfo,t)))}removeMark(e){const t=this._children.findIndex(i=>i.name===e);t>=0&&(this._infoMap.delete(this._children[t]),delete this._markNameMap[e],this._children.splice(t,1))}clear(){this._children=[],this._markNameMap={},this._infoMap.clear()}forEach(e){this._children.forEach(e)}includes(e,t){return this._children.includes(e,t)}get(e){return isNaN(Number(e))?this._markNameMap[e]:this._children[e]}getMarks(){return this._children.slice()}getMarksInType(e){const t=Ae(e);return this._children.filter(i=>t.includes(i.type))}getMarkInId(e){return this._children.find(t=>t.id===e)}getMarkWithInfo(e){return this._children.find(t=>Object.keys(e).every(i=>e[i]===this._infoMap.get(t)[i]))}}LM.defaultMarkInfo={};class jz{getOption(){return this._option}constructor(e){this._option=e,this.getCompiler=this._option.getCompiler}getStage(){var e;return(e=this.getCompiler())===null||e===void 0?void 0:e.getStage()}release(){this._option=null,this.getCompiler=null}}class zz{constructor(e){this._option=e,this.type=e.type}_initTheme(e,t){return this._theme=this.getTheme(e,t),this._mergeThemeToSpec(e,t)}getTheme(e,t){}transformSpec(e,t,i){this._transformSpecBeforeMergingTheme(e,t,i);const r=this._initTheme(e,t);return this._transformSpecAfterMergingTheme(r.spec,t,i),r}_transformSpecBeforeMergingTheme(e,t,i){}_transformSpecAfterMergingTheme(e,t,i){}_mergeThemeToSpec(e,t){const i=this._theme;if(this._shouldMergeThemeToSpec()){const r=this._getDefaultSpecFromChart(t),s=a=>qt({},i,r,a);return Oe(e)?{spec:e.map(a=>s(a)),theme:i}:{spec:s(e),theme:i}}return{spec:e,theme:i}}_shouldMergeThemeToSpec(){return!0}_getDefaultSpecFromChart(e){}}var bqt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};class cQ extends jz{getSpec(){return this._spec||{}}getSpecPath(){var e;return(e=this._option)===null||e===void 0?void 0:e.specPath}getSpecInfoPath(){var e,t,i;return(t=(e=this._option)===null||e===void 0?void 0:e.specInfoPath)!==null&&t!==void 0?t:(i=this._option)===null||i===void 0?void 0:i.specPath}getData(){return this._data}get layout(){return this._layout}getOption(){return this._option}getMarks(){var e,t;return(t=(e=this._marks)===null||e===void 0?void 0:e.getMarks())!==null&&t!==void 0?t:[]}getMarkNameMap(){var e;return(e=this._marks)===null||e===void 0?void 0:e.getMarkNameMap()}getMarkSet(){return this._marks}getChart(){return this._option.getChart()}get _theme(){var e;return(e=this.getSpecInfo())===null||e===void 0?void 0:e.theme}constructor(e,t){var i;super(t),this.transformerConstructor=zz,this.type="null",this.modelType="null",this.userId=void 0,this._data=null,this._layout=null,this.specKey="",this._marks=new LM,this._lastLayoutRect=null,this.id=W1(),this.userId=e.id,this._spec=e,this.effect={},this.event=new oQ(t.eventDispatcher,t.mode),(i=t.map)===null||i===void 0||i.set(this.id,this)}_releaseEvent(){this.event.release()}created(){this.setAttrFromSpec()}init(e){}afterInit(){}getVisible(){var e;return((e=this._spec)===null||e===void 0?void 0:e.visible)!==!1}onLayoutStart(e,t){var i;(i=this._layout)===null||i===void 0||i.onLayoutStart(e,t)}onLayoutEnd(){var e;(e=this._layout)===null||e===void 0||e.onLayoutEnd(),this.getMarks().forEach(t=>t.commit(!1,!0))}onEvaluateEnd(e){}onBeforeRender(){}onDataUpdate(){}beforeRelease(){}clear(){this.getMarks().forEach(e=>{var t;return(t=e.clear)===null||t===void 0?void 0:t.call(e)})}release(){var e;this._releaseEvent(),this._spec=void 0,this.getMarks().forEach(t=>t.release()),(e=this._data)===null||e===void 0||e.release(),this._data=null,this._marks.clear(),super.release()}updateSpec(e){var t;const i=this._compareSpec(e,this._spec);return(i.reRender||i.reMake||i.reCompile)&&((t=this._layout)===null||t===void 0||t.setWillLayoutTag()),this._spec=e,i}_compareSpec(e,t){return{change:!1,reMake:!1,reRender:!1,reSize:!1,reCompile:!1}}reInit(e){e&&(this._spec=e),this.setAttrFromSpec()}updateLayoutAttribute(){}setAttrFromSpec(){var e;(e=this._layout)===null||e===void 0||e.setAttrFromSpec(this._spec,this._option.getChartViewRect())}_convertMarkStyle(e){return Object.assign({},e)}setMarkStyle(e,t,i,r){Y(e)&&Y(t)&&e.setStyle(this._convertMarkStyle(t),i,r)}initMarkStyleWithSpec(e,t){if(!Y(e)||!Y(t))return;const{style:i,state:r}=t,s=Object.assign({},t);i&&(s.style=this._convertMarkStyle(i)),r&&(s.state={},Object.keys(r).forEach(a=>{s.state[a]=this._convertMarkStyle(r[a])})),e.initStyleWithSpec(s)}stateKeyToSignalName(e,t){let i=`${Xt}_${this.modelType}_${this.type}_${this.id}_${e}`;return t&&(i+=`_${t}`),i}compileData(){var e;(e=this._data)===null||e===void 0||e.compile()}compileMarks(e){this.getMarks().forEach(t=>{t.compile({group:e})})}_createMark(e,t={},i){const{type:r,name:s}=e,{parent:a}=t,o=bqt(t,["parent"]),l=ne.createMark(r,s,Object.assign({model:this,map:this._option.map,getCompiler:this.getCompiler,globalScale:this._option.globalScale},o));return a?a.addMark(l):this.getCompiler().addRootMark(l),l&&(l.created(),i&&l.setMarkConfig(i)),l}_getDataIdKey(){}getColorScheme(){var e,t;return(t=(e=this._option).getTheme)===null||t===void 0?void 0:t.call(e,"colorScheme")}getSpecInfo(){var e,t,i;const r=(i=(t=(e=this._option).getSpecInfo)===null||t===void 0?void 0:t.call(e))!==null&&i!==void 0?i:{};return LXt(r,this.getSpecInfoPath())}getSpecIndex(){const e=this.getSpecPath();if(!(e!=null&&e.length))return 0;const t=Number(e[e.length-1]);return isNaN(t)?0:t}updateAnimateStateCallback(e){this._aniamtionStateCallback=e}getAnimationStateCallback(){return this._aniamtionStateCallback}}class Sqt{getSpec(){return this._spec||{}}getLayoutStartPoint(){return this._layoutStartPoint}get layoutRectLevelMap(){return this._layoutRectLevelMap}get minWidth(){return this._minWidth}set minWidth(e){this._minWidth=e}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth=e}get minHeight(){return this._minHeight}set minHeight(e){this._minHeight=e}get maxHeight(){return this._maxHeight}set maxHeight(e){this._maxHeight=e}get lastComputeRect(){return this._lastComputeRect}getLastComputeOutBounds(){return this._lastComputeOutBounds}get layoutOrient(){return this._layoutOrient}set layoutOrient(e){this._layoutOrient=e}get model(){return this._model}get type(){return this._model.type}get willLayoutTag(){return this._willLayoutTag}constructor(e,t){var i;this.layoutClip=!1,this.autoIndent=!1,this._layoutStartPoint={x:0,y:0},this._layoutRect={width:0,height:0},this._layoutRectLevelMap={width:Ju,height:Ju},this._minWidth=null,this._maxWidth=null,this._minHeight=null,this._maxHeight=null,this._lastComputeRect=null,this._lastComputeOutBounds={x1:0,x2:0,y1:0,y2:0},this.getLayoutRect=()=>this._layoutRect,this.layoutType="normal",this._layoutOrient="left",this.layoutPaddingLeft=0,this.layoutPaddingTop=0,this.layoutPaddingRight=0,this.layoutPaddingBottom=0,this.layoutOffsetX=0,this.layoutOffsetY=0,this.layoutLevel=Df.Region,this._willLayoutTag=!0,this._model=e,this._option=t,this.layoutLevel=t.layoutLevel,this.layoutType=t.layoutType,t.layoutOrient&&(this.layoutOrient=t.layoutOrient),this._spec=(i=e==null?void 0:e.getSpec)===null||i===void 0?void 0:i.call(e)}_setLayoutAttributeFromSpec(e,t){var i,r,s,a;if(this._spec&&this._spec.visible!==!1){const o=HC(e.padding);let l=nIe(o,t,t);this._option.transformLayoutPadding&&(l=this._option.transformLayoutPadding(l)),this.layoutPaddingLeft=l.left,this.layoutPaddingRight=l.right,this.layoutPaddingTop=l.top,this.layoutPaddingBottom=l.bottom,this._minHeight=J(e.minHeight)?(i=this._minHeight)!==null&&i!==void 0?i:null:Fs(e.minHeight,t.height,t),this._maxHeight=J(e.maxHeight)?(r=this._maxHeight)!==null&&r!==void 0?r:null:Fs(e.maxHeight,t.height,t),this._minWidth=J(e.minWidth)?(s=this._minWidth)!==null&&s!==void 0?s:null:Fs(e.minWidth,t.width,t),this._maxWidth=J(e.maxWidth)?(a=this._maxWidth)!==null&&a!==void 0?a:null:Fs(e.maxWidth,t.width,t),e.width&&this.setLayoutRect({width:Fs(e.width,t.width,t)},{width:Kv}),e.height&&this.setLayoutRect({height:Fs(e.height,t.height,t)},{height:Kv}),J(e.offsetX)||(this.layoutOffsetX=Fs(e.offsetX,t.width,t)),J(e.offsetY)||(this.layoutOffsetY=Fs(e.offsetY,t.height,t)),e.alignSelf&&(this.alignSelf=e.alignSelf)}}setAttrFromSpec(e,t){var i,r,s,a;this._spec=e,this.layoutType=(i=e.layoutType)!==null&&i!==void 0?i:this.layoutType,this.layoutLevel=(r=e.layoutLevel)!==null&&r!==void 0?r:this.layoutLevel,this.layoutOrient=(s=e.orient)!==null&&s!==void 0?s:this.layoutOrient,this._setLayoutAttributeFromSpec(e,t),this.layoutClip=(a=e.clip)!==null&&a!==void 0?a:this.layoutClip}onLayoutStart(e,t){this._setLayoutAttributeFromSpec(this._spec,t)}onLayoutEnd(){}_getAbsoluteSpecValue(e){const t={top:null,bottom:null,left:null,right:null};return["top","bottom","left","right"].forEach(i=>{J(this._spec[i])||(t[i]=Fs(this._spec[i],i==="top"||i==="bottom"?e.height:e.width,e))}),t}absoluteLayoutInRect(e){const{top:t,bottom:i,left:r,right:s}=this._getAbsoluteSpecValue(e),a={width:e.width-this.layoutPaddingLeft-this.layoutPaddingRight,height:e.height-this.layoutPaddingTop-this.layoutPaddingBottom};J(r)||(a.width-=r),J(s)||(a.width-=s),J(t)||(a.height-=t),J(i)||(a.height-=i),this.setLayoutRect(a);const{width:o,height:l}=this.computeBoundsInRect(this.getLayoutRect());this.setLayoutRect({width:o,height:l});const u={x:e.x,y:e.y};this._spec.center===!0?(u.x=e.x+.5*e.width-.5*o,u.y=e.y+.5*e.height-.5*l):(J(r)?J(s)||(u.x=e.x+e.width-this.layoutPaddingRight-s-o):u.x=e.x+r+this.layoutPaddingLeft,J(t)?J(i)||(u.y=e.y+e.height-this.layoutPaddingBottom-i-l):u.y=e.y+t+this.layoutPaddingTop),this.setLayoutStartPosition(u)}setLayoutStartPosition(e){var t,i;this._option.transformLayoutPosition&&(e=this._option.transformLayoutPosition(e)),Me(e.x)&&(this._layoutStartPoint.x=e.x),Me(e.y)&&(this._layoutStartPoint.y=e.y),(i=(t=this._model).afterSetLayoutStartPoint)===null||i===void 0||i.call(t,this._layoutStartPoint)}setLayoutRect({width:e,height:t},i){var r,s,a,o;Me(e)&&((r=i==null?void 0:i.width)!==null&&r!==void 0?r:Ju)>=this._layoutRectLevelMap.width&&(this._layoutRect.width=e,this._layoutRectLevelMap.width=(s=i==null?void 0:i.width)!==null&&s!==void 0?s:Ju),Me(t)&&((a=i==null?void 0:i.height)!==null&&a!==void 0?a:Ju)>=this._layoutRectLevelMap.height&&(this._layoutRect.height=t,this._layoutRectLevelMap.height=(o=i==null?void 0:i.height)!==null&&o!==void 0?o:Ju),this.setRectInSpec(this._layoutRect)}getLayout(){return{x:this._layoutStartPoint.x,y:this._layoutStartPoint.y,width:this._layoutRect.width,height:this._layoutRect.height}}mergeLayoutRect({width:e,height:t}){const i={width:e,height:t};return this._layoutRectLevelMap.width>Ju&&(i.width=this._layoutRect.width),this._layoutRectLevelMap.height>Ju&&(i.height=this._layoutRect.height),i}getOrientPosAttribute(){return this._layoutOrient==="bottom"||this._layoutOrient==="top"?"x":"y"}getOrientSizeAttribute(){return this._layoutOrient==="bottom"||this._layoutOrient==="top"?"width":"height"}changeBoundsBySetting(e){return this._layoutRectLevelMap.width>Ju&&(e.x2=e.x1+this._layoutRect.width),this._layoutRectLevelMap.height>Ju&&(e.y2=e.y1+this._layoutRect.height),e.x1-=this._layoutStartPoint.x,e.x2-=this._layoutStartPoint.x,e.y1-=this._layoutStartPoint.y,e.y2-=this._layoutStartPoint.y,e}setRectInSpec(e){const t=Object.assign({},e);return this._layoutRectLevelMap.width<Kv?(J(this._minWidth)||(t.width=Math.max(t.width,this._minWidth)),J(this._maxWidth)||(t.width=Math.min(t.width,this._maxWidth))):t.width=this._layoutRect.width,this._layoutRectLevelMap.height<Kv?(J(this._minHeight)||(t.height=Math.max(t.height,this._minHeight)),J(this._maxHeight)||(t.height=Math.min(t.height,this._maxHeight))):t.height=this._layoutRect.height,t}computeBoundsInRect(e){if(this._lastComputeRect=e,!(this.layoutType!=="region-relative"&&this.layoutType!=="region-relative-overlap"||(this._layoutRectLevelMap.width!==Kv||this.layoutOrient!=="left"&&this.layoutOrient!=="right")&&(this._layoutRectLevelMap.height!==Kv||this.layoutOrient!=="bottom"&&this.layoutOrient!=="top")))return this._layoutRect;const t=Object.assign({},this._model.getBoundsInRect(this.setRectInSpec(e),e));this.changeBoundsBySetting(t),this.autoIndent&&t.x2-t.x1>0&&t.y2-t.y1>0&&(this._lastComputeOutBounds.x1=Math.ceil(-t.x1),this._lastComputeOutBounds.x2=Math.ceil(t.x2-e.width),this._lastComputeOutBounds.y1=Math.ceil(-t.y1),this._lastComputeOutBounds.y2=Math.ceil(t.y2-e.height));let i=this.setRectInSpec(AXt(t,e));return this._option.transformLayoutRect&&(i=this._option.transformLayoutRect(i)),i}getModelId(){return this._model.id}getModelVisible(){return this._model.getVisible()}setWillLayoutTag(){this._willLayoutTag=!0}clearWillLayoutTag(){this._willLayoutTag=!1}}class vIe extends cQ{constructor(){super(...arguments),this.layoutType="normal",this.layoutLevel=0,this.layoutZIndex=0,this._forceLayoutTag=!1,this._layout=null,this._orient=null,this._layoutRect={width:0,height:0},this._layoutStartPos={x:0,y:0},this._isLayout=!0,this.getGraphicBounds=()=>this._layout?{x1:this._layout.getLayoutStartPoint().x,y1:this._layout.getLayoutStartPoint().y,x2:this._layout.getLayoutStartPoint().x+this._layout.getLayoutRect().width,y2:this._layout.getLayoutStartPoint().y+this._layout.getLayoutRect().height}:{x1:0,x2:0,y1:0,y2:0},this._transformLayoutRect=null,this._transformLayoutPosition=null,this._transformLayoutPadding=null}get layoutOrient(){return this._orient}set layoutOrient(e){this._orient=e,this._layout&&(this._layout.layoutOrient=e)}initLayout(){this.layoutType!=="none"&&(this._layout=new Sqt(this,{layoutType:this.layoutType,layoutLevel:this.layoutLevel,layoutOrient:this._orient,transformLayoutRect:this._transformLayoutRect,transformLayoutPosition:this._transformLayoutPosition,transformLayoutPadding:this._transformLayoutPadding}),this._orient&&this._orient!=="radius"&&this._orient!=="angle"&&this._layout&&(this._layout.layoutOrient=this._orient))}onLayoutStart(e,t){this._isLayout=!0,super.onLayoutStart(e,t)}onLayoutEnd(){super.onLayoutEnd(),this.updateLayoutAttribute();const e=this.getLayoutRect();!this._forceLayoutTag&&Oi(this._lastLayoutRect,e)||(this._lastLayoutRect=Object.assign({},e)),this._forceLayoutTag=!1,this._isLayout=!1}afterSetLayoutStartPoint(e){}_forceLayout(){var e,t;this._isLayout||((e=this._layout)===null||e===void 0||e.setWillLayoutTag(),this._forceLayoutTag=!0,(t=this._option.globalInstance.getChart())===null||t===void 0||t.setLayoutTag(!0))}getLayoutStartPoint(){return this._layout?this._layout.getLayoutStartPoint():this._layoutStartPos}setLayoutStartPosition(e){return this._layout?this._layout.setLayoutStartPosition(e):this._layoutStartPos=We(this._layoutStartPos,e)}getLayoutRect(){return this._layout?this._layout.getLayoutRect():this._layoutRect}setLayoutRect(e,t){return this._layout?this._layout.setLayoutRect(e):this._lastLayoutRect=We(this._layoutRect,e)}getLastComputeOutBounds(){var e;return(e=this._layout)===null||e===void 0?void 0:e.getLastComputeOutBounds()}setAttrFromSpec(){var e,t,i,r,s;super.setAttrFromSpec(),this.layoutClip=(e=this._spec.clip)!==null&&e!==void 0?e:this.layoutClip,this.layoutZIndex=(t=this._spec.zIndex)!==null&&t!==void 0?t:this.layoutZIndex,this.layoutType=(i=this._spec.layoutType)!==null&&i!==void 0?i:this.layoutType,this._orient=(r=this._spec.orient)!==null&&r!==void 0?r:this._orient,this.layoutLevel=(s=this._spec.layoutLevel)!==null&&s!==void 0?s:this.layoutLevel}}class yIe extends zz{_initTheme(e,t){return{spec:e,theme:this._theme}}}class Gw extends vIe{getMaxWidth(){return this._layout.maxWidth}setMaxWidth(e){this._layout.maxWidth=e}getMaxHeight(){return this._layout.maxHeight}setMaxHeight(e){this._layout.maxHeight=e}getGroupMark(){return this._groupMark}getInteractionMark(){return this._interactionMark}getStackInverse(){return this._spec.stackInverse===!0}getStackSort(){return this._spec.stackSort===!0}constructor(e,t){var i;super(e,t),this.transformerConstructor=yIe,this.modelType="region",this.specKey="region",this.type=Gw.type,this._series=[],this.layoutType="region",this.layoutZIndex=ji.Region,this.seriesDataFilterOver=()=>{this.event.emit(Et.regionSeriesDataFilterOver,{model:this,chart:this.getChart()}),this._series.forEach(r=>{r.getViewDataFilter()&&r.reTransformViewData()})},this.getBoundsInRect=()=>({x1:this._layout.getLayoutStartPoint().x,y1:this._layout.getLayoutStartPoint().y,x2:this._layout.getLayoutStartPoint().x+this._layout.getLayoutRect().width,y2:this._layout.getLayoutStartPoint().y+this._layout.getLayoutRect().height}),this.userId=e.id,this.coordinate=(i=e.coordinate)!==null&&i!==void 0?i:"cartesian"}_getClipDefaultValue(){var e,t,i,r;const s=this._option.getChart().getSpec(),a=(t=(e=s.dataZoom)===null||e===void 0?void 0:e.some)===null||t===void 0?void 0:t.call(e,l=>{var u;return((u=l.filterMode)!==null&&u!==void 0?u:"filter")==="axis"}),o=(r=(i=s.scrollBar)===null||i===void 0?void 0:i.some)===null||r===void 0?void 0:r.call(i,l=>{var u;return((u=l.filterMode)!==null&&u!==void 0?u:"axis")==="axis"});return!(!a&&!o)||this._layout.layoutClip}created(){var e,t;this.initLayout(),super.created();const i=(e=this._spec.clip)!==null&&e!==void 0?e:this._getClipDefaultValue();this._groupMark=this._createGroupMark("regionGroup",this.userId,this.layoutZIndex),this._spec.roam&&this._groupMark.setMarkConfig({interactive:!0}),this._interactionMark=this._createGroupMark("regionInteractionGroup",((t=this.userId)!==null&&t!==void 0?t:this.type)+"_interaction",ji.Interaction),Lt(this._spec.style)||(this._backgroundMark=this._createMark({type:"rect",name:"regionBackground"},{parent:this._groupMark}),i&&(this._foregroundMark=this._createMark({type:"rect",name:"regionForeground"},{parent:this._groupMark})),[this._backgroundMark,this._foregroundMark].forEach(r=>{r&&(r.created(),this.setMarkStyle(r,{width:()=>this.getLayoutRect().width,height:()=>this.getLayoutRect().height},"normal",Qe.Built_In),this._groupMark.addMark(r))}),this._backgroundMark&&this._backgroundMark.setMarkConfig({zIndex:ji.SeriesGroup-1}),this._foregroundMark&&this._foregroundMark.setMarkConfig({zIndex:ji.Mark+1}))}_createGroupMark(e,t,i){var r,s;const a=this._createMark({type:"group",name:e});a.setUserId(t),a.setMarkConfig({zIndex:i});const o=(r=this._spec.clip)!==null&&r!==void 0?r:this._getClipDefaultValue();return this.setMarkStyle(a,{x:()=>this.getLayoutStartPoint().x,y:()=>this.getLayoutStartPoint().y,width:()=>this.getLayoutRect().width,height:()=>this.getLayoutRect().height,clip:o},"normal",Qe.Built_In),this.setMarkStyle(a,{cornerRadius:(s=this._spec.style)===null||s===void 0?void 0:s.cornerRadius},"normal",Qe.User_Mark),this._marks.addMark(a),a}init(e){super.init(e),this.initMark(),this.initSeriesDataflow()}initMark(){this._initBackgroundMarkStyle(),this._initForegroundMarkStyle()}_initBackgroundMarkStyle(){var e,t;this._backgroundMark&&(this.setMarkStyle(this._backgroundMark,Object.assign({fillOpacity:!((e=this._spec.style)===null||e===void 0)&&e.fill?1:0},this._spec.style),"normal",Qe.User_Mark),((t=this._spec.clip)!==null&&t!==void 0?t:this._getClipDefaultValue())&&this.setMarkStyle(this._backgroundMark,{strokeOpacity:0},"normal",Qe.Built_In))}_initForegroundMarkStyle(){this._foregroundMark&&this.setMarkStyle(this._foregroundMark,Object.assign(Object.assign({},this._spec.style),{fillOpacity:0,pickable:!1}),"normal",Qe.User_Mark)}_compareSpec(e,t){const i=super._compareSpec(e,t);return Oi(t==null?void 0:t.style,e==null?void 0:e.style)||(i.reMake=!0),i}reInit(e){super.reInit(e),this._initBackgroundMarkStyle(),this._initForegroundMarkStyle()}addSeries(e){e&&(this._series.includes(e)||this._series.push(e))}removeSeries(e){if(!e)return;const t=this._series.findIndex(i=>i===e);t>=0&&this._series.splice(t,1)}getSeries(e={}){return this._series.filter(t=>{var i,r;return(!e.name||(t==null?void 0:t.name)===e.name)&&(!e.userId||Ae(e.userId).includes(t.userId))&&(!Y(e.specIndex)||Ae(e.specIndex).includes(t.getSpecIndex()))&&(!e.id||t.id===e.id)&&(!e.type||t.type===e.type)&&(!e.coordinateType||t.coordinate===e.coordinateType)&&(!e.dataName||((r=(i=t.getRawData)===null||i===void 0?void 0:i.call(t))===null||r===void 0?void 0:r.name)===e.dataName)})}getSeriesInName(e){return this.getSeries({name:e})[0]}getSeriesInUserId(e){return this.getSeries({userId:e})[0]}getSeriesInId(e){return this.getSeries({id:e})[0]}getSeriesInType(e){return this.getSeries({type:e})}getSeriesInCoordinateType(e){return this.getSeries({coordinateType:e})}getSeriesInDataName(e){return this.getSeries({dataName:e})}initSeriesDataflow(){const e=this._series.map(t=>{var i;return(i=t.getViewDataFilter())!==null&&i!==void 0?i:t.getViewData()}).filter(t=>!!t);this._option.dataSet.multipleDataViewAddListener(e,"change",this.seriesDataFilterOver)}release(){super.release(),this._series=[]}compileMarks(e){this.getMarks().forEach(t=>{t.compile({group:e,context:{model:this}})})}compile(){this.compileMarks()}onLayoutEnd(){this._series.forEach(e=>e.onLayoutEnd()),super.onLayoutEnd()}}Gw.type="region",Gw.transformerConstructor=yIe,Gw.specKey="region";function Hz(n){const e=[],t=[],i=[];return n.forEach(r=>{J(r.getSpec().position)||r.getSpec().position==="start"?e.push(r):r.getSpec().position==="middle"?t.push(r):r.getSpec().position==="end"&&i.push(r)}),{startItems:e,endItems:i,middleItems:t}}function _Ie(n,e,t){e?n.forEach(i=>{const r=Xn(i),s=r.getLayoutStartPoint().y+r.getLayoutRect().height-i[0].getLayoutStartPoint().y,a=(t-s)/2;i.forEach(o=>{o.setLayoutStartPosition({x:o.getLayoutStartPoint().x,y:o.getLayoutStartPoint().y+a})})}):n.forEach(i=>{const r=Xn(i),s=r.getLayoutStartPoint().x+r.getLayoutRect().width-i[0].getLayoutStartPoint().x,a=(t-s)/2;i.forEach(o=>{o.setLayoutStartPosition({x:o.getLayoutStartPoint().x+a,y:o.getLayoutStartPoint().y})})})}function Vz(n,e,t,i){let r;n.forEach((s,a)=>{s.length>1&&(r=t[a],s.forEach(o=>{if(!o.alignSelf||o.alignSelf==="start")return;const l=o.getLayoutStartPoint(),u=o.alignSelf==="middle"?.5:1,c=e?r-(o.getLayoutRect().width+o.layoutPaddingLeft+o.layoutPaddingRight):r-(o.getLayoutRect().height+o.layoutPaddingTop+o.layoutPaddingBottom);e?o.setLayoutStartPosition({x:l.x+i*c*u,y:l.y}):o.setLayoutStartPosition({x:l.x,y:l.y+i*c*u})}))})}function d$(n,e,t,i,r,s){if(n.length){let a=0;const o=r==="right",l=o?-1:1;let u=o?e.rightCurrent:e.leftCurrent,c=e.topCurrent;const d=[];let h=[];const f=[];n.forEach(p=>{const{rect:g}=Zb(p,e,s),m=g.height+p.layoutPaddingTop+p.layoutPaddingBottom,v=g.width+p.layoutPaddingLeft+p.layoutPaddingRight,_=o?-g.width-p.layoutPaddingRight:p.layoutPaddingLeft;p.setLayoutStartPosition({x:u+p.layoutOffsetX+_,y:c+p.layoutOffsetY+p.layoutPaddingTop}),c+=m,c>t&&h.length?(f.push(a),u+=l*a,a=v,c=e.topCurrent+m,p.setLayoutStartPosition({x:u+p.layoutOffsetX+_,y:e.topCurrent+p.layoutOffsetY+p.layoutPaddingTop}),d.push(h),h=[p]):(a=Math.max(a,v),h.push(p))}),f.push(a),d.push(h),Vz(d,!0,f,l),i&&_Ie(d,!0,t),o?e.rightCurrent=u+l*a:e.leftCurrent=u+l*a}}function bIe(n,e,t,i,r){if(n.length){let s=0;const a=i==="right",o=a?-1:1;let l=a?e.rightCurrent:e.leftCurrent,u=e.bottomCurrent;const c=[];let d=[];const h=[];n.forEach(f=>{const{rect:p}=Zb(f,e,r),g=p.height+f.layoutPaddingTop+f.layoutPaddingBottom,m=p.width+f.layoutPaddingLeft+f.layoutPaddingRight,v=a?-p.width-f.layoutPaddingRight:f.layoutPaddingLeft;u<g&&d.length?(h.push(s),l+=o*s,s=m,u=e.bottomCurrent,f.setLayoutStartPosition({x:l+f.layoutOffsetX+v,y:u+f.layoutOffsetY-p.height-f.layoutPaddingBottom}),c.push(d),d=[f]):(f.setLayoutStartPosition({x:l+f.layoutOffsetX+v,y:u+f.layoutOffsetY-p.height-f.layoutPaddingBottom}),s=Math.max(s,m),u-=g,d.push(f))}),h.push(s),c.push(d),Vz(c,!0,h,o),a?e.rightCurrent=l+o*s:e.leftCurrent=l+o*s}}function h$(n,e,t,i,r,s){if(n.length){const a=r==="top",o=a?1:-1;let l=0,u=e.leftCurrent,c=a?e.topCurrent:e.bottomCurrent;const d=[];let h=[];const f=[];n.forEach(p=>{const{rect:g}=Zb(p,e,s),m=g.height+p.layoutPaddingTop+p.layoutPaddingBottom,v=g.width+p.layoutPaddingLeft+p.layoutPaddingRight,_=a?p.layoutPaddingTop:-g.height-p.layoutPaddingBottom;p.setLayoutStartPosition({x:u+p.layoutOffsetX+p.layoutPaddingLeft,y:c+p.layoutOffsetY+_}),u+=v,u>t&&h.length?(f.push(l),u=e.leftCurrent+v,c+=o*l,l=m,p.setLayoutStartPosition({x:e.leftCurrent+p.layoutOffsetX+p.layoutPaddingLeft,y:c+p.layoutOffsetY+_}),d.push(h),h=[p]):(l=Math.max(l,m),h.push(p))}),f.push(l),d.push(h),Vz(d,!1,f,o),i&&_Ie(d,!1,t),a?e.topCurrent=c+o*l:e.bottomCurrent=c+o*l}}function SIe(n,e,t,i,r){if(n.length){const s=i==="top",a=s?1:-1;let o=0,l=e.rightCurrent,u=s?e.topCurrent:e.bottomCurrent;const c=[];let d=[];const h=[];n.forEach(f=>{const{rect:p}=Zb(f,e,r),g=p.height+f.layoutPaddingTop+f.layoutPaddingBottom,m=p.width+f.layoutPaddingLeft+f.layoutPaddingRight,v=s?f.layoutPaddingTop:-p.height-f.layoutPaddingBottom;l<m&&d.length?(l=e.rightCurrent,u+=a*o,o=g,f.setLayoutStartPosition({x:e.rightCurrent+f.layoutOffsetX-p.width-f.layoutPaddingRight,y:u+f.layoutOffsetY+v}),c.push(d),d=[f]):(d.push(f),f.setLayoutStartPosition({x:l+f.layoutOffsetX-p.width-f.layoutPaddingRight,y:u+f.layoutOffsetY+v}),o=Math.max(o,g),l-=m)}),h.push(o),c.push(d),Vz(c,!1,h,a),s?e.topCurrent=u+a*o:e.bottomCurrent=u+a*o}}function xqt(n,e,t,i){const{startItems:r,middleItems:s,endItems:a}=Hz(n);r.length&&d$(r,e,t,!1,"left",i),s.length&&d$(s,e,t,!0,"left",i),a.length&&bIe(a,e,t,"left",i)}function wqt(n,e,t,i){const{startItems:r,middleItems:s,endItems:a}=Hz(n);r.length&&d$(r,e,t,!1,"right",i),s.length&&d$(s,e,t,!0,"right",i),a.length&&bIe(a,e,t,"right",i)}function Cqt(n,e,t,i){const{startItems:r,middleItems:s,endItems:a}=Hz(n);r.length&&h$(r,e,t,!1,"top",i),s.length&&h$(s,e,t,!0,"top",i),a.length&&SIe(a,e,t,"top",i)}function Tqt(n,e,t,i){const{startItems:r,middleItems:s,endItems:a}=Hz(n);r.length&&h$(r,e,t,!1,"bottom",i),s.length&&h$(s,e,t,!0,"bottom",i),a.length&&SIe(a,e,t,"bottom",i)}function Zb(n,e,t,i=!0){let r,s,a="recomputeHeight",o="recomputeWidth",l="width";n.layoutOrient!=="top"&&n.layoutOrient!=="bottom"||(a="recomputeWidth",o="recomputeHeight",l="height");let u=!(!n.willLayoutTag&&t[a]===!1);if(u){const c=Object.assign({},n.getLayoutRect()),d=n.lastComputeRect;r=e.getItemComputeLayoutRect(n),!n.willLayoutTag&&Oi(r,d)?(u=!1,s=n.getLayoutRect()):(s=n.computeBoundsInRect(r),Oi(c[l],s[l])?u=!1:(i&&n.setLayoutRect(s),t[o]=!0))}else r=n.getLastComputeOutBounds(),s=n.getLayoutRect();return{layoutRect:r,rect:s,layoutTag:u}}let xIe=class{constructor(e,t){this.leftCurrent=0,this.topCurrent=0,this.rightCurrent=0,this.bottomCurrent=0,this.recomputeWidth=!1,this.recomputeHeight=!1,this._onError=t==null?void 0:t.onError}_layoutInit(e,t,i,r){this._chartLayoutRect=i,this._chartViewBox=r,this.leftCurrent=i.x,this.topCurrent=i.y,this.rightCurrent=i.x+i.width,this.bottomCurrent=i.height+i.y,this.recomputeWidth=!1,this.recomputeHeight=!1,t.sort((s,a)=>a.layoutLevel-s.layoutLevel)}_layoutNormalItems(e,t){this.layoutNormalInlineItems(e.filter(i=>i.layoutType==="normal-inline"),t),this.layoutNormalItems(e.filter(i=>i.layoutType==="normal"),t)}_groupItems(e){const t=e.filter(o=>o.layoutType==="region"),i=e.filter(o=>o.layoutType==="region-relative"),r=e.filter(o=>o.layoutType==="region-relative-overlap"),s=i.concat(r),a={left:{items:[],rect:{width:0,height:0}},right:{items:[],rect:{width:0,height:0}},top:{items:[],rect:{width:0,height:0}},bottom:{items:[],rect:{width:0,height:0}},z:{items:[],rect:{width:0,height:0}}};return r.forEach(o=>{a[o.layoutOrient].items.push(o)}),{regionItems:t,relativeItems:i,relativeOverlapItems:r,allRelatives:s,overlapItems:a}}layoutItems(e,t,i,r){var s,a,o;this._layoutInit(e,t,i,r);const l={recomputeWidth:this.recomputeWidth,recomputeHeight:this.recomputeHeight},u=(o=(a=(s=e==null?void 0:e.getSpec())===null||s===void 0?void 0:s.layout)===null||a===void 0?void 0:a.secondLayoutLeftRight)!==null&&o!==void 0&&o;this._layoutNormalItems(t,l);const c={left:this.leftCurrent,top:this.topCurrent,right:this.rightCurrent,bottom:this.bottomCurrent},{regionItems:d,relativeItems:h,relativeOverlapItems:f,allRelatives:p,overlapItems:g}=this._groupItems(t);this.layoutRegionItems(d,h,f,g,l,u),this._processAutoIndent(d,h,f,g,p,c,l,u),this.layoutAbsoluteItems(t.filter(m=>m.layoutType==="absolute")),t.forEach(m=>{m.clearWillLayoutTag()})}_processAutoIndent(e,t,i,r={left:{items:[],rect:{width:0,height:0}},right:{items:[],rect:{width:0,height:0}},top:{items:[],rect:{width:0,height:0}},bottom:{items:[],rect:{width:0,height:0}},z:{items:[],rect:{width:0,height:0}}},s,a,o,l=!1){if(s.some(u=>u.autoIndent)){const{top:u,bottom:c,left:d,right:h}=this._checkAutoIndent(s,a);(u||c||d||h)&&(this.topCurrent=a.top+u,this.bottomCurrent=a.bottom-c,this.leftCurrent=a.left+d,this.rightCurrent=a.right-h,this.layoutRegionItems(e,t,i,r,o,l))}}layoutNormalItems(e,t){e.forEach(i=>{const{rect:r}=Zb(i,this,t);i.layoutOrient==="left"?(i.setLayoutStartPosition({x:this.leftCurrent+i.layoutOffsetX+i.layoutPaddingLeft,y:this.topCurrent+i.layoutOffsetY+i.layoutPaddingTop}),this.leftCurrent+=r.width+i.layoutPaddingLeft+i.layoutPaddingRight):i.layoutOrient==="top"?(i.setLayoutStartPosition({x:this.leftCurrent+i.layoutOffsetX+i.layoutPaddingLeft,y:this.topCurrent+i.layoutOffsetY+i.layoutPaddingTop}),this.topCurrent+=r.height+i.layoutPaddingTop+i.layoutPaddingBottom):i.layoutOrient==="right"?(i.setLayoutStartPosition({x:this.rightCurrent+i.layoutOffsetX-r.width-i.layoutPaddingRight,y:this.topCurrent+i.layoutOffsetY+i.layoutPaddingTop}),this.rightCurrent-=r.width+i.layoutPaddingLeft+i.layoutPaddingRight):i.layoutOrient==="bottom"&&(i.setLayoutStartPosition({x:this.leftCurrent+i.layoutOffsetX+i.layoutPaddingRight,y:this.bottomCurrent+i.layoutOffsetY-r.height-i.layoutPaddingBottom}),this.bottomCurrent-=r.height+i.layoutPaddingTop+i.layoutPaddingBottom)})}layoutNormalInlineItems(e,t){const i=e.filter(u=>u.layoutOrient==="left"),r=e.filter(u=>u.layoutOrient==="right"),s=e.filter(u=>u.layoutOrient==="top"),a=e.filter(u=>u.layoutOrient==="bottom"),o=this._chartLayoutRect.width+this._chartLayoutRect.x,l=this._chartLayoutRect.height+this._chartLayoutRect.y;return i.length&&xqt(i,this,l,t),s.length&&Cqt(s,this,o,t),r.length&&wqt(r,this,l,t),a.length&&Tqt(a,this,o,t),!0}_layoutRelativeOverlap(e,t,i){t.items.forEach(r=>{const{rect:s}=Zb(r,this,i);t.rect.width=Math.max(s.width+r.layoutPaddingLeft+r.layoutPaddingRight,t.rect.width),t.rect.height=Math.max(s.height+r.layoutPaddingTop+r.layoutPaddingBottom,t.rect.height)}),t.items.forEach(r=>{Oi(r.getLayoutRect(),t.rect)||r.setLayoutRect(t.rect),e==="left"?r.setLayoutStartPosition({x:this.leftCurrent+r.layoutOffsetX}):e==="right"?r.setLayoutStartPosition({x:this.rightCurrent-t.rect.width+r.layoutOffsetX}):e==="top"?r.setLayoutStartPosition({x:this.topCurrent+r.layoutOffsetY}):r.setLayoutStartPosition({x:this.bottomCurrent-t.rect.height+r.layoutOffsetY})}),e==="left"?this.leftCurrent+=t.rect.width:e==="right"?this.rightCurrent-=t.rect.width:e==="top"?this.topCurrent+=t.rect.height:this.bottomCurrent-=t.rect.height}_layoutRelativeItem(e,t){const{rect:i}=Zb(e,this,t,!1);e.layoutOrient==="left"||e.layoutOrient==="right"?e.setLayoutRect({width:i.width}):e.setLayoutRect({height:i.height}),e.layoutOrient==="left"?(e.setLayoutStartPosition({x:this.leftCurrent+e.layoutOffsetX+e.layoutPaddingLeft}),this.leftCurrent+=i.width+e.layoutPaddingLeft+e.layoutPaddingRight):e.layoutOrient==="right"?(this.rightCurrent-=i.width+e.layoutPaddingLeft+e.layoutPaddingRight,e.setLayoutStartPosition({x:this.rightCurrent+e.layoutOffsetX+e.layoutPaddingLeft})):e.layoutOrient==="top"?(e.setLayoutStartPosition({y:this.topCurrent+e.layoutOffsetY+e.layoutPaddingTop}),this.topCurrent+=i.height+e.layoutPaddingTop+e.layoutPaddingBottom):e.layoutOrient==="bottom"&&(this.bottomCurrent-=i.height+e.layoutPaddingTop+e.layoutPaddingBottom,e.setLayoutStartPosition({y:this.bottomCurrent+e.layoutOffsetY+e.layoutPaddingTop}))}_layoutRegionItem(e,t,i){const r=Math.max(Math.min(t,...e.map(a=>{var o;return(o=a.maxWidth)!==null&&o!==void 0?o:Number.MAX_VALUE})),0),s=Math.max(Math.min(i,...e.map(a=>{var o;return(o=a.maxHeight)!==null&&o!==void 0?o:Number.MAX_VALUE})),0);return e.forEach(a=>{const o=r-a.layoutPaddingLeft-a.layoutPaddingRight,l=s-a.layoutPaddingTop-a.layoutPaddingBottom;a.setLayoutRect({width:o,height:l}),a.setLayoutStartPosition({x:this.leftCurrent+a.layoutOffsetX+a.layoutPaddingLeft,y:this.topCurrent+a.layoutOffsetY+a.layoutPaddingTop})}),{regionHeight:s,regionWidth:r}}layoutRegionItems(e,t,i,r={left:{items:[],rect:{width:0,height:0}},right:{items:[],rect:{width:0,height:0}},top:{items:[],rect:{width:0,height:0}},bottom:{items:[],rect:{width:0,height:0}},z:{items:[],rect:{width:0,height:0}}},s,a=!1){const o=this.leftCurrent,l=this.rightCurrent;let u=this.rightCurrent-this.leftCurrent,c=this.bottomCurrent-this.topCurrent;t.filter(f=>f.layoutOrient==="left"||f.layoutOrient==="right").forEach(f=>{this._layoutRelativeItem(f,s)}),this._layoutRelativeOverlap("left",r.left,s),this._layoutRelativeOverlap("right",r.right,s),u=this.rightCurrent-this.leftCurrent,t.filter(f=>f.layoutOrient==="top"||f.layoutOrient==="bottom").forEach(f=>{this._layoutRelativeItem(f,s)}),this._layoutRelativeOverlap("top",r.top,s),this._layoutRelativeOverlap("bottom",r.bottom,s),c=this.bottomCurrent-this.topCurrent,a&&(this.leftCurrent=o,this.rightCurrent=l,t.filter(f=>f.layoutOrient==="left"||f.layoutOrient==="right").forEach(f=>{this._layoutRelativeItem(f,s)}),u=this.rightCurrent-this.leftCurrent);const{regionWidth:d,regionHeight:h}=this._layoutRegionItem(e,u,c);t.concat(i).forEach(f=>{if(["left","right"].includes(f.layoutOrient)){const p=this.filterRegionsWithID(e,f.layoutBindRegionID[0]);f.setLayoutRect({height:p.getLayoutRect().height}),f.setLayoutStartPosition({y:p.getLayoutStartPoint().y+f.layoutOffsetY+f.layoutPaddingTop}),f.layoutOrient==="right"&&f.setLayoutStartPosition({x:f.getLayoutStartPoint().x+d-u})}else if(["top","bottom"].includes(f.layoutOrient)){const p=this.filterRegionsWithID(e,f.layoutBindRegionID[0]);f.setLayoutRect({width:p.getLayoutRect().width}),f.setLayoutStartPosition({x:p.getLayoutStartPoint().x+f.layoutOffsetX+f.layoutPaddingLeft}),f.layoutOrient==="bottom"&&f.setLayoutStartPosition({y:f.getLayoutStartPoint().y+h-c})}})}layoutAbsoluteItems(e){e.forEach(t=>{t.willLayoutTag&&t.absoluteLayoutInRect(this._chartLayoutRect)})}filterRegionsWithID(e,t){var i;const r=e.find(s=>s.getModelId()===t);return r||((i=this._onError)!==null&&i!==void 0?i:LO)("can not find target region item, invalid id"),r}getItemComputeLayoutRect(e){return{width:this.rightCurrent-this.leftCurrent-e.layoutPaddingLeft-e.layoutPaddingRight,height:this.bottomCurrent-this.topCurrent-e.layoutPaddingTop-e.layoutPaddingBottom}}_checkAutoIndent(e,t){const i={top:0,left:0,bottom:0,right:0};return e.forEach(r=>{if(!r.getModelVisible()||!r.autoIndent)return;const s=r.layoutOrient==="left"||r.layoutOrient==="right",a=r.getLastComputeOutBounds(),o=this._getOutInLayout(a,r,t);s?(i.top=Math.max(i.top,o.top),i.bottom=Math.max(i.bottom,o.bottom)):(i.left=Math.max(i.left,o.left),i.right=Math.max(i.right,o.right))}),i}_getOutInLayout(e,t,i){const{x:r,y:s}=t.getLayoutStartPoint(),{width:a,height:o}=t.getLayoutRect();return{left:i.left-(r-e.x1),right:r+a+e.x2-i.right,top:i.top-(s-e.y1),bottom:s+o+e.y2-i.bottom}}};xIe.type="base";var Qa;(function(n){n.enter="enter",n.update="update",n.exit="exit",n.unChange="unChange"})(Qa||(Qa={}));var pt;(function(n){n.STATE_NORMAL="normal",n.STATE_HOVER="hover",n.STATE_HOVER_REVERSE="hover_reverse",n.STATE_DIMENSION_HOVER="dimension_hover",n.STATE_DIMENSION_HOVER_REVERSE="dimension_hover_reverse",n.STATE_SELECTED="selected",n.STATE_SELECTED_REVERSE="selected_reverse",n.STATE_SANKEY_EMPHASIS="selected",n.STATE_SANKEY_EMPHASIS_REVERSE="blur",n.STATE_HIGHLIGHT="highlight",n.STATE_BLUR="blur",n.STATE_ACTIVE="active"})(pt||(pt={}));var mge;(function(n){n.STATE_HOVER_REVERSE="hover_reverse",n.STATE_DIMENSION_HOVER_REVERSE="dimension_hover_reverse",n.STATE_SELECTED_REVERSE="selected_reverse"})(mge||(mge={}));const vge=["linear","radial","conical"],Eqt={x0:0,y0:0,x1:1,y1:1},Aqt={x0:0,y0:0,x1:1,y1:1,r0:0,r1:1},kqt={x:.5,y:.5,startAngle:0,endAngle:2*Math.PI},Oqt={linear:Eqt,radial:Aqt,conical:kqt};function Pqt(n,e,t){var i;const r=(i=e[n])===null||i===void 0?void 0:i.style;return Mqt(n,r)||Re(r)?!0:!(!(r!=null&&r.scale)||r.field===t)}function Mqt(n,e){return(n==="fill"||n==="stroke")&&(e==null?void 0:e.gradient)&&(e==null?void 0:e.stops)}const wIe={};Object.values(pt).forEach(n=>{wIe[n]=!0});function Iqt(n){return!!wIe[n]}pt.STATE_HOVER+"",pt.STATE_HOVER_REVERSE,pt.STATE_SELECTED+"",pt.STATE_SELECTED_REVERSE,pt.STATE_DIMENSION_HOVER+"",pt.STATE_DIMENSION_HOVER_REVERSE;class Rqt extends jz{compile(){}getStateMap(){return this._stateMap}_getDefaultStateMap(){return{}}constructor(e){super(e),this.initStateMap()}initStateMap(e){this._stateMap=e??this._getDefaultStateMap()}updateState(e,t){if(e&&(We(this._stateMap,e),!t))return this.getCompiler().renderNextTick()}}class Dqt extends Rqt{getStateInfoList(){return this._stateInfoList}constructor(e,t){super(e),this._stateInfoList=[],this._mark=t}_getDefaultStateMap(){return{markUpdateRank:1}}getStateInfo(e){return this._stateInfoList.find(t=>t.stateValue===e)}addStateInfo(e){if(this.getStateInfo(e.stateValue))return;e.level=e.level||0;let t=!0;for(let i=0;i<this._stateInfoList.length;i++){const r=this._stateInfoList[i].level;if(r&&r>e.level){this._stateInfoList.splice(i,0,e),t=!1;break}}t&&this._stateInfoList.push(e)}_clearStateBeforeSet(e){e.datums=null,e.items=null,e.fields=null,e.filter=null}changeStateInfo(e){const t=this.getStateInfo(e.stateValue);if(t){if(e.datums!==void 0&&(this._clearStateBeforeSet(t),t.datums=e.datums,t.datumKeys=e.datumKeys),e.items!==void 0&&(this._clearStateBeforeSet(t),t.items=e.items),e.fields!==void 0)if(this._clearStateBeforeSet(t),e.fields===null)t.fields=e.fields;else{t.fields=t.fields||{};for(const i in e.fields){const r=e.fields[i];t.fields[i]=t.fields[i]||{};const s=t.fields[i];Y(r.domain)&&(s.domain=r.domain),Y(r.type)&&(s.type=r.type)}}e.filter&&(this._clearStateBeforeSet(t),t.filter=e.filter)}else this.addStateInfo(e)}clearStateInfo(e){e.forEach(t=>{this.getStateInfo(t)&&this.changeStateInfo({stateValue:t,datumKeys:null,datums:null,fields:null,items:null,filter:null,cache:{}})})}_isMultiMark(){return!this._mark||dqt(this._mark.type)}checkOneState(e,t,i){var r;let s=!1,a=!1;if(Y(i.datums)&&i.datums.length>0)s=this.checkDatumState(i,t),a=!0;else if(i.items)s=(r=this.checkItemsState(i,e))!==null&&r!==void 0&&r,a=!0;else if(i.fields)s=this.checkFieldsState(i,t,e),a=!0;else if(!s&&i.filter){const o={mark:this._mark,renderNode:e,type:this._mark.type};s=i.filter(t==null?void 0:t[0],o),a=!0}return a?s?"in":"out":"skip"}checkState(e,t){var i;const r=((i=e.context.states)!==null&&i!==void 0?i:[]).filter(s=>Iqt(s)).map(s=>[s,10]);for(let s=0;s<this._stateInfoList.length;s++){const a=this._stateInfoList[s],o=this.checkOneState(e,t,a);o!=="skip"&&o==="in"&&r.push([a.stateValue,a.level])}return r.map(s=>s[0])}checkDatumState(e,t){let i=!1;const r=t[0];if(Oe(e.datums)){const s=this._isMultiMark(),a=e.datumKeys||Object.keys(e.datums[0]).filter(o=>!o.startsWith(Xt));i=e.datums.some(o=>s&&Oe(o==null?void 0:o.items)?a.every(l=>{var u,c;return((c=(u=o==null?void 0:o.items)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c[l])===(r==null?void 0:r[l])}):a.every(l=>(o==null?void 0:o[l])===(r==null?void 0:r[l])))}else if(pn(e.datums)){const s=e.datumKeys||Object.keys(e.datums).filter(o=>!o.startsWith(Xt)),a=this._isMultiMark();i=s.every(o=>{var l,u;return a?((l=e.datums.items)===null||l===void 0?void 0:l[0][o])===r[o]:((u=e.datums)===null||u===void 0?void 0:u[o])===r[o]})}else i=t===e.datums;return i}checkItemsState(e,t){var i;return(i=e.items)===null||i===void 0?void 0:i.includes(t)}checkFieldsState(e,t,i){var r;let s=!0;for(const a in e.fields){const o=e.fields[a],l=o.type,u=o.domain,c=(r=t[0])===null||r===void 0?void 0:r[a];if(Ei(l)&&u.length>1){if(this.checkLinearFieldState(u,a,t,i)){s=!1;break}s=!0}else{if(!u.some(d=>d===c)){s=!1;break}s=!0}}return s}checkLinearFieldState(e,t,i,r){var s;const a=this._isMultiMark()?(s=i[0])===null||s===void 0?void 0:s[t]:i[t];return a<e[0]||a>e[e.length-1]}release(){}}class CIe extends jz{constructor(){super(...arguments),this.id=W1(),this._compiledProductId=null}getProductId(){var e;return(e=this._compiledProductId)!==null&&e!==void 0?e:this.generateProductId()}compile(e){this._compileProduct(e)}setTransform(e){this._transform=e}runTransforms(e,t){if(!e||!e.length)return t;let i=t;return e.forEach(r=>{var s;i=(s=ne.getGrammarTransform(r.type))===null||s===void 0?void 0:s.transform(r,i)}),i}}class Zl extends CIe{getProduct(){return this._product||(this._product=this.runTransforms(this._transform,this.getLatestData())),this._product}getDataView(){return this._data}setDataView(e){this._data=e}getLatestData(){var e;return(e=this._data)===null||e===void 0?void 0:e.latestData}constructor(e,t){super(e),this._data=null,this._data=t}removeProduct(){this._product=null,this._prevProduct=null,this._compiledProductId=null}release(){this.removeProduct(),super.release(),this._data=null}addRelatedMark(e){this._relatedMarks||(this._relatedMarks={}),this._relatedMarks[e.id]=e}updateData(e){if(this._compileProduct(),this._relatedMarks){let t=!1;if(Object.keys(this._relatedMarks).forEach(i=>{this._relatedMarks[i]&&(t=!0,this._relatedMarks[i].commit())}),!e&&t)return this.getCompiler().renderNextTick()}}_compileProduct(){this._prevProduct=this._product,this._product=null}generateProductId(){var e;return`${(e=this.getDataView())===null||e===void 0?void 0:e.name}`}}const jD=(n,e,t,i)=>typeof n=="function"?n(e,t,i):n,yge=(n,e,t,i,r)=>{var s;const a={prev:n.map(g=>{var m,v;return(v=(m=g.context)===null||m===void 0?void 0:m.data)===null||v===void 0?void 0:v[0]}),next:e.map(g=>{var m,v;return(v=(m=g.context)===null||m===void 0?void 0:m.data)===null||v===void 0?void 0:v[0]})},o={prev:n.slice(),next:e.slice()},l=(s=t.animation)!==null&&s!==void 0?s:{},u=l.easing,c=jD(l.delay,r,a,o),d=jD(l.duration,r,a,o),h=jD(l.oneByOne,r,a,o),f=jD(l.splitPath,r,a,o),p=Me(h)&&h>0?g=>st(h)?g*h:h===!0?g*d:0:void 0;n.length!==1&&n.length!==0||e.length!==1?n.length===1&&e.length>1?OYt(n[0],e,{delay:c,duration:d,easing:u,onEnd:i,individualDelay:p,splitPath:f}):n.length>1&&e.length===1&&MYt(n,e[0],{delay:c,duration:d,easing:u,onEnd:i,individualDelay:p,splitPath:f}):GPe(n[0],e[0],{delay:c,duration:d,easing:u,onEnd:i})},_ge=(n,e)=>{const t=Math.floor(n.length/e);return new Array(e).fill(0).map((i,r)=>n.slice(t*r,r===e-1?n.length:t*(r+1)))},bge=n=>{const e=n.getMarkConfig();Y(e.morphElementKey)&&n.getGraphics().forEach(t=>{var i,r;const s=(r=(i=t.context)===null||i===void 0?void 0:i.data)===null||r===void 0?void 0:r[0];s&&(t.context.morphKey=s[e.morphElementKey])})},Lqt=(n,e,t={})=>{const i=[],r=[];n.forEach(d=>{bge(d),i.push(...d.getGraphics())}),e.forEach(d=>{bge(d),r.push(...d.getGraphics())});const s=d=>{var h,f,p;return(f=(h=d.context)===null||h===void 0?void 0:h.morphKey)!==null&&f!==void 0?f:(p=d.context)===null||p===void 0?void 0:p.key},a=new Map,o=new Map;if(i.forEach(d=>{const h=s(d);h&&(a.has(h)||a.set(h,[]),a.get(h).push(d))}),r.forEach(d=>{const h=s(d);h&&(o.has(h)||o.set(h,[]),o.get(h).push(d))}),a.size!==o.size||!Array.from(a.keys()).every(d=>o.has(d)))return!1;const l=[...new Set([...a.keys()].filter(d=>o.has(d)))],u=[...o.keys()].filter(d=>!a.has(d)),c=()=>{};return u.forEach(d=>{const h=o.get(d);yge([],h,t,c,{})}),l.forEach(d=>{const h=a.get(d),f=o.get(d),p=Math.min(h.length,f.length);if(p>0){const g=_ge(h,p),m=_ge(f,p);for(let v=0;v<p;v++)yge(g[v],m[v],t,c,{})}}),!0};var Sge=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};class Mu extends CIe{commit(e,t){t&&this.getMarks().length>0&&this.getMarks().forEach(i=>i.commit(!1,t)),this._isCommited=!0,e&&this.getCompiler().renderNextTick()}uncommit(){this._isCommited=!1}isCommited(){return this._isCommited}getMarkConfig(){return this._markConfig}setMarkConfig(e){Object.keys(e).forEach(t=>{this._markConfig[t]=e[t]})}getVisible(){return this._visible}setVisible(e){this._visible=e}getUserId(){return this._userId}setUserId(e){Y(e)&&(this._userId=e)}getDataView(){var e;return(e=this._data)===null||e===void 0?void 0:e.getDataView()}setDataView(e){J(this._data)&&this.initMarkData(this._option),this._data.setDataView(e)}getData(){return this._data}setData(e){this._data=e,e&&e.addRelatedMark(this)}hasState(e){return e in this.state.getStateMap()}getState(e){return this.state.getStateMap()[e]}getAnimationConfig(){return this._animationConfig}setAnimationConfig(e){const t=this.type==="group"?{selfOnly:!0}:{},i=s=>{var a;const o=(a=s.options)!==null&&a!==void 0?a:{};return Object.assign(Object.assign(Object.assign({},t),s),{options:(l,u,c)=>{var d,h;const f=typeof o=="function"?o(l,u,c):o;if(u&&u.context&&u.context.compiler&&Y(u.context.modelId)){const p=(d=u.context.compiler.getChart())===null||d===void 0?void 0:d.getModelById(u.context.modelId);return Object.assign(Object.assign({},f),{layoutRect:(h=p==null?void 0:p.getLayoutRect)===null||h===void 0?void 0:h.call(p)})}return Object.assign({},f)}})},r={};Object.keys(e).forEach(s=>{const a=e[s];Oe(a)?r[s]=a.map(i):Y(a)&&(r[s]=i(a))}),this._animationConfig=r}disableAnimationByState(e){const t=Ae(e);this._disabledAnimationStates=[...new Set([...this._disabledAnimationStates,...t])]}enableAnimationByState(e){const t=Ae(e);this._disabledAnimationStates=this._disabledAnimationStates.filter(i=>!t.includes(i))}setSkipBeforeLayouted(e){this._skipBeforeLayouted=e}setGroupKey(e){this._groupKey=e}getProduct(){return this._product}initMarkData(e){this._data=new Zl(e),this._data.addRelatedMark(this)}_compileProduct(e){this.commit(),this._context=e==null?void 0:e.context;const t=this.getProduct();if(this._visible){if(Y(t))e.group&&t.parent!==e.group&&e.group.appendChild(t);else{if(!this.getCompiler().isInited)return;this._initProduct(e==null?void 0:e.group)}J(this._product)||(this.compileData(),this.compileState(),this.compileEncode())}else Y(t)&&this.removeProduct()}_initProduct(e){var t;if(!this.getStage())return;const i=this.getProductId();this._product=WF(this.type!=="group"?{pickable:!1,zIndex:this._markConfig.zIndex,overflow:this._markConfig.overflow}:{}),this._product.name=i,this._product.mark=this,(e??((t=this.getCompiler())===null||t===void 0?void 0:t.getRootGroup())).appendChild(this._product),this._compiledProductId=i}generateProductId(){return this._userId?`${this._userId}`:`${this.name}_${this.id}`}layout(e){}compileData(){J(this._data)||this._data.compile()}compileEncode(){}compileState(){}compileAnimation(){}compileContext(e){this._context=Object.assign({markId:this.id,modelId:this.model.id,markUserId:this._userId,modelUserId:this.model.userId},e)}getContext(){return this._context}compileTransform(){}updateState(e,t){return this.commit(),this.state.updateState(e,t)}getMarks(){return[]}runAnimationByState(e){}stopAnimationByState(e){}pauseAnimationByState(e){}resumeAnimationByState(e){}removeProduct(){this._product&&this._product.parent&&this._product.parent.removeChild(this._product),this._product=null,this._compiledProductId=null}release(){this.state.release(),super.release(),this._lastMark=null}setSimpleStyle(e){this._simpleStyle=e}getSimpleStyle(){return this._simpleStyle}constructor(e,t){var i;super(t),this.type=void 0,this.name="mark",this._markConfig={zIndex:ji.Mark,morph:!1},this._visible=!0,this.stateStyle={},this._unCompileChannel={},this._disabledAnimationStates=[],this._skipBeforeLayouted=!1,this._extensionChannel={},this._computeExChannel={},this._graphicMap=new Map,this._graphics=[],this._getEncoderOfStyle=(r,s)=>{if(s&&r){const a={};return Object.keys(s).forEach(o=>{this._unCompileChannel[o]||(a[o]=this._computeAttribute(o,r))}),a}return null},this._setGraphicFromMarkConfig=r=>{const{setCustomizedShape:s,graphicName:a}=this._markConfig;s&&(r.pathProxy=o=>s(r.context.data,o,new Ts)),a&&(Re(a)?r.name=a(r):r.name=a)},this._setStateOfGraphic=(r,s)=>{r.clearStates(),r.stateProxy=null,r.context.diffState!==Qa.enter&&r.context.diffState!==Qa.update||(r.stateProxy=(a,o)=>{var l;return this._runEncoderOfGraphic((l=this._encoderOfState)===null||l===void 0?void 0:l[a],r)},r.context.states&&r.useStates(r.context.states,s))},this.name=e,this.model=t.model,this.key=t.key,this.state=new Dqt(t,this),this._attributeContext=t.attributeContext,(i=t.map)===null||i===void 0||i.set(this.id,this)}created(){this._initStyle()}initStyleWithSpec(e){e&&(Y(e.id)&&(this._userId=e.id),Va(e.interactive)&&(this._markConfig.interactive=e.interactive),Y(e.zIndex)&&(this._markConfig.zIndex=e.zIndex),Va(e.visible)&&this.setVisible(e.visible),this._markConfig.setCustomizedShape=e.customShape,this._stateSort=e.stateSort,this._initSpecStyle(e))}_transformStyleValue(e,t){if(e.scale){const i=e.scale,r=i.range();return i.range(r.map(t)),e}return typeof e=="function"?(...i)=>t(e(...i)):t(e)}convertAngleToRadian(e){return this._transformStyleValue(e,ar)}isUserLevel(e){return[Qe.User_Mark,Qe.User_Series,Qe.User_Chart,Qe.User_SeriesStyle].includes(e)}setStyle(e,t="normal",i=0){if(J(e))return;this.stateStyle[t]===void 0&&(this.stateStyle[t]={});const r=this.isUserLevel(i);Object.keys(e).forEach(s=>{let a=e[s];J(a)||(a=this._filterAttribute(s,a,t,i,r),this.setAttribute(s,a,t,i))})}getStyle(e,t="normal"){var i;return(i=this.stateStyle[t][e])===null||i===void 0?void 0:i.style}_filterAttribute(e,t,i,r,s){let a=this._styleConvert(t);if(s)switch(e){case"angle":a=this.convertAngleToRadian(a);break;case"innerPadding":case"outerPadding":a=this._transformStyleValue(a,o=>-o);break;case"curveType":a=this._transformStyleValue(a,o=>hqt(o,this._option.model.direction))}return a}setReferer(e,t,i){var r;if(e)if(t&&i){const s=(r=this.stateStyle[i])!==null&&r!==void 0?r:{[t]:{}};this.stateStyle[i][t]=Object.assign(Object.assign({},s[t]),{referer:e})}else Object.entries(this.stateStyle).forEach(([s,a])=>{Object.entries(a).forEach(([o,l])=>{this.stateStyle[s][o].referer=e})})}setPostProcess(e,t,i="normal"){var r;!((r=this.stateStyle[i])===null||r===void 0)&&r[e]&&(this.stateStyle[i][e].postProcess=t)}getAttribute(e,t,i="normal"){return this._computeAttribute(e,i)(t)}getAttributesOfState(e,t="normal"){const i=this.stateStyle[t];if(i){const r={};return Object.keys(i).forEach(s=>{this._unCompileChannel[s]||(r[s]=this._computeAttribute(s,t)(e))}),r}}setAttribute(e,t,i="normal",r=0){var s;this.stateStyle[i]===void 0&&(this.stateStyle[i]={}),this.stateStyle[i][e]===void 0&&(this.stateStyle[i][e]={level:r,style:t,referer:void 0});const a=(s=this.stateStyle[i][e])===null||s===void 0?void 0:s.level;Y(a)&&a<=r&&qt(this.stateStyle[i][e],{style:t,level:r}),i!=="normal"&&e in this._extensionChannel&&this._extensionChannel[e].forEach(o=>{this.stateStyle[i][o]===void 0&&(this.stateStyle[i][o]=this.stateStyle.normal[o])})}_getDefaultStyle(){return{visible:!0,x:0,y:0}}_styleConvert(e){if(!e)return e;if(g7(e.type)||e.scale){const t=CXt(e,{globalScale:this._option.globalScale,seriesId:this._option.seriesId});if(t)return{scale:t,field:e.field,changeDomain:e.changeDomain}}return e}_computeAttribute(e,t){var i;let r=(i=this.stateStyle[t])===null||i===void 0?void 0:i[e];r||(r=this.stateStyle.normal[e]);const s=this._computeStateAttribute(r,e,t),a=Re(r==null?void 0:r.postProcess),o=e in this._computeExChannel;if(a&&o){const l=this._computeExChannel[e];return u=>{let c=s(u);return c=r.postProcess(c,u,this._attributeContext,this.getDataView()),l(e,u,t,c)}}if(a)return l=>r.postProcess(s(l),l,this._attributeContext,this.getDataView());if(o){const l=this._computeExChannel[e];return u=>l(e,u,t,s(u))}return s}_computeStateAttribute(e,t,i){var r;return e?e.referer?e.referer._computeAttribute(t,i):e.style?typeof e.style=="function"?s=>e.style(s,this._attributeContext,{mark:this},this.getDataView()):vge.includes(e.style.gradient)?this._computeGradientAttr(e.style):["outerBorder","innerBorder"].includes(t)?this._computeBorderAttr(e.style):g7((r=e.style.scale)===null||r===void 0?void 0:r.type)?s=>{let a=s;return this.model.modelType==="series"&&this.model.getMarkData&&(a=this.model.getMarkData(s)),e.style.scale.scale(a[e.style.field])}:s=>e.style:s=>e.style:s=>{}}_initStyle(){const e=this._getDefaultStyle();this.setStyle(e,"normal",0)}_initSpecStyle(e){e.style&&this.setStyle(e.style,"normal",Qe.User_Mark);const t=e.state;t&&Object.keys(t).forEach(i=>{const r=t[i];if("style"in r){const s=r.style;let a={stateValue:i};"level"in r&&(a.level=r.level),"filter"in r&&(a=Re(r.filter)?Object.assign({filter:r.filter},a):Object.assign(Object.assign({},r.filter),a)),this.state.addStateInfo(a),this.setStyle(s,i,Qe.User_Mark)}else this.setStyle(r,i,Qe.User_Mark)})}_computeGradientAttr(e){var t,i;const{gradient:r,scale:s,field:a}=e,o=Sge(e,["gradient","scale","field"]);let l=s,u=a;if(!(s&&a||this.model.modelType!=="series")){const{scale:h,field:f}=this.model.getColorAttribute();s||(l=h),u||(u=f)}const c=T7(HO(this.model.getColorScheme(),this.model.modelType==="series"?(i=(t=this.model).getSpec)===null||i===void 0?void 0:i.call(t):void 0),this.model.getDefaultColorDomain()),d=Object.assign(Object.assign({},Oqt[r]),o);return h=>{const f={},p=this.getDataView();return Object.keys(d).forEach(g=>{const m=d[g];g==="stops"?f.stops=m.map(v=>{const{opacity:_,color:y,offset:x}=v;let w=y??(l==null?void 0:l.scale(h[u]));return Re(y)&&(w=y(h,this._attributeContext,p)),Y(_)&&(w=ga.SetOpacity(w,_)),{offset:Re(x)?x(h,this._attributeContext,p):x,color:w||c[0]}}):Re(m)?f[g]=m(h,this._attributeContext,p):f[g]=m}),f.gradient=r,f}}_computeBorderAttr(e){const{scale:t,field:i}=e,r=Sge(e,["scale","field"]);return s=>{var a,o,l;const u={};if(Object.keys(r).forEach(c=>{const d=r[c];Re(d)?u[c]=d(s,this._attributeContext,this.getDataView()):u[c]=d}),"stroke"in u)vge.includes((l=r.stroke)===null||l===void 0?void 0:l.gradient)&&(u.stroke=this._computeGradientAttr(r.stroke)(s));else{const c=T7(HO(this.model.getColorScheme(),this.model.modelType==="series"?(o=(a=this.model).getSpec)===null||o===void 0?void 0:o.call(a):void 0),this.model.getDefaultColorDomain());let d=t,h=i;if(!(t&&i||this.model.modelType!=="series")){const{scale:f,field:p}=this.model.getColorAttribute();t||(d=f),h||(h=p),u.stroke=(d==null?void 0:d.scale(s[h]))||c[0]}}return u}}_getDataByKey(e){return WC(e,(t,i)=>{var r;return`${this._groupKeyGetter(t)}_${(r=this._keyGetter(t))!==null&&r!==void 0?r:i}`})}_getCommonContext(){return{compiler:this.getCompiler(),markType:this.type,markId:this.id,modelId:this.model.id,markUserId:this._userId,modelUserId:this.model.userId}}prepareMorph(e){this._lastMark=e}reuse(e){this.type===e.type&&(this._product=e.getProduct(),this._graphics=e.getGraphics(),this._graphicMap=e._graphicMap,this._graphicMap.forEach(t=>{t.context=Object.assign(Object.assign({},t.context),this._getCommonContext())}),this._dataByKey=e._dataByKey,this._prevDataByKey=e._prevDataByKey,this.needClear=e.needClear)}_parseProgressiveContext(e){const t=this._markConfig.progressiveStep>0&&this._markConfig.progressiveThreshold>0&&this._markConfig.progressiveStep<this._markConfig.progressiveThreshold,i=this._markConfig.large&&this._markConfig.largeThreshold>0&&e.length>=this._markConfig.largeThreshold;if(t){const r=this._dataByGroup;return r&&r.keys&&r.keys.some(s=>r.data.get(s).length>this._markConfig.progressiveThreshold)?{large:i,progressive:{data:e,step:this._markConfig.progressiveStep,currentIndex:0,totalStep:r.keys.reduce((s,a)=>Math.max(Math.ceil(r.data.get(a).length/this._markConfig.progressiveStep),s),1),groupedData:r.data}}:{large:i}}return{large:i}}getGraphics(){return this._graphics}_createGraphic(e={}){return ne.createGraphicComponent(this.type,e)}_runGroupData(e){this._keyGetter=Re(this.key)?this.key:Y(this.key)?t=>t==null?void 0:t[this.key]:t=>t==null?void 0:t[yc],this._groupKeyGetter=Y(this._groupKey)?t=>`${t==null?void 0:t[this._groupKey]}`:()=>"key",this._dataByGroup=WC(e,this._groupKeyGetter)}getAnimationState(){const e=this._graphics.map(i=>i.context.animationState),t=e.every(i=>i===qi.appear)?qi.appear:e.every(i=>i===qi.disappear)?qi.disappear:e[0];return t??qi.none}createAnimationStateList(e,t){var i;let r=t[e];return r&&Array.isArray(r)&&(r=r.length===1?r[0]:r),Array.isArray(r)?r.map((s,a)=>{var o;return Object.assign(Object.assign({},s),{priority:(o=s.priority)!==null&&o!==void 0?o:1/0})}):r&&Object.assign(Object.assign({},r),{priority:e==="normal"?(i=r.priority)!==null&&i!==void 0?i:1/0:r.priority})}tryRunMorphing(e){if(this._lastMark){e.forEach(i=>{i.context.animationState!=="appear"&&i.context.animationState!=="enter"||i.setAttributes(i.getAttributes(!0))});const t=Lqt([this._lastMark],[this],{});return this._lastMark=null,t}return!1}_runStateAnimation(e){var t,i;if(!this._animationConfig||e.length===0||this.tryRunMorphing(e))return;const r=this.getAnimationConfig();if((t=this._markConfig.useSequentialAnimation)!==null&&t!==void 0&&t&&this._runSequentialAnimations)return void this._runSequentialAnimations(e);const s=e.every(l=>l.context.animationState==="appear"),a=this.createAnimationStateList("appear",r);if(s&&this._product){const l=a?["appear"]:[],u=a?[{name:"appear",animation:a}]:[];if(r.normal){l.push("normal");const c={name:"normal",animation:this.createAnimationStateList("normal",r)};u.push(c)}this._product.applyAnimationState(l,u)}let o=!1;if(e.forEach(l=>{const u=l.context.animationState;if(u==="appear")return;const c=r[u];if(c&&c.length>0){const d=c.map((f,p)=>({name:`${u}_${p}`,animation:f}));d.forEach(f=>{f.animation.customParameters=l.context});const h=[u];l.applyAnimationState(h,[d.length===1?d[0]:d])}u==="enter"&&r.normal&&(o=!0)}),o&&this._product&&((i=r.normal)===null||i===void 0?void 0:i.length)){this._product.stopAnimationState("normal","start");const l={name:"normal",animation:this.createAnimationStateList("normal",r)};this._product.applyAnimationState(["normal"],[l])}}_setAnimationState(e){var t,i,r;const s=(this.type==="component"?this.model.getAnimationStateCallback():(r=(i=(t=this.model).getRegion)===null||i===void 0?void 0:i.call(t))===null||r===void 0?void 0:r.getAnimationStateCallback())||(o=>{var l;const u=(l=o.context)===null||l===void 0?void 0:l.diffState;return u===qi.exit?qi.exit:u===qi.update?qi.update:qi.appear}),a=s(e);e.context.animationState=a??e.context.diffState,e.context.animationState===Qa.exit&&(e.context.reusing=!0,e.animates&&e.animates.forEach(o=>o.stop()))}_runJoin(e){const t=this._getDataByKey(e),i=this._prevDataByKey,r=[],s=new Set(this._graphics.filter(l=>l.context.diffState===Qa.enter)),a=(l,u,c)=>{var d,h,f,p,g,m,v,_,y;let x,w;return J(u)?(x=this._graphicMap.get(l),x&&(w=Qa.exit)):J(c)?(x=this._graphicMap.has(l)?this._graphicMap.get(l):{},w=Qa.enter,x.isExiting=!1,this._graphicMap.set(l,x),r.push(x)):(x=this._graphicMap.get(l),x&&(w=Qa.update,r.push(x))),x&&(s.delete(x),x.context=Object.assign(Object.assign({},this._getCommonContext()),{diffState:w,reusing:(d=x.context)===null||d===void 0?void 0:d.reusing,originalFieldX:(h=x.context)===null||h===void 0?void 0:h.originalFieldX,originalFieldY:(f=x.context)===null||f===void 0?void 0:f.originalFieldY,fieldX:(p=x.context)===null||p===void 0?void 0:p.fieldX,fieldY:(g=x.context)===null||g===void 0?void 0:g.fieldY,data:u??((m=x.context)===null||m===void 0?void 0:m.data),uniqueKey:l,key:u?this._keyGetter(u[0]):(v=x.context)===null||v===void 0?void 0:v.key,groupKey:u?this._groupKeyGetter(u[0]):(_=x.context)===null||_===void 0?void 0:_.groupKey,indexKey:"__VCHART_DEFAULT_DATA_INDEX",stateAnimateConfig:(y=this.getAnimationConfig())===null||y===void 0?void 0:y.state}),this._setAnimationState(x)),x};if(i&&t){const l=new Map(i.data);t.keys.forEach(u=>{a(u,t.data.get(u),l.get(u)),l.delete(u)}),i.keys.forEach(u=>{l.has(u)&&a(u,null,l.get(u))})}else t?t.keys.forEach(l=>{const u=a(l,t.data.get(l),null);u&&(u.context.animationState=qi.appear)}):i&&i.keys.forEach(l=>{a(l,null,i.data.get(l)).context.animationState=qi.disappear});s.forEach(l=>{this._graphicMap.delete(l.context.uniqueKey),l.parent&&l.parent.removeChild(l),l.release()});const o=r.length;r.forEach((l,u)=>{l.context.graphicCount=o,l.context.graphicIndex=u}),this._dataByKey=t,this._graphics=r,this.needClear=!0}_runEncoderOfGraphic(e,t,i={}){return fge(e,t.context.data[0],i)}_runGroupEncoder(e){if(!this._dataByGroup)return null;const t={};return this._dataByGroup.keys.forEach(i=>{t[i]=fge(e,this._dataByGroup.data.get(i)[0])}),this._attrsByGroup=t,t}_transformGraphicAttributes(e,t,i){return Object.assign(Object.assign({},i),t)}_separateNormalStyle(e){const t={},i={};return Object.keys(e).forEach(r=>{this._unCompileChannel[r]||(this._option.noSeparateStyle||Pqt(r,e,this._groupKey)?t[r]=e[r]:i[r]=e[r])}),{updateStyles:t,groupStyles:i}}_addProgressiveGraphic(e,t){e.incrementalAppendChild(t)}_runEncoder(e,t){var i;const r=t?null:this._runGroupEncoder((i=this._encoderOfState)===null||i===void 0?void 0:i.group);e.forEach((s,a)=>{var o;const l=this._runEncoderOfGraphic((o=this._encoderOfState)===null||o===void 0?void 0:o.update,s);J(this._markConfig.interactive)||(l.pickable=this._markConfig.interactive);const u=this._transformGraphicAttributes(s,l,r==null?void 0:r[s.context.groupKey]);s.context.finalAttrs=u})}_runApplyGraphic(e){const t=this.hasAnimation();e.forEach((i,r)=>{var s,a;const o=i.context.finalAttrs,l=this.hasAnimationByState(i.context.animationState);if(i.setAttributes){const u=pIe(i,o);i.context.diffAttrs=u,i.context.reusing?(i.context.lastAttrs=i.attribute,i.initAttributes({}),i.context.reusing=!1):l||(t?i.setAttributesAndPreventAnimate(u):i.setAttributes(u)),t&&i.setFinalAttributes(o)}else{const u=i;i=this._createGraphic(o),t&&((s=i.setFinalAttributes)===null||s===void 0||s.call(i,o)),i.context=u.context,i.context.diffAttrs=o;const c=this._graphics===e?r:r+this._graphics.length-e.length;if(c>=0&&(this._graphics[c]=i),(a=this.renderContext)===null||a===void 0?void 0:a.progressive){const d=this._dataByGroup?this._dataByGroup.keys.indexOf(i.context.groupKey):0,h=d>=0?this._product.getChildAt(d):null;h&&this._addProgressiveGraphic(h,i)}else this._product.appendChild(i),this._graphicMap.set(i.context.uniqueKey,i)}this._setStateOfGraphic(i,l),this._setGraphicFromMarkConfig(i)})}_updateEncoderByState(){const e={};Object.keys(this.stateStyle).forEach(t=>{if(t===pt.STATE_NORMAL){const{groupStyles:i,updateStyles:r}=this._separateNormalStyle(this.stateStyle[t]);e.group=this._getEncoderOfStyle(t,i),e.update=this._getEncoderOfStyle(t,r)}else e[t]=this._getEncoderOfStyle(t,this.stateStyle[t])}),this._encoderOfState=e}_runState(e){e.forEach(t=>{var i;const r=[...((i=t.currentStates)!==null&&i!==void 0?i:[]).filter(s=>!this.state.getStateInfo(s)),...this.state.checkState(t,t.context.data)];this._stateSort&&r.length&&r.sort(this._stateSort),t.context.states=r})}_getAttrsFromConfig(e={}){const{zIndex:t,clip:i,clipPath:r,overflow:s}=this._markConfig;if(J(t)||(e.zIndex=t),J(i)||(e.clip=i),!J(r)){const a=Oe(r)?r:r(this._graphics);a&&a.length||(e.clip=!1),e.path=a}return J(s)||(e.overflow=s),e}_updateAttrsOfGroup(){var e;const t=this._getAttrsFromConfig();(e=this._product)===null||e===void 0||e.setAttributes(t),this._markConfig.support3d&&this._product&&this._product.setMode("3d")}_runBeforeTransform(e){var t;const i=(t=this._transform)===null||t===void 0?void 0:t.filter(r=>{if(r.type){const s=ne.getGrammarTransform(r.type);return s&&(!s.runType||s.runType==="beforeJoin")}return!1});return this.runTransforms(i,e)}_runEncoderTransform(e,t){var i;const r=(i=this._transform)===null||i===void 0?void 0:i.filter(s=>{if(s.type){const a=ne.getGrammarTransform(s.type);return a&&a.runType==="afterEncode"&&!!a.canProgressive===t}return!1});return this.runTransforms(r,e)}renderInner(){var e,t,i;this._updateEncoderByState();const r=(t=(e=this._data)===null||e===void 0?void 0:e.getProduct())!==null&&t!==void 0?t:[{}],s=this._runBeforeTransform(r);let a;if(s!=null&&s.progressive){this.renderContext={beforeTransformProgressive:s.progressive};const o=s.progressive;if(o.canAnimate&&o.canAnimate()&&o.unfinished())return void this._updateAttrsOfGroup();a=o.output()}else a=Ae(s),this._runGroupData(a),this.renderContext=this._parseProgressiveContext(a);!((i=this.renderContext)===null||i===void 0)&&i.progressive?(this._graphicMap.clear(),this._runProgressiveStep()):(this._runJoin(a),this._runState(this._graphics),this._runEncoder(this._graphics),this._runEncoderTransform(this._graphics,!1),this._runApplyGraphic(this._graphics)),this._updateAttrsOfGroup()}render(){this.isCommited()&&(!this.getVisible()||this._skipBeforeLayouted&&this.getCompiler().getLayoutState()===Lb.before||(CB(`render mark: ${this.getProductId()}, type is ${this.type}`),this.renderInner()),this.uncommit())}updateMarkState(e){if(!this._product)return;const t=this.state.getStateInfo(e);this._graphics.forEach(i=>{this.state.checkOneState(i,i.context.data,t)==="in"?i.addState(e,!0,this.hasAnimationByState("state")):i.removeState(e,this.hasAnimationByState("state"))})}clearExitGraphics(){this._prevDataByKey=this._dataByKey;const e=(t,i)=>{this._graphicMap.delete(i),t.parent&&t.parent.removeChild(t),t.release&&t.release()};this._graphicMap.forEach((t,i)=>{if(t.context.diffState===Qa.exit&&!t.isExiting)if(t.context.animationState===Qa.exit&&this.hasAnimationByState("exit")){t.isExiting=!0;const r=this.getAnimationConfig();if(r.exit&&r.exit.length){const s=r.exit.map((a,o)=>({name:`exit_${o}`,animation:Object.assign(Object.assign({},a),{customParameters:t.context})}));t.applyAnimationState(["exit"],[s.length===1?s[0]:s],()=>{e(t,i)})}}else e(t,i)})}isProgressive(){return this.renderContext&&(!!this.renderContext.progressive||!!this.renderContext.beforeTransformProgressive)}canAnimateAfterProgressive(){var e,t;return this.renderContext&&this.renderContext.beforeTransformProgressive&&((t=(e=this.renderContext.beforeTransformProgressive).canAnimate)===null||t===void 0?void 0:t.call(e))}isDoingProgressive(){return this.renderContext&&(this.renderContext.progressive&&this.renderContext.progressive.currentIndex<this.renderContext.progressive.totalStep||this.renderContext.beforeTransformProgressive&&this.renderContext.beforeTransformProgressive.unfinished())}clearProgressive(){this.renderContext&&this.renderContext.progressive&&(this._graphics=[],this._product.children.forEach(e=>{e.incrementalClearChild()}),this._product.removeAllChild()),this.renderContext&&this.renderContext.beforeTransformProgressive&&this.renderContext.beforeTransformProgressive.release(),this.renderContext=null}restartProgressive(){this.renderContext&&this.renderContext.progressive&&(this.renderContext.progressive.currentIndex=0)}_runBeforeProgressive(){var e;const t=this.renderContext.beforeTransformProgressive;t.progressiveRun();const i=t.output();if(!((e=t.canAnimate)===null||e===void 0)&&e.call(t)){if(t.unfinished())return;this._runGroupData(i),this._runJoin(i),this._runState(this._graphics),this._runEncoder(this._graphics),this._runApplyGraphic(this._graphics)}}_runProgressiveJoin(){const e=this.renderContext.progressive.currentIndex,t=[],i={};return this._dataByGroup.keys.forEach(r=>{const s=this.renderContext.progressive.groupedData.get(r),a=this.renderContext.progressive.step,o=s.slice(e*a,(e+1)*a),l=[];o.forEach((u,c)=>{const d=this._keyGetter(u),h={context:Object.assign(Object.assign({},this._getCommonContext()),{diffState:Qa.enter,data:[u],uniqueKey:`${r}_${d??e*a+c}`,key:d,groupKey:r})};l.push(h),t.push(h)}),i[r]=l}),{graphicsByGroup:i,graphics:t,needUpdate:!0}}_createIncrementalGraphics(){this._product.removeAllChild(),this._dataByGroup.keys.forEach(e=>{const t=WF({pickable:!1,zIndex:this._markConfig.zIndex});t.incremental=this.renderContext.progressive.step,this._product.appendChild(t)})}_setCommonAttributesToTheme(e){var t,i,r;if(this._attrsByGroup&&e){const s=e.parent;s&&(!((t=this._attrsByGroup)===null||t===void 0)&&t[(i=e.context)===null||i===void 0?void 0:i.groupKey])&&s.setTheme({common:this._attrsByGroup[(r=e.context)===null||r===void 0?void 0:r.groupKey]})}}_runProgressiveEncoder(e){this.renderContext.progressive.currentIndex===0?this._runEncoder(e):this._runEncoder(e,!0)}_runProgressiveApplyGraphic(e){this.renderContext.progressive.currentIndex===0?(this._runApplyGraphic(e),this._setCommonAttributesToTheme(e[0])):this._runApplyGraphic(e)}_runProgressiveStep(){const{graphics:e,graphicsByGroup:t,needUpdate:i}=this._runProgressiveJoin();this.renderContext.progressive.currentIndex===0?(this._createIncrementalGraphics(),this._graphics=e):i&&e.forEach(r=>{this._graphics.push(r)}),this._runState(e),Object.keys(t).forEach(r=>{this._runProgressiveEncoder(t[r])}),this._runEncoderTransform(this._graphics,!0),Object.keys(t).forEach(r=>{this._runProgressiveApplyGraphic(t[r])}),this.renderContext.progressive.currentIndex+=1}renderProgressive(){var e;!((e=this.renderContext)===null||e===void 0)&&e.beforeTransformProgressive?this._runBeforeProgressive():this.renderContext.progressive&&this._runProgressiveStep()}hasAnimationByState(e){if(!e||!this._animationConfig||!this._animationConfig[e]||this._disabledAnimationStates.includes(e))return!1;const t=this._animationConfig[e];return t.length>0||pn(t)}hasAnimation(){return!!this._animationConfig&&Object.keys(this._animationConfig).length>0}runAnimation(){this._runStateAnimation(this.getGraphics())}}class UO extends Mu{constructor(){super(...arguments),this.type=UO.type,this._marks=[],this._diffState=Qa.enter}getMarks(){return this._marks}isMarkExist(e){return this._marks.find(t=>t.id===e.id)!==void 0}addMark(e){return this.isMarkExist(e)?(fc("Mark already exists, add mark failed."),!1):(this._marks.push(e),!0)}removeMark(e){const t=this._marks.findIndex(i=>i.id===e.id||i.name===e.name);return t===-1?(fc("Mark does not exists, removeMark failed."),!1):(this._marks.splice(t,1),!0)}getMarkInType(e){return this._marks.filter(t=>t.type===e)}getMarkInId(e){return this._marks.find(t=>t.id===e)}getMarkInUserId(e){let t;return Yv(this,i=>{t=i},i=>i.getUserId()===e,null,!0),t}getMarkInName(e){return this._marks.filter(t=>t.name===e)}_compileProduct(e){super._compileProduct(e),this.getMarks().forEach(t=>{t.compile({group:this._product})})}_getAttrsFromConfig(e={}){const t=super._getAttrsFromConfig(e);return J(this._markConfig.interactive)||(t.pickable=this._markConfig.interactive),e}getGraphics(){return[this._product]}renderInner(){var e;if(!this._product)return;const t=(e=this._simpleStyle)!==null&&e!==void 0?e:this.getAttributesOfState({});this._product.context=Object.assign(Object.assign(Object.assign({},this._product.context),this._getCommonContext()),{diffState:this._diffState}),this._setAnimationState(this._product);const i=this._getAttrsFromConfig(t);if(this._product.context.diffState===Qa.update){const r=this.hasAnimation(),s=pIe(this._product,i);this._product.context.diffAttrs=s,this.hasAnimationByState(this._product.context.animationState)||(r?this._product.setAttributesAndPreventAnimate(s):this._product.setAttributes(s)),r&&this._product.setFinalAttributes(i)}else this._product.setAttributes(i);this.needClear=!0}clearExitGraphics(){this._diffState=Qa.update}render(){this._isCommited&&(CB(`render mark: ${this.getProductId()}, type is ${this.type}`),this.renderInner(),this.uncommit()),this.getMarks().forEach(e=>{e.render()})}release(){super.release(),this.removeProduct()}}UO.type="group";const TIe=()=>{pd(),Vs(),ne.registerMark(UO.type,UO)},Fqt={measureText:YXt};class Wc{static instance(){return Wc.instance_||(Wc.instance_=new Wc),Wc.instance_}constructor(){this.functions={}}registerFunction(e,t){e&&t&&(this.functions[e]=t)}unregisterFunction(e){e&&delete this.functions[e]}getFunction(e){return this.functions[e]||null}getFunctionNameList(){return Object.keys(this.functions)}}const Bqt=()=>{PB(Tn)},$qt=()=>{DB(Tn)};class dQ{constructor(){this.id=W1(),this._plugins=[]}add(e){if(!e||e.length===0)return null;const t=[];return e.forEach(i=>{this._plugins.find(r=>r.id===i.id)?fc("plugin"):(this._plugins.push(i),t.push(i),i.onAdd&&i.onAdd(this))}),t}load(e){const t=this.add(e);t&&t.length&&this.activate(e)}activate(e){e.length&&e.forEach(t=>{t.init&&t.init()})}get(e){return this._plugins.find(t=>t.id===e)}getAll(){return this._plugins.slice()}release(e){const t=this.get(e);t&&(t.release(this),this._plugins=this._plugins.filter(i=>i!==t))}releaseAll(){this._plugins.forEach(e=>{e.release(this)}),this._plugins=[]}clear(e){const t=this.get(e);t&&t.clear(this)}clearAll(){this._plugins.forEach(e=>{var t;(t=e.clear)===null||t===void 0||t.call(e,this)})}}class Nqt extends dQ{constructor(e){super(),this.globalInstance=e}onInit(e){this._plugins.forEach(t=>{t.onInit&&t.onInit(this,e)})}onBeforeResize(e,t){this._plugins.forEach(i=>{i.onBeforeResize&&i.onBeforeResize(this,e,t)})}onAfterChartSpecTransform(e,t){this._plugins.forEach(i=>{i.onAfterChartSpecTransform&&i.onAfterChartSpecTransform(this,e,t)})}onAfterModelSpecTransform(e,t,i){this._plugins.forEach(r=>{r.onAfterModelSpecTransform&&r.onAfterModelSpecTransform(this,e,t,i)})}onBeforeInitChart(e,t){this._plugins.forEach(i=>{i.onBeforeInitChart&&i.onBeforeInitChart(this,e,t)})}onAfterInitChart(e,t){this._plugins.forEach(i=>{i.onAfterInitChart&&i.onAfterInitChart(this,e,t)})}releaseAll(){super.releaseAll(),this.globalInstance=null}}const jqt=n=>({type:"clipIn",options:{clipDimension:n.direction==="horizontal"?"y":"x"}}),zqt={type:"fadeIn"},Hqt=n=>({type:n.direction==="horizontal"?"growPointsXIn":"growPointsYIn",options:{orient:n.direction==="horizontal"?"positive":"negative"}});function Vqt(n,e){switch(e){case"grow":return Hqt(n);case"fadeIn":return zqt;default:return jqt(n)}}const Up={appear:{duration:1e3,easing:"cubicOut"},update:{type:"update",duration:300,easing:"linear"},enter:{duration:300,easing:"linear"},exit:{duration:300,easing:"linear"},disappear:{duration:500,easing:"cubicIn"},state:{duration:300,easing:"linear"}},hQ={appear:{type:"scaleIn"},enter:{type:"scaleIn"},exit:{type:"scaleOut"},disappear:{type:"scaleOut"}},Wz={appear:{type:"fadeIn"},enter:{type:"fadeIn"},exit:{type:"fadeOut"},disappear:{type:"fadeOut"}},Uz=()=>{ne.registerAnimation("scaleInOut",()=>hQ)},Zm=()=>{ne.registerAnimation("fadeInOut",()=>Wz)},Wqt=()=>{ne.registerAnimation("cartesianGroupClip",n=>({appear:{custom:xpe,customParameters:(e,t)=>({animationType:"in",group:t,direction:n.direction(),width:n.width(),height:n.height(),orient:n.orient()})},disappear:{custom:xpe,customParameters:(e,t)=>({animationType:"out",group:t,direction:n.direction(),width:n.width(),height:n.height(),orient:n.orient()})}}))},EIe=(n,e)=>({appear:Vqt(n,e),enter:{type:"fadeIn"},exit:{type:"fadeOut"},update:[{type:"update",options:{excludeChannels:["points","defined","segments"]}},{channel:["points","segments"],custom:ZPe,duration:Up.update.duration,easing:Up.update.easing,customParameters:{clipRangeByDimension:n.direction==="horizontal"?"y":"x"}}],disappear:{type:"clipOut"}}),AIe=()=>{ne.registerAnimation("line",EIe)},Uqt=()=>{ne.registerAnimation("area",EIe)},Gqt=()=>{_n.registerBuiltInAnimate("scaleIn",w7t),_n.registerBuiltInAnimate("scaleOut",C7t),_n.registerBuiltInAnimate("fadeIn",LYt),_n.registerBuiltInAnimate("fadeOut",FYt),_n.registerBuiltInAnimate("moveIn",O7t),_n.registerBuiltInAnimate("moveOut",P7t),_n.registerBuiltInAnimate("rotateIn",R7t),_n.registerBuiltInAnimate("rotateOut",D7t),_n.registerBuiltInAnimate("update",E7t),_n.registerBuiltInAnimate("state",T7t),_n.registerBuiltInAnimate("fromTo",L7t)},Yqt=()=>{_n.registerBuiltInAnimate("growHeightIn",ZYt),_n.registerBuiltInAnimate("growHeightOut",e7t),_n.registerBuiltInAnimate("growWidthIn",S7t),_n.registerBuiltInAnimate("growWidthOut",x7t),_n.registerBuiltInAnimate("growCenterIn",GYt),_n.registerBuiltInAnimate("growCenterOut",YYt)},Kqt=()=>{_n.registerBuiltInAnimate("growRadiusIn",p7t),_n.registerBuiltInAnimate("growRadiusOut",g7t),_n.registerBuiltInAnimate("growAngleIn",HYt),_n.registerBuiltInAnimate("growAngleOut",VYt)},kIe=()=>{_n.registerBuiltInAnimate("growPointsIn",n7t),_n.registerBuiltInAnimate("growPointsOut",nMe),_n.registerBuiltInAnimate("growPointsXIn",r7t),_n.registerBuiltInAnimate("growPointsXOut",s7t),_n.registerBuiltInAnimate("growPointsYIn",o7t),_n.registerBuiltInAnimate("growPointsYOut",l7t),_n.registerBuiltInAnimate("clipIn",RYt),_n.registerBuiltInAnimate("clipOut",DYt)},Xqt=()=>{_n.registerBuiltInAnimate("growPointsOut",nMe)},qqt=()=>{_n.registerBuiltInAnimate("distortion",N7t),_n.registerBuiltInAnimate("particle",j7t),_n.registerBuiltInAnimate("pixelation",V7t),_n.registerBuiltInAnimate("gaussianBlur",H7t),_n.registerBuiltInAnimate("glitch",z7t),_n.registerBuiltInAnimate("grayscale",$7t),_n.registerBuiltInAnimate("dissolve",B7t)},Zqt=()=>{Z0(),Gqt(),qqt()},Qqt=()=>{ne.registerStageEventPlugin("gesture",o6t)},Jqt=n=>{const e=Ae(n),t=[],i=[];return e.forEach(r=>{r==="empty"?t.push("view"):Jt(r)&&r!=="none"?r.includes("view:")?(i.push(r.replace("view:","")),t.push("view")):(i.push(r),t.push("self")):st(r)&&t.push("timeout")}),{eventNames:i,resetType:t}},eZt=(n,e)=>{if(!e||!n)return null;const t={};return n.forEach(i=>{const r=i.stateStyle;r&&e.forEach(s=>{s&&r[s]&&(t[s]||(t[s]=[]),t[s].push(i.id))})}),t},hW=(n,e)=>{if(!e||!e.length)return[];const t=[];return n.markIds?e.filter(i=>{n.markIds.includes(i.getProductId())&&t.push(i)}):n.markNames?e.forEach(i=>{n.markNames.includes(i.name)&&t.push(i)}):e.forEach(i=>{t.push(i)}),t},fQ=n=>n.filterField?e=>{var t;return(t=ka(e))===null||t===void 0?void 0:t[n.filterField]}:e=>e.context[n.filterType],OIe={highlightState:pt.STATE_HIGHLIGHT,blurState:pt.STATE_BLUR,trigger:"pointerover",triggerOff:"pointerout"};class u_{constructor(e){this._markSet=new LM,this.options=e,e.marks&&e.marks.length&&e.marks.forEach(t=>{this.registerMark(t)})}getMarks(){return this._markSet.getMarks()}getMarksByState(e){if(this._markIdByState&&this._markSet){const t=this._markIdByState[e];return t?this.getMarks().filter(i=>i&&t.includes(i.id)):[]}return[]}registerMark(e){Oe(e)?e.forEach(t=>{this._markSet.addMark(t)}):this._markSet.addMark(e)}updateMarkIdByState(e){this._markIdByState=eZt(this.getMarks(),e)}getMarkIdByState(){var e;return(e=this._markIdByState)!==null&&e!==void 0?e:{}}isGraphicInStateMark(e,t){var i;const r=this.getMarkIdByState();return r&&r[t]&&r[t].includes((i=e.context)===null||i===void 0?void 0:i.markId)}isGraphicInMark(e){var t;return!!this._markSet.getMarkInId((t=e.context)===null||t===void 0?void 0:t.markId)}getStartState(){return null}getResetState(){return null}init(){const e=this.getEvents();e&&this.options.event&&e.forEach(t=>{t.type&&t.handler&&(Oe(t.type)?t.type.forEach(i=>{i&&i!=="none"&&this.options.event.on(i,t.handler)}):t.type!=="none"&&this.options.event.on(t.type,t.handler))})}release(){const e=this.getEvents();e&&this.options.event&&(e??[]).forEach(t=>{t.type&&t.handler&&(Oe(t.type)?t.type.forEach(i=>{i&&i!=="none"&&this.options.event.on(i,t.handler)}):t.type!=="none"&&this.options.event.off(t.type,t.handler))})}start(e){}reset(e){}dispatchEvent(e,t){this.options.event&&(this.options.event.emit(`${this.type}:${e}`,t),e==="start"&&this.options.onStart?this.options.onStart(t):e==="reset"&&this.options.onReset?this.options.onReset(t):e==="update"&&this.options.onUpdate?this.options.onUpdate(t):e==="end"&&this.options.onEnd&&this.options.onEnd(t))}}const PIe={highlightState:pt.STATE_HIGHLIGHT,blurState:pt.STATE_BLUR,trigger:"pointerover",triggerOff:"pointerout"};class f$ extends u_{constructor(e){super(e),this.type="element-highlight",this.resetAll=()=>{const{highlightState:t,blurState:i,interaction:r}=this.options;this._lastGraphic&&(r.clearAllStatesOfTrigger(this,t,i),this.dispatchEvent("reset",{graphics:[this._lastGraphic],options:this.options}),this._lastGraphic=null,r.setStatedGraphics(this,[]))},this.handleStart=t=>{this.start(t.item)},this.handleReset=t=>{const{interaction:i}=this.options,r=i.getStatedGraphics(this);if(!r||!r.length)return;const s=t.item,a=s&&this._markSet.getMarkInId(s.context.markId);(this._resetType.includes("view")&&!a||this._resetType.includes("self")&&a)&&this.resetAll()},this.options=Object.assign({},PIe,e),this.updateMarkIdByState([this.options.highlightState,this.options.blurState])}getStartState(){return this.options.highlightState}getResetState(){return this.options.blurState}getEvents(){const e=this.options.triggerOff,t=[{type:this.options.trigger,handler:this.handleStart}];let i=e;return Jt(e)&&e.includes("view:")?(i=e.replace("view:",""),this._resetType="view"):this._resetType="self",t.push({type:i,handler:this.handleReset}),t}start(e){if(e&&this._markSet.getMarkInId(e.context.markId)){const{highlightState:t,blurState:i,interaction:r}=this.options;if(this._lastGraphic===e)return;const s=r.updateStates(this,[e],r.getStatedGraphics(this),t,i);r.setStatedGraphics(this,s),this._lastGraphic=e,this.dispatchEvent("start",{graphics:s,options:this.options})}else this._lastGraphic&&this._resetType==="view"&&this.resetAll()}reset(e){e?this._markSet.getMarkInId(e.context.markId)&&e.removeState([this.options.highlightState,this.options.blurState]):this.resetAll()}}f$.type="element-highlight",f$.defaultOptions=PIe;const tZt=()=>{ne.registerInteractionTrigger(f$.type,f$)},MIe={state:pt.STATE_SELECTED,trigger:"click"};class p$ extends u_{constructor(e){super(e),this.type="element-select",this._resetType=[],this.resetAll=()=>{const{state:t,reverseState:i,interaction:r}=this.options,s=r.getStatedGraphics(this);s&&s.length&&(r.clearAllStatesOfTrigger(this,t,i),this.dispatchEvent("reset",{graphics:s,options:this.options}),r.setStatedGraphics(this,[]))},this.handleStart=t=>{this.start(t.item)},this.handleReset=t=>{const{interaction:i}=this.options,r=i.getStatedGraphics(this);if(!r||!r.length)return;const s=t.item,a=s&&this._markSet.getMarkInId(s.context.markId);(this._resetType.includes("view")&&!a||this._resetType.includes("self")&&a)&&this.resetAll()},this.options=Object.assign({},MIe,e),this.updateMarkIdByState([this.options.state,this.options.reverseState])}getStartState(){return this.options.state}getResetState(){return this.options.reverseState}getEvents(){const e=this.options.triggerOff,t=this.options.trigger,i=[{type:t,handler:this.handleStart}],{eventNames:r,resetType:s}=Jqt(e);return r.forEach(a=>{a&&(Oe(t)?!t.includes(a):a!==t)&&i.push({type:a,handler:this.handleReset})}),this._resetType=s,i}start(e){const{state:t,reverseState:i,isMultiple:r,interaction:s}=this.options,a=s.getStatedGraphics(this);if(e&&this._markSet.getMarkInId(e.context.markId))if(e.hasState(t)){if(this._resetType.includes("self")){const o=a&&a.filter(l=>l!==e);o&&o.length?s.setStatedGraphics(this,s.updateStates(this,o,a,t,i)):this.resetAll()}}else{this._timer&&clearTimeout(this._timer),e.addState(t,!0);const o=this.options.interaction.updateStates(this,r&&a?[...a,e]:[e],a,t,i);s.setStatedGraphics(this,o),this.dispatchEvent("start",{graphics:o,options:this.options}),this._resetType.includes("timeout")&&(this._timer=setTimeout(()=>{this.resetAll()},this.options.triggerOff))}else this._resetType.includes("view")&&a&&a.length&&this.resetAll()}reset(e){e?this._markSet.getMarkInId(e.context.markId)&&e.removeState([this.options.state,this.options.reverseState]):this.resetAll()}}p$.type="element-select",p$.defaultOptions=MIe;const nZt=()=>{ne.registerInteractionTrigger(p$.type,p$)};class iZt extends dQ{constructor(e){super(),this.globalInstance=e}onInit(){this._plugins.forEach(e=>{e.onInit&&e.onInit(this)})}releaseAll(){super.releaseAll(),this.globalInstance=null}}var Xh=function(n,e,t,i){return new(t||(t=Promise))(function(r,s){function a(u){try{l(i.next(u))}catch(c){s(c)}}function o(u){try{l(i.throw(u))}catch(c){s(c)}}function l(u){var c;u.done?r(u.value):(c=u.value,c instanceof t?c:new t(function(d){d(c)})).then(a,o)}l((i=i.apply(n,e||[])).next())})},rZt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};class cl{static useRegisters(e){e.forEach(t=>{typeof t=="function"?t():console.error("Invalid function:",t)})}static useChart(e){e.forEach(t=>ne.registerChart(t.type,t))}static useSeries(e){e.forEach(t=>ne.registerSeries(t.type,t))}static useComponent(e){e.forEach(t=>ne.registerComponent(t.type,t))}static useMark(e){e.forEach(t=>{var i;return ne.registerMark((i=t.constructorType)!==null&&i!==void 0?i:t.type,t)})}static useLayout(e){e.forEach(t=>ne.registerLayout(t.type,t))}static registerDataSetTransform(e,t){ne.registerTransform(e,t)}static registerFunction(e,t){e&&t&&Wc.instance().registerFunction(e,t)}static unregisterFunction(e){e&&Wc.instance().unregisterFunction(e)}static getFunction(e){return e?Wc.instance().getFunction(e):null}static getFunctionList(){return Wc.instance().getFunctionNameList()}static registerMap(e,t,i){const r=ne.getImplementInKey("registerMap");r&&r(e,t,i)}static unregisterMap(e){const t=ne.getImplementInKey("unregisterMap");t&&t(e)}static getMap(e){return uqt(e)}static registerSVG(e,t,i){const r=ne.getImplementInKey("registerSVG");r&&r(e,t,i)}static unregisterSVG(e){const t=ne.getImplementInKey("unregisterSVG");t&&t(e)}static hideTooltip(e=[]){nh.forEach(t=>{var i;return(i=t==null?void 0:t.hideTooltip)===null||i===void 0?void 0:i.call(t)},e)}static getLogger(){return yi.getInstance()}getSpec(){return this._spec}getSpecInfo(){return this._specInfo}get event(){return this._event}getDataSet(){return this._dataSet}constructor(e,t){var i,r,s,a,o,l,u,c,d;this.id=W1(),this._userEvents=[],this._autoSize=!0,this._option={mode:ha["desktop-browser"],onError:T=>{throw new Error(T)},optimize:{disableCheckGraphicWidthOutRange:!0}},this._observer=null,this._context={},this._doResize=()=>{const{width:T,height:E}=this.getCurrentSize();this._currentSize.width===T&&this._currentSize.height===E||(this._currentSize={width:T,height:E},this.resizeSync(T,E))},this._renderSync=(T={})=>{var E;const A=this;return this._beforeRender(T)&&((E=this._compiler)===null||E===void 0||E.render(T.morphConfig),this._updateAnimateState(!1),this._afterRender()),A},this._updateSpec=(T,E=!1,A)=>{var k;const P=this._spec,I={changeBackground:!1,reTransformSpec:!1,change:!1,reMake:!1,reCompile:!1,reSize:!1,changeTheme:!1};if(!this._setNewSpec(T,E))return;Oi(P.theme,this._spec.theme)?Oi(this._spec.background,P.background)||(I.reMake=!0,I.changeBackground=!0):I.changeTheme=!0;const D=this._shouldChartResize(P);if(I.reSize=D,this._spec.type!==P.type)return(k=this._compiler)===null||k===void 0||k.updateLayoutTag(),I.reMake=!0,I.reTransformSpec=!0,I.change=!0,I.changeTheme=!0,I;this._initChartSpec(this._spec,"updateSpec");const L=Cx(this._chart.updateSpec(this._spec),I);return A?Object.assign(Object.assign({},L),A):L},this.getTheme=(...T)=>{if(!this._currentTheme||!T||!T.length)return;this._cachedProcessedTheme||(this._cachedProcessedTheme={});const E=T.join(".");if(this._cachedProcessedTheme[E])return this._cachedProcessedTheme[E];let A=this._currentTheme;return T.forEach((k,P)=>{if(P!==1||T[0]!=="series"&&T[0]!=="component")A=A==null?void 0:A[k];else{const I=T[0]==="series"?ne.getSeriesBuiltInTheme(k):ne.getComponentBuiltInTheme(k);A=A?qt({},I,A[k]):I}P===T.length-1&&Y(A)&&(A=sIe({[k]:A},this._currentTheme.colorScheme,this._currentTheme.token)[k])}),this._cachedProcessedTheme[E]=A,A},QMe(t),this._option=Object.assign(Object.assign({},this._option),t),t!=null&&t.optimize&&(this._option.optimize=Object.assign(Object.assign({},this._option.optimize),t.optimize)),this._onError=(i=this._option)===null||i===void 0?void 0:i.onError;const h=this._option,{dom:f,renderCanvas:p,mode:g,stage:m,poptip:v}=h,_=rZt(h,["dom","renderCanvas","mode","stage","poptip"]),y=ng(g);if(y?Bqt():g==="node"&&$qt(),y&&f&&(this._container=Jt(f)?un.getElementById(f):f),p&&(this._canvas=p),m&&(this._stage=m),g!=="node"&&!this._container&&!this._canvas&&!this._stage)return void((r=this._option)===null||r===void 0||r.onError("please specify container or renderCanvas!"));this._viewBox=this._option.viewBox,this._currentThemeName=rc.getCurrentThemeName(),this._setNewSpec(e),this._updateCurrentTheme(),this._currentSize=this.getCurrentSize();const x=[];v!==!1&&x.push("poptipForText"),e.type==="sankey"&&x.push("scrollbar");const w=new yi((s=this._option.logLevel)!==null&&s!==void 0?s:Nd.Error);yi.setInstance(w),!((a=this._option)===null||a===void 0)&&a.onError&&w.addErrorHandler((...T)=>{var E,A;(A=(E=this._option)===null||E===void 0?void 0:E.onError)===null||A===void 0||A.call(E,...T)}),this._compiler=new gqt({dom:(o=this._container)!==null&&o!==void 0?o:"none",canvas:p},Object.assign(Object.assign({mode:this._option.mode,stage:m,pluginList:x},_),{background:this._getBackground(),onError:this._onError})),this._compiler.setSize(this._currentSize.width,this._currentSize.height),this._eventDispatcher=new sqt(this,this._compiler),this._event=new oQ(this._eventDispatcher,g),this._compiler.initView(),this._compiler.updateLayoutTag(),this._setFontFamilyTheme(this.getTheme("fontFamily")),this._initDataSet(this._option.dataSet),this._autoSize=!!y&&((u=(l=e.autoFit)!==null&&l!==void 0?l:this._option.autoFit)===null||u===void 0||u),this._bindResizeEvent(),this._bindViewEvent(),this._initChartPlugin(),nh.registerInstance(this),(d=(c=this._option.performanceHook)===null||c===void 0?void 0:c.afterCreateVChart)===null||d===void 0||d.call(c,this)}_setNewSpec(e,t){return!!e&&(Jt(e)&&(e=JSON.parse(e)),t&&this._originalSpec&&(e=qt({},this._originalSpec,e)),this._originalSpec=e,this._spec=this._getSpecFromOriginalSpec(),!0)}_getSpecFromOriginalSpec(){var e;const t=M7(this._originalSpec);return t.data=(e=t.data)!==null&&e!==void 0?e:[],t}_initChartSpec(e,t){var i,r;cl.getFunctionList()&&cl.getFunctionList().length&&(e=I7(e,cl)),this._spec=e,this._chartSpecTransformer||(this._chartSpecTransformer=ne.createChartSpecTransformer(this._spec.type,this._getChartOption(this._spec.type))),(i=this._chartSpecTransformer)===null||i===void 0||i.transformSpec(this._spec),this._chartPluginApply("onAfterChartSpecTransform",this._spec,t),this._specInfo=(r=this._chartSpecTransformer)===null||r===void 0?void 0:r.transformModelSpec(this._spec),this._chartPluginApply("onAfterModelSpecTransform",this._spec,this._specInfo,t)}_updateSpecInfo(){var e;this._chartSpecTransformer||(this._chartSpecTransformer=ne.createChartSpecTransformer(this._spec.type,this._getChartOption(this._spec.type))),this._specInfo=(e=this._chartSpecTransformer)===null||e===void 0?void 0:e.createSpecInfo(this._spec)}_initChart(e){var t,i,r;if(!this._compiler)return void((t=this._option)===null||t===void 0||t.onError("compiler is not initialized"));if(this._chart)return void((i=this._option)===null||i===void 0||i.onError("chart is already initialized"));const s=ne.createChart(e.type,e,this._getChartOption(e.type));s?(this._chart=s,this._chart.setCanvasRect(this._currentSize.width,this._currentSize.height),this._chart.created(this._chartSpecTransformer),this._chart.init(),this._event.emit(Et.initialized,{chart:s,vchart:this})):(r=this._option)===null||r===void 0||r.onError("init chart fail")}_releaseData(){this._dataSet&&(this._dataSet.dataViewMap={},this._dataSet=null)}_bindViewEvent(){var e,t;this._compiler&&((t=(e=this._compiler.getStage())===null||e===void 0?void 0:e.getTimeline())===null||t===void 0||t.on("animationEnd",()=>{this._event.emit(Et.animationFinished,{chart:this._chart,vchart:this})}))}_bindResizeEvent(){var e,t;if(this._autoSize){if(this._onResize=Km(this._doResize,(e=this._option.resizeDelay)!==null&&e!==void 0?e:100),this._container){const i=window.ResizeObserver;i&&(this._observer=new i(this._onResize),(t=this._observer)===null||t===void 0||t.observe(this._container))}window.addEventListener("resize",this._onResize)}}_unBindResizeEvent(){this._autoSize&&(window.removeEventListener("resize",this._onResize),this._observer&&(this._observer.disconnect(),this._observer=null))}getCurrentSize(){var e,t,i,r;return gIe(this._spec,{container:this._container,canvas:this._canvas,mode:this._getMode(),modeParams:this._option.modeParams},{width:(t=(e=this._currentSize)===null||e===void 0?void 0:e.width)!==null&&t!==void 0?t:iw,height:(r=(i=this._currentSize)===null||i===void 0?void 0:i.height)!==null&&r!==void 0?r:rw})}_initDataSet(e){this._dataSet=e instanceof y0?e:new y0,Am(this._dataSet,"dataview",Qj),Am(this._dataSet,"array",LAe),rn(this._dataSet,"copyDataView",Nz);for(const t in ne.transforms)rn(this._dataSet,t,ne.transforms[t]);for(const t in ne.dataParser)Am(this._dataSet,t,ne.dataParser[t])}updateCustomConfigAndRerender(e,t,i={}){if(!this._isReleased&&e)return Re(e)&&(e=e()),e.reAnimate&&(this.stopAnimation(),this._updateAnimateState(!0)),this._reCompile(e),t?this._renderSync(i):this._renderAsync(i)}_updateCustomConfigAndRecompile(e,t={}){return!!e&&(this._reCompile(e),this._beforeRender(t))}_reCompile(e,t){var i,r,s,a,o,l,u;if(e.reMake&&(this._releaseData(),this._initDataSet(),(i=this._chart)===null||i===void 0||i.release(),this._chart=null),e.reTransformSpec&&(this._chartSpecTransformer=null),e.changeTheme?(this._setCurrentTheme(),this._setFontFamilyTheme(this.getTheme("fontFamily"))):e.changeBackground&&((r=this._compiler)===null||r===void 0||r.setBackground(this._getBackground())),e.reMake?((s=this._compiler)===null||s===void 0||s.releaseGrammar(),this._userEvents.forEach(c=>{var d;return(d=this._event)===null||d===void 0?void 0:d.on(c.eType,c.query,c.handler)})):e.reCompile&&((a=this._compiler)===null||a===void 0||a.clear({chart:this._chart,vChart:this}),(o=this._compiler)===null||o===void 0||o.compile({chart:this._chart,vChart:this})),e.reSize){const{width:c,height:d}=this.getCurrentSize();this._currentSize={width:c,height:d},(l=this._chart)===null||l===void 0||l.onResize(c,d,!1),(u=this._compiler)===null||u===void 0||u.resize(c,d,!1)}}_beforeRender(e={}){var t,i,r,s,a,o,l,u;if(this._isReleased)return!1;if(this._chart)return!0;const{transformSpec:c,actionSource:d}=e;return c&&this._initChartSpec(this._spec,"render"),this._chartPluginApply("onBeforeInitChart",this._spec,d),(i=(t=this._option.performanceHook)===null||t===void 0?void 0:t.beforeInitializeChart)===null||i===void 0||i.call(t,this),this._initChart(this._spec),(s=(r=this._option.performanceHook)===null||r===void 0?void 0:r.afterInitializeChart)===null||s===void 0||s.call(r,this),!(!this._chart||!this._compiler)&&(this._chartPluginApply("onAfterInitChart",this._spec,d),(o=(a=this._option.performanceHook)===null||a===void 0?void 0:a.beforeCompileToVGrammar)===null||o===void 0||o.call(a,this),this._compiler.compile({chart:this._chart,vChart:this},e),(u=(l=this._option.performanceHook)===null||l===void 0?void 0:l.afterCompileToVGrammar)===null||u===void 0||u.call(l,this),!0)}_afterRender(){return!this._isReleased&&(this._event.emit(Et.rendered,{chart:this._chart,vchart:this}),!0)}renderSync(e){return this._renderSync({morphConfig:e,transformSpec:!0,actionSource:"render"})}renderAsync(e){return Xh(this,void 0,void 0,function*(){return this._renderAsync({morphConfig:e,transformSpec:!0,actionSource:"render"})})}_renderAsync(e={}){return Xh(this,void 0,void 0,function*(){return this._renderSync(e)})}_updateAnimateState(e){var t,i;if(this.isAnimationEnable()){const r=s=>{var a;const o=(a=s.context)===null||a===void 0?void 0:a.diffState;return e?o==="exit"?qi.none:qi.appear:o};(t=this._chart)===null||t===void 0||t.getAllRegions().forEach(s=>{s.updateAnimateStateCallback(r)}),(i=this._chart)===null||i===void 0||i.getAllComponents().forEach(s=>{s.updateAnimateStateCallback(r)})}}release(){var e,t,i,r;!((e=this._onResize)===null||e===void 0)&&e.cancel&&this._onResize.cancel(),this._chartPluginApply("releaseAll"),this._chartPlugin=null,this._chartSpecTransformer=null,(t=this._chart)===null||t===void 0||t.release(),(i=this._eventDispatcher)===null||i===void 0||i.release(),(r=this._compiler)===null||r===void 0||r.release(),this._unBindResizeEvent(),this._releaseData(),this._onError=null,this._onResize=null,this._container=null,this._currentTheme=null,this._cachedProcessedTheme=null,this._option=null,this._chart=null,this._compiler=null,this._spec=null,this._specInfo=null,this._originalSpec=null,this._userEvents=null,this._event=null,this._eventDispatcher=null,this._isReleased=!0,nh.unregisterInstance(this)}updateData(e,t,i,r){return Xh(this,void 0,void 0,function*(){return this.updateDataSync(e,t,i,r)})}_updateDataById(e,t,i){const r=this._spec.data.find(s=>s.name===e||s.id===e);r?r.id===e?r.values=t:r.name===e&&r.parse(t,i):Oe(t)?this._spec.data.push({id:e,values:t}):this._spec.data.push(t)}updateDataInBatches(e){return Xh(this,void 0,void 0,function*(){return this._chart?(this._chart.updateFullData(e.map(({id:t,data:i,options:r})=>({id:t,values:i,parser:r}))),this._chart.updateGlobalScaleDomain(),this._compiler.render(),this):(this._spec.data=Ae(this._spec.data),e.forEach(({id:t,data:i,options:r})=>{this._updateDataById(t,i,r)}),this)})}updateDataSync(e,t,i,r){return J(this._dataSet)?this:this._chart?(this._chart.updateData(e,t,!0,i),r!=null&&r.reAnimate&&(this.stopAnimation(),this._updateAnimateState(!0)),this._compiler.render(),this):(this._spec.data=Ae(this._spec.data),this._updateDataById(e,t,i),this)}updateFullDataSync(e,t=!0,i){if(this._chart)return this._chart.updateFullData(e),t&&(i!=null&&i.reAnimate&&(this.stopAnimation(),this._updateAnimateState(!0)),this._compiler.render()),this;const r=Ae(this._spec.data);return Ae(e).forEach(s=>{const{id:a,values:o,parser:l,fields:u}=s,c=r.find(d=>d.name===a);if(c)c instanceof Pi?(c.setFields(Ul(u)),c.parse(o,Ul(l))):(c.values=o,Y(l)&&(c.parser=l),Y(u)&&(c.fields=u));else{const d=lQ(s,this._dataSet,r);Oe(this._spec.data)&&this._spec.data.push(d)}}),this}updateFullData(e,t=!0){return Xh(this,void 0,void 0,function*(){return this.updateFullDataSync(e,t)})}updateSpec(e,t=!1,i,r){return Xh(this,void 0,void 0,function*(){const s=this._updateSpec(e,t,r);return s?(yield this.updateCustomConfigAndRerender(s,!1,{morphConfig:i,transformSpec:s.reTransformSpec,actionSource:"updateSpec"}),this):this})}updateSpecSync(e,t=!1,i,r){const s=this._updateSpec(e,t,r);return s?(this.updateCustomConfigAndRerender(s,!0,{morphConfig:i,transformSpec:s.reTransformSpec,actionSource:"updateSpec"}),this):this}updateSpecAndRecompile(e,t=!1,i={}){const r=this._updateSpec(e,t);return this._updateCustomConfigAndRecompile(r,Object.assign({actionSource:"updateSpecAndRecompile"},i))}updateModelSpec(e,t,i=!1,r){return Xh(this,void 0,void 0,function*(){return this.updateModelSpecSync(e,t,i,r)})}updateModelSpecSync(e,t,i=!1,r){if(!t||!this._spec)return this;if(Jt(t)&&(t=JSON.parse(t)),Re(e)||FXt(this._spec,e,t,i),this._chart){const s=this._chart.getModelInFilter(e);if(s)return this._updateModelSpec(s,t,!0,i,r)}return this}_updateModelSpec(e,t,i=!1,r=!1,s){r&&(t=qt({},e.getSpec(),t));const a=e.updateSpec(t);return e.reInit(t),(a.change||a.reCompile||a.reMake||a.reSize||a.reRender)&&this._chart.reDataFlow(),this.updateCustomConfigAndRerender(a,i,{morphConfig:s,transformSpec:!1,actionSource:"updateModelSpec"})}resize(e,t){return Xh(this,void 0,void 0,function*(){return this.resizeSync(e,t)})}resizeSync(e,t){var i,r;return this._beforeResize(e,t)?((r=(i=this._compiler).resize)===null||r===void 0||r.call(i,e,t),this._afterResize()):this}_beforeResize(e,t){var i,r,s,a;if(!this._chart||!this._compiler)return!1;const o=this._chart.getCanvasRect();return(!o||o.width!==e||o.height!==t)&&(this._chartPluginApply("onBeforeResize",e,t),(r=(i=this._option.performanceHook)===null||i===void 0?void 0:i.beforeResizeWithUpdate)===null||r===void 0||r.call(i,this),this._chart.onResize(e,t,!1),(a=(s=this._option.performanceHook)===null||s===void 0?void 0:s.afterResizeWithUpdate)===null||a===void 0||a.call(s,this),!0)}_afterResize(){return this._isReleased||this._event.emit(Et.afterResize,{chart:this._chart}),this}updateViewBox(e,t=!0,i=!0){return this._chart&&this._compiler?(this._viewBox=e,this._chart.updateViewBox(e,i),i&&(this._compiler.render(),this._chart.onEvaluateEnd()),this._compiler.updateViewBox(e,t),this):this}on(e,t,i){var r;this._userEvents&&(this._userEvents.push({eType:e,query:typeof t=="function"?null:t,handler:typeof t=="function"?t:i}),(r=this._event)===null||r===void 0||r.on(e,t,i))}off(e,t){var i;if(this._userEvents&&this._userEvents.length!==0)if(t){const r=this._userEvents.findIndex(s=>s.eType===e&&s.handler===t);r>=0&&(this._userEvents.splice(r,1),(i=this._event)===null||i===void 0||i.off(e,t))}else this._userEvents.forEach(r=>{var s;r.eType===e&&((s=this._event)===null||s===void 0||s.off(e,r.handler))}),this._userEvents=this._userEvents.filter(r=>r.eType!==e)}updateState(e,t){this._chart&&this._chart.updateState(e,t)}setSelected(e,t,i){this._chart&&this._chart.setSelected(e,t,i)}setHovered(e,t,i){this._chart&&this._chart.setHovered(e,t,i)}clearState(e){this._chart&&this._chart.clearState(e)}clearAllStates(){this._chart&&this._chart.clearAllStates()}clearSelected(){this._chart&&this._chart.clearSelected()}clearHovered(){this._chart&&this._chart.clearHovered()}_updateCurrentTheme(e){var t,i,r;const s=this._option.theme,a=(t=this._spec)===null||t===void 0?void 0:t.theme,o=(i=this._spec)===null||i===void 0?void 0:i.type;e&&(this._currentThemeName=e);const l=(c,d)=>{var h;return!((h=d.chart)===null||h===void 0)&&h[c]&&(d=Q2({},d,d.chart[c])),d};let u;if(Lt(s)&&Lt(a))u=Mv(this._currentThemeName),this._currentTheme=l(o,u);else if(Jt(s)&&(!a||Jt(a))||Jt(a)&&(!s||Jt(s))){const c=Q2({},Mv(this._currentThemeName),Mv(s),Mv(a));this._currentTheme=l(o,c)}else{const c=Q2({},Mv(this._currentThemeName),Mv(s),Mv(a));this._currentTheme=l(o,c)}this._cachedProcessedTheme=null,F8t(this.getTheme("component","poptip")),(r=this._compiler)===null||r===void 0||r.setBackground(this._getBackground())}_shouldChartResize(e){var t,i;let r=!1;J(this._spec.width)?!J(e.width)&&(this._spec.width=e.width):this._spec.width!==e.width&&(r=!0),J(this._spec.height)?!J(e.height)&&(this._spec.height=e.height):this._spec.height!==e.height&&(r=!0);const s=this._autoSize;return this._autoSize=!!ng(this._option.mode)&&((i=(t=this._spec.autoFit)!==null&&t!==void 0?t:this._option.autoFit)===null||i===void 0||i),this._autoSize!==s&&(r=!0),r}_getBackground(){return(typeof this._spec.background=="string"||pn(this._spec.background)&&this._spec.background.gradient?this._spec.background:null)||this.getTheme("background")||this._option.background}getCurrentTheme(){return Mv(this._currentThemeName)}getCurrentThemeName(){return this._currentThemeName}setCurrentTheme(e){return Xh(this,void 0,void 0,function*(){return this.setCurrentThemeSync(e)})}setCurrentThemeSync(e){if(!rc.themeExist(e))return this;const t=this._setCurrentTheme(e);return this._setFontFamilyTheme(this.getTheme("fontFamily")),this.updateCustomConfigAndRerender(t,!0,{transformSpec:!1,actionSource:"setCurrentTheme"}),this}_setCurrentTheme(e){var t;return this._updateCurrentTheme(e),this._initChartSpec(this._getSpecFromOriginalSpec(),"setCurrentTheme"),(t=this._chart)===null||t===void 0||t.setCurrentTheme(),{change:!0,reMake:!1}}_setFontFamilyTheme(e){var t;e&&((t=this.getStage())===null||t===void 0||t.setTheme({text:{fontFamily:e},richtext:{fontFamily:e}}))}_getTooltipComponent(){var e;return(e=this._chart)===null||e===void 0?void 0:e.getComponentsByType(He.tooltip)[0]}setTooltipHandler(e){var t,i;this._context.tooltipHandler=e;const r=this._getTooltipComponent();r&&((i=(t=r.tooltipHandler)===null||t===void 0?void 0:t.release)===null||i===void 0||i.call(t),r.tooltipHandler=e)}getTooltipHandlerByUser(){var e;return(e=this._context)===null||e===void 0?void 0:e.tooltipHandler}getTooltipHandler(){const e=this._getTooltipComponent();return e?e.tooltipHandler:this._context.tooltipHandler}showTooltip(e,t){var i;const r=this._getTooltipComponent();return(i=Y(e)&&(r==null?void 0:r.showTooltip(e,t))!=="none")!==null&&i!==void 0&&i}hideTooltip(){var e;const t=this._getTooltipComponent();return(e=t==null?void 0:t.hideTooltip())!==null&&e!==void 0&&e}getLegendDataById(e){var t;const i=(t=this._chart)===null||t===void 0?void 0:t.getComponentByUserId(e);return i?i.getLegendData():[]}getLegendDataByIndex(e=0){var t;const i=(t=this._chart)===null||t===void 0?void 0:t.getComponentsByType(He.discreteLegend);return i&&i[e]?i[e].getLegendData():[]}getLegendSelectedDataById(e){var t;const i=(t=this._chart)===null||t===void 0?void 0:t.getComponentByUserId(e);return i?i.getSelectedData():[]}getLegendSelectedDataByIndex(e=0){var t;const i=(t=this._chart)===null||t===void 0?void 0:t.getComponentsByType(He.discreteLegend);return i&&i[e]?i[e].getSelectedData():[]}setLegendSelectedDataById(e,t){var i;const r=(i=this._chart)===null||i===void 0?void 0:i.getComponentByUserId(e);r&&r.setSelectedData(t)}setLegendSelectedDataByIndex(e=0,t){var i;const r=(i=this._chart)===null||i===void 0?void 0:i.getComponentsByType(He.discreteLegend);r&&r[e]&&r[e].setSelectedData(t)}getDataURL(){var e;return Xh(this,void 0,void 0,function*(){const t=this.getStage();if(this._chart&&t){t.render();const i=this._chart.getCanvas();return yield _qt(i,{onError:this._onError})}return(e=this._option)===null||e===void 0||e.onError(new ReferenceError("render is not defined")),null})}exportImg(e){var t,i;return Xh(this,void 0,void 0,function*(){if(!ng(this._option.mode))return void((t=this._option)===null||t===void 0||t.onError(new TypeError("non-browser environment can not export img")));const r=yield this.getDataURL();r?vqt(e,r):(i=this._option)===null||i===void 0||i.onError(new ReferenceError("render is not defined"))})}exportCanvas(){var e;const t=this.getStage();if(this._chart&&t)return t.toCanvas();(e=this._option)===null||e===void 0||e.onError(new ReferenceError("render is not defined"))}getImageBuffer(){var e,t;if(this._option.mode!=="node")return void((e=this._option)===null||e===void 0||e.onError(new TypeError("getImageBuffer() now only support node environment.")));const i=this.getStage();return i?(i.render(),i.window.getImageBuffer()):((t=this._option)===null||t===void 0||t.onError(new ReferenceError("render is not defined")),null)}setLayout(e){var t;this._option.layout=e,(t=this._chart)===null||t===void 0||t.setLayout(e)}reLayout(){var e;this._chart.resetLayoutItemTag(),(e=this._chart)===null||e===void 0||e.setLayoutTag(!0)}getCompiler(){return this._compiler}getChart(){return this._chart}getStage(){return this._compiler.getStage()}getCanvas(){var e;return(e=this._compiler)===null||e===void 0?void 0:e.getCanvas()}getContainer(){var e;if(Y(this._container))return this._container;let t;return t=Jt(this._canvas)?un.getElementById(this._canvas):this._canvas,Y(t)?t.parentElement:(e=this.getCanvas())===null||e===void 0?void 0:e.parentElement}getComponents(){return this._chart.getAllComponents()}getScale(e){var t;const i=(t=this._chart)===null||t===void 0?void 0:t.getGlobalScale();return i==null?void 0:i.getScale(e)}setDimensionIndex(e,t={}){var i;return(i=this._chart)===null||i===void 0?void 0:i.setDimensionIndex(e,t)}showCrosshair(e){var t;(t=this._chart)===null||t===void 0||t.showCrosshair(e)}stopAnimation(){var e;(e=this.getStage())===null||e===void 0||e.stopAnimation(!0)}reRunNormalAnimation(){var e;(e=this.getStage())===null||e===void 0||e.reApplyAnimationState("normal",!0)}pauseAnimation(){var e;(e=this.getStage())===null||e===void 0||e.pauseAnimation(!0)}resumeAnimation(){var e;(e=this.getStage())===null||e===void 0||e.resumeAnimation(!0)}convertDatumToPosition(e,t={},i=!1,r){var s;if(!this._chart||Lt(e))return null;const{seriesId:a,seriesIndex:o=0}=t;let l;if(Y(a)?l=this._chart.getSeriesInUserId(a):Y(o)&&(l=(s=this._chart.getSeriesInIndex([o]))===null||s===void 0?void 0:s[0]),l){const u=Object.keys(e),c=l.getViewData().latestData.find(f=>u.every(p=>f[p]==e[p])),d=l.getRegion().getLayoutStartPoint();let h;return h=c?l.dataToPosition(c,r):l.dataToPosition(e,r),h?sge(h,d,i):null}return null}convertValueToPosition(e,t,i=!1){var r,s;if(!this._chart||J(e)||Lt(t))return null;if(!Oe(e)){const{axisId:u,axisIndex:c}=t;let d;if(Y(u)?d=this._chart.getComponentsByKey("axes").find(f=>f.userId===u):Y(c)&&(d=(r=this._chart.getComponentsByKey("axes"))===null||r===void 0?void 0:r[c]),!d)return fc("Please check whether the `axisId` or `axisIndex` is set!"),null;const h=d==null?void 0:d.valueToPosition(e);if(i){const f=d.getLayoutStartPoint(),p=d.getOrient();return h+(p==="bottom"||p==="top"?f.x:f.y)}return h}const{seriesId:a,seriesIndex:o}=t;let l;return Y(a)?l=this._chart.getSeriesInUserId(a):Y(o)&&(l=(s=this._chart.getSeriesInIndex([o]))===null||s===void 0?void 0:s[0]),l?sge(l.valueToPosition(e[0],e[1]),l.getRegion().getLayoutStartPoint(),i):(fc("Please check whether the `seriesId` or `seriesIndex` is set!"),null)}getFunction(e){return Wc.instance().getFunction(e)}registerFunction(e,t){e&&t&&Wc.instance().registerFunction(e,t)}unregisterFunction(e){e&&Wc.instance().unregisterFunction(e)}getFunctionList(){return Wc.instance().getFunctionNameList()}setRuntimeSpec(e){this._spec=e,this._updateSpecInfo()}updateIndicatorDataById(e,t){var i;const r=(i=this._chart)===null||i===void 0?void 0:i.getComponentByUserId(e);r&&r.updateDatum(t)}updateIndicatorDataByIndex(e=0,t){var i;const r=(i=this._chart)===null||i===void 0?void 0:i.getComponentsByType(He.indicator);r&&r[e]&&r[e].updateDatum(t)}geoZoomByIndex(e=0,t,i){this._geoZoomByQuery({regionIndex:e},t,i)}geoZoomById(e,t,i){this._geoZoomByQuery({regionId:e},t,i)}_geoZoomByQuery(e,t,i){var r,s;const a=(r=this._chart)===null||r===void 0?void 0:r.getRegionsInQuerier(e)[0],o=(s=this._chart)===null||s===void 0?void 0:s.getComponentsByType(He.geoCoordinate),l=o==null?void 0:o.find(u=>{var c;return(c=u.getRegions())===null||c===void 0?void 0:c.includes(a)});l&&l.dispatchZoom(t,i)}_initChartPlugin(){const e=ne.getChartPlugins();e.length>0&&(this._chartPlugin=new Nqt(this),this._chartPlugin.load(e.map(i=>new i)),this._chartPluginApply("onInit",this._spec));const t=ne.getVChartPlugins();t.length>0&&(this._vChartPlugin=new iZt(this),this._vChartPlugin.load(t.map(i=>new i)),this._vChartPlugin.onInit())}_chartPluginApply(e,...t){this._chartPlugin&&this._chartPlugin[e]&&this._chartPlugin[e].apply(this._chartPlugin,t)}_getMode(){return this._option.mode||ha["desktop-browser"]}isAnimationEnable(){return"animation"in this._option?!!this._option.animation:this._spec.animation!==!1}_getChartOption(e){return{type:e,globalInstance:this,eventDispatcher:this._eventDispatcher,dataSet:this._dataSet,container:this._container,canvas:this._canvas,map:new Map,mode:this._getMode(),modeParams:this._option.modeParams,getCompiler:()=>this._compiler,viewBox:this._viewBox,getTheme:this.getTheme,getSpecInfo:()=>{var t;return(t=this._specInfo)!==null&&t!==void 0?t:{}},layout:this._option.layout,onError:this._onError,disableTriggerEvent:this._option.disableTriggerEvent===!0,componentShowContent:this._option.componentShowContent}}}cl.InstanceManager=nh,cl.ThemeManager=rc,cl.globalConfig={uniqueTooltip:!0},cl.Utils=Fqt,cl.vglobal=un;ne.registerRegion("region",Gw),ne.registerLayout("base",xIe),TIe(),Qqt(),tZt(),nZt(),rQ(age.name,age);const IIe="monotone",RIe="linear",sZt="bevel";function sc(n,e){return e("component",n)}function zm(n,e,t,i){if(n)return{formatFunc:n,args:[t,i]};const r=ne.getFormatter();return e&&r?{formatFunc:r,args:[t,i,e]}:{}}const lg=(n,e,t,i)=>{if(J(n[e]))return;const r=Oe(n[e]),s=r?n[e]:[n[e]],a=[];return s.forEach((o,l)=>{!o||i&&!i(o)||a.push({spec:o,specPath:r?[e,l]:[e],specInfoPath:["component",e,l],type:t})}),a},aZt=(n,e)=>{if(!e.from||!e.from())return n;const t=e.fields,i=e.key,r=e.values,s=e.default,a=e.as||[t],o=e.from().reduce(function(u,c){return c[t]&&u.set(c[t],c),u},new Map);let l;if(Re(e.set))l=function(u){const c=o.get(u[i]);e.set(u,c)};else if(r){const u=r.length;l=function(c){const d=o.get(c[i]);if(J(d))for(let h=0;h<u;++h)c[a[h]]=s;else for(let h=0;h<u;++h)c[a[h]]=d[r[h]]}}else l=function(u){const c=o.get(u[i]);u[a[0]]=Y(c)?c:s};return n.length===0?[]:n.map(u=>(l(u),u))},X1=(n,e)=>{const t=e.beforeCall();return n&&n.forEach((i,r)=>e.call(i,r,t)),t.keyMap&&(t.keyMap.clear(),t.keyMap=null),n},Fb=(n,e,t,i)=>{let r;if(r=Re(n)?n(e,t):gh(n)&&Y(n.field)?Hn(e,n.field):n,i){const{formatFunc:s,args:a}=zm(void 0,i,n,e);s&&a&&(r=s(...a))}return r},xge=(n,e,t)=>J(n)?n:Re(n)?n(e,t):n;function oZt(n){var e;const t=!((e=n[0])===null||e===void 0)&&e.series?[{data:n,value:""}]:n;for(const{data:i}of t)for(const{datum:r}of i)for(const s of r??[])if(s)return s}var lZt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};const uZt=n=>{var e,t,i;if((n==null?void 0:n.visible)===!1)return[];const r={mark:((e=n==null?void 0:n.mark)===null||e===void 0?void 0:e.visible)!==!1,dimension:((t=n==null?void 0:n.dimension)===null||t===void 0?void 0:t.visible)!==!1,group:((i=n==null?void 0:n.group)===null||i===void 0?void 0:i.visible)!==!1};return Y(n==null?void 0:n.activeType)&&Object.keys(r).forEach(s=>{var a;r[s]=(a=n==null?void 0:n.activeType)===null||a===void 0?void 0:a.includes(s)}),Object.keys(r).filter(s=>r[s])},pQ=(n,e)=>!e||e.visible!==!1&&(!e[n]||e[n].visible!==!1)&&!(e.activeType&&!(Oe(e.activeType)?e.activeType.includes(n):e.activeType===n));function cZt(n){return J(n.mark)&&J(n.model)&&J(n.datum)}function F7(n,e,t,i,r,s){const a=o=>{if(o){const l={datum:r},u=J(o.key)&&J(o.value)&&!Lt(o)?Object.assign(Object.assign(Object.assign({},i),t),o):Object.assign(Object.assign({},i),o),{key:c,keyFormatter:d,keyTimeFormat:h,keyTimeFormatMode:f,value:p,valueFormatter:g,valueTimeFormat:m,valueTimeFormatMode:v}=u,_=lZt(u,["key","keyFormatter","keyTimeFormat","keyTimeFormatMode","value","valueFormatter","valueTimeFormat","valueTimeFormatMode"]);l.key=B7(Fb(c,r,s,d),h,f),l.value=B7(Fb(p,r,s,g),m,v),Object.keys(_).forEach(y=>{l[y]=Fb(u[y],r,s)}),l.visible!==!1&&(Y(l.key)||Y(l.value))&&n.push(l)}};Oe(e)?e.forEach(o=>{a(o)}):a(e)}function wge(n,e,t,i,r,s,a){Re(e)?F7(n,e(r,a),t,i,s,a):e&&F7(n,e,t,i,s,a)}function dZt(n,e,t,i,r,s){if(r&&r.length){const a=[];return r.forEach(o=>{Oe(n)?n.forEach(l=>{wge(a,l,e,t,i,o,s)}):Re(n)?wge(a,n,e,t,i,o,s):n&&F7(a,n,e,t,o,s)}),a}return null}function hZt(n){if(!n||!n.length)return null;const e=[];return n.forEach(({content:t})=>{t&&t.forEach(i=>{e.push(i)})}),e.length?Object.assign(Object.assign({},n[0]),{content:e}):n[0]}const B7=(n,e,t)=>{if(!e&&!t)return typeof n!="object"?n==null?void 0:n.toString():n;const i=mf.getInstance();return e=e||"%Y%m%d",((t=t||"local")==="local"?i.timeFormat:i.timeUTCFormat)(e,n)};class Jl{constructor(e){this.activeTriggerSet={mark:new Set,group:new Set},this.ignoreTriggerSet={mark:new Set},this._getSeriesCacheInfo=()=>{var t,i,r;const{series:s}=this,a=s.getSeriesField();return{seriesFields:Y(a)?Ae(a):(t=s.getSeriesKeys())!==null&&t!==void 0?t:[],dimensionFields:(i=s.getDimensionField())!==null&&i!==void 0?i:[],measureFields:(r=s.getMeasureField())!==null&&r!==void 0?r:[],type:s.type}},this._getDimensionData=t=>{const{dimensionFields:i}=this._seriesCacheInfo;return i[0]&&(t==null?void 0:t[i[0]])},this._getMeasureData=t=>{const{measureFields:i}=this._seriesCacheInfo;return i[0]&&(t==null?void 0:t[i[0]])},this._getSeriesFieldData=t=>{const{dimensionFields:i,seriesFields:r}=this._seriesCacheInfo;if(Y(r[0])&&(t!=null&&t[r[0]]))return t==null?void 0:t[r[0]];const s=i[i.length-1];return i.length>1&&(r.length===0||this.series.getSeriesKeys().length),t==null?void 0:t[s]},this._getSeriesStyle=(t,i,r)=>{var s;for(const a of Ae(i)){const o=(s=this.series.getSeriesStyle(t))===null||s===void 0?void 0:s(a);if(Y(o))return o}return r},this.markTooltipKeyCallback=(t,i)=>this._getSeriesFieldData(t),this.markTooltipValueCallback=(t,i)=>this._getMeasureData(t),this.shapeTypeCallback=(t,i)=>{var r;return(r=this._getSeriesStyle(t,"shape",null))!==null&&r!==void 0?r:this._getSeriesStyle(t,"symbolType",this.series.getDefaultShapeType())},this.shapeColorCallback=(t,i)=>this._getSeriesStyle(t,["fill","stroke"]),this.shapeStrokeCallback=(t,i)=>this._getSeriesStyle(t,["stroke","fill"]),this.dimensionTooltipTitleCallback=(t,i)=>this._getDimensionData(t),this.groupTooltipTitleCallback=(t,i)=>this._getSeriesFieldData(t),this.groupTooltipKeyCallback=(t,i)=>{const{seriesFields:r}=this._seriesCacheInfo;let s=this._seriesCacheInfo.dimensionFields;return r[0]&&(s=s.filter(a=>a!==r[0])),s.map(a=>t==null?void 0:t[a]).join("-")},this.getHasShape=t=>!!t,this.series=e,this.updateTooltipSpec()}updateTooltipSpec(){var e;const t=(e=this.series.getSpec())===null||e===void 0?void 0:e.tooltip;this.spec=t,this._seriesCacheInfo=this._getSeriesCacheInfo()}getShapeAttrs(e,t,i){var r,s,a,o,l,u,c,d,h,f,p,g;const m=t?"content":"title",v=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(r=i==null?void 0:i.style)===null||r===void 0?void 0:r.shape),i==null?void 0:i[e]),(s=i==null?void 0:i[e])===null||s===void 0?void 0:s[m]),(a=this.spec)===null||a===void 0?void 0:a[e]),(l=(o=this.spec)===null||o===void 0?void 0:o[e])===null||l===void 0?void 0:l[m]);return{shapeType:(u=v.shapeType)!==null&&u!==void 0?u:this.shapeTypeCallback,shapeFill:(d=(c=v.shapeFill)!==null&&c!==void 0?c:v.shapeColor)!==null&&d!==void 0?d:this.shapeColorCallback,shapeStroke:(h=v.shapeStroke)!==null&&h!==void 0?h:this.shapeStrokeCallback,shapeHollow:(f=v.shapeHollow)!==null&&f!==void 0&&f,shapeLineWidth:v.shapeLineWidth,shapeSize:(p=v.shapeSize)!==null&&p!==void 0?p:v.size,hasShape:(g=v.hasShape)!==null&&g!==void 0?g:this.getHasShape(t)}}enableByType(e){return!0}getDefaultContentList(e){return[this.getDefaultContentPattern(e)]}getContentList(e,t,i,r,s,a){var o;return dZt((o=t==null?void 0:t.content)!==null&&o!==void 0?o:this.getDefaultContentList(e),this.getDefaultContentPattern(e),i,r,s,a)}getTitleResult(e,t,i,r,s){let a=Re(t)?t(r,s):t;if(a?J(a.value)&&(a=Object.assign(Object.assign({},this.getDefaultTitlePattern(e)),a)):a=this.getDefaultTitlePattern(e),a&&a.visible!==!1){const o=oZt(r),l={visible:Fb(a.visible,o,s),value:B7(Fb(a.value,o,s,a.valueFormatter),a.valueTimeFormat,a.valueTimeFormatMode),valueStyle:Fb(a.valueStyle,o,s),hasShape:a.hasShape};return Object.keys(i).forEach(u=>{l[u]=Fb(i[u],o,s)}),l}return{hasShape:!1,visible:!1}}getTooltipData(e,t,i,r,s){var a,o;if(!(this.enableByType(e)&&pQ(e,this.spec)&&(e!=="dimension"||r&&r.length)))return null;const l=(o=(a=this.spec)===null||a===void 0?void 0:a[e])!==null&&o!==void 0?o:t==null?void 0:t[e],u=this.getShapeAttrs(e,!0,t),c=this.getShapeAttrs(e,!1,t);let d;return e==="dimension"?(d=[],this.getContentList(e,l,u,i,r,s).forEach(h=>{d.push(h)})):d=this.getContentList(e,l,u,i,r,s),{visible:!0,activeType:e,data:i,title:this.getTitleResult(e,l==null?void 0:l.title,c,i,s),content:d}}getDefaultTitlePattern(e){return{key:void 0,value:e==="group"?this.groupTooltipTitleCallback:this.dimensionTooltipTitleCallback}}getDefaultContentPattern(e){return{seriesId:this.series.id,key:e==="group"?this.groupTooltipKeyCallback:this.markTooltipKeyCallback,value:this.markTooltipValueCallback}}}const fZt={min:n=>n.length?Sa(n.map(e=>1*e)):0,max:n=>n.length?js(n.map(e=>1*e)):0,"array-min":n=>n.length?Sa(n.map(e=>1*e)):0,"array-max":n=>n.length?js(n.map(e=>1*e)):0,values:n=>{const e={},t=[];for(const i of n)e[i]||(t.push(i),e[i]=1);return t}},$7=(n,e)=>{var t,i;let r=e.fields;if(Re(r)&&(r=r()),!(r!=null&&r.length)||!(n!=null&&n.length))return{};r=Uw([],r);const s=e.target==="parser"?"parserData":"latestData",a=n[0][s]?n[0][s]:n||[],o=(i=(t=n[0]).getFields)===null||i===void 0?void 0:i.call(t);return DIe(a,r,o)},DIe=(n,e,t)=>{const i={};let r=[],s=[];return e.forEach(a=>{const o=a.key;i[o]={};const l=t==null?void 0:t[o],u=a.operations,c=u.some(f=>f==="min"||f==="max"||f==="allValid");let d=!0;r.length=0,n&&n.forEach(f=>{f&&r.push(f[o])});const h=r.length;if(c){s.length=0,r.forEach((p,g)=>{LC(p)&&s.push(p)});const f=r;r=s,s=f,d=r.length===h}else r=u.some(f=>f==="array-min"||f==="array-max")?r.reduce((f,p)=>(p&&p.forEach(g=>{LC(g)&&f.push(g)}),f),[]):r.filter(f=>f!==void 0);a.filter&&(r=r.filter(a.filter)),u.forEach(f=>{if(a.customize)i[o][f]=a.customize;else{if(l&&l.lockStatisticsByDomain===!0&&!J(l.domain)){if(f==="values")return void(i[o][f]=l.domain.slice())}else if(f==="allValid")return;i[o][f]=fZt[f](r),f==="array-max"&&(i[o].max=i[o][f]),f==="array-min"&&(i[o].min=i[o][f])}}),c&&(i[o].allValid=d)}),i},pZt=(n,e)=>{const{config:t}=e;if(!t)return n;const{invalidType:i,checkField:r}=t();return i!=="zero"||r&&r.length&&n.forEach(s=>{r.forEach(a=>{LC(s[a])||(s[a]=0)})}),n},N7=`${Xt}_HIERARCHY_DEPTH`,T0=`${Xt}_HIERARCHY_ROOT`,gZt=`${Xt}_HIERARCHY_ROOT_INDEX`;function UC(){return{keyMap:new Map,needDefaultSeriesField:!this._seriesField,defaultSeriesField:this._seriesField?null:this.getSeriesKeys()[0],getKey:this.generateDefaultDataKey(this._spec.dataKey)}}function E0(n,e,t){n&&(t.needDefaultSeriesField&&(n[Cu]=t.defaultSeriesField),n[Go]=e,n[yc]=t.getKey(n,e,t))}function gQ(){return{keyMap:new Map,needDefaultSeriesField:!0,defaultSeriesField:this.getSeriesKeys()[0],getKey:this.generateDefaultDataKey(this._spec.dataKey),categoryField:this.getCategoryField()}}function Gz(n,e,t,i=0,r,s){s===void 0&&(s=e),E0(n,e,t),n[N7]=i,n[T0]=r||n[t.categoryField],n[gZt]=s,n.children&&n.children.length&&n.children.forEach((a,o)=>Gz(a,o,t,n[N7]+1,n[T0],s))}const oa={label:{name:"label",type:"text"}},Cge=`${Xt}_rect_x`,Tge=`${Xt}_rect_x1`,Ege=`${Xt}_rect_y`,Age=`${Xt}_rect_y1`,mZt={data:!0},kge={invalidType:!0,animation:!0,animationAppear:!0,animationEnter:!0,animationUpdate:!0,animationExit:!0,animationNormal:!0},Oge=[...Object.keys(Up),"normal"];function ei(n={},e,t){const i={};for(let r=0;r<Oge.length;r++){const s=Oge[r],a=e?e[s]:void 0;if(a===!1)continue;if(s==="normal"){a&&(i.normal=a);continue}if(s==="state"){a!==!1&&(i.state=a??Up.state);continue}if(s!=="update"&&!a&&!n[s])continue;let o,l;o=Oe(n[s])?n[s]:[Object.assign(Object.assign({},Up[s]),n[s])],s==="exit"&&o.forEach(u=>{u.controlOptions={stopWhenStateChange:!0}}),a?(l=Oe(a)?a.map((u,c)=>{var d;let h=u;return Ige(h)&&delete h.type,h.oneByOne&&(h=Pge(h,(d=t==null?void 0:t.dataIndex)!==null&&d!==void 0?d:Mge,t==null?void 0:t.dataCount)),h}):o.map((u,c)=>{var d;let h=qt({},o[c],a);return Ige(h)&&delete h.type,h.oneByOne&&(h=Pge(h,(d=t==null?void 0:t.dataIndex)!==null&&d!==void 0?d:Mge,t==null?void 0:t.dataCount)),h}),i[s]=l):i[s]=o}return i}function _i(n,e,t){var i,r,s,a,o,l;const u={};return Y(e.animationAppear)&&(u.appear=(i=e.animationAppear[n])!==null&&i!==void 0?i:e.animationAppear),Y(e.animationDisappear)&&(u.disappear=(r=e.animationDisappear[n])!==null&&r!==void 0?r:e.animationDisappear),Y(e.animationEnter)&&(u.enter=(s=e.animationEnter[n])!==null&&s!==void 0?s:e.animationEnter),Y(e.animationExit)&&(u.exit=(a=e.animationExit[n])!==null&&a!==void 0?a:e.animationExit),Y(e.animationUpdate)&&(u.update=(o=e.animationUpdate[n])!==null&&o!==void 0?o:e.animationUpdate),Y(e.animationState)&&(u.state=(l=e.animationState[n])!==null&&l!==void 0?l:e.animationState),e.animationNormal&&e.animationNormal[n]&&(u.normal=e.animationNormal[n]),yZt(u,t)}function Pge(n,e,t){const{oneByOne:i,duration:r,delay:s,delayAfter:a}=n;return n.delay=(o,l,u)=>{const c=e(o,u),d=Re(r)?r(o,l,u):Me(r)?r:0,h=Re(s)?s(o,l,u):Me(s)?s:0;let f=Re(i)?i(o,l,u):i;return f===!1?h:(f=f===!0?0:f,h+c*(d+f))},n.delayAfter=(o,l,u)=>{const c=e(o,u),d=Re(r)?r(o,l,u):Me(r)?r:0,h=Re(a)?a(o,l,u):Me(a)?a:0;let f=Re(i)?i(o,l,u):i;return f===!1?h:(f=f===!0?0:f,h+((t?t():l.parent.count-1)-c)*(d+f))},delete n.oneByOne,n}function Mge(n,e){var t;return(t=n==null?void 0:n[Go])!==null&&t!==void 0?t:e.context.graphicIndex}function bg(n,e){var t,i,r,s,a;if(n.animation===!1||((t=n.morph)===null||t===void 0?void 0:t.enable)===!1)return!1;const o=((r=(i=n.animationAppear)===null||i===void 0?void 0:i[e])!==null&&r!==void 0?r:n.animationAppear)!==!1,l=((a=(s=n.animationUpdate)===null||s===void 0?void 0:s[e])!==null&&a!==void 0?a:n.animationUpdate)!==!1;return!(!o||!l)}function vZt(n){return Y(n.timeSlices)}function Ige(n){return!vZt(n)&&Y(n.channel)}function yZt(n,e){if(!n)return n;const t=["custom","customParameters"];return j7(n=Ul(n,null,t),i=>{var r;return Re(i)&&((r=i.prototype)===null||r===void 0?void 0:r.constructor)!==i?(...s)=>i(...s,e):i},t),n}function j7(n,e,t=[]){if(Oe(n))n.forEach((i,r)=>{n[r]=e(n[r],r),j7(n[r],e,t)});else if(pn(n)&&typeof n!="function")for(const i in n)t.includes(i)||(n[i]=e(n[i],i),j7(n[i],e,t))}function Rge(n){var e,t,i,r,s,a;const o=n.getSpec();if(o.animation===!1||((t=(e=n.getOption())===null||e===void 0?void 0:e.globalInstance)===null||t===void 0?void 0:t.isAnimationEnable())===!1)return!1;let l=(i=o.animationThreshold)!==null&&i!==void 0?i:Number.MAX_SAFE_INTEGER;return(r=n.getMarks())===null||r===void 0||r.forEach(u=>{const c=u.getMarkConfig();c&&(c.large&&c.largeThreshold&&(l=Math.min(l,c.largeThreshold)),c.progressiveThreshold&&(l=Math.min(l,c.progressiveThreshold)))}),!(((a=(s=n.getRawData())===null||s===void 0?void 0:s.latestData)===null||a===void 0?void 0:a.length)>=l)}class bl extends zz{constructor(){super(...arguments),this.markLabelSpec={}}getLabelSpec(e){return this.markLabelSpec[e]}setLabelSpec(e,t){this.markLabelSpec[e]=Ae(t)}addLabelSpec(e,t,i=!1){this.markLabelSpec[e]||(this.markLabelSpec[e]=[]),i?this.markLabelSpec[e].unshift(t):this.markLabelSpec[e].push(t)}getTheme(e,t){var i,r,s;const a=JMe(e),o=(i=this._option)===null||i===void 0?void 0:i.getTheme,l=this._option.type,u=ne.getSeriesMarkMap(l)?$Xt(o("series",l),l,o):{},c=o("series",`${l}_${a}`),d=((s=(r=this.stack)!==null&&r!==void 0?r:c==null?void 0:c.stack)!==null&&s!==void 0?s:u!=null&&u.stack)?o("series",`${l}_stack`):void 0;return qt({},u,c,d)}transformSpec(e,t,i){this._transformStack(e);const r=super.transformSpec(e,t,i);return this._transformLabelSpec(r.spec),Object.assign(Object.assign({},r),{markLabelSpec:this.markLabelSpec,stack:this.stack})}_transformLabelSpec(e){}_transformStack(e){Va(e.stack)&&(this.stack=e.stack),Va(e.percent)&&(this.stack=e.percent||this.stack),J(this.stack)&&this._supportStack&&e.seriesField&&(this.stack=!0)}_addMarkLabelSpec(e,t,i="label",r="initLabelMarkStyle",s=!0,a){e&&Ae(e[i]).forEach(o=>{var l,u,c;if(o&&o.visible){const{animation:d=!0,animationUpdate:h=!0,animationEnter:f=!0,animationExit:p=!0}=o,{animationUpdate:g=!0,animationEnter:m=!0,animationExit:v=!0}=e,_=!!((c=(u=(l=this._option.globalInstance)===null||l===void 0?void 0:l.isAnimationEnable())!==null&&u!==void 0?u:e.animation)!==null&&c!==void 0?c:o.animation)&&!!s;this.addLabelSpec(Re(t)?t(o):t,Object.assign(Object.assign({},o),{animation:!!_&&d,animationUpdate:!!(_&&g&&h)&&g,animationEnter:!!(_&&m&&f)&&m,animationExit:!!(_&&m&&p)&&v,getStyleHandler:y=>{var x;return(x=y[r])===null||x===void 0?void 0:x.bind(y)}}),a)}})}_getDefaultSpecFromChart(e){var t;const i=(t=super._getDefaultSpecFromChart(e))!==null&&t!==void 0?t:{},{outerRadius:r,innerRadius:s,direction:a}=e;return Y(r)&&(i.outerRadius=r),Y(s)&&(i.innerRadius=s),Y(a)&&(i.direction=a),Object.keys(i).length>0?i:void 0}_mergeThemeToSpec(e,t){const i=this._theme;if(this._shouldMergeThemeToSpec()){const r=this._getDefaultSpecFromChart(t),s=a=>{const o=qt({},i,r,a),l=i.label;return l&&pn(l)&&Oe(o.label)&&(o.label=o.label.map(u=>qt({},l,u))),o};return Oe(e)?{spec:e.map(a=>s(a)),theme:i}:{spec:s(e),theme:i}}return{spec:e,theme:i}}}function _Zt(n){return n===ha["desktop-browser"]||n===ha["desktop-miniApp"]?{hover:{enable:!0,trigger:"pointermove",triggerOff:"view:pointerleave"},select:{enable:!0,trigger:"pointertap"}}:Ny(n)||s_(n)?{hover:{enable:!0,trigger:["pointerdown","pointermove"],triggerOff:"view:pointerleave"},select:{enable:!0,trigger:"tap"}}:null}class A0 extends cQ{getRegion(){return this._region}getLayoutStartPoint(){return this._region.getLayoutStartPoint()}getRootMark(){return this._rootMark}getSeriesMark(){return this._seriesMark}getRawData(){return this._rawData}getViewDataFilter(){return this._viewDataFilter}getViewData(){var e;return(e=this._data)===null||e===void 0?void 0:e.getDataView()}getViewDataProductId(){var e;return(e=this._data)===null||e===void 0?void 0:e.getProductId()}getViewDataStatistics(){return this._viewDataStatistics}getViewStackData(){return this._viewStackData}getSeriesField(){return this._seriesField}setSeriesField(e){Y(e)&&(this._seriesField=e)}getGroups(){return this._groups}getStack(){var e;return(e=this.getSpecInfo())===null||e===void 0?void 0:e.stack}getStackValue(){var e;return(e=this._spec.stackValue)!==null&&e!==void 0?e:`${Xt}_series_${this.type}`}getPercent(){return this._spec.percent}getStackOffsetSilhouette(){return this._spec.stackOffsetSilhouette}get tooltipHelper(){return this._tooltipHelper||this.initTooltip(),this._tooltipHelper}getInvalidType(){return this._invalidType}setInvalidType(e){var t;this._invalidType=e,(t=this.getViewData())===null||t===void 0||t.reRunAllTransform()}getMarkAttributeContext(){return this._markAttributeContext}constructor(e,t){var i;super(e,t),this.specKey="series",this.type="series",this.layoutType="absolute",this.modelType="series",this.name=void 0,this.transformerConstructor=bl,this.coordinate="none",this._region=null,this._layoutStartPoint={x:0,y:0},this._layoutRect={width:null,height:null},this.getLayoutRect=()=>{var r,s;return{width:(r=this._layoutRect.width)!==null&&r!==void 0?r:this._region.getLayoutRect().width,height:(s=this._layoutRect.height)!==null&&s!==void 0?s:this._region.getLayoutRect().height}},this._rootMark=null,this._seriesMark=null,this._viewDataMap=new Map,this._viewDataFilter=null,this._data=null,this.layoutZIndex=ji.SeriesGroup,this._invalidType="break",this._region=t.region,this._dataSet=t.dataSet,!((i=this._spec)===null||i===void 0)&&i.name&&(this.name=this._spec.name)}created(){super.created(),this._buildMarkAttributeContext(),this.initData(),this.initGroups(),this.initStatisticalData(),this.event.emit(Et.afterInitData,{model:this}),this.initRootMark(),this.initMark();const e=Rge(this);this._initExtensionMark({hasAnimation:e}),this.initMarkStyle(),this.initMarkState(),e&&(this.initAnimation(),this.initStageAnimation()),this.afterInitMark(),this.initEvent(),this.event.emit(Et.afterInitEvent,{model:this})}_buildMarkAttributeContext(){this._markAttributeContext={vchart:this._option.globalInstance,globalScale:(e,t)=>{var i;return(i=this._option.globalScale.getScale(e))===null||i===void 0?void 0:i.scale(t)},seriesColor:e=>{var t;return J(e)&&(e=this.getSeriesKeys()[0]),(t=this._option.globalScale.getScale("color"))===null||t===void 0?void 0:t.scale(e)},getRegion:()=>this._region}}setAttrFromSpec(){super.setAttrFromSpec(),this.setSeriesField(this._spec.seriesField),Y(this._spec.invalidType)&&(this._invalidType=this._spec.invalidType)}getInvalidCheckFields(){return[this.getStackValueField()]}initInvalidDataTransform(){var e,t;this._invalidType==="zero"&&(!((e=this._rawData)===null||e===void 0)&&e.dataSet)&&(rn(this._rawData.dataSet,"invalidTravel",pZt),(t=this._rawData)===null||t===void 0||t.transform({type:"invalidTravel",options:{config:()=>({invalidType:this._invalidType,checkField:this.getInvalidCheckFields()})}},!1))}initData(){var e,t,i;const r=(e=this._spec.data)!==null&&e!==void 0?e:this._option.getSeriesData(this._spec.dataId,this._spec.dataIndex);if(r&&(this._rawData=lQ(r,this._dataSet,this._option.sourceDataList)),(i=(t=this._rawData)===null||t===void 0?void 0:t.target)===null||i===void 0||i.addListener("change",this.rawDataUpdate.bind(this)),this._addDataIndexAndKey(),this._rawData){this.getStack()&&(this._viewDataFilter=L7(this._rawData,this._dataSet,{name:`${this.type}_${this.id}_viewDataFilter`}));const s=L7(this.getStack()?this._viewDataFilter:this._rawData,this._dataSet,{name:`${this.type}_${this.id}_viewData`});this._data=new Zl(this._option,s),this.getStack()&&this._viewDataFilter.target.removeListener("change",s.reRunAllTransform)}this.initInvalidDataTransform()}initGroups(){const e=this.getGroupFields();e&&e.length&&(this._groups={fields:e})}initStatisticalData(){this._data&&this._statisticViewData()}getRawDataStatisticsByField(e,t){var i,r,s;if(this._rawStatisticsCache||(this._rawStatisticsCache={}),!this._rawStatisticsCache[e]||t&&(J(this._rawStatisticsCache[e].min)||J(this._rawStatisticsCache[e].max))||!t&&J(this._rawStatisticsCache[e].values)){if(this._viewDataStatistics&&(!this._viewDataFilter||this._viewDataFilter.transformsArr.length<=1)&&this.getViewData().transformsArr.length<=1&&(!((i=this._viewDataStatistics.latestData)===null||i===void 0)&&i[e]))this._rawStatisticsCache[e]=this._viewDataStatistics.latestData[e];else if(this._rawData){const a=(r=this._rawData.getFields())===null||r===void 0?void 0:r[e];if(a&&a.lockStatisticsByDomain&&a.domain)this._rawStatisticsCache[e]={},t?(this._rawStatisticsCache[e].min=Sa(a.domain),this._rawStatisticsCache[e].max=js(a.domain)):this._rawStatisticsCache[e].values=a.domain;else{const o=DIe(this._rawData.latestData,[{key:e,operations:t?["min","max"]:["values"]}])[e];this._rawStatisticsCache[e]=We((s=this._rawStatisticsCache[e])!==null&&s!==void 0?s:{},o)}}}return this._rawStatisticsCache[e]}_statisticViewData(){rn(this._dataSet,"dimensionStatistics",$7);const e=`${this.type}_${this.id}_viewDataStatic`;this._viewDataStatistics=new Pi(this._dataSet,{name:e}),this._viewDataStatistics.parse([this._data.getDataView()],{type:"dataview"}),this._viewDataStatistics.transform({type:"dimensionStatistics",options:{fields:()=>{const t=this.getStatisticFields();return this._seriesField&&Uw(t,[{key:this._seriesField,operations:["values"]}]),t},target:"latest"}},!1),this._data.getDataView().target.removeListener("change",this._viewDataStatistics.reRunAllTransform),this.getStack()&&this.createdStackData()}createStatisticalData(e,t,i){rn(this._dataSet,"dimensionStatistics",$7);const r=new Pi(this._dataSet,{name:e});return r.parse([t],{type:"dataview"}),r.transform({type:"dimensionStatistics",options:{operations:["max","min","values"],fields:()=>{var s;const a=Uw(this.getStatisticFields(),(s=i==null?void 0:i(t.name))!==null&&s!==void 0?s:[]);return this._seriesField&&Uw(a,[{key:this._seriesField,operations:["values"]}]),a},target:"latest"}},!1),r}createdStackData(){const e=`${this.type}_${this.id}_viewStackData`;this._viewStackData=new Pi(this._dataSet,{name:e}),this._viewStackData.parse([this._viewDataFilter],{type:"dataview"}),this._viewStackData.transform({type:"stackSplit",options:{fields:this.getStackGroupFields()}},!1)}_noAnimationDataKey(e,t){return t}generateDefaultDataKey(e){var t;return J(e)?(i,r,s)=>{if(this._spec.animation===!1){const l=this._noAnimationDataKey(i,r);if(l!==void 0)return l}const{keyMap:a}=s,o=this._getSeriesDataKey(i);return a.get(o)===void 0?(a.set(o,0),o):(a.set(o,a.get(o)+1),`${o}_${a.get(o)}`)}:Jt(e)?i=>i[e]:Oe(e)&&e.every(i=>Jt(i))?i=>e.map(r=>i[r]).join("-"):Re(e)?(i,r)=>e(i,r):((t=this._option)===null||t===void 0||t.onError(`invalid dataKey: ${e}`),(i,r)=>{})}_addDataIndexAndKey(){var e;!((e=this._rawData)===null||e===void 0)&&e.dataSet&&(rn(this._rawData.dataSet,"addVChartProperty",X1),this._rawData.transform({type:"addVChartProperty",options:{beforeCall:UC.bind(this),call:E0}},!1))}updateRawData(e){this._rawData&&this._rawData.updateRawData(e)}rawDataUpdate(e){var t;(t=this._rawDataStatistics)===null||t===void 0||t.reRunAllTransform(),this._rawStatisticsCache=null,this.event.emit(Et.rawDataUpdate,{model:this})}viewDataFilterOver(e){this.event.emit(Et.viewDataFilterOver,{model:this})}viewDataUpdate(e){var t;this.event.emit(Et.viewDataUpdate,{model:this}),(t=this._data)===null||t===void 0||t.updateData(),this._viewDataStatistics&&this._viewDataStatistics.reRunAllTransform()}viewDataStatisticsUpdate(e){this.event.emit(Et.viewDataStatisticsUpdate,{model:this})}getDatumPositionValue(e,t){return!e||J(t)?null:e[t]}getDatumPositionValues(e,t){return!e||J(t)?[]:Jt(t)?[e[t]]:t.map(i=>e[i])}setValueFieldToStack(){}setValueFieldToPercent(){}setValueFieldToStackOffsetSilhouette(){}initRootMark(){var e,t,i;this._rootMark=this._createMark({type:"group",name:`seriesGroup_${this.type}_${this.id}`},{parent:(t=(e=this._region).getGroupMark)===null||t===void 0?void 0:t.call(e),dataView:!1}),this._rootMark.setMarkConfig({zIndex:(i=this._spec.zIndex)!==null&&i!==void 0?i:this.layoutZIndex})}_getExtensionMarkNamePrefix(){return`${this.type}_${this.id}_extensionMark`}_initExtensionMark(e){var t;this._spec.extensionMark&&((t=this._spec.extensionMark)===null||t===void 0||t.forEach((i,r)=>{this._createExtensionMark(i,null,this._getExtensionMarkNamePrefix(),r,e)}))}_createExtensionMark(e,t,i,r,s){var a;const o=this._createMark({type:e.type,name:Y(e.name)?`${e.name}`:`${i}_${r}`},{skipBeforeLayouted:!0,markSpec:e,parent:t,dataView:!1,componentType:e.componentType,key:e.dataKey});if(o){if(Y(e.id)&&o.setUserId(e.id),s.hasAnimation&&e.animation!==!1){const l=ei({},_i(e.type,e,this._markAttributeContext));o.setAnimationConfig(l)}if(e.type==="group"&&(i=`${i}_${r}`,(a=e.children)===null||a===void 0||a.forEach((l,u)=>{this._createExtensionMark(l,o,i,u,s)})),!J(e.dataId)||!J(e.dataIndex)){const l=this._option.getSeriesData(e.dataId,e.dataIndex);l===this._rawData?o.setData(this._data):(o.setDataView(l),l.target.addListener("change",()=>{o.getData().updateData()}))}}}_updateExtensionMarkSpec(){var e;(e=this._spec.extensionMark)===null||e===void 0||e.forEach((t,i)=>{const r=this._marks.getMarkWithInfo({name:Y(t.name)?`${t.name}`:`${this._getExtensionMarkNamePrefix()}_${i}`});r&&(this.initMarkStyleWithSpec(r,t),r.commit(!1,!0))})}getStackData(){var e;return(e=this._viewStackData)===null||e===void 0?void 0:e.latestData}_parseDefaultInteractionConfig(e){if(!(e!=null&&e.length))return[];const t=_Zt(this._option.mode);let i=Object.assign({},t==null?void 0:t.hover),r=Object.assign({},t==null?void 0:t.select);const s=this._spec.hover;Va(s)?i.enable=s:pn(s)&&(i.enable=!0,i=qt(i,s));const a=this._spec.select;Va(a)?r.enable=a:pn(a)&&(r.enable=!0,r=qt(r,a));const o=[{trigger:{type:"dimension-hover"},marks:e}];if(i.enable){const l=hW(i,e);l.length&&o.push({trigger:this._defaultHoverConfig(i),marks:l})}if(r.enable){const l=hW(r,e);l.length&&o.push({trigger:this._defaultSelectConfig(r),marks:l})}return o}_defaultHoverConfig(e){return{type:"element-highlight",trigger:e.trigger,triggerOff:e.triggerOff,blurState:pt.STATE_HOVER_REVERSE,highlightState:pt.STATE_HOVER}}_defaultSelectConfig(e){const t=e.mode==="multiple",i=Y(e.triggerOff)?e.triggerOff:t?["empty"]:["empty",e.trigger];return{type:"element-select",trigger:e.trigger,triggerOff:i,reverseState:pt.STATE_SELECTED_REVERSE,state:pt.STATE_SELECTED,isMultiple:t}}_parseInteractionConfig(e){const{interactions:t}=this._spec,i=this._parseDefaultInteractionConfig(e);return t&&t.length&&t.forEach(r=>{const s=hW(r,this.getMarks());s.length&&i.push({trigger:r,marks:s})}),i}getInteractionTriggers(){if(this._option.disableTriggerEvent!==!0){const e=this.getMarksWithoutRoot();return this._parseInteractionConfig(e)}return[]}initAnimation(){}initStageAnimation(){const e=this._option.getCompiler();e!=null&&e.setStageAnimationConfig&&e.setStageAnimationConfig(ei({},_i("stage",this._spec,this._markAttributeContext),null))}initMarkState(){this.initSeriesStyleState()}initSeriesStyleState(){var e;const t=this._spec.seriesStyle;if(!t||!t.length)return;const i=(e=this._seriesField)!==null&&e!==void 0?e:Cu;this.getMarksWithoutRoot().forEach(r=>{const s={},a={},o={};t.forEach(u=>{var c;const d=(c=u[r.name])===null||c===void 0?void 0:c.style;d&&(s[u.name]=!0,o[u.name]=o[u.name]||{},Object.keys(d).forEach(h=>{a[h]=!0,o[u.name][h]=d[h]}))}),r.state.addStateInfo({stateValue:lge,level:-1,filter:u=>Array.isArray(u)?u.length!==0&&s[u[0][i]]===!0:s[u[i]]===!0});const l={};Object.keys(a).forEach(u=>{l[u]=c=>{var d,h;let f;if(Array.isArray(c)){if(c.length===0)return;f=(d=o[c[0][i]])===null||d===void 0?void 0:d[u]}return f=(h=o[c[i]])===null||h===void 0?void 0:h[u],Y(f)?f:r.getAttribute(u,c)}}),this.setMarkStyle(r,l,lge,Qe.User_SeriesStyle)})}afterInitMark(){this.event.emit(Et.afterInitMark,{model:this}),this.setSeriesField(this._spec.seriesField),this.getMarks().forEach(e=>{var t,i;!((i=(t=e.stateStyle)===null||t===void 0?void 0:t.normal)===null||i===void 0)&&i.lineWidth&&e.setAttribute("stroke",this.getColorAttribute(),"normal",Qe.Base_Series)})}getMarksWithoutRoot(){return this.getMarks().filter(e=>{var t;return!(!((t=e.name)===null||t===void 0)&&t.includes("seriesGroup"))})}getMarksInType(e){return this._marks.getMarksInType(e)}getMarkInName(e){return this._marks.get(e)}getMarkInId(e){return this.getMarks().find(t=>t.id===e)}initEvent(){var e,t,i;(t=(e=this._data)===null||e===void 0?void 0:e.getDataView())===null||t===void 0||t.target.addListener("change",this.viewDataUpdate.bind(this)),(i=this._viewDataStatistics)===null||i===void 0||i.target.addListener("change",this.viewDataStatisticsUpdate.bind(this))}_releaseEvent(){super._releaseEvent()}initTooltip(){this._tooltipHelper=new Jl(this)}_compareExtensionMarksSpec(e,t,i){e.length!==t.length||t.some((r,s)=>r.type!==e[s].type||r.id!==e[s].id||r.name!==e[s].name)?i.reMake=!0:t.some((r,s)=>r.visible!==e[s].visible)&&(i.reCompile=!0)}_compareLabelSpec(e,t,i){e.length!==t.length||t.some((r,s)=>r.labelLayout!==e[s].labelLayout||r.visible!==e[s].visible)?i.reMake=!0:!i.reCompile&&t.some((r,s)=>!Oi(r,e[s]))&&(i.reCompile=!0)}_compareSpec(e,t,i){const r=super._compareSpec(e,t),s=Object.keys(t||{}).sort(),a=Object.keys(e||{}).sort();if(!Oi(s,a))return r.reMake=!0,r;const o=Object.assign(Object.assign(Object.assign(Object.assign({},mZt),kge),i),{extensionMark:!0,label:!0,totalLabel:!0});return this._compareExtensionMarksSpec(Ae(e.extensionMark),Ae(t.extensionMark),r),!r.reMake&&this._compareLabelSpec(Ae(e.label),Ae(t.label),r),!r.reMake&&this._compareLabelSpec(Ae(e.totalLabel),Ae(t.totalLabel),r),r.reMake?r:(!r.reCompile&&this._marks.getMarks().some(l=>{var u,c;return o[l.name]=!0,((u=t[l.name])===null||u===void 0?void 0:u.visible)!==((c=e[l.name])===null||c===void 0?void 0:c.visible)})&&(r.reCompile=!0),!r.reCompile&&s.some(l=>kge[l]&&!Oi(e[l],t[l]))&&(r.reCompile=!0),s.some(l=>!o[l]&&!Oi(e[l],t[l]))&&(r.reMake=!0),r)}_updateSpecData(){!this._rawData||!this._spec.data||this._spec.data instanceof Pi||uQ(this._rawData,this._spec.data,!0)}reInit(e){super.reInit(e);const t=this.getMarksWithoutRoot();t.forEach(i=>{this._spec[i.name]&&this.initMarkStyleWithSpec(i,this._spec[i.name])}),this.initMarkStyle(),t.forEach(i=>{i.commit(!1)}),this._updateExtensionMarkSpec(),this._updateSpecData(),this._tooltipHelper&&this._tooltipHelper.updateTooltipSpec(),Rge(this)&&this.initAnimation()}onEvaluateEnd(e){this._data.updateData()}release(){var e,t;super.release(),this._viewDataMap.clear();const i=(t=(e=this._rawData)===null||e===void 0?void 0:e.transformsArr)===null||t===void 0?void 0:t.findIndex(r=>r.type==="addVChartProperty");i>=0&&this._rawData.transformsArr.splice(i,1),this._dataSet=this._data=this._rawData=this._rawDataStatistics=this._spec=this._region=this._viewDataStatistics=this._viewStackData=null}setLayoutStartPosition(e){Me(e.x)&&(this._layoutStartPoint.x=e.x),Me(e.y)&&(this._layoutStartPoint.y=e.y)}setLayoutRect({width:e,height:t},i){Me(e)&&(this._layoutRect.width=e),Me(t)&&(this._layoutRect.height=t)}getSeriesKeys(){var e,t;return this._seriesField?(t=(e=this.getRawDataStatisticsByField(this._seriesField))===null||e===void 0?void 0:e.values)!==null&&t!==void 0?t:[]:this.name?[this.name]:this.userId?[`${this.userId}`]:[`${this.type}_${this.id}`]}getSeriesStyle(e){return t=>{var i,r;return(r=(i=this._seriesMark)===null||i===void 0?void 0:i.getAttribute(t,e))!==null&&r!==void 0?r:void 0}}_getSeriesInfo(e,t){const i=this.getDefaultShapeType();return t.map(r=>({key:r,originalKey:r,style:this.getSeriesStyle({[e]:r}),shapeType:i}))}getSeriesInfoInField(e){var t,i;return this._getSeriesInfo(e,(i=(t=this.getRawDataStatisticsByField(e))===null||t===void 0?void 0:t.values)!==null&&i!==void 0?i:[])}getSeriesInfoList(){var e;return this._getSeriesInfo((e=this._seriesField)!==null&&e!==void 0?e:Cu,this.getSeriesKeys())}_getDefaultColorScale(){var e,t;const i=this.getDefaultColorDomain(),r=this._getDataScheme();return(t=(e=new RM().domain(i)).range)===null||t===void 0?void 0:t.call(e,r)}_getDataScheme(){return HO(this.getColorScheme(),this.type)}getDefaultColorDomain(){var e,t;return this._seriesField?(t=(e=this.getViewDataStatistics())===null||e===void 0?void 0:e.latestData[this._seriesField])===null||t===void 0?void 0:t.values:[]}getColorAttribute(){var e,t;return{scale:(e=this._option.globalScale.getScale("color"))!==null&&e!==void 0?e:this._getDefaultColorScale(),field:(t=this._seriesField)!==null&&t!==void 0?t:Cu}}getDimensionField(){return[]}getMeasureField(){return[]}onMarkPositionUpdate(){this.onMarkTreePositionUpdate(this.getMarksWithoutRoot())}onMarkTreePositionUpdate(e){}_createMark(e,t={},i={}){var r,s,a,o,l;const{key:u,groupKey:c,skipBeforeLayouted:d,themeSpec:h={},markSpec:f,dataView:p,parent:g,isSeriesMark:m,noSeparateStyle:v=!1}=t,_=super._createMark(e,{key:u??this._getDataIdKey(),seriesId:this.id,attributeContext:this._markAttributeContext,componentType:t.componentType,noSeparateStyle:v,parent:g!==!1?g??this._rootMark:null});if(Y(_)){const y=this.getSpec()||{};this._marks.addMark(_,{name:e.name}),m&&(this._seriesMark=_),J(p)?_.setData(this._data):p!==!1&&_.setDataView(p),_.setSkipBeforeLayouted(d!==!1),J(c)||_.setGroupKey(c);const x=Object.assign(Object.assign({},i),{progressiveStep:y.progressiveStep,progressiveThreshold:y.progressiveThreshold,large:y.large,largeThreshold:y.largeThreshold,morph:(r=i.morph)!==null&&r!==void 0&&r,useSequentialAnimation:y.useSequentialAnimation,support3d:(s=i.support3d)!==null&&s!==void 0?s:y.support3d||!!y.zField,morphKey:((a=y.morph)===null||a===void 0?void 0:a.morphKey)||`${this.getSpecIndex()}_${this.getMarks().length}`,morphElementKey:(l=(o=y.morph)===null||o===void 0?void 0:o.morphElementKey)!==null&&l!==void 0?l:i.morphElementKey});_.setMarkConfig(x),this.initMarkStyleWithSpec(_,qt({},h,f||y[_.name]))}return _}_getDataIdKey(){var e;return(e=super._getDataIdKey())!==null&&e!==void 0?e:yc}_getSeriesDataKey(e){let t="";if(!e)return t;const i=this.getDimensionField();t=i.map(s=>e[s]).join("_");const r=this.getSeriesField();return r&&!i.includes(r)&&(t+=`_${e[r]}`),t}addViewDataFilter(e){var t,i;(i=(t=this._viewDataFilter)!==null&&t!==void 0?t:this.getViewData())===null||i===void 0||i.transform(e,!1)}reFilterViewData(){var e,t;(t=(e=this._viewDataFilter)!==null&&e!==void 0?e:this.getViewData())===null||t===void 0||t.reRunAllTransform()}reTransformViewData(){var e,t;(t=(e=this._data)===null||e===void 0?void 0:e.getDataView())===null||t===void 0||t.reRunAllTransform()}fillData(){var e;(e=this.getRawData())===null||e===void 0||e.reRunAllTransform()}compile(){this.compileData()}getDefaultShapeType(){return"circle"}getFieldAlias(e){var t;return e!==Pu&&e!==Hy&&e!==Ch&&e!==w0||(e=this.getStackValueField()),(t=c$(this.getRawData(),e))!==null&&t!==void 0?t:e}_getInvalidConnectType(){return this._invalidType==="zero"?"zero":this._invalidType==="link"?"connect":"none"}_getInvalidDefined(e){const t=this.getInvalidCheckFields();return!t.length||t.every(i=>LC(e[i]))}_getRelatedComponentSpecInfo(e){var t;const i=this.getSpecIndex(),r=(t=this._option.getSpecInfo().component[e])===null||t===void 0?void 0:t.filter(s=>s.seriesIndexes.includes(i));return r??[]}_forEachStackGroup(e,t){var i,r;(t=t??((i=this._viewStackData)===null||i===void 0?void 0:i.latestData))&&(!((r=t.values)===null||r===void 0)&&r.length?e(t):t.nodes&&Object.values(t.nodes).forEach(s=>{this._forEachStackGroup(e,s)}))}isDatumInViewData(e){if(!e)return!1;const t=this.getViewData().latestData;return!!t&&(!!t.includes(e)||t.some(i=>Object.keys(e).every(r=>e[r]===i[r])))}getSeriesFieldValue(e,t){var i;return e[(i=t??this.getSeriesField())!==null&&i!==void 0?i:Cu]}}A0.mark=oa,A0.transformerConstructor=bl;function bZt(n){return[Ye.rose,Ye.radar,Ye.circularProgress].includes(n)}function LIe(n,e,t){const i=n.getScale(0),r="isInverse"in n&&n.isInverse();Ei(i.type)?t.sort((s,a)=>(s[e]-a[e])*(r?-1:1)):t.sort((s,a)=>(i.index(s[e])-i.index(a[e]))*(r?-1:1))}function c_(n){return{dataIndex:e=>{var t,i;const r=n.direction==="horizontal"?n.fieldY[0]:n.fieldX[0],s=e==null?void 0:e[r],a=n.direction==="horizontal"?n.scaleY:n.scaleX;return((i=(t=a==null?void 0:a.domain)===null||t===void 0?void 0:t.call(a))!==null&&i!==void 0?i:[]).indexOf(s)||0},dataCount:()=>{var e,t,i;const r=n.direction==="horizontal"?n.scaleY:n.scaleX;return(i=((t=(e=r==null?void 0:r.domain)===null||e===void 0?void 0:e.call(r))!==null&&t!==void 0?t:[]).length)!==null&&i!==void 0?i:0}}}class Oh extends A0{constructor(){super(...arguments),this.coordinate="cartesian",this._bandPosition=.5,this._scaleConfig={bandPosition:this._bandPosition},this._direction="vertical",this._sortDataByAxis=!1,this._getPositionXEncoder=()=>{var e;return(e=this._positionXEncoder)===null||e===void 0?void 0:e.bind(this)},this._setPositionXEncoder=e=>{this._positionXEncoder=e.bind(this)},this._getPositionYEncoder=()=>{var e;return(e=this._positionYEncoder)===null||e===void 0?void 0:e.bind(this)},this._setPositionYEncoder=e=>{this._positionYEncoder=e.bind(this)}}_buildScaleConfig(){this._scaleConfig={bandPosition:this._bandPosition}}get fieldX(){return this._fieldX}setFieldX(e){this._fieldX=Ae(e)}get fieldY(){return this._fieldY}setFieldY(e){this._fieldY=Ae(e)}get fieldZ(){return this._fieldZ}setFieldZ(e){this._fieldZ=e&&Ae(e)}get fieldX2(){return this._fieldX2}setFieldX2(e){this._fieldX2=e}get fieldY2(){return this._fieldY2}setFieldY2(e){this._fieldY2=e}get direction(){return this._direction}get scaleX(){return this._scaleX}setScaleX(e){this._scaleX=e}get scaleY(){return this._scaleY}setScaleY(e){this._scaleY=e}get scaleZ(){return this._scaleZ}setScaleZ(e){this._scaleZ=e}getXAxisHelper(){return this._xAxisHelper}setXAxisHelper(e){this._xAxisHelper=e,this.onXAxisHelperUpdate()}getYAxisHelper(){return this._yAxisHelper}setYAxisHelper(e){this._yAxisHelper=e,this.onYAxisHelperUpdate()}getZAxisHelper(){return this._zAxisHelper}setZAxisHelper(e){this._zAxisHelper=e,this.onYAxisHelperUpdate()}get sortDataByAxis(){return this._sortDataByAxis}getStatisticFields(){const e=[];return[{axisHelper:this.getXAxisHelper(),fields:this._fieldX2?[...this._fieldX,this._fieldX2]:this._fieldX},{axisHelper:this.getYAxisHelper(),fields:this._fieldY2?[...this._fieldY,this._fieldY2]:this._fieldY},{axisHelper:this.getZAxisHelper(),fields:this._fieldZ}].forEach(t=>{t.axisHelper&&t.axisHelper.getScale&&t.fields&&t.fields.forEach(i=>{const r={key:i,operations:[]},s=t.axisHelper.getScale(0);Ei(s.type)?(r.operations=["max","min"],s.type==="log"&&(r.filter=a=>a>0)):r.operations=["values"],e.push(r)})}),this.getStack()&&e.push({key:this.getStackValueField(),operations:["allValid"]}),e}getGroupFields(){return this.direction==="vertical"?this._fieldX:this._fieldY}getStackGroupFields(){return this.getGroupFields()}getStackValue(){var e,t;const i=(e=this.direction==="horizontal"?this.getXAxisHelper():this.getYAxisHelper())===null||e===void 0?void 0:e.getAxisId();return(t=this._spec.stackValue)!==null&&t!==void 0?t:`${Xt}_series_${this.type}_${i}`}getStackValueField(){return this.direction==="horizontal"?Ae(this._spec.xField)[0]:Ae(this._spec.yField)[0]}setValueFieldToStack(){this.direction==="horizontal"?(this.setFieldX(Pu),this.setFieldX2(Ch)):(this.setFieldY(Pu),this.setFieldY2(Ch))}setValueFieldToPercent(){this.direction==="horizontal"?(this.setFieldX(Hy),this.setFieldX2(w0)):(this.setFieldY(Hy),this.setFieldY2(w0))}setValueFieldToStackOffsetSilhouette(){this.direction==="horizontal"?(this.setFieldX(D7),this.setFieldX2(R7)):(this.setFieldY(D7),this.setFieldY2(R7))}onXAxisHelperUpdate(){this.onMarkPositionUpdate()}onYAxisHelperUpdate(){this.onMarkPositionUpdate()}onZAxisHelperUpdate(){this.onMarkPositionUpdate()}setAttrFromSpec(){var e,t;super.setAttrFromSpec(),this.setFieldX(this._spec.xField),this.setFieldY(this._spec.yField),this.setFieldZ(this._spec.zField),this._specXField=Ae(this._spec.xField),this._specYField=Ae(this._spec.yField),Y(this._spec.direction)&&(this._direction=this._spec.direction),this.setFieldX2((e=this._spec)===null||e===void 0?void 0:e.x2Field),this.setFieldY2((t=this._spec)===null||t===void 0?void 0:t.y2Field),this.getStack()&&this.setValueFieldToStack(),this.getPercent()&&this.setValueFieldToPercent(),this.getStackOffsetSilhouette()&&this.setValueFieldToStackOffsetSilhouette(),Y(this._spec.sortDataByAxis)&&(this._sortDataByAxis=this._spec.sortDataByAxis===!0)}dataToPosition(e,t){return e?t&&!this.isDatumInViewData(e)?null:{x:this.dataToPositionX(e),y:this.dataToPositionY(e)}:null}_buildMarkAttributeContext(){super._buildMarkAttributeContext(),this._markAttributeContext.valueToX=this.valueToPositionX.bind(this),this._markAttributeContext.valueToY=this.valueToPositionY.bind(this),this._markAttributeContext.xBandwidth=(e=0)=>{var t,i,r;return(r=(i=(t=this.getXAxisHelper()).getBandwidth)===null||i===void 0?void 0:i.call(t,e))!==null&&r!==void 0?r:0},this._markAttributeContext.yBandwidth=(e=0)=>{var t,i,r;return(r=(i=(t=this.getYAxisHelper()).getBandwidth)===null||i===void 0?void 0:i.call(t,e))!==null&&r!==void 0?r:0},this._markAttributeContext.valueToPosition=this.valueToPosition.bind(this)}valueToPosition(e,t){return{x:this.valueToPositionX(e),y:this.valueToPositionY(t)}}_axisPosition(e,t,i){return this._scaleConfig.datum=i,e.isContinuous?e.valueToPosition(t,this._scaleConfig):e.dataToPosition(Ae(t),this._scaleConfig)}valueToPositionX(e,t){return this._axisPosition(this._xAxisHelper,e,t)}valueToPositionY(e,t){return this._axisPosition(this._yAxisHelper,e,t)}_dataToPosition(e,t,i,r,s,a){const o=s();if(o)return o(e);if(!t)return a(u=>Number.NaN),Number.NaN;const l=(t.getFields?t.getFields():i).slice(0,r);return l&&l.length!==0?(t.isContinuous?a(u=>(this._scaleConfig.datum=u,t.valueToPosition(this.getDatumPositionValue(u,l[0]),this._scaleConfig))):a(u=>(this._scaleConfig.datum=u,t.dataToPosition(Ae(this.getDatumPositionValues(u,l)),this._scaleConfig))),s()(e)):(a(u=>null),null)}dataToPositionX(e){return this._dataToPosition(e,this._xAxisHelper,this.fieldX,void 0,this._getPositionXEncoder,this._setPositionXEncoder)}dataToPositionY(e){return this._dataToPosition(e,this._yAxisHelper,this.fieldY,void 0,this._getPositionYEncoder,this._setPositionYEncoder)}dataToPositionZ(e){if(!this._zAxisHelper)return Number.NaN;const{dataToPosition:t}=this._zAxisHelper;return t(this.getDatumPositionValues(e,this._fieldZ),{bandPosition:this._bandPosition})}dataToPositionX1(e){return this._xAxisHelper?this._fieldX2&&this._fieldX2 in e?this.valueToPositionX(this.getDatumPositionValues(e,this._fieldX2)):this.valueToPositionX(0):Number.NaN}dataToPositionY1(e){return this._yAxisHelper?this._fieldY2&&this._fieldY2 in e?this.valueToPositionY(this.getDatumPositionValues(e,this._fieldY2)):this.valueToPositionY(0):Number.NaN}positionToData(e){return e?{x:this.positionToDataX(e.x),y:this.positionToDataY(e.y)}:null}positionToDataX(e){return this._scaleX?this._scaleX.invert(e):null}positionToDataY(e){return this._scaleY?this._scaleY.invert(e):null}getRegionRectLeft(){if(!this._xAxisHelper)return Number.NaN;const{getScale:e}=this._xAxisHelper;return e(0).range()[0]}getRegionRectRight(){if(!this._xAxisHelper)return Number.NaN;const{getScale:e}=this._xAxisHelper;return e(0).range()[1]}afterInitMark(){super.afterInitMark(),this.setFieldX(this._fieldX),this.setFieldY(this._fieldY),this._buildScaleConfig()}getDimensionField(){return this._direction==="horizontal"?this._specYField:this._specXField}getDimensionContinuousField(){return this._direction==="horizontal"?[this.fieldY[0],this.fieldY2]:[this.fieldX[0],this.fieldX2]}getMeasureField(){return this._direction==="horizontal"?this._specXField:this._specYField}initEvent(){super.initEvent(),this.sortDataByAxis&&this.event.on(Et.scaleDomainUpdate,{filter:e=>{var t;return e.model.id===((t=this._direction==="horizontal"?this._yAxisHelper:this._xAxisHelper)===null||t===void 0?void 0:t.getAxisId())}},()=>{this._sortDataInAxisDomain()})}_sortDataInAxisDomain(){var e,t,i;!((t=(e=this.getViewData())===null||e===void 0?void 0:e.latestData)===null||t===void 0)&&t.length&&(LIe(this._direction==="horizontal"?this._yAxisHelper:this._xAxisHelper,this._direction==="horizontal"?this._fieldY[0]:this._fieldX[0],this.getViewData().latestData),(i=this._data)===null||i===void 0||i.updateData(!0))}getInvalidCheckFields(){const e=[];return this._xAxisHelper&&this._xAxisHelper.isContinuous&&this._xAxisHelper.getAxisType()!==He.geoCoordinate&&(this._xAxisHelper.getFields?this._xAxisHelper.getFields():this._specXField).forEach(t=>{e.push(t)}),this._yAxisHelper&&this._yAxisHelper.isContinuous&&this._yAxisHelper.getAxisType()!==He.geoCoordinate&&(this._yAxisHelper.getFields?this._yAxisHelper.getFields():this._specYField).forEach(t=>{e.push(t)}),e}reInit(e){this._positionXEncoder&&(this._positionXEncoder=null),this._positionYEncoder&&(this._positionYEncoder=null),super.reInit(e)}}function Kr(n){return n==="bottom"||n==="top"}function sm(n){return n==="left"||n==="right"}function Nv(n){return n==="z"}function SZt(n,e){return e?Kr(n)?"linear":"band":Kr(n)?"band":"linear"}function Jv(n,e){return iQ(n.orient)||e&&e.includes(n.orient)?n.orient:"left"}function MA(n){return n==="top"||n==="bottom"?"horizontal":"vertical"}function xZt(n,e){let t=n.inverse;return e&&!Kr(n.orient)&&(t=!Y(n.inverse)||!n.inverse),t}function Dge(n,e){var t;const i=(t=n.type)!==null&&t!==void 0?t:SZt(n.orient,e);return{axisType:i,componentName:`${He.cartesianAxis}-${i}`}}const gE=(n,e,t)=>{var i;const r=(i=e==="band"?sc("axisBand",t):["linear","log","symlog"].includes(e)?sc("axisLinear",t):{})!==null&&i!==void 0?i:{},s=Kr(n)?sc("axisX",t):sm(n)?sc("axisY",t):sc("axisZ",t);return qt({},sc("axis",t),r,s)};class FIe{constructor(e,t){this._eventDispatcher=e,this._mode=t}get chart(){var e,t;return this._chart||(this._chart=(t=(e=this._eventDispatcher.globalInstance).getChart)===null||t===void 0?void 0:t.call(e)),this._chart}register(e,t){var i,r;((r=(i=this.chart)===null||i===void 0?void 0:i.getOption().onError)!==null&&r!==void 0?r:LO)("Method not implemented.")}unregister(){var e,t;((t=(e=this.chart)===null||e===void 0?void 0:e.getOption().onError)!==null&&t!==void 0?t:LO)("Method not implemented.")}getTargetDimensionInfo(e,t){var i,r,s;const a=(s=(r=(i=this.chart.getModelOption()).getDimensionInfo)===null||r===void 0?void 0:r.call(i,this.chart,{x:e,y:t}))!==null&&s!==void 0?s:[];return a.length===0?null:a}dispatch(e,t){var i,r;const s=(i=this.chart)===null||i===void 0?void 0:i.getAllComponents().filter(c=>c.specKey==="axes"&&(!(t!=null&&t.filter)||t.filter(c))),a=s.filter(c=>{const d=c.getScale();return ml(d.type)}),o=a.length?a:s.filter(c=>{const d=c.getOrient();return Kr(d)||d==="angle"}),l=[],u=(r=this.chart)===null||r===void 0?void 0:r.getModelOption().getDimensionInfoByValue;return u&&o.forEach(c=>{const d=u(c,e);d&&l.push(d)}),this._callback.call(null,{action:"enter",dimensionInfo:l}),l}}class wZt extends FIe{constructor(){super(...arguments),this.onClick=e=>{if(!e)return;const t=e.event.viewX,i=e.event.viewY,r=this.getTargetDimensionInfo(t,i);r&&this._callback.call(null,Object.assign(Object.assign({},e),{action:"click",dimensionInfo:r.slice()}))}}register(e,t){this._callback=t.callback,this._eventDispatcher.register("pointertap",{query:Object.assign(Object.assign({},t.query),{source:vi.chart}),callback:this.onClick})}unregister(){this._eventDispatcher.unregister("pointertap",{query:null,callback:this.onClick})}}const CZt=(n,e,t)=>n.x>=e.x&&n.x<=t.x&&n.y>=e.y&&n.y<=t.y,TZt=(n,e,t)=>{const i=n.getRegionsInIds(Ae(e.layout.layoutBindRegionID));return i==null?void 0:i.some(r=>{const s=r.getLayoutRect(),a=r.getLayoutStartPoint();return CZt(t,{x:a.x,y:a.y},{x:s.width+a.x,y:s.height+a.y})})},BIe=(n,e)=>{var t,i;return n===e||!J(n)&&!J(e)&&n.value===e.value&&((t=n.axis)===null||t===void 0?void 0:t.id)===((i=e.axis)===null||i===void 0?void 0:i.id)},EZt=(n,e)=>{const t=n.tooltipFilterRange,i=typeof t=="function"?t({scale:e}):t;return Me(i)?[-i,i]:i},z7=(n,e,t,i)=>{var r;const s=e.getScale(),a=ml(s.type),o=[],l=e.getOption().getChart().getSeriesInIndex(e.getSpecInfo().seriesIndexes);for(const u of l)if(u.coordinate===t){const c=Ae(i(u)),d=(r=u.getViewData())===null||r===void 0?void 0:r.latestData;if(c&&d)if(a){const h=[],f=[];d.forEach((p,g)=>{var m;((m=p[c[0]])===null||m===void 0?void 0:m.toString())===(n==null?void 0:n.toString())&&(h.push(p),f.push(g))}),o.push({series:u,datum:h,key:fW(u,f)})}else if(Y(c[1])){const h=[],f=[];d.forEach((p,g)=>{var m;(((m=p[c[0]])===null||m===void 0?void 0:m.toString())===(n==null?void 0:n.toString())||Y(p[c[0]])&&Y(p[c[1]])&&n>=p[c[0]]&&n<p[c[1]])&&(h.push(p),f.push(g))}),o.push({series:u,datum:h,key:fW(u,f)})}else{const h=e.getSpec(),f=EZt(h,s);let p=[],g=[];if(f)d.forEach((m,v)=>{if(Y(m[c[0]])){const _=m[c[0]]-n;_>=f[0]&&_<=f[1]&&(p.push(m),g.push(v))}});else{let m=1/0,v=0;d.forEach((_,y)=>{if(Y(_[c[0]])){const x=Math.abs(_[c[0]]-n),w=Math.sign(_[c[0]]-n);x<m?(m=x,p=[_],g=[y],v=w):x===m&&w===v&&(p.push(_),g.push(y))}})}o.push({series:u,datum:p,key:fW(u,g)})}}return o},fW=(n,e)=>`${n.id}_${e.join("_")}`,g$=(n,e,t)=>{const i=n.getAllComponents().filter(r=>r.specKey==="axes"&&e(r)&&TZt(n,r,t));return i.length?i:null};class AZt extends FIe{constructor(){super(...arguments),this._cacheDimensionInfo=null,this.onMouseMove=e=>{if(!e)return;const t=e.event.viewX,i=e.event.viewY,r=this.getTargetDimensionInfo(t,i);r===null&&this._cacheDimensionInfo!==null?(this._callback.call(null,Object.assign(Object.assign({},e),{action:"leave",dimensionInfo:this._cacheDimensionInfo.slice()})),this._cacheDimensionInfo=r):r===null||this._cacheDimensionInfo!==null&&r.length===this._cacheDimensionInfo.length&&!r.some((s,a)=>!BIe(s,this._cacheDimensionInfo[a]))?r!==null&&this._callback.call(null,Object.assign(Object.assign({},e),{action:"move",dimensionInfo:r.slice()})):(this._callback.call(null,Object.assign(Object.assign({},e),{action:"enter",dimensionInfo:r.slice()})),this._cacheDimensionInfo=r)},this.onMouseOut=e=>{e&&(this._callback.call(null,Object.assign(Object.assign({},e),{action:"leave",dimensionInfo:this._cacheDimensionInfo?this._cacheDimensionInfo.slice():[]})),this._cacheDimensionInfo=null)}}register(e,t){this._callback=t.callback,this._eventDispatcher.register("pointermove",{query:Object.assign(Object.assign({},t.query),{source:vi.chart}),callback:this.onMouseMove}),this._eventDispatcher.register("pointerout",{query:Object.assign(Object.assign({},t.query),{source:vi.canvas}),callback:this.onMouseOut}),Ny(this._mode)&&this._eventDispatcher.register("pointerdown",{query:Object.assign(Object.assign({},t.query),{source:vi.chart}),callback:this.onMouseMove})}unregister(){this._eventDispatcher.unregister("pointermove",{query:null,callback:this.onMouseMove}),Ny(this._mode)&&this._eventDispatcher.unregister("pointerdown",{query:null,callback:this.onMouseMove})}}var Hm;(function(n){n.dimensionHover="dimensionHover",n.dimensionClick="dimensionClick"})(Hm||(Hm={}));const ey={point:{name:"point",type:"symbol"},line:{name:"line",type:"line"}};class mQ{addSamplingCompile(){if(this._spec.sampling){const{width:e,height:t}=this._region.getLayoutRect(),i=this._fieldY,r=this._fieldX;this._data&&this._data.setTransform([{type:"dataSampling",size:this._direction==="horizontal"?t:e,factor:this._spec.samplingFactor,yfield:this._direction==="horizontal"?r[0]:i[0],groupBy:this._seriesField,mode:this._spec.sampling}])}}addOverlapCompile(){var e;if(this._spec.markOverlap){const t=[];t.push({type:"symbolOverlap",direction:this._direction==="horizontal"&&this.coordinate==="cartesian"?2:1,delta:this._spec.pointDis,deltaMul:this._spec.pointDisMul,groupBy:this._seriesField}),(e=this._symbolMark)===null||e===void 0||e.setTransform(t)}}reCompileSampling(){this._spec.sampling&&this.compile()}initLineMark(e){return this._lineMark=this._createMark(ey.line,{groupKey:this._seriesField,isSeriesMark:e==null||e},{morphElementKey:this.getDimensionField()[0]}),this._lineMark}initLineMarkStyle(e,t){var i,r;const s=this._lineMark;if(s){if(this.setMarkStyle(s,{stroke:this.getColorAttribute()},"normal",Qe.Series),this._invalidType!=="zero"&&this.setMarkStyle(s,{defined:this._getInvalidDefined.bind(this),connectedType:this._getInvalidConnectType()},"normal",Qe.Series),this.event.on(Et.viewDataStatisticsUpdate,{filter:a=>a.model===this},()=>{this.encodeDefined(s,"defined")}),this.coordinate==="polar")this.setMarkStyle(s,{lineJoin:sZt,curveType:RIe,closePath:!0},"normal",Qe.Series);else{const a=t??((r=(i=this.getSpec().line)===null||i===void 0?void 0:i.style)===null||r===void 0?void 0:r.curveType),o=a===IIe?e==="horizontal"?"monotoneY":"monotoneX":a;this.setMarkStyle(s,{curveType:o},"normal",Qe.Built_In)}this.setMarkStyle(s,{x:this.dataToPositionX.bind(this),y:this.dataToPositionY.bind(this),z:this._fieldZ?this.dataToPositionZ.bind(this):null},"normal",Qe.Series)}return s}_getEventElement(e,t=!1){let i=[];return e.dimensionInfo.some(r=>(r.data.some(s=>s.series===this&&(i=s.datum,!0)),!i.length)),i}_dimensionTrigger(e){const t=this._getEventElement(e);switch(e.action){case"enter":this._symbolActiveMark.getDataView().parse(t),this._symbolActiveMark.getData().updateData(!1);break;case"leave":this._symbolActiveMark.getDataView().parse([]),this._symbolActiveMark.getData().updateData(!1)}}initSymbolMark(e){if((this._spec.point||{}).visible!==!1&&(this._symbolMark=this._createMark(ey.point,{groupKey:this._seriesField,isSeriesMark:!!e},{morph:bg(this._spec,ey.point.name),morphElementKey:this.getDimensionField()[0]})),this._spec.activePoint===!0){const t=new Pi(this._option.dataSet,{name:`${Xt}_series_${this.id}_active_point`});t.parse([]),this._symbolActiveMark=this._createMark({name:`active_point_${this.id}`,type:"symbol"},{groupKey:this._seriesField,isSeriesMark:!1,dataView:t,parent:this._region.getInteractionMark()},{morph:!1}),this._symbolActiveMark.setVisible(!1)}return this._symbolMark}initSymbolMarkStyle(){const e=this._symbolMark;if(!e)return this._initSymbolActiveMarkAlone(),e;if(this._initSymbolMark(e),this._symbolActiveMark&&this._symbolMark.stateStyle.dimension_hover){this._symbolActiveMark.setVisible(!0),this.event.on(Hm.dimensionHover,this._dimensionTrigger.bind(this));for(const t in this._symbolMark.stateStyle){this._symbolActiveMark.stateStyle[t]={};for(const i in this._symbolMark.stateStyle[t])i!=="visible"&&(this._symbolActiveMark.stateStyle[t][i]={style:null,level:Qe.Series,referer:e})}this._symbolActiveMark.state.changeStateInfo({stateValue:pt.STATE_DIMENSION_HOVER,filter:()=>!0})}return e}_initSymbolMark(e){e&&(this.setMarkStyle(e,{fill:this.getColorAttribute()},"normal",Qe.Series),this.setMarkStyle(e,{x:t=>this._invalidType==="zero"||this._getInvalidDefined(t)?this.dataToPositionX(t):Number.NaN,y:t=>this._invalidType==="zero"||this._getInvalidDefined(t)?this.dataToPositionY(t):Number.NaN,z:this._fieldZ?this.dataToPositionZ.bind(this):null},"normal",Qe.Series))}_initSymbolActiveMarkAlone(){var e,t;const i=this._symbolActiveMark;i&&(this._initSymbolMark(i),i&&(!((t=(e=this._spec[ey.point.name])===null||e===void 0?void 0:e.state)===null||t===void 0)&&t.dimension_hover)&&(i.setVisible(!0),this.event.on(Hm.dimensionHover,this._dimensionTrigger.bind(this)),this.initMarkStyleWithSpec(i,qt({},this._spec[ey.point.name],{visible:!0})),this._symbolActiveMark.state.changeStateInfo({stateValue:pt.STATE_DIMENSION_HOVER,filter:()=>!0})))}initLabelMarkStyle(e){var t;e&&(((t=e.getTarget())===null||t===void 0?void 0:t.type)!=="symbol"&&e.setRule("line-data"),this.setMarkStyle(e,{fill:this.getColorAttribute(),text:i=>i[this.getStackValueField()],z:this._fieldZ?this.dataToPositionZ.bind(this):null}),this._invalidType!=="zero"&&this.setMarkStyle(e,{visible:this._getInvalidDefined.bind(this)},"normal",Qe.Series),this.event.on(Et.viewDataStatisticsUpdate,{filter:i=>i.model===this},()=>{this.encodeDefined(e,"visible")}))}initLineLabelMarkStyle(e){e&&this.setMarkStyle(e,{fill:this.getColorAttribute(),text:t=>{var i;return(i=t[this.getSeriesField()])!==null&&i!==void 0?i:this.getSeriesKeys()[0]},z:this._fieldZ?this.dataToPositionZ.bind(this):null})}encodeDefined(e,t){var i,r,s,a;if(!e)return;const o=this._isFieldAllValid();if(this._invalidType==="zero"||o){if(((r=(i=e.stateStyle.normal)===null||i===void 0?void 0:i[t])===null||r===void 0?void 0:r.style)===!0)return;this.setMarkStyle(e,{[t]:!0},"normal",Qe.Series)}else{if(((a=(s=e.stateStyle.normal)===null||s===void 0?void 0:s[t])===null||a===void 0?void 0:a.style)!==!0)return;this.setMarkStyle(e,{[t]:this._getInvalidDefined.bind(this)},"normal",Qe.Series)}e.compileEncode()}_isFieldAllValid(){const e=this.getViewDataStatistics(),t=this.getStackValueField();return!!(e&&e.latestData&&t)&&e.latestData[t]&&e.latestData[t].allValid}}const kZt=Object.assign(Object.assign({},oa),ey),OZt=(n,e)=>{var t,i;if(n===e)return!0;const r=(t=n&&n.length)!==null&&t!==void 0?t:0;return r===((i=e&&e.length)!==null&&i!==void 0?i:0)&&r!==0&&n.every((s,a)=>!s&&!e[a]||s&&e[a]&&s.color===e[a].color&&s.offset===e[a].offset)},$Ie=(n,e)=>{if(n===e)return!0;if(typeof n!=typeof e||Jt(n))return!1;if(Oe(n))return n.length===e.length&&n.every((r,s)=>$Ie(r,e[s]));if(n.gradient!==e.gradient)return!1;const t=Object.keys(n),i=Object.keys(e);return t.length===i.length&&t.every(r=>r==="stops"?OZt(n[r],e[r]):n[r]===e[r])},PZt=(n,e)=>n.length===e.length&&n.join("-")===e.join("-"),MZt=(n,e,t)=>!(!J(n)||!J(e))||!J(n)&&!J(e)&&(t==="lineDash"?PZt(n,e):t==="stroke"||t==="fill"?$Ie(n,e):n===e),NIe=["stroke","strokeOpacity","lineDash","lineDashOffset","lineCap","lineJoin","lineWidth","miterLimit"];class jIe extends Mu{constructor(){super(...arguments),this._segmentStyleKeys=[],this._isValidPointChannel=e=>["x","y","defined"].includes(e)}_getSegmentAttributes(){return NIe}initStyleWithSpec(e){this._segmentStyleKeys=[],super.initStyleWithSpec(e)}setStyle(e,t="normal",i=0){if(J(e))return;this.stateStyle[t]===void 0&&(this.stateStyle[t]={});const r=this._getIgnoreAttributes(),s=this._getSegmentAttributes(),a=this.isUserLevel(i);Object.keys(e).forEach(o=>{const l=e[o];if(J(l)||r.includes(o))return;a&&s.includes(o)&&(g7(l==null?void 0:l.type)||l!=null&&l.scale||Re(l))&&(this._segmentStyleKeys.includes(o)||this._segmentStyleKeys.push(o));const u=this._filterAttribute(o,l,t,i,a);this.setAttribute(o,u,t,i)})}_getLineSegments(e,t){if(!this._segmentStyleKeys||!this._segmentStyleKeys.length)return null;const i=[];let r=null;return e.forEach((s,a)=>{r&&this._segmentStyleKeys.every(o=>MZt(r[o],s[o],o))||(i.length&&(i[i.length-1].endIndex=a),r=s,i.push({attrs:r,startIndex:a}))}),i.length>=2?i.map(s=>Object.assign(Object.assign({},s.attrs),{points:t.slice(s.startIndex,J(s.endIndex)?t.length:s.endIndex)})):null}_getPrevPoints(e){const{points:t,segments:i}=e.attribute;return t??(i?i.reduce((r,s)=>(s.points&&s.points.forEach(a=>{r.push(a)}),r),[]):null)}_runPointsEncoder(e,t,i={}){var r,s,a;const o=t.context.data,l=[],u=[],c={},d=(r=this.renderContext)===null||r===void 0?void 0:r.progressive,h=d&&d.currentIndex===0;if(o.forEach((f,p)=>{var g;u[p]={},l[p]={},Object.keys(e).forEach(m=>{this._isValidPointChannel(m)?u[p][m]=e[m](f):this._segmentStyleKeys.includes(m)&&!d?l[p][m]=e[m](f):p!==0||d&&!h||(c[m]=e[m](f))}),u[p].context=(g=this._keyGetter(f))!==null&&g!==void 0?g:p}),d){const f=(a=(s=t.attribute)===null||s===void 0?void 0:s.segments)!==null&&a!==void 0?a:[];return f.push({points:u}),h?Object.assign(Object.assign({},c),{segments:f}):{segments:f}}if(this._segmentStyleKeys&&this._segmentStyleKeys.length){const f=this._getLineSegments(l,u);if(f)return Object.assign(Object.assign(Object.assign({},c),l[0]),{segments:f,points:null})}return Object.assign(Object.assign(Object.assign({},c),l[0]),{points:u,segments:null})}_runEncoderOfGraphic(e,t,i={}){const r=t.context.data;return e&&Object.keys(e).some(this._isValidPointChannel)&&r&&r.length?this._runPointsEncoder(e,t,i):super._runEncoderOfGraphic(e,t,i)}_getDataByKey(e){return this._dataByGroup}_runProgressiveJoin(){const e=this.renderContext.progressive.currentIndex,t=[];this._dataByGroup.keys.forEach((r,s)=>{const a=this.renderContext.progressive.groupedData.get(r),o=this.renderContext.progressive.step,l=a.slice(e*o,(e+1)*o);if(e===0){const u={context:Object.assign(Object.assign({},this._getCommonContext()),{diffState:Qa.enter,data:l,uniqueKey:r,key:r,groupKey:r})};t.push(u)}else this._graphics[s].context.data=l});const i=e===0?t:this._graphics;return{graphicsByGroup:{[yc]:i},graphics:i,needUpdate:!1}}_setCommonAttributesToTheme(e){}_addProgressiveGraphic(e,t){t.incremental=1,e.appendChild(t)}}class GO extends jIe{constructor(){super(...arguments),this.type=GO.type}_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{lineWidth:1})}_getIgnoreAttributes(){var e,t;return((e=this.model)===null||e===void 0?void 0:e.type)===Ye.radar&&((t=this.model)===null||t===void 0?void 0:t.coordinate)==="polar"?[]:["fill","fillOpacity"]}}GO.type="line";const Yz=()=>{ne.registerMark(GO.type,GO),pd(),vg(),AMe(),Pz(),kIe(),ne.registerGraphicComponent("line",wM)};class YO extends Mu{constructor(){super(...arguments),this.type=YO.type}_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{size:1,symbolType:"circle",fill:void 0,lineWidth:0})}_transformGraphicAttributes(e,t,i){var r,s,a;const o=super._transformGraphicAttributes(e,t,i),l=(s=(r=o.shape)!==null&&r!==void 0?r:o.symbolType)!==null&&s!==void 0?s:(a=e.attribute)===null||a===void 0?void 0:a.symbolType;return J(l)?o.symbolType="circle":o.symbolType=l,o}}YO.type="symbol";const Qm=()=>{ne.registerMark(YO.type,YO),pd(),gd(),Pz(),ne.registerGraphicComponent("symbol",H1)};class FM extends bl{_transformLabelSpec(e){var t,i,r;((t=e.point)===null||t===void 0?void 0:t.visible)!==!1&&((r=(i=e.point)===null||i===void 0?void 0:i.style)===null||r===void 0?void 0:r.visible)!==!1?this._addMarkLabelSpec(e,"point"):this._addMarkLabelSpec(e,"line"),this._addMarkLabelSpec(e,"line","lineLabel","initLineLabelMarkStyle",void 0,!0)}}function Lge(n){return n.length>=2&&Me(n[0])&&Me(Xn(n))&&Xn(n)>=n[0]}function Fge(n,e){var t;const i=Xn(e)-e[0],r=Xn(e)*e[0]<0;let s=e[0]<=0?0-e[0]:0,a=Xn(e)>0?Xn(e)-0:0;i===0?e[0]<0?(s=1,a=0):e[0]>0&&(s=0,a=1):(s/=i,a/=i);const o=n.getDomainSpec(),l={total:i,negative:s,positive:a,includeZero:r,domain:e,extendable_min:!Me(o.min),extendable_max:!Me(o.max)};if(!((t=n._break)===null||t===void 0)&&t.scope){const u=e.findIndex(h=>h>=0);let c,d;u===0?(c=n._break.scope[u],d=[e[0],e[1]],l.positive=1,l.negative=0):Xn(e)<=0?(l.positive=0,l.negative=1,d=[e[e.length-2],e[e.length-1]]):(c=n._break.scope[u-1],d=[e[u-1],e[u]],l.negative=c[0]+(0-d[0])/(d[1]-d[0])*(c[1]-c[0]),l.positive=1-l.negative),l.break=!0,l.extendable_max=!1,l.extendable_min=!1,l.domain=d}return l}function Bge(n,e){const{positive:t,negative:i,extendable_min:r,extendable_max:s,domain:a}=n,{positive:o,negative:l,extendable_min:u,extendable_max:c,domain:d}=e;if(o>0){if(!u)return!1;let h=i/t;s&&(h=i/Math.max(t,o),a[1]=-a[0]/h),d[0]=-d[1]*h}else if(l>0){if(!c)return!1;let h=t/i;r&&(h=t/Math.max(i,i),a[0]=-a[1]/h),d[1]=-d[0]*h}return!0}function $ge(n,e){const{extendable_min:t,extendable_max:i,domain:r}=n,{positive:s,negative:a,domain:o}=e;return(s!==0||a!==0)&&!(s>0&&!i)&&!(a>0&&!t)&&(r[0]=o[0],r[1]=o[1],!0)}function Nge(n,e){const{positive:t,negative:i,extendable_max:r,domain:s}=n,{positive:a,negative:o,extendable_min:l,domain:u}=e;if(r&&l){const c=Math.max(i,o)/Math.max(t,a);s[1]=-s[0]/c,u[0]=-u[1]*c}else if(l){const c=i/t;u[0]=-u[1]*c}else{if(!r)return!1;{const c=o/a;s[1]=-s[0]/c}}return!0}function jge(n,e){const{extendable_min:t,domain:i}=n,{extendable_max:r,domain:s}=e;return!(!t||!r)&&(i[0]=-i[1],s[1]=-s[0],!0)}const IZt=(n,e)=>{var t,i,r,s,a,o;const l=n.getScale(),u=e.getScale();if(!l||!u)return;const c=(r=(i=(t=n).getDomainAfterSpec)===null||i===void 0?void 0:i.call(t))!==null&&r!==void 0?r:[0,1],d=(o=(a=(s=e).getDomainAfterSpec)===null||a===void 0?void 0:a.call(s))!==null&&o!==void 0?o:[0,1];if(!(c&&d&&Lge(c)&&Lge(d)))return;const h=Fge(n,c),f=Fge(e,d);if(h.break===!0&&f.break===!0)return;const{positive:p,negative:g,extendable_min:m,extendable_max:v,includeZero:_}=h,{positive:y,negative:x,extendable_min:w,extendable_max:T,includeZero:E}=f;if(p===0&&g===0){if(!$ge(h,f))return}else if(y===0&&x===0){if(!$ge(f,h))return}else if(_||E)if(_&&!E){if(!Bge(h,f))return}else if(E&&!_){if(!Bge(f,h))return}else{if(g===x)return;if(g>x){if(!Nge(h,f))return}else if(!Nge(f,h))return}else{if(g===0&&y===0){if(!jge(h,f))return}else if(x===0&&p===0&&!jge(f,h))return;if(g===0&&x===0)if(c[0]===0&&d[0]>0){if(!w)return;d[0]=0}else{if(!(d[0]===0&&c[0]>0)||!m)return;c[0]=0}if(p===0&&y===0)if(c[1]===0&&d[1]>0){if(!T)return;d[1]=0}else{if(!(d[1]===0&&c[1]>0)||!v)return;c[1]=0}}l.domain(c),u.domain(d)};function RZt(n,e,t,i,r){const s=hO(n,e),a=Math.max(OC(t),OC(s));return r*(Math.round(s*10**a)/Math.round(t*10**a))+i}const DZt=(n,e)=>{var t,i,r,s,a;if(!n)return n;const o=(t=e==null?void 0:e.targetAxis)===null||t===void 0?void 0:t.call(e);if(!o)return n;const l=(i=e==null?void 0:e.currentAxis)===null||i===void 0?void 0:i.call(e);if(!l)return n;const u=(r=l.getTickData())===null||r===void 0?void 0:r.getDataView();if(!u||!u.transformsArr.find(_=>_.type.includes("ticks")))return n;const c=l.getScale();if(!c)return n;const d=(a=(s=o.getTickData())===null||s===void 0?void 0:s.getDataView())===null||a===void 0?void 0:a.latestData;if(!(d!=null&&d.length))return n;const h=o.getScale();if(!h)return n;const f=h.domain(),p=Xn(f)-f[0];if(p===0)return n;const g=c.domain(),m=Xn(g)-g[0];if(p===0)return n;const v=d.map(_=>RZt(_.value,f[0],p,g[0],m));return Em(v)};class vQ{constructor(e){this.id=W1(),this.name=`${e}_${this.id}`}onAdd(e){this.service=e}release(){this.service=null}}class KO extends vQ{constructor(){super(KO.type),this.type="AxisSyncPlugin"}_checkEnableSync(e){if(!Ei(e.getScale().type))return!1;const t=e.getSpec().sync;return!!(t!=null&&t.axisId)&&t}_getTargetAxis(e,t){const i=e.getOption().getChart().getComponentByUserId(t.axisId);return i!=null&&i.type.startsWith("cartesianAxis")?i:null}onInit(e,t){const i=this._checkEnableSync(t);if(!i||!i.zeroAlign)return;const r=this._getTargetAxis(t,i);r&&t.event.on(Et.scaleDomainUpdate,{filter:({model:s})=>s.id===t.id||s.id===r.id},()=>{IZt(r,t)})}onDidCompile(e,t){var i;const r=this._checkEnableSync(t);if(!r)return;const s=this._getTargetAxis(t,r);if(s&&r.tickAlign){rn(t.getOption().dataSet,"tickAlign",DZt);const a={targetAxis:()=>s,currentAxis:()=>t},o=(i=s.getTickData())===null||i===void 0?void 0:i.getDataView();o&&o.target.addListener("change",()=>{var l,u;(u=(l=t.getTickData())===null||l===void 0?void 0:l.getDataView())===null||u===void 0||u.reRunAllTransform({skipEqual:!0})}),t.addTransformToTickData({type:"tickAlign",options:a,level:Number.MAX_SAFE_INTEGER},!1)}}}KO.pluginType="component",KO.type="AxisSyncPlugin";const LZt={left:{textAlign:"center",textBaseline:"bottom"},right:{textAlign:"center",textBaseline:"bottom"},radius:{},angle:{}};function FZt(n){return(n=hf(n)).startSymbol=hf(n.startSymbol),n.endSymbol=hf(n.endSymbol),n}function yQ(n){let e=0;return Hn(n,"tick.visible")&&(e+=Hn(n,"tick.tickSize")),Hn(n,"label.visible")&&(e+=Hn(n,"label.space")),e}function XO(n,e){var t,i,r,s,a,o;return{min:(r=(t=n.min)!==null&&t!==void 0?t:(i=n.range)===null||i===void 0?void 0:i.min)!==null&&r!==void 0?r:e==null?void 0:e.min,max:(o=(s=n.max)!==null&&s!==void 0?s:(a=n.range)===null||a===void 0?void 0:a.max)!==null&&o!==void 0?o:e==null?void 0:e.max}}function zge(n){const e=n==null?void 0:n.orient;return e==="top"||e==="bottom"||e==="left"||e==="right"||e==="z"}function BZt(n){const e=n==null?void 0:n.orient;return e==="angle"||e==="radius"}const zIe=n=>n==="band"||n==="ordinal"||n==="point";function GC(n,e){return{id:n,label:n,value:e,rawValue:n}}function qd(n,e,t){return t||!n||n.getAxisId()===e.getAxisId()}class $Zt extends dQ{constructor(e){super(),this.component=e}releaseAll(){super.releaseAll(),this.component=null}}const pW=`${Xt}_ARC_TRANSFORM_VALUE`,NZt=`${Xt}_ARC_RATIO`,Hge=`${Xt}_ARC_START_ANGLE`,Vge=`${Xt}_ARC_END_ANGLE`,jZt=`${Xt}_ARC_K`,gy=`${Xt}_ARC_MIDDLE_ANGLE`,zZt=`${Xt}_ARC_QUADRANT`,HZt=`${Xt}_ARC_RADIAN`,Kz=-Math.PI/2,_Q=3*Math.PI/2,bQ=-90,HIe=270,m$=.6,VZt=(n,e)=>{var t,i,r,s,a,o;const l=(t=n.type)!==null&&t!==void 0?t:n.orient==="angle"?"band":"linear",u=`${He.polarAxis}-${l}`,c=(i=n.startAngle)!==null&&i!==void 0?i:e.startAngle,d=(r=n.endAngle)!==null&&r!==void 0?r:e.endAngle;return{axisType:l,componentName:u,startAngle:c??bQ,endAngle:d??(Y(c)?c+360:HIe),center:Y(e.center)?e.center:Y(e==null?void 0:e.centerX)||Y(e==null?void 0:e.centerY)?{x:e==null?void 0:e.centerX,y:e==null?void 0:e.centerY}:void 0,outerRadius:(o=(a=(s=n.outerRadius)!==null&&s!==void 0?s:n.radius)!==null&&a!==void 0?a:e.outerRadius)!==null&&o!==void 0?o:e.radius,layoutRadius:e.layoutRadius}},VIe=(n,e,t,i)=>{const r=n();if(st(r))return r;if(Re(r))return r(e(),t());const s=e();if(r==="auto"&&s.width>0&&s.height>0){const{startAngle:a=0,endAngle:o=2*Math.PI}=i();return ijt(s,t(),a,o)}return Math.min(s.width/2,s.height/2)},gW=(n,e,t)=>{var i;const r=(i=e==="band"?sc("axisBand",t):e==="linear"?sc("axisLinear",t):{})!==null&&i!==void 0?i:{},s=sc(n==="angle"?"axisAngle":"axisRadius",t);return qt({},sc("axis",t),r,s)};function WZt(n,e){const{x1:t,y1:i,x2:r,y2:s}=e,{x1:a,y1:o,x2:l,y2:u}=n.AABBBounds,{dx:c=0,dy:d=0}=n.attribute;let h=0,f=0;a<t&&(h=t-a),o<i&&(f=i-o),l>r&&(h=r-l),u>s&&(f=s-u),h&&n.setAttribute("dx",h+c),f&&n.setAttribute("dy",f+d)}function UZt(n,e,t,i){for(let r=0,s=n.length;r<s;r++){const a=n[r];if(a){const o=a[t],l=a[i||t];if(o<=e&&l>=e)return a}}return null}const GZt=(n,e)=>{var t,i;const r=Ae((t=e.axes)!==null&&t!==void 0?t:[]),{bandField:s,linearField:a,xField:o,yField:l,trigger:u,triggerOff:c}=(i=sc(He.crosshair,n))!==null&&i!==void 0?i:{},d=r.find(g=>Kr(g.orient));let h;h=Y(d)?qt({},zIe(d.type)?s:a,o):o;const f=r.find(g=>sm(g.orient));let p;return p=Y(f)?qt({},ml(f.type)?s:a,l):l,{xField:h,yField:p,trigger:u,triggerOff:c}},YZt=(n,e)=>{var t,i;const r=Ae((t=e.axes)!==null&&t!==void 0?t:[]),{bandField:s,linearField:a,categoryField:o,valueField:l,trigger:u,triggerOff:c}=(i=sc(He.crosshair,n))!==null&&i!==void 0?i:{},d=r.find(g=>g.orient==="angle");let h;h=Y(d)?qt({},zIe(d.type)?s:a,o):o;const f=r.find(g=>g.orient==="radius");let p;return p=Y(f)?qt({},ml(f.type)?s:a,l):l,{categoryField:h,valueField:p,trigger:u,triggerOff:c}};function KZt(n,e,t,i){switch(n){case He.cartesianBandAxis:return gE(Jv(t,["z"]),"band",e);case He.cartesianLinearAxis:return gE(Jv(t,["z"]),"linear",e);case He.cartesianLogAxis:return gE(Jv(t,["z"]),"log",e);case He.cartesianSymlogAxis:return gE(Jv(t,["z"]),"symlog",e);case He.cartesianAxis:case He.cartesianTimeAxis:return gE(Jv(t),void 0,e);case He.polarBandAxis:return gW(t.orient,"band",e);case He.polarLinearAxis:return gW(t.orient,"linear",e);case He.polarAxis:return gW(t.orient,void 0,e);case He.cartesianCrosshair:return GZt(e,i);case He.polarCrosshair:return YZt(e,i);case He.colorLegend:case He.sizeLegend:case He.discreteLegend:case He.dataZoom:case He.scrollBar:return XZt(t,sc(n,e));default:return sc(n,e)}}const XZt=(n,e)=>{var t;const i=(t=n.orient)!==null&&t!==void 0?t:e.orient,r=e[MA(i)],s=qt({},e,r);return delete s.horizontal,delete s.vertical,s};class BM extends zz{getTheme(e,t){return KZt(this.type,this._option.getTheme,e,t)}_mergeThemeToSpec(e,t){const{spec:i,theme:r}=super._mergeThemeToSpec(e,t);return this._adjustPadding(i),{spec:i,theme:r}}_adjustPadding(e){const{padding:t,noOuterPadding:i=!0,orient:r}=e;i&&t&&r&&(e.padding=Object.assign(Object.assign({},HC(t)),{[r]:0}))}}var qZt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};class Sc extends vIe{constructor(){super(...arguments),this.name="component",this.modelType="component",this.transformerConstructor=BM,this._delegateEvent=(e,t,i,r=null,s=null)=>{var a,o;t instanceof nz||this.event.emit(i,{model:this,node:e,event:t,item:r,datum:s,source:vi.chart,chart:(o=(a=this._option)===null||a===void 0?void 0:a.globalInstance)===null||o===void 0?void 0:o.getChart()},"model")}}static createComponent(e,t){const{spec:i}=e,r=qZt(e,["spec"]);return new this(i,Object.assign(Object.assign({},t),r))}getRegions(){return this._regions}created(){super.created(),this.initLayout(),this.pluginService=new $Zt(this)}initLayout(){var e;super.initLayout(),this._regions=(e=this._regions)!==null&&e!==void 0?e:this._option.getRegionsInIndex(),this._layout&&(this._layout.layoutBindRegionID=this._regions.map(t=>t==null?void 0:t.id))}_getNeedClearVRenderComponents(){return[]}getVRenderComponents(){return this._getNeedClearVRenderComponents()}callPlugin(e){this.pluginService&&this.pluginService.getAll().forEach(t=>e(t))}getContainer(){var e;return this._container||(this._container=(e=this._option)===null||e===void 0?void 0:e.globalInstance.getStage().find(t=>t.name==="root",!0)),this._container}_compareSpec(e,t){const i=super._compareSpec(e,t);return i.reMake||(i.reMake=["seriesId","seriesIndex","regionId","regionIndex"].some(r=>!Oi(t==null?void 0:t[r],e[r]))),(t==null?void 0:t.visible)!==e.visible&&(i.reCompile=!0),i}release(){var e;super.release(),this.clear(),(e=this.pluginService)===null||e===void 0||e.releaseAll(),this.pluginService=null}clear(){var e;const t=this._getNeedClearVRenderComponents();t&&t.length&&t.forEach(i=>{var r;i&&((r=this.getContainer())===null||r===void 0||r.removeChild(i),i=null)}),this._container=null,(e=this.pluginService)===null||e===void 0||e.clearAll()}compile(){this.compileMarks(),this.reAppendComponents()}compileMarks(e){this.getMarks().forEach(t=>{t.compile({group:e,context:{model:this}})})}reAppendComponents(){const e=this._getNeedClearVRenderComponents();e&&e.length&&e.forEach(t=>{var i;t&&!t.stage&&((i=this.getContainer())===null||i===void 0||i.appendChild(t))})}getBoundsInRect(e,t){return{x1:0,x2:0,y1:0,y2:0}}getDatum(e){}}Sc.transformerConstructor=BM;var ad;(function(n){n.lineAxis="lineAxis",n.circleAxis="circleAxis"})(ad||(ad={}));var od;(function(n){n.lineAxisGrid="lineAxisGrid",n.circleAxisGrid="circleAxisGrid"})(od||(od={}));class H7 extends Mu{constructor(e,t){super(e,t),this.type="component",this._componentType=t.componentType,this._mode=t.mode}_getDefaultStyle(){return{}}getComponent(){return this._component}clearComponent(){this._component&&(this._component.parent&&this._component.parent.removeChild(this._component),this._component=null)}_getAttrsFromConfig(e={}){const t=super._getAttrsFromConfig(e);return J(this._markConfig.interactive)||(t.pickable=this._markConfig.interactive),e}setAttributeTransform(e){this._attributesTransform=e}renderInner(){var e;const t=(e=this._simpleStyle)!==null&&e!==void 0?e:this.getAttributesOfState({});let i=this._getAttrsFromConfig(t);this._attributesTransform&&(i=this._attributesTransform(i)),this._animationConfig&&(i=Object.assign(Object.assign({},i),{animation:!0,animationAppear:this._animationConfig.appear?Array.isArray(this._animationConfig.appear)?this._animationConfig.appear[0]:this._animationConfig.appear:void 0,animationEnter:this._animationConfig.enter?Array.isArray(this._animationConfig.enter)?this._animationConfig.enter[0]:this._animationConfig.enter:void 0,animationUpdate:this._animationConfig.update?Array.isArray(this._animationConfig.update)?this._animationConfig.update[0]:this._animationConfig.update:void 0,animationExit:this._animationConfig.exit?Array.isArray(this._animationConfig.exit)?this._animationConfig.exit[0]:this._animationConfig.exit:void 0})),this._component?this._component.setAttributes(i):(this._component=ne.createGraphicComponent(this._componentType,i,{mode:this._mode,skipDefault:this._markConfig.skipTheme}),this._component&&this._product.appendChild(this._component)),this._component&&(this._component.context=this._getCommonContext()),this._markConfig.support3d&&this._product&&this._product.setMode("3d"),this.model.event.emit(Rf.AFTER_ELEMENT_ENCODE,{mark:this,model:this.model}),this.needClear=!0}release(){super.release(),this.removeProduct()}}H7.type="component";const Xz=()=>{ne.registerMark(H7.type,H7)},ZZt=n=>n;var QZt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};class SQ extends Sc{getOrient(){return this._orient}getScale(){return this._scale}getScales(){return this._scales}getTickData(e=0){return this._tickData[e]}get visible(){return this._visible}getInverse(){return this._inverse}getCoordinateType(){return this._coordinateType}constructor(e,t){var i;super(e,t),this.specKey="axes",this._scales=[],this._tickData=[],this._visible=!0,this._tick=void 0,this._onTickDataChange=r=>{this._forceLayout(),r==null||r.updateData()},this._visible=(i=e.visible)===null||i===void 0||i,this._coordinateType="none"}getVRenderComponents(){var e,t;return[(e=this._axisMark)===null||e===void 0?void 0:e.getProduct(),(t=this._gridMark)===null||t===void 0?void 0:t.getProduct()].filter(Y)}created(){var e,t,i,r,s,a,o,l,u,c,d,h,f,p,g,m,v,_,y;if(super.created(),this.setSeriesAndRegionsFromSpec(),this.initEvent(),this.initScales(),this.updateSeriesScale(),this._shouldComputeTickData()&&this._initData(),this._visible){const x=this._createMark({type:"component",name:`axis-${this.getOrient()}`},{componentType:this.getOrient()==="angle"?ad.circleAxis:ad.lineAxis,mode:this._spec.mode},{skipTheme:!0});if(this._updateTickDataMarks(x),this._axisMark=x,x.setMarkConfig({zIndex:this.layoutZIndex}),Y(this._spec.id)&&x.setUserId(this._spec.id),x.setMarkConfig({interactive:(e=this._spec.interactive)!==null&&e!==void 0?e:this.getDefaultInteractive()}),this._marks.addMark(x),(t=this._spec.grid)===null||t===void 0?void 0:t.visible){const w=this._createMark({type:"component",name:`axis-${this.getOrient()}-grid`},{componentType:this.getOrient()==="angle"?od.circleAxisGrid:od.lineAxisGrid,mode:this._spec.mode},{skipTheme:!0});this._updateTickDataMarks(w),w.setMarkConfig({zIndex:(o=(s=(r=(i=this._spec.grid)===null||i===void 0?void 0:i.style)===null||r===void 0?void 0:r.zIndex)!==null&&s!==void 0?s:(a=this._spec.grid)===null||a===void 0?void 0:a.zIndex)!==null&&o!==void 0?o:ji.Axis_Grid,interactive:!1}),this._marks.addMark(w),this._gridMark=w}if(!((l=this._option.globalInstance)===null||l===void 0)&&l.isAnimationEnable()&&Hn(this._option.getChart().getSpec(),"animation")!==!1&&this._spec.animation===!0){const w=ei((u=ne.getAnimationInKey("axis"))===null||u===void 0?void 0:u(),{appear:(d=(c=this._spec.animationAppear)!==null&&c!==void 0?c:Hn(this._option.getChart().getSpec(),"animationAppear.axis"))!==null&&d!==void 0?d:Hn(this._option.getChart().getSpec(),"animationAppear"),disappear:(f=(h=this._spec.animationDisappear)!==null&&h!==void 0?h:Hn(this._option.getChart().getSpec(),"animationDisappear.axis"))!==null&&f!==void 0?f:Hn(this._option.getChart().getSpec(),"animationDisappear"),enter:(g=(p=this._spec.animationEnter)!==null&&p!==void 0?p:Hn(this._option.getChart().getSpec(),"animationEnter.axis"))!==null&&g!==void 0?g:Hn(this._option.getChart().getSpec(),"animationEnter"),exit:(v=(m=this._spec.animationExit)!==null&&m!==void 0?m:Hn(this._option.getChart().getSpec(),"animationExit.axis"))!==null&&v!==void 0?v:Hn(this._option.getChart().getSpec(),"animationExit"),update:(y=(_=this._spec.animationUpdate)!==null&&_!==void 0?_:Hn(this._option.getChart().getSpec(),"animationUpdate.axis"))!==null&&y!==void 0?y:Hn(this._option.getChart().getSpec(),"animationUpdate")});w.enter&&(w.update[0].customParameters={enter:w.enter[0]}),this._marks.forEach(T=>T.setAnimationConfig(w))}}}_shouldComputeTickData(){return this.getVisible()||this._spec.forceInitTick}_initData(){const e=this._initTickDataSet(this._tickTransformOption()),t=new Zl(this._option,e);this._tickData=[t],e.target.addListener("change",()=>{this._onTickDataChange(t)})}collectData(e,t){const i=[];return ts(this._regions,r=>{var s;let a=this.collectSeriesField(e,r);if(a=Oe(a)?Ei(this._scale.type)?a:[a[0]]:[a],e||(this._dataFieldText=r.getFieldAlias(a[0])),a){const o=r.getViewData();if(t)a.forEach(l=>{i.push(r.getRawDataStatisticsByField(l,!!Ei(this._scale.type)))});else if(o&&o.latestData&&o.latestData.length){const l=(s=r.getViewDataStatistics)===null||s===void 0?void 0:s.call(r),u=this.type===He.cartesianLinearAxis&&this._spec.breaks&&this._spec.breaks.length;a.forEach(c=>{var d;!((d=l==null?void 0:l.latestData)===null||d===void 0)&&d[c]&&(u?i.push(Object.assign(Object.assign({},l.latestData[c]),{values:o.latestData.map(h=>h[c])})):i.push(l.latestData[c]))})}}},{userId:this._seriesUserId,specIndex:this._seriesIndex}),i}isSeriesDataEnable(){let e=!0;return ts(this._regions,t=>{var i;Oe((i=t.getViewDataStatistics())===null||i===void 0?void 0:i.latestData)&&(e=!1)},{userId:this._seriesUserId,specIndex:this._seriesIndex}),e}setSeriesAndRegionsFromSpec(){const{seriesId:e,seriesIndex:t,regionId:i,regionIndex:r}=this._spec;Y(e)&&(this._seriesUserId=Ae(e)),Y(i)&&(this._regionUserId=Ae(i)),Y(t)&&(this._seriesIndex=Ae(t)),Y(r)&&(this._regionIndex=Ae(r)),this._regions=this._option.getRegionsInUserIdOrIndex(this._regionUserId,this._regionIndex),this.layout.layoutBindRegionID=this._regions.map(s=>s.id)}getBindSeriesFilter(){return{userId:this._seriesUserId,specIndex:this._seriesIndex}}initEvent(){this.event.on(Et.scaleUpdate,{filter:({model:t})=>(t==null?void 0:t.id)===this.id},this.effect.scaleUpdate.bind(this));const e=ZMe(this._regions,{userId:this._seriesUserId,specIndex:this._seriesIndex}).map(t=>t.getViewDataStatistics()).filter(t=>!!t);e.length>1?this._option.dataSet.multipleDataViewAddListener(e,"change",()=>{this.updateScaleDomain()}):e.length===1&&e[0].target.addListener("change",()=>{this.updateScaleDomain()}),ts(this._regions,t=>{t.event.on(Et.rawDataUpdate,{filter:({model:i})=>(i==null?void 0:i.id)===t.id},()=>{this._clearRawDomain()})},{userId:this._seriesUserId,specIndex:this._seriesIndex})}updateScaleDomain(){}_clearRawDomain(){}onLayoutEnd(){this.updateScaleRange(),this.event.emit(Et.scaleUpdate,{model:this,value:"range"}),super.onLayoutEnd()}computeData(e){e!=="force"||this._tickData&&this._tickData.length?!this._tickData||!this._tickData.length||e!=="force"&&Oi(this._scale.range(),[0,1])||this._tickData.forEach(t=>{t.getDataView().reRunAllTransform({skipEqual:!0})}):ts(this._regions,t=>{var i;(i=t.getViewData())===null||i===void 0||i.reRunAllTransform()},{userId:this._seriesUserId,specIndex:this._seriesIndex})}_updateTickDataMarks(e){this._tickData&&this._tickData.forEach(t=>{t.addRelatedMark(e)})}initScales(){this._scales=[this._scale];const e=[];if(ts(this._regions,t=>{const i=t.getGroups();i&&e.push(i)},{userId:this._seriesUserId,specIndex:this._seriesIndex}),e.length!==0){const t=js(e.map(i=>i.fields.length));for(let i=1;i<t;i++){const r=this._scale.clone();this._scales.push(r)}}}_compareSpec(e,t){const i=super._compareSpec(e,t);return i.reMake?i:(i.reRender=!0,(t==null?void 0:t.type)!==(e==null?void 0:e.type)||(t==null?void 0:t.visible)!==(e==null?void 0:e.visible)?(i.reMake=!0,i):(i.reMake=["grid","subGrid","tick","subTick","label","domainLine","title"].some(r=>{var s,a;return((s=t==null?void 0:t[r])===null||s===void 0?void 0:s.visible)!==((a=e==null?void 0:e[r])===null||a===void 0?void 0:a.visible)}),i))}_getAxisAttributes(){const e=this._spec,t={orient:this.getOrient(),select:this._option.disableTriggerEvent!==!0&&e.select,hover:this._option.disableTriggerEvent!==!0&&e.hover};if(e.domainLine&&e.domainLine.visible?t.line=FZt(e.domainLine):t.line={visible:!1},e.label&&e.label.visible){const i=By(e.label,["style","formatMethod","state"]);t.label=i,e.label.style&&(t.label.style=Re(e.label.style)?(r,s,a,o)=>{var l;const u=e.label.style(r.rawValue,s,r,a,o);return ln(qt({},(l=this._theme.label)===null||l===void 0?void 0:l.style,u))}:ln(e.label.style)),(e.label.formatMethod||e.label.formatter)&&(t.label.formatMethod=this._getLabelFormatMethod()),e.label.state&&(t.label.state=eqt(e.label.state)),Re(e.label.dataFilter)&&(t.label.dataFilter=(r,s)=>e.label.dataFilter(r,s,{vchart:this._option.globalInstance}))}else t.label={visible:!1};if(e.tick&&e.tick.visible?(t.tick={visible:e.tick.visible,length:e.tick.tickSize,inside:e.tick.inside,alignWithLabel:e.tick.alignWithLabel,dataFilter:Re(e.tick.dataFilter)?i=>e.tick.dataFilter(i,{vchart:this._option.globalInstance}):void 0},e.tick.style&&(t.tick.style=Re(e.tick.style)?(i,r,s,a)=>{var o;const l=e.tick.style(i,r,s,a);return ln(qt({},(o=this._theme.tick)===null||o===void 0?void 0:o.style,l))}:ln(e.tick.style)),e.tick.state&&(t.tick.state=ax(e.tick.state))):t.tick={visible:!1},e.subTick&&e.subTick.visible?(t.subTick={visible:e.subTick.visible,length:e.subTick.tickSize,inside:e.subTick.inside,count:e.subTick.tickCount},e.subTick.style&&(t.subTick.style=Re(e.subTick.style)?(i,r,s,a)=>{var o;const l=e.subTick.style(i,r,s,a);return ln(qt({},(o=this._theme.subTick)===null||o===void 0?void 0:o.style,l))}:ln(e.subTick.style)),e.subTick.state&&(t.subTick.state=ax(e.subTick.state))):t.subTick={visible:!1},e.title&&e.title.visible){const i=e.title,{autoRotate:r,angle:s,style:a={},background:o,state:l,shape:u}=i,c=QZt(i,["autoRotate","angle","style","background","state","shape"]);let d,h=s;e.orient!=="left"&&e.orient!=="right"||r&&J(h)&&(h=e.orient==="left"?-90:90,d=LZt[e.orient]),t.title=Object.assign(Object.assign({},c),{autoRotate:!1,angle:h?ar(h):null,textStyle:qt({},d,ln(a)),pickable:a.pickable!==!1,childrenPickable:a.pickable!==!1,state:{}}),u&&u.visible?(t.title.shape=Object.assign(Object.assign({},u),{style:ln(u.style)}),u.state&&(t.title.state.shape=ax(u.state))):t.title.shape={visible:!1},o&&o.visible?(t.title.background=Object.assign(Object.assign({},o),{style:ln(o.style)}),o.state&&(t.title.state.background=ax(o.state))):t.title.background={visible:!1},l&&(t.title.state.text=ax(l))}else t.title={visible:!1};return e.background&&e.background.visible?(t.panel={visible:!0},e.background.style&&(t.panel.style=ln(e.background.style)),e.background.state&&(t.panel.state=ax(e.background.state))):t.panel={visible:!1},t}_getGridAttributes(){const e=this._spec;return{alternateColor:e.grid.alternateColor,alignWithLabel:e.grid.alignWithLabel,style:Re(e.grid.style)?(t,i)=>{var r,s;const a=e.grid.style((r=t.datum)===null||r===void 0?void 0:r.rawValue,i,t.datum);return ln(qt({},(s=this._theme.grid)===null||s===void 0?void 0:s.style,a))}:ln(e.grid.style),subGrid:e.subGrid.visible===!1?{visible:!1}:{type:"line",visible:e.subGrid.visible,alternateColor:e.subGrid.alternateColor,style:ln(e.subGrid.style)}}}_getLabelFormatMethod(){const{formatMethod:e,formatter:t}=this._spec.label,{formatFunc:i}=zm(e,t);return i?(r,s,a)=>i(s.rawValue,s,t):null}_initTickDataSet(e,t=0){Am(this._option.dataSet,"scale",ZZt);const i=this.registerTicksTransform();return new Pi(this._option.dataSet,{name:`${this.type}_${this.id}_ticks_${t}`}).parse(this._scales[t],{type:"scale"}).transform({type:i,options:e},!1)}_tickTransformOption(){const e=this._tick||{},t=this._spec.label||{},{tickCount:i,forceTickCount:r,tickStep:s,tickMode:a}=e,{style:o,formatMethod:l,minGap:u}=t;return{sampling:this._spec.sampling!==!1,tickCount:i,forceTickCount:r,tickStep:s,tickMode:a,axisOrientType:this._orient,coordinateType:this._coordinateType,labelStyle:o,labelFormatter:l,labelGap:u}}addTransformToTickData(e,t){this._tickData.forEach(i=>{var r;(r=i==null?void 0:i.getDataView())===null||r===void 0||r.transform(e,t)})}dataToPosition(e){return this._scale.scale(e)}getDatum(e){var t;return e&&e.name===pa.label?e.data:this._axisMark?(t=this._axisMark.getComponent())===null||t===void 0?void 0:t.attribute.items:void 0}scaleRangeFactor(e,t,i){return this._onTickDataChange(this.getTickData()),this.getScale().rangeFactor(e,t,i)}scaleRangeFactorEnd(e,t,i){return this._onTickDataChange(this.getTickData()),this.getScale().rangeFactorEnd(e,t)}scaleRangeFactorStart(e,t,i){return this._onTickDataChange(this.getTickData()),this.getScale().rangeFactorStart(e,t)}}SQ.specKey="axes";const J0=()=>{Xz(),ne.registerAnimation("axis",()=>({appear:{type:"fadeIn"},enter:{type:"fadeIn"},update:{type:"update"},exit:{type:"fadeOut"}}))},JZt=n=>{let{x:e,y:t}=n[0].getLayoutStartPoint(),i=e+n[0].getLayoutRect().width,r=t+n[0].getLayoutRect().height;for(let a=1;a<n.length;a++){const o=n[a],{x:l,y:u}=o.getLayoutStartPoint(),{width:c,height:d}=o.getLayoutRect();e=Math.min(e,l),i=Math.max(i,c+l),t=Math.min(t,u),r=Math.max(r,d+u)}const s=Math.abs(r-t);return{width:Math.abs(i-e),height:s}};var Wge=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};const eQt=[KO];class v$ extends SQ{getOrient(){return this._orient}getDefaultInteractive(){return!0}set autoIndentOnce(e){this._autoIndentOnce=e}getScales(){return this._scales}getInnerOffset(){return this._innerOffset}constructor(e,t){super(e,t),this.type=He.cartesianAxis,this.name=He.cartesianAxis,this._defaultBandPosition=.5,this._defaultBandInnerPadding=.1,this._defaultBandOuterPadding=.3,this.layoutType="region-relative",this.layoutZIndex=ji.Axis,this.layoutLevel=Df.Axis,this._orient="left",this._autoIndentOnce=!1,this._hasAutoIndent=!1,this._scales=[],this._tick=void 0,this._layoutCache={width:0,height:0,_lastComputeOutBounds:{x1:0,x2:0,y1:0,y2:0}},this._innerOffset={top:0,bottom:0,left:0,right:0},this.effect={scaleUpdate:i=>{this.computeData(i==null?void 0:i.value),ts(this._regions,r=>{const s=this.getOrient();Kr(s)?qd(r.getXAxisHelper(),this.axisHelper(),Y(this._seriesUserId)||Y(this._seriesIndex))&&r.setXAxisHelper(this.axisHelper()):sm(s)?qd(r.getYAxisHelper(),this.axisHelper(),Y(this._seriesUserId)||Y(this._seriesIndex))&&r.setYAxisHelper(this.axisHelper()):Nv(s)&&qd(r.getZAxisHelper(),this.axisHelper(),Y(this._seriesUserId)||Y(this._seriesIndex))&&r.setZAxisHelper(this.axisHelper())},{userId:this._seriesUserId,specIndex:this._seriesIndex})}},this._transformLayoutPosition=i=>{let{x:r,y:s}=i;return Me(r)&&(r+=+(this._orient==="left")*this.getLayoutRect().width),Me(s)&&(s+=+(this._orient==="top")*this.getLayoutRect().height),{x:r,y:s}},this._transformLayoutRect=i=>{if(!this._visible)return i;const r=this._latestBounds.clone().translate(-this.getLayoutStartPoint().x,-this.getLayoutStartPoint().y);switch(this._layout.layoutOrient){case"left":this._layout.layoutRectLevelMap.width===Ju&&(i.width=r.x1<0?-r.x1:0);break;case"right":this._layout.layoutRectLevelMap.width===Ju&&(i.width=r.x2>0?r.x2:0);break;case"top":this._layout.layoutRectLevelMap.height===Ju&&(i.height=r.y1<0?-r.y1:0);break;case"bottom":this._layout.layoutRectLevelMap.height===Ju&&(i.height=r.y2>0?r.y2:0)}return i.width=Math.ceil(i.width),i.height=Math.ceil(i.height),this._layout.setRectInSpec(this._layoutCacheProcessing(i))},this._transformLayoutPadding=i=>(this.layoutOrient==="left"||this.layoutOrient==="right"?(i.top=0,i.bottom=0):this.layoutOrient!=="top"&&this.layoutOrient!=="bottom"||(i.left=0,i.right=0),i),this._updateAxisLayout=()=>{const i=this.getLayoutStartPoint(),r=this._getUpdateAttribute(!1),{grid:s}=r,a=Wge(r,["grid"]),o=qt({x:i.x,y:i.y},this._axisStyle,a);this._axisMark.setSimpleStyle(o),this._gridMark&&this._gridMark.setSimpleStyle(qt({x:i.x,y:i.y},this._getGridAttributes(),s))},this._fixAxisOnZero=()=>{const{onZero:i,visible:r}=this._spec.domainLine;if(this.visible&&i&&r!==!1){const{onZeroAxisId:s,onZeroAxisIndex:a}=this._spec.domainLine,o=this._option.getComponentsByKey("axes"),l=Kr(this.getOrient()),u=d=>{var h;return(l?!Kr(d.getOrient()):Kr(d.getOrient()))&&Ei(d.getScale().type)&&(d.getTickData()?(h=d.getTickData().getLatestData())===null||h===void 0?void 0:h.find(f=>f.value===0):d.getScale().domain()[0]<=0&&Xn(d.getScale().domain())>=0)},c=o.filter(d=>u(d));if(c.length){let d;if(Y(s))d=c.find(h=>h.id===s);else if(Y(a)){const h=o[a];u(h)&&(d=h)}else d=c[0];if(d){const h=this._axisMark,f=d.valueToPosition(0);l?h.setSimpleStyle(Object.assign(Object.assign({},h.getSimpleStyle()),{line:Object.assign(Object.assign({},this._axisStyle.line),{dy:this._orient==="bottom"?-((d.getInverse()?d.getScale().range()[1]:d.getScale().range()[0])-f):f})})):h.setSimpleStyle(Object.assign(Object.assign({},h.getSimpleStyle()),{line:Object.assign(Object.assign({},this._axisStyle.line),{dx:this._orient==="left"?f:-((d.getInverse()?d.getScale().range()[0]:d.getScale().range()[1])-f)})}))}}}},this._orient=Jv(e,["z"]),Nv(this._orient)&&(this.layoutType="absolute"),this._dataSet=t.dataSet,this._coordinateType="cartesian"}static getSpecInfo(e){const t=e[this.specKey];if(!t)return null;const i=e.direction==="horizontal";if(!Oe(t)){if(!zge(t))return null;const{axisType:o,componentName:l}=Dge(t,i);return t.type=o,[{spec:t,specPath:[this.specKey],specInfoPath:["component",this.specKey,0],type:l}]}let r=!0;if(t.filter(o=>o.orient==="z")[0]){const o=t.filter(u=>u.orient==="bottom")[0],l=t.filter(u=>sm(u.orient))[0];r=t.length===3&&o&&l}let s=t.map((o,l)=>({spec:o,index:l}));r||(s=s.filter(({spec:o})=>o.orient!=="z"));const a=[];return s.forEach(({spec:o,index:l})=>{if(!zge(o))return;const{axisType:u,componentName:c}=Dge(o,i);o.type=u,a.push({spec:o,specPath:[this.specKey,l],specInfoPath:["component",this.specKey,l],type:c})}),a}static createComponent(e,t){const{spec:i}=e,r=Wge(e,["spec"]),s=ne.getComponentInKey(r.type);return s?new s(i,Object.assign(Object.assign({},t),r)):(t.onError(`Component ${r.type} not found`),null)}initLayout(){super.initLayout(),this._layout.autoIndent=this._spec.autoIndent!==!1,this._layout.layoutOrient=this._orient}getNewScaleRange(){const{width:e,height:t}=this.getLayoutRect(),{left:i,right:r,top:s,bottom:a}=this._innerOffset;let o=[];return Kr(this.getOrient())?Me(e)&&(o=this._inverse?[e-r,i]:[i,e-r]):Nv(this.getOrient())?Me(e)&&(o=this._inverse?[e-r,i]:[i,e-r],this._scale.range(o)):Me(t)&&(o=this._inverse?[s,t-a]:[t-a,s]),o}updateScaleRange(){let e=!1;const t=this.getNewScaleRange(),i=this._scale.range();return t.length===i.length&&t.every((r,s)=>r===i[s])?e=!1:(e=!0,this._scale.range(t)),e}init(e){var t;super.init(e),(t=this.pluginService)===null||t===void 0||t.load(eQt.map(i=>new i)),this.callPlugin(i=>{this.pluginService&&i.onInit&&i.onInit(this.pluginService,this)})}setAttrFromSpec(){var e;if(super.setAttrFromSpec(),this.visible){Kr(this.getOrient())?cs(this._spec.maxHeight)&&(this._spec.maxHeight="30%"):cs(this._spec.maxWidth)&&(this._spec.maxWidth="30%");const i=this._getAxisAttributes();i.label.formatMethod=this._getLabelFormatMethod(),i.verticalFactor=this.getOrient()==="top"||this.getOrient()==="right"?-1:1,this._axisStyle=i}this._tick=this._spec.tick;const t=(e=this._option.getChart())===null||e===void 0?void 0:e.getSpec();this._inverse=xZt(this._spec,(t==null?void 0:t.direction)==="horizontal")}onLayoutStart(e,t){if(super.onLayoutStart(e,t),!Nv(this.getOrient())&&this._spec.innerOffset){const i=this._spec;sm(this.getOrient())?["top","bottom"].forEach(r=>{this._innerOffset[r]=Fs(i.innerOffset[r],t.height,t)}):["left","right"].forEach(r=>{this._innerOffset[r]=Fs(i.innerOffset[r],t.width,t)})}}getSeriesStatisticsField(e){let t;return t=Kr(this.getOrient())?e.fieldX:Nv(this.getOrient())?e.fieldZ:e.fieldY,Ei(this._scale.type)?t:[t[0]]}_tickTransformOption(){var e,t,i,r;return Object.assign(Object.assign({},super._tickTransformOption()),{noDecimals:(e=this._tick)===null||e===void 0?void 0:e.noDecimals,labelLastVisible:(t=this._spec.label)===null||t===void 0?void 0:t.lastVisible,labelFirstVisible:(i=this._spec.label)===null||i===void 0?void 0:i.firstVisible,labelFlush:(r=this._spec.label)===null||r===void 0?void 0:r.flush})}axisHelper(){return{isContinuous:Ei(this._scale.type),dataToPosition:this.dataToPosition.bind(this),getScale:(e=0)=>this._scales[e],getAxisType:()=>this.type,getAxisId:()=>this.id,isInverse:()=>this._inverse===!0,getSpec:()=>this._spec}}afterCompile(){var e;!((e=this._axisMark)===null||e===void 0)&&e.getProduct()&&this.event.on(Rf.AFTER_ELEMENT_ENCODE,({mark:t})=>{if(t===this._axisMark&&this._isLayout===!1&&(Kr(this.getOrient())?this.callPlugin(i=>{this.pluginService&&i.onDidLayoutHorizontal&&i.onDidLayoutHorizontal(this.pluginService,this)}):this.callPlugin(i=>{this.pluginService&&i.onDidLayoutVertical&&i.onDidLayoutVertical(this.pluginService,this)}),this._unitText)){const{x:i,y:r}=this.getLayoutStartPoint(),s=Kr(this._orient)?{x:js(this._scale.range())+i,y:r}:{x:i,y:Sa(this._scale.range())+r};this._unitText.setAttributes(s)}}),this.callPlugin(t=>{this.pluginService&&t.onDidCompile&&t.onDidCompile(this.pluginService,this)})}collectScale(){const e=[];return ts(this._regions,t=>{e.push(this.getOrient()==="left"||this.getOrient()==="right"?t.scaleY:t.scaleX)},{userId:this._seriesUserId,specIndex:this._seriesIndex}),e}collectSeriesField(e,t){var i,r;let s;return s=e>0?(r=(i=t.getGroups())===null||i===void 0?void 0:i.fields)===null||r===void 0?void 0:r[e]:Kr(this.getOrient())?t.getSpec().x2Field?[...t.fieldX,t.fieldX2]:t.fieldX:Nv(this.getOrient())?t.fieldZ:t.getSpec().y2Field?[...t.fieldY,t.fieldY2]:t.fieldY,s}updateSeriesScale(){const e=this.getOrient();ts(this._regions,t=>{Kr(e)?qd(t.getXAxisHelper(),this.axisHelper(),Y(this._seriesUserId)||Y(this._seriesIndex))&&(t.setScaleX(this._scale),t.setXAxisHelper(this.axisHelper())):sm(e)?qd(t.getYAxisHelper(),this.axisHelper(),Y(this._seriesUserId)||Y(this._seriesIndex))&&(t.setScaleY(this._scale),t.setYAxisHelper(this.axisHelper())):Nv(e)&&qd(t.getZAxisHelper(),this.axisHelper(),Y(this._seriesUserId)||Y(this._seriesIndex))&&(t.setScaleZ(this._scale),t.setZAxisHelper(this.axisHelper()))},{userId:this._seriesUserId,specIndex:this._seriesIndex})}getBoundsInRect(e){var t;let i={x1:0,y1:0,x2:0,y2:0};if(!this._visible)return i;this._verticalLimitSize=Kr(this.getOrient())?e.height:e.width,this.setLayoutRect(e),!this.updateScaleRange()&&Oe((t=this.getTickData())===null||t===void 0?void 0:t.getLatestData())||this.computeData("range");const r={skipLayout:!1},s=Kr(this.getOrient());this.pluginService&&(s?this.callPlugin(l=>{l.onWillLayoutHorizontal&&l.onWillLayoutHorizontal(this.pluginService,r,this)}):this.callPlugin(l=>{l.onWillLayoutVertical&&l.onWillLayoutVertical(this.pluginService,r,this)}));const a=this._axisMark.getProduct();let o=!1;if(!r.skipLayout){const l=this._getUpdateAttribute(!0),u=this._axisMark.getComponent(),c=qt(Object.assign({},this.getLayoutStartPoint()),this._axisStyle,l,{line:{visible:!1}});let d=u==null?void 0:u.getBoundsWithoutRender(c);d&&!d.empty()||(d=new Xo().set(c.x,c.y,c.x,c.y)),o=!0,this._latestBounds=d,i=this._appendAxisUnit(d,s)}return o||(this._latestBounds=a.AABBBounds),i}positionToData(e,t){const i=Kr(this.getOrient());t&&(e-=i?this.getLayoutStartPoint().x:this.getLayoutStartPoint().y),this._innerOffset&&(e=i?ki(e,this._innerOffset.left,this.getLayoutRect().width-this._innerOffset.right):ki(e,this._innerOffset.top,this.getLayoutRect().height-this._innerOffset.bottom));const r=this._scale.range();return(e-r[0])*(e-Xn(r))>0?null:this._scale.invert(e)}_getTitleLimit(e){var t,i,r,s,a;const o=this._spec.title;if(o.visible&&J((t=o.style)===null||t===void 0?void 0:t.maxLineWidth)){const l=(a=(r=(i=this._axisStyle.title)===null||i===void 0?void 0:i.angle)!==null&&r!==void 0?r:(s=o.style)===null||s===void 0?void 0:s.angle)!==null&&a!==void 0?a:0;if(e){const d=this.getLayoutRect().width,h=Math.abs(Math.cos(l));return h<1e-6?1/0:d/h}const u=this.getLayoutRect().height,c=Math.abs(Math.sin(l));return c<1e-6?1/0:u/c}return null}_getUpdateAttribute(e){let t=0,i=0;if(!e){const p=JZt(this.getRegions());i=p.width,t=p.height}const{width:r,height:s}=this.getLayoutRect(),a=Kr(this._orient),o=sm(this._orient);let l={x:0,y:0},u=t,c=r;a?l={x:r,y:0}:o&&(l={x:0,y:s},u=i,c=s);const d=this.getLabelItems(c),h={start:{x:0,y:0},end:l,title:{text:this._spec.title.text||this._dataFieldText,maxWidth:this._getTitleLimit(a)},items:d,scale:this._scale.clone()};e||(h.grid={type:"line",start:{x:0,y:0},end:l,items:d[0],verticalFactor:this._axisStyle.verticalFactor,length:u});let f=a?this.layout.minHeight:this.layout.minWidth;return(a&&this._layout.layoutRectLevelMap.height===Kv||o&&this._layout.layoutRectLevelMap.width===Kv)&&(f=this._verticalLimitSize),h.verticalLimitSize=this._verticalLimitSize,h.verticalMinSize=f,h.label={overflowLimitLength:this._getLabelOverflowLimit(a)},this._afterUpdateAttribute?this._afterUpdateAttribute(h,e):h}getLabelItems(e){var t;const i=(t=this.getTickData())===null||t===void 0?void 0:t.getLatestData();return i&&i.length?[i.map(r=>{const s=this._getNormalizedValue([r.value],e);return GC(r.value,s)}).filter(r=>{const{value:s,rawValue:a}=r,o=this._scale.domain();return this.getSpec().type==="log"?s>=0&&s<=1:Ei(this._scale.type)?a>=o[0]&&a<=Xn(o):o.includes(a)})]:[]}initEvent(){super.initEvent(),this.visible&&(this.event.on(Et.layoutEnd,this._updateAxisLayout),this.event.on(Et.layoutEnd,this._fixAxisOnZero),this.event.on(Et.layoutRectUpdate,()=>{this._clearLayoutCache()}))}_getNormalizedValue(e,t){return t===0?0:this.dataToPosition(e)/t}_layoutCacheProcessing(e){return["width","height"].forEach(t=>{e[t]<this._layoutCache[t]?e[t]=this._layoutCache[t]:this._layoutCache[t]=e[t]}),this._autoIndentOnce&&this._hasAutoIndent?["x1","x2","y1","y2"].forEach(t=>{this.layout.getLastComputeOutBounds()[t]=this._layoutCache._lastComputeOutBounds[t]}):(this._hasAutoIndent=!0,["x1","x2","y1","y2"].forEach(t=>{this.layout.getLastComputeOutBounds()[t]<this._layoutCache._lastComputeOutBounds[t]?this.layout.getLastComputeOutBounds()[t]=this._layoutCache._lastComputeOutBounds[t]:this._layoutCache._lastComputeOutBounds[t]=this.layout.getLastComputeOutBounds()[t]})),e}reInit(e){super.reInit(e),this._clearLayoutCache()}_clearLayoutCache(){this._hasAutoIndent=!1,this._layoutCache.width=0,this._layoutCache.height=0,this._layoutCache._lastComputeOutBounds={x1:0,x2:0,y1:0,y2:0}}onDataUpdate(){this._clearLayoutCache()}_appendAxisUnit(e,t){var i;if(this._spec.unit&&this._spec.unit.visible){const{text:r,style:s}=this._spec.unit;let a,o;const{x:l,y:u}=this.getLayoutStartPoint();t?(a={x:js(this._scale.range())+l,y:u},o={textAlign:"left",textBaseline:"middle"}):(a={x:l,y:Sa(this._scale.range())+u},o={textAlign:this._orient==="left"?"left":"right",textBaseline:"bottom"}),o=Object.assign(Object.assign(Object.assign({},o),s),{x:a.x,y:a.y,text:r}),this._unitText?this._unitText.setAttributes(o):(this._unitText=xM(o),this._unitText.name="axis-unit",(i=this.getContainer())===null||i===void 0||i.add(this._unitText));const c=this._unitText.AABBBounds;t?(e.x2+=c.x2>e.x2?c.x2-e.x2:0,e.y2+=c.y2>e.y2?c.y2-e.y2:0):(e.x1+=c.x1<e.x1?c.x1-e.x1:0,e.y1+=c.y1<e.y1?c.y1-e.y1:0)}return e}_getNeedClearVRenderComponents(){return this._unitText?[this._unitText]:[]}_getLabelOverflowLimit(e){var t,i;if(e&&((t=this._spec.label)===null||t===void 0?void 0:t.visible)!==!1&&((i=this._spec.label)===null||i===void 0?void 0:i.autoLimit)===!0){const r=this._option.getComponentsByKey("axes"),s=this.getRegions(),a=r.filter(d=>{const h=d.getOrient();return(h==="left"||h==="right")&&d.getRegions().some(f=>s.includes(f))});let o=0,l=0;const u=this.getLayoutStartPoint().x,c=u+this.getLayoutRect().width;return a.forEach(d=>{const h=d.getLayoutStartPoint().x;if(d.getOrient()==="left"&&h===u){const f=d.getLayoutRect().width;o=Math.max(o,f)}else if(h===c){const f=d.getLayoutRect().width;l=Math.max(l,f)}}),{left:o,right:l}}}}v$.type=He.cartesianAxis,v$.specKey="axes";const tQt=(n,e,t)=>t.reduce((i,r,s)=>(i.push([r,t.length===s+1?e:t[s+1]]),i),[[n,t[0]]]);function nQt(n,e){const t=n[0],i=n[n.length-1],r=e.filter(s=>s>t&&s<i);return r.length===0?[[t,i]]:tQt(t,i,r)}const Uge=(n,e)=>n-e,iQt=(n,e)=>{const t=[{count:0,sub:[],max:e[0],min:e[0]}];let i=0,r=0;for(;i<e.length;)n[r]<=e[i]?(t[i].count+=1,t[i].sub.push(n[r]),r+=1):(i+=1,t[i]={count:0,sub:[],max:e[i],min:e[i]});t.forEach(a=>{a.count&&(a.min=Math.min.apply(null,a.sub))});const s=n.slice(r);return t[i]={count:s.length,sub:s,min:e[e.length-1],max:Math.max.apply(null,s)},t};function rQt(n,e,t="count"){const i=iQt(n,e),r=t==="count"?n.length:i.reduce((l,u,c)=>u.count>0?l+u.max-u.min:l,0),s=[];let a=0,o=0;return i.forEach((l,u)=>{if(r===0)s.push([0,u/i.length-1]);else{const c=t==="count"?l.count:l.max-l.min,d=s[o-1]?s[o-1][1]:0,h=u===i.length-1?1:Math.min((a+c)/r,1);(d!==h||d!==0&&d!==1)&&(o+=1,s.push([d,h]),a+=c)}}),s}function sQt(n,e,t){return n.sort(Uge),e.sort(Uge),{domain:nQt(n,e),scope:rQt(n,e,t)}}const aQt=Math.sqrt(50),oQt=Math.sqrt(10),lQt=Math.sqrt(2);class qz{constructor(){this._extend={},this._rawDomain=[],this.niceLabelFormatter=null}getRawDomain(){return this._rawDomain}setExtraAttrFromSpec(){Y(this._spec.nice)&&(this._nice=this._spec.nice),Y(this._spec.zero)&&(this._zero=this._spec.zero),this._expand=this._spec.expand,this._domain=XO(this._spec)}transformScaleDomain(){this.setScaleNice()}setLinearScaleNice(){var e;if(!this._nice)return!1;let t=5;const i=this._spec.tick||{};if(Me(i.forceTickCount))t=i.forceTickCount;else if(Re(i.tickCount)){const a=this._scale.range();let o=Math.abs(Xn(a)-a[0]);o===1&&this._option&&(o=Kr(this._orient)?this._option.getChartViewRect().width:this._option.getChartViewRect().height),t=i.tickCount({axisLength:o,labelStyle:this._spec.label&&this._spec.label.style})}else t=Me(i.tickCount)?i.tickCount:5;this._spec.niceType==="accurateFirst"&&(t=Math.max(5,t));const{min:r,max:s}=(e=this._domain)!==null&&e!==void 0?e:{};return J(r)&&J(s)&&J(this._softMaxValue)&&J(this._softMinValue)?this._scale.nice(t):(Y(r)||Y(this._softMinValue))&&J(s)&&J(this._softMaxValue)?this._scale.niceMax(t):!(!J(r)||!J(this._softMinValue)||!Y(s)&&!Y(this._softMaxValue))&&this._scale.niceMin(t)}setLogScaleNice(){var e;if(!this._nice)return!1;const{min:t,max:i}=(e=this._domain)!==null&&e!==void 0?e:{};return J(t)&&J(i)&&J(this._softMaxValue)&&J(this._softMinValue)?this._scale.nice():(Y(t)||Y(this._softMinValue))&&J(i)&&J(this._softMaxValue)?this._scale.niceMax():!(!J(t)||!J(this._softMinValue)||!Y(i)&&!Y(this._softMaxValue))&&this._scale.niceMin()}setScaleNice(){return this._spec.type==="log"?this.setLogScaleNice():this.setLinearScaleNice()}dataToPosition(e,t){return this.valueToPosition(e[0])}valueToPosition(e){return this._scale.scale(e)}computeLinearDomain(e){let t=[];if(e.length){const i=this._spec.breaks&&this._spec.breaks.length;let r,s,a=[];if(e.forEach(o=>{const{min:l,max:u}=o;r=r===void 0?l:Math.min(r,l),s=s===void 0?u:Math.max(s,u),i&&(a=a.concat(o.values))}),i){const o=[],l=[],u=J(this._domain.max)?s:this._domain.max;for(let c=0;c<this._spec.breaks.length;c++){const{range:d}=this._spec.breaks[c];d[0]<=d[1]&&d[1]<=u&&(o.push(d),l.push(this._spec.breaks[c]))}if(o.sort((c,d)=>c[0]-d[0]),o.length){const{domain:c,scope:d}=sQt(a,zY(o),this._spec.breaks[0].scopeType);t=zY(c),this._break={domain:c,scope:d,breakDomains:o,breaks:l}}else t=[r,s]}else t=[r,s]}else t[0]=0,t[1]=0;return this.setSoftDomainMinMax(t),this.expandDomain(t),this.includeZero(t),this.setDomainMinMax(t),t}expandDomain(e){if(!this._expand)return;let t=e[0],i=Xn(e);t===i&&(i===0?i=1:i>0?t=0:i<0&&(i=0)),Y(this._expand.min)&&(e[0]=t-(i-t)*this._expand.min),Y(this._expand.max)&&(e[e.length-1]=i+(i-t)*this._expand.max)}niceDomain(e){const{min:t,max:i}=XO(this._spec);if(Y(t)||Y(i)||this._spec.type!=="linear")return e;if(Math.abs(Sa(e)-js(e))<=1e-12){let r=e[0];const s=r>=0?1:-1;if(r=Math.abs(r),r<1)e[0]=0,e[e.length-1]=1;else{let a=r/5;const o=Math.floor(Math.log(a)/Math.LN10),l=a/Math.pow(10,o);a=(l>=aQt?10:l>=oQt?5:l>=lQt?2:1)*Math.pow(10,o),e[0]=0,e[e.length-1]=10*a}s<0&&(e.reverse(),e[0]*=-1,e[e.length-1]*=-1)}return e}includeZero(e){this._zero&&(e[0]=Math.min(e[0],0),e[e.length-1]=Math.max(Xn(e),0))}setExtendDomain(e,t){if(t===void 0)return void delete this._extend[e];this._extend[e]=t;const i=this._scale.domain();this.extendDomain(i),this.includeZero(i),this.setDomainMinMax(i),this.niceDomain(i),this._scale.domain(i,this._nice),this._nice&&!this.setScaleNice()&&this._scale.rescale(),this.event.emit(Et.scaleUpdate,{model:this,value:"domain"})}extendDomain(e){let t;const i=e.length-1,r=e[0]-e[i]>0,s=r?i:0,a=r?0:i;for(const o in this._extend)t=this._extend[o],t>e[a]&&(e[a]=t),t<e[s]&&(e[s]=t)}getDomainSpec(){return this._domain}setDomainMinMax(e){if(!this._domain)return;const{min:t,max:i}=this._domain;Y(t)&&(e[0]=t),Y(i)&&(e[e.length-1]=i)}setSoftDomainMinMax(e){const{softMin:t,softMax:i}=this._spec;if(Y(t)){let r=Re(t)?t(e):t;J(r)&&(r=e[0]),r<=e[0]&&(e[0]=r,this._softMinValue=r)}if(Y(i)){let r=Re(i)?i(e):i;J(r)&&(r=Xn(e)),r>=Xn(e)&&(e[e.length-1]=r),this._softMaxValue=r}}setZero(e){this._zero!==e&&(this._zero=e,this.updateScaleDomain())}updateScaleDomain(){var e;if(!this.isSeriesDataEnable())return;!(!((e=this._rawDomain)===null||e===void 0)&&e.length)&&this._scale&&this._updateRawDomain();const t=this.collectData(),i=this.computeLinearDomain(t);this.updateScaleDomainByModel(i)}updateScaleDomainByModel(e){e=e??this._scale.domain(),this.extendDomain(e),this.includeZero(e),this.setDomainMinMax(e),this.niceDomain(e),this._scale.domain(e,this._nice),this._nice&&!this.setScaleNice()&&this._scale.rescale(),this._updateNiceLabelFormatter(e),this._domainAfterSpec=this._scale.domain(),this.event.emit(Et.scaleDomainUpdate,{model:this}),this.event.emit(Et.scaleUpdate,{model:this,value:"domain"})}getDomainAfterSpec(){return this._domainAfterSpec}_updateNiceLabelFormatter(e){const t=Math.abs(Xn(e)-e[0]),i=Math.max(-Math.floor(Math.log10(t)),0)+2,r=Math.pow(10,i);this.niceLabelFormatter=s=>Me(+s)?Math.round(+s*r)/r:s}_updateRawDomain(){const e=this.collectData(0,!0),t=this.computeLinearDomain(e);this._rawDomain=t,this.event.emit(Et.scaleRawDomainUpdate,{model:this})}_clearRawDomain(){this._rawDomain=[]}}const Zz={domainLine:{visible:!1},grid:{visible:!0},subGrid:{visible:!1},tick:{visible:!1},subTick:{visible:!1}},$M={label:{space:8},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},NM={label:{space:12,autoLimit:!0},title:{space:12,autoRotate:!0},maxWidth:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},eS={domainLine:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},grid:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[]}},subGrid:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[4,4]}},tick:{visible:!0,inside:!1,tickSize:4,alignWithLabel:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},subTick:{visible:!1,tickSize:2,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},label:{visible:!0,inside:!1,space:10,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}},title:{space:10,padding:0,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor"},fontWeight:"normal",fillOpacity:1}}};class cm extends v${constructor(){super(...arguments),this.type=He.cartesianLinearAxis,this._zero=!0,this._nice=!0,this._extend={},this._scale=new Ou}setAttrFromSpec(){var e,t;super.setAttrFromSpec(),this.setExtraAttrFromSpec();const i=(t=(e=this._tickData)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.getDataView().transformsArr.find(r=>r.type===this.registerTicksTransform());i&&(i.options=this._tickTransformOption())}initScales(){var e,t;super.initScales();const i=[0,1];Y((e=this._domain)===null||e===void 0?void 0:e.min)&&(i[0]=this._domain.min),Y((t=this._domain)===null||t===void 0?void 0:t.max)&&(i[1]=this._domain.max),this._scale.domain(i)}_tickTransformOption(){var e;return Object.assign(Object.assign({},super._tickTransformOption()),{breakData:!((e=this._spec.breaks)===null||e===void 0)&&e.length?()=>this._break:null})}_getUpdateAttribute(e){var t,i;const r=super._getUpdateAttribute(e);if(!Nv(this._orient)&&(!((i=(t=this._break)===null||t===void 0?void 0:t.breaks)===null||i===void 0)&&i.length)){const{width:s,height:a}=this.getLayoutRect(),o=Kr(this._orient),l=o?s:a;r.breaks=this._break.breaks.map(u=>{const{range:c,breakSymbol:d,gap:h=6}=u,f=this.valueToPosition((c[0]+c[1])/2)/l;let p;p=Jc(h)?Number(h.substring(0,h.length-1))/100:h/l;const g=Me(d==null?void 0:d.angle)?d.angle:o?60:15;return{range:[f-p/2,f+p/2],breakSymbol:Object.assign(Object.assign({visible:!0},d),{angle:g*Math.PI/180}),rawRange:c}})}return r}getNewScaleRange(){var e,t;let i=super.getNewScaleRange();return!((e=this._spec.breaks)===null||e===void 0)&&e.length&&(!((t=this._break)===null||t===void 0)&&t.scope)&&(i=zY(this._break.scope).map(r=>i[0]+(Xn(i)-i[0])*r)),i}computeDomain(e){return this.computeLinearDomain(e)}axisHelper(){const e=super.axisHelper();return e.setExtendDomain=this.setExtendDomain.bind(this),e.valueToPosition=this.valueToPosition.bind(this),e}registerTicksTransform(){const e=`${this.type}-ticks`;return rn(this._option.dataSet,e,kM),e}}cm.type=He.cartesianLinearAxis,cm.specKey="axes",cm.builtInTheme={axis:eS,axisLinear:Zz,axisX:$M,axisY:NM},Li(cm,qz);const Ph=()=>{ne.registerGraphicComponent(ad.lineAxis,(n,e)=>new wh(n,e)),ne.registerGraphicComponent(od.lineAxisGrid,(n,e)=>new o_(n,e)),J0(),ne.registerComponent(cm.type,cm)};class WIe{constructor(){this._rawDomainIndex=[],this._rawDomain=[]}_initData(){var e;if(this._spec.showAllGroupLayers&&this._scales.length>1)for(let t=0;t<this._scales.length;t++){const i=((e=this._spec.layers)!==null&&e!==void 0?e:[])[this._scales.length-1-t]||{};if(i.visible!==!1&&i.tickCount!==0&&i.forceTickCount!==0){const r=this._initTickDataSet(Object.assign(Object.assign({},this._tickTransformOption()),i),t),s=new Zl(this._option,r);this._tickData.push(s),r.target.addListener("change",()=>{this._onTickDataChange(s)}),this._tickDataMap||(this._tickDataMap={}),this._tickDataMap[t]=s}}else{const t=this._initTickDataSet(this._tickTransformOption()),i=new Zl(this._option,t);t.target.addListener("change",()=>{this._onTickDataChange(i)}),this._tickData=[i],this._tickDataMap={0:i}}}_updateData(){var e,t,i;const r=this.registerTicksTransform();if(this._spec.showAllGroupLayers&&this._scales.length>1){const s=(e=this._spec.layers)!==null&&e!==void 0?e:[];Object.keys(this._tickDataMap).forEach(a=>{const o=s[this._scales.length-1-+a]||{},l=this._tickDataMap[a],u=l==null?void 0:l.getDataView().transformsArr.find(c=>c.type===r);u&&(u.options=Object.assign(Object.assign({},this._tickTransformOption()),o))})}else{const s=(i=(t=this._tickData)===null||t===void 0?void 0:t[0])===null||i===void 0?void 0:i.getDataView().transformsArr.find(a=>a.type===r);s&&(s.options=this._tickTransformOption())}}getRawDomain(){return this._rawDomain}dataToPosition(e,t={}){var i,r;if(e.length===0||this._scales.length===0)return 0;const{position:s,bandScale:a}=this.getPosition(e);return s+a.bandwidth()*((r=(i=t.bandPosition)!==null&&i!==void 0?i:this._spec.bandPosition)!==null&&r!==void 0?r:this._defaultBandPosition)}valueToPosition(e){return this._scale.scale(e)}updateGroupScaleRange(){let e=this._scale;this._scales.forEach((t,i)=>{i>0&&(t.range([0,e.bandwidth()]),e=t)})}getPosition(e){let t=0,i=this._scale;if(this._scales.length===1||e.length===1)t=this.valueToPosition(e[0]);else{const r=Math.min(e.length,this._scales.length);for(let s=0;s<r;s++)t+=this._scales[s].scale(e[s]);i=this._scales[r-1]}return{position:t,bandScale:i}}calcScales(e,t){var i,r;const{bandPadding:s,paddingInner:a,paddingOuter:o}=this._spec,l=Oe(s),u=Oe(a),c=Oe(o);for(let d=0;d<this._scales.length;d++){const h=l?s[d]:s,f=u?a[d]:a,p=c?o[d]:o;this._scales[d].paddingInner((i=f??h)!==null&&i!==void 0?i:e,!0).paddingOuter((r=p??h)!==null&&r!==void 0?r:t,!0)}}computeBandDomain(e){if(!e.length)return[];if(e.length===1)return e[0].values;const t=new Set;for(let i=0;i<e.length;i++)for(let r=0;r<e[i].values.length;r++)t.add(e[i].values[r]);return Array.from(t)}updateScaleDomain(){var e;if(!this.isSeriesDataEnable())return;!(!((e=this._rawDomainIndex)===null||e===void 0)&&e.length)&&this._scales.length&&this._updateRawDomain();const t=this._spec.domain;for(let i=0;i<this._scales.length;i++)if(t&&t.length&&i===0)this._scales[i].domain(t);else{const r=this.collectData(i),s=this.computeBandDomain(r);this._scales[i].domain(s.sort((a,o)=>this._rawDomainIndex[i][a]-this._rawDomainIndex[i][o]))}this.transformScaleDomain(),this.event.emit(Et.scaleDomainUpdate,{model:this}),this.event.emit(Et.scaleUpdate,{model:this,value:"domain"})}getLabelItems(e){const t=[];let i=[];return(this._spec.showAllGroupLayers?this._scales:[this._scales[0]]).forEach((r,s)=>{var a;const o=this._tickDataMap[s],l=(a=o==null?void 0:o.getLatestData())===null||a===void 0?void 0:a.length,u=l?o.getLatestData().map(c=>c.value):r.domain();if(u&&u.length)if(i&&i.length){const c=[],d=[];i.forEach(h=>{u.forEach(f=>{const p=Ae(h).concat(f);if(d.push(p),l){const g=GC(f,this._getNormalizedValue(p,e));c.push(g)}})}),l&&t.push(c.filter(h=>h.value>=0&&h.value<=1)),i=d}else u.forEach(c=>{i.push(c)}),l&&t.push(o.getLatestData().map(c=>GC(c.value,this._getNormalizedValue([c.value],e))).filter(c=>c.value>=0&&c.value<=1))}),t.reverse()}_updateRawDomain(){this._rawDomainIndex=[],this._rawDomain=[];const e=this._spec.domain;for(let t=0;t<this._scales.length;t++)if(e&&e.length&&t===0)this._scales[t].domain(e);else{const i=this.collectData(t,!0),r=this.computeBandDomain(i);this._rawDomainIndex[t]={},this._rawDomain[t]=r,r.forEach((s,a)=>this._rawDomainIndex[t][s]=a)}this.event.emit(Et.scaleRawDomainUpdate,{model:this})}_clearRawDomain(){this._rawDomainIndex=[],this._rawDomain=[]}}const UIe={domainLine:{visible:!0},grid:{visible:!1},subGrid:{visible:!1},tick:{visible:!0},subTick:{visible:!1}};class sw extends v${constructor(){super(...arguments),this.type=He.cartesianBandAxis,this._scale=new Q0}computeDomain(e){return this.computeBandDomain(e)}updateScaleRange(){const e=super.updateScaleRange();return this.updateGroupScaleRange(),e}initScales(){super.initScales(),this.calcScales(this._defaultBandInnerPadding,this._defaultBandOuterPadding)}axisHelper(){const e=(t=0)=>this._scales[t];return{isContinuous:!1,dataToPosition:this.dataToPosition.bind(this),getScale:e,getBandwidth:(t=0)=>e(t).bandwidth(),getAxisType:()=>this.type,getAxisId:()=>this.id,isInverse:()=>this._inverse,getSpec:()=>this._spec}}registerTicksTransform(){const e=`${this.type}-ticks`;return rn(this._option.dataSet,e,bKt),e}transformScaleDomain(){this.updateFixedWholeLength()}updateFixedWholeLength(){if(this._scale){const{bandSize:e,maxBandSize:t,minBandSize:i}=this._getOuterBandSizeFromSpec();if(e&&this._scale.bandwidth(e),t&&this._scale.maxBandwidth(t),i&&this._scale.minBandwidth(i),this._scale.isBandwidthFixed()&&this._spec.autoRegionSize&&(e||t)){const r=v7(this._scale.domain().length,e??t,this._scale.paddingInner(),this._scale.paddingOuter());["bottom","top"].includes(this._orient)?this._regions.forEach(s=>s.setMaxWidth(r)):["left","right"].includes(this._orient)&&this._regions.forEach(s=>s.setMaxHeight(r))}}}_getOuterBandSizeFromSpec(){var e;let{bandSize:t,maxBandSize:i,minBandSize:r,bandSizeLevel:s=0}=this._spec;const{gap:a,extend:o=0}=(e=this._spec.bandSizeExtend)!==null&&e!==void 0?e:{};s=Math.min(s,this._scales.length-1);for(let l=s;l>0;l--){const u=this._scales[l],c=u.domain(),d=u.paddingInner(),h=u.paddingOuter(),f=p=>{const g=l===s?o:0;return J(a)||l<s?v7(c.length,p,d,h)+g:(p+(Jt(a)?p*(Number(a.substring(0,a.length-1))/100):a))*c.length/(this._scales[l-1].paddingInner()+1)+g};Y(t)&&(t=f(t)),Y(i)&&(i=f(i)),Y(r)&&(r=f(r))}return{bandSize:t,maxBandSize:i,minBandSize:r}}_compareSpec(e,t){const i=super._compareSpec(e,t);return i.reMake||(t==null?void 0:t.showAllGroupLayers)===(e==null?void 0:e.showAllGroupLayers)&&Oi(t==null?void 0:t.layers,e==null?void 0:e.layers)||(i.reMake=!0),i}reInit(e){super.reInit(),this==null||this._updateData()}}sw.type=He.cartesianBandAxis,sw.specKey="axes",sw.builtInTheme={axis:eS,axisBand:UIe,axisX:$M,axisY:NM},Li(sw,WIe);const Mh=()=>{ne.registerGraphicComponent(ad.lineAxis,(n,e)=>new wh(n,e)),ne.registerGraphicComponent(od.lineAxisGrid,(n,e)=>new o_(n,e)),J0(),ne.registerComponent(sw.type,sw,!1)};class IA extends cm{constructor(){super(...arguments),this.type=He.cartesianTimeAxis,this._zero=!1,this.effect={scaleUpdate:e=>{this.computeData(e==null?void 0:e.value),ts(this._regions,t=>{Kr(this.getOrient())?qd(t.getXAxisHelper(),this.axisHelper(),Y(this._seriesUserId)||Y(this._seriesIndex))&&t.setXAxisHelper(this.axisHelper()):qd(t.getYAxisHelper(),this.axisHelper(),Y(this._seriesUserId)||Y(this._seriesIndex))&&t.setYAxisHelper(this.axisHelper())},{userId:this._seriesUserId,specIndex:this._seriesIndex})}}}setAttrFromSpec(){var e;super.setAttrFromSpec(),this._tick=qt({},this._spec.tick,(e=this._spec.layers)===null||e===void 0?void 0:e[0])}_initData(){var e;if(super._initData(),(e=this._spec.layers)===null||e===void 0?void 0:e[1]){const t=new Pi(this._option.dataSet,{name:`${this.type}_${this.id}_layer_1_ticks`}).parse(this._scale,{type:"scale"}).transform({type:`${this.type}-ticks`,options:Object.assign(Object.assign({},this._tickTransformOption()),{tickCount:this._spec.layers[1].tickCount,forceTickCount:this._spec.layers[1].forceTickCount,tickStep:this._spec.layers[1].tickStep})},!1);this._layerTickData=new Zl(this._option,t)}}computeData(e){super.computeData(e),this._layerTickData&&(this._layerTickData.getDataView().reRunAllTransform(),this._layerTickData.updateData())}created(){super.created(),this._layerTickData&&(this._axisMark&&this._layerTickData.addRelatedMark(this._axisMark),this._gridMark&&this._layerTickData.addRelatedMark(this._gridMark))}_getLabelFormatMethod(){var e,t,i,r,s,a,o,l;const u=mf.getInstance(),c=((t=(e=this._spec.layers)===null||e===void 0?void 0:e[1])===null||t===void 0?void 0:t.timeFormat)||"%Y%m%d",d=(((r=(i=this._spec.layers)===null||i===void 0?void 0:i[1])===null||r===void 0?void 0:r.timeFormatMode)||"local")==="local"?u.timeFormat:u.timeUTCFormat,h=((a=(s=this._spec.layers)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.timeFormat)||"%Y%m%d",f=(((l=(o=this._spec.layers)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.timeFormatMode)||"local")==="local"?u.timeFormat:u.timeUTCFormat;return(p,g,m,v,_)=>{var y;let x;return x=_===0?f(h,p):d(c,p),!((y=this._spec.label)===null||y===void 0)&&y.formatMethod?this._spec.label.formatMethod(x,g):x}}getLabelItems(e){var t,i;const r=[],s=(t=this.getTickData())===null||t===void 0?void 0:t.getLatestData();s&&s.length&&r.push(s.map(o=>GC(o.value,this._getNormalizedValue([o.value],e))));const a=(i=this._layerTickData)===null||i===void 0?void 0:i.getLatestData();return a&&a.length&&r.push(a.map(o=>GC(o.value,this._getNormalizedValue([o.value],e)))),r}registerTicksTransform(){const e=`${this.type}-ticks`;return rn(this._option.dataSet,e,kM),e}transformScaleDomain(){}}IA.type=He.cartesianTimeAxis,IA.specKey="axes",IA.builtInTheme={axis:eS,axisX:$M,axisY:NM};const uQt=()=>{ne.registerGraphicComponent(ad.lineAxis,(n,e)=>new wh(n,e)),ne.registerGraphicComponent(od.lineAxisGrid,(n,e)=>new o_(n,e)),J0(),ne.registerComponent(IA.type,IA)};class aw extends cm{constructor(){super(...arguments),this.type=He.cartesianLogAxis,this._zero=!1,this._scale=new kz}initScales(){var e;super.initScales(),this._scale.base((e=this._spec.base)!==null&&e!==void 0?e:10),this._scale.clamp(!0,null,!1)}registerTicksTransform(){const e=`${this.type}-ticks`;return rn(this._option.dataSet,e,kM),e}transformScaleDomain(){}}aw.type=He.cartesianLogAxis,aw.specKey="axes",aw.builtInTheme={axis:eS,axisLinear:Zz,axisX:$M,axisY:NM},Li(aw,qz);const cQt=()=>{ne.registerGraphicComponent(ad.lineAxis,(n,e)=>new wh(n,e)),ne.registerGraphicComponent(od.lineAxisGrid,(n,e)=>new o_(n,e)),J0(),ne.registerComponent(aw.type,aw)};class ow extends cm{constructor(){super(...arguments),this.type=He.cartesianSymlogAxis,this._zero=!1,this._scale=new Oz}initScales(){var e;super.initScales(),this._scale.constant((e=this._spec.constant)!==null&&e!==void 0?e:10)}registerTicksTransform(){const e=`${this.type}-ticks`;return rn(this._option.dataSet,e,kM),e}transformScaleDomain(){}}ow.type=He.cartesianSymlogAxis,ow.specKey="axes",ow.builtInTheme={axis:eS,axisLinear:Zz,axisX:$M,axisY:NM},Li(ow,qz);const dQt=()=>{ne.registerGraphicComponent(ad.lineAxis,(n,e)=>new wh(n,e)),ne.registerGraphicComponent(od.lineAxisGrid,(n,e)=>new o_(n,e)),J0(),ne.registerComponent(ow.type,ow)},qO=`${Xt}_hide_`;function Qz(n,e){n.context.finalAttrs&&(n.context.finalAttrs.visible=e)}function hQt(n){return n.forEach(e=>{e[qO]&&(Qz(e,!0),e[qO]=!1)}),n}function fQt(n,e,t){let i=-1/0,r=0;const s=J(e);let a=e;n.forEach(o=>{if(o.context.finalAttrs.visible===!1)return;const l=o.context.finalAttrs.size/2,u=o.context.finalAttrs.x;s&&(a=(l+r)*t),Math.abs(u-i)<a+r+l?o.context.finalAttrs.forceShow||(o[qO]=!0,Qz(o,!1)):i=u,r=l})}function pQt(n,e,t){let i=-1/0,r=0;const s=J(e);let a=e;n.forEach(o=>{if(o.context.finalAttrs.visible===!1)return;const l=o.context.finalAttrs.size/2,u=o.context.finalAttrs.y;s&&(a=(l+r)*t),Math.abs(u-i)<a+r+l?o.context.finalAttrs.forceShow||(o[qO]=!0,Qz(o,!1)):i=u,r=l})}function gQt(n,e,t){let i=-1/0,r=0,s=0;const a=J(e);let o=e;n.forEach(l=>{if(l.context.finalAttrs.visible===!1)return;const u=l.context.finalAttrs.size/2,{x:c,y:d}=l.context.finalAttrs;a&&(o=(u+r)*t),s=(-1/0-c)**2+(i-d)**2,s<(o+r+u)**2?l.context.finalAttrs.forceShow||(l[qO]=!0,Qz(l,!1)):i=d,r=u})}const mQt=(n,e)=>{if(!e||e.length===0)return e;const{direction:t,delta:i,deltaMul:r=1,groupBy:s}=n,a=o=>{hQt(o);const l=n.sort?o.slice().sort((u,c)=>u.context.finalAttrs.x-c.context.finalAttrs.x):o;t===0?gQt(l,i,r):t===1?fQt(l,i,r):pQt(l,i,r)};if(s){const o=e.reduce((l,u)=>{var c,d;const h=(d=(c=u.context.data)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d[s];return l[h]?l[h].push(u):l[h]=[u],l},{});Object.keys(o).forEach(l=>{a(o[l])})}else a(e);return e},GIe=()=>{ne.registerGrammarTransform("symbolOverlap",{transform:mQt,runType:"afterEncode"})},vQt={min:Sa,max:js,average:JZ,sum:QZ};function yQt(n,e,t,i){const r=Math.floor(e.length/n),s=[],a=e.length;let o,l,u,c=0,d=0;s[d++]=c;for(let h=1;h<a-1;h+=r){const f=Math.min(h+r,a-1),p=Math.min(h+2*r,a),g=(p+f)/2;let m=0;for(let w=f;w<p;w++){const T=e[w][i];Number.isNaN(T)||(m+=T)}m/=p-f;const v=h,_=Math.min(h+r,a),y=h-1,x=e[c][i];o=-1,u=v;for(let w=v;w<_;w++){const T=e[w][i];Number.isNaN(i)||(l=Math.abs((y-g)*(T-x)-(y-w)*(m-x)),l>o&&(o=l,u=w))}s[d++]=u,c=u}return s[d-1]!==a-1&&(s[d++]=a-1),s.map(h=>t?e[h].i:h)}function Jz(n,e,t,i,r){let s=Math.floor(e.length/n);const a=[],o=e.length;let l=0,u=[];a.push(l),e[l][r]=e[l][r];for(let c=1;c<o-1;c+=s){s>o-c&&(s=o-c,u.length=s),u=[];for(let h=0;h<s;h++)u.push(e[c+h][r]);const d=vQt[i](u);l=Math.min(Math.round(c+u.length/2)||0,o-1),e[l][r]=d,a.push(l)}return a.map(c=>t?e[c].i:c)}function _Qt(n,e,t,i){return Jz(n,e,t,"min",i)}function bQt(n,e,t,i){return Jz(n,e,t,"max",i)}function SQt(n,e,t,i){return Jz(n,e,t,"average",i)}function xQt(n,e,t,i){return Jz(n,e,t,"sum",i)}const wQt=(n,e)=>{let t=Re(n.size)?n.size():n.size;const i=n.factor||1;if(Array.isArray(t)&&(t=Math.floor(t[1]-t[0])),t*=i,t<=0)return[];if(e.length<=t)return e;if(n.skipfirst)return e.slice(0,1);const{mode:r,yfield:s,groupBy:a}=n,o=s??"y";let l=yQt;if(r==="min"?l=_Qt:r==="max"?l=bQt:r==="average"?l=SQt:r==="sum"&&(l=xQt),e.length){const u={};if(a){for(let d=0,h=e.length;d<h;d++){const f=e[d],p=f[a];u[p]?u[p].push({[o]:f[o],i:d}):(u[p]=[],u[p].push({[o]:f[o],i:d}))}let c=[];return Object.keys(u).forEach(d=>{const h=u[d];if(h.length<=t){const f=h.map(p=>p.i);c=c.concat(f)}else{const f=l(t,h,!0,o);c=c.concat(f),h.forEach(p=>e[p.i][o]=p[o])}}),c.sort((d,h)=>d-h),c.map(d=>e[d])}return l(t,e,!1,o).map(c=>e[c])}return[]},xQ=()=>{ne.registerGrammarTransform("dataSampling",{transform:wQt})},CQt={label:{visible:!1,position:"top",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},point:{style:{symbolType:"circle"}}};class mb extends Oh{constructor(){super(...arguments),this.type=Ye.line,this.transformerConstructor=FM,this._sortDataByAxis=!1}compile(){super.compile(),this.addSamplingCompile(),this.addOverlapCompile()}initMark(){var e;const t=(e=this._spec.seriesMark)!==null&&e!==void 0?e:"line";this.initLineMark(t==="line"),this.initSymbolMark(t==="point")}initTooltip(){super.initTooltip();const{group:e,mark:t}=this._tooltipHelper.activeTriggerSet;this._lineMark&&e.add(this._lineMark),this._symbolMark&&(t.add(this._symbolMark),e.add(this._symbolMark))}initMarkStyle(){this.initLineMarkStyle(this._direction),this.initSymbolMarkStyle()}initAnimation(){var e,t,i,r;const s={direction:this.direction},a=(t=(e=this._spec)===null||e===void 0?void 0:e.animationAppear)===null||t===void 0?void 0:t.preset;if(this._lineMark.setAnimationConfig(ei((i=ne.getAnimationInKey("line"))===null||i===void 0?void 0:i(s,a),_i("line",this._spec,this._markAttributeContext))),this._symbolMark){const o=c_(this);this._symbolMark.setAnimationConfig(ei((r=ne.getAnimationInKey("scaleInOut"))===null||r===void 0?void 0:r(),_i("point",this._spec,this._markAttributeContext),o))}}onLayoutEnd(){super.onLayoutEnd(),this.reCompileSampling()}getSeriesStyle(e){var t;const i=((t=this._spec)===null||t===void 0?void 0:t.seriesMark)!=="point";return r=>{var s,a;return i&&r==="fill"&&(r="stroke"),(a=(s=this._seriesMark)===null||s===void 0?void 0:s.getAttribute(r,e))!==null&&a!==void 0?a:void 0}}getDefaultShapeType(){return"circle"}getActiveMarks(){return[this._lineMark,this._symbolMark]}}mb.type=Ye.line,mb.mark=kZt,mb.builtInTheme={line:CQt},mb.transformerConstructor=FM,Li(mb,mQ);const TQt=()=>{xQ(),GIe(),Yz(),Qm(),AIe(),Uz(),Mh(),Ph(),ne.registerSeries(mb.type,mb)};class EQt{get dataList(){return this._dataArr}constructor(e){this._dataArr=[],this._dataSet=e}parseData(e){this._dataArr=[];const t=Ae(e);for(let i=0;i<t.length;i++)this._dataArr.push(lQ(t[i],this._dataSet,this._dataArr))}updateData(e,t=!1,i=!0){const r=Ae(e);return(!t||r.length===this._dataArr.length)&&(this._dataValueForEach(r,(s,a)=>{a.markRunning()}),this._dataValueForEach(r,(s,a)=>{uQ(a,s,i)}),!0)}_dataValueForEach(e,t){e.forEach((i,r)=>{if(i instanceof Pi)return;const s=this.getSeriesData(i.id,r);s&&t(i,s,r)})}getSeriesData(e,t){if(!this._dataArr.length)return null;if(typeof e=="string"){const i=this._dataArr.filter(r=>r.name===e);if(i[0])return i[0];fc(`no data matches dataId ${e}!`)}if(typeof t=="number"){if(this._dataArr[t])return this._dataArr[t];fc(`no data matches dataIndex ${t}!`)}return this._dataArr[0]}}class AQt{constructor(e,t){this._scaleSpecMap=new Map,this._scaleMap=new Map,this._modelScaleSpecMap=new Map,this._markAttributeScaleMap=new Map,this._spec=null,this._chart=null,this.getStatisticalFields=i=>{const r=[];return this._scaleSpecMap.forEach((s,a)=>{Qx(s.domain)&&s.domain.forEach(o=>{o.dataId===i&&o.fields.forEach(l=>{Uw(r,[{key:l,operations:Ei(s.type)?["max","min"]:["values"]}])})})}),this._markAttributeScaleMap.forEach((s,a)=>{const o=this.getScale(a);s.forEach(l=>{this._getSeriesBySeriesId(l.seriesId).getRawData().name===i&&l.field&&Uw(r,[{key:l.field,operations:Ei(o.type)?["max","min"]:["values"]}])})}),r},this._spec=e,this._chart=t,this._setAttrFromSpec()}_createFromSpec(e){if(!e.id)return null;let t=this._scaleMap.get(e.id);return t||(t=e.type==="ordinal"&&e.id==="color"?A7("colorOrdinal"):A7(e.type)),t?(Oe(e.range)&&t.range(e.range),Oe(e.domain)&&(Qx(e.domain)||t.domain(e.domain)),e.specified&&t.specified&&t.specified(e.specified),e.clamp&&t.clamp&&t.clamp(e.clamp),t):null}_setAttrFromSpec(){var e;if(!(!((e=this._spec)===null||e===void 0)&&e.length))return;const t=new Map,i=new Map;this._spec.forEach(r=>{const s=this._createFromSpec(r);s&&(t.set(r.id,s),i.set(r.id,r))}),this._modelScaleSpecMap.forEach(r=>{const s=this._createFromSpec(r);s&&(t.set(r.id,s),i.set(r.id,r))}),this._scaleSpecMap=i,this._scaleMap=t}updateSpec(e){const t={change:!1,reMake:!1,reRender:!1,reSize:!1,reCompile:!1};if(Oi(e,this._spec))return t;t.change=!0;for(let i=0;i<e.length;i++){const r=e[i],s=this._scaleMap.get(r.id);if(!s)return t.reMake=!0,t;const a=this._spec.find(o=>o.id===r.id);if(!a.id||a.type!==r.type||!Oi(a.specified,r.specified))return t.reMake=!0,t;r.range&&!Oi(r.range,s.range())&&(s.range(r.range),t.reRender=!0),Qx(r.domain)?t.reRender=!0:Oi(r.domain,s.domain())||(s.domain(r.domain),t.reRender=!0),this._scaleSpecMap.set(r.id,r)}return this._spec=e,t}registerModelScale(e){const t=this._createFromSpec(e);t&&(this._modelScaleSpecMap.set(e.id,e),this._scaleSpecMap.set(e.id,e),this._scaleMap.set(e.id,t))}removeModelScale(e){this._modelScaleSpecMap.forEach(t=>{e(t)&&(this._modelScaleSpecMap.delete(t.id),this._scaleSpecMap.delete(t.id),this._scaleMap.delete(t.id))})}getScale(e){return this._scaleMap.get(e)}getScaleSpec(e){return this._scaleSpecMap.get(e)}_getSeriesByRawDataId(e){const t=this._chart.getAllSeries();for(let i=0;i<t.length;i++){const r=t[i];if(r.getRawData().name===e)return r}return null}_getSeriesBySeriesId(e){const t=this._chart.getAllSeries();for(let i=0;i<t.length;i++){const r=t[i];if(r.id===e)return r}return null}updateScaleDomain(e){this._scaleSpecMap.forEach((t,i)=>{const r=this._scaleMap.get(i);if(!r)return;if(!Qx(t.domain))return t.domain&&t.domain.length!==0||r.domain(e),void this._updateMarkScale(i,r,r.domain().slice());let s;s=Ei(t.type)?[null,null]:new Set,t.domain.forEach(o=>{const l=this._getSeriesByRawDataId(o.dataId);if(!l)return;const u=Ei(t.type);o.fields.forEach(c=>{const d=l.getRawDataStatisticsByField(c,u);d&&(u?(J(s[0])?s[0]=d.min:s[0]=Math.min(d.min,s[0]),J(s[1])?s[1]=d.max:s[1]=Math.max(d.max,s[1])):d.values.forEach(h=>{s.add(h)}))})});const a=s;Ei(t.type)||(s=Array.from(s)),r.domain(s),this._updateMarkScale(i,r,a)})}_updateMarkScale(e,t,i){const r=this._markAttributeScaleMap.get(e);r&&r.length!==0&&r.forEach(s=>{if(!s.field||!s.markScale||s.markScale===t)return;if(J(s.changeDomain)||s.changeDomain==="none"||J(s.seriesId))return void(Ei(t.type)?s.markScale.domain(i):t.domain(Array.from(i)));const a=this._getSeriesBySeriesId(s.seriesId),o=Ei(t.type),l=a.getRawDataStatisticsByField(s.field,o);if(!Lt(l))return s.changeDomain==="expand"?(o?(i[0]=Math.min(i[0],l.min),i[1]=Math.max(i[1],l.max)):(l.values.forEach(u=>{i.add(u)}),i=Array.from(i)),void s.markScale.domain(i)):void(s.changeDomain!=="replace"||(o?s.markScale.domain([l.min,l.max]):s.markScale.domain(l.values)));Ei(t.type)?s.markScale.domain(i):t.domain(Array.from(i))})}registerMarkAttributeScale(e,t){const i=this._scaleMap.get(e.scale);let r=this._markAttributeScaleMap.get(e.scale);r||(r=[],this._markAttributeScaleMap.set(e.scale,r));let s=i;return(J(e.field)||!J(e.changeDomain)&&e.changeDomain!=="none"&&!J(t))&&(s=i.clone()),r.push(Object.assign(Object.assign({},e),{seriesId:t,markScale:s})),s}}class kQt{constructor(){this._stateGraphicsByTrigger=new Map,this._disableTriggerEvent=!1,this._triggerMapByState=new Map}setDisableActiveEffect(e){this._disableTriggerEvent=e}addTrigger(e){e&&[e.getStartState(),e.getResetState()].forEach(t=>{if(t){const i=this._triggerMapByState.get(t);i?!i.includes(e)&&i.push(e):this._triggerMapByState.set(t,[e])}})}setStatedGraphics(e,t){this._stateGraphicsByTrigger.set(e,t)}getStatedGraphics(e){return this._stateGraphicsByTrigger.get(e)}updateStates(e,t,i,r,s){return this._disableTriggerEvent?[]:t&&t.length?(r&&s?i&&i.length?(this.toggleReverseStateOfGraphics(e,t,i,s),this.toggleStateOfGraphics(e,t,i,r)):this.addBothStateOfGraphics(e,t,r,s):r&&(i&&i.length?this.toggleStateOfGraphics(e,t,i,r):this.addStateOfGraphics(e,t,r)),t):[]}toggleReverseStateOfGraphics(e,t,i,r){const s=e.getMarkIdByState();i.forEach(a=>{var o;if(r&&s[r]&&s[r].includes(a.context.markId)){const l=(o=a.parent)===null||o===void 0?void 0:o.mark,u=l.hasAnimationByState&&l.hasAnimationByState("state");a.addState(r,!0,u)}}),t.forEach(a=>{var o;if(r&&s[r]&&s[r].includes(a.context.markId)){const l=(o=a.parent)===null||o===void 0?void 0:o.mark,u=l.hasAnimationByState&&l.hasAnimationByState("state");a.removeState(r,u)}})}toggleStateOfGraphics(e,t,i,r){const s=e.getMarkIdByState();i.forEach(a=>{var o;if(r&&s[r]&&s[r].includes(a.context.markId)){const l=(o=a.parent)===null||o===void 0?void 0:o.mark,u=l.hasAnimationByState&&l.hasAnimationByState("state");a.removeState(r,u)}}),t.forEach(a=>{var o;if(r&&s[r]&&s[r].includes(a.context.markId)){const l=(o=a.parent)===null||o===void 0?void 0:o.mark,u=l.hasAnimationByState&&l.hasAnimationByState("state");a.addState(r,!0,u)}})}addBothStateOfGraphics(e,t,i,r){const s=e.getMarks(),a=e.getMarkIdByState();s.forEach(o=>{var l;const u=r&&a[r]&&a[r].includes(o.id),c=i&&a[i]&&a[i].includes(o.id);if(!u&&!c)return;const d=o.hasAnimationByState&&o.hasAnimationByState("state");(l=o.getGraphics())===null||l===void 0||l.forEach(h=>{t&&t.includes(h)?c&&h.addState(i,!0,d):u&&h.addState(r,!0,d)})})}addStateOfGraphics(e,t,i){const r=e.getMarks(),s=e.getMarkIdByState();r.forEach(a=>{var o;const l=i&&s[i]&&s[i].includes(a.id);if(!l)return;const u=a.hasAnimationByState&&a.hasAnimationByState("state");(o=a.getGraphics())===null||o===void 0||o.forEach(c=>{t&&t.includes(c)&&l&&c.addState(i,!0,u)})})}clearAllStatesOfTrigger(e,t,i){if(this._disableTriggerEvent)return;const r=this.getStatedGraphics(e);if(!r||!r.length)return;const s=e.getMarks(),a=e.getMarkIdByState();s.forEach(o=>{if(o){const l=o.getGraphics(),u=o.hasAnimationByState&&o.hasAnimationByState("state");l&&l.length&&(i&&a[i]&&a[i].includes(o.id)&&l.forEach(c=>{c.removeState(i,u)}),t&&a[t]&&a[t].includes(o.id)&&l.forEach(c=>{r.includes(c)&&c.removeState(t,u)}))}})}clearAllStates(){this._disableTriggerEvent||this._triggerMapByState.forEach((e,t)=>{e.forEach(i=>{this.clearAllStatesOfTrigger(i,t,i.getResetState())})})}clearByState(e){if(this._disableTriggerEvent)return;const t=this._triggerMapByState.get(e);t&&t.length&&t.forEach(i=>{this.clearAllStatesOfTrigger(i,e,i.getResetState()),this.setStatedGraphics(i,[])})}updateStateOfGraphics(e,t){if(this._disableTriggerEvent)return;const i=this._triggerMapByState.get(e);i&&i.length&&i.forEach(r=>{const s=t.filter(a=>r.getMarks().some(o=>{const l=o&&o.getGraphics();return l&&l.includes(a)}));this.updateStates(r,s,this.getStatedGraphics(r),r.getStartState(),r.getResetState()),this.setStatedGraphics(r,s)})}}var Gge=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};class As extends jz{getSpec(){return this._spec}setSpec(e){this._spec=e}getOption(){return this._option}getLayoutRect(){return this._layoutRect}getViewRect(){return this._viewRect}getLayoutTag(){return this._layoutTag}setLayoutTag(e,t,i=!0){this._layoutTag=e;const r=this.getCompiler();return r&&(r.updateLayoutTag(),e&&i&&r.renderNextTick(t)),this._layoutTag}resetLayoutItemTag(){this.getLayoutElements().forEach(e=>e.setWillLayoutTag())}getModelOption(){return this._modelOption}getGlobalScale(){return this._globalScale}getEvent(){return this._event}get chartData(){return this._chartData}_setModelOption(){}constructor(e,t){var i,r,s,a;super(t),this.type="chart",this.id=W1(),this._regions=[],this._series=[],this._components=[],this._layoutRect={x:0,y:0,width:iw,height:rw},this._viewRect={width:iw,height:rw},this._viewBox={x1:0,y1:0,x2:iw,y2:rw},this._layoutTag=!0,this._idMap=new Map,this.state={layoutUpdateRank:1},this.padding={top:0,left:0,right:0,bottom:0},this.getAllSeries=()=>{var o;return(o=this._series)!==null&&o!==void 0?o:[]},this.getRegionsInIndex=o=>o&&o.length!==0?this._regions.filter((l,u)=>o.includes(u)):[this._regions[0]],this.getAllRegions=()=>this._regions,this.getRegionsInIds=o=>o?this._regions.filter(l=>o.includes(l.id)):[],this.getRegionsInQuerier=o=>o?this._regions.filter((l,u)=>Ae(o).some(c=>Y(c.regionId)&&c.regionId===l.userId||c.regionIndex===u)):this._regions,this.getRegionsInUserId=o=>{if(o)return this._regions.find(l=>l.userId===o)},this.getRegionsInUserIdOrIndex=(o,l)=>this.getAllRegions().filter(u=>o!=null&&o.length?u.userId&&o.includes(u.userId):!(l!=null&&l.length)||l.includes(u.getSpecIndex())),this.getComponents=()=>this._components,this.getSeriesInIndex=o=>o&&o.length!==0?this._series.filter((l,u)=>o.includes(u)):[this._series[0]],this.getSeriesInIds=o=>o?this._series.filter(l=>o.includes(l.id)):[],this.getSeriesInUserId=o=>{if(o)return this._series.find(l=>l.userId===o)},this.getSeriesInUserIdOrIndex=(o,l)=>this.getAllSeries().filter(u=>o!=null&&o.length?u.userId&&o.includes(u.userId):!(l!=null&&l.length)||l.includes(u.getSpecIndex())),this.getComponentByIndex=(o,l)=>{const u=this._components.filter(c=>(c.specKey||c.type)===o);if(u&&u.length!==0)return u[l]},this.getComponentsByKey=o=>this._components.filter(l=>(l.specKey||l.type)===o),this.getComponentByUserId=o=>{const l=this._components.find(u=>u.userId===o);if(l)return l},this.getComponentsByType=o=>this._components.filter(l=>l.type===o),this._paddingSpec=HC((i=e.padding)!==null&&i!==void 0?i:t.getTheme("padding")),this._event=new oQ(t.eventDispatcher,t.mode),this._dataSet=t.dataSet,this._chartData=new EQt(this._dataSet),this._modelOption=Object.assign(Object.assign({},t),{mode:this._option.mode,map:this._idMap,getChartLayoutRect:()=>this._layoutRect,getChartViewRect:()=>this._viewRect,getChart:()=>this,globalScale:this._globalScale,onError:(r=this._option)===null||r===void 0?void 0:r.onError,disableTriggerEvent:((s=this._option)===null||s===void 0?void 0:s.disableTriggerEvent)===!0,componentShowContent:(a=this._option)===null||a===void 0?void 0:a.componentShowContent,getSeriesData:this._chartData.getSeriesData.bind(this._chartData),dispatchEvent:(o,l)=>this._option.globalInstance.event.emit(o,l)}),this._setModelOption&&this._setModelOption(),this._spec=e}created(e){this._chartData.parseData(this._spec.data),this._createGlobalScale(),this._createBackground(),this._createLayout(),e.forEachRegionInSpec(this._spec,this._createRegion.bind(this)),e.forEachSeriesInSpec(this._spec,this._createSeries.bind(this)),e.forEachComponentInSpec(this._spec,this._createComponent.bind(this),this._option.getSpecInfo())}_initInteractions(){if(this._option.disableTriggerEvent)return;this._interaction=new kQt;const e=this.getAllSeries(),t=[],i={};e.forEach(r=>{const s=r.getInteractionTriggers();if(s&&s.length){const a=r.getRegion().id;s.forEach(({trigger:o,marks:l})=>{const u=`${a}-${o.type}`;i[u]?l.forEach(c=>{i[u].marks.push(c)}):(i[u]=Object.assign(Object.assign({},o),{marks:l}),t.push(i[u]))})}}),t.forEach(r=>{const s=ne.createInteractionTrigger(r.type,Object.assign(Object.assign({},r),{event:this._event,interaction:this._interaction}));s&&(s.init(),this._interaction.addTrigger(s))})}init(){var e,t;(e=this._beforeInit)===null||e===void 0||e.call(this),this._regions.forEach(i=>i.init({})),this._series.forEach(i=>i.init({})),this._components.forEach(i=>i.init({dataSet:this._dataSet})),this._initEvent(),(t=this._initStack)===null||t===void 0||t.call(this),this.reDataFlow(),this._initInteractions()}reDataFlow(){this._series.forEach(e=>{var t;return(t=e.getRawData())===null||t===void 0?void 0:t.markRunning()}),this._series.forEach(e=>e.fillData()),this.updateGlobalScaleDomain()}onResize(e,t,i=!0){const r={width:e,height:t};this._canvasRect=r,this._updateLayoutRect(this._option.viewBox),this.resetLayoutItemTag(),this.setLayoutTag(!0,null,i)}updateViewBox(e,t){this._option.viewBox=e,this._updateLayoutRect(e),this.resetLayoutItemTag(),this.setLayoutTag(!0,null,t)}_createBackground(){const e=this._spec.background;if(!e||typeof e!="object"||Y(e.gradient))return;const t=By(e,["x","y","width","height","x1","y1","image"]);t.background=e.image,this._backgroundMark=ne.createMark("group","chart-background",{model:this,map:this._option.map,getCompiler:this.getCompiler,globalScale:this._globalScale}),this._backgroundMark.created(),this._backgroundMark.setStyle(Object.assign(Object.assign({},t),{x:()=>this._viewBox.x1,y:()=>this._viewBox.y1,width:()=>this._viewBox.x2-this._viewBox.x1,height:()=>this._viewBox.y2-this._viewBox.y1})),this._backgroundMark.setMarkConfig({zIndex:ji.SeriesGroup-2}),this.getCompiler().addRootMark(this._backgroundMark)}_createRegion(e,t){if(!e)return;const{spec:i}=t,r=Gge(t,["spec"]),s=new e(i,Object.assign(Object.assign({},this._modelOption),r));s&&(s.created(),this._regions.push(s))}_createSeries(e,t){if(!e)return;const{spec:i}=t,r=Gge(t,["spec"]);let s;if(Y(i.regionId)?s=this.getRegionsInUserId(i.regionId):Y(i.regionIndex)&&(s=this.getRegionsInIndex([i.regionIndex])[0]),!s&&!(s=this._regions[0]))return;const a=new e(i,Object.assign(Object.assign(Object.assign({},this._modelOption),r),{type:i.type,region:s,globalScale:this._globalScale,sourceDataList:this._chartData.dataList}));a&&(a.created(),this._series.push(a),s.addSeries(a))}getSeriesById(e){return this._series.find(t=>t.id===e)}_createComponent(e,t){const i=e.createComponent(t,Object.assign(Object.assign({},this._modelOption),{type:e.type,getAllRegions:this.getAllRegions,getRegionsInIndex:this.getRegionsInIndex,getRegionsInIds:this.getRegionsInIds,getRegionsInUserIdOrIndex:this.getRegionsInUserIdOrIndex,getAllSeries:this.getAllSeries,getSeriesInIndex:this.getSeriesInIndex,getSeriesInIds:this.getSeriesInIds,getSeriesInUserIdOrIndex:this.getSeriesInUserIdOrIndex,getAllComponents:this.getComponents,getComponentByIndex:this.getComponentByIndex,getComponentByUserId:this.getComponentByUserId,getComponentsByKey:this.getComponentsByKey,getComponentsByType:this.getComponentsByType}));i&&(i.created(),this._components.push(i))}getAllComponents(){return this._components}getAllModels(){return[].concat(this.getAllSeries(),this.getAllComponents(),this.getAllRegions())}getModelInFilter(e){if(Jt(e))return this.getAllModels().find(i=>i.userId===e);if(Re(e))return this.getAllModels().find(i=>e(i));let t=0;return this.getAllModels().find(i=>{var r;if(((r=i.specKey)!==null&&r!==void 0?r:i.type)===e.type){if(t===e.index)return!0;t++}return!1})}_createLayout(){this._updateLayoutRect(this._option.viewBox),this._initLayoutFunc()}setLayout(e){this._option.layout=e,this._initLayoutFunc()}_initLayoutFunc(){var e,t,i;if(this._layoutFunc=this._option.layout,!this._layoutFunc){const r=ne.getLayoutInKey((t=(e=this._spec.layout)===null||e===void 0?void 0:e.type)!==null&&t!==void 0?t:"base");if(r){const s=new r(this._spec.layout,{onError:(i=this._option)===null||i===void 0?void 0:i.onError});this._layoutFunc=s.layoutItems.bind(s)}}}layout(){var e,t,i,r;if((t=(e=this._option.performanceHook)===null||e===void 0?void 0:e.beforeLayoutWithSceneGraph)===null||t===void 0||t.call(e,this._option.globalInstance),this.getLayoutTag()){this._event.emit(Et.layoutStart,{chart:this,vchart:this._option.globalInstance}),this.onLayoutStart();const s=this.getLayoutElements();this._layoutFunc(this,s,this._layoutRect,this._viewBox),this._event.emit(Et.afterLayout,{elements:s,chart:this}),this.setLayoutTag(!1),this.onLayoutEnd(),this._event.emit(Et.layoutEnd,{chart:this,vchart:this._option.globalInstance})}(r=(i=this._option.performanceHook)===null||i===void 0?void 0:i.afterLayoutWithSceneGraph)===null||r===void 0||r.call(i,this._option.globalInstance)}onLayoutStart(){this.getAllModels().forEach(e=>e.onLayoutStart(this._layoutRect,this._viewRect))}onLayoutEnd(){this.getAllModels().forEach(e=>{e.modelType!=="series"&&e.onLayoutEnd()})}onEvaluateEnd(e){[...this._components,...this._regions,...this._series].forEach(t=>t.onEvaluateEnd(e))}onBeforeRender(){[...this._components,...this._regions,...this._series].forEach(e=>e.onBeforeRender())}getLayoutElements(){return this.getAllModels().map(e=>e.layout).filter(e=>!!e)}getModelById(e){const t=this._idMap.get(e);if(t&&t instanceof cQ)return t}getModelByUserId(e){const t=this.getSeriesInUserId(e);if(t)return t;const i=this.getRegionsInUserId(e);return i||this.getComponentByUserId(e)||void 0}getAllMarks(){return Array.from(this._idMap.values()).filter(e=>e&&e instanceof Mu)}getMarkById(e){const t=this._idMap.get(e);if(t&&t instanceof Mu)return t}getMarkByUserName(e){return this.getAllMarks().filter(t=>t.name&&t.name===e)}updateData(e,t,i=!0,r){const s=this._dataSet.getDataView(e);s&&(s.markRunning(),s.parseNewData(t,r)),i&&this.updateGlobalScaleDomain(),this.getAllModels().forEach(a=>a.onDataUpdate())}updateFullData(e,t=!0){Ae(e).forEach(i=>{const r=this._dataSet.getDataView(i.id);r&&r.markRunning()}),Ae(e).forEach(i=>{const r=this._dataSet.getDataView(i.id);r&&uQ(r,i,!0)}),t&&this.updateGlobalScaleDomain(),this.getAllModels().forEach(i=>i.onDataUpdate())}setCanvasRect(e,t){this._canvasRect={width:e,height:t}}getCanvasRect(){return this._canvasRect||(this._canvasRect=gIe(this._spec,this._option,{width:iw,height:rw})),this._canvasRect}getSeriesData(e,t){return this._chartData.getSeriesData(e,t)}_transformSpecScale(){var e;const t=this._spec.scales?[...this._spec.scales]:[];let i=t.find(s=>s.id==="color");const r=this.getColorScheme();if(!i&&(i={type:"ordinal",id:"color",domain:null,range:null},t.push(i),this._spec.color)){const s=this._spec.color;if(Oe(s))i.range=s;else{const a=s;Object.prototype.hasOwnProperty.call(a,"type")&&(i.type=a.type),Object.prototype.hasOwnProperty.call(a,"domain")&&(i.domain=a.domain),Object.prototype.hasOwnProperty.call(a,"range")&&(i.range=a.range),Object.prototype.hasOwnProperty.call(a,"specified")&&(i.specified=a.specified),Object.prototype.hasOwnProperty.call(a,"clamp")&&(i.clamp=a.clamp)}}return!((e=i.range)===null||e===void 0)&&e.length||(i.range=HO(r),i.rangeTheme=!0),t}_createGlobalScale(){this._globalScale=new AQt(this._transformSpecScale(),this),this._modelOption.globalScale=this._globalScale}updateGlobalScaleDomain(){const e=new Set;this._series.forEach(i=>{const r=i.getSeriesKeys();r&&r.forEach(s=>e.add(s))});const t=Array.from(e);this._globalScale.updateScaleDomain(t)}updateGlobalScale(e){Cx(e,this._globalScale.updateSpec(this._transformSpecScale()))}updateGlobalScaleTheme(){const e=this._globalScale.getScaleSpec("color"),t=this.getColorScheme();e.rangeTheme&&(e.range=HO(t),this._globalScale.getScale("color").range(e.range))}_getSpecKeys(e){const t={width:!0,height:!0};return Object.keys(e).filter(i=>!t[i]).sort()}updateSpec(e){const t={change:!1,reMake:!1,reRender:!1,reSize:!1,reCompile:!1};if(this.setLayoutTag(!0,null,!1),e.type!==this.type)return t.reMake=!0,t;const i=this._getSpecKeys(this._spec),r=this._getSpecKeys(e);if(!Oi(i,r))return t.reMake=!0,t;for(let a=0;a<i.length;a++){const o=i[a];if(Oe(this._spec[o])&&this._spec[o].length!==Ae(e[o]).length)return t.reMake=!0,t}const s=this._spec;return this._spec=e,this.updateChartConfig(t,s),t.reMake?t:(this.updateGlobalScale(t),t.reMake?t:(this.updateRegionSpec(t),t.reMake?t:(this.updateComponentSpec(t),t.reMake||(this.updateSeriesSpec(t),t.reMake||(this.reInit(),this.updateDataSpec(),this.updateGlobalScaleDomain())),t)))}updateChartConfig(e,t){var i,r;this._paddingSpec=HC((i=this._spec.padding)!==null&&i!==void 0?i:(r=this._option)===null||r===void 0?void 0:r.getTheme("padding")),this._updateLayoutRect(this._viewBox)}updateDataSpec(){this._spec.data&&this._chartData.updateData(this._spec.data,!1,!0)}updateRegionSpec(e){var t;!((t=this._spec)===null||t===void 0)&&t.region&&(this._spec.region.length===this._regions.length?this._regions.forEach(i=>{Cx(e,i.updateSpec(this._spec.region[i.getSpecIndex()]))}):e.reMake=!0)}updateComponentSpec(e){const t={},i={[He.title]:!0,[He.brush]:!0,[He.indicator]:!0};this._components.forEach(s=>{var a,o;if(s.type===He.label||s.type===He.totalLabel)return;i[s.type]&&(i[s.type]=!1);const l=s.specKey||s.type,u=(a=this._spec[l])!==null&&a!==void 0?a:{};Oe(u)?(t[l]=t[l]||{specCount:u.length,componentCount:0},t[l].componentCount++,Cx(e,s.updateSpec((o=u[s.getSpecIndex()])!==null&&o!==void 0?o:{},u))):Cx(e,s.updateSpec(u))});for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)){const a=t[s];a.componentCount!==a.specCount&&(e.reMake=!0)}const r=s=>s&&s.visible!==!1;Object.keys(i).forEach(s=>{if(i[s]){const a=this._spec[s];(Oe(a)?a.some(r):r(a))&&(e.reMake=!0)}})}updateSeriesSpec(e){this._spec.series.length===this._series.length?this._series.forEach(t=>{const i=this._spec.series[t.getSpecIndex()];Cx(e,t.updateSpec(i))}):e.reMake=!0}getCanvas(){var e,t;return(t=(e=this.getCompiler())===null||e===void 0?void 0:e.getCanvas())!==null&&t!==void 0?t:null}_updateLayoutRect(e){let t=this.getCanvasRect();if(e){this._viewBox=e;const{x1:i=0,y1:r=0,x2:s,y2:a}=e;t={width:s-i,height:a-r}}else this._viewBox={x1:0,y1:0,x2:t.width,y2:t.height};this._viewRect=t,this.padding=nIe(this._paddingSpec,t,t),this._layoutRect.width=t.width-this.padding.left-this.padding.right,this._layoutRect.height=t.height-this.padding.top-this.padding.bottom,this._layoutRect.x=this.padding.left,this._layoutRect.y=this.padding.top,this._event.emit(Et.layoutRectUpdate,{chart:this})}setCurrentTheme(){this.updateChartConfig({change:!0,reMake:!1},this._spec),this.resetLayoutItemTag(),this.setLayoutTag(!0,null,!1),this.updateGlobalScaleTheme(),this.reInit()}reInit(){[...this._regions,...this._series,...this._components].forEach(e=>{const t=e.getSpecInfo();t&&t.spec&&e.reInit(t.spec)})}clear(){this.getAllModels().forEach(e=>{var t;return(t=e.clear)===null||t===void 0?void 0:t.call(e)})}compile(){this.compileBackground(),this.compileLayout(),this.compileRegions(),this.compileSeries(),this.compileComponents()}afterCompile(){this.getAllRegions().forEach(e=>{var t;(t=e.afterCompile)===null||t===void 0||t.call(e)}),this.getAllSeries().forEach(e=>{var t;(t=e.afterCompile)===null||t===void 0||t.call(e)}),this.getAllComponents().forEach(e=>{var t;(t=e.afterCompile)===null||t===void 0||t.call(e)})}compileLayout(){const{width:e,height:t}=this.getCanvasRect();this.getCompiler().setSize(e,t)}compileBackground(){this._backgroundMark&&this._backgroundMark.compile()}compileRegions(){var e,t,i,r;(t=(e=this._option.performanceHook)===null||e===void 0?void 0:e.beforeRegionCompile)===null||t===void 0||t.call(e,this._option.globalInstance),this.getAllRegions().forEach(s=>{s.compile()}),(r=(i=this._option.performanceHook)===null||i===void 0?void 0:i.afterRegionCompile)===null||r===void 0||r.call(i,this._option.globalInstance)}compileSeries(){var e,t,i,r;(t=(e=this._option.performanceHook)===null||e===void 0?void 0:e.beforeSeriesCompile)===null||t===void 0||t.call(e,this._option.globalInstance),this.getAllSeries().forEach(s=>{s.compile()}),(r=(i=this._option.performanceHook)===null||i===void 0?void 0:i.afterSeriesCompile)===null||r===void 0||r.call(i,this._option.globalInstance)}compileComponents(){var e,t,i,r;(t=(e=this._option.performanceHook)===null||e===void 0?void 0:e.beforeComponentCompile)===null||t===void 0||t.call(e,this._option.globalInstance),this.getAllComponents().forEach(s=>{s.compile()}),(r=(i=this._option.performanceHook)===null||i===void 0?void 0:i.afterComponentCompile)===null||r===void 0||r.call(i,this._option.globalInstance)}release(){[...this._components,...this._regions,...this._series].forEach(e=>{e.beforeRelease()}),super.release(),this.clear(),[...this._components,...this._regions,...this._series].forEach(e=>{e.release()}),this._components=this._regions=this._series=[],this._spec={},this._dataSet=this._globalScale=this._layoutFunc=null,this._layoutTag=!1,this._idMap.clear()}onLayout(){this.layout()}updateState(e,t){const i=this.getAllSeries();for(const r in e){if(Lt(e[r]))continue;const s=e[r];let a={stateValue:r};a=Re(s.filter)?Object.assign({filter:s.filter},a):Object.assign(Object.assign({},s.filter),a),s.level&&(a.level=s.level),i.forEach(o=>{o.getMarks().forEach(l=>{l.stateStyle[r]&&(t&&!t(o,l,r)||(l.state.changeStateInfo(a),l.updateMarkState(r)))})})}}setSelected(e,t,i){this._setStateInDatum(pt.STATE_SELECTED,e,t,i)}setHovered(e,t,i){this._setStateInDatum(pt.STATE_HOVER,e,t,i)}clearState(e){this._interaction.clearByState(e)}clearAllStates(){this._interaction.clearAllStates()}clearSelected(){this.clearState(pt.STATE_SELECTED)}clearHovered(){this.clearState(pt.STATE_HOVER)}_initEvent(){[Et.dataZoomChange,Et.scrollBarChange].forEach(e=>{this._event.on(e,({value:t})=>{this._disableMarkAnimation(["exit","update"]);const i=()=>{this._enableMarkAnimation(["exit","update"]),this._event.off(Rf.AFTER_MARK_RENDER_END,i)};this._event.on(Rf.AFTER_MARK_RENDER_END,i)})})}_enableMarkAnimation(e){this.getAllMarks().forEach(t=>t.enableAnimationByState(e))}_disableMarkAnimation(e){this.getAllMarks().forEach(t=>t.disableAnimationByState(e))}filterGraphicsByDatum(e,t={}){var i;const r=(e=e?Ae(e):null)?Object.keys(e[0]):null,s=[],a=(i=t.getDatum)!==null&&i!==void 0?i:ka;return this.getRegionsInQuerier(t.region).forEach(o=>{const l=[];e&&o.getSeries().forEach(u=>{u.getMarks().forEach(c=>{const d=c.getGraphics();if(d&&d.length&&(!t.filter||Re(t.filter)&&t.filter(u,c)))if(tqt(c.type))d.filter(h=>{const f=a(h,c,u,o);f&&e.every((p,g)=>r.every(m=>p[m]==f[g][m]))&&(l.push(h),s.push(h),t.callback&&t.callback(h,c,u,o))});else if(e.length>1){const h=e.slice();d.forEach(f=>{const p=a(f,c,u,o),g=p&&h.findIndex(m=>r.every(v=>m[v]==p[v]));g>=0&&(h.splice(g,1),l.push(f),s.push(f),t.callback&&t.callback(f,c,u,o))})}else{const h=d.find(f=>{const p=a(f,c,u,o);return p&&r.every(g=>e[0][g]==p[g])});h&&(l.push(h),s.push(h),t.callback&&t.callback(h,c,u,o))}})}),t.regionCallback&&t.regionCallback(l,o)}),s}_setStateInDatum(e,t,i,r){if(!t)return void this._interaction.clearByState(e);const s=this.filterGraphicsByDatum(t,{filter:i,region:r});this._interaction.updateStateOfGraphics(e,s)}setDimensionIndex(e,t){var i,r;let s=null;Array.from(this._event.getComposedEventMap().values()).forEach(l=>{const{eventType:u,event:c}=l;if(u===Hm.dimensionHover||u===Hm.dimensionClick){const d=c.dispatch(e,t);d!=null&&d.length&&(s=d)}});const a=J(e)||!s||s.every(l=>ml(l.axis.getScale().type)&&J(l.index)),o=a||s.every(l=>ml(l.axis.getScale().type)&&l.data.every(u=>u.datum.length===0));if(t.tooltip!==!1){const l=this.getComponentsByType(He.tooltip)[0];if(l!=null&&l.getVisible())if(a||o)(r=(i=l).hideTooltip)===null||r===void 0||r.call(i);else{const u={};s.forEach(c=>{const{axis:d,value:h,data:f}=c,p=d.getOrient()==="left"||d.getOrient()==="right";f.forEach(g=>{var m,v,_;const y=p?g.series.fieldY[0]:g.series.fieldX[0];u[y]=(_=(v=(m=g.datum)===null||m===void 0?void 0:m[0])===null||v===void 0?void 0:v[y])!==null&&_!==void 0?_:h})}),l.showTooltip(u,t.showTooltipOption)}}if(t.crosshair!==!1){const l=this.getComponentsByType(He.cartesianCrosshair)[0];l&&l.clearAxisValue&&l.setAxisValue&&(a?l.hideCrosshair():l.showCrosshair(s))}}showCrosshair(e){var t;const i=(t=this.getComponentsByType(He.cartesianCrosshair)[0])!==null&&t!==void 0?t:this.getComponentsByType(He.polarCrosshair)[0];if(!i)return;const r=this.getComponentsByKey("axes"),s=[];r.forEach(a=>{const o=e(a);o!==!1&&s.push({axis:a,value:o})}),i.showCrosshair(s)}getColorScheme(){var e,t;return(t=(e=this._option).getTheme)===null||t===void 0?void 0:t.call(e,"colorScheme")}}const Yge=(n,e)=>{var t;const i=n.spec,{regionId:r,regionIndex:s}=i;if(Y(r)){const a=Ae(r);return(t=e.region)===null||t===void 0?void 0:t.filter(({spec:o})=>a.includes(o.id))}if(Y(s))return Ae(s).map(a=>{var o;return(o=e.region)===null||o===void 0?void 0:o[a]}).filter(Y)},OQt=(n,e)=>{var t;const i=n.spec,{seriesId:r,seriesIndex:s}=i;if(Y(r)){const a=Ae(r);return(t=e.series)===null||t===void 0?void 0:t.filter(({spec:o})=>a.includes(o.id))}if(Y(s))return Ae(s).map(a=>{var o;return(o=e.series)===null||o===void 0?void 0:o[a]}).filter(Y)};class Ih{constructor(e){this._option=e,this.type=e.type,this.seriesType=e.seriesType}initChartSpec(e){return this.transformSpec(e),this.transformModelSpec(e)}transformSpec(e){e.region&&e.region.length!==0||(e.region=[{}]),e.tooltip===void 0&&(e.tooltip={}),Y(e.stackInverse)&&e.region.forEach(t=>{!Y(t.stackInverse)&&(t.stackInverse=e.stackInverse)}),Y(e.stackSort)&&e.region.forEach(t=>{!Y(t.stackSort)&&(t.stackSort=e.stackSort)})}generateTransform(e,t){return(i,r,s)=>{const{spec:a,specPath:o,specInfoPath:l,type:u}=r,c=new i.transformerConstructor(Object.assign(Object.assign({},this._option),{type:u})),d=c.transformSpec(a,e,s),h=Object.assign(Object.assign({},r),d);t?h.theme=c.getTheme(a,e):O7(e,o,d.spec),O7(s,l??o,h)}}transformModelSpec(e){return this.createSpecInfo(e,this.generateTransform(e,!1))}createSpecInfo(e,t){var i,r;t||(t=this.generateTransform(e,!0));const s={};return this.forEachRegionInSpec(e,t,s),this.forEachSeriesInSpec(e,t,s),(i=s.series)===null||i===void 0||i.forEach((a,o)=>{var l,u;const c=((u=(l=Yge(a,s))!==null&&l!==void 0?l:s.region)!==null&&u!==void 0?u:[])[0];c&&(c.seriesIndexes||(c.seriesIndexes=[]),c.seriesIndexes.push(o),a.regionIndexes=c.regionIndexes.slice())}),this.forEachComponentInSpec(e,t,s),Object.values((r=s.component)!==null&&r!==void 0?r:{}).forEach(a=>a.forEach((o,l)=>{var u,c,d;if(o){if(!o.regionIndexes){const h=(c=(u=Yge(o,s))!==null&&u!==void 0?u:s.region)!==null&&c!==void 0?c:[];o.regionIndexes=h.map(f=>f.regionIndexes[0])}if(!o.seriesIndexes){const h=OQt(o,s);if(h)o.seriesIndexes=h.map(({seriesIndexes:f})=>f[0]);else{const f=new Set;((d=o.regionIndexes)!==null&&d!==void 0?d:[]).forEach(p=>{var g,m;const v=(g=s.region)===null||g===void 0?void 0:g[p];(m=v==null?void 0:v.seriesIndexes)===null||m===void 0||m.forEach(_=>f.add(_))}),o.seriesIndexes=Array.from(f)}}}})),s}_isValidSeries(e){return!0}_getDefaultSeriesSpec(e,t,i){var r,s,a,o,l;const u={dataKey:e.dataKey,hover:e.hover,select:e.select,label:e.label,seriesStyle:e.seriesStyle,animation:(r=e.animation)!==null&&r!==void 0?r:(s=this._option.globalInstance)===null||s===void 0?void 0:s.isAnimationEnable(),animationThreshold:(a=e.animationThreshold)!==null&&a!==void 0?a:(l=(o=this._option).getTheme)===null||l===void 0?void 0:l.call(o,"animationThreshold"),animationAppear:e.animationAppear,animationDisappear:e.animationDisappear,animationEnter:e.animationEnter,animationUpdate:e.animationUpdate,animationExit:e.animationExit,animationNormal:e.animationNormal,animationState:e.animationState,extensionMark:e.extensionMark,large:e.large,largeThreshold:e.largeThreshold,progressiveStep:e.progressiveStep,progressiveThreshold:e.progressiveThreshold,background:e.seriesBackground,invalidType:e.invalidType,seriesField:e.seriesField,morph:e.morph,interactions:e.interactions},c=this.seriesType;return c&&(u.type=c,u[c]=e[c]),t&&t.length&&t.forEach(d=>{u[d]=e[d]}),i&&i.length&&i.forEach(d=>{u[d]=e[d]}),u}forEachRegionInSpec(e,t,i){var r;return((r=e.region)!==null&&r!==void 0?r:[]).map((s,a)=>t(ne.getRegionInType("region"),{spec:s,specPath:["region",a],type:"region",regionIndexes:[a]},i))}forEachSeriesInSpec(e,t,i){var r;return((r=e.series)!==null&&r!==void 0?r:[]).map((s,a)=>t(ne.getSeriesInType(s.type),{spec:s,specPath:["series",a],type:s.type,seriesIndexes:[a]},i))}forEachComponentInSpec(e,t,i){var r,s,a;const o=[],l=ne.getComponents();let u,c,d,h;const f=[];for(let g=0;g<l.length;g++){const{cmp:m,alwaysCheck:v}=l[g];m.type.startsWith(He.cartesianAxis)?u=m:m.type.startsWith(He.polarAxis)?c=m:m.type===He.geoCoordinate?d=m:(v||e[(r=m.specKey)!==null&&r!==void 0?r:m.type])&&(m.type===He.tooltip?h=m:f.push(l[g]))}let p=!1;if(u){const g=u.getSpecInfo(e,i);(g==null?void 0:g.length)>0&&(p=!0,g.forEach(m=>{const v=ne.getComponentInKey(m.type);o.push(t(v,m,i))}))}if(c&&!p){const g=c.getSpecInfo(e,i);(g==null?void 0:g.length)>0&&(p=!0,g.forEach(m=>{const v=ne.getComponentInKey(m.type);o.push(t(v,m,i))}))}return d&&!p&&((s=d.getSpecInfo(e,i))===null||s===void 0||s.forEach(g=>{o.push(t(d,g,i))})),f.sort((g,m)=>g.createOrder-m.createOrder),f.forEach(({cmp:g})=>{var m;(m=g.getSpecInfo?g.getSpecInfo(e,i):lg(e,g.specKey,g.type))===null||m===void 0||m.forEach(v=>{o.push(t(g,v,i))})}),h&&((a=lg(e,h.specKey,h.type))===null||a===void 0||a.forEach(g=>{o.push(t(h,g,i))})),o}transformSeriesSpec(e){const t=this._getDefaultSeriesSpec(e);e.series&&e.series.length!==0?e.series.forEach(i=>{this._isValidSeries(i.type)&&Object.keys(t).forEach(r=>{r in i||(i[r]=t[r])})}):e.series=[t]}_findBandAxisBySeries(e,t,i){const r=(e==null?void 0:e.direction)==="horizontal"?["left","right"]:["top","bottom"];return i.find(s=>{if(!r.includes(s.orient))return!1;if(Y(s.seriesId)){if(Ae(s.seriesId).includes(e==null?void 0:e.id))return!0}else if(Y(s.seriesIndex)){if(Ae(s.seriesIndex).includes(t))return!0}else if(s.type==="band")return!0;return!0})}_applyAxisBandSize(e,t,i){const{barMaxWidth:r,barMinWidth:s,barWidth:a,barGapInGroup:o}=i;let l=!1;st(s)?(e.minBandSize=s,l=!0):st(a)?(e.minBandSize=a,l=!0):st(r)&&(e.minBandSize=r,l=!0),l&&(e.bandSizeLevel=Number.MAX_VALUE,e.bandSizeExtend={extend:t,gap:Oe(o)?o[o.length-1]:o})}}class Sg extends Ih{needAxes(){return!0}_isValidSeries(e){return!this.seriesType||e===this.seriesType}_getDefaultSeriesSpec(e,t){return super._getDefaultSeriesSpec(e,["xField","yField","zField","direction","stack","percent","stackOffsetSilhouette","totalLabel","sortDataByAxis"],t)}transformSpec(e){super.transformSpec(e),super.transformSeriesSpec(e),this._transformAxisSpec(e)}_setDefaultXAxisSpec(e){return{orient:"bottom"}}_setDefaultYAxisSpec(e){return{orient:"left"}}_setDefaultZAxisSpec(e){return{orient:"z"}}_transformAxisSpec(e){if(this.needAxes()){e.axes||(e.axes=[]);const t={x:!1,y:!1,z:!1};e.axes.forEach(i=>{const{orient:r}=i;let s=null;r!=="top"&&r!=="bottom"||(t.x=!0,s=this._setDefaultXAxisSpec(e)),r!=="left"&&r!=="right"||(t.y=!0,s=this._setDefaultYAxisSpec(e)),r==="z"&&(t.z=!0,s=this._setDefaultZAxisSpec(e)),s&&Object.keys(s).forEach(a=>{J(i[a])&&(i[a]=s[a])}),Hn(i,"trimPadding")&&qt(i,mIe(this.type,e))}),t.x||e.axes.push(this._setDefaultXAxisSpec(e)),t.y||e.axes.push(this._setDefaultYAxisSpec(e)),e.zField&&!t.z&&e.axes.push(this._setDefaultZAxisSpec(e))}}}class YIe extends Sg{_getDefaultSeriesSpec(e){var t;const i=super._getDefaultSeriesSpec(e,["point","line","activePoint","sampling","samplingFactor","pointDis","pointDisMul","markOverlap","lineLabel"]);return i.seriesMark=(t=e.seriesMark)!==null&&t!==void 0?t:"line",i}transformSpec(e){super.transformSpec(e),l_(e)}}const PQt=(n,e)=>{const t={nodes:{}},{fields:i}=e;if(!(i!=null&&i.length))return t;const r=i.length-1;let s,a,o=t;return n.forEach(l=>{l.latestData&&l.latestData.forEach(u=>{o=t;for(let c=0;c<i.length;c++){const d=i[c],h=u[d];if(J(h))break;o.groupField=d,o.nodes[h]||(c===r?o.nodes[h]={values:[]}:(s={nodes:{}},o.nodes[h]=s)),c===r?(a=o.nodes[h],a.values.push(u)):o=o.nodes[h]}})}),t};class MQt{constructor(e,t){this.stackRegion=({model:i})=>{var r;const s=i.getSeries();if(!s.some(c=>c.getStack()))return;const a=s.some(c=>{var d,h,f,p;return!!(!((h=(d=c.getSpec())===null||d===void 0?void 0:d.totalLabel)===null||h===void 0)&&h.alwayCalculateTotal)||((p=(f=c.getSpec())===null||f===void 0?void 0:f.totalLabel)===null||p===void 0?void 0:p.visible)}),o=a||s.some(c=>c.getPercent()),l=s.some(c=>c.getStackOffsetSilhouette()),u=oIe(i,!0);for(const c in u)for(const d in u[c].nodes)uIe(u[c].nodes[d],i.getStackInverse(),o,a);if(l)for(const c in u)for(const d in u[c].nodes)ZXt(u[c].nodes[d]);a&&i.getSeries().forEach(c=>{const d=c.getStackData(),h=c.getStackValue(),f=c.getStackValueField();d&&f&&aQ(u[h],f)}),!((r=this._options)===null||r===void 0)&&r.afterStackRegion&&this._options.afterStackRegion(i,u)},this._chart=e,this._options=t}init(){this._chart.getAllRegions().forEach(e=>{e.event.on(Et.regionSeriesDataFilterOver,{filter:({model:t})=>(t==null?void 0:t.id)===e.id},this.stackRegion)})}stackAll(){this._chart.getAllRegions().forEach(e=>{this.stackRegion({model:e})})}}class xg{_beforeInit(){this._dataSet&&rn(this._dataSet,"stackSplit",PQt)}_initStack(){this._stack=new MQt(this),this._stack.init()}}const KIe={state:pt.STATE_DIMENSION_HOVER,reverseState:pt.STATE_DIMENSION_HOVER_REVERSE,trigger:Hm.dimensionHover};class y$ extends u_{constructor(e){super(e),this.type="dimension-hover",this._resetType=[],this.resetAll=()=>{const{state:t,reverseState:i,interaction:r}=this.options,s=r.getStatedGraphics(this);s&&s.length&&(r.clearAllStatesOfTrigger(this,t,i),this.dispatchEvent("reset",{graphics:s,options:this.options}),r.setStatedGraphics(this,[]))},this.handleStart=t=>{const i=this.options.interaction;switch(t.action){case"enter":const r=this.getStatedGraphics(t);i.updateStates(this,this.getStatedGraphics(t),i.getStatedGraphics(this),this.options.state,this.options.reverseState),i.setStatedGraphics(this,r);break;case"leave":i.clearAllStatesOfTrigger(this,this.options.state,this.options.reverseState),i.setStatedGraphics(this,[])}},this.options=Object.assign({},KIe,e),this.updateMarkIdByState([this.options.state,this.options.reverseState])}getStartState(){return this.options.state}getResetState(){return this.options.reverseState}getEvents(){return[{type:this.options.trigger,handler:this.handleStart}]}getStatedGraphics(e,t=!1){const i=this.getMarksByState(t?this.options.reverseState:this.options.state),r=[];return e.dimensionInfo.forEach(s=>{s.data.forEach(a=>{i.filter(o=>o.model===a.series&&o.getVisible()).forEach(o=>{const l=o.getGraphics();if(!l||!l.length)return;const u=l.filter(c=>{const d=ka(c);let h;return h=Oe(d)?d.every((f,p)=>f===a.datum[p]):a.datum.some(f=>f===d),t?!h:h});r.push(...u)})})}),r}}y$.type="dimension-hover",y$.defaultOptions=KIe;const xc=()=>{ne.registerInteractionTrigger(y$.type,y$)},wc=()=>{ne.registerComposedEvent(Hm.dimensionHover,AZt),ne.registerComposedEvent(Hm.dimensionClick,wZt)},XIe=n=>n.fieldX[0],qIe=n=>n.fieldY[0],IQt=n=>{var e;return[n.fieldX[0],(e=n.fieldX2)!==null&&e!==void 0?e:n.fieldX[1]]},RQt=n=>{var e;return[n.fieldY[0],(e=n.fieldY2)!==null&&e!==void 0?e:n.fieldY[1]]},Kge=(n,e)=>n?e?XIe:IQt:e?qIe:RQt,Nf=(n,e,t)=>{var i,r;if(!n)return null;const{x:s,y:a}=e,o=(i=g$(n,p=>Kr(p.getOrient()),e))!==null&&i!==void 0?i:[],l=(r=g$(n,p=>sm(p.getOrient()),e))!==null&&r!==void 0?r:[];if(!o.length&&!l.length)return null;const u=new Set,c=new Set,d=new Set;[o,l].forEach(p=>p.forEach(g=>{ml(g.getScale().type)?u.add(g):c.add(g),t&&g.getSpec().hasDimensionTooltip&&d.add(g)}));const h=[],f=p=>{const g=p==="x",m=g?s:a;(g?o:l).forEach(v=>{if(d.size>0){if(d.has(v)){const _=Xge(v,m,Kge(g,ml(v.getScale().type)));_&&h.push(_)}}else{const _=u.size>0;if((_?u:c).has(v)){const y=Xge(v,m,Kge(g,_));y&&h.push(y)}}})};return n.getSpec().direction==="horizontal"?(f("y"),h.length===0&&f("x")):(f("x"),h.length===0&&f("y")),h.length?h:null},Xge=(n,e,t)=>{const i=n.positionToData(e,!0);return J(i)?null:Rh(n,i,t)},Rh=(n,e,t)=>{const i=n.getScale();if(J(e))return null;let r=i.domain().findIndex(a=>(a==null?void 0:a.toString())===e.toString());r<0&&(r=void 0);const s=z7(e,n,"cartesian",t??(Kr(n.getOrient())?XIe:qIe));return{index:r,value:e,position:i.scale(e),axis:n,data:s}},ZIe=(n,e,t,i=!1)=>(t||(t={x:0,y:0}),Object.keys(n).forEach(r=>{var s,a,o,l,u,c;const{currentValue:d,cacheInfo:h,labelsComp:f,attributes:p,coordKey:g}=n[r];let m=null,v=0,_=null;if(d.size){const A=Array.from(d.values())[0];v=A.axis.getScale().scale(A.datum)+A.axis.getLayoutStartPoint()[g]-t[g],m=A.axis,_=(c=(u=(l=(o=(a=(s=m.getVRenderComponents()[0])===null||s===void 0?void 0:s.children[0])===null||a===void 0?void 0:a.children[0])===null||o===void 0?void 0:o.children[0])===null||l===void 0?void 0:l.getChildByName("axis-label-container"))===null||u===void 0?void 0:u.getChildByName("axis-label-container-layer-0"))===null||c===void 0?void 0:c.children[0]}const y=!!d.size&&Number.isFinite(v)&&!Number.isNaN(v),x=i&&!y&&Y(h),w=x?h:{coordRange:[0,0],sizeRange:[0,0],coord:v,labelsTextStyle:{},labels:f?Object.keys(f).reduce((A,k)=>(A[k]={visible:!1,text:"",dx:0,dy:0},A),{}):null,visible:y,axis:m,axisLabel:_};let T;w&&(w._isCache=x);let E=0;if(p&&d.forEach(({axis:A,datum:k=""})=>{var P,I,D,L,B,F,$,z,N,V;let H=null;const K=A.getScale();if(ml(K.type))T=K.bandwidth(),T===0&&K.step&&(E=K.step());else if(Ei(K.type)){const U=r==="xField"?e.fieldX[0]:e.fieldY[0],X=r==="xField"?e.fieldX2:e.fieldY2,Z=UZt(e.getViewData().latestData,+k,U,X);if(Z){const Q=r==="xField"?e.dataToPositionX(Z):e.dataToPositionY(Z);X?(T=Math.abs(Q-(r==="xField"?e.dataToPositionX1(Z):e.dataToPositionY1(Z))),k=`${Z[U]} ~ ${Z[X]}`):T=1,v=Q}H=A.niceLabelFormatter}if(w&&(!((P=p.label)===null||P===void 0)&&P.visible)&&!x){const U=yQ(A.getSpec()),X=A.getOrient(),Z=(I=p.label)===null||I===void 0?void 0:I.syncAxisLabelAngle;w.labels[X]&&(w.labels[X].visible=!0,w.labels[X].text=k,X==="left"?(w.labels[X].dx=-U,w.labelsTextStyle[X]={textAlign:Z&&_&&(D=_.attribute.textAlign)!==null&&D!==void 0?D:"right",textBaseline:Z&&_&&(L=_.attribute.textBaseline)!==null&&L!==void 0?L:"middle"}):X==="right"?(w.labels[X].dx=U,w.labelsTextStyle[X]={textAlign:Z&&_&&(B=_.attribute.textAlign)!==null&&B!==void 0?B:"left",textBaseline:Z&&_&&(F=_.attribute.textBaseline)!==null&&F!==void 0?F:"middle"}):X==="top"?(w.labels[X].y=0,w.labels[X].dy=-U,w.labelsTextStyle[X]={textAlign:Z&&_&&($=_.attribute.textAlign)!==null&&$!==void 0?$:"center",textBaseline:Z&&_&&(z=_.attribute.textBaseline)!==null&&z!==void 0?z:"bottom"}):X==="bottom"&&(w.labels[X].dy=U,w.labelsTextStyle[X]={textAlign:Z&&_&&(N=_.attribute.textAlign)!==null&&N!==void 0?N:"center",textBaseline:Z&&_&&(V=_.attribute.textBaseline)!==null&&V!==void 0?V:"top"}),w.labels[X].defaultFormatter=H)}}),w&&!x){const A={x1:1/0,y1:1/0,x2:-1/0,y2:-1/0};LQt(A,d),r==="xField"?(w.coordRange=[A.x1,A.x2],w.sizeRange=[A.y1,A.y2],w.coord=v+t.x,w.labels&&(w.labels.top.y=A.y1,w.labels.bottom.y=A.y2)):(w.coordRange=[A.y1,A.y2],w.sizeRange=[A.x1,A.x2],w.coord=v+t.y,w.labels&&(w.labels.left.x=A.x1,w.labels.right.x=A.x2)),(w.coord<w.coordRange[0]||w.coord>w.coordRange[1])&&(w.visible=!1),p&&p.label&&Object.keys(w.labels).forEach(k=>{w.labels[k].visible&&DQt(w.labels[k],k,p.label)})}n[r].bandSize=T??0,n[r].offsetSize=E,n[r].cacheInfo=w}),n),DQt=(n,e,t)=>{const{formatMethod:i,formatter:r}=t,{formatFunc:s,args:a}=zm(i,r,n.text,{label:n.text,position:e});s?n.text=s(...a):n.defaultFormatter&&(n.text=n.defaultFormatter(n.text))},LQt=(n,e)=>{e.forEach(({axis:t})=>{t.getRegions().forEach(i=>{const{x:r,y:s}=i.getLayoutStartPoint(),{width:a,height:o}=i.getLayoutRect();n.x1=Math.min(n.x1,r),n.y1=Math.min(n.y1,s),n.x2=Math.max(n.x2,r+a),n.y2=Math.max(n.y2,s+o)})})},V7=n=>{const{cacheInfo:e,attributes:t,bandSize:i,offsetSize:r,coordKey:s,anotherAxisKey:a}=n,{coord:o,sizeRange:l}=e,u=t.type;let c;if(u==="line"){const d=o+i/2;c={visible:!0,start:{[s]:d,[a]:l[0]},end:{[s]:d,[a]:l[1]}}}else if(u==="rect"){const[d,h]=FQt(t,i,r,e.axis),{coordRange:f}=e;c={visible:!0,start:{[s]:Math.max(o+d,f[0]),[a]:l[0]},end:{[s]:Math.min(o+h,f[1]),[a]:l[1]}}}return c},FQt=(n,e,t,i)=>{var r,s,a;const o=e===0?t:e;let l=o;if(!((r=n.style)===null||r===void 0)&&r.sizePercent)l=o*n.style.sizePercent;else if(typeof((s=n.style)===null||s===void 0?void 0:s.size)=="number")l=n.style.size;else if(typeof((a=n.style)===null||a===void 0?void 0:a.size)=="function"){const u=i.getLayoutRect();l=n.style.size(u,i)}return e===0?[-l/2,l/2]:[e/2-l/2,l/2+e/2]},jf=(n,e)=>{var t;const i=new Map,r=new Map,{series:s,datum:a}=n,o=s.direction==="horizontal",l=(o?s.getYAxisHelper():s.getXAxisHelper()).getAxisId(),u=s.getChart().getComponentsByKey("axes").find(d=>d.id===l);if(!u)return;(o?r:i).set(u.getSpecIndex(),{datum:(t=s.getDatumPositionValues(a[0],s.getDimensionField()))===null||t===void 0?void 0:t[0],axis:u});const c={xField:{coordKey:"x",anotherAxisKey:"y",currentValue:i,attributes:{visible:!!i.size,type:"rect"}},yField:{coordKey:"y",anotherAxisKey:"x",currentValue:r,attributes:{visible:!!r.size,type:"rect"}}};return ZIe(c,s,e),c.xField.cacheInfo?V7(c.xField):c.yField.cacheInfo?V7(c.yField):void 0},BQt=["updateTitle","updateContent","updatePosition","maxLineCount","othersLine"],$Qt=(n,e,t,i,r)=>{var s,a,o;const l={activeType:n};switch(n){case"mark":case"group":if(t){const u=(s=t.getSpec())===null||s===void 0?void 0:s.tooltip;return l.visible=!0,u!=null&&u.handler&&(l.handler=u.handler),!((a=l.handler)===null||a===void 0)&&a.showTooltip?l:(u!=null&&u[n]&&BQt.forEach(c=>{Y(u[n][c])&&(l[c]=u[n][c])}),Object.assign(Object.assign({},l),t.tooltipHelper.getTooltipData(n,e,i,i[0].datum,r)))}break;case"dimension":if(i!=null&&i.length){if(NQt(i).every(c=>{var d;return!pQ("dimension",(d=c.tooltipHelper)===null||d===void 0?void 0:d.spec)})?l.visible=!1:l.visible=!0,l.handler=e.handler,(o=l.handler)===null||o===void 0?void 0:o.showTooltip)return l;const u=[];return i.forEach(c=>c.data.forEach(d=>{const{series:h}=d,f=h.tooltipHelper.getTooltipData(n,e,i,d.datum,r);f&&u.push(f)})),hZt(u)}}return null},NQt=n=>{const e=[];return n.forEach(t=>{t.data.forEach(i=>{Y(i.series)&&e.push(i.series)})}),e},YC={dom:`${Xt}_TOOLTIP_HANDLER_DOM`,canvas:`${Xt}_TOOLTIP_HANDLER_CANVAS`},jQt="vchart-tooltip-element",zQt=20,qge={key:"",value:"..."};var Zge;(function(n){n.group="group",n.mark="mark",n.dimension="dimension"})(Zge||(Zge={}));const mW=50;class wQ{constructor(e){this._showTooltipByHandler=(t,i)=>{var r,s,a;if(J(t))return 1;i.changePositionOnly||this.clearCache(),this._updateViewSpec(t,i);const o=this._cacheActiveSpec;if(J(o)||o.visible===!1)return 1;i.tooltipSpec=this.component.getSpec(),i.activeTooltipSpec=o;const{title:l,content:u}=o,c=J(l==null?void 0:l.key)&&J(l==null?void 0:l.value)&&!(u!=null&&u.length);if(this.component.event.emit(Et.tooltipShow,Object.assign(Object.assign({},i),{isEmptyTooltip:c,tooltipData:t,activeType:this.activeType,tooltip:this.component})),c)return 1;let d;return!((r=o.handler)===null||r===void 0)&&r.showTooltip?d=o.handler.showTooltip.bind(o.handler):!((s=this.component.tooltipHandler)===null||s===void 0)&&s.showTooltip&&(d=this.component.tooltipHandler.showTooltip.bind(this.component.tooltipHandler)),d?(a=d(this.activeType,t,i))!==null&&a!==void 0?a:0:1},this.component=e}_preprocessDimensionInfo(e){const t=[];if(e==null||e.forEach(i=>{const r=Object.assign(Object.assign({},i),{data:i.data.filter(({series:s})=>{var a,o;return((o=(a=s.getSpec())===null||a===void 0?void 0:a.tooltip)===null||o===void 0?void 0:o.visible)!==!1})});r.data.length>0&&t.push(r)}),t.length>0)return t}_updateViewSpec(e,t){var i,r,s,a,o,l,u,c,d;const{changePositionOnly:h,model:f}=t;if(!h||!this._cacheActiveSpec){const p=this.component.getSpec();if(this._cacheActiveSpec=$Qt(this.activeType,this.component.getSpec(),f,e,t),this._cacheActiveSpec){J(this._cacheActiveSpec.handler)&&Y(p.handler)&&(this._cacheActiveSpec.handler=p.handler);const g=(i=p[this.activeType])!==null&&i!==void 0?i:{},m=(r=this._cacheActiveSpec.updateTitle)!==null&&r!==void 0?r:g.updateTitle,v=(s=this._cacheActiveSpec.updateContent)!==null&&s!==void 0?s:g.updateContent,_=(o=(a=this._cacheActiveSpec.maxLineCount)!==null&&a!==void 0?a:g.maxLineCount)!==null&&o!==void 0?o:zQt;if(m&&(this._cacheActiveSpec.title=(l=m(this._cacheActiveSpec.title,e,t))!==null&&l!==void 0?l:this._cacheActiveSpec.title),v)this._cacheActiveSpec.content=(u=v(this._cacheActiveSpec.content,e,t))!==null&&u!==void 0?u:this._cacheActiveSpec.content;else if(_>=1&&((c=this._cacheActiveSpec.content)===null||c===void 0?void 0:c.length)>_){const y=(d=this._cacheActiveSpec.othersLine)!==null&&d!==void 0?d:g.othersLine,x=y?Object.assign(Object.assign({},qge),y):qge;this._cacheActiveSpec.content=[...this._cacheActiveSpec.content.slice(0,_-1),Object.assign(Object.assign({},this._cacheActiveSpec.content[_-1]),x)]}}}}shouldHandleTooltip(e,t){var i,r;return!J(t)&&pQ(this.activeType,(r=(i=e.model)===null||i===void 0?void 0:i.tooltipHelper)===null||r===void 0?void 0:r.spec)}clearCache(){this._cacheActiveSpec=void 0}}class HQt extends wQ{constructor(){super(...arguments),this.activeType="dimension"}showTooltip(e,t,i){const r=Object.assign(Object.assign({},t),{dimensionInfo:this._preprocessDimensionInfo(e),changePositionOnly:i,tooltip:this.component});return this._showTooltipByHandler(e,r)}_getDimensionInfo(e){var t,i,r;let s;const a=this.component.getChart(),o=a.getCompiler().getStage().getLayer(void 0),l={x:e.event.viewX,y:e.event.viewY};if(o.globalTransMatrix.transformPoint({x:e.event.viewX,y:e.event.viewY},l),s=(r=(i=(t=this.component.getOption()).getDimensionInfo)===null||i===void 0?void 0:i.call(t,a,l,!0))!==null&&r!==void 0?r:[],s.length===0)s=void 0;else if(s.length>1){const u=s.filter(c=>{var d;const h=c.axis;if(h.getSpec().hasDimensionTooltip)return!0;if(!ml(h.getScale().type))return!1;let f;for(const p of(d=h==null?void 0:h.getRegions())!==null&&d!==void 0?d:[]){for(const g of p.getSeries())if(g.coordinate==="cartesian"){f=g;break}if(Y(f))break}return Y(f)&&f.getDimensionField()[0]===f.fieldY[0]?h.getOrient()==="left"||h.getOrient()==="right":h.getOrient()==="bottom"||h.getOrient()==="top"});if(s=u.length?u:s.slice(0,1),s.length>1){const c=new Set;s.forEach(d=>{d.data=d.data.filter(({key:h})=>!c.has(h)&&(c.add(h),!0))})}}return s}getMouseEventData(e){return{tooltipInfo:this._getDimensionInfo(e),ignore:!1}}}const Bu=()=>{ne.registerTooltipProcessor("dimension",HQt)};class VQt extends wQ{constructor(){super(...arguments),this.activeType="mark"}showTooltip(e,t,i){var r,s,a;const{datum:o,series:l}=e,u=this.component.getSpec(),c=[{datum:[o],series:l}],d=l.tooltipHelper,h=(r=l.getSpec())===null||r===void 0?void 0:r.tooltip,f=(s=h==null?void 0:h.mark)===null||s===void 0?void 0:s.checkOverlap;let p=!1;if(f===!0||((a=u.mark)===null||a===void 0?void 0:a.checkOverlap)===!0&&f!==!1){const m=d==null?void 0:d.activeTriggerSet.mark;if(m){p=!0;const v=this.component.getChart().getCompiler().getStage().getLayer(void 0),_={x:t.event.viewX,y:t.event.viewY};v.globalTransMatrix.transformPoint({x:t.event.viewX,y:t.event.viewY},_),m.forEach(y=>{y.getGraphics().forEach(x=>{x!==t.node&&x&&x.containsPoint(_.x,_.y,yO.GLOBAL,x.stage.getPickerService())&&c[0].datum.push(ka(x))})})}}const g=Object.assign(Object.assign({},t),{model:l,changePositionOnly:i,tooltip:this.component});if(i&&p){const m=this._cacheActiveSpec&&this._cacheActiveSpec.data;m&&m[0].series===c[0].series&&m[0].datum.length===c[0].datum.length&&!m[0].datum.some((v,_)=>v!==c[0].datum[_])||(g.changePositionOnly=!1)}return this._showTooltipByHandler(c,g)}getMouseEventData(e){var t;let i,r;const s=(t=e.model)===null||t===void 0?void 0:t.modelType;if(s==="series"){const a=e.model,o=a.tooltipHelper,l=o==null?void 0:o.activeTriggerSet.mark,u=o==null?void 0:o.ignoreTriggerSet.mark;l!=null&&l.has(e.mark)?i={mark:e.mark,datum:e.datum,series:a}:u!=null&&u.has(e.mark)&&(r=!0)}else if(s==="component"){const a=e.model,o=e.node;if(a.name==="label"&&o){const l=a.getLabelInfoByTextGraphic(o),{baseMark:u,series:c,labelMark:d}=l??{},h=c.tooltipHelper,f=h==null?void 0:h.activeTriggerSet.mark,p=h==null?void 0:h.ignoreTriggerSet.mark;f!=null&&f.has(d)?i={mark:u,datum:o.attribute.data,series:c}:p!=null&&p.has(d)&&(r=!0)}}return{tooltipInfo:i,ignore:r}}}const ss=()=>{ne.registerTooltipProcessor("mark",VQt)};class WQt extends wQ{constructor(){super(...arguments),this.activeType="group"}showTooltip(e,t,i){const{datum:r,series:s}=e,a=[{datum:Ae(r),series:s}],o=Object.assign(Object.assign({},t),{groupDatum:this._getGroupDatum(t),changePositionOnly:i,tooltip:this.component});return this._showTooltipByHandler(a,o)}getMouseEventData(e){var t,i;let r;if(((t=e.model)===null||t===void 0?void 0:t.modelType)==="series"){const s=e.model,a=s.tooltipHelper,o=a==null?void 0:a.activeTriggerSet.group;if(o!=null&&o.has(e.mark)){const l=this.component.getSpec()[this.activeType];(l!=null&&l.triggerMark?Ae(l.triggerMark):[]).includes((i=e.mark)===null||i===void 0?void 0:i.name)&&(r={mark:e.mark,datum:e.datum,series:s})}}return{tooltipInfo:r,ignore:!1}}_getGroupDatum(e){const{model:t,mark:i,datum:r}=e,s=t;if(["line","area"].includes(i.type))return Ae(r);const a=s.getViewData().latestData,o=s.getSeriesField();if(!o)return a;const l=Ae(r)[0][o];return a.filter(u=>u[o]===l)}}const d_=()=>{ne.registerTooltipProcessor("group",WQt)};class lw extends As{constructor(){super(...arguments),this.transformerConstructor=YIe,this.type="line",this.seriesType=Ye.line}_setModelOption(){this._modelOption.getDimensionInfo=Nf,this._modelOption.getDimensionInfoByValue=Rh,this._modelOption.getRectByDimensionData=jf}}lw.type="line",lw.seriesType=Ye.line,lw.transformerConstructor=YIe,Li(lw,xg);const UQt=()=>{Bu(),ss(),d_(),wc(),xc(),TQt(),ne.registerChart(lw.type,lw)},GQt=[...NIe,"fill","fillOpacity","background","texture","texturePadding","textureSize","textureColor"];class ZO extends jIe{constructor(){super(...arguments),this.type=ZO.type,this._isValidPointChannel=e=>["x","y","x1","y1","defined"].includes(e)}_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{lineWidth:0})}_getSegmentAttributes(){return GQt}_getIgnoreAttributes(){return[]}}ZO.type="area";const eH=()=>{ne.registerMark(ZO.type,ZO),pd(),dPe(),AMe(),Pz(),kIe(),ne.registerGraphicComponent("area",GOe)};class YQt extends Jl{constructor(){super(...arguments),this._getSeriesStyle=(e,t,i)=>{var r,s,a,o;for(const l of Ae(t)){let u=(r=this.series.getSeriesStyle(e))===null||r===void 0?void 0:r(l);if(u!==!1||l!=="fill"&&l!=="stroke"||(u=l==="fill"?(a=(s=this.series.getSeriesStyle(e))===null||s===void 0?void 0:s("stroke"))===null||a===void 0?void 0:a[0]:(o=this.series.getSeriesStyle(e))===null||o===void 0?void 0:o("fill")),Y(u))return u}return i}}}const QIe=Object.assign(Object.assign(Object.assign({},oa),ey),{area:{name:"area",type:"area"}}),KQt=()=>{Uqt(),AIe(),Uz()};class JIe extends FM{constructor(){super(...arguments),this._supportStack=!0}_transformLabelSpec(e){var t,i,r;const s=((t=e.point)===null||t===void 0?void 0:t.visible)!==!1&&((r=(i=e.point)===null||i===void 0?void 0:i.style)===null||r===void 0?void 0:r.visible)!==!1;this._addMarkLabelSpec(e,a=>{const o=a.position==="inside-middle";return!s||o?"area":"point"}),this._addMarkLabelSpec(e,"area","areaLabel","initLineLabelMarkStyle",void 0,!0)}_transformSpecAfterMergingTheme(e,t,i){var r,s,a,o,l;super._transformSpecAfterMergingTheme(e,t,i);const{area:u={},line:c={},seriesMark:d}=e,h=u.visible!==!1&&((r=u.style)===null||r===void 0?void 0:r.visible)!==!1,f=c.visible!==!1&&((s=c.style)===null||s===void 0?void 0:s.visible)!==!1;u.support3d=!(!u.support3d&&!c.support3d),u.zIndex=Y(u.zIndex)||Y(c.zIndex)?Math.max((a=u.zIndex)!==null&&a!==void 0?a:0,(o=c.zIndex)!==null&&o!==void 0?o:0):void 0,u.style&&delete u.style.stroke,u.state&&Object.keys(u.state).forEach(m=>{"style"in u.state[m]?delete u.state[m].style.stroke:delete u.state[m].stroke});let p=u,g=c;(d==="line"||f&&!h)&&(p=c,g=u),u.style=qt({},g.style,p.style),u.state=qt({},g.state,p.state),u.interactive===!1&&(u.style.fillPickable=!1),c.interactive===!1&&(c.style.strokePickable=!1),u.interactive=!(!u.interactive&&(l=c.interactive)!==null&&l!==void 0&&!l),e.area=u,e.line=c}}const XQt={label:{visible:!1,offset:5,position:"top",style:{stroke:{type:"palette",key:"backgroundColor"},lineWidth:2}},point:{style:{symbolType:"circle"}},seriesMark:"area"};class $p extends Oh{constructor(){super(...arguments),this.type=Ye.area,this.transformerConstructor=JIe,this._sortDataByAxis=!1}initMark(){var e;const t=(e=this._spec.seriesMark)!==null&&e!==void 0?e:"area",i=this._isAreaVisible()||this._isLineVisible();this._areaMark=this._createMark($p.mark.area,{groupKey:this._seriesField,isSeriesMark:i&&t!=="point"},{morphElementKey:this.getDimensionField()[0]}),this.initSymbolMark(t==="point")}initMarkStyle(){this.initAreaMarkStyle(),this.initSymbolMarkStyle()}initAreaMarkStyle(){var e,t,i,r,s;const a=(i=(t=(e=this.getSpec().area)===null||e===void 0?void 0:e.style)===null||t===void 0?void 0:t.curveType)!==null&&i!==void 0?i:(s=(r=this.getSpec().line)===null||r===void 0?void 0:r.style)===null||s===void 0?void 0:s.curveType,o=a===IIe?this._direction==="horizontal"?"monotoneY":"monotoneX":a,l=this._areaMark;if(l){const u=this._isAreaVisible(),c=this._isLineVisible();u||c?l.setVisible(!0):l.setVisible(!1),this._direction==="horizontal"?this.setMarkStyle(this._areaMark,{x:this.dataToPositionX.bind(this),x1:d=>{var h,f;return xi(this.dataToPositionX1(d),(f=(h=this._xAxisHelper)===null||h===void 0?void 0:h.getScale)===null||f===void 0?void 0:f.call(h,0))},y:this.dataToPositionY.bind(this),y1:this.dataToPositionY.bind(this),z:this._fieldZ?this.dataToPositionZ.bind(this):null,orient:this._direction},"normal",Qe.Series):this.setMarkStyle(this._areaMark,{x:this.dataToPositionX.bind(this),x1:this.dataToPositionX.bind(this),y1:d=>{var h,f;return xi(this.dataToPositionY1(d),(f=(h=this._yAxisHelper)===null||h===void 0?void 0:h.getScale)===null||f===void 0?void 0:f.call(h,0))},y:this.dataToPositionY.bind(this),z:this._fieldZ?this.dataToPositionZ.bind(this):null},"normal",Qe.Series),this.setMarkStyle(l,{fill:!!u&&this.getColorAttribute(),stroke:!!c&&this.getColorAttribute()},"normal",Qe.Series),this._invalidType!=="zero"&&this.setMarkStyle(l,{defined:this._getInvalidDefined.bind(this),connectedType:this._getInvalidConnectType()},"normal",Qe.Series),this.getStack()&&this.setMarkStyle(l,{zIndex:d=>-d[Pu]},"normal",Qe.Series),this.setMarkStyle(l,{curveType:o},"normal",Qe.Built_In),Object.keys(l.stateStyle).forEach(d=>{l.stateStyle[d].stroke&&l.setPostProcess("stroke",h=>[h,!1,!1,!1],d)})}}initAnimation(){var e,t,i,r;const s={direction:this.direction},a=(e=this._spec.animationAppear)===null||e===void 0?void 0:e.preset;if(this._lineMark&&this._lineMark.setAnimationConfig(ei((t=ne.getAnimationInKey("line"))===null||t===void 0?void 0:t(s,a),_i("line",this._spec,this._markAttributeContext))),this._areaMark&&this._areaMark.setAnimationConfig(ei((i=ne.getAnimationInKey("area"))===null||i===void 0?void 0:i(s,a),_i("area",this._spec,this._markAttributeContext))),this._symbolMark){const o=c_(this);this._symbolMark.setAnimationConfig(ei((r=ne.getAnimationInKey("scaleInOut"))===null||r===void 0?void 0:r(),_i("point",this._spec,this._markAttributeContext),o))}}_isAreaVisible(){var e;const t=this._spec.area||{};return t.visible!==!1&&((e=t.style)===null||e===void 0?void 0:e.visible)!==!1}_isLineVisible(){var e;const t=this._spec.line||{};return t.visible!==!1&&((e=t.style)===null||e===void 0?void 0:e.visible)!==!1}initTooltip(){this._tooltipHelper=new YQt(this);const{group:e,mark:t}=this._tooltipHelper.activeTriggerSet;this._areaMark&&e.add(this._areaMark),this._lineMark&&e.add(this._lineMark),this._symbolMark&&(t.add(this._symbolMark),e.add(this._symbolMark))}viewDataStatisticsUpdate(e){super.viewDataStatisticsUpdate(e),this.encodeDefined(this._areaMark,"defined")}compile(){super.compile(),this.addSamplingCompile(),this.addOverlapCompile()}getDefaultShapeType(){return"square"}getActiveMarks(){return[this._areaMark,this._symbolMark,this._lineMark]}onLayoutEnd(){super.onLayoutEnd(),this.reCompileSampling()}getSeriesStyle(e){return t=>{var i,r,s,a,o;const l=(i=this._spec.seriesMark)!==null&&i!==void 0?i:"area";let u=(s=(r=this._seriesMark)===null||r===void 0?void 0:r.getAttribute(t,e))!==null&&s!==void 0?s:void 0;return t!=="fill"||u&&l!=="line"||(t="stroke",u=(o=(a=this._seriesMark)===null||a===void 0?void 0:a.getAttribute(t,e))!==null&&o!==void 0?o:void 0),t==="stroke"&&Oe(u)?u[0]:u}}}$p.type=Ye.area,$p.builtInTheme={area:XQt},$p.mark=QIe,$p.transformerConstructor=JIe,Li($p,mQ);const qQt=()=>{xQ(),GIe(),Yz(),eH(),Qm(),KQt(),Mh(),Ph(),ne.registerSeries($p.type,$p)};class eRe extends Sg{_getDefaultSeriesSpec(e){return super._getDefaultSeriesSpec(e,["point","line","area","seriesMark","activePoint","sampling","samplingFactor","pointDis","pointDisMul","markOverlap","areaLabel","useSequentialAnimation"])}transformSpec(e){super.transformSpec(e),l_(e)}}class uw extends As{constructor(){super(...arguments),this.transformerConstructor=eRe,this.type="area",this.seriesType=Ye.area}_setModelOption(){this._modelOption.getDimensionInfo=Nf,this._modelOption.getDimensionInfoByValue=Rh,this._modelOption.getRectByDimensionData=jf}}uw.type="area",uw.seriesType=Ye.area,uw.transformerConstructor=eRe,Li(uw,xg);const ZQt=()=>{Bu(),ss(),d_(),xc(),qQt(),wc(),ne.registerChart(uw.type,uw)};function tRe(n,e=!0){return(t,i,r)=>{const s=n.direction==="vertical"?n.yField:n.xField,a=t==null?void 0:t[s];return n.direction==="vertical"?{overall:e&&n.growFrom(),orient:a>0?"negative":"positive"}:{overall:!!e&&n.growFrom(),orient:a>0?"positive":"negative"}}}const tH=(n,e=!0)=>({type:n.direction==="horizontal"?"growWidthIn":"growHeightIn",options:tRe(n,e)}),_$=(n,e=!0)=>({type:n.direction==="horizontal"?"growWidthOut":"growHeightOut",options:tRe(n,e)}),QQt={type:"fadeIn"},JQt={type:"growCenterIn"};function eJt(n,e){if(e===!1)return{};switch(e){case"fadeIn":return QQt;case"scaleIn":return JQt;default:return tH(n)}}const tJt=()=>{ne.registerAnimation("bar",(n,e)=>({appear:eJt(n,e),enter:tH(n,!1),exit:_$(n,!1),disappear:_$(n)}))};class QO extends Mu{constructor(){super(...arguments),this.type=QO.type}_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{width:void 0,height:void 0,lineWidth:0})}}QO.type="rect";const Jm=()=>{pd(),yg(),QKt(),ne.registerMark(QO.type,QO),Yqt(),ne.registerGraphicComponent("rect",CM)},CQ=Object.assign(Object.assign({},oa),{bar:{name:"bar",type:"rect"},barBackground:{name:"barBackground",type:"rect"}});function nRe(n,e,t){var i,r;if(n.values.length>0){let s;if(n.sortDatums.length){let a=n.sortDatums;e&&(a=n.sortDatums.slice().reverse());for(let o=0;o<a.length;o++)s=Qge(a[o].datum,s,a[o].series,t,(r=(i=a[o].series[t.axisHelper]).getScale)===null||r===void 0?void 0:r.call(i,0),o===0)}else{let a=n.series;e&&(a=a.slice().reverse()),a.forEach(({s:o,values:l},u)=>{var c,d;const h=(d=(c=o[t.axisHelper]).getScale)===null||d===void 0?void 0:d.call(c,0);for(let f=0;f<l.length;f++){const p=l[e?l.length-1-f:f];s=Qge(p,s,o,t,h,f===0&&u===0)}})}}for(const s in n.nodes)nRe(n.nodes[s],e,t)}function Qge(n,e,t,i,r,s){const a=t.getSpec().barMinHeight,o=t[i.axisHelper].isInverse(),l=xi(t[i.startMethod](n),r);let u=xi(t[i.endMethod](n),r);s&&(e=l);let c=Math.abs(l-u);c<=0&&!nQ(n[t.getStackValueField()],r)?c=0:c<a&&(c=a);let d=1;return u<l?d=-1:u===l&&(d=i.isVertical?o?1:-1:o?-1:1),u=e+d*c,n[i.start]=e,n[i.end]=u,u}class nH extends bl{constructor(){super(...arguments),this._supportStack=!0}_transformLabelSpec(e){this._addMarkLabelSpec(e,"bar")}}const nJt={label:{visible:!1,position:"outside",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}}};class _f extends Oh{constructor(){super(...arguments),this.type=Ye.bar,this._barMarkName="bar",this._barMarkType="rect",this.transformerConstructor=nH,this._bandPosition=0,this._getLinearBarRange=(e,t)=>{let[i,r]=[e,t].sort((l,u)=>l-u);const s=r-i;if(this._spec.barGap){const l=.5*this._spec.barGap;i=i+l,r=r-l}const a=r-i,o=mo(this._spec.barMinWidth||2,s);if(a<o){const l=(o-a)/2;i-=l,r+=l}return[i,r]},this._getBarXStart=(e,t,i)=>this._shouldDoPreCalculate()?(this._calculateStackRectPosition(!1),e[Cge]):this._spec.barMinHeight?this._calculateRectPosition(e,!1,i):xi(this._dataToPosX(e),t,i),this._getBarXEnd=(e,t,i)=>this._shouldDoPreCalculate()?(this._calculateStackRectPosition(!1),e[Tge]):xi(this._dataToPosX1(e),t,i),this._getLinearBarXRange=(e,t,i)=>{const r=xi(this._dataToPosX(e),t,i),s=xi(this._dataToPosX1(e),t,i);return this._getLinearBarRange(r,s)},this._getBarYStart=(e,t)=>this._shouldDoPreCalculate()?(this._calculateStackRectPosition(!0),e[Ege]):this._spec.barMinHeight?this._calculateRectPosition(e,!0):xi(this._dataToPosY(e),t),this._getBarYEnd=(e,t)=>this._shouldDoPreCalculate()?(this._calculateStackRectPosition(!0),e[Age]):xi(this._dataToPosY1(e),t),this._getLinearBarYRange=(e,t,i)=>{const r=xi(this._dataToPosY(e),t,i),s=xi(this._dataToPosY1(e),t,i);return this._getLinearBarRange(r,s)},this._getBarBackgroundXStart=e=>{const t=e.range();return Math.min(t[0],t[t.length-1])},this._getBarBackgroundXEnd=e=>{const t=e.range();return Math.max(t[0],t[t.length-1])},this._getBarBackgroundYStart=e=>{const t=e.range();return Math.min(t[0],t[t.length-1])},this._getBarBackgroundYEnd=e=>{const t=e.range();return Math.max(t[0],t[t.length-1])},this._getBarBackgroundPositionXEncoder=()=>{var e;return(e=this._barBackgroundPositionXEncoder)===null||e===void 0?void 0:e.bind(this)},this._setBarBackgroundPositionXEncoder=e=>{this._barBackgroundPositionXEncoder=e.bind(this)},this._getBarBackgroundPositionYEncoder=()=>{var e;return(e=this._barBackgroundPositionYEncoder)===null||e===void 0?void 0:e.bind(this)},this._setBarBackgroundPositionYEncoder=e=>{this._barBackgroundPositionYEncoder=e.bind(this)}}initMark(){this._initBarBackgroundMark(),this._barMark=this._createMark(Object.assign(Object.assign({},_f.mark.bar),{name:this._barMarkName,type:this._barMarkType}),{groupKey:this._seriesField,isSeriesMark:!0},{morphElementKey:this.getDimensionField()[0],morph:bg(this._spec,this._barMarkName)})}_initBarBackgroundMark(){this._spec.barBackground&&this._spec.barBackground.visible&&(this._barBackgroundMark=this._createMark(_f.mark.barBackground,{dataView:this._barBackgroundViewData.getDataView(),dataProductId:this._barBackgroundViewData.getProductId()}))}initMarkStyle(){this._barMark&&this.setMarkStyle(this._barMark,{fill:this.getColorAttribute()},"normal",Qe.Series)}initLabelMarkStyle(e){e&&this.setMarkStyle(e,{fill:this.getColorAttribute(),text:t=>t[this.getStackValueField()],z:this._fieldZ?this.dataToPositionZ.bind(this):null})}initTooltip(){super.initTooltip();const{mark:e,group:t}=this._tooltipHelper.activeTriggerSet;this._barMark&&(e.add(this._barMark),t.add(this._barMark))}_statisticViewData(){var e,t;super._statisticViewData();const i=(e=this._spec.barBackground)!==null&&e!==void 0?e:{};if(!i.visible)return;const r=this._getRelatedComponentSpecInfo("axes").some(a=>a.type===He.cartesianBandAxis);let s;if(rn(this._option.dataSet,"addVChartProperty",X1),r){const a=([o],{scaleDepth:l})=>{var u,c;let d=[{}];const h=this.getDimensionField(),f=J(l)?h.length:Math.min(h.length,l);for(let p=0;p<f;p++){const g=h[p],m=(u=o.latestData[g])===null||u===void 0?void 0:u.values;if(!(m!=null&&m.length))continue;const v=[],_=(c=this._spec.dataKey)!==null&&c!==void 0?c:yc;for(let y=0;y<m.length;y++)for(let x=0;x<d.length;x++)v.push(Object.assign(Object.assign({},d[x]),{[g]:m[y],[_]:m[y]}));d=v}return d};rn(this._option.dataSet,"dimensionItems",a),s=new Pi(this._option.dataSet).parse([this._viewDataStatistics],{type:"dataview"}).transform({type:"dimensionItems",options:{scaleDepth:J(i.fieldLevel)?void 0:i.fieldLevel+1}},!1).transform({type:"addVChartProperty",options:{beforeCall:UC.bind(this),call:E0}},!1),(t=this._viewDataStatistics)===null||t===void 0||t.target.addListener("change",s.reRunAllTransform)}else{const a=([l])=>{const u=[],[c,d]=this.getDimensionContinuousField(),h={};return o.latestData.forEach(f=>{const p=`${f[c]}-${f[d]}`;h[p]||(h[p]={[c]:f[c],[d]:f[d]},u.push(h[p]))}),u};rn(this._option.dataSet,"dimensionItems",a);const o=this.getViewData();s=new Pi(this._option.dataSet).parse([o],{type:"dataview"}).transform({type:"dimensionItems"},!1).transform({type:"addVChartProperty",options:{beforeCall:UC.bind(this),call:E0}},!1),o==null||o.target.addListener("change",s.reRunAllTransform)}this._barBackgroundViewData=new Zl(this._option,s)}init(e){var t,i;super.init(e),this.direction==="vertical"?((t=this._xAxisHelper)===null||t===void 0?void 0:t.getScale(0).type)==="band"?this.initBandRectMarkStyle():this.initLinearRectMarkStyle():((i=this._yAxisHelper)===null||i===void 0?void 0:i.getScale(0).type)==="band"?this.initBandRectMarkStyle():this.initLinearRectMarkStyle()}_shouldDoPreCalculate(){const e=this.getRegion();return this.getStack()&&e.getSeries().filter(t=>t.type===this.type&&t.getSpec().barMinHeight).length}_calculateStackRectPosition(e){const t=this.getRegion();if(t._bar_series_position_calculated)return;let i,r,s,a,o;t._bar_series_position_calculated=!0,e?(i=Age,r=Ege,s="_dataToPosY1",a="_dataToPosY",o="_yAxisHelper"):(i=Tge,r=Cge,s="_dataToPosX1",a="_dataToPosX",o="_xAxisHelper");const l=oIe(t,!1,u=>u.type===this.type);for(const u in l)for(const c in l[u].nodes)nRe(l[u].nodes[c],t.getStackInverse(),{isVertical:e,start:i,end:r,startMethod:s,endMethod:a,axisHelper:o})}_calculateRectPosition(e,t,i){var r,s;let a,o,l;t?(a="_dataToPosY1",o="_dataToPosY",l="_yAxisHelper"):(a="_dataToPosX1",o="_dataToPosX",l="_xAxisHelper");const u=(s=(r=this[l]).getScale)===null||s===void 0?void 0:s.call(r,0),c=this[l].isInverse(),d=this._spec.barMinHeight,h=xi(this[a](e),u,i),f=xi(this[o](e),u,i);let p=Math.abs(h-f);p<=0&&!nQ(e[this.getStackValueField()],u)?p=0:p<d&&(p=d);let g=1;return f<h?g=-1:f===h&&(g=t?c?1:-1:c?-1:1),h+g*p}_dataToPosX(e){return this.dataToPositionX(e)}_dataToPosX1(e){return this.dataToPositionX1(e)}_dataToPosY(e){return this.dataToPositionY(e)}_dataToPosY1(e){return this.dataToPositionY1(e)}initBandRectMarkStyle(){var e,t,i,r;const s=(t=(e=this._xAxisHelper)===null||e===void 0?void 0:e.getScale)===null||t===void 0?void 0:t.call(e,0),a=(r=(i=this._yAxisHelper)===null||i===void 0?void 0:i.getScale)===null||r===void 0?void 0:r.call(i,0);this.direction==="horizontal"?this.setMarkStyle(this._barMark,{x:o=>this._getBarXStart(o,s),x1:o=>this._getBarXEnd(o,s),y:o=>this._getPosition(this.direction,o),height:()=>this._getBarWidth(this._yAxisHelper),width:()=>{},y1:()=>{}},"normal",Qe.Series):this.setMarkStyle(this._barMark,{y:o=>this._getBarYStart(o,a),y1:o=>this._getBarYEnd(o,a),x:o=>this._getPosition(this.direction,o),width:()=>this._getBarWidth(this._xAxisHelper),x1:()=>{},height:()=>{}},"normal",Qe.Series),this._initStackBarMarkStyle(),this._initBandBarBackgroundMarkStyle()}_initStackBarMarkStyle(){var e,t,i,r;if(!this._spec.stackCornerRadius)return;const s=(t=(e=this._xAxisHelper)===null||e===void 0?void 0:e.getScale)===null||t===void 0?void 0:t.call(e,0),a=(r=(i=this._yAxisHelper)===null||i===void 0?void 0:i.getScale)===null||r===void 0?void 0:r.call(i,0);this._barMark.setMarkConfig({clip:!0,clipPath:()=>{const o=[];return this._forEachStackGroup(l=>{let u=1/0,c=-1/0,d=!1,h=1/0,f=-1/0;l.values.forEach(m=>{const v=m[Ch],_=m[Pu],y=m[w0],x=m[Hy];u=Math.min(u,v,_),c=Math.max(c,v,_),Y(y)&&Y(x)&&(d=!0,h=Math.min(h,y,x),f=Math.max(f,y,x))});const p=Object.assign(Object.assign(Object.assign({},l.values[0]),{[Ch]:u,[Pu]:c}),d?{[w0]:h,[Hy]:f}:void 0),g=this.direction==="horizontal"?{x:this._getBarXStart(p,s),x1:this._getBarXEnd(p,s),y:this._getPosition(this.direction,p),height:this._getBarWidth(this._yAxisHelper)}:{y:this._getBarYStart(p,a),y1:this._getBarYEnd(p,a),x:this._getPosition(this.direction,p),width:this._getBarWidth(this._xAxisHelper)};o.push(CM(Object.assign(Object.assign({},g),{cornerRadius:Re(this._spec.stackCornerRadius)?this._spec.stackCornerRadius(g,p,this._markAttributeContext):this._spec.stackCornerRadius,fill:!0})))}),o}})}initLinearRectMarkStyle(){var e,t,i,r;const s=(t=(e=this._xAxisHelper)===null||e===void 0?void 0:e.getScale)===null||t===void 0?void 0:t.call(e,0),a=(r=(i=this._yAxisHelper)===null||i===void 0?void 0:i.getScale)===null||r===void 0?void 0:r.call(i,0);if(this.direction==="horizontal"){const o=Y(this._fieldY2)?{y:l=>this._getLinearBarYRange(l,a,!0)[0],y1:l=>this._getLinearBarYRange(l,a,!0)[1]}:{y:l=>xi(this._dataToPosY(l)-this._getBarWidth(this._yAxisHelper)/2,a,!0),height:l=>this._getBarWidth(this._yAxisHelper)};this.setMarkStyle(this._barMark,Object.assign({x:l=>this._getBarXStart(l,s,!0),x1:l=>this._getBarXEnd(l,s,!0)},o),"normal",Qe.Series),this.setMarkStyle(this._barBackgroundMark,Object.assign({x:()=>this._getBarBackgroundXStart(s),x1:()=>this._getBarBackgroundXEnd(s)},o),"normal",Qe.Series)}else{const o=Y(this._fieldX2)?{x:l=>this._getLinearBarXRange(l,s,!0)[0],x1:l=>this._getLinearBarXRange(l,s,!0)[1]}:{x:l=>xi(this._dataToPosX(l)-this._getBarWidth(this._xAxisHelper)/2,s,!0),width:l=>this._getBarWidth(this._xAxisHelper)};this.setMarkStyle(this._barMark,Object.assign(Object.assign({},o),{y:l=>this._getBarYStart(l,a),y1:l=>this._getBarYEnd(l,a)}),"normal",Qe.Series),this.setMarkStyle(this._barBackgroundMark,Object.assign(Object.assign({},o),{y:()=>this._getBarBackgroundYStart(a),y1:()=>this._getBarBackgroundYEnd(a)}),"normal",Qe.Series)}}_initBandBarBackgroundMarkStyle(){var e,t,i,r,s;if(!this._barBackgroundMark)return;const a=(t=(e=this._xAxisHelper)===null||e===void 0?void 0:e.getScale)===null||t===void 0?void 0:t.call(e,0),o=(r=(i=this._yAxisHelper)===null||i===void 0?void 0:i.getScale)===null||r===void 0?void 0:r.call(i,0),l=(s=this._spec.barBackground)!==null&&s!==void 0?s:{},u=J(l.fieldLevel)?void 0:l.fieldLevel+1;this.direction==="horizontal"?this.setMarkStyle(this._barBackgroundMark,{x:()=>this._getBarBackgroundXStart(a),x1:()=>this._getBarBackgroundXEnd(a),y:c=>this._getPosition(this.direction,c,u,"barBackground"),height:()=>this._getBarWidth(this._yAxisHelper,u),width:()=>{},y1:()=>{}},"normal",Qe.Series):this.setMarkStyle(this._barBackgroundMark,{x:c=>this._getPosition(this.direction,c,u,"barBackground"),y:()=>this._getBarBackgroundYStart(o),y1:()=>this._getBarBackgroundYEnd(o),width:()=>this._getBarWidth(this._xAxisHelper,u),x1:()=>{},height:()=>{}},"normal",Qe.Series)}initAnimation(){var e,t;const i={yField:this._fieldY[0],xField:this._fieldX[0],direction:this.direction,growFrom:()=>{var a;const o=this.direction==="horizontal"?(a=this._xAxisHelper)===null||a===void 0?void 0:a.getScale(0):this._yAxisHelper.getScale(0);if(o){const l=o.domain(),u=Sa(l),c=js(l);return c<0?o.scale(c):u>0?o.scale(u):o.scale(0)}}},r=(e=this._spec.animationAppear)===null||e===void 0?void 0:e.preset,s=c_(this);this._barMark.setAnimationConfig(ei((t=ne.getAnimationInKey("bar"))===null||t===void 0?void 0:t(i,r),_i(this._barMarkName,this._spec,this._markAttributeContext),s))}_getBarWidth(e,t){var i,r;const s=this._groups?this._groups.fields.length:1,a=J(t)?s:Math.min(s,t),o=(r=(i=e.getBandwidth)===null||i===void 0?void 0:i.call(e,a-1))!==null&&r!==void 0?r:6,l=Y(this._spec.barWidth)&&a===s,u=Y(this._spec.barMinWidth),c=Y(this._spec.barMaxWidth);let d=o;return l&&(d=mo(this._spec.barWidth,o)),u&&(d=Math.max(d,mo(this._spec.barMinWidth,o))),c&&(d=Math.min(d,mo(this._spec.barMaxWidth,o))),d}_getPosition(e,t,i,r){var s,a,o,l,u;let c,d,h;e==="horizontal"?(c=this.getYAxisHelper(),d="height",h=r==="barBackground"?this.dataToBarBackgroundPositionY.bind(this):this.dataToPositionY.bind(this)):(c=this.getXAxisHelper(),d="width",h=r==="barBackground"?this.dataToBarBackgroundPositionX.bind(this):this.dataToPositionX.bind(this));const f=c.getScale(0),p=this._groups?this._groups.fields.length:1,g=J(i)?p:Math.min(p,i),m=(a=(s=c.getBandwidth)===null||s===void 0?void 0:s.call(c,g-1))!==null&&a!==void 0?a:6,v=g===p?this._barMark.getAttribute(d,t):m;if(g>1&&Y(this._spec.barGapInGroup)){const y=this._groups.fields,x=Ae(this._spec.barGapInGroup);let w=0,T=0;for(let E=y.length-1;E>=1;E--){const A=y[E],k=(l=(o=c.getScale(E))===null||o===void 0?void 0:o.domain())!==null&&l!==void 0?l:[],P=k.length,I=mo((u=x[E-1])!==null&&u!==void 0?u:Xn(x),m),D=k.indexOf(t[A]);E===y.length-1?(w+=P*v+(P-1)*I,T+=D*(v+I)):(T+=D*(w+I),w+=w+(P-1)*I)}return f.scale(t[y[0]])+c.getBandwidth(0)/2-w/2+T}const _=Ei(f.type||"band");return h(t,g)+.5*(m-v)+(_?-m/2:0)}dataToBarBackgroundPositionX(e,t){return this._dataToPosition(e,this._xAxisHelper,this.fieldX,t,this._getBarBackgroundPositionXEncoder,this._setBarBackgroundPositionXEncoder)}dataToBarBackgroundPositionY(e,t){return this._dataToPosition(e,this._yAxisHelper,this.fieldY,t,this._getBarBackgroundPositionYEncoder,this._setBarBackgroundPositionYEncoder)}onLayoutEnd(){super.onLayoutEnd(),this.getRegion()._bar_series_position_calculated=!1,this._spec.sampling&&this.compile()}onDataUpdate(){super.onDataUpdate(),this.getRegion()._bar_series_position_calculated=!1}compile(){if(super.compile(),this._spec.sampling){const{width:e,height:t}=this._region.getLayoutRect(),i=this._fieldY,r=this._fieldX;this._data.setTransform([{type:"sampling",size:this._direction==="horizontal"?t:e,factor:this._spec.samplingFactor,yfield:this._direction==="horizontal"?r[0]:i[0],groupBy:this._seriesField,mode:this._spec.sampling}])}}getDefaultShapeType(){return"square"}getActiveMarks(){return[this._barMark]}compileData(){var e;super.compileData(),(e=this._barBackgroundViewData)===null||e===void 0||e.compile()}fillData(){var e,t;super.fillData(),(t=(e=this._barBackgroundViewData)===null||e===void 0?void 0:e.getDataView())===null||t===void 0||t.reRunAllTransform()}viewDataUpdate(e){var t,i,r;super.viewDataUpdate(e),(i=(t=this._barBackgroundViewData)===null||t===void 0?void 0:t.getDataView())===null||i===void 0||i.reRunAllTransform(),(r=this._barBackgroundViewData)===null||r===void 0||r.updateData()}release(){var e;super.release(),(e=this._barBackgroundViewData)===null||e===void 0||e.release(),this._barBackgroundViewData=null}}_f.type=Ye.bar,_f.builtInTheme={bar:nJt},_f.mark=CQ,_f.transformerConstructor=nH;const iRe=()=>{xQ(),Jm(),tJt(),Mh(),Ph(),ne.registerSeries(_f.type,_f)};class TQ extends Sg{_getDefaultSeriesSpec(e){return super._getDefaultSeriesSpec(e,["barWidth","barMaxWidth","barMinWidth","barGapInGroup","barMinHeight","sampling","samplingFactor","barBackground","stackCornerRadius","useSequentialAnimation"])}transformSpec(e){super.transformSpec(e),l_(e)}_transformAxisSpec(e){var t,i;if(super._transformAxisSpec(e),!e.axes)return;const r=e.series.some(a=>a.direction==="horizontal"),s=(t=e.axes.find(a=>a.type==="band"))!==null&&t!==void 0?t:e.axes.find(a=>(r?["left","right"]:["top","bottom"]).includes(a.orient));if(s&&!s.bandSize&&!s.maxBandSize&&!s.minBandSize&&e.autoBandSize){const a=pn(e.autoBandSize)&&(i=e.autoBandSize.extend)!==null&&i!==void 0?i:0,{barMaxWidth:o,barMinWidth:l,barWidth:u,barGapInGroup:c}=e.series.find(d=>d.type==="bar");this._applyAxisBandSize(s,a,{barMaxWidth:o,barMinWidth:l,barWidth:u,barGapInGroup:c})}}}class Bb extends As{constructor(){super(...arguments),this.transformerConstructor=TQ,this.type="bar",this.seriesType=Ye.bar}_setModelOption(){this._modelOption.getDimensionInfo=Nf,this._modelOption.getDimensionInfoByValue=Rh,this._modelOption.getRectByDimensionData=jf}}Bb.type="bar",Bb.seriesType=Ye.bar,Bb.transformerConstructor=TQ,Li(Bb,xg);const iJt=()=>{Bu(),ss(),d_(),xc(),iRe(),wc(),ne.registerChart(Bb.type,Bb)},Jge=10,rJt=[10,20],sJt=ma.Linear,eme="circle",aJt=ma.Ordinal,oJt=["circle","square","triangle","diamond","star"],lJt=(n,e)=>e==="fadeIn"?{type:"fadeIn"}:{type:"scaleIn"},uJt=()=>{ne.registerAnimation("scatter",(n,e)=>Object.assign({appear:lJt(0,e)},hQ))},cJt=Object.assign(Object.assign({},oa),{point:{name:"point",type:"symbol"}});class rRe extends bl{_transformLabelSpec(e){this._addMarkLabelSpec(e,"point")}}const dJt={point:{style:{size:8,symbolType:"circle",lineWidth:0,fillOpacity:.8}},label:{visible:!1,offset:5,position:"top",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}}};class dm extends Oh{constructor(){super(...arguments),this.type=Ye.scatter,this.transformerConstructor=rRe,this._invalidType="zero"}setAttrFromSpec(){super.setAttrFromSpec(),this._size=this._spec.size,this._sizeField=this._spec.sizeField,this._shape=this._spec.shape,this._shapeField=this._spec.shapeField}_getSeriesAttribute(e,t,{defaultScaleType:i,defaultRange:r},s){var a,o,l,u;if(Re(t))return t;if(Oe(t)){if(J(e))return(a=this._option)===null||a===void 0||a.onError(`${s}Field is required.`),t;if(i!=="ordinal"&&t.length>2)return(o=this._option)===null||o===void 0||o.onError(`${s} length is invalid, specify up to 2 ${s}s.`),t;const c=`${Xt}_series_scatter_${this.id}_scale_${s}`;return this._option.globalScale.registerModelScale({id:c,type:i,domain:[{dataId:this._rawData.name,fields:[e]}],range:t}),{scale:c,field:e}}if(pn(t)){if(J(e))return(l=this._option)===null||l===void 0||l.onError(`${s}Field is required.`),t;const c=`${Xt}_series_scatter_${this.id}_scale_${s}`,d=Object.assign({id:c,type:i,domain:[{dataId:this._rawData.name,fields:[e]}],range:r},t);return this._option.globalScale.registerModelScale(d),{scale:d.id,field:e}}return(u=this._option)===null||u===void 0||u.onError(`${s} attribute is invalid.`),t}getSizeAttribute(e,t){return J(t)?Jge:st(t)?t:Jt(t)&&SNt(t)?parseFloat(t):this._getSeriesAttribute(e,t,{defaultScaleType:sJt,defaultRange:rJt},"size")}getShapeAttribute(e,t){return J(t)?eme:Jt(t)?t:this._getSeriesAttribute(e,t,{defaultScaleType:aJt,defaultRange:oJt},"shape")}initMark(){this._symbolMark=this._createMark(dm.mark.point,{groupKey:this._seriesField,isSeriesMark:!0},{morph:bg(this._spec,dm.mark.point.name),morphElementKey:this.getDimensionField()[0]})}initMarkStyle(){this.initSymbolMarkStyle()}initAnimation(){var e,t,i;const r=c_(this),s=(t=(e=this._spec)===null||e===void 0?void 0:e.animationAppear)===null||t===void 0?void 0:t.preset;this._symbolMark.setAnimationConfig(ei((i=ne.getAnimationInKey("scatter"))===null||i===void 0?void 0:i({},s),_i("point",this._spec,this._markAttributeContext),r))}initSymbolMarkStyle(){const e=this._symbolMark;e&&(this._invalidType!=="zero"&&this.setMarkStyle(e,{visible:this._getInvalidDefined.bind(this)}),this.setMarkStyle(e,{x:this.dataToPositionX.bind(this),y:this.dataToPositionY.bind(this),z:this._fieldZ?this.dataToPositionZ.bind(this):null,fill:this.getColorAttribute(),size:st(this._size)||Re(this._size)?this._size:Jge,symbolType:Jt(this._shape)||Re(this._shape)?this._shape:eme},pt.STATE_NORMAL,Qe.Series),(Y(this._sizeField)||Y(this._size))&&this.setMarkStyle(e,{size:this.getSizeAttribute(this._sizeField,this._size)},pt.STATE_NORMAL,Qe.User_Mark),(Y(this._shapeField)||Y(this._shape))&&this.setMarkStyle(e,{symbolType:this.getShapeAttribute(this._shapeField,this._shape)},pt.STATE_NORMAL,Qe.User_Mark))}initTooltip(){super.initTooltip(),this._symbolMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._symbolMark)}viewDataStatisticsUpdate(e){super.viewDataStatisticsUpdate(e);const t=[this.getDimensionField()[0],this.getStackValueField()].every(i=>{var r,s,a;return i&&((a=(s=(r=this.getViewDataStatistics())===null||r===void 0?void 0:r.latestData)===null||s===void 0?void 0:s[i])===null||a===void 0?void 0:a.allValid)});this._invalidType==="zero"||t?this.setMarkStyle(this._symbolMark,{visible:!0},"normal",Qe.Series):this.setMarkStyle(this._symbolMark,{visible:this._getInvalidDefined.bind(this)},"normal",Qe.Series),this._symbolMark.getProduct()&&this._symbolMark.compileEncode()}initLabelMarkStyle(e){e&&(this._labelMark=e,this.setMarkStyle(e,{fill:this.getColorAttribute(),text:t=>t[this.getStackValueField()],z:this._fieldZ?this.dataToPositionZ.bind(this):null},pt.STATE_NORMAL,Qe.Series),this._invalidType!=="zero"&&this.setMarkStyle(e,{visible:this._getInvalidDefined.bind(this)},pt.STATE_NORMAL,Qe.Series))}handleZoom(e){var t,i;this.getMarksWithoutRoot().forEach(s=>{if(!s)return;const a=s.getGraphics();a&&a.length&&a.forEach((o,l)=>{var u,c;const d=(c=(u=o==null?void 0:o.context)===null||u===void 0?void 0:u.data)===null||c===void 0?void 0:c[0],h=this.dataToPosition(d);h&&o&&o.translateTo(h.x,h.y)})});const r=(i=(t=this._labelMark)===null||t===void 0?void 0:t.getComponent())===null||i===void 0?void 0:i.getProduct();r&&r.evaluate(null,null)}handlePan(e){this.handleZoom(e)}getDefaultShapeType(){return"circle"}getActiveMarks(){return[this._symbolMark]}}dm.type=Ye.scatter,dm.mark=cJt,dm.builtInTheme={scatter:dJt},dm.transformerConstructor=rRe;const hJt=()=>{Qm(),uJt(),Mh(),Ph(),ne.registerSeries(dm.type,dm)};class sRe extends Sg{_getDefaultSeriesSpec(e){return super._getDefaultSeriesSpec(e,["point","size","shape","shapeField","sizeField"])}}class cw extends As{constructor(){super(...arguments),this.transformerConstructor=sRe,this.type="scatter",this.seriesType=Ye.scatter}_setModelOption(){this._modelOption.getDimensionInfo=Nf,this._modelOption.getDimensionInfoByValue=Rh,this._modelOption.getRectByDimensionData=jf}}cw.type="scatter",cw.seriesType=Ye.scatter,cw.transformerConstructor=sRe,Li(cw,xg);const fJt=()=>{Bu(),ss(),wc(),xc(),hJt(),ne.registerChart(cw.type,cw)};class pJt extends A0{constructor(){super(...arguments),this.type=Ye.geo,this.coordinate="geo",this._nameProperty="name"}getMapViewData(){var e;return(e=this._mapViewData)===null||e===void 0?void 0:e.getDataView()}get nameField(){return this._nameField}set nameField(e){this._nameField=e}get valueField(){return this._valueField}set valueField(e){this._valueField=e}getNameProperty(){return this._nameProperty}getCentroidProperty(){return this._centroidProperty}getCoordinateHelper(){return this._coordinateHelper}setCoordinateHelper(e){this._coordinateHelper=e}getStatisticFields(){const e=[];return e.push({key:this._nameField,operations:["values"]}),e.push({key:this._valueField,operations:["max","min"]}),e}getGroupFields(){return null}dataToPosition(e,t){var i;let r=null;if(!e||t&&!this.isDatumInViewData(e))return r;const{dataToPosition:s,latitudeField:a,longitudeField:o}=this._coordinateHelper;if(r=this.nameToPosition(e),r===null){const l=o?e==null?void 0:e[o]:Number.NaN,u=a?e==null?void 0:e[a]:Number.NaN;r=(i=s==null?void 0:s([l,u]))!==null&&i!==void 0?i:null}return r}nameToPosition(e){const t=this.getDatumName(e);return J(t)?null:this.nameValueToPosition(t)}nameValueToPosition(e){var t,i;const r=(i=(t=this.getMapViewData())===null||t===void 0?void 0:t.latestData)===null||i===void 0?void 0:i.filter(l=>this.getDatumName(l)===e)[0];if(J(r))return null;const{dataToPosition:s}=this._coordinateHelper,a=this.getDatumCenter(r),o=s==null?void 0:s(a);return J(o)||isNaN(o.x)||isNaN(o.y)?null:o}dataToLatitude(e){if(!this._coordinateHelper)return Number.NaN;const{dataToLatitude:t}=this._coordinateHelper;return t(e)}dataToLongitude(e){if(!this._coordinateHelper)return Number.NaN;const{dataToLatitude:t}=this._coordinateHelper;return t(e)}valueToPosition(e,t){return{x:this.dataToLongitude(e),y:this.dataToLatitude(t)}}positionToData(e){}latitudeToData(e){}longitudeToData(e){}dataToPositionX(e){var t;return(t=this._option)===null||t===void 0||t.onError("Method not implemented."),0}dataToPositionY(e){var t;return(t=this._option)===null||t===void 0||t.onError("Method not implemented."),0}dataToPositionZ(e){var t;return(t=this._option)===null||t===void 0||t.onError("Method not implemented."),0}release(){super.release(),this._mapViewData.release(),this._mapViewData=this._mapViewDataStatistics=null}getStackGroupFields(){return[this._nameField]}getStackValueField(){return this._spec.valueField}compileData(){var e;(e=this._mapViewData)===null||e===void 0||e.compile()}initStatisticalData(){if(super.initStatisticalData(),this._mapViewData){const e=`${Xt}_series_${this.id}_mapViewDataStatic`;this._mapViewDataStatistics=this.createStatisticalData(e,this._mapViewData.getDataView()),this._mapViewData.getDataView().target.removeListener("change",this._mapViewDataStatistics.reRunAllTransform)}}getSeriesKeys(){var e,t,i,r,s;return this._seriesField?(s=(t=(e=this.getRawDataStatisticsByField(this._seriesField))===null||e===void 0?void 0:e.values)!==null&&t!==void 0?t:(r=(i=this._mapViewDataStatistics)===null||i===void 0?void 0:i.latestData[this._seriesField])===null||r===void 0?void 0:r.values)!==null&&s!==void 0?s:[]:this.name?[this.name]:this.userId?[`${this.userId}`]:[`${this.type}_${this.id}`]}fillData(){var e,t;super.fillData(),(e=this._mapViewData.getDataView())===null||e===void 0||e.reRunAllTransform(),(t=this._mapViewDataStatistics)===null||t===void 0||t.reRunAllTransform()}getActiveMarks(){return[]}}const gJt=(n,e)=>(n.features&&n.features.forEach((t,i)=>{var r;t[Go]=i;const s=(r=t.properties)===null||r===void 0?void 0:r[e.nameProperty];e.nameMap&&e.nameMap[s]?t[u$]=e.nameMap[s]:t[u$]=s}),n.features);class mJt extends Jl{constructor(){super(...arguments),this.dimensionTooltipTitleCallback=e=>{var t;const i=this.series;return(t=this._getDimensionData(e))!==null&&t!==void 0?t:i.getDatumName(e)}}}class JO extends Mu{constructor(){super(...arguments),this.type=JO.type}_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{lineWidth:0,path:""})}}JO.type="path";const EQ=()=>{ne.registerMark(JO.type,JO),pd(),G1(),ne.registerGraphicComponent("path",AZ)},vJt=Object.assign(Object.assign({},oa),{area:{name:"area",type:"path"}});class yJt{constructor(e){this.projection=oHt(e.type)()}fit(e,t,i){const r={type:"FeatureCollection",features:i};this.projection.fitExtent([e,t],r)}center(e){var t,i;(i=(t=this.projection)===null||t===void 0?void 0:t.center)===null||i===void 0||i.call(t,e)}project(e){var t;return(t=this.projection)===null||t===void 0?void 0:t.call(this,e)}shape(e){var t,i;return(i=(t=this.projection)===null||t===void 0?void 0:t.path)===null||i===void 0?void 0:i.call(t,e)}invert(e){var t,i;return(i=(t=this.projection)===null||t===void 0?void 0:t.invert)===null||i===void 0?void 0:i.call(t,e)}scale(e){var t;if(!((t=this.projection)===null||t===void 0)&&t.scale){if(e===void 0)return this.projection.scale();this.projection.scale(e)}}translate(e){var t;if(!((t=this.projection)===null||t===void 0)&&t.scale){if(e===void 0)return this.projection.translate();this.projection.translate(e)}}evaluate(e,t,i){const r=this.projection.copy();return r==null?void 0:r.fitExtent([e,t],{type:"FeatureCollection",features:i})}}class _Jt{parserScrollEvent(e){return e&&!(e.ctrlKey||e.deltaY===0&&e.deltaX===0)&&(e.scrollX=e.deltaX,e.scrollY=e.deltaY,e)}parserZoomEvent(e){if(!e)return e;const t=Math.pow(1.0005,-e.deltaY*Math.pow(16,e.deltaMode));return e.zoomDelta=t,e.zoomX=e.canvasX,e.zoomY=e.canvasY,e}clearZoom(){}clearScroll(){}clearDrag(){}}class bJt{constructor(){this._lastScale=0}clearZoom(){this._lastScale=0}parserZoomEvent(e){const t=e.scale;if(this._lastScale===0)return this._lastScale=t,e;e.zoomDelta=t/this._lastScale;const i=e.center;return e.zoomX=i.x,e.zoomY=i.y,this._lastScale=t,e}parserScrollEvent(e){return e}clearScroll(){}clearDrag(){}}function Vg(n){return n===ha["desktop-browser"]||n===ha["desktop-miniApp"]?{start:"pointerdown",move:"pointermove",end:["pointerup","pointerupoutside"],zoom:"wheel",zoomEnd:"pointerup",scroll:"wheel",trigger:_Jt}:Ny(n)||s_(n)?{start:"pointerdown",move:"pointermove",end:["pointerup","pointerupoutside","pointerleave"],zoom:"pinch",zoomEnd:"pinchend",scroll:"pan",scrollEnd:"panend",trigger:bJt}:null}const ox={debounce:Y0,throttle:Km};class iH{constructor(){this._isGestureListener=!1}initZoomable(e,t=ha["desktop-browser"]){this._eventObj=e,this._renderMode=t,this._gestureController=this._option.getCompiler()._gestureController,this._isGestureListener=Ny(this._renderMode)||s_(this._renderMode),Vg(this._renderMode)&&(this._clickEnable=!0,this._zoomableTrigger=new(this._getZoomTriggerEvent("trigger")))}_getZoomTriggerEvent(e){return Vg(this._renderMode)[e]}_zoomEventDispatch(e,t,i,r){if(!this._isGestureListener&&!e.event)return;const s=this._isGestureListener?e:e.event.clone();this._zoomableTrigger.parserZoomEvent(s);const{zoomDelta:a,zoomX:o,zoomY:l,path:u}=s;if(!r&&!u.some(d=>d.name&&d.name.includes("region"))||J(a)||!bA({x:o,y:l},this._getRegionOrSeriesLayout(t),!1))return;this._clearDragEvent(),this._zoomableTrigger.clearScroll();let c={};i&&(c=i({zoomDelta:a,zoomX:o,zoomY:l},s)),this._eventObj.emit("zoom",Object.assign(Object.assign({scale:s.zoomDelta,scaleCenter:{x:s.zoomX,y:s.zoomY}},c),{model:this}))}_getRegionOrSeriesLayout(e){e.type!=="region"&&(e=e.getRegion());const{x:t,y:i,width:r,height:s}=e.layout.getLayout();return{x1:t,y1:i,x2:t+r,y2:i+s}}_bindZoomEventAsRegion(e,t,i,r){var s,a;const o=(s=r==null?void 0:r.delayType)!==null&&s!==void 0?s:"throttle",l=(a=r==null?void 0:r.delayTime)!==null&&a!==void 0?a:0,u=this._isGestureListener?this._gestureController:e,c=this._isGestureListener?[this._getZoomTriggerEvent("zoom")]:[this._getZoomTriggerEvent("zoom"),{level:yr.chart,consume:!0}],d=this._isGestureListener?[this._getZoomTriggerEvent("zoomEnd")]:[this._getZoomTriggerEvent("zoomEnd"),{level:yr.chart,consume:!1}];u.on(...d,ox[o](h=>{this._zoomableTrigger.clearZoom()},l)),u.on(...c,ox[o](h=>{var f;this._zoomEventDispatch(h,t,i,(f=r==null?void 0:r.allowComponentZoom)!==null&&f!==void 0&&f)},l))}initZoomEventOfSeries(e,t,i){this._option.disableTriggerEvent||Vg(this._renderMode)&&this._bindZoomEventAsRegion(e.event,e,t,i)}initZoomEventOfRegions(e,t,i,r){this._option.disableTriggerEvent||Vg(this._renderMode)&&e.forEach(s=>{t?s.getSeries().forEach(a=>{t(a)&&this._bindZoomEventAsRegion(a.event,a,i,r)}):this._bindZoomEventAsRegion(this._eventObj,s,i,r)})}_scrollEventDispatch(e,t,i){let r=!1;if(!this._isGestureListener&&(!e.event||this._option.disableTriggerEvent))return r;const s=this._isGestureListener?e:e.event;this._zoomableTrigger.parserScrollEvent(s);const{scrollX:a,scrollY:o,canvasX:l,canvasY:u}=s;return J(a)&&J(o)||bA({x:l,y:u},this._getRegionOrSeriesLayout(t),!1)&&(this._clearDragEvent(),this._zoomableTrigger.clearZoom(),i&&(r=i({scrollX:a,scrollY:o},s)),this._eventObj.emit("scroll",{scrollX:a,scrollY:o,model:this})),r}_bindScrollEventAsRegion(e,t,i,r){var s,a;const o=(s=r==null?void 0:r.delayType)!==null&&s!==void 0?s:"throttle",l=(a=r==null?void 0:r.delayTime)!==null&&a!==void 0?a:0,u=this._isGestureListener?this._gestureController:e,c=this._isGestureListener?[this._getZoomTriggerEvent("scroll")]:[this._getZoomTriggerEvent("scroll"),{level:yr.chart,consume:!0}],d=this._isGestureListener?[this._getZoomTriggerEvent("scrollEnd")]:[this._getZoomTriggerEvent("scrollEnd"),{level:yr.chart,consume:!1}];u.on(...d,ox[o](h=>{this._zoomableTrigger.clearScroll()},l)),u.on(...c,ox[o](h=>this._scrollEventDispatch(h,t,i),l))}initScrollEventOfSeries(e,t,i){Vg(this._renderMode)&&this._bindScrollEventAsRegion(e.event,e,t,i)}initScrollEventOfRegions(e,t,i,r){this._option.disableTriggerEvent||Vg(this._renderMode)&&e.forEach(s=>{t?s.getSeries().forEach(a=>{t(a)&&this._bindScrollEventAsRegion(a.event,a,i,r)}):this._bindScrollEventAsRegion(this._eventObj,s,i,r)})}_bindDragEventAsRegion(e,t,i,r){e.on(this._getZoomTriggerEvent("start"),{level:yr.chart},s=>{if(!s.event)return;const{event:a}=s;bA({x:a.canvasX,y:a.canvasY},this._getRegionOrSeriesLayout(t),!1)&&this._handleDrag(s,i,r)}),e.on("click",{level:yr.chart},()=>!this._clickEnable)}initDragEventOfSeries(e,t,i){this._option.disableTriggerEvent||Vg(this._renderMode)&&e.event.on(this._getZoomTriggerEvent("start"),{level:yr.model,filter:({model:r})=>(r==null?void 0:r.id)===e.id},r=>{this._handleDrag(r,t,i)})}initDragEventOfRegions(e,t,i,r){this._option.disableTriggerEvent||Vg(this._renderMode)&&e.forEach(s=>{t?s.getSeries().forEach(a=>{t(a)&&(a.event.on(this._getZoomTriggerEvent("start"),{level:yr.model,filter:({model:o})=>(o==null?void 0:o.id)===a.id},o=>{this._handleDrag(o,i)}),a.event.on("click",{level:yr.model,filter:({model:o})=>(o==null?void 0:o.id)===a.id},()=>!this._clickEnable))}):this._bindDragEventAsRegion(this._eventObj,s,i,r)})}_clearDragEvent(){const e=this._getZoomTriggerEvent("move"),t=this._getZoomTriggerEvent("end");this._handleDragMouseMove&&(this._eventObj.off(e,{level:yr.chart,source:vi.chart},this._handleDragMouseMove),this._handleDragMouseMove=void 0),this._handleDragMouseUp&&(t.forEach(i=>{this._eventObj.off(i,{level:yr.chart,source:vi.chart},this._handleDragMouseUp),this._eventObj.allow(i)}),this._handleDragMouseUp=void 0)}isDragEnable(e){if(this._isGestureListener&&this._gestureController){const t=this._gestureController.cachedEvents;return!t||t.length<2}return!0}_handleDrag(e,t,i){var r,s,a;if(this._clearDragEvent(),this._option.disableTriggerEvent||(this._clickEnable=!1,!this.isDragEnable(e.event)))return;this._zoomableTrigger.clearZoom(),this._zoomableTrigger.clearScroll();const o=(r=i==null?void 0:i.delayType)!==null&&r!==void 0?r:"throttle",l=(s=i==null?void 0:i.delayTime)!==null&&s!==void 0?s:0,u=(a=i==null?void 0:i.realTime)===null||a===void 0||a,c=this._getZoomTriggerEvent("move"),d=this._getZoomTriggerEvent("end"),h=e.event;let f=h.canvasX,p=h.canvasY,g=h.canvasX,m=h.canvasY;this._handleDragMouseUp=ox[o](v=>{this._clickEnable=!0;const _=v.event,y=[_.canvasX-g,_.canvasY-m];g=_.canvasX,m=_.canvasY,!u&&t&&t(y,v.event),this._eventObj.emit("panend",{delta:y,model:this}),this._clearDragEvent()},l),this._handleDragMouseMove=ox[o](v=>{if(!this.isDragEnable(v.event))return;this._clickEnable=!1,d.forEach(x=>{this._eventObj.prevent(x,{handler:this._handleDragMouseUp,level:yr.chart})});const _=v.event,y=[_.canvasX-f,_.canvasY-p];f=_.canvasX,p=_.canvasY,u&&t&&t(y,v.event),this._eventObj.emit("panmove",{delta:y,model:this})},l),this._eventObj.on(c,{level:yr.chart,source:vi.chart},this._handleDragMouseMove),d.forEach(v=>{this._eventObj.on(v,{level:yr.chart,source:vi.chart},this._handleDragMouseUp)})}}function SJt(n,e){return`${Xt}_${e}_${n}`}class b$ extends Sc{constructor(){super(...arguments),this.type=He.geoCoordinate,this.name=He.geoCoordinate,this.layoutType="none",this.layoutZIndex=ji.Mark,this._projectionSpec={name:SJt(this.type,this.id),type:"mercator"},this._actualScale=1,this._initialScale=1,this.effect={scaleUpdate:()=>{this.coordinateHelper()}},this._handleChartZoom=(e,t)=>{var i,r,s,a,o,l;let u=e.zoomDelta;const c=this._actualScale;return this._actualScale*=u,this._actualScale<((i=this._spec.zoomLimit)===null||i===void 0?void 0:i.min)?(this._actualScale=(r=this._spec.zoomLimit)===null||r===void 0?void 0:r.min,u=((s=this._spec.zoomLimit)===null||s===void 0?void 0:s.min)/c):this._actualScale>((a=this._spec.zoomLimit)===null||a===void 0?void 0:a.max)&&(this._actualScale=(o=this._spec.zoomLimit)===null||o===void 0?void 0:o.max,u=((l=this._spec.zoomLimit)===null||l===void 0?void 0:l.max)/c),this.zoom(u,[e.zoomX,e.zoomY]),{scale:u,totalScale:this._actualScale}},this.pan=(e=[0,0])=>{var t,i,r;const s=(i=(t=this._projection)===null||t===void 0?void 0:t.translate())!==null&&i!==void 0?i:[0,0];let a=s[0],o=s[1];a+=e[0],o+=e[1],(r=this._projection)===null||r===void 0||r.translate([a,o])}}get longitudeField(){return this._longitudeField}get latitudeField(){return this._latitudeField}get projectionSpec(){return this._projectionSpec}setProjection(e){this._projectionSpec=Object.assign(Object.assign({},e),{name:this._projectionSpec.name})}getZoom(){return this._actualScale}static getSpecInfo(e){if(J(e))return null;const t=[];return e.region.forEach((i,r)=>{if(i.coordinate==="geo"){const s=Object.assign(Object.assign({},i),{padding:0});t.push({spec:s,regionIndex:r,type:He.geoCoordinate,specInfoPath:["component","geoCoordinate",r]})}}),t}setAttrFromSpec(){var e,t,i;super.setAttrFromSpec(),this._spec.roam&&this.initZoomable(this.event,this._option.mode),this._projectionSpec=qt(this._projectionSpec,this._spec.projection),this._projectionSpec.zoom>((e=this._spec.zoomLimit)===null||e===void 0?void 0:e.max)&&(this._projectionSpec.zoom=this._spec.zoomLimit.max),this._projectionSpec.zoom<((t=this._spec.zoomLimit)===null||t===void 0?void 0:t.min)&&(this._projectionSpec.zoom=this._spec.zoomLimit.min),this._actualScale=(i=this._projectionSpec.zoom)!==null&&i!==void 0?i:1,this._initialScale=this._actualScale,this._longitudeField=this._spec.longitudeField,this._latitudeField=this._spec.latitudeField}created(){super.created(),this._regions=this._option.getRegionsInIndex([this._option.regionIndex]),this.initProjection(),this.coordinateHelper(),this.initEvent(),this._initCenterCache()}dispatchZoom(e,t){const i=t||{x:this.getLayoutStartPoint().x+this.getLayoutRect().width/2,y:this.getLayoutStartPoint().y+this.getLayoutRect().height/2},{scale:r,totalScale:s}=this._handleChartZoom({zoomDelta:e,zoomX:i.x,zoomY:i.y});r!==1&&this.event.emit("zoom",{scale:r,scaleCenter:i,totalScale:s,model:this})}initEvent(){var e,t,i;this.event.on(Et.scaleUpdate,{filter:({model:s})=>(s==null?void 0:s.id)===this.id},this.effect.scaleUpdate.bind(this));const{roam:r}=this._spec;if(r){let s=!0,a=!0,o=!1;r!==!0&&(s=(e=r.zoom)===null||e===void 0||e,a=(t=r.drag)===null||t===void 0||t,o=(i=r.blank)!==null&&i!==void 0&&i),s&&this.initZoomEventOfRegions(this._regions,null,this._handleChartZoom),a&&this.initDragEventOfRegions(this._regions,o?null:()=>!0,this.pan),this._regions.forEach(l=>{l.getSeries().forEach(u=>{u.event.on("zoom",c=>(u.handleZoom(c),!0)),u.event.on("panmove",c=>(u.handlePan(c),!0))})})}}initProjection(){var e;this._projection=new yJt(this._projectionSpec),this._projection.projection!==null||(e=this._option)===null||e===void 0||e.onError("unsupported projection type!")}coordinateHelper(){const e={longitudeField:this._longitudeField,latitudeField:this._latitudeField,dataToPosition:this.dataToPosition.bind(this),dataToLongitude:this.dataToLongitude.bind(this),dataToLatitude:this.dataToLatitude.bind(this),shape:this.shape.bind(this),getCoordinateId:()=>this.id};this._regions.forEach(t=>{t.getSeries().forEach(i=>{i.type===Ye.map||i.type===Ye.pictogram?i.setCoordinateHelper(e):(i.setXAxisHelper(Object.assign(Object.assign({},e),{isContinuous:!0,dataToPosition:(r,s)=>{var a;let o=r[0];if(J(o)&&(s!=null&&s.datum)){const l=s.datum[i.getDimensionField()[0]];o=(a=this._centerCache.get(l))===null||a===void 0?void 0:a.x}return this.dataToLongitude(o)},valueToPosition:(r,s)=>{var a;if(J(r)&&(s!=null&&s.datum)){const o=s.datum[i.getDimensionField()[0]];r=(a=this._centerCache.get(o))===null||a===void 0?void 0:a.x}return this.dataToLongitude(r)},getFields:()=>[this._longitudeField],getAxisType:()=>this.type,getAxisId:()=>this.id,isInverse:()=>!1})),i.setYAxisHelper(Object.assign(Object.assign({},e),{isContinuous:!0,dataToPosition:(r,s)=>{var a;let o=r[0];if(J(o)&&(s!=null&&s.datum)){const l=s.datum[i.getDimensionField()[0]];o=(a=this._centerCache.get(l))===null||a===void 0?void 0:a.y}return this.dataToLatitude(o)},valueToPosition:(r,s)=>{var a;if(J(r)&&(s!=null&&s.datum)){const o=s.datum[i.getDimensionField()[0]];r=(a=this._centerCache.get(o))===null||a===void 0?void 0:a.y}return this.dataToLatitude(r)},getFields:()=>[this._latitudeField],getAxisType:()=>this.type,getAxisId:()=>this.id,isInverse:()=>!1})))})})}onLayoutEnd(){this.setLayoutRect(this._regions[0].getLayoutRect()),this.setLayoutStartPosition(this._regions[0].getLayoutStartPoint());const{width:e,height:t}=this.getLayoutRect(),{translate:i,scale:r,center:s}=this.evaluateProjection([0,0],[e,t]);i&&this._projection.translate(i),r&&this._projection.scale(r),s&&this._projection.center(s),ts(this._regions,a=>{var o;if(a.type===Ye.map||a.type===Ye.pictogram){(o=a.areaPath)===null||o===void 0||o.clear();const l=a.getRootMark().getProduct();l&&l.attribute.postMatrix&&l.setAttributes({postMatrix:new Rr})}}),this._actualScale=this._initialScale,super.onLayoutEnd()}collectFeatures(){const e=[];return this._regions.forEach(t=>{t.getSeries().forEach(i=>{var r,s;i.type!==Ye.map&&i.type!==Ye.pictogram||e.push(...(s=(r=i.getMapViewData())===null||r===void 0?void 0:r.latestData)!==null&&s!==void 0?s:[])})}),e}dataToPosition(e=[]){var t;const i=(t=this._projection)===null||t===void 0?void 0:t.project([e[0],e[1]]);return{x:i==null?void 0:i[0],y:i==null?void 0:i[1]}}dataToLatitude(e){var t;const i=(t=this._projection)===null||t===void 0?void 0:t.project([0,e]);return i==null?void 0:i[1]}dataToLongitude(e){var t;const i=(t=this._projection)===null||t===void 0?void 0:t.project([e,0]);return i==null?void 0:i[0]}zoom(e,t=[0,0]){var i,r,s,a,o,l;let u=(r=(i=this._projection)===null||i===void 0?void 0:i.scale())!==null&&r!==void 0?r:0;const c=(a=(s=this._projection)===null||s===void 0?void 0:s.translate())!==null&&a!==void 0?a:[0,0];let d=c[0],h=c[1];u*=e,d-=(t[0]-d)*(e-1),h-=(t[1]-h)*(e-1),(o=this._projection)===null||o===void 0||o.scale(u),(l=this._projection)===null||l===void 0||l.translate([d,h])}shape(e){return this._projection.shape(e)}invert(e){return this._projection.invert(e)}evaluateProjection(e,t){var i;const r=this._projection.evaluate(e,t,this.collectFeatures());let s=r.translate();const a=r.scale()*this._initialScale,o=(i=this._projectionSpec.center)!==null&&i!==void 0?i:r.invert([t[0]/2,t[1]/2]);return o&&(s=[t[0]/2,t[1]/2]),{translate:s,scale:a,center:o}}_initCenterCache(){this._centerCache||(this._centerCache=new Map),this._regions.forEach(e=>{e.getSeries().forEach(t=>{var i,r;t.type==="map"&&((r=(i=t.getMapViewData())===null||i===void 0?void 0:i.latestData)!==null&&r!==void 0?r:[]).forEach((s={})=>{const a=s[t.getDimensionField()[0]]||s[u$],o=t.getDatumCenter(s);a&&Y(o)&&this._centerCache.set(a,{x:o[0],y:o[1]})})})})}_compareSpec(e,t){const i=super._compareSpec(e,t);return i.reMake||(i.reMake=["roam","longitudeField","latitudeField","projection","zoomLimit"].some(r=>!Oi(t==null?void 0:t[r],e[r]))),i}release(){super.release(),this._centerCache&&this._centerCache.clear(),this._centerCache=null}}b$.type=He.geoCoordinate,Li(b$,iH);const aRe=()=>{ne.registerComponent(b$.type,b$)};class oRe extends bl{_transformLabelSpec(e){this._addMarkLabelSpec(e,"area",void 0,void 0,!1)}}const xJt={defaultFillColor:"#f3f3f3",area:{style:{lineWidth:.5,strokeOpacity:1,stroke:"black",fillOpacity:1}},label:{interactive:!1,style:{fontSize:{type:"token",key:"l6FontSize"},lineHeight:{type:"token",key:"l6LineHeight"},textBaseline:"middle",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},stroke:{type:"palette",key:"backgroundColor"}}}};class hm extends pJt{constructor(){super(...arguments),this.type=Ye.map,this.transformerConstructor=oRe,this._areaCache=new Map}getNameMap(){return this._nameMap}get areaPath(){return this._areaCache}setAttrFromSpec(){var e,t;super.setAttrFromSpec(),this.map=this._spec.map,this._nameMap=this._spec.nameMap,this._nameField=this._spec.nameField,this._valueField=this._spec.valueField,this._spec.nameProperty&&(this._nameProperty=this._spec.nameProperty),this._spec.centroidProperty&&(this._centroidProperty=this._spec.centroidProperty),this.map||(e=this._option)===null||e===void 0||e.onError(`map type '${this.map}' is not specified !`),C0.get(this.map)||(t=this._option)===null||t===void 0||t.onError(`'${this.map}' data is not registered !`)}initData(){var e,t;super.initData(),rn(this._dataSet,"copyDataView",Nz),rn(this._dataSet,"map",gJt),rn(this._dataSet,"lookup",aZt);const i=C0.get(this.map);i||(e=this._option)===null||e===void 0||e.onError("no valid map data found!");const r=new Pi(this._dataSet,{name:`map_${this.id}_data`});r.parse([i],{type:"dataview"}).transform({type:"copyDataView",options:{deep:!0},level:og.copyDataView}).transform({type:"map",options:{nameMap:this._nameMap,nameProperty:this._nameProperty}}).transform({type:"lookup",options:{from:()=>{var s;return(s=this._data)===null||s===void 0?void 0:s.getLatestData()},key:u$,fields:this._nameField,set:(s,a)=>{a&&Object.keys(a).forEach(o=>{o in s||(s[o]=a[o])})}}}),(t=this._data)===null||t===void 0||t.getDataView().target.addListener("change",r.reRunAllTransform),this._mapViewData=new Zl(this._option,r)}compileData(){var e;super.compileData(),(e=this._mapViewData)===null||e===void 0||e.compile()}initMark(){this._pathMark=this._createMark(hm.mark.area,{groupKey:this.getDimensionField()[0],isSeriesMark:!0},{morph:bg(this._spec,hm.mark.area.name),morphElementKey:this.getDimensionField()[0]}),this._pathMark.setData(this._mapViewData)}initMarkStyle(){const e=this._pathMark;e&&(this.setMarkStyle(e,{fill:t=>{var i,r,s,a;return Y(t[(i=this._seriesField)!==null&&i!==void 0?i:Cu])?((r=this._option.globalScale.getScale("color"))!==null&&r!==void 0?r:this._getDefaultColorScale()).scale(t[(s=this._seriesField)!==null&&s!==void 0?s:Cu]):(a=this._spec)===null||a===void 0?void 0:a.defaultFillColor},path:this.getPath.bind(this)},"normal",Qe.Series),e.setPostProcess("fill",t=>Y(t)?t:this._spec.defaultFillColor),this.setMarkStyle(e,{smoothScale:!0},"normal",Qe.Built_In))}initLabelMarkStyle(e){e&&(this._labelMark=e,this.setMarkStyle(e,{text:t=>this.getDatumName(t),x:t=>{var i;return(i=this.dataToPosition(t))===null||i===void 0?void 0:i.x},y:t=>{var i;return(i=this.dataToPosition(t))===null||i===void 0?void 0:i.y}}))}initAnimation(){var e;this._pathMark.setAnimationConfig(ei((e=ne.getAnimationInKey("fadeInOut"))===null||e===void 0?void 0:e(),_i("area",this._spec,this._markAttributeContext)))}initTooltip(){this._tooltipHelper=new mJt(this),this._pathMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._pathMark)}getPath(e){var t;const i=this._areaCache.get(e[Go]);if(i)return i.shape;const r=(t=this._coordinateHelper)===null||t===void 0?void 0:t.shape(e);return this._areaCache.set(e[Go],{shape:r}),r}onEvaluateEnd(){this._mapViewData.updateData()}getDimensionField(){return[this.nameField]}getMeasureField(){return[this.valueField]}release(){super.release(),this._areaCache.clear(),this._nameMap={},this._mapViewData=null}handleZoom(e){var t;const{scale:i,scaleCenter:r}=e;if(i===1)return;const s=this.getRootMark().getProduct();s&&(s.attribute.postMatrix||s.setAttributes({postMatrix:new Rr}),s.scale(i,i,r));const a=(t=this._labelMark)===null||t===void 0?void 0:t.getComponent();a&&a.renderInner()}handlePan(e){var t;const{delta:i}=e;if(i[0]===0&&i[1]===0)return;const r=this.getRootMark().getProduct();r&&(r.attribute.postMatrix||r.setAttributes({postMatrix:new Rr}),r.translate(i[0],i[1]));const s=(t=this._labelMark)===null||t===void 0?void 0:t.getComponent();s&&s.renderInner()}getDatumCenter(e){var t,i,r,s;return this._centroidProperty&&(!((t=e.properties)===null||t===void 0)&&t[this._centroidProperty])?(i=e.properties)===null||i===void 0?void 0:i[this._centroidProperty]:Me(e.centroidX*e.centroidY)?[e.centroidX,e.centroidY]:!((r=e.properties)===null||r===void 0)&&r.center?e.properties.center:!((s=e.properties)===null||s===void 0)&&s.centroid?e.properties.centroid:[Number.NaN,Number.NaN]}getDatumName(e){var t;if(e[this.nameField])return e[this.nameField];const i=(t=e.properties)===null||t===void 0?void 0:t[this._nameProperty];if(i){if(this._spec.nameMap&&this._spec.nameMap[i])return this._spec.nameMap[i];if(this._spec.showDefaultName||!this._spec.nameMap)return i}return""}dataToPositionX(e){var t;return(t=this._option)===null||t===void 0||t.onError("Method not implemented."),0}dataToPositionY(e){var t;return(t=this._option)===null||t===void 0||t.onError("Method not implemented."),0}viewDataUpdate(e){var t,i,r;super.viewDataUpdate(e),(i=(t=this._mapViewData)===null||t===void 0?void 0:t.getDataView())===null||i===void 0||i.reRunAllTransform(),(r=this._mapViewData)===null||r===void 0||r.updateData()}_getDataIdKey(){return Go}getActiveMarks(){return[this._pathMark]}}hm.type=Ye.map,hm.mark=vJt,hm.builtInTheme={map:xJt},hm.transformerConstructor=oRe;const wJt=()=>{aRe(),EQ(),ne.registerSeries(hm.type,hm),ne.registerImplement("registerMap",oqt),ne.registerImplement("unregisterMap",lqt),Zm()},S$=`${Xt}_waterfall_default_seriesField`,CJt=(n,e)=>{if(!n||n.length===0)return n;const{indexField:t,total:i,groupData:r,calculationMode:s}=e,a=[],{dimensionValues:o,dimensionData:l}=r().latestData;let u=Array.from(o[t]);s==="decrease"&&(u=u.reverse());let c={start:0,end:0,positive:0,negative:0,lastIndex:null};return u.forEach((d,h)=>{const f={start:c.end,end:c.end,lastIndex:c.lastIndex,lastEnd:c.end,index:d,isTotal:!1,positive:c.end,negative:c.end},p=e.stackInverse===!0?l[d].reverse():l[d];if(p==null||p.forEach((g,m)=>{m===p.length-1?g[WO]=!0:delete g[WO]}),p.length>1){const g=m=>{if(i&&i.type!=="end"){if(i.type==="field"||i.type==="custom")return!!m[i.tagField]}else if(h===u.length-1)return!0;return!1};if(p.some(m=>g(m)))return c=TJt(p,d,f,a,c,u,h,e,g),void a.push(f)}c=lRe(p,d,f,a,c,u,h,e),a.push(f)}),a};function TJt(n,e,t,i,r,s,a,o,l){t.isTotal=!0;const{valueField:u,startAs:c,endAs:d,total:h}=o,f=[],p=[];if(n.forEach((T,E)=>{l(T)?p.push(Object.assign(Object.assign({},T),{_vchart_waterfall_waterfall_temp:E})):f.push(T)}),p.length===n.length){const T=lRe([n[0]],e,t,i,r,s,a,o);return p.forEach(E=>{E[c]=n[0][c],E[d]=n[0][d],E[u]=n[0][u]}),T}const g=p[0];let{start:m,end:v}=uRe(g,t,i,r,h);t.start=m,t.end=v;let _=m,y=m,x=v-m;const w=f.reduce((T,E)=>hO(T,+E[u]),x);return p.forEach(T=>{const E={[c]:m,[d]:v,[u]:w};f.splice(T._vchart_waterfall_waterfall_temp,0,E)}),f.forEach(T=>{const E=+T[u];E>=0?(T[c]=+_,_=Hp(_,E)):(T[c]=+y,y=Hp(y,E)),T[d]=Hp(T[c],E),m=Hp(m,E),x=hO(x,E)}),p.forEach(T=>{const E=T._vchart_waterfall_waterfall_temp;T=f[E];const A=n[E];A[c]=T[c],A[d]=T[d],A[u]=T[u]}),Object.assign(Object.assign({},t),{lastIndex:e})}function lRe(n,e,t,i,r,s,a,o){const{valueField:l,startAs:u,endAs:c,total:d,seriesField:h,seriesFieldName:f}=o;return n.forEach(p=>{let g=!1;if(d&&d.type!=="end"){if((d.type==="field"||d.type==="custom")&&p[d.tagField]){g=!0;const{start:m,end:v}=uRe(p,t,i,r,d);p[u]=m,p[c]=v,p[l]=v-m,t.start=m,t.end=v}}else a===s.length-1&&(t.start=0,p[u]=t.start,p[c]=t.end,g=!0);if(!g){const m=+p[l];m>=0?(p[u]=+t.positive,t.positive=Hp(t.positive,m)):(p[u]=+t.negative,t.negative=Hp(t.negative,m)),p[c]=Hp(p[u],m),t.end=Hp(t.end,m)}t.isTotal=g,(J(h)||h===S$)&&(p[S$]=g?f.total:+p[l]>=0?f.increase:f.decrease)}),Object.assign(Object.assign({},t),{lastIndex:e})}function uRe(n,e,t,i,r){return r&&r.type!=="end"?r.type==="field"||r.type==="custom"?r.type==="custom"?AJt(n,i,r):r.collectCountField&&!J(n[r.collectCountField])?kJt(n,t,e,r):OJt(n,e,r):{start:0,end:0}:EJt(e)}function EJt(n){return{start:0,end:n.end}}function AJt(n,e,t){return t.product(n,e)}function kJt(n,e,t,i){let r=0,s=t.end;const a=e.length-+n[i.collectCountField],o=e.length-1;return a<0?fc("total.collectCountField error"):r=e[a].start,o<0?fc("total.collectCountField error"):s=e[o].end,{start:r,end:s}}function OJt(n,e,t){let i=0,r=e.end;return t.startField&&!J(n[t.startField])&&(i=+n[t.startField]),t.valueField&&!J(n[t.valueField])&&(r=Hp(i,+n[t.valueField])),{start:i,end:r}}const PJt=(n,e)=>{if(!n)return n;const{indexField:t,valueField:i,total:r,seriesField:s,calculationMode:a}=e,o={[t]:(r==null?void 0:r.text)||"total",[i]:n.reduce((l,u)=>Hp(l,+u[i]),0)};return s&&(o[s]="total"),a==="decrease"?n.unshift(o):n.push(o),n},MJt={type:"fadeIn"},IJt={type:"growCenterIn"};function RJt(n,e){switch(e){case"fadeIn":return MJt;case"scaleIn":return IJt;default:return tH(n,!1)}}const DJt=()=>{ne.registerAnimation("waterfall",(n,e)=>({appear:RJt(n,e),enter:tH(n,!1),exit:_$(n,!1),disappear:_$(n,!1)}))};var LJt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};class eP extends Mu{constructor(){super(...arguments),this.type=eP.type}_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{x1:0,y1:0})}_transformGraphicAttributes(e,t,i){const r=super._transformGraphicAttributes(e,t,i),{x:s,x1:a,y:o,y1:l}=r,u=LJt(r,["x","x1","y","y1"]);return Object.assign(Object.assign({},u),{points:[{x:s,y:o},{x:a,y:l}]})}_createGraphic(e={}){return wM(e)}}eP.type="rule";const jM=()=>{ne.registerMark(eP.type,eP),pd(),vg(),ne.registerGraphicComponent("line",wM)},FJt=Object.assign(Object.assign({},CQ),{leaderLine:{name:"leaderLine",type:"rule"},stackLabel:{name:"stackLabel",type:"text"}}),BJt=(n,e)=>{if(!e.fields)return n;const t={};return{dimensionValues:t,dimensionData:cRe(n.map(i=>i.latestData).flat(),e.fields,t)}};function cRe(n,e,t){if(e.length===0)return n;const i=e[0],r=e.slice(1);t[i]=new Set;const s=$Jt(n,i,t[i]);return r.length?NJt(s,(a,o)=>cRe(a,r,t)):s}function $Jt(n,e,t){const i={};return n.forEach(r=>{const s=r[e];i[s]||(i[s]=[],t.add(s)),i[s].push(r)}),i}function NJt(n,e){return Object.keys(n).reduce((t,i)=>(t[i]=e(n[i],i),t),{})}class jJt{get fields(){return this._fields}get groupData(){return this._groupData}constructor(e){this._fields=[],this._fields=e}initData(e,t){const i=e.name,r=new Pi(t instanceof y0?t:e.dataSet);r.name=i,r.parse([e],{type:"dataview"}),rn(t,"dimensionTree",BJt),r.transform({type:"dimensionTree",options:{fields:this._fields}},!1),r.target.addListener("change",this.groupDataUpdate.bind(this)),this._groupData=r}groupDataUpdate(){}getGroupValueInField(e){var t,i,r;const s=(r=(i=(t=this.groupData)===null||t===void 0?void 0:t.latestData)===null||i===void 0?void 0:i.dimensionValues)===null||r===void 0?void 0:r[e];return s?Array.from(s):[]}}class dRe extends nH{constructor(){super(...arguments),this._supportStack=!1}_transformLabelSpec(e){this._addMarkLabelSpec(e,"bar"),this._addMarkLabelSpec(e,"bar","stackLabel","initStackLabelMarkStyle")}}const tme={rect:nme,symbol:hRe,arc:ime,point:UJt,"line-data":HJt,stackLabel:fRe,line:rme,area:rme,rect3d:nme,arc3d:ime,treemap:KJt,venn:XJt,boxPlot:QJt};function zJt(n,e){var t;const{labelSpec:i}=e;i.overlap&&!pn(i.overlap)&&(i.overlap={});const r=(t=tme[n])!==null&&t!==void 0?t:tme.point;return e.series.type===Ye.sankey?qJt(e):r(e)}function AQ(n,e,t,i){var r,s;const{labelMark:a,series:o}=n,l=o.getMeasureField()[0],u=a.getAttributesOfState(e);if("text"in u||(u.text=(r=u.text)!==null&&r!==void 0?r:e[l]),"textType"in u||(u.textType=(s=n.labelSpec.textType)!==null&&s!==void 0?s:"text"),u.data=e,o.type!==Ye.sankey){const{formatFunc:c,args:d}=zm(t,i,u.text,e);c&&(u._originText=u.text,u.text=c(...d,{series:o}))}return u}function rH(n){return Re(n)?e=>n(e.data):n}function hRe(n){var e,t,i;const{series:r,labelSpec:s}=n,a=r.direction==="horizontal"?"right":"top",o=(e=rH(s.position))!==null&&e!==void 0?e:a;let l;return l=s.overlap!==!1&&{strategy:(i=(t=s.overlap)===null||t===void 0?void 0:t.strategy)!==null&&i!==void 0?i:VJt(),avoidBaseMark:o!=="center"},{position:o,overlap:l}}function HJt(n){const e=hRe(n);return Va(e.overlap)||(e.overlap.avoidBaseMark=!1,e.overlap.clampForce=!1),e}function VJt(){return[{type:"position",position:["top","bottom","right","left","top-right","top-left","bottom-left","bottom-right"]}]}function nme(n){var e,t,i,r,s,a;const{series:o,labelSpec:l={}}=n,u=(e=rH(l.position))!==null&&e!==void 0?e:"outside",c=(t=o.direction)!==null&&t!==void 0?t:"vertical",d=o.direction==="horizontal"?(i=o.getXAxisHelper())===null||i===void 0?void 0:i.isInverse():(r=o.getYAxisHelper())===null||r===void 0?void 0:r.isInverse();let h,f=u;f=g=>{var m;const{data:v}=g,_=(m=typeof l.position=="function"?l.position(v):l.position)!==null&&m!==void 0?m:"outside";if(_==="outside"){const y=o.getMeasureField()[0],x={vertical:["top","bottom"],horizontal:["right","left"]},w=(v==null?void 0:v[y])>=0&&d||(v==null?void 0:v[y])<0&&!d?1:0;return x[c][w]}return _},h=l.overlap!==!1&&{strategy:(a=(s=l.overlap)===null||s===void 0?void 0:s.strategy)!==null&&a!==void 0?a:WJt(o)};let p=!1;return Jt(u)&&u.includes("inside")&&(p=!0),{position:f,overlap:h,smartInvert:p}}function WJt(n){return[{type:"position",position:e=>{var t,i;const{data:r}=e,s=n.getMeasureField()[0];return(n.direction==="horizontal"?!((t=n.getXAxisHelper())===null||t===void 0)&&t.isInverse():!((i=n.getYAxisHelper())===null||i===void 0)&&i.isInverse())?(r==null?void 0:r[s])>=0?n.direction==="horizontal"?["left","inside-left"]:["bottom","inside-bottom"]:n.direction==="horizontal"?["right","inside-right"]:["top","inside-top"]:(r==null?void 0:r[s])>=0?n.direction==="horizontal"?["right","inside-right"]:["top","inside-top"]:n.direction==="horizontal"?["left","inside-left"]:["bottom","inside-bottom"]}}]}function UJt(n){const{labelSpec:e}=n;let t;return t=e.overlap!==!1&&{clampForce:!1,avoidBaseMark:!1},{position:"center",overlap:t}}function ime(n){var e;const{labelSpec:t}=n,i=(e=rH(t.position))!==null&&e!==void 0?e:"outside",r=i;let s;return s=t.smartInvert?t.smartInvert:Jt(i)&&i.includes("inside"),{position:r,smartInvert:s}}function GJt(n,e,t,i){return e.direction==="horizontal"?t==="middle"?.5*(e.totalPositionX(n,"end")+e.totalPositionY(n,"start")):t==="max"?e.totalPositionX(n,n.end>=n.start?"end":"start")+i:t==="min"?e.totalPositionX(n,n.end>=n.start?"start":"end")-i:e.totalPositionX(n,"end")+(n.end>=n.start?i:-i):e.totalPositionX(n,"index",.5)}function YJt(n,e,t,i){return e.direction==="horizontal"?e.totalPositionY(n,"index",.5):t==="middle"?.5*(e.totalPositionY(n,"end")+e.totalPositionY(n,"start")):t==="max"?e.totalPositionY(n,n.end>=n.start?"end":"start")-i:t==="min"?e.totalPositionY(n,n.end>=n.start?"start":"end")+i:e.totalPositionY(n,"end")+(n.end>=n.start?-i:i)}function fRe(n,e,t){const i=n.series,r=n.labelSpec||{},s=i.getTotalData();return{customLayoutFunc:a=>a.map(o=>{const l=r.position||"withChange",u=r.offset||0,c=e?e(o.data):o.data,d=AQ(n,c,r.formatMethod);return d.x=GJt(c,i,l,u),d.y=YJt(c,i,l,u),i.direction==="horizontal"?d.textAlign=l==="middle"?"center":l==="withChange"&&c.end-c.start>=0||l==="max"?"left":"right":d.textBaseline=l==="middle"?l:l==="withChange"&&c.end-c.start>=0||l==="max"?"bottom":"top",t==null||t(o,c,d),xM(Object.assign(Object.assign({},d),{id:o.id}))}),dataFilter:a=>{const o=[];return s.forEach(l=>{const u=a.find(c=>{var d;return l.index===((d=c.data)===null||d===void 0?void 0:d[i.getDimensionField()[0]])});u&&(u.data=l,o.push(u))}),o},overlap:{strategy:[]}}}function KJt(n){return{customLayoutFunc:(e,t)=>t,overlap:!1}}function XJt(n){return{customLayoutFunc:(e,t)=>t,smartInvert:!0}}function rme(n){var e,t,i,r;const{labelSpec:s,series:a}=n,o=(i=(t=(e=a.getViewDataStatistics)===null||e===void 0?void 0:e.call(a).latestData)===null||t===void 0?void 0:t[a.getSeriesField()])===null||i===void 0?void 0:i.values,l=o?o.map((u,c)=>({[a.getSeriesField()]:u,index:c})):[{index:0,[Cu]:a.getSeriesKeys()[0]}];return{position:(r=s.position)!==null&&r!==void 0?r:"end",data:l,overlap:{avoidBaseMark:!1,clampForce:!1}}}function qJt(n){var e,t,i;const{series:r,labelSpec:s={}}=n,a=(e=rH(s.position))!==null&&e!==void 0?e:"outside",o=r.direction;let l,u=a;return Jt(a)&&(o==="vertical"?u=a==="inside-start"?c=>"inside-left":a==="inside-middle"?c=>"center":a==="inside-end"?c=>"inside-right":c=>"bottom":a==="inside-start"?u=c=>"inside-left":a==="inside-middle"?u=c=>"center":a==="inside-end"?u=c=>"inside-right":a==="outside"&&(u=c=>"right")),l=s.overlap!==!1&&(!Jt(a)||!a.includes("inside"))&&{strategy:(i=(t=s.overlap)===null||t===void 0?void 0:t.strategy)!==null&&i!==void 0?i:ZJt(r)},{position:u,overlap:l,smartInvert:!1,offset:0,syncState:!0}}function ZJt(n){return[{type:"position",position:e=>n.direction==="horizontal"?["right","left"]:["bottom","top"]}]}function QJt(n){return{customLayoutFunc:(e,t,i)=>{for(let r=0;r<t.length;r++){const s=t[r],a=e[r];if(!s||!a)continue;const o=i(a),l=o.getSubGraphic().findIndex(u=>u.name==="median");if(l!==-1){const u=o.getSubGraphic()[l].AABBBounds;n.series.direction==="horizontal"?s.setAttributes({x:u.x2+s.AABBBounds.width()/2,y:(u.y1+u.y2)/2}):s.setAttributes({x:(u.x1+u.x2)/2,y:u.y2+s.AABBBounds.height()/2})}else{const u=o.AABBBounds;s.setAttributes({x:(u.x1+u.x2)/2,y:(u.y1+u.y2)/2})}}return t}}}const JJt={seriesFieldName:{total:"total",increase:"increase",decrease:"decrease"},leaderLine:{style:{stroke:"black",lineWidth:1,lineDash:[4,4]}},stackLabel:{visible:!0,offset:12,position:"withChange",style:{fill:"black",fontSize:{type:"token",key:"l4FontSize"}}},label:{visible:!1,offset:12,position:"inside",style:{lineWidth:2}}};class my extends _f{constructor(){super(...arguments),this.type=Ye.waterfall,this.transformerConstructor=dRe,this._leaderLineMark=null,this._stackLabelMark=null,this._labelMark=null,this._reStackTotal=()=>{const e=this.getStackData(),t=this.getStackValueField();e&&aQ(e,t)}}getTotalData(){var e;return(e=this._totalData)===null||e===void 0?void 0:e.getLatestData()}initGroups(){const e=this.getGroupFields();e&&e.length&&(this._groups=new jJt(e),this._data&&this._groups.initData(this._data.getDataView(),this._dataSet))}setAttrFromSpec(){super.setAttrFromSpec(),this.setValueFieldToStack(),this._fieldX=[this._fieldX[0]],this._fieldY=[this._fieldY[0]],J(this._seriesField)&&(this._seriesField=S$)}getSeriesKeys(){return this._seriesField===S$?[this._theme.seriesFieldName.increase,this._theme.seriesFieldName.decrease,this._theme.seriesFieldName.total]:super.getSeriesKeys()}initData(){var e,t,i;super.initData(),rn(this._dataSet,"waterfallFillTotal",PJt),rn(this._dataSet,"waterfall",CJt),(J(this._spec.total)||this._spec.total.type==="end")&&((e=this._rawData)===null||e===void 0||e.transform({type:"waterfallFillTotal",options:{indexField:this.getGroupFields()[0],valueField:this.getStackValueField(),seriesField:this.getSeriesField(),seriesFieldName:this._theme.seriesFieldName,total:this._spec.total,calculationMode:(t=this._spec.calculationMode)!==null&&t!==void 0?t:"increase",stackInverse:this.getRegion().getStackInverse()}},!1));const r=L7(this.getViewData(),this._dataSet,{name:`${Xt}_series_${this.id}_totalData`});this.getViewData().target.removeListener("change",r.reRunAllTransform),this._totalData=new Zl(this._option,r),r.transform({type:"waterfall",options:{indexField:this.getGroupFields()[0],valueField:this.getStackValueField(),seriesField:this.getSeriesField(),seriesFieldName:this._theme.seriesFieldName,startAs:Ch,endAs:Pu,total:this._spec.total,calculationMode:(i=this._spec.calculationMode)!==null&&i!==void 0?i:"increase",groupData:()=>this.getGroups().groupData,stackInverse:this.getRegion().getStackInverse()}},!1),r.target.addListener("change",this._reStackTotal)}compileData(){var e;super.compileData(),(e=this._totalData)===null||e===void 0||e.compile()}initAnimation(){var e,t,i,r;const s={yField:this.direction==="horizontal"?this._fieldY[0]:this.getStackValueField(),xField:this.direction==="horizontal"?this.getStackValueField():this._fieldX[0],direction:this.direction,growFrom:()=>{var l,u;return this.direction==="horizontal"?(l=this._xAxisHelper)===null||l===void 0?void 0:l.getScale(0).scale(0):(u=this._yAxisHelper)===null||u===void 0?void 0:u.getScale(0).scale(0)}},a=(t=(e=this._spec)===null||e===void 0?void 0:e.animationAppear)===null||t===void 0?void 0:t.preset,o=c_(this);this._barMark.setAnimationConfig(ei((i=ne.getAnimationInKey("waterfall"))===null||i===void 0?void 0:i(s,a),_i("bar",this._spec,this._markAttributeContext),o)),this._leaderLineMark&&this._leaderLineMark.setAnimationConfig(ei((r=ne.getAnimationInKey("fadeInOut"))===null||r===void 0?void 0:r(),_i("leaderLine",this._spec,this._markAttributeContext)))}viewDataUpdate(e){this._totalData.getDataView().reRunAllTransform(),this._totalData.updateData(),super.viewDataUpdate(e)}addViewDataFilter(e){}reFilterViewData(){}onEvaluateEnd(e){super.onEvaluateEnd(e),this._totalData.updateData()}initMark(){super.initMark();const e=this._createMark(my.mark.leaderLine,{key:"index"});e&&(this._leaderLineMark=e,e.setData(this._totalData))}initLabelMarkStyle(e){var t;if(e)return!this._labelMark&&(!((t=this._spec.label)===null||t===void 0)&&t.visible)?(super.initLabelMarkStyle(e),void(this._labelMark=e)):void 0}initStackLabelMarkStyle(e){e&&(this._stackLabelMark=e,e.skipEncode=!0,e.setRule("stackLabel"),e.setData(this._totalData),this.setMarkStyle(e,{text:t=>{var i;return((i=this._spec.stackLabel)===null||i===void 0?void 0:i.valueType)==="absolute"?t.end:hO(t.end,t.start)}}))}initTotalLabelMarkStyle(e){this.setMarkStyle(e,{text:t=>{var i;return"end"in t?((i=this._spec.totalLabel)===null||i===void 0?void 0:i.valueType)==="absolute"?t.end:hO(t.end,t.start):this.direction==="horizontal"?t[this._fieldX[0]]:t[this._fieldY[0]]}})}getTotalLabelComponentStyle(e){return fRe(Object.assign(Object.assign({},e),{series:this,labelSpec:this._spec.totalLabel}),t=>{const i=this.direction==="vertical"?t[this._fieldX[0]]:t[this._fieldY[0]];return this._totalData.getLatestData().find(r=>r.index===i)})}totalPositionX(e,t,i=.5){const{dataToPosition:r,getBandwidth:s}=this._xAxisHelper;return this._direction==="horizontal"?xi(r([e[t]],{bandPosition:this._bandPosition})):r([e[t]],{bandPosition:this._bandPosition})+.5*s(0)-this._barMark.getAttribute("width",e)*(.5-i)}totalPositionY(e,t,i=.5){const{dataToPosition:r,getBandwidth:s}=this._yAxisHelper;return this._direction==="horizontal"?r([e[t]],{bandPosition:this._bandPosition})+.5*s(0)-this._barMark.getAttribute("height",e)*(.5-i):xi(r([e[t]],{bandPosition:this._bandPosition}))}initMarkStyle(){super.initMarkStyle();const e=this._spec.calculationMode==="decrease";this._leaderLineMark&&(this._direction==="horizontal"?this.setMarkStyle(this._leaderLineMark,{visible:t=>this.isVisibleLeaderLine(t),x:t=>this.totalPositionX(t,"lastEnd",0),x1:t=>this.totalPositionX(t,t.isTotal?"end":"start",0),y:t=>t.lastIndex?this.totalPositionY(t,"lastIndex",e?0:1):0,y1:t=>this.totalPositionY(t,"index",e?1:0)},"normal",Qe.Series):this.setMarkStyle(this._leaderLineMark,{visible:t=>this.isVisibleLeaderLine(t),x:t=>t.lastIndex?this.totalPositionX(t,"lastIndex",e?0:1):0,x1:t=>this.totalPositionX(t,"index",e?1:0),y:t=>this.totalPositionY(t,"lastEnd",0),y1:t=>this.totalPositionY(t,t.isTotal?"end":"start",0)},"normal",Qe.Series))}isVisibleLeaderLine(e){return!J(e.lastIndex)&&nQ([e.lastEnd,e[e.isTotal?"end":"start"]],this.direction==="horizontal"?this._xAxisHelper.getScale(0):this._yAxisHelper.getScale(0))}}my.type=Ye.waterfall,my.mark=FJt,my.builtInTheme={waterfall:JJt},my.transformerConstructor=dRe;const een=()=>{jM(),Jm(),DJt(),Zm(),Mh(),Ph(),ne.registerSeries(my.type,my)},tP=`${Xt}_BOX_PLOT_OUTLIER_VALUE`;var pr;(function(n){n.OUTLIER="outlier",n.MAX="max",n.MIN="min",n.MEDIAN="median",n.Q1="q1",n.Q3="q3",n.SERIES_FIELD="seriesField"})(pr||(pr={}));const ten=(n,e)=>{const t=[],{outliersField:i,dimensionField:r,seriesField:s}=e;return(n[0].latestData||[]).forEach(a=>{let o=a[i];Oe(o)||(o=[o]),t.push(...o.map(l=>{const u={[tP]:l};return r.forEach(c=>{u[c]=a[c]}),Y(s)&&(u[s]=a[s]),u}))}),t};class nen extends Jl{constructor(){super(...arguments),this.getContentKey=e=>t=>{if(this.isOutlierMark(t))return e===pr.OUTLIER?this.series.getOutliersField():e===pr.SERIES_FIELD?this.series.getSeriesField():null;switch(e){case pr.MIN:return this.series.getMinField();case pr.MAX:return this.series.getMaxField();case pr.MEDIAN:return this.series.getMedianField();case pr.Q1:return this.series.getQ1Field();case pr.Q3:return this.series.getQ3Field();case pr.SERIES_FIELD:return this.series.getSeriesField()}return null},this.getContentValue=e=>t=>{if(this.isOutlierMark(t))return e===pr.OUTLIER?t[tP]:e===pr.SERIES_FIELD?t[this.series.getSeriesField()]:null;switch(e){case pr.MIN:return t[this.series.getMinField()];case pr.MAX:return t[this.series.getMaxField()];case pr.MEDIAN:return t[this.series.getMedianField()];case pr.Q1:return t[this.series.getQ1Field()];case pr.Q3:return t[this.series.getQ3Field()];case pr.SERIES_FIELD:return t[this.series.getSeriesField()]}return null},this.shapeColorCallback=e=>this.series.getShaftShape()==="line"?this.series.getMarkInName("boxPlot").getAttribute("stroke",e):this.series.getMarkInName("boxPlot").getAttribute("fill",e),this.getOutlierFillColor=e=>{var t,i;const r=this.series.getOutliersStyle();return(t=r==null?void 0:r.fill)!==null&&t!==void 0?t:(i=this.series.getMarkInName("outlier"))===null||i===void 0?void 0:i.getAttribute("fill",e)},this.isOutlierMark=e=>Y(e[tP])}getDefaultContentList(e){return[{key:this.getContentKey(pr.OUTLIER),value:this.getContentValue(pr.OUTLIER),shapeType:this.shapeTypeCallback,shapeColor:this.getOutlierFillColor,shapeStroke:this.getOutlierFillColor},{key:this.getContentKey(pr.MAX),value:this.getContentValue(pr.MAX)},{key:this.getContentKey(pr.Q3),value:this.getContentValue(pr.Q3)},{key:this.getContentKey(pr.MEDIAN),value:this.getContentValue(pr.MEDIAN)},{key:this.getContentKey(pr.Q1),value:this.getContentValue(pr.Q1)},{key:this.getContentKey(pr.MIN),value:this.getContentValue(pr.MIN)},{key:this.getContentKey(pr.SERIES_FIELD),value:this.getContentValue(pr.SERIES_FIELD)}]}}class kQ extends Mu{constructor(){super(...arguments),this._setStateOfGraphic=e=>{e.clearStates(),e.stateProxy=null,e.context.diffState!==Qa.enter&&e.context.diffState!==Qa.update||(e.glyphStateProxy=(t,i)=>{var r;const s={attributes:Object.assign(Object.assign({},this._runEncoderOfGraphic((r=this._encoderOfState)===null||r===void 0?void 0:r[t],e)),e.runtimeStateCache?e.runtimeStateCache[t]:null)};return e.glyphStates?e.glyphStates[t]||(e.glyphStates[t]=s):e.glyphStates={[t]:s},s},e.useStates(e.context.states))}}getSubMarks(){return this._subMarks}setGlyphConfig(e){this._glyphConfig=e}getGlyphConfig(){return this._glyphConfig}getPositionChannels(){return this._positionChannels}_onGlyphAttributeUpdate(e){return t=>{var i,r;const s=this.getPositionChannels();let a=s&&this._positionEncoder&&Object.keys(t).some(o=>s.includes(o))?this._positionEncoder(t,(r=(i=e==null?void 0:e.context)===null||i===void 0?void 0:i.data)===null||r===void 0?void 0:r[0],e):null;return this._channelEncoder&&Object.keys(this._channelEncoder).forEach(o=>{if(o in t){const l=this._channelEncoder[o](t[o]);a=a?We(a,l):l}}),a&&e.getSubGraphic().forEach(o=>{o&&a[o.name]&&o.setAttributes(a[o.name])}),t}}_createGraphic(e={}){const t=wZ(e);t.onBeforeAttributeUpdate=this._onGlyphAttributeUpdate(t);const i=this._subMarks;if(i){const r=[];Object.keys(i).forEach(s=>{const a=ne.createGraphicComponent(i[s].type,Object.assign({},i[s].defaultAttributes));a&&(r.push(a),a.name=s,a.onBeforeAttributeUpdate=o=>o)}),t.setSubGraphic(r)}return t.onBeforeAttributeUpdate(e),t}_runProgressiveEncoder(e){this._runEncoder(e)}}const OQ=()=>{ne.registerGraphicComponent("glyph",wZ),pd(),y8t()},ien=["x","y","minMaxWidth","minMaxHeight","q1q3Width","q1q3Height","q1","q3","min","max","median","angle"],ren=["x","y","boxWidth","boxHeight","ruleWidth","ruleHeight","q1","q3","min","max","median","angle"];class nP extends kQ{constructor(){super(...arguments),this.type=nP.type}_isHorizontal(){return this._glyphConfig&&this._glyphConfig.direction==="horizontal"}setGlyphConfig(e){super.setGlyphConfig(e),e.shaftShape==="bar"?(this._subMarks={minMaxBox:{type:"rect",defaultAttributes:{lineWidth:0}},q1q3Box:{type:"rect",defaultAttributes:{lineWidth:0}},median:{type:"line",defaultAttributes:{x:0,y:0}}},this._positionChannels=ien,this._channelEncoder={minMaxFillOpacity:t=>({minMaxBox:{fillOpacity:t}}),lineWidth:t=>({minMaxBox:{lineWidth:0},q1q3Box:{lineWidth:0}}),stroke:t=>({minMaxBox:{stroke:!1},q1q3Box:{stroke:!1}})},this._positionEncoder=(t,i,r)=>{var s;const{x:a=r.attribute.x,y:o=r.attribute.y,minMaxWidth:l=r.attribute.minMaxWidth,minMaxHeight:u=r.attribute.minMaxHeight,q1q3Width:c=r.attribute.q1q3Width,q1q3Height:d=r.attribute.q1q3Height,q1:h=r.attribute.q1,q3:f=r.attribute.q3,min:p=r.attribute.min,max:g=r.attribute.max,median:m=r.attribute.median,angle:v}=t,_=this._isHorizontal(),y={};if(_?(y.minMaxBox={x:p,x1:g,y:o-u/2,y1:o+u/2},y.q1q3Box={x:h,x1:f,y:o-d/2,y1:o+d/2},y.median={points:[{x:m,y:o-d/2},{x:m,y:o+d/2}]}):(y.minMaxBox={y:p,y1:g,x:a-l/2,x1:a+l/2},y.q1q3Box={y:h,y1:f,x:a-c/2,x1:a+c/2},y.median={points:[{y:m,x:a-c/2},{y:m,x:a+c/2}]}),Me(v)){const x=(s=t.anchor)!==null&&s!==void 0?s:_?[(p+g)/2,o]:[a,(p+g)/2];Object.keys(y).forEach(w=>{y[w].angle=v,y[w].anchor=x})}return y}):(this._subMarks={shaft:{type:"line",defaultAttributes:{x:0,y:0}},box:{type:"rect"},max:{type:"line",defaultAttributes:{x:0,y:0}},min:{type:"line",defaultAttributes:{x:0,y:0}},median:{type:"line",defaultAttributes:{x:0,y:0}}},this._positionChannels=ren,this._channelEncoder={boxStroke:t=>({box:{stroke:t}}),medianStroke:t=>({median:{stroke:t}}),boxCornerRadius:t=>({box:{cornerRadius:t}})},this._positionEncoder=(t,i,r)=>{var s;const{x:a=r.attribute.x,y:o=r.attribute.y,boxWidth:l=r.attribute.boxWidth,boxHeight:u=r.attribute.boxHeight,ruleWidth:c=r.attribute.ruleWidth,ruleHeight:d=r.attribute.ruleHeight,q1:h=r.attribute.q1,q3:f=r.attribute.q3,min:p=r.attribute.min,max:g=r.attribute.max,median:m=r.attribute.median,angle:v}=t,_=this._isHorizontal(),y={};if(_?(y.box={x:h,x1:f,y:o-u/2,y1:o+u/2},y.median={points:[{x:m,y:o-u/2},{x:m,y:o+u/2}]},y.shaft={points:[{x:p,y:o},{x:g,y:o}]},y.max={points:[{x:g,y:o-d/2},{x:g,y:o+d/2}]},y.min={points:[{x:p,y:o-d/2},{x:p,y:o+d/2}]}):(y.box={x:a-l/2,x1:a+l/2,y:h,y1:f},y.median={points:[{x:a-l/2,y:m},{x:a+l/2,y:m}]},y.max={points:[{x:a-c/2,y:g},{x:a+c/2,y:g}]},y.min={points:[{x:a-c/2,y:p},{x:a+c/2,y:p}]},y.shaft={points:[{x:a,y:p},{x:a,y:g}]}),Me(v)){const x=(s=t.anchor)!==null&&s!==void 0?s:_?[(p+g)/2,o]:[a,(p+g)/2];Object.keys(y).forEach(w=>{y[w].angle=v,y[w].anchor=x})}return y})}setDataLabelType(){return"symbol"}_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{lineWidth:2,boxWidth:30,shaftWidth:20,shaftShape:"line"})}}nP.type="boxPlot";const sen=()=>{OQ(),vg(),yg(),ne.registerGraphicComponent("line",n=>wM(n)),ne.registerGraphicComponent("rect",n=>CM(n)),ne.registerMark(nP.type,nP)},aen=Object.assign(Object.assign({},oa),{boxPlot:{name:"boxPlot",type:"boxPlot"},outlier:{name:"outlier",type:"symbol"}}),pRe=n=>(e,t,i)=>{var r;const s=e.getFinalAttribute(),a=(r=s.direction)!==null&&r!==void 0?r:"vertical",o=n(e,a,t);if(!Me(o))return{};const{x:l,y:u,min:c,max:d,q1:h,q3:f,median:p}=s,g={from:{x:l,y:u},to:{x:l,y:u}};return Me(c)&&(g.from.min=o,g.to.min=c),Me(d)&&(g.from.max=o,g.to.max=d),Me(h)&&(g.from.q1=o,g.to.q1=h),Me(f)&&(g.from.q3=o,g.to.q3=f),Me(p)&&(g.from.median=o,g.to.median=p),g},gRe=n=>(e,t,i)=>{var r;const s=e.getFinalAttribute(),a=(r=s.direction)!==null&&r!==void 0?r:"vertical",o=n(e,a,t);if(!Me(o))return{};const{x:l,y:u,min:c,max:d,q1:h,q3:f,median:p}=s,g={from:{x:l,y:u},to:{x:l,y:u}};return Me(c)&&(g.to.min=o,g.from.min=c),Me(d)&&(g.to.max=o,g.from.max=d),Me(h)&&(g.to.q1=o,g.from.q1=h),Me(f)&&(g.to.q3=o,g.from.q3=f),Me(p)&&(g.to.median=o,g.from.median=p),g},Ja=(n,e)=>n.getSubGraphic().find(t=>t.name===e),mRe=(n,e,t)=>{var i,r,s,a,o,l,u,c,d,h,f,p,g,m,v,_,y,x,w,T,E,A;if(t&&Me(t.center))return t.center;let k,P,I,D,L;if(e==="horizontal"){k=(s=(r=((i=Ja(n,"median"))===null||i===void 0?void 0:i.attribute).points)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.x,P=(u=(l=(o=(a=Ja(n,"max"))===null||a===void 0?void 0:a.attribute)===null||o===void 0?void 0:o.points)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.x,I=(f=(h=(d=(c=Ja(n,"min"))===null||c===void 0?void 0:c.attribute)===null||d===void 0?void 0:d.points)===null||h===void 0?void 0:h[0])===null||f===void 0?void 0:f.x;const B=Ja(n,"box").attribute.width,F=Ja(n,"box").attribute.x;D=F,L=F+B}else{k=(m=(g=((p=Ja(n,"median"))===null||p===void 0?void 0:p.attribute).points)===null||g===void 0?void 0:g[0])===null||m===void 0?void 0:m.y,P=(x=(y=(_=(v=Ja(n,"max"))===null||v===void 0?void 0:v.attribute)===null||_===void 0?void 0:_.points)===null||y===void 0?void 0:y[0])===null||x===void 0?void 0:x.y,I=(A=(E=(T=(w=Ja(n,"min"))===null||w===void 0?void 0:w.attribute)===null||T===void 0?void 0:T.points)===null||E===void 0?void 0:E[0])===null||A===void 0?void 0:A.y;const B=Ja(n,"box").attribute.height,F=Ja(n,"box").attribute.y;D=F,L=F+B}return Me(k)?k:Me(D)&&Me(L)?(D+L)/2:Me(P)&&Me(I)?(P+I)/2:Me(I)?I:Me(P)?P:NaN},vRe=(n,e,t)=>{var i,r,s,a,o,l,u,c,d,h,f,p,g,m;if(Me(t==null?void 0:t.center))return t.center;let v,_,y,x,w;if(e==="horizontal"){v=(s=(r=((i=Ja(n,"median"))===null||i===void 0?void 0:i.attribute).points)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.x;const T=((a=Ja(n,"minMaxBox"))===null||a===void 0?void 0:a.attribute).width,E=(o=Ja(n,"minMaxBox"))===null||o===void 0?void 0:o.attribute.x;y=E,_=E+T;const A=((l=Ja(n,"q1q3Box"))===null||l===void 0?void 0:l.attribute).width,k=(u=Ja(n,"q1q3Box"))===null||u===void 0?void 0:u.attribute.x;x=k,w=k+A}else{v=(h=(d=((c=Ja(n,"median"))===null||c===void 0?void 0:c.attribute).points)===null||d===void 0?void 0:d[0])===null||h===void 0?void 0:h.y;const T=((f=Ja(n,"minMaxBox"))===null||f===void 0?void 0:f.attribute).height,E=(p=Ja(n,"minMaxBox"))===null||p===void 0?void 0:p.attribute.y;y=E,_=E+T;const A=((g=Ja(n,"q1q3Box"))===null||g===void 0?void 0:g.attribute).height,k=(m=Ja(n,"q1q3Box"))===null||m===void 0?void 0:m.attribute.y;x=k,w=k+A}return Me(v)?v:Me(x)&&Me(w)?(x+w)/2:Me(_)&&Me(y)?(_+y)/2:Me(y)?y:Me(_)?_:NaN};class yRe extends Dr{constructor(e,t,i,r,s){super(e,t,i,r,s)}onBind(){super.onBind();const e=this.target.getFinalAttribute();e&&this.target.setAttributes(e);const{from:t,to:i}=this.computeAttribute();this.propKeys=Object.keys(i).filter(r=>i[r]!=null),this.animate.reSyncProps(),this.from=t,this.to=i,this.target.setAttributes(this.from)}computeAttribute(){return pRe(mRe)(this.target,this.params,this.params.options)}onUpdate(e,t,i){const r=this.target.attribute;this.propKeys.forEach(s=>{r[s]=this.from[s]+(this.to[s]-this.from[s])*t}),this.target.setAttributes(r)}}class _Re extends Dr{constructor(e,t,i,r,s){super(e,t,i,r,s)}onBind(){var e;!((e=this.params)===null||e===void 0)&&e.diffAttrs&&this.target.setAttributes(this.params.diffAttrs);const{from:t,to:i}=this.computeAttribute();this.propKeys=Object.keys(i).filter(r=>i[r]!=null),this.animate.reSyncProps(),this.from=t,this.to=i,this.target.setAttributes(this.from)}computeAttribute(){return gRe(mRe)(this.target,this.params,this.params.options)}onUpdate(e,t,i){const r=this.target.attribute;this.propKeys.forEach(s=>{r[s]=this.from[s]+(this.to[s]-this.from[s])*t}),this.target.setAttributes(r)}}class oen extends yRe{computeAttribute(){return pRe(vRe)(this.target,this.params,this.params.options)}}class len extends _Re{computeAttribute(){return gRe(vRe)(this.target,this.params,this.params.options)}}const uen=()=>{_n.registerBuiltInAnimate("boxplotScaleIn",yRe),_n.registerBuiltInAnimate("boxplotScaleOut",_Re),_n.registerBuiltInAnimate("barBoxplotScaleIn",oen),_n.registerBuiltInAnimate("barBoxplotScaleOut",len)},cen={boxPlot:{style:{lineWidth:1}},label:{style:{lineWidth:2}}};class bRe extends bl{_transformLabelSpec(e){this._addMarkLabelSpec(e,"boxPlot")}}class fm extends Oh{constructor(){super(...arguments),this.type=Ye.boxPlot,this.transformerConstructor=bRe,this._bandPosition=0}getMinField(){return this._minField}getMaxField(){return this._maxField}getQ1Field(){return this._q1Field}getMedianField(){return this._medianField}getQ3Field(){return this._q3Field}getOutliersField(){return this._outliersField}getShaftShape(){return this._shaftShape}getBoxFillColor(){return this._boxFillColor}getStrokeColor(){return this._strokeColor}getOutliersStyle(){return this._outliersStyle}setAttrFromSpec(){var e,t,i,r,s,a,o;super.setAttrFromSpec();const l=(t=(e=this._spec.boxPlot)===null||e===void 0?void 0:e.style)!==null&&t!==void 0?t:{};this._minField=this._spec.minField,this._maxField=this._spec.maxField,this._q1Field=this._spec.q1Field,this._medianField=this._spec.medianField,this._q3Field=this._spec.q3Field,this._outliersField=this._spec.outliersField,this._lineWidth=(i=l.lineWidth)!==null&&i!==void 0?i:2,this._boxWidth=l.boxWidth,this._shaftShape=(r=l.shaftShape)!==null&&r!==void 0?r:"line",this._shaftWidth=l.shaftWidth,this._boxFillColor=l.boxFill,this._strokeColor=l.stroke,this._shaftFillOpacity=this._shaftShape==="bar"?(s=l.shaftFillOpacity)!==null&&s!==void 0?s:.5:void 0,this._outliersStyle=(a=this._spec.outliersStyle)!==null&&a!==void 0?a:(o=this._spec.outlier)===null||o===void 0?void 0:o.style}initMark(){this._boxPlotMark=this._createMark(fm.mark.boxPlot,{groupKey:this._seriesField,isSeriesMark:!0}),this._outliersField&&(this._outlierMark=this._createMark(fm.mark.outlier,{key:Go,groupKey:this._seriesField}),this._outlierMark.setData(this._outlierData))}initMarkStyle(){var e,t,i,r,s,a;const o=this._boxPlotMark;if(o){const u={lineWidth:this._lineWidth,fill:(e=this._boxFillColor)!==null&&e!==void 0?e:this._shaftShape!=="line"?this.getColorAttribute():"#FFF",minMaxFillOpacity:this._shaftFillOpacity,stroke:(t=this._strokeColor)!==null&&t!==void 0?t:this._shaftShape!=="line"?"#000":this.getColorAttribute()};o.setGlyphConfig({direction:this._direction,shaftShape:this._shaftShape});const c=this._direction==="horizontal"?{y:d=>this._getPosition(this.direction,d),boxHeight:()=>{var d;return mo((d=this._boxWidth)!==null&&d!==void 0?d:"100%",this._getMarkWidth())},ruleHeight:()=>{var d;return mo((d=this._shaftWidth)!==null&&d!==void 0?d:"100%",this._getMarkWidth())},q1q3Height:()=>{var d;return mo((d=this._boxWidth)!==null&&d!==void 0?d:"100%",this._getMarkWidth())},minMaxHeight:()=>{var d;return mo((d=this._shaftWidth)!==null&&d!==void 0?d:"100%",this._getMarkWidth())}}:{x:d=>this._getPosition(this.direction,d),boxWidth:()=>{var d;return mo((d=this._boxWidth)!==null&&d!==void 0?d:"100%",this._getMarkWidth())},ruleWidth:()=>{var d;return mo((d=this._shaftWidth)!==null&&d!==void 0?d:"100%",this._getMarkWidth())},q1q3Width:()=>{var d;return mo((d=this._boxWidth)!==null&&d!==void 0?d:"100%",this._getMarkWidth())},minMaxWidth:()=>{var d;return mo((d=this._shaftWidth)!==null&&d!==void 0?d:"100%",this._getMarkWidth())}};this.setMarkStyle(o,u,pt.STATE_NORMAL,Qe.Series),this.setMarkStyle(o,c,pt.STATE_NORMAL,Qe.Built_In)}const l=this._outlierMark;l&&this.setMarkStyle(l,{fill:(s=(r=(i=this._outliersStyle)===null||i===void 0?void 0:i.fill)!==null&&r!==void 0?r:this._boxFillColor)!==null&&s!==void 0?s:this.getColorAttribute(),stroke:this.getColorAttribute(),size:st((a=this._outliersStyle)===null||a===void 0?void 0:a.size)?this._outliersStyle.size:10},pt.STATE_NORMAL,Qe.Series)}initBoxPlotMarkStyle(){var e,t;const i=this._boxPlotMark,r=this._direction==="horizontal"?this._xAxisHelper:this._yAxisHelper;if(i&&r){const{dataToPosition:a}=r,o=(e=r==null?void 0:r.getScale)===null||e===void 0?void 0:e.call(r,0);this.setMarkStyle(i,{min:l=>xi(a(this.getDatumPositionValues(l,this._minField),{bandPosition:this._bandPosition}),o),q1:l=>xi(a(this.getDatumPositionValues(l,this._q1Field),{bandPosition:this._bandPosition}),o),median:l=>xi(a(this.getDatumPositionValues(l,this._medianField),{bandPosition:this._bandPosition}),o),q3:l=>xi(a(this.getDatumPositionValues(l,this._q3Field),{bandPosition:this._bandPosition}),o),max:l=>xi(a(this.getDatumPositionValues(l,this._maxField),{bandPosition:this._bandPosition}),o)},pt.STATE_NORMAL,Qe.Series)}const s=this._outlierMark;if(s&&r){const{dataToPosition:a}=r,o=(t=r==null?void 0:r.getScale)===null||t===void 0?void 0:t.call(r,0),l=this._direction==="horizontal"?{y:u=>this._getPosition(this.direction,u),x:u=>xi(a(this.getDatumPositionValues(u,tP),{bandPosition:this._bandPosition}),o)}:{x:u=>this._getPosition(this.direction,u),y:u=>xi(a(this.getDatumPositionValues(u,tP),{bandPosition:this._bandPosition}),o)};this.setMarkStyle(s,l,pt.STATE_NORMAL,Qe.Series)}}initLabelMarkStyle(e){e&&this.setMarkStyle(e,{fill:this.getColorAttribute(),text:t=>t[this.getMedianField()],z:this._fieldZ?this.dataToPositionZ.bind(this):null})}initData(){if(super.initData(),!this._data)return;rn(this._dataSet,"foldOutlierData",ten),rn(this._dataSet,"addVChartProperty",X1);const e=new Pi(this._dataSet,{name:`${this.type}_outlier_${this.id}_data`});e.parse([this.getViewData()],{type:"dataview"}),e.name=`${Xt}_series_${this.id}_outlierData`,e.transform({type:"foldOutlierData",options:{dimensionField:this._direction==="horizontal"?this._fieldY:this._fieldX,outliersField:this._outliersField,seriesField:this._seriesField}}),e.transform({type:"addVChartProperty",options:{beforeCall:UC.bind(this),call:E0}},!1),this._outlierData=new Zl(this._option,e)}compileData(){var e;super.compileData(),(e=this._outlierData)===null||e===void 0||e.compile()}viewDataUpdate(e){var t;super.viewDataUpdate(e),(t=this._outlierData)===null||t===void 0||t.updateData()}init(e){super.init(e),this.initBoxPlotMarkStyle()}_getMarkWidth(){var e;if(this._autoBoxWidth)return this._autoBoxWidth;const t=this._direction==="horizontal"?this._yAxisHelper:this._xAxisHelper,i=this._groups?this._groups.fields.length:1,r=(e=t.getBandwidth)===null||e===void 0?void 0:e.call(t,i-1);let s=r;return Y(this._spec.boxWidth)&&(s=mo(this._spec.boxWidth,r)),Y(this._spec.boxMinWidth)&&(s=Math.max(s,mo(this._spec.boxMinWidth,r))),Y(this._spec.boxMaxWidth)&&(s=Math.min(s,mo(this._spec.boxMaxWidth,r))),this._autoBoxWidth=s,this._autoBoxWidth}_getPosition(e,t){var i,r,s,a;let o,l,u;e==="horizontal"?(o=this.getYAxisHelper(),l="boxHeight",u=this.dataToPositionY.bind(this)):(o=this.getXAxisHelper(),l="boxWidth",u=this.dataToPositionX.bind(this));const c=o.getScale(0),d=this._groups?this._groups.fields.length:1,h=(i=o.getBandwidth)===null||i===void 0?void 0:i.call(o,d-1),f=this._boxPlotMark.getAttribute(l,t);if(d>1&&Y(this._spec.boxGapInGroup)){const g=this._groups.fields,m=Ae(this._spec.boxGapInGroup);let v=0,_=0;for(let y=g.length-1;y>=1;y--){const x=g[y],w=(s=(r=o.getScale(y))===null||r===void 0?void 0:r.domain())!==null&&s!==void 0?s:[],T=w.length,E=mo((a=m[y-1])!==null&&a!==void 0?a:Xn(m),h),A=w.indexOf(t[x]);y===g.length-1?(v+=T*f+(T-1)*E,_+=A*(f+E)):(_+=A*(v+E),v+=v+(T-1)*E)}return c.scale(t[g[0]])+o.getBandwidth(0)/2-v/2+_+f/2}const p=Ei(c.type||"band");return u(t)+.5*h+(p?-h/2:0)}onLayoutEnd(){super.onLayoutEnd(),this._autoBoxWidth=null}_initAnimationSpec(e={}){const t=We({},e);return["appear","enter","update","exit","disappear"].forEach(i=>{t[i]&&t[i].type==="scaleIn"?t[i].type=this._shaftShape==="bar"?"barBoxplotScaleIn":"boxplotScaleIn":t[i]&&t[i].type==="scaleOut"&&(t[i].type=this._shaftShape==="bar"?"barBoxplotScaleOut":"boxplotScaleOut")}),t}initAnimation(){var e,t,i,r,s,a,o;const l=c_(this);if(this._boxPlotMark){const u=this._initAnimationSpec((e=ne.getAnimationInKey("scaleInOut"))===null||e===void 0?void 0:e()),c=this._initAnimationSpec(_i("boxPlot",this._spec,this._markAttributeContext));this._boxPlotMark.setAnimationConfig(ei(u,c,l))}if(this._outlierMark){const u={appear:(t=this._spec.animationAppear)===null||t===void 0?void 0:t.symbol,disappear:(i=this._spec.animationDisappear)===null||i===void 0?void 0:i.symbol,enter:(r=this._spec.animationEnter)===null||r===void 0?void 0:r.symbol,exit:(s=this._spec.animationExit)===null||s===void 0?void 0:s.symbol,update:(a=this._spec.animationUpdate)===null||a===void 0?void 0:a.symbol};this._outlierMark.setAnimationConfig(ei((o=ne.getAnimationInKey("scaleInOut"))===null||o===void 0?void 0:o(),u,l))}}initTooltip(){this._tooltipHelper=new nen(this),this._boxPlotMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._boxPlotMark),this._outlierMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._outlierMark)}getStatisticFields(){const e=super.getStatisticFields(),t=e.find(i=>i.key===this._outliersField);return t&&(t.operations=["array-min","array-max"]),e}getDefaultShapeType(){return"square"}getActiveMarks(){return[this._boxPlotMark]}}fm.type=Ye.boxPlot,fm.builtInTheme={boxPlot:cen},fm.mark=aen,fm.transformerConstructor=bRe;const den=()=>{sen(),Qm(),Uz(),Mh(),Ph(),uen(),ne.registerSeries(fm.type,fm)};class KC extends Mu{getTextType(){return this._textType}constructor(e,t){super(e,t),this.type=KC.type,this._textType="text"}_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{angle:0,textAlign:"center",lineWidth:0,textConfig:[]})}initStyleWithSpec(e){super.initStyleWithSpec(e),e.textType&&(this._textType=e.textType)}_transformGraphicAttributes(e,t,i){const r=super._transformGraphicAttributes(e,t,i),{text:s}=r;return pn(s)&&Y(s.text)&&(this._textType==="rich"||s.type==="rich")&&(r.textConfig=s.text),r}_createGraphic(e={}){const{text:t}=e;return this._textType==="rich"||(t==null?void 0:t.type)==="rich"?EZ(e):xM(e)}}KC.type="text";const Dh=()=>{ne.registerMark(KC.type,KC),pd(),_g(),q0(),ne.registerGraphicComponent("text",xM),ne.registerGraphicComponent("richtext",EZ)};function hen(n,e,t,i,r,s,a,o,l){n.setMarkStyle(e,{textAlign:u=>{if(l()==="vertical")return"center";const c=r(u),d=s(u);if(t==="middle")return"center";if(c>=d){if(t==="start")return"left";if(t==="end")return"right";if(t==="outside")return"left"}else{if(t==="start")return"right";if(t==="end")return"left";if(t==="outside")return"right"}return"center"},textBaseline:u=>{if(l()==="horizontal")return"middle";const c=a(u),d=o(u);if(t==="middle")return"middle";if(d>=c){if(t==="start")return"bottom";if(t==="end")return"top";if(t==="outside")return"bottom"}else{if(t==="start")return"top";if(t==="end")return"bottom";if(t==="outside")return"top"}return"middle"}}),n.setMarkStyle(e,{x:u=>{const c=l(),d=r(u),h=s(u);if(c==="vertical"||t==="middle")return(d+h)/2;if(d>=h){if(t==="start")return h+i;if(t==="end")return d-i;if(t==="outside")return d+i}else{if(t==="start")return h-i;if(t==="end")return d+i;if(t==="outside")return d-i}return(d+h)/2},y:u=>{const c=l(),d=a(u),h=o(u);if(c==="horizontal"||t==="middle")return(d+h)/2;if(d>=h){if(t==="start")return h+i;if(t==="end")return d-i;if(t==="outside")return d+i}else{if(t==="start")return h-i;if(t==="end")return d+i;if(t==="outside")return d-i}return(d+h)/2}},"normal",Qe.Series)}class fen extends Jl{constructor(){super(...arguments),this._getMeasureData=e=>this.series.getSpec().direction==="horizontal"?e[this.series.getSpec().xField[0]]+"-"+e[this.series.getSpec().xField[1]]:e[this.series.getSpec().yField[0]]+"-"+e[this.series.getSpec().yField[1]]}}const SRe=n=>({type:"growCenterIn",options:{direction:n.direction==="horizontal"?"x":"y"}}),pen={type:"fadeIn"},sme=n=>({type:"growCenterOut",options:{direction:n.direction==="horizontal"?"x":"y"}});function gen(n,e){return e==="fadeIn"?pen:SRe(n)}const men=()=>{ne.registerAnimation("rangeColumn",(n,e)=>({appear:gen(n,e),enter:SRe(n),exit:sme(n),disappear:sme(n)}))},ven=Object.assign(Object.assign({},CQ),{minLabel:{name:"minLabel",type:"text"},maxLabel:{name:"maxLabel",type:"text"}});class xRe extends nH{constructor(){super(...arguments),this._supportStack=!1}_transformLabelSpec(e){var t;((t=e.label)===null||t===void 0?void 0:t.position)!=="bothEnd"&&this._addMarkLabelSpec(e,"bar")}}const yen={label:{visible:!1,offset:5,position:"inside",style:{lineWidth:2,fill:{type:"palette",key:"axisMarkerFontColor"}},minLabel:{position:"end"},maxLabel:{position:"start"}}};class bf extends _f{constructor(){super(...arguments),this.type=Ye.rangeColumn,this._barMarkType="rect",this._barName=Ye.bar,this.transformerConstructor=xRe}initMark(){var e,t,i,r,s,a,o,l;this._initBarBackgroundMark();const u=(e=this._spec.label)===null||e===void 0?void 0:e.position;this._barMark=this._createMark(bf.mark.bar,{groupKey:this._seriesField,isSeriesMark:!0},{morph:bg(this._spec,bf.mark.bar.name),morphElementKey:this.getDimensionField()[0]}),((t=this._spec.label)===null||t===void 0?void 0:t.visible)!==!1&&u==="bothEnd"&&(((r=(i=this._spec.label)===null||i===void 0?void 0:i.minLabel)===null||r===void 0?void 0:r.visible)!==!1&&(this._minLabelMark=this._createMark(bf.mark.minLabel,{markSpec:(s=this._spec.label)===null||s===void 0?void 0:s.minLabel})),((o=(a=this._spec.label)===null||a===void 0?void 0:a.maxLabel)===null||o===void 0?void 0:o.visible)!==!1&&(this._maxLabelMark=this._createMark(bf.mark.maxLabel,{markSpec:(l=this._spec.label)===null||l===void 0?void 0:l.maxLabel})))}initMarkStyle(){var e,t;super.initMarkStyle(),this._initLabelMarkPos(this._minLabelMark,(e=this._spec.label)===null||e===void 0?void 0:e.minLabel,0,"end"),this._initLabelMarkPos(this._maxLabelMark,(t=this._spec.label)===null||t===void 0?void 0:t.maxLabel,1,"start")}_initLabelMarkPos(e,t,i,r){var s,a,o,l;if(e){this.setMarkStyle(e,{fill:(a=(s=t==null?void 0:t.style)===null||s===void 0?void 0:s.fill)!==null&&a!==void 0?a:this.getColorAttribute(),text:d=>{const h=this._spec.direction==="horizontal"?d[this._spec.xField[i]]:d[this._spec.yField[i]];return t!=null&&t.formatMethod?t.formatMethod(h,d):h}});const u=(o=t==null?void 0:t.position)!==null&&o!==void 0?o:r,c=(l=t==null?void 0:t.offset)!==null&&l!==void 0?l:this._direction==="vertical"?-20:-25;hen(this,e,u,c,d=>this._barMark.getAttribute("x",d),d=>this._direction==="vertical"?this._barMark.getAttribute("x",d)+this._barMark.getAttribute("width",d):this._barMark.getAttribute("x1",d),d=>this._barMark.getAttribute("y",d),d=>this._direction==="vertical"?this._barMark.getAttribute("y1",d):this._barMark.getAttribute("y",d)+this._barMark.getAttribute("height",d),()=>this._direction)}}initLabelMarkStyle(e){e&&(this.setMarkStyle(e,{text:t=>{let i,r;return this._spec.direction==="horizontal"?(i=t[this._spec.xField[0]],r=t[this._spec.xField[1]]):(i=t[this._spec.yField[0]],r=t[this._spec.yField[1]]),i+"-"+r},z:this._fieldZ?this.dataToPositionZ.bind(this):null}),this._labelMark=e)}_dataToPosX(e){return this._xAxisHelper.dataToPosition(this.getDatumPositionValues(e,this._spec.xField[0]),{bandPosition:this._bandPosition})}_dataToPosX1(e){return this._xAxisHelper.dataToPosition(this.getDatumPositionValues(e,this._spec.xField[1]),{bandPosition:this._bandPosition})}_dataToPosY(e){return this._yAxisHelper.dataToPosition(this.getDatumPositionValues(e,this._spec.yField[0]),{bandPosition:this._bandPosition})}_dataToPosY1(e){return this._yAxisHelper.dataToPosition(this.getDatumPositionValues(e,this._spec.yField[1]),{bandPosition:this._bandPosition})}initAnimation(){var e,t,i,r,s;const a=c_(this),o=(t=(e=this._spec)===null||e===void 0?void 0:e.animationAppear)===null||t===void 0?void 0:t.preset;this._barMark.setAnimationConfig(ei((i=ne.getAnimationInKey("rangeColumn"))===null||i===void 0?void 0:i({direction:this.direction},o),_i("bar",this._spec,this._markAttributeContext),a)),this._minLabelMark&&this._minLabelMark.setAnimationConfig(ei((r=ne.getAnimationInKey("fadeInOut"))===null||r===void 0?void 0:r(),_i("label",this._spec,this._markAttributeContext),a)),this._maxLabelMark&&this._maxLabelMark.setAnimationConfig(ei((s=ne.getAnimationInKey("fadeInOut"))===null||s===void 0?void 0:s(),_i("label",this._spec,this._markAttributeContext),a))}initTooltip(){this._tooltipHelper=new fen(this),this._barMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._barMark),this._minLabelMark&&this._tooltipHelper.ignoreTriggerSet.mark.add(this._minLabelMark),this._maxLabelMark&&this._tooltipHelper.ignoreTriggerSet.mark.add(this._maxLabelMark),this._labelMark&&this._tooltipHelper.ignoreTriggerSet.mark.add(this._labelMark)}}bf.type=Ye.rangeColumn,bf.mark=ven,bf.builtInTheme={rangeColumn:yen},bf.transformerConstructor=xRe;const _en=()=>{Jm(),Dh(),men(),Zm(),Mh(),Ph(),ne.registerSeries(bf.type,bf)};class ben extends Jl{constructor(){super(...arguments),this._getMeasureData=e=>this.series.getSpec().direction==="horizontal"?e[this.series.getSpec().xField[0]]+"-"+e[this.series.getSpec().xField[1]]:e[this.series.getSpec().yField[0]]+"-"+e[this.series.getSpec().yField[1]]}}const Sen=Object.assign({},QIe);class XC extends $p{constructor(){super(...arguments),this.type=Ye.rangeArea}initMark(){this._areaMark=this._createMark(XC.mark.area,{groupKey:this._seriesField,isSeriesMark:!0},{morphElementKey:this.getDimensionField()[0]})}initMarkStyle(){this.initAreaMarkStyle()}initAreaMarkStyle(){const e=this._areaMark;e&&(super.initAreaMarkStyle(),this._direction==="horizontal"?this.setMarkStyle(this._areaMark,{x1:t=>{if(!this._xAxisHelper)return Number.NaN;const{dataToPosition:i}=this._xAxisHelper;return i(this.getDatumPositionValues(t,this._spec.xField[1]),{bandPosition:this._bandPosition})}},"normal",Qe.Series):this.setMarkStyle(this._areaMark,{y1:t=>{if(!this._yAxisHelper)return Number.NaN;const{dataToPosition:i}=this._yAxisHelper;return i(this.getDatumPositionValues(t,this._spec.yField[1]),{bandPosition:this._bandPosition})}},"normal",Qe.Series),this.setMarkStyle(e,{stroke:!1},"normal",Qe.Series))}initTooltip(){this._tooltipHelper=new ben(this)}_isFieldAllValid(){const e=this.getViewDataStatistics(),t=this.fieldY;return!!(e&&e.latestData&&t.length)&&t.every(i=>e.latestData[i]&&e.latestData[i].allValid)}}XC.type=Ye.rangeArea,XC.mark=Sen;const xen=()=>{eH(),Mh(),Ph(),ne.registerSeries(XC.type,XC)};class zM extends A0{constructor(){super(...arguments),this.coordinate="polar",this._outerRadius=m$,this._innerRadius=0,this._angleField=[],this._radiusField=[],this._sortDataByAxis=!1}get outerRadius(){return this._outerRadius}get innerRadius(){return this._innerRadius}getAngleField(){return this._angleField}setAngleField(e){return this._angleField=Y(e)?Ae(e):[],this._angleField}getRadiusField(){return this._radiusField}setRadiusField(e){return this._radiusField=Y(e)?Ae(e):[],this._radiusField}get innerRadiusField(){return this._innerRadiusField}setInnerRadiusField(e){return this._innerRadiusField=Ae(e),this._innerRadiusField}get radiusScale(){return this._radiusScale}setRadiusScale(e){return this._radiusScale=e,e}get angleScale(){return this._angleScale}setAngleScale(e){return this._angleScale=e,e}get angleAxisHelper(){return this._angleAxisHelper}set angleAxisHelper(e){this._angleAxisHelper=e,this.onAngleAxisHelperUpdate()}get radiusAxisHelper(){return this._radiusAxisHelper}set radiusAxisHelper(e){this._radiusAxisHelper=e,this.onRadiusAxisHelperUpdate()}get sortDataByAxis(){return this._sortDataByAxis}_buildMarkAttributeContext(){super._buildMarkAttributeContext(),this._markAttributeContext.valueToPosition=this.valueToPosition.bind(this),this._markAttributeContext.getCenter=()=>this.angleAxisHelper.center(),this._markAttributeContext.getLayoutRadius=()=>this._computeLayoutRadius()}valueToPosition(e,t){if(J(e)||J(t)||!this.angleAxisHelper||!this.radiusAxisHelper)return{x:Number.NaN,y:Number.NaN};const i=this.radiusAxisHelper.dataToPosition(Ae(t));if(i<0){if(this._invalidType==="break"||this._invalidType==="link")return{x:Number.NaN,y:Number.NaN};if(this._invalidType==="zero")return this.angleAxisHelper.center()}const r=this.angleAxisHelper.dataToPosition(Ae(e));return this.angleAxisHelper.coordToPoint({angle:r,radius:i})}dataToPosition(e,t){return e&&this.angleAxisHelper&&this.radiusAxisHelper?t&&!this.isDatumInViewData(e)?null:this.valueToPosition(this.getDatumPositionValues(e,this._angleField),this.getDatumPositionValues(e,this._radiusField)):null}dataToPositionX(e){var t;return(t=this.dataToPosition(e))===null||t===void 0?void 0:t.x}dataToPositionY(e){var t;return(t=this.dataToPosition(e))===null||t===void 0?void 0:t.y}dataToPositionZ(e){return 0}positionToData(e){}radiusToData(e){}angleToData(e){}getStatisticFields(){var e,t;const i=[];return!((e=this.radiusAxisHelper)===null||e===void 0)&&e.getScale&&this._radiusField.forEach(r=>{const s={key:r,operations:[]};Ei(this.radiusAxisHelper.getScale(0).type)?s.operations=["max","min"]:s.operations=["values"],i.push(s)}),!((t=this.angleAxisHelper)===null||t===void 0)&&t.getScale&&this._angleField.forEach(r=>{const s={key:r,operations:[]};Ei(this.angleAxisHelper.getScale(0).type)?s.operations=["max","min"]:s.operations=["values"],i.push(s)}),i}setAttrFromSpec(){super.setAttrFromSpec(),Y(this._spec.outerRadius)&&(this._outerRadius=this._spec.outerRadius),Y(this._spec.radius)&&(this._outerRadius=this._spec.radius),Y(this._spec.innerRadius)&&(this._innerRadius=this._spec.innerRadius),Y(this._spec.sortDataByAxis)&&(this._sortDataByAxis=this._spec.sortDataByAxis===!0)}onRadiusAxisHelperUpdate(){this.onMarkPositionUpdate()}onAngleAxisHelperUpdate(){this.onMarkPositionUpdate()}afterInitMark(){super.afterInitMark()}_computeLayoutRadius(){const e=this._angleAxisHelper||this._radiusAxisHelper;if(e)return e.layoutRadius();const{width:t,height:i}=this._region.getLayoutRect();return Math.min(t/2,i/2)}initEvent(){super.initEvent(),this.sortDataByAxis&&this.event.on(Et.scaleDomainUpdate,{filter:e=>{var t;return e.model.id===((t=this._angleAxisHelper)===null||t===void 0?void 0:t.getAxisId())}},()=>{this._sortDataInAxisDomain()})}_sortDataInAxisDomain(){var e,t;!((t=(e=this.getViewData())===null||e===void 0?void 0:e.latestData)===null||t===void 0)&&t.length&&LIe(this.angleAxisHelper,this._angleField[0],this.getViewData().latestData)}getInvalidCheckFields(){const e=[];return this.angleAxisHelper.isContinuous&&this._angleField.forEach(t=>{e.push(t)}),this.radiusAxisHelper.isContinuous&&this._radiusField.forEach(t=>{e.push(t)}),e}}function x$(n){return LC(n)?Number.parseFloat(n):0}const wen=(n,e)=>{const{asStartAngle:t,asEndAngle:i,asMiddleAngle:r,asRadian:s,asRatio:a,asQuadrant:o,asK:l,showAllZero:u,supportNegative:c,showEmptyCircle:d}=e,h=e.angleField(),f=e.startAngle(),p=e.endAngle(),g=e.minAngle(),m=n.map(I=>Object.assign({},I));if(!m||m.length===0)return m;if(!u&&d&&Cen(m,h,c))return[];const v=(I,D,L)=>{I[t]=D,I[i]=D+L,I[r]=D+L/2,I[s]=L,I[o]=YAe(D+L/2)};let _=0,y=-1/0,x=!0;for(let I=0;I<m.length;I++){const D=c?Math.abs(x$(m[I][h])):x$(m[I][h]);_+=D,y=Math.max(D,y),x&&D!==0&&(x=!1),m[I][pW]=D}const w=m.map(I=>Number(I[h])),T=p-f;let E=f,A=T,k=0;const P=yXt(w);if(m.forEach((I,D)=>{const L=I[pW],B=_?L/_:0;let F=B*T;F<g?(F=g,A-=g):k+=L;const $=E,z=E+F;I[a]=B,I[l]=y?L/y:0,I._percent_=P[D],v(I,$,F),E=z}),A<T)if(A<=.001){const I=T/m.length;m.forEach((D,L)=>{v(D,f+L*I,I)})}else{const I=A/k;E=f,m.forEach(D=>{const L=D[s]===g?g:D[pW]*I;v(D,E,L),E+=L})}if(_!==0&&(m[m.length-1][i]=p),x&&u){const I=T/m.length;m.forEach((D,L)=>{v(D,f+L*I,I)})}return m},Cen=(n,e,t)=>!!J(n)||n.length===0||!!n.every(i=>x$(i[e])===0)||!t&&n.reduce((i,r)=>i+x$(r[e]),0)===0;function sH(n,e,t){return(i,r,s)=>e?n.growField==="radius"?{overall:0}:{overall:n.growFrom(i,r,t)}:{overall:!1}}const ame=n=>({type:n.growField==="radius"?"growRadiusIn":"growAngleIn",options:sH(n,!0,qi.appear)}),Ten={type:"fadeIn"},Een=n=>({type:n.growField==="radius"?"growRadiusIn":"growAngleIn",easing:"linear",options:sH(n,!0,qi.enter)}),Aen=n=>({type:n.growField==="radius"?"growRadiusOut":"growAngleOut",easing:"linear",options:sH(n,!0,qi.exit)}),ken=n=>({type:n.growField==="radius"?"growRadiusOut":"growAngleOut",options:sH(n,!0,qi.exit)});function wRe(n,e){if(e===!1)return{};switch(e){case"fadeIn":return Ten;case"growRadius":return ame(Object.assign(Object.assign({},n),{growField:"radius"}));default:return ame(Object.assign(Object.assign({},n),{growField:"angle"}))}}const Oen=()=>{ne.registerAnimation("pie",(n,e)=>({appear:wRe(n,e),enter:Een(n),exit:Aen(n),disappear:ken(n)}))},Pen=()=>{ne.registerAnimation("emptyCircle",(n,e)=>({appear:wRe(n,e)}))};function Men(n,e){var t,i,r,s;const a=(i=(t=e.options)===null||t===void 0?void 0:t.distance)!==null&&i!==void 0?i:10,o=Me(e.duration)?e.duration/2:1e3,l=(r=e.options.easing)!==null&&r!==void 0?r:"cubicOut";return{oneByOne:e.oneByOne,loop:(s=e.loop)!==null&&s!==void 0&&s,timeSlices:[{duration:o,effects:{easing:l,channel:{x:{from:u=>n.getAttribute("x",u),to:u=>n.getAttribute("x",u)+Sr({x:0,y:0},a,u[gy]).x},y:{from:u=>n.getAttribute("y",u),to:u=>n.getAttribute("y",u)+Sr({x:0,y:0},a,u[gy]).y}}}},{duration:o,effects:{easing:l,channel:{x:{to:u=>n.getAttribute("x",u),from:u=>n.getAttribute("x",u)+Sr({x:0,y:0},a,u[gy]).x},y:{to:u=>n.getAttribute("y",u),from:u=>n.getAttribute("y",u)+Sr({x:0,y:0},a,u[gy]).y}}}}]}}class Ien extends Mu{constructor(e,t){super(e,t),this.type=qC.type,this._unCompileChannel={centerOffset:!0,radiusOffset:!0},this.computeOuterRadius=(i,r,s="normal",a)=>{var o;return a+((o=this.getAttribute("radiusOffset",r,s))!==null&&o!==void 0?o:0)},this.computeCenter=(i,r,s="normal",a)=>Sr({x:0,y:0},this.getAttribute("centerOffset",r,s),r[gy])[i]+a,this._computeExChannel.x=this.computeCenter,this._computeExChannel.y=this.computeCenter,this._computeExChannel.outerRadius=this.computeOuterRadius,this._extensionChannel.centerOffset=["x","y"],this._extensionChannel.radiusOffset=["outerRadius"]}_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{startAngle:0,endAngle:0,outerRadius:0,innerRadius:0,cornerRadius:0,lineWidth:0,innerPadding:0,outerPadding:0})}}class qC extends Ien{constructor(){super(...arguments),this.type=qC.type}}qC.type="arc";const tS=()=>{pd(),U1(),n9t(),Kqt(),ne.registerGraphicComponent("arc",kZ),ne.registerMark(qC.type,qC)},Ren=Object.assign(Object.assign({},oa),{pie:{name:"pie",type:"arc"},labelLine:{name:"labelLine",type:"path"}});class CRe extends bl{_transformLabelSpec(e){this._addMarkLabelSpec(e,"pie")}_mergeThemeToSpec(e,t){const i=this._theme;let r=e;if(this._shouldMergeThemeToSpec()){const s=this._getDefaultSpecFromChart(t);r=qt({},this._theme,s,e);const a=(o,l)=>qt({},o==="inside"||o==="inside-center"?this._theme.innerLabel:this._theme.outerLabel,l);Oe(r.label)?r.label=r.label.map(o=>a(o.position,o)):r.label=a(r.label.position,r.label)}return{spec:r,theme:i}}_getDefaultSpecFromChart(e){var t;const i=(t=super._getDefaultSpecFromChart(e))!==null&&t!==void 0?t:{},{centerX:r,centerY:s}=e;return Y(r)&&(i.centerX=r),Y(s)&&(i.centerY=s),Object.keys(i).length>0?i:void 0}}const Den=`${Xt}_LABEL_VISIBLE`,Len={outerRadius:.6,pie:{style:{fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside",style:{fontWeight:"normal",stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1}},innerLabel:{style:{lineWidth:2}},emptyCircle:{style:{fill:{type:"palette",key:"emptyCircleColor"},fillOpacity:1}}};class Yw extends zM{constructor(){super(...arguments),this.transformerConstructor=CRe,this._pieMarkName="pie",this._pieMarkType="arc",this.getCenter=()=>{var e,t;const i=this._region.getLayoutRect();return{x:Fs((e=this._spec)===null||e===void 0?void 0:e.centerX,i.width,i,i.width/2),y:Fs((t=this._spec)===null||t===void 0?void 0:t.centerY,i.height,i,i.height/2)}},this._startAngle=Kz,this._endAngle=_Q,this._pieMark=null,this._labelMark=null,this._labelLineMark=null,this._emptyArcMark=null,this.dataToCentralPosition=e=>{const t=e[gy];if(J(t))return null;const i=this.computeDatumRadius(e),r=this.computeDatumInnerRadius(e),s=this.computeCenter(e);return Sr(s,(i+r)/2,t)}}_buildMarkAttributeContext(){super._buildMarkAttributeContext(),this._markAttributeContext.getCenter=()=>({x:()=>this.getCenter().x,y:()=>this.getCenter().y}),this._markAttributeContext.startAngleScale=e=>this.startAngleScale(e),this._markAttributeContext.endAngleScale=e=>this.endAngleScale(e)}setAttrFromSpec(){var e,t,i,r,s,a;super.setAttrFromSpec(),this._centerOffset=(e=this._spec.centerOffset)!==null&&e!==void 0?e:0,this._cornerRadius=(t=this._spec.cornerRadius)!==null&&t!==void 0?t:0;const o=hXt(Y(this._spec.startAngle)?ar(this._spec.startAngle):this._startAngle,Y(this._spec.endAngle)?ar(this._spec.endAngle):this._endAngle);this._startAngle=o.startAngle,this._endAngle=o.endAngle,this._padAngle=Y(this._spec.padAngle)?ar(this._spec.padAngle):0,this.setAngleField(this._spec.valueField||this._spec.angleField),this._spec.categoryField&&this.setSeriesField(this._spec.categoryField),this._radiusField=[],this._specAngleField=this._angleField.slice(),this._specRadiusField=[],this._showEmptyCircle=(r=(i=this._spec.emptyPlaceholder)===null||i===void 0?void 0:i.showEmptyCircle)!==null&&r!==void 0&&r,this._showAllZero=(s=this._spec.showAllZero)!==null&&s!==void 0&&s,this._supportNegative=(a=this._spec.supportNegative)!==null&&a!==void 0&&a}initData(){super.initData();const e=this.getViewData();if(!e)return;rn(this._dataSet,"pie",wen),e.transform({type:"pie",options:{angleField:()=>this._angleField[0],startAngle:()=>this._startAngle,endAngle:()=>this._endAngle,minAngle:()=>Y(this._spec.minAngle)?ar(this._spec.minAngle):0,asStartAngle:Hge,asEndAngle:Vge,asRatio:NZt,asMiddleAngle:gy,asRadian:HZt,asQuadrant:zZt,asK:jZt,showAllZero:this._showAllZero,supportNegative:this._supportNegative,showEmptyCircle:this._showEmptyCircle}},!1);const t=new Pi(this._dataSet,{name:`${Xt}_series_${this.id}_viewDataLabel`});t.parse([this.getViewData()],{type:"dataview"}),this._viewDataLabel=new Zl(this._option,t)}compileData(){var e;super.compileData(),(e=this._viewDataLabel)===null||e===void 0||e.compile()}initMark(){this._pieMark=this._createMark(Object.assign(Object.assign({},Yw.mark.pie),{name:this._pieMarkName,type:this._pieMarkType}),{key:yc,groupKey:this._seriesField,isSeriesMark:!0},{morph:bg(this._spec,this._pieMarkName),morphElementKey:this._seriesField}),this._showEmptyCircle&&(this._emptyArcMark=this._createMark({name:"emptyCircle",type:"arc"},{dataView:!1}),this._data.addRelatedMark(this._emptyArcMark))}startAngleScale(e){return Z2(Hge)(e)}endAngleScale(e){return Z2(Vge)(e)}_computeLayoutRadius(){return VIe(()=>this._spec.layoutRadius,this.getLayoutRect,this.getCenter,()=>({startAngle:this._startAngle,endAngle:this._endAngle}))}initMarkStyle(){const e={x:()=>this.getCenter().x,y:()=>this.getCenter().y,fill:this.getColorAttribute(),outerRadius:rge(this._outerRadius)?this._outerRadius:()=>this._computeLayoutRadius()*this._outerRadius,innerRadius:rge(this._innerRadius)?this._innerRadius:()=>this._computeLayoutRadius()*this._innerRadius,cornerRadius:()=>this._computeLayoutRadius()*this._cornerRadius,startAngle:r=>this.startAngleScale(r),endAngle:r=>this.endAngleScale(r),padAngle:this._padAngle,centerOffset:this._centerOffset},t=this._pieMark;t&&this.setMarkStyle(t,e,"normal",Qe.Series);const i=this._emptyArcMark;i&&this.setMarkStyle(i,Object.assign(Object.assign({},e),{visible:()=>{const r=this.getViewData().latestData;return!r||!r.length}}),"normal",Qe.Series)}getInteractionTriggers(){return this._parseInteractionConfig(this._pieMark?[this._pieMark]:[])}initTooltip(){super.initTooltip(),this._pieMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._pieMark)}initMarkStyleWithSpec(e,t){if(super.initMarkStyleWithSpec(e,t),e.name===this._pieMarkName){const i=this.getSpec()[e.name];if(i)for(const r in i.state||{})this.setMarkStyle(e,this.generateRadiusStyle(i.state[r]),r,Qe.User_Mark)}e.name==="emptyCircle"&&this.setMarkStyle(e,this.generateRadiusStyle(t.style),"normal",Qe.User_Mark)}initLabelMarkStyle(e){e&&this.setMarkStyle(e,{visible:Z2(Den).bind(this),text:t=>t[this.getDimensionField()[0]],fill:this.getColorAttribute(),z:this.dataToPositionZ.bind(this)})}afterInitMark(){super.afterInitMark()}initEvent(){var e;super.initEvent(),(e=this._viewDataLabel.getDataView())===null||e===void 0||e.target.addListener("change",this.viewDataLabelUpdate.bind(this))}initGroups(){}onLayoutEnd(){this._viewDataLabel.getDataView().reRunAllTransform(),this.onMarkPositionUpdate(),super.onLayoutEnd()}getDimensionField(){return this._seriesField?[this._seriesField]:[]}getMeasureField(){return this._specAngleField}viewDataLabelUpdate(){this.event.emit(Et.viewDataLabelUpdate,{model:this}),this._viewDataLabel.updateData()}generateRadiusStyle(e){if(!e)return;const t={};return e.outerRadius&&(t.outerRadius=()=>this._computeLayoutRadius()*e.outerRadius),e.innerRadius&&(t.innerRadius=()=>this._computeLayoutRadius()*e.innerRadius),e.cornerRadius&&(t.cornerRadius=()=>this._computeLayoutRadius()*e.cornerRadius),t}computeCenter(e){return{x:this._pieMark.getAttribute("x",e,"normal"),y:this._pieMark.getAttribute("y",e,"normal")}}getRadius(e="normal"){var t,i,r,s,a,o,l;const u=e==="normal"?(r=(i=this.getSpec()[((t=this._pieMark)===null||t===void 0?void 0:t.name)||"pie"])===null||i===void 0?void 0:i.style)===null||r===void 0?void 0:r.outerRadius:(l=(o=(a=this.getSpec()[((s=this._pieMark)===null||s===void 0?void 0:s.name)||"pie"])===null||a===void 0?void 0:a.state)===null||o===void 0?void 0:o[e])===null||l===void 0?void 0:l.outerRadius;return u??this._outerRadius}getInnerRadius(e="normal"){var t,i,r,s,a,o,l;const u=e==="normal"?(r=(i=this.getSpec()[((t=this._pieMark)===null||t===void 0?void 0:t.name)||"pie"])===null||i===void 0?void 0:i.style)===null||r===void 0?void 0:r.innerRadius:(l=(o=(a=this.getSpec()[((s=this._pieMark)===null||s===void 0?void 0:s.name)||"pie"])===null||a===void 0?void 0:a.state)===null||o===void 0?void 0:o[e])===null||l===void 0?void 0:l.innerRadius;return u??this._innerRadius}computeRadius(e,t){return this._computeLayoutRadius()*e*(J(t)?1:t)+this._centerOffset}computeDatumRadius(e,t){return this._computeLayoutRadius()*this.getRadius(t)+this._centerOffset}_compareSpec(e,t,i){i=i??{data:!0};const r=["centerX","centerY","centerOffset","radius","innerRadius","cornerRadius","startAngle","endAngle","padAngle"];r.forEach(a=>{i[a]=!0});const s=super._compareSpec(e,t,i);return e=e??{},r.some(a=>e[a]!==t[a])&&(s.reRender=!0,s.change=!0),s}computeDatumInnerRadius(e,t){return this._computeLayoutRadius()*this.getInnerRadius(t)+this._centerOffset}dataToPosition(e,t){const i=e[gy];if(J(i)||t&&!this.isDatumInViewData(e))return null;const r=this.computeDatumRadius(e),s=this.computeCenter(e);return Sr(s,r,i)}initAnimation(){var e,t,i;const r={growFrom:(a,o,l)=>{var u,c;if(l===qi.appear)return this._startAngle;if(l===qi.disappear)return this._endAngle;const d=[qi.disappear,qi.exit],h=this._pieMark.getGraphics(),f=a,p=f==null?void 0:f[Go];if(h.find(m=>{var v;return((v=m.context.data[0])===null||v===void 0?void 0:v[Go])<p})===void 0)return this._startAngle;if(h.find(m=>{var v;return((v=m.context.data[0])===null||v===void 0?void 0:v[Go])>p})===void 0)return this._endAngle;const g=[...h].reverse().find(m=>{var v;return((v=m.context.data[0])===null||v===void 0?void 0:v[Go])<p});return d.includes(l)?(u=g==null?void 0:g.getFinalAttribute())===null||u===void 0?void 0:u.endAngle:(c=g==null?void 0:g.attribute)===null||c===void 0?void 0:c.endAngle}},s=(e=this._spec.animationAppear)===null||e===void 0?void 0:e.preset;if(this._pieMark){const a=ei((t=ne.getAnimationInKey("pie"))===null||t===void 0?void 0:t(r,s),_i("pie",this._spec,this._markAttributeContext));a.normal&&a.normal.type&&(a.normal=Men(this._pieMark,a.normal)),this._pieMark.setAnimationConfig(a)}if(this._emptyArcMark){const a=ei((i=ne.getAnimationInKey("emptyCircle"))===null||i===void 0?void 0:i(r,s??"fadeIn"));this._emptyArcMark.setAnimationConfig(a)}}getDefaultShapeType(){return"circle"}getGroupFields(){return[]}getStackGroupFields(){return[]}getStackValueField(){return""}_noAnimationDataKey(e,t){return t}getActiveMarks(){return[this._pieMark]}}Yw.transformerConstructor=CRe,Yw.mark=Ren,Yw.builtInTheme={pie:Len};class W7 extends Yw{constructor(){super(...arguments),this.type=Ye.pie}}W7.type=Ye.pie;const Fen=()=>{tS(),Oen(),Pen(),ne.registerSeries(W7.type,W7)};function TRe(n){return n==="angle"?"growAngleIn":"growRadiusIn"}function Ben(n){return n==="angle"?"growAngleOut":"growRadiusOut"}const ome=n=>({type:TRe(n.growField),options:{overall:!0}}),$en={type:"fadeIn"},Nen=n=>({type:TRe(n.growField)}),ERe=n=>({type:Ben(n.growField)}),jen=ERe;function zen(n,e){if(e===!1)return{};switch(e){case"fadeIn":return $en;case"growAngle":return ome(Object.assign(Object.assign({},n),{growField:"angle"}));default:return ome(Object.assign(Object.assign({},n),{growField:"radius"}))}}const Hen=()=>{ne.registerAnimation("rose",(n,e)=>({appear:zen(n,e),enter:Nen(n),exit:ERe(n),disappear:jen(n)}))};class ARe extends zM{getStackGroupFields(){return this._angleField}getStackValueField(){return Ae(this._spec.valueField)[0]||Ae(this._spec.radiusField)[0]}getGroupFields(){return this._angleField}setAttrFromSpec(){super.setAttrFromSpec(),this.setAngleField(this._spec.categoryField||this._spec.angleField),this.setRadiusField(this._spec.valueField||this._spec.radiusField),this._specAngleField=this._angleField.slice(),this._specRadiusField=this._radiusField.slice(),this.setInnerRadiusField(this._spec.valueField||this._spec.radiusField),this.getStack()&&this.setValueFieldToStack(),this.getPercent()&&this.setValueFieldToPercent()}setValueFieldToStack(){this.setRadiusField(Pu),this.setInnerRadiusField(Ch)}setValueFieldToPercent(){this.setRadiusField(Hy),this.setInnerRadiusField(w0)}getDimensionField(){return this._specAngleField}getMeasureField(){return this._specRadiusField}getDefaultShapeType(){return"square"}}const Ven=Object.assign(Object.assign({},oa),{rose:{name:"rose",type:"arc"}});class kRe extends bl{constructor(){super(...arguments),this._supportStack=!0}_transformLabelSpec(e){this._addMarkLabelSpec(e,"rose")}}var lme=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};class w$ extends SQ{get center(){return this._center}get startAngle(){return this._startAngle}get endAngle(){return this._endAngle}getOrient(){return this._orient}getDefaultInteractive(){return this._orient!=="angle"}getGroupScales(){return this._groupScales}static getSpecInfo(e){if(!e[this.specKey])return null;const t=Oe(e[this.specKey]),i=t?e[this.specKey]:[e[this.specKey]],r=[];let s,a;const o=[],l=[];return i.forEach((u,c)=>{if(!BZt(u))return;const{axisType:d,componentName:h,startAngle:f,endAngle:p,center:g,outerRadius:m,layoutRadius:v}=VZt(u,e);u.center=g,u.startAngle=f,u.endAngle=p,u.outerRadius=m,u.type=d,u.layoutRadius=v;const _={spec:u,specPath:t?[this.specKey,c]:[this.specKey],specInfoPath:["component",this.specKey,c],type:h};r.push(_),u.orient==="radius"?(o.push(_),a=c):(l.push(_),s=c)}),o.forEach(u=>{u.angleAxisIndex=s}),l.forEach(u=>{u.radiusAxisIndex=a}),r}static createComponent(e,t){const{spec:i}=e,r=lme(e,["spec"]),s=ne.getComponentInKey(r.type);return s?new s(i,Object.assign(Object.assign({},t),r)):(t.onError(`Component ${r.type} not found`),null)}constructor(e,t){super(e,t),this.type=He.polarAxis,this.name=He.polarAxis,this._defaultBandPosition=0,this._defaultBandInnerPadding=0,this._defaultBandOuterPadding=0,this.layoutType="absolute",this.layoutZIndex=ji.Axis,this._tick=void 0,this._center=null,this._startAngle=Kz,this._endAngle=_Q,this._orient="radius",this._groupScales=[],this.effect={scaleUpdate:i=>{this.computeData(i==null?void 0:i.value),ts(this._regions,r=>{this.getOrient()==="radius"?qd(r.radiusAxisHelper,this.axisHelper(),Y(this._seriesUserId)||Y(this._seriesIndex))&&(r.radiusAxisHelper=this.axisHelper()):qd(r.angleAxisHelper,this.axisHelper(),Y(this._seriesUserId)||Y(this._seriesIndex))&&(r.angleAxisHelper=this.axisHelper())},{userId:this._seriesUserId,specIndex:this._seriesIndex})}},this._transformLayoutPosition=i=>{var r;const s=(r=this.getRegions())===null||r===void 0?void 0:r[0];return s?s.getLayoutStartPoint():i},this.getCenter=()=>{var i,r;const s=this.getRefLayoutRect(),{width:a,height:o}=s;return{x:Fs((i=this._center)===null||i===void 0?void 0:i.x,a,s,a/2),y:Fs((r=this._center)===null||r===void 0?void 0:r.y,o,s,o/2)}},this.getRefLayoutRect=()=>this.getRegions()[0].getLayoutRect(),this._coordinateType="polar"}setAttrFromSpec(){super.setAttrFromSpec(),this.visible&&(this._axisStyle=this._getAxisAttributes(),this._gridStyle=this._getGridAttributes()),this._tick=this._spec.tick,this._orient=this._spec.orient==="angle"?"angle":"radius",this._center=this._spec.center,this._startAngle=ar(this._spec.startAngle),this._endAngle=ar(this._spec.endAngle),this._inverse=this._spec.inverse}_tickTransformOption(){var e;return Object.assign(Object.assign({},super._tickTransformOption()),{noDecimal:(e=this._tick)===null||e===void 0?void 0:e.noDecimals,startAngle:this.startAngle,labelOffset:yQ(this._spec),getRadius:()=>this.getOuterRadius(),inside:this._spec.inside})}updateScaleRange(){const e=this._scale.range();let t;return t=this.getOrient()==="radius"?this._inverse?[this.computeLayoutOuterRadius(),this.computeLayoutInnerRadius()]:[this.computeLayoutInnerRadius(),this.computeLayoutOuterRadius()]:this._inverse?[this._endAngle,this._startAngle]:[this._startAngle,this._endAngle],(!e||!t||e[0]!==t[0]||e[1]!==t[1])&&(this._scale.range(t),!0)}collectSeriesField(e,t){var i,r;let s;return s=e>0?(r=(i=t.getGroups())===null||i===void 0?void 0:i.fields)===null||r===void 0?void 0:r[e]:this.getOrient()==="radius"?t.getRadiusField():t.getAngleField(),s}updateSeriesScale(){ts(this._regions,e=>{this.getOrient()==="radius"?qd(e.radiusAxisHelper,this.axisHelper(),Y(this._seriesUserId)||Y(this._seriesIndex))&&(e.setRadiusScale(this._scale),e.radiusAxisHelper=this.axisHelper()):qd(e.angleAxisHelper,this.axisHelper(),Y(this._seriesUserId)||Y(this._seriesIndex))&&(e.setAngleScale(this._scale),e.angleAxisHelper=this.axisHelper())},{userId:this._seriesUserId,specIndex:this._seriesIndex})}getSeriesStatisticsField(e){const t=this.getOrient()==="radius"?e.getRadiusField():e.getAngleField();return Ei(this._scale.type)?t:[t[0]]}initGroupScales(){}axisHelper(){return{isContinuous:Ei(this._scale.type),dataToPosition:this.dataToPosition.bind(this),coordToPoint:this.coordToPoint.bind(this),pointToCoord:this.pointToCoord.bind(this),center:this.getCenter.bind(this),layoutRadius:this._computeLayoutRadius.bind(this),getScale:(e=0)=>this._scales[e],getAxisId:()=>this.id,getSpec:()=>this._spec}}positionToData(e){const t=this.pointToCoord(e);return this.getOrient()==="radius"?this.invert(t.radius):this.invert(t.angle)}coordToPoint(e){const t=this.getCenter();return Sr(t,e.radius,e.angle)}pointToCoord(e){const t=this.getCenter(),i=this._startAngle,r=this._endAngle;return fO(e,t,i,r)}getOuterRadius(){return this.computeLayoutOuterRadius()}getInnerRadius(){return this.computeLayoutInnerRadius()}updateLayoutAttribute(){this._visible&&(this.getOrient()==="radius"?this._layoutRadiusAxis():this._layoutAngleAxis()),super.updateLayoutAttribute()}_getNormalizedValue(e,t){return t===0?0:(this.dataToPosition(e)-this._getStartValue())/t}getLabelItems(e){var t;const i=(t=this.getTickData())===null||t===void 0?void 0:t.getLatestData();return i&&i.length?[i.map(r=>GC(r.value,this._getNormalizedValue([r.value],e)))]:[]}_getStartValue(){return this.getOrient()==="radius"?this.computeLayoutInnerRadius():this._startAngle}_layoutAngleAxis(){var e,t,i;const r=this.getCenter(),s=this.computeLayoutOuterRadius(),a=this.computeLayoutInnerRadius(),o=this._endAngle-this._startAngle,l=this.getLabelItems(o),u=Object.assign(Object.assign({},this.getLayoutStartPoint()),{inside:this._spec.inside,center:r,radius:s,innerRadius:a,startAngle:this._startAngle,endAngle:this._endAngle,sides:!((i=(t=(e=this._getRelatedAxis(this._option.radiusAxisIndex))===null||e===void 0?void 0:e.getSpec())===null||t===void 0?void 0:t.grid)===null||i===void 0)&&i.smooth?void 0:this.getScale().domain().length}),c=Object.assign(Object.assign({},u),{size:this.getRefLayoutRect(),title:{text:this._spec.title.text||this._dataFieldText},items:l,orient:"angle",scale:this._scale});this._spec.grid.visible&&(c.grid=Object.assign({type:"line",smoothLink:!0,items:l[0]},u)),this._update(c)}_layoutRadiusAxis(){var e,t,i;const r=this.getCenter(),s=this.computeLayoutOuterRadius(),a=this.computeLayoutInnerRadius(),o=this.coordToPoint({angle:this._startAngle,radius:s}),l=this.coordToPoint({angle:this._startAngle,radius:a}),u=Fa.distancePP(l,o),c=this.getLabelItems(u),d=Object.assign(Object.assign({},this.getLayoutStartPoint()),{start:l,end:o,verticalFactor:-1}),h=Object.assign(Object.assign({},d),{title:{text:this._spec.title.text||this._dataFieldText},items:c,orient:"radius",scale:this._scale.clone()});!((e=this._spec.grid)===null||e===void 0)&&e.visible&&(h.grid=Object.assign({items:c[0],type:!((t=this._spec.grid)===null||t===void 0)&&t.smooth?"circle":"polygon",center:r,closed:!0,sides:(i=this._getRelatedAxis(this._option.angleAxisIndex))===null||i===void 0?void 0:i.getScale().domain().length,startAngle:this._startAngle,endAngle:this._endAngle},d)),this._update(h)}_getRelatedAxis(e){if(Y(e))return this._option.getComponentByIndex(this.specKey,e)}_computeLayoutRadius(){return VIe(()=>this._spec.layoutRadius,this.getRefLayoutRect,this.getCenter,()=>({startAngle:this._startAngle,endAngle:this._endAngle}))}computeLayoutOuterRadius(){var e;const t=(e=this._spec.outerRadius)!==null&&e!==void 0?e:this._spec.radius,i=t??this.getRefSeriesRadius().outerRadius;return this._computeLayoutRadius()*i}computeLayoutInnerRadius(){var e;const t=(e=this._spec.innerRadius)!==null&&e!==void 0?e:this.getRefSeriesRadius().innerRadius;return this._computeLayoutRadius()*t}getRefSeriesRadius(){let e=m$,t=0;const i=this.getChart().getSpec();return ts(this.getRegions(),r=>{const s=r;if(bZt(s.type)){const{outerRadius:a=i.outerRadius,innerRadius:o=i.innerRadius}=s;Me(a)&&(e=a),Me(o)&&(t=o)}},{userId:this._seriesUserId,specIndex:this._seriesIndex}),{outerRadius:e,innerRadius:t}}_update(e){const{grid:t}=e,i=lme(e,["grid"]);this._axisMark.getComponent().setAttributes(qt({},this._axisStyle,i)),this._gridMark&&this._gridMark.getComponent().setAttributes(qt({},this._gridStyle,t))}invert(e){var t;if(this.getOrient()==="angle"&&this._scale.type==="band"){const i=this._scale.range(),r=i[i.length-1]-i[0],s=((t=this.getSpec().bandPosition)!==null&&t!==void 0?t:this._defaultBandPosition)===.5?0:this._scale.bandwidth()/2;if(i[0]<0){const a=(e+s+Math.abs(i[0]))%r-Math.abs(i[0]);return this._scale.invert(a)}return this._scale.invert((e+s)%r)}return this._scale.invert(e)}}w$.type=He.polarAxis,w$.specKey="axes";const ORe={grid:{smooth:!0,visible:!0},subGrid:{smooth:!0,visible:!1}},PRe={grid:{visible:!0,style:{lineDash:[6,6]}},label:{space:5}};class dw extends w${constructor(){super(...arguments),this.type=He.polarLinearAxis,this._zero=!0,this._nice=!0,this._extend={},this._scale=new Ou}setAttrFromSpec(){super.setAttrFromSpec(),this.setExtraAttrFromSpec()}initScales(){super.initScales(),this.setScaleNice()}computeDomain(e){return this.computeLinearDomain(e)}axisHelper(){const e=super.axisHelper();return e.setExtendDomain=this.setExtendDomain.bind(this),e}registerTicksTransform(){const e=`${this.type}-ticks`;return rn(this._option.dataSet,e,kM),e}}dw.type=He.polarLinearAxis,dw.specKey="axes",dw.builtInTheme={axis:eS,axisLinear:Zz,axisAngle:PRe,axisRadius:ORe},Li(dw,qz);const q1=()=>{ne.registerGraphicComponent(ad.lineAxis,(n,e)=>new wh(n,e)),ne.registerGraphicComponent(od.lineAxisGrid,(n,e)=>new o_(n,e)),ne.registerGraphicComponent(ad.circleAxis,(n,e)=>new jC(n,e)),ne.registerGraphicComponent(od.circleAxisGrid,(n,e)=>new UZ(n,e)),J0(),ne.registerComponent(dw.type,dw)};class hw extends w${constructor(){super(...arguments),this.type=He.polarBandAxis,this._scale=new Q0}computeDomain(e){return this.computeBandDomain(e)}updateScaleRange(){const e=super.updateScaleRange();return this.updateGroupScaleRange(),e}axisHelper(){const e=super.axisHelper();return Object.assign(Object.assign({},e),{getBandwidth:t=>e.getScale(t).bandwidth()})}initScales(){super.initScales(),this.calcScales(this._defaultBandInnerPadding,this._defaultBandOuterPadding)}registerTicksTransform(){const e=`${this.type}-ticks`;return rn(this._option.dataSet,e,wKt),e}transformScaleDomain(){}}hw.type=He.polarBandAxis,hw.specKey="axes",hw.builtInTheme={axis:eS,axisBand:UIe,axisAngle:PRe,axisRadius:ORe},Li(hw,WIe);const HM=()=>{ne.registerGraphicComponent(ad.lineAxis,(n,e)=>new wh(n,e)),ne.registerGraphicComponent(od.lineAxisGrid,(n,e)=>new o_(n,e)),ne.registerGraphicComponent(ad.circleAxis,(n,e)=>new jC(n,e)),ne.registerGraphicComponent(od.circleAxisGrid,(n,e)=>new UZ(n,e)),J0(),ne.registerComponent(hw.type,hw)},Wen={rose:{style:{fillOpacity:1}},label:{style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},textAlign:"center",textBaseline:"middle"}}};class pm extends ARe{constructor(){super(...arguments),this.type=Ye.rose,this.transformerConstructor=kRe,this._roseMark=null,this._labelMark=null}initMark(){this.initRoseMark()}initMarkStyle(){this.initRoseMarkStyle()}_buildMarkAttributeContext(){super._buildMarkAttributeContext(),this._markAttributeContext.getCenter=()=>({x:()=>this.angleAxisHelper.center().x,y:()=>this.angleAxisHelper.center().y}),this._markAttributeContext.startAngleScale=e=>this.startAngleScale(e),this._markAttributeContext.endAngleScale=e=>this.endAngleScale(e)}initRoseMark(){this._roseMark=this._createMark(pm.mark.rose,{groupKey:this._seriesField,isSeriesMark:!0},{morph:bg(this._spec,pm.mark.rose.name),morphElementKey:this.getDimensionField()[0]})}getRoseAngle(){var e,t,i;return(i=(t=(e=this.angleAxisHelper).getBandwidth)===null||t===void 0?void 0:t.call(e,this._groups?this._groups.fields.length-1:0))!==null&&i!==void 0?i:.5}startAngleScale(e){return this.angleAxisHelper.dataToPosition(this.getDatumPositionValues(e,this.getGroupFields()))-.5*this.angleAxisHelper.getBandwidth(this.getGroupFields().length-1)}endAngleScale(e){return this.angleAxisHelper.dataToPosition(this.getDatumPositionValues(e,this.getGroupFields()))+this.getRoseAngle()-.5*this.angleAxisHelper.getBandwidth(this.getGroupFields().length-1)}initRoseMarkStyle(){const e=this._roseMark;e&&this.setMarkStyle(e,{x:()=>this.angleAxisHelper.center().x,y:()=>this.angleAxisHelper.center().y,startAngle:t=>this.startAngleScale(t),endAngle:t=>this.endAngleScale(t),fill:this.getColorAttribute(),outerRadius:t=>xi(this.radiusAxisHelper.dataToPosition([t[this._radiusField[0]]]),this.radiusAxisHelper.getScale(0)),innerRadius:t=>{var i;if(!this.getStack())return 0;const r=xi(this.radiusAxisHelper.dataToPosition([t[this._innerRadiusField[0]]]),this.radiusAxisHelper.getScale(0));return r<=Number.MIN_VALUE?this._computeLayoutRadius()*((i=this._spec.innerRadius)!==null&&i!==void 0?i:0):r}})}initTooltip(){super.initTooltip(),this._roseMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._roseMark)}initLabelMarkStyle(e){e&&this.setMarkStyle(e,{text:t=>t[this.getDimensionField()[0]],fill:this.getColorAttribute(),z:0})}initAnimation(){var e,t,i;const r=(t=(e=this._spec)===null||e===void 0?void 0:e.animationAppear)===null||t===void 0?void 0:t.preset;if(this._roseMark){const s={innerRadius:()=>{var a;return this._computeLayoutRadius()*((a=this._spec.innerRadius)!==null&&a!==void 0?a:0)}};this._roseMark.setAnimationConfig(ei((i=ne.getAnimationInKey("rose"))===null||i===void 0?void 0:i(s,r),_i("rose",this._spec,this._markAttributeContext)))}}getDefaultShapeType(){return"circle"}getActiveMarks(){return[this._roseMark]}}pm.type=Ye.rose,pm.mark=Ven,pm.builtInTheme={rose:Wen},pm.transformerConstructor=kRe;const Uen=()=>{ne.registerSeries(pm.type,pm),tS(),Hen(),HM(),q1()};class Gen extends Dr{constructor(e,t,i,r,s){super(e,t,i,r,s),this._center=t.center}getEndProps(){return this.valid===!1?{}:Sr(this._center,this._toRadius,this._toAngle)}onBind(){this.from=this.target.attribute,this.to=this.target.getFinalAttribute(),this._prevCenter=this.target.attribute.center,this._center&&this._prevCenter||(this.valid=!1);const{angle:e,radius:t}=fO(this.from,this._prevCenter),{angle:i,radius:r}=fO(this.to,this._center);Me(i*r)||(this.valid=!1),this._fromAngle=Me(e)?e:i,this._fromRadius=Me(t)?t:r,this._toAngle=i,this._toRadius=r,s$(this._fromAngle,this._toAngle)&&s$(this._fromRadius,this._toRadius)&&(this.valid=!1),this.props=this.getEndProps()}onUpdate(e,t,i){if(this.valid===!1)return i.x=this.to.x,void(i.y=this.to.y);const{x:r,y:s}=Sr({x:this._prevCenter.x+(this._center.x-this._prevCenter.x)*t,y:this._prevCenter.y+(this._center.y-this._prevCenter.y)*t},this._fromRadius+(this._toRadius-this._fromRadius)*t,this._fromAngle+(this._toAngle-this._fromAngle)*t);this.target.setAttributes({x:r,y:s}),this.target.addUpdatePositionTag(),this.target.addUpdateShapeAndBoundsTag()}}class Yen extends ZPe{onBind(){super.onBind();const{center:e}=this.target.attribute,{center:t}=this.target.getFinalAttribute();this._center=t,this._prevCenter=e}onUpdate(e,t,i){this.points=this.points.map((r,s)=>{const a=this.polarPointInterpolation(this.interpolatePoints[s][0],this.interpolatePoints[s][1],t);return e&&(i.center=this._center),a.context=r.context,a}),this.target.attribute.points=this.points,this.target.addUpdatePositionTag(),this.target.addUpdateShapeAndBoundsTag()}_interpolationSinglePoint(e,t,i){if(!nge(e)&&!nge(t))return t;const r=fO(e,this._prevCenter),s=fO(t,this._center);let a=$y(r.angle),o=$y(s.angle);!Me(a)&&Me(o)&&(a=o),Me(a)&&!Me(o)&&(o=a);const l=a+(o-a)*i,u=r.radius+(s.radius-r.radius)*i;return Sr({x:this._prevCenter.x+(this._center.x-this._prevCenter.x)*i,y:this._prevCenter.y+(this._center.y-this._prevCenter.y)*i},u,l)}polarPointInterpolation(e,t,i){const{x:r,y:s}=this._interpolationSinglePoint(e,t,i),{x:a,y:o}=this._interpolationSinglePoint({x:e.x1,y:e.y1},{x:t.x1,y:t.y1},i),l=new Zi(r,s,a,o);return l.defined=t.defined,l}}const MRe=n=>({type:n==="in"?"fadeIn":"fadeOut"}),Ken=(n,e)=>({type:e==="in"?"growPointsIn":"growPointsOut",options:()=>({center:n.center()})});function zD(n,e,t){return e==="fadeIn"?MRe(t):Ken(n,t)}const Xen=(n,e)=>{const t=()=>{var a;return(a=n.center())===null||a===void 0?void 0:a.x},i=(a,o)=>o.getGraphicAttribute("x"),r=()=>{var a;return(a=n.center())===null||a===void 0?void 0:a.y},s=(a,o)=>o.getGraphicAttribute("y");return e==="in"?{channel:{x:{from:t,to:i},y:{from:r,to:s}}}:{channel:{x:{from:i,to:t},y:{from:s,to:r}}}};function ume(n,e,t){return e==="fadeIn"?MRe(t):Xen(n,t)}const cme=(n,e)=>({custom:IYt,customParameters:(t,i)=>{var r;return{group:i,startAngle:(r=n.startAngle)!==null&&r!==void 0?r:Math.PI/2,orient:"clockwise",center:n.center(),radius:n.radius(),animationType:e}}}),qen=()=>{ne.registerAnimation("radar",(n,e)=>({appear:e==="clipIn"?void 0:zD(n,e,"in"),enter:zD(n,e,"in"),exit:zD(n,e,"out"),disappear:e==="clipIn"?void 0:zD(n,e,"out"),update:[{channel:["points","center"],custom:Yen,customParameters:n,duration:Up.update.duration,easing:Up.update.easing},{type:"update",options:{excludeChannels:["points","defined","center"]}}]})),ne.registerAnimation("radarSymbol",(n,e)=>({appear:e==="clipIn"?void 0:ume(n,e,"in"),enter:{type:"scaleIn"},exit:{type:"scaleOut"},disappear:e==="clipIn"?void 0:ume(n,e,"out"),update:[{options:{excludeChannels:["x","y","center"]}},{channel:["x","y","center"],custom:Gen,customParameters:n,duration:Up.update.duration,easing:Up.update.easing}]})),ne.registerAnimation("radarGroup",(n,e)=>({appear:cme(n,"in"),disappear:cme(n,"out")})),U1()},Zen=Object.assign(Object.assign(Object.assign({},oa),ey),{area:{name:"area",type:"area"}}),Qen={label:{visible:!1,offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},point:{style:{symbolType:"circle"}}};class am extends ARe{constructor(){super(...arguments),this.type=Ye.radar,this.transformerConstructor=FM,this._sortDataByAxis=!1}initGroups(){}compile(){super.compile(),this.addOverlapCompile()}initMark(){var e,t,i,r;const s=((e=this._spec.area)===null||e===void 0?void 0:e.visible)!==!1&&((i=(t=this._spec.area)===null||t===void 0?void 0:t.style)===null||i===void 0?void 0:i.visible)!==!1,a=(r=this._spec.seriesMark)!==null&&r!==void 0?r:"area";this.initAreaMark(s&&a==="area"),this.initLineMark(a==="line"||a==="area"&&!s),this.initSymbolMark(a==="point")}initMarkStyle(){this.initAreaMarkStyle(),this.initLineMarkStyle(),this.initSymbolMarkStyle(),[this._lineMark,this._symbolMark,this._areaMark].forEach(e=>{e&&this.setMarkStyle(e,{center:()=>{var t;return(t=this.angleAxisHelper)===null||t===void 0?void 0:t.center()}})})}initAreaMark(e){this._areaMark=this._createMark(am.mark.area,{groupKey:this._seriesField,isSeriesMark:e})}initAreaMarkStyle(){const e=this._areaMark;e&&(this.setMarkStyle(e,{x:this.dataToPositionX.bind(this),y:this.dataToPositionY.bind(this),x1:t=>t&&this.angleAxisHelper&&this.radiusAxisHelper?this.valueToPosition(this.getDatumPositionValues(t,this._angleField),this.getStack()?this.getDatumPositionValues(t,this._innerRadiusField):this.radiusScale.domain()[0]).x:Number.NaN,y1:t=>!t||!this.angleAxisHelper||!this.radiusAxisHelper?Number.NaN:this.valueToPosition(this.getDatumPositionValues(t,this._angleField),this.getStack()?this.getDatumPositionValues(t,this._innerRadiusField):this.radiusScale.domain()[0]).y,fill:this.getColorAttribute(),curveType:RIe,closePath:!0},"normal",Qe.Series),this._invalidType!=="zero"&&this.setMarkStyle(e,{defined:this._getInvalidDefined.bind(this),connectedType:this._getInvalidConnectType()},"normal",Qe.Series),this.event.on(Et.viewDataStatisticsUpdate,{filter:t=>t.model===this},()=>{this.encodeDefined(e,"defined")}))}initTooltip(){super.initTooltip();const{group:e,mark:t}=this._tooltipHelper.activeTriggerSet;this._lineMark&&e.add(this._lineMark),this._areaMark&&e.add(this._areaMark),this._symbolMark&&(t.add(this._symbolMark),e.add(this._symbolMark))}initAnimation(){var e,t,i,r;const s={center:()=>{var o;return(o=this.angleAxisHelper)===null||o===void 0?void 0:o.center()},radius:()=>{const o=this.getLayoutRect();return Math.min(o.width,o.height)},startAngle:Y(this._spec.startAngle)?ar(this._spec.startAngle):Kz},a=(i=(t=(e=this._spec)===null||e===void 0?void 0:e.animationAppear)===null||t===void 0?void 0:t.preset)!==null&&i!==void 0?i:"clipIn";a==="clipIn"&&this._rootMark&&this._rootMark.setAnimationConfig(ei((r=ne.getAnimationInKey("radarGroup"))===null||r===void 0?void 0:r(s,a),_i("group",this._spec,this._markAttributeContext))),[[this._areaMark,"radar"],[this._lineMark,"radar"],[this._symbolMark,"radarSymbol"]].forEach(([o,l])=>{if(Y(o)){const u=ne.getAnimationInKey(l);o.setAnimationConfig(ei(u==null?void 0:u(s,a),_i(o.name,this._spec,this._markAttributeContext)))}})}getDefaultShapeType(){return"square"}getActiveMarks(){return[this._areaMark,this._symbolMark,this._lineMark]}getSeriesStyle(e){return t=>{var i,r,s,a;let o=(r=(i=this._seriesMark)===null||i===void 0?void 0:i.getAttribute(t,e))!==null&&r!==void 0?r:void 0;return t!=="fill"||o||(t="stroke",o=(a=(s=this._seriesMark)===null||s===void 0?void 0:s.getAttribute(t,e))!==null&&a!==void 0?a:void 0),t==="stroke"&&Oe(o)?o[0]:o}}}am.type=Ye.radar,am.mark=Zen,am.builtInTheme={radar:Qen},am.transformerConstructor=FM,Li(am,mQ);const Jen=()=>{ne.registerSeries(am.type,am),eH(),Yz(),Qm(),qen(),HM(),q1()};class etn extends Jl{constructor(){super(...arguments),this.shapeTypeCallback=()=>"square"}enableByType(e){return e==="mark"}getDefaultTitlePattern(e){return{key:"event info",value:"event info"}}getDefaultContentList(){return[{key:e=>e.type,value:e=>e.id},{key:"event_time",value:e=>mf.getInstance().timeFormat("%Y%m%d",e.event_time)},{key:"action_type",value:e=>e.action_type},{key:"children",value:e=>e.children}]}getTooltipData(e,t,i,r,s){var a,o,l,u;const c=super.getTooltipData(e,t,i,r,s),d=(l=(o=(a=this.spec)===null||a===void 0?void 0:a[e])===null||o===void 0?void 0:o.updateContent)!==null&&l!==void 0?l:(u=t==null?void 0:t[e])===null||u===void 0?void 0:u.updateContent;return c&&!d&&(c.updateContent=(h,f,p)=>{const g=[],m=h.filter(v=>v.key==="children");return m.length>0&&m[0].value.forEach(v=>{let _=!0;for(const y in v)g.push(Object.assign(Object.assign({},m[0]),{shapeType:"circle",hasShape:_,key:y,value:v[y]+""})),_=!1}),h.concat(g)}),c}}const ttn=(n,e)=>{var t;const i=!((t=n[0])===null||t===void 0)&&t.latestData?n[0].latestData:n||[],r=[];let s=0;return i.forEach(a=>{const o={};let l;for(const c in a)c===e||c.startsWith(Xt)||(o[c]=a[c],l=Y(l)?`${l}_${a[c]}`:`${a[c]}`);const u=a[e];u==null||u.forEach((c,d)=>{r.push(Object.assign({},o,c,{[Go]:s,[yc]:`${l}_${d}`})),s++})}),r},ntn={fill:"#bbb",fillOpacity:.2},itn=Object.assign(Object.assign({},oa),{group:{name:"group",type:"group"},grid:{name:"grid",type:"rule"},gridBackground:{name:"gridBackground",type:"rect"},dot:{name:"dot",type:"symbol"},title:{name:"title",type:"text"},subTitle:{name:"subTitle",type:"text"},symbol:{name:"symbol",type:"symbol"}}),rtn={dot:{style:{size:10,fillOpacity:1}},symbol:{style:{size:10}},title:{style:{textAlign:"left",textBaseline:"middle",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},subTitle:{style:{textAlign:"left",textBaseline:"top",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}};class tc extends Oh{constructor(){super(...arguments),this.type=Ye.dot}getSeriesGroupField(){return this._seriesField}setSeriesGroupField(e){Y(e)&&(this._seriesGroupField=e)}getTitleField(){return this._titleField}setTitleField(e){Y(e)&&(this._titleField=e)}getSubTitleField(){return this._subTitleField}setSubTitleField(e){Y(e)&&(this._subTitleField=e)}getDotTypeField(){return this._dotTypeField}setDotTypeField(e){Y(e)&&(this._dotTypeField=e)}getHighLightSeriesGroup(){return this._highLightSeriesGroup}setHighLightSeriesGroup(e){Y(e)&&(this._highLightSeriesGroup=e)}setGridBackground(e){Y(e)&&(this._gridBackground=e)}initData(){var e;super.initData(),this._xDimensionStatisticsDomain=this.getRawData().latestData.map(t=>t[this._fieldY[0]]),rn(this._option.dataSet,"objFlat",ttn),rn(this._option.dataSet,"copyDataView",Nz),Am(this._option.dataSet,"dataview",Qj),(e=this.getViewData())===null||e===void 0||e.transform({type:"objFlat",options:"dots",level:og.dotObjFlat},!1)}getStatisticFields(){return[{key:this._fieldY[0],operations:["values"],customize:this._xDimensionStatisticsDomain}]}setAttrFromSpec(){var e;super.setAttrFromSpec(),this.setSeriesGroupField(this._spec.seriesGroupField),this.setTitleField(this._spec.titleField),this.setSubTitleField(this._spec.subTitleField),this.setDotTypeField(this._spec.dotTypeField),this.setHighLightSeriesGroup(this._spec.highLightSeriesGroup),this.setGridBackground(qt(ntn,((e=this._spec.grid)===null||e===void 0?void 0:e.background)||{}))}initMark(){this._clipMark=this._createMark(tc.mark.group),this._containerMark=this._createMark(tc.mark.group,{parent:this._clipMark,dataView:this.getRawData()}),this._gridBackgroundMark=this._createMark(tc.mark.gridBackground,{parent:this._containerMark,dataView:this.getRawData()}),this._gridMark=this._createMark(tc.mark.grid,{parent:this._containerMark,dataView:this.getRawData()}),this._dotMark=this._createMark(tc.mark.dot,{skipBeforeLayouted:!1,isSeriesMark:!0,parent:this._containerMark}),this._titleMark=this._createMark(tc.mark.title,{parent:this._containerMark,dataView:this.getRawData()}),this._subTitleMark=this._createMark(tc.mark.subTitle,{parent:this._containerMark,dataView:this.getRawData()}),this._symbolMark=this._createMark(tc.mark.symbol,{parent:this._containerMark,dataView:this.getRawData()})}initMarkStyle(){var e;const t=this._clipMark;t&&(this.setMarkStyle(t,{x:-((e=this._spec.leftAppendPadding)!==null&&e!==void 0?e:0),y:0,width:1e4,height:()=>{var c;return(c=this._spec.clipHeight)!==null&&c!==void 0?c:this._region.getLayoutRect().height}},"normal",Qe.Series),t.setMarkConfig({interactive:!1,clip:!0}));const i=this._containerMark;i&&(this.setMarkStyle(i,{x:this._spec.leftAppendPadding},"normal",Qe.Series),i.setMarkConfig({interactive:!1}));const r=this._gridBackgroundMark;r&&this.setMarkStyle(r,{x:this.getRegionRectLeft.bind(this),x1:this.getRegionRectRight.bind(this),y:this.dataToGridBackgroundPositionY.bind(this),y1:this.dataToGridBackgroundPositionY1.bind(this),fill:this._gridBackground.fill,fillOpacity:this.dataToGridBackgroundOpacity.bind(this)},"normal",Qe.Series);const s=this._gridMark;s&&this.setMarkStyle(s,{stroke:this.getColorAttribute(),x:this.getRegionRectLeft.bind(this),y:this.dataToPositionY.bind(this),x1:this.getRegionRectRight.bind(this),y1:this.dataToPositionY.bind(this)},"normal",Qe.Series);const a=this._dotMark;a&&this.setMarkStyle(a,{x:this.dataToPositionX.bind(this),y:this.dataToPositionY.bind(this),fill:this.getDotColorAttribute(),stroke:this.getDotColorAttribute(),fillOpacity:this.dataToOpacity.bind(this)},"normal",Qe.Series);const o=this._titleMark;o&&this.setMarkStyle(o,{fill:this.getColorAttribute(),text:c=>c[this.getTitleField()],x:this.getRegionRectLeft.bind(this),y:this.dataToPositionY.bind(this)},"normal",Qe.Series);const l=this._subTitleMark;l&&this.setMarkStyle(l,{fill:this.getColorAttribute(),text:c=>c[this.getSubTitleField()],x:this.getRegionRectLeft.bind(this),y:this.dataToPositionY.bind(this)},"normal",Qe.Series);const u=this._symbolMark;u&&this.setMarkStyle(u,{x:this.getRegionRectLeft.bind(this),y:this.dataToPositionY.bind(this),fill:this.getColorAttribute()},"normal",Qe.Series)}dataToGridBackgroundPositionY(e){if(!this._yAxisHelper)return Number.NaN;const{dataToPosition:t,getBandwidth:i}=this._yAxisHelper;return t(this.getDatumPositionValues(e,this._fieldY),{bandPosition:this._bandPosition})-i(0)/2}dataToGridBackgroundPositionY1(e){if(!this._yAxisHelper)return Number.NaN;const{dataToPosition:t,getBandwidth:i}=this._yAxisHelper;return t(this.getDatumPositionValues(e,this._fieldY),{bandPosition:this._bandPosition})+i(0)/2}dataToOpacity(e){var t,i,r,s;if(!this._xAxisHelper)return Number.NaN;const{dataToPosition:a,getScale:o}=this._xAxisHelper;return a(this.getDatumPositionValues(e,this._fieldX),{bandPosition:this._bandPosition})<o(0).range()[0]||a(this.getDatumPositionValues(e,this._fieldX),{bandPosition:this._bandPosition})>o(0).range()[1]?0:(s=(r=(i=(t=this._theme)===null||t===void 0?void 0:t.dot)===null||i===void 0?void 0:i.style)===null||r===void 0?void 0:r.fillOpacity)!==null&&s!==void 0?s:1}dataToGridBackgroundOpacity(e){return e[this._seriesGroupField]===this._highLightSeriesGroup?this._gridBackground.fillOpacity:0}onLayoutEnd(){var e,t;super.onLayoutEnd();const i=(t=(e=this._spec)===null||e===void 0?void 0:e.leftAppendPadding)!==null&&t!==void 0?t:0;this.setMarkStyle(this._clipMark,{width:this.getLayoutRect().width+i},"normal",Qe.Series)}getDefaultColorDomain(){var e,t;return this._seriesGroupField?(e=this.getViewDataStatistics())===null||e===void 0?void 0:e.latestData[this._seriesGroupField].values:this._seriesField?(t=this.getViewDataStatistics())===null||t===void 0?void 0:t.latestData[this._seriesField].values:[]}getColorAttribute(){var e,t,i;return{scale:(e=this._option.globalScale.getScale("color"))!==null&&e!==void 0?e:this._getDefaultColorScale(),field:(i=(t=this._seriesGroupField)!==null&&t!==void 0?t:this._seriesField)!==null&&i!==void 0?i:Cu}}getDotColorScale(){var e,t,i;const r=this._dotTypeField?(e=this.getViewDataStatistics())===null||e===void 0?void 0:e.latestData[this._dotTypeField].values:this._seriesGroupField?(t=this.getViewDataStatistics())===null||t===void 0?void 0:t.latestData[this._seriesGroupField].values:this._seriesField?(i=this.getViewDataStatistics())===null||i===void 0?void 0:i.latestData[this._seriesField].values:[],s=this._getDataScheme();return new RM().domain(r).range(s)}getDotColorAttribute(){var e,t,i,r;return{scale:(e=this._option.globalScale.getScale("color"))!==null&&e!==void 0?e:this.getDotColorScale(),field:(r=(i=(t=this._dotTypeField)!==null&&t!==void 0?t:this._seriesGroupField)!==null&&i!==void 0?i:this._seriesField)!==null&&r!==void 0?r:Cu}}initTooltip(){this._tooltipHelper=new etn(this),this._dotMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._dotMark)}onEvaluateEnd(e){super.onEvaluateEnd(e)}onMarkTreePositionUpdate(e){e.forEach(t=>{t.commit(!1,!0)})}getDotData(){var e;return(e=this._dotMark)===null||e===void 0?void 0:e.getData()}_getDataIdKey(){}getStackValueField(){return null}getActiveMarks(){return[this._dotMark]}}tc.type=Ye.dot,tc.mark=itn,tc.builtInTheme={dot:rtn};const stn=()=>{Qm(),jM(),Jm(),Dh(),ne.registerSeries(tc.type,tc)};class atn extends Jl{constructor(){super(...arguments),this.shapeTypeCallback=()=>"square"}enableByType(e){return e==="mark"}getDefaultTitlePattern(e){return{key:"link info",value:"link info"}}getDefaultContentList(){return[{key:"time",value:e=>mf.getInstance().timeFormat("%Y%m%d %H:%M",e.from.split("_")[1])},{key:"type",value:e=>e.action_type},{key:"from",value:e=>e.from},{key:"to",value:e=>e.to}]}}const otn=Object.assign(Object.assign({},oa),{group:{name:"group",type:"group"},link:{name:"link",type:"rule"},arrow:{name:"arrow",type:"symbol"}}),ltn=(n,e)=>{const{infoKey:t,fields:i,linkData:r,dotData:s}=e,{fromField:a,toField:o,xField:l,yField:u}=i(),c=r(),d=s(),h={};return d.forEach(f=>{const p={};for(const m in f)m!==t&&(p[m]=f[m]);const g=f[t];g==null||g.forEach(m=>{h[m.node_name]=Object.assign({},p,m)})}),c.forEach(f=>{var p,g,m,v;f[a+"_xField"]=(p=h==null?void 0:h[f[a]])===null||p===void 0?void 0:p[l],f[a+"_yField"]=(g=h==null?void 0:h[f[a]])===null||g===void 0?void 0:g[u],f[o+"_xField"]=(m=h==null?void 0:h[f[o]])===null||m===void 0?void 0:m[l],f[o+"_yField"]=(v=h==null?void 0:h[f[o]])===null||v===void 0?void 0:v[u]}),c},utn={arrow:{style:{size:10}}};class Gp extends Oh{constructor(){super(...arguments),this.type=Ye.link}getFromField(){return this._fromField}setFromField(e){Y(e)&&(this._fromField=e)}getToField(){return this._toField}setToField(e){Y(e)&&(this._toField=e)}getDotTypeField(){return this._dotTypeField}setDotTypeField(e){Y(e)&&(this._dotTypeField=e)}getDotSeriesSpec(){return this._dotSeriesSpec}setDotSeriesSpec(e){Y(e)&&(this._dotSeriesSpec=e)}_getDotData(){const e=this._option.getChart().getSeriesInIndex([this._spec.dotSeriesIndex])[0];return e?e.getRawData().latestData:[]}initData(){var e;super.initData(),rn(this._option.dataSet,"linkDotInfo",ltn),(e=this.getViewData())===null||e===void 0||e.transform({type:"linkDotInfo",options:{infoKey:"dots",fields:()=>({fromField:this._fromField,toField:this._toField,xField:this._dotSeriesSpec.xField,yField:this._dotSeriesSpec.yField}),linkData:()=>this._rawData.latestData,dotData:()=>this._getDotData()},level:og.linkDotInfo},!1)}setAttrFromSpec(){super.setAttrFromSpec(),this.setFromField(this._spec.fromField),this.setToField(this._spec.toField),this.setDotTypeField(this._spec.dotTypeField),this.setDotSeriesSpec(this._spec.dotSeriesSpec)}initMark(){this._clipMark=this._createMark(Gp.mark.group),this._containerMark=this._createMark(Gp.mark.group,{parent:this._clipMark}),this._linkMark=this._createMark(Gp.mark.link,{skipBeforeLayouted:!1,parent:this._containerMark}),this._arrowMark=this._createMark(Gp.mark.arrow,{skipBeforeLayouted:!1,isSeriesMark:!0,parent:this._containerMark})}initMarkStyle(){var e,t,i,r;const s=this._clipMark;s&&(this.setMarkStyle(s,{x:-this._spec.leftAppendPadding,y:0,width:1e4,height:this._spec.clipHeight},"normal",Qe.Series),s.setMarkConfig({interactive:!1,clip:!0}));const a=this._containerMark;a&&(this.setMarkStyle(a,{x:this._spec.leftAppendPadding,width:this.getLayoutRect().width},"normal",Qe.Series),a.setMarkConfig({interactive:!1}));const o=this._linkMark;o&&this.setMarkStyle(o,{stroke:this.getColorAttribute(),strokeOpacity:this.dataToOpacity.bind(this),x:this.dataToPositionXFrom.bind(this),y:this.dataToPositionYFrom.bind(this),x1:this.dataToPositionXTo.bind(this),y1:this.dataToPositionYTo.bind(this)},"normal",Qe.Series);const l=this._arrowMark;if(l){const u=(r=(i=(t=(e=this._theme)===null||e===void 0?void 0:e.arrow)===null||t===void 0?void 0:t.style)===null||i===void 0?void 0:i.size)!==null&&r!==void 0?r:10;this.setMarkStyle(l,{x:this.dataToPositionXTo.bind(this),y:c=>this.dataToPositionArrowYTo(c,u),fill:this.getColorAttribute(),fillOpacity:this.dataToOpacity.bind(this),size:u,symbolType:c=>this.isPositionYFromHigher(c)?"triangleDown":"triangleUp"},"normal",Qe.Series)}}afterInitMark(){super.afterInitMark()}dataToPositionXFrom(e){if(!this._xAxisHelper)return Number.NaN;const{dataToPosition:t}=this._xAxisHelper;return t(this.getDatumPositionValues(e,this._fromField+"_xField"),{bandPosition:this._bandPosition})}dataToPositionYFrom(e){if(!this._yAxisHelper)return Number.NaN;const{dataToPosition:t}=this._yAxisHelper;return t(this.getDatumPositionValues(e,this._fromField+"_yField"))}dataToPositionXTo(e){if(!this._xAxisHelper)return Number.NaN;const{dataToPosition:t}=this._xAxisHelper;return t(this.getDatumPositionValues(e,this._toField+"_xField"),{bandPosition:this._bandPosition})}dataToPositionYTo(e){if(!this._yAxisHelper)return Number.NaN;const{dataToPosition:t}=this._yAxisHelper;return t(this.getDatumPositionValues(e,this._toField+"_yField"),{bandPosition:this._bandPosition})}dataToPositionArrowYTo(e,t){if(!this._yAxisHelper)return Number.NaN;const{dataToPosition:i}=this._yAxisHelper,r=this.isPositionYFromHigher(e)?-t/2:t/2;return i(this.getDatumPositionValues(e,this._toField+"_yField"),{bandPosition:this._bandPosition})+r}dataToOpacity(e){return this.isPositionXOuterRange(e,this._fromField+"_xField")||this.isPositionXOuterRange(e,this._toField+"_xField")||e[this._fromField]===e[this._toField]?0:1}isPositionYFromHigher(e){return this.dataToPositionYFrom(e)<this.dataToPositionYTo(e)}isPositionXOuterRange(e,t){if(!this._xAxisHelper)return!1;const{dataToPosition:i,getScale:r}=this._xAxisHelper;return i(this.getDatumPositionValues(e,t),{bandPosition:this._bandPosition})<r(0).range()[0]||i(this.getDatumPositionValues(e,t),{bandPosition:this._bandPosition})>r(0).range()[1]}getDefaultColorDomain(){var e,t;return this._dotTypeField?(e=this.getViewDataStatistics())===null||e===void 0?void 0:e.latestData[this._dotTypeField].values:this._seriesField?(t=this.getViewDataStatistics())===null||t===void 0?void 0:t.latestData[this._seriesField].values:[]}getColorAttribute(){var e,t,i;return{scale:(e=this._option.globalScale.getScale("color"))!==null&&e!==void 0?e:this._getDefaultColorScale(),field:(i=(t=this._dotTypeField)!==null&&t!==void 0?t:this._seriesField)!==null&&i!==void 0?i:Cu}}getInteractionTriggers(){const e=[];return this._linkMark&&e.push(this._linkMark),this._arrowMark&&e.push(this._arrowMark),this._parseInteractionConfig(e)}initTooltip(){this._tooltipHelper=new atn(this),this._linkMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._linkMark),this._arrowMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._arrowMark)}onMarkTreePositionUpdate(e){e.forEach(t=>{t.commit(!1,!0)})}getDotInfoData(){var e,t;return(t=(e=this._linkMark)!==null&&e!==void 0?e:this._arrowMark)===null||t===void 0?void 0:t.getData()}getActiveMarks(){return[this._linkMark,this._arrowMark]}}Gp.type=Ye.link,Gp.mark=otn,Gp.builtInTheme={link:utn};const ctn=()=>{jM(),Qm(),Mh(),Ph(),ne.registerSeries(Gp.type,Gp)},PQ=Object.assign(Object.assign({},oa),{group:{name:"group",type:"group"}});class Z1 extends zM{constructor(){super(...arguments),this._arcGroupMark=null,this._getAngleValueStart=e=>{const t=this._getAngleAxis(),{tickMask:i}=this._spec;if(i!=null&&i.forceAlign&&this._isTickMaskVisible(t)){const r=e[this.getStack()?Ch:J2],s=this._getAngleAxisSubTickData(t),a=s[1].value-s[0].value,o=ar(i.offsetAngle);let l;if(Y(r)){const u=xce(s,d=>d.value-r),c=u>=s.length||r>s[u].value-a/2?Math.min(u,s.length-1):u>0?u-1:void 0;c!==void 0&&(l=this.angleAxisHelper.dataToPosition([s[c].value-a/2]))}return J(l)&&(l=this.angleAxisHelper.dataToPosition([s[0].value-a/2])),l+o}return this._getAngleValueStartWithoutMask(e)},this._getAngleValueEnd=e=>{const t=this._getAngleAxis(),{tickMask:i}=this._spec;if(i!=null&&i.forceAlign&&this._isTickMaskVisible(t)){const r=e[this.getStack()?Pu:this._angleField[0]],s=this._getAngleAxisSubTickData(t),a=s[1].value-s[0].value,o=ar(i.offsetAngle),l=xce(s,d=>d.value-r),u=l>=s.length||r>s[l].value-a/2?Math.min(l,s.length-1):l>0?l-1:void 0;let c;return c=u!==void 0?this.angleAxisHelper.dataToPosition([s[u].value+a/2]):this.angleAxisHelper.dataToPosition([s[0].value-a/2]),c+o}return this._getAngleValueEndWithoutMask(e)}}setAttrFromSpec(){var e,t,i;super.setAttrFromSpec();const r=(e=this._option.globalInstance.getChart())===null||e===void 0?void 0:e.getSpec(),s=(t=this._spec.startAngle)!==null&&t!==void 0?t:r==null?void 0:r.startAngle;this._startAngle=Y(s)?ar(s):Kz;const a=(i=this._spec.endAngle)!==null&&i!==void 0?i:r==null?void 0:r.endAngle;this._endAngle=Y(a)?ar(a):_Q,this.setAngleField(this._spec.valueField||this._spec.angleField),this.setRadiusField(this._spec.categoryField||this._spec.radiusField),this._specAngleField=this._angleField.slice(),this._specRadiusField=this._radiusField.slice()}getStackGroupFields(){return this._radiusField}getStackValueField(){var e;return(e=this._angleField)===null||e===void 0?void 0:e[0]}getGroupFields(){return this._angleField}_convertMarkStyle(e){const t=super._convertMarkStyle(e);if(t.fill){const i=e.fill;(i==null?void 0:i.gradient)!=="conical"||Y(i==null?void 0:i.startAngle)||Y(i==null?void 0:i.endAngle)||(t.fill=Object.assign(Object.assign({},i),{startAngle:this._startAngle,endAngle:this._endAngle}))}return t}_getAngleValueStartWithoutMask(e){if(this.getStack()){const t=xi(this.angleAxisHelper.dataToPosition([e[Ch]]),this.angleAxisHelper.getScale(0));if(Me(t))return t}return this._startAngle}_getAngleValueEndWithoutMask(e){if(this.getStack()){const i=xi(this.angleAxisHelper.dataToPosition([e[Pu]]),this.angleAxisHelper.getScale(0));if(Me(i))return i}const t=this.angleAxisHelper.dataToPosition([e[this._angleField[0]]]);return this._spec.clamp?xi(t,this.angleAxisHelper.getScale(0)):t}getDimensionField(){return this._specRadiusField}getMeasureField(){return this._specAngleField}initMark(){this._initArcGroupMark()}initMarkStyle(){this._initArcGroupMarkStyle()}_initArcGroupMark(){return this._arcGroupMark=this._createMark(Z1.mark.group,{skipBeforeLayouted:!1}),this._arcGroupMark}_initArcGroupMarkStyle(){const e=this._arcGroupMark;e.created(),this.setMarkStyle(e,{x:0,y:0},"normal",Qe.Series),this._arcGroupMark.setMarkConfig({interactive:!1,zIndex:this.layoutZIndex,clip:!0,clipPath:()=>{const t=this._getAngleAxis(),{x:i,y:r}=this.angleAxisHelper.center(),s=this._computeLayoutRadius();if(this._isTickMaskVisible(t)){const{tickMask:l}=this._spec,{angle:u,offsetAngle:c,style:d={}}=l,h=this._getAngleAxisSubTickData(t),f=d;return h.map(({value:p})=>{const g=this.angleAxisHelper.dataToPosition([p])+ar(c),m=ar(u)/2;return kZ(Object.assign(Object.assign({},f),{x:i,y:r,startAngle:g-m,endAngle:g+m,innerRadius:s*this._innerRadius,outerRadius:s*this._outerRadius,fill:!0}))})}const{width:a,height:o}=this.getLayoutRect();return[CM({width:a,height:o,fill:!0})]}})}_getAngleAxis(){if(!this.angleAxisHelper)return;const e=this.angleAxisHelper.getAxisId();return this._option.getChart().getAllComponents().find(t=>t.id===e)}_getAngleAxisTickData(e){var t;return(t=e==null?void 0:e.getTickData())===null||t===void 0?void 0:t.getLatestData()}_isTickMaskVisible(e){const t=this._getAngleAxisTickData(e),{tickMask:i}=this._spec;return i&&i.visible!==!1&&(t==null?void 0:t.length)>1}_getAngleAxisSubTickData(e){var t;const i=this._getAngleAxisTickData(e),r=[],{subTick:s={},tick:a={}}=(t=e==null?void 0:e.getSpec())!==null&&t!==void 0?t:{},{tickCount:o=4}=s,{alignWithLabel:l}=a;if((i==null?void 0:i.length)>=2){const u=i[1].value-i[0].value;for(let c=0;c<i.length-1;c++){const d=i[c],h=i[c+1];r.push(d);for(let f=0;f<o;f++){const p=(f+1)/(o+1),g=(1-p)*d.value+p*(h?h.value:l?1:d.value+u);r.push({value:g})}}return r.push(i[i.length-1]),r}return i}}Z1.mark=PQ;const dtn=Object.assign(Object.assign({},PQ),{track:{name:"track",type:"arc"},progress:{name:"progress",type:"arc"}}),htn=n=>({type:"growAngleIn",options:{overall:n.startAngle}}),ftn={type:"fadeIn"};function ptn(n,e){return e==="fadeIn"?ftn:htn(n)}const IRe=()=>{ne.registerAnimation("circularProgress",(n,e)=>({appear:ptn(n,e),enter:{type:"growAngleIn"},disappear:{type:"growAngleOut"}}))};class RRe extends bl{constructor(){super(...arguments),this._supportStack=!0}}const gtn={outerRadius:.8,innerRadius:.6,progress:{style:{fillOpacity:1}},track:{style:{fillOpacity:.2}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}};class gm extends Z1{constructor(){super(...arguments),this.type=Ye.circularProgress,this.transformerConstructor=RRe,this._progressMark=null,this._trackMark=null,this._getRadiusValueStart=e=>{if(this.getGroupFields().length>1){const t=this.radiusAxisHelper.dataToPosition(this.getDatumPositionValues(e,this.getGroupFields()));if(Me(t))return t}return this.radiusAxisHelper.dataToPosition([e[this._radiusField[0]]])},this._getRadiusValueEnd=e=>{var t,i;if(this.getGroupFields().length>1){const r=this.radiusAxisHelper.dataToPosition(this.getDatumPositionValues(e,this.getGroupFields()))+((i=(t=this.radiusAxisHelper).getBandwidth)===null||i===void 0?void 0:i.call(t,this._groups?this._groups.fields.length-1:0));if(Me(r))return r}return this.radiusAxisHelper.dataToPosition([e[this._radiusField[0]]])+this.radiusAxisHelper.getScale(0).step()}}getStackGroupFields(){return this.getGroupFields()}getGroupFields(){return this._radiusField}initMark(){super.initMark(),this._initTrackMark(),this._initProgressMark()}initMarkStyle(){super.initMarkStyle(),this._initTrackMarkStyle(),this._initProgressMarkStyle()}_initProgressMark(){return this._progressMark=this._createMark(gm.mark.progress,{parent:this._arcGroupMark,isSeriesMark:!0},{morph:bg(this._spec,"progress")}),this._progressMark}_initProgressMarkStyle(){var e;const t=this._progressMark;t&&this.setMarkStyle(t,{x:()=>this.angleAxisHelper.center().x,y:()=>this.angleAxisHelper.center().y,startAngle:this._getAngleValueStart,endAngle:this._getAngleValueEnd,innerRadius:this._getRadiusValueStart,outerRadius:this._getRadiusValueEnd,cap:(e=this._spec.roundCap)!==null&&e!==void 0&&e,boundsMode:"imprecise",cornerRadius:this._spec.cornerRadius,fill:this.getColorAttribute(),zIndex:200,forceShowCap:!0},"normal",Qe.Series)}getInteractionTriggers(){const e=[];return this._trackMark&&e.push(this._trackMark),this._progressMark&&e.push(this._progressMark),this._parseInteractionConfig(e)}initTooltip(){super.initTooltip(),this._progressMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._progressMark)}_initTrackMark(){return this._trackMark=this._createMark(gm.mark.track,{parent:this._arcGroupMark}),this._trackMark.setMarkConfig({morph:!1,morphKey:null,morphElementKey:null}),this._trackMark}_initTrackMarkStyle(){const e=this._trackMark;e&&this.setMarkStyle(e,{visible:t=>{const i=this.angleAxisHelper.getScale(0).range(),r=Math.min(i[0],i[i.length-1]),s=this._getAngleValueStartWithoutMask(t);return Math.abs(s-r)<=1e-14},x:()=>this.angleAxisHelper.center().x,y:()=>this.angleAxisHelper.center().y,startAngle:()=>{const t=this.getStack()?Ch:this._angleField[0],i=this.angleAxisHelper.getScale(0).domain();return this._getAngleValueStart({[t]:i[0]})},endAngle:()=>{const t=this.getStack()?Pu:this._angleField[0],i=this.angleAxisHelper.getScale(0).domain();return this._getAngleValueEnd({[t]:i[i.length-1]})},innerRadius:this._getRadiusValueStart,outerRadius:this._getRadiusValueEnd,cornerRadius:this._spec.cornerRadius,fill:this.getColorAttribute(),zIndex:100},"normal",Qe.Series)}initAnimation(){var e,t,i,r;const s=(t=(e=this._spec)===null||e===void 0?void 0:e.animationAppear)===null||t===void 0?void 0:t.preset;this._progressMark.setAnimationConfig(ei((i=ne.getAnimationInKey("circularProgress"))===null||i===void 0?void 0:i({startAngle:this._startAngle},s),_i("progress",this._spec,this._markAttributeContext))),this._trackMark.setAnimationConfig(ei((r=ne.getAnimationInKey("fadeInOut"))===null||r===void 0?void 0:r(),_i("track",this._spec,this._markAttributeContext)))}getActiveMarks(){return[this._progressMark]}}gm.type=Ye.circularProgress,gm.mark=dtn,gm.builtInTheme={circularProgress:gtn},gm.transformerConstructor=RRe;const DRe=()=>{ne.registerSeries(gm.type,gm),tS(),IRe(),Zm(),HM(),q1()};function LRe(n){return()=>n.direction==="vertical"?{orient:"negative"}:{orient:"positive"}}const mtn=n=>({type:n.direction==="horizontal"?"growWidthIn":"growHeightIn",options:LRe(n)}),vtn=n=>({type:n.direction==="horizontal"?"growWidthOut":"growHeightOut",options:LRe(n)}),ytn={type:"fadeIn"};function dme(n,e="grow"){return e===!1?{}:e==="fadeIn"?ytn:mtn(n)}const _tn=()=>{ne.registerAnimation("linearProgress",(n,e)=>({appear:dme(n,e),enter:dme(n),disappear:vtn(n)}))};class btn extends Jl{enableByType(e){return e!=="dimension"}}const Stn=Object.assign(Object.assign({},oa),{track:{name:"track",type:"rect"},progress:{name:"progress",type:"rect"},group:{name:"group",type:"group"}}),xtn={bandWidth:30,progress:{style:{fillOpacity:1}},track:{style:{fill:{type:"palette",key:"linearProgressTrackColor"},fillOpacity:1}}};class Py extends Oh{constructor(){super(...arguments),this.type=Ye.linearProgress,this._progressMark=null,this._trackMark=null,this._defaultProgressCustomShape=(e,t,i)=>{var r,s;const a=(r=this._spec)===null||r===void 0?void 0:r.cornerRadius,o=Y(t.width)?t.width:t.x1-t.x,l=Y(t.height)?t.height:t.y1-t.y,u=Math.min(0,o),c=Math.max(0,o),d=Math.min(0,l),h=Math.max(0,l);if(a>0){let f=a;if(((s=this._spec)===null||s===void 0?void 0:s.direction)==="vertical"){if(f=Math.min(Math.abs(o/2),a),2*f>Math.abs(l)){const p=Math.acos((f-Math.abs(l)/2)/f);return i.moveTo(u+f,d),i.arc(u+f,d+f,f,1.5*Math.PI,1.5*Math.PI-p,!0),i.arc(u+f,h-f,f,p+Math.PI/2,Math.PI/2,!0),i.lineTo(c-a,h),i.arc(c-f,h-f,f,Math.PI/2,Math.PI/2-p,!0),i.arc(c-f,d+f,f,-Math.PI/2+p,-Math.PI/2,!0),i.lineTo(u+f,d),i.closePath(),i}}else if(f=Math.min(Math.abs(l/2),a),2*f>Math.abs(o)){const p=Math.acos((f-Math.abs(o)/2)/f);return i.moveTo(u,d+f),i.arc(u+f,d+f,f,Math.PI,Math.PI+p),i.arc(c-f,d+f,f,-p,0),i.lineTo(c,h-f),i.arc(c-f,h-f,f,0,p),i.arc(u+f,h-f,f,Math.PI-p,Math.PI),i.closePath(),i}i.moveTo(u,d+f),i.arc(u+f,d+f,f,Math.PI,1.5*Math.PI),i.lineTo(c-f,d),i.arc(c-f,d+f,f,-Math.PI/2,0),i.lineTo(c,h-f),i.arc(c-f,h-f,f,0,Math.PI/2),i.lineTo(u+f,h),i.arc(u+f,h-f,f,Math.PI/2,Math.PI),i.closePath()}else i.moveTo(u,d),i.lineTo(c,d),i.lineTo(c,h),i.lineTo(u,h),i.closePath();return i}}initMark(){this._initTrackMark(),this._initProgressMark()}initMarkStyle(){this._initTrackMarkStyle(),this._initProgressMarkStyle()}_initProgressMark(){var e;return this._progressMark=this._createMark(Py.mark.progress,{isSeriesMark:!0}),J((e=this._spec.progress)===null||e===void 0?void 0:e.customShape)&&this._progressMark.setMarkConfig({setCustomizedShape:this._defaultProgressCustomShape}),this._progressMark}_initProgressMarkStyle(){var e,t,i,r;const s=this._progressMark;if(s)if(this._spec.direction==="vertical"){const a=this._spec.progress||{},o=(e=a.leftPadding)!==null&&e!==void 0?e:0,l=(t=a.rightPadding)!==null&&t!==void 0?t:0;this.setMarkStyle(s,{x:u=>{var c,d;return xi(this.dataToPositionX(u),(d=(c=this._xAxisHelper)===null||c===void 0?void 0:c.getScale)===null||d===void 0?void 0:d.call(c,0),!0)-this._spec.bandWidth/2+o},y1:u=>{var c,d;return xi(this.dataToPositionY(u),(d=(c=this._yAxisHelper)===null||c===void 0?void 0:c.getScale)===null||d===void 0?void 0:d.call(c,0))},y:()=>{var u,c,d;const h=(u=this._yAxisHelper)===null||u===void 0?void 0:u.dataToPosition([0],{bandPosition:this._bandPosition});return this._spec.clamp?xi(h,(d=(c=this._yAxisHelper)===null||c===void 0?void 0:c.getScale)===null||d===void 0?void 0:d.call(c,0)):h},width:this._spec.bandWidth-o-l,cornerRadius:this._spec.cornerRadius,fill:this.getColorAttribute()},"normal",Qe.Series)}else{const a=this._spec.progress||{},o=(i=a.topPadding)!==null&&i!==void 0?i:0,l=(r=a.bottomPadding)!==null&&r!==void 0?r:0;this.setMarkStyle(s,{x1:u=>{var c,d;return xi(this.dataToPositionX(u),(d=(c=this._xAxisHelper)===null||c===void 0?void 0:c.getScale)===null||d===void 0?void 0:d.call(c,0))},y:u=>{var c,d;return xi(this.dataToPositionY(u),(d=(c=this._yAxisHelper)===null||c===void 0?void 0:c.getScale)===null||d===void 0?void 0:d.call(c,0),!0)-this._spec.bandWidth/2+o},height:this._spec.bandWidth-o-l,x:()=>{var u,c,d;const h=(u=this._xAxisHelper)===null||u===void 0?void 0:u.dataToPosition([0],{bandPosition:this._bandPosition});return this._spec.clamp?xi(h,(d=(c=this._xAxisHelper)===null||c===void 0?void 0:c.getScale)===null||d===void 0?void 0:d.call(c,0)):h},cornerRadius:this._spec.cornerRadius,fill:this.getColorAttribute()},"normal",Qe.Series)}}_initTrackMark(){return this._trackMark=this._createMark(Py.mark.track),this._trackMark}_initTrackMarkStyle(){const e=this._trackMark;e&&(this._spec.direction==="vertical"?this.setMarkStyle(e,{x:t=>{var i,r;return xi(this.dataToPositionX(t),(r=(i=this._xAxisHelper)===null||i===void 0?void 0:i.getScale)===null||r===void 0?void 0:r.call(i,0),!0)-this._spec.bandWidth/2},y:0,width:this._spec.bandWidth,height:()=>this._scaleY.range()[0],cornerRadius:this._spec.cornerRadius},"normal",Qe.Series):this.setMarkStyle(e,{x:0,y:t=>{var i,r;return xi(this.dataToPositionY(t),(r=(i=this._yAxisHelper)===null||i===void 0?void 0:i.getScale)===null||r===void 0?void 0:r.call(i,0),!0)-this._spec.bandWidth/2},height:this._spec.bandWidth,width:()=>this._scaleX.range()[1],cornerRadius:this._spec.cornerRadius},"normal",Qe.Series))}getInteractionTriggers(){const e=[];return this._trackMark&&e.push(this._trackMark),this._progressMark&&e.push(this._progressMark),this._parseInteractionConfig(e)}initAnimation(){var e,t,i,r;const s={direction:this.direction},a=(t=(e=this._spec)===null||e===void 0?void 0:e.animationAppear)===null||t===void 0?void 0:t.preset;this._progressMark.setAnimationConfig(ei((i=ne.getAnimationInKey("linearProgress"))===null||i===void 0?void 0:i(s,a),_i("progress",this._spec,this._markAttributeContext))),this._trackMark.setAnimationConfig(ei((r=ne.getAnimationInKey("fadeInOut"))===null||r===void 0?void 0:r(),_i("track",this._spec,this._markAttributeContext)))}initTooltip(){this._tooltipHelper=new btn(this),this._progressMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._progressMark),this._trackMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._trackMark)}getActiveMarks(){return[this._progressMark]}}Py.type=Ye.linearProgress,Py.mark=Stn,Py.builtInTheme={linearProgress:xtn};const wtn=()=>{Jm(),_tn(),Zm(),ne.registerSeries(Py.type,Py)},hme=[0],Ctn="hidden",fme=20,Ttn=[20,40],Etn=[200,500],Atn="circle",ktn={shrink:!1,enlarge:!1,fontSizeLimitMin:0},Otn=!0,pme=1,Ptn=["triangleForward","triangle","diamond","square","star","cardioid","circle","pentagon","rect"],Mtn=`${Xt}_WORD_CLOUD_TEXT`,Itn=Object.assign(Object.assign({},oa),{word:{name:"word",type:"text"},fillingWord:{name:"fillingWord",type:"text"},wordMask:{name:"wordMask",type:"rect"}}),Rtn={word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}};class ZC extends A0{constructor(){super(...arguments),this._fontSizeRange=[fme,fme],this._isWordCloudShape=!1,this._dataChange=!0,this.handleMaskCanvasUpdate=(e,t)=>{this._maskCanvas=e},this.getWordColor=e=>e.isFillingWord?(this._fillingColorCallback&&!this._dataChange||(this._fillingColorCallback=this._wordCloudShapeConfig.fillingColorHexField?t=>t[this._wordCloudShapeConfig.fillingColorHexField]:this.initColorCallback(this._wordCloudShapeConfig.fillingSeriesField,!0)),this._fillingColorCallback(e)):(this._keyWordColorCallback&&!this._dataChange||(this._keyWordColorCallback=this._spec.colorHexField?t=>t[this._spec.colorHexField]:this.initColorCallback(this._seriesField,!1)),this._keyWordColorCallback(e)),this._calculateFontWeight=e=>{const t=this.getRawDataStatisticsByField(this._valueField,!0);return t.min===t.max?this._fontWeightRange[0]:this._fontWeightRange[0]+(this._fontWeightRange[this._fontWeightRange.length-1]-this._fontWeightRange[0])*(e[this._valueField]-t.min)/(t.max-t.min)}}setValueField(e){Y(e)&&(this._valueField=e)}setFontSizeRange(e){Y(e)?this._fontSizeRange=e:this._fontSizeRange=Ttn}setAttrFromSpec(){var e,t,i,r,s;super.setAttrFromSpec(),this._padding=this._option.getChart().padding,this._nameField=this._spec.nameField,this._colorMode=(e=this._spec.colorMode)!==null&&e!==void 0?e:"ordinal",this._colorList=this._spec.colorList,this.setValueField(this._spec.valueField),this._fontWeightRange=(t=this._spec.fontWeightRange)!==null&&t!==void 0?t:Etn,this._rotateAngles=(i=this._spec.rotateAngles)!==null&&i!==void 0?i:hme,this.setFontSizeRange(this._spec.fontSizeRange),this._maskShape=(r=this._spec.maskShape)!==null&&r!==void 0?r:Atn,this._textField=!((s=this._spec.word)===null||s===void 0)&&s.formatMethod?Mtn:this._nameField;const a=this._spec.wordCloudConfig;this._wordCloudConfig=Object.assign({drawOutOfBound:Ctn,layoutMode:"default",zoomToFit:ktn},this._spec.wordCloudConfig),a&&!J(a.layoutMode)||ng(this._option.mode)||(this._wordCloudConfig.layoutMode="fast"),this._wordCloudShapeConfig=Object.assign({fillingSeriesField:this.getSeriesField(),fillingRotateAngles:hme,layoutMode:"default"},this._spec.wordCloudShapeConfig),this._isWordCloudShape=!Ptn.includes(this._maskShape)&&!["fast","grid","cloud"].includes(this._wordCloudConfig.layoutMode),this._defaultFontFamily=this._option.getTheme("fontFamily")}initData(){var e,t;super.initData(),(t=(e=this.getViewData())===null||e===void 0?void 0:e.target)===null||t===void 0||t.addListener("change",()=>{this._dataChange=!0,this.compile()})}initMark(){var e;this._wordMark=this._createMark(ZC.mark.word,{key:yc,groupKey:this._seriesField,isSeriesMark:!0},{morphElementKey:this._seriesField}),!((e=this._spec.wordMask)===null||e===void 0)&&e.visible&&(this._maskMark=this._createMark(ZC.mark.wordMask,{dataView:!1}),this._maskMark.setMarkConfig({zIndex:ji.Mark-1}))}initMarkStyle(){this.initMarkStyleOfWord(this._wordMark,this._spec.word,this._spec.colorHexField,this._seriesField),this._maskMark&&this.setMarkStyle(this._maskMark,{width:()=>this._region.getLayoutRect().width,height:()=>this._region.getLayoutRect().height,background:()=>this._maskCanvas},"normal",Qe.Series)}initMarkStyleOfWord(e,t,i,r,s){var a,o;e&&(this.setMarkStyle(e,{text:t!=null&&t.formatMethod?l=>t.formatMethod(l):l=>l[this._textField],x:l=>l.x,y:l=>l.y,fontSize:l=>l.fontSize,fontStyle:l=>l.fontStyle,angle:l=>l.angle,visible:l=>l.visible},"normal",Qe.Series),this.setMarkStyle(e,{fill:(o=(a=t==null?void 0:t.style)===null||a===void 0?void 0:a.fill)!==null&&o!==void 0?o:this.getWordColor,fontWeight:l=>l.fontWeight,fontFamily:l=>l.fontFamily},"normal",Qe.User_Mark))}initTooltip(){super.initTooltip(),this._wordMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._wordMark)}initAnimation(){[this._wordMark].forEach(e=>{var t,i;if(e){const r=(i=(t=this._spec)===null||t===void 0?void 0:t.animationAppear)===null||i===void 0?void 0:i.preset,s={animationConfig:()=>{var a,o;return(o=(a=e.getAnimationConfig())===null||a===void 0?void 0:a.appear)===null||o===void 0?void 0:o[0]}};e.setAnimationConfig(ei(ne.getAnimationInKey("wordCloud")(s,r),_i("word",this._spec,this._markAttributeContext)))}})}getWordOrdinalColorScale(e,t){var i,r,s,a,o;const l=t?this._wordCloudShapeConfig.fillingColorList:this._colorList,u=e?(i=this.getViewData())===null||i===void 0?void 0:i.latestData.map(d=>d[e]):[],c=(s=l??((r=this._option.globalScale.getScale("color"))===null||r===void 0?void 0:r.range()))!==null&&s!==void 0?s:this._getDataScheme();return(o=(a=new RM().domain(u)).range)===null||o===void 0?void 0:o.call(a,c)}initColorCallback(e,t){var i,r,s,a;if(this._colorMode==="ordinal"){const u=this.getWordOrdinalColorScale(e,t);return c=>u.scale(c[e??Cu])}const o=(i=t?this._colorList:this._wordCloudShapeConfig.fillingColorList)!==null&&i!==void 0?i:this._option.globalScale.getScale("color").range();if(o.length===1)return u=>o[0];if(this._valueField){const u=this.getRawDataStatisticsByField(this._valueField,!0);if(u.min===u.max)return o[0];const c=new Ou().domain([u.min,u.max]).range(o);return d=>c.scale(d[this._valueField])}const l=new Ou().domain([0,(a=(s=(r=this.getViewData())===null||r===void 0?void 0:r.latestData)===null||s===void 0?void 0:s.length)!==null&&a!==void 0?a:1]).range(o);return u=>l.scale(u[Go])}compile(){super.compile();const{width:e,height:t}=this._region.getLayoutRect();if(!Me(e)||!Me(t)||!(t>0&&e>0))return;const i=[];this._isWordCloudShape?i.push(Object.assign({type:"wordcloudShape"},this._wordCloudShapeTransformOption())):i.push(Object.assign({type:"wordcloud"},this._wordCloudTransformOption())),this._wordMark.setTransform(i)}_getCommonTransformOptions(){var e,t,i,r,s;const{width:a,height:o}=this._region.getLayoutRect(),l=(e=this._spec.word)!==null&&e!==void 0?e:{},u=(t=l.style)!==null&&t!==void 0?t:{};return{size:[a,o],shape:pn(this._maskShape)&&this._maskShape.type==="text"&&J(this._maskShape.fontFamily)?Object.assign({fontFamily:this._option.getTheme("fontFamily")},this._maskShape):this._maskShape,onUpdateMaskCanvas:this.handleMaskCanvasUpdate,onLayoutFinished:()=>{const c=()=>{var d,h,f,p;this._option.globalInstance.getStage().hooks.afterRender.taps=this._option.globalInstance.getStage().hooks.afterRender.taps.filter(g=>g.fn!==c),(h=(d=this._option).dispatchEvent)===null||h===void 0||h.call(d,Et.afterWordcloudShapeDraw,{instance:this._option.globalInstance}),(p=(f=this._option.globalInstance.getChart().getOption().performanceHook)===null||f===void 0?void 0:f.afterWordcloudShapeDraw)===null||p===void 0||p.call(f,this._option.globalInstance)};this._option.globalInstance.getStage().hooks.afterRender.taps.push({type:"sync",name:"afterWordcloudShapeDraw",fn:c})},dataIndexKey:yc,text:l.formatMethod?c=>l.formatMethod(c):{field:this._textField},fontSize:this._valueField?{field:this._valueField}:this._fontSizeRange[0],fontSizeRange:this._fontSizeRange==="auto"?null:this._fontSizeRange,padding:(r=(i=this._spec.word)===null||i===void 0?void 0:i.padding)!==null&&r!==void 0?r:pme,fontFamily:Y(this._spec.fontFamilyField)?{field:this._spec.fontFamilyField}:(s=u.fontFamily)!==null&&s!==void 0?s:this._defaultFontFamily,fontWeight:Y(this._spec.fontWeightField)?{field:this._spec.fontWeightField}:Y(u.fontWeight)?u.fontWeight:Y(this._valueField)?this._calculateFontWeight:"normal",fontStyle:Y(this._spec.fontStyleField)?{field:this._spec.fontStyleField}:u.fontStyle,createCanvas:un.createCanvas.bind(un),getTextBounds:gz}}_wordCloudTransformOption(){var e,t;const i=(e=this._wordCloudConfig)!==null&&e!==void 0?e:{};return Object.assign(Object.assign(Object.assign({},i),this._getCommonTransformOptions()),{layoutType:this._wordCloudConfig.layoutMode,rotate:this._rotateAngles,randomVisible:(t=this._spec.random)!==null&&t!==void 0?t:Otn,clip:this._wordCloudConfig.drawOutOfBound==="clip",shrink:this._wordCloudConfig.zoomToFit.shrink,enlarge:this._wordCloudConfig.zoomToFit.enlarge,minFontSize:this._wordCloudConfig.zoomToFit.fontSizeLimitMin,progressiveTime:this._wordCloudConfig.progressiveTime,progressiveStep:this._wordCloudConfig.progressiveStep,repeatFill:this._wordCloudConfig.zoomToFit.repeat})}_wordCloudShapeTransformOption(){var e,t,i,r,s,a;const o=(t=(e=this._spec.fillingWord)===null||e===void 0?void 0:e.style)!==null&&t!==void 0?t:{},l=(i=this._wordCloudShapeConfig)!==null&&i!==void 0?i:{};return Object.assign(Object.assign(Object.assign({},l),this._getCommonTransformOptions()),{createImage:TZ,rotateList:this._rotateAngles,fillingRotateList:l.fillingRotateAngles,fillingFontFamily:Y(l.fillingFontFamilyField)?{field:l.fillingFontFamilyField}:(r=o.fontFamily)!==null&&r!==void 0?r:this._defaultFontFamily,fillingPadding:(a=(s=this._spec.fillingWord)===null||s===void 0?void 0:s.padding)!==null&&a!==void 0?a:pme,fillingFontStyle:Y(l.fillingFontStyleField)?{field:l.fillingFontStyleField}:o.fontStyle,fillingFontWeight:Y(l.fillingFontWeightField)?{field:l.fillingFontWeightField}:o.fontWeight})}getStatisticFields(){const e=[];return e.push({key:this._nameField,operations:["values"]}),e.push({key:this._valueField,operations:["max","min"]}),e}dataToPosition(e){return null}dataToPositionX(e){return null}dataToPositionY(e){return null}dataToPositionZ(e){return null}valueToPosition(e,t){return null}getGroupFields(){return[]}getStackGroupFields(){return[]}getStackValueField(){return""}onLayoutEnd(){super.onLayoutEnd(),this.compile(),this._dataChange=!1}getActiveMarks(){return[this._wordMark]}reInit(){super.reInit(),this._keyWordColorCallback&&(this._keyWordColorCallback=null),this._fillingColorCallback&&(this._fillingColorCallback=null)}}ZC.mark=Itn,ZC.builtInTheme={wordCloud:Rtn};function Dtn(n,e,t){return n*t<e?n+(e-t*n)/(t-1):(e-n)/(t-1)}const Ltn=n=>({type:"scaleIn",duration:200,delay:(e,t)=>{const i=n.animationConfig(),r=(i==null?void 0:i.duration)||200,s=(i==null?void 0:i.totalTime)||Up.appear.duration,a=t.context.graphicCount;return t.context.graphicIndex*Dtn(r,s,a)}});function Ftn(n,e){return e===!1?{}:e==="fadeIn"?{type:"fadeIn"}:Ltn(n)}const FRe=()=>{ne.registerAnimation("wordCloud",(n,e)=>({appear:Ftn(n,e),enter:{type:"fadeIn"},exit:{type:"fadeOut"},disappear:{type:"fadeOut"}}))},aH=(n,e,t=0,i=-1,r,s,a="value")=>{let o=0,l=i??-1,u=t;return n.forEach((c,d)=>{var h,f;const p={flattenIndex:++l,key:s?s(c):`${(h=r==null?void 0:r.key)!==null&&h!==void 0?h:""}-${d}`,maxDepth:-1,depth:t,index:d,value:c[a],isLeaf:!0,datum:r?r.datum.concat(c):[c],parentKey:r==null?void 0:r.key};if(!((f=c.children)===null||f===void 0)&&f.length){p.children=[],p.isLeaf=!1;const g=aH(c.children,p.children,t+1,l,p,s,a);p.value=J(c[a])?g.sum:Math.max(g.sum,Gb(c[a])),l=g.flattenIndex,u=Math.max(g.maxDepth,u)}else p.isLeaf=!0,p.value=Gb(c[a]);o+=Math.abs(p.value),e.push(p)}),{sum:o,maxDepth:u,flattenIndex:l}},Tx=(n,e,t,i)=>{let r=i;return n.forEach((s,a)=>{var o;r=e(s,a,t,r),!((o=s.children)===null||o===void 0)&&o.length&&(r=Tx(s.children,e,s,r))}),i},eL=(n,e,t,i)=>{let r=i;return n.forEach((s,a)=>{var o;!((o=s.children)===null||o===void 0)&&o.length&&(r=eL(s.children,e,s,r)),r=e(s,a,t,r)}),r},MQ=(n,e=[],t)=>{const i=(t==null?void 0:t.maxDepth)>=0;return n.forEach(r=>{(!i||r.depth<=t.maxDepth)&&(e.push(t!=null&&t.callback?t.callback(r):r),r.children&&(i&&r.depth===t.maxDepth?(r.children=null,r.isLeaf=!0):MQ(r.children,e,t)))}),e};function Btn(n,e){let t=0;const i=jAe(Array.from(n),e),r=i.length;let s,a,o=[];for(;t<r;)s=i[t],a&&BRe(a,s)?++t:(o=$tn(o,s),a=Ntn(o),t=0);return a}function $tn(n,e){let t,i;if(vW(e,n))return[e];for(t=0;t<n.length;++t)if(HD(e,n[t])&&vW(UE(n[t],e),n))return[n[t],e];for(t=0;t<n.length-1;++t)for(i=t+1;i<n.length;++i)if(HD(UE(n[t],n[i]),e)&&HD(UE(n[t],e),n[i])&&HD(UE(n[i],e),n[t])&&vW($Re(n[t],n[i],e),n))return[n[t],n[i],e];yi.getInstance().error("error when packEncloseRandom")}function HD(n,e){const t=n.radius-e.radius,i=e.x-n.x,r=e.y-n.y;return t<0||t*t<i*i+r*r}function BRe(n,e){const t=n.radius-e.radius+1e-9*Math.max(n.radius,e.radius,1),i=e.x-n.x,r=e.y-n.y;return t>0&&t*t>i*i+r*r}function vW(n,e){for(let t=0;t<e.length;++t)if(!BRe(n,e[t]))return!1;return!0}function Ntn(n){switch(n.length){case 1:return jtn(n[0]);case 2:return UE(n[0],n[1]);case 3:return $Re(n[0],n[1],n[2])}}function jtn(n){return{x:n.x,y:n.y,radius:n.radius}}function UE(n,e){const t=n.x,i=n.y,r=n.radius,s=e.x,a=e.y,o=e.radius,l=s-t,u=a-i,c=o-r,d=Math.sqrt(l*l+u*u);return{x:(t+s+l/d*c)/2,y:(i+a+u/d*c)/2,radius:(d+r+o)/2}}function $Re(n,e,t){const i=n.x,r=n.y,s=n.radius,a=e.x,o=e.y,l=e.radius,u=t.x,c=t.y,d=t.radius,h=i-a,f=i-u,p=r-o,g=r-c,m=l-s,v=d-s,_=i*i+r*r-s*s,y=_-a*a-o*o+l*l,x=_-u*u-c*c+d*d,w=f*p-h*g,T=(p*x-g*y)/(2*w)-i,E=(g*m-p*v)/w,A=(f*y-h*x)/(2*w)-r,k=(h*v-f*m)/w,P=E*E+k*k-1,I=2*(s+T*E+A*k),D=T*T+A*A-s*s,L=-(Math.abs(P)>1e-6?(I+Math.sqrt(I*I-4*P*D))/(2*P):D/I);return{x:i+T+E*L,y:r+A+k*L,radius:L}}function gme(n,e,t){const i=n.x-e.x;let r,s;const a=n.y-e.y;let o,l;const u=i*i+a*a;u?(s=e.radius+t.radius,s*=s,l=n.radius+t.radius,l*=l,s>l?(r=(u+l-s)/(2*u),o=Math.sqrt(Math.max(0,l/u-r*r)),t.x=n.x-r*i-o*a,t.y=n.y-r*a+o*i):(r=(u+s-l)/(2*u),o=Math.sqrt(Math.max(0,s/u-r*r)),t.x=e.x+r*i-o*a,t.y=e.y+r*a+o*i)):(t.x=e.x+t.radius,t.y=e.y)}function mme(n,e){const t=n.radius+e.radius-1e-6,i=e.x-n.x,r=e.y-n.y;return t>0&&t*t>i*i+r*r}function vme(n){const e=n._,t=n.next._,i=e.radius+t.radius,r=(e.x*t.radius+t.x*e.radius)/i,s=(e.y*t.radius+t.y*e.radius)/i;return r*r+s*s}function VD(n){return{_:n,next:null,prev:null}}function ztn(n,e){const t=(n=Ae(n)).length;if(!t)return 0;let i=n[0];if(i.x=0,i.y=0,t===1)return i.radius;const r=n[1];if(i.x=-r.radius,r.x=i.radius,r.y=0,t===2)return i.radius+r.radius;let s=n[2];gme(r,i,s);let a,o,l,u,c,d,h,f=VD(i),p=VD(r),g=VD(s);f.next=p,g.prev=p,p.next=g,f.prev=g,g.next=f,p.prev=f;for(let v=3;v<t;++v){h=!1,s=n[v],gme(f._,p._,s),g=VD(s),a=p.next,o=f.prev,l=p._.radius,u=f._.radius;do if(l<=u){if(mme(a._,g._)){p=a,f.next=p,p.prev=f,--v,h=!0;break}l+=a._.radius,a=a.next}else{if(mme(o._,g._)){f=o,f.next=p,p.prev=f,--v,h=!0;break}u+=o._.radius,o=o.prev}while(a!==o.next);if(!h){for(g.prev=f,g.next=p,f.next=p.prev=p=g,c=vme(f),g=g.next;g!==p;)d=vme(g),d<c&&(f=g,c=d),g=g.next;p=f.next}}const m=[p._];for(g=p.next;g!==p;)m.push(g._),g=g.next;s=Btn(m,e);for(let v=0;v<t;++v)i=n[v],i.x-=s.x,i.y-=s.y;return s.radius}function yme(n){return function(e){e.children||(e.radius=Math.max(0,+n(e)||0))}}function yW(n,e,t){return function(i){const r=i==null?void 0:i.children;if(r){let s;const a=r.length,o=n(i)*e||0;if(o)for(s=0;s<a;++s)r[s].radius+=o;const l=ztn(r,t);if(o)for(s=0;s<a;++s)r[s].radius-=o;i.radius=l+o}}}function _me(n,e){return function(t,i,r){t.radius*=n,t.maxDepth=e,r&&(t.x=r.x+n*t.x,t.y=r.y+n*t.y)}}class iP{constructor(e){this.options=e;const t=e==null?void 0:e.nodeKey,i=Re(t)?t:t?kC(t):null;this._getNodeKey=i,this._getPadding=st(e==null?void 0:e.padding)?r=>e.padding:Oe(e==null?void 0:e.padding)?r=>{var s;return(s=e.padding[r.depth+1])!==null&&s!==void 0?s:0}:()=>0,this._maxDepth=-1}layout(e,t){var i;const r="width"in t?{x0:0,x1:t.width,y0:0,y1:t.height,width:t.width,height:t.height}:{x0:Math.min(t.x0,t.x1),x1:Math.max(t.x0,t.x1),y0:Math.min(t.y0,t.y1),y1:Math.max(t.y0,t.y1),width:Math.abs(t.x1-t.x0),height:Math.abs(t.y1-t.y0)};if(!e||!e.length)return[];const s=[],a=aH(e,s,0,-1,null,this._getNodeKey);this._maxDepth=a.maxDepth;const o=HNt(),l={flattenIndex:-1,maxDepth:-1,key:"root",depth:-1,index:-1,value:a.sum,datum:null,children:s,x:r.x0+r.width/2,y:r.y0+r.height/2},{nodeSort:u,setRadius:c,padding:d,includeRoot:h}=(i=this.options)!==null&&i!==void 0?i:{};if(u!==!1){const f=Re(u)?this.options.nodeKey:iP.defaultOpionts.nodeSort;Tx([l],p=>{p.children&&p.children.length&&p.children.sort(f)})}if(c)Tx([l],yme(c)),eL([l],yW(this._getPadding,.5,o)),Tx([l],_me(1,this._maxDepth));else{const f=Math.min(r.width,r.height);Tx([l],yme(iP.defaultOpionts.setRadius)),eL([l],yW(UNt,1,o)),d&&eL([l],yW(this._getPadding,l.radius/f,o)),Tx([l],_me(f/(2*l.radius),this._maxDepth))}return h?[l]:s}}iP.defaultOpionts={setRadius:n=>Math.sqrt(n.value),padding:0,nodeSort:(n,e)=>e.value-n.value};const NRe=n=>{let e=0;return n.forEach((t,i)=>{var r;J(t.value)&&(!((r=t.children)===null||r===void 0)&&r.length?t.value=NRe(t.children):t.value=0),e+=Math.abs(t.value)}),e};function Htn(n,e,t=[],i={},r){NRe(n);const s=(a,o,l)=>{a.forEach((u,c)=>{const d=e?e(u):l?`${l[l.length-1].key}-${c}`:`${o}-${c}`,h=J(u.value)?0:Gb(u.value);if(i[d])i[d].value=void 0;else{const f={depth:o,datum:u,index:c,key:d,value:h,sourceLinks:[],targetLinks:[]};i[d]=f,t.push(f)}l&&r&&r.push({source:l[l.length-1].key,target:d,value:h,parents:l}),u.children&&u.children.length&&s(u.children,o+1,l?l.concat([i[d]]):[i[d]])})};return s(n,0,null),t}function Vtn(n,e){const t=[],i=[],r={},s={},a=[];return Htn(n,e,t,r,a),a.forEach((o,l)=>{const u=`${o.source}-${o.target}`,c=By(o,["parents"]);if(c.parents=o.parents.map(h=>By(h,["sourceLinks","targetLinks"])),s[u])return s[u].value+=Gb(o.value),void s[u].datum.push(c);const d={index:l,key:`${o.source}-${o.target}`,source:o.source,target:o.target,datum:[c],value:o.value,parents:o.parents.map(h=>h.key)};i.push(d),r[o.source].sourceLinks.push(d),r[o.target].targetLinks.push(d),s[u]=d}),{nodes:t,links:i,nodeMap:r}}function Wtn(n){for(let e=0,t=n.length;e<t;e++){const i=n[e];i.value=Math.max(J(i.value)?0:Gb(i.value),i.sourceLinks.reduce((r,s)=>{var a;return r+((a=Gb(s.value))!==null&&a!==void 0?a:0)},0),i.targetLinks.reduce((r,s)=>{var a;return r+((a=Gb(s.value))!==null&&a!==void 0?a:0)},0))}}function bme(n){return n.depth}function Sme(n,e){return e-1-n.endDepth}function Utn(n,e){return n.sourceLinks.length?n.depth:e-1}function Gtn(n,e,t){return n.targetLinks.length?n.depth:n.sourceLinks.length?Sa(n.sourceLinks.map(i=>t[i.target].depth))-1:0}const WD=(n,e)=>(n==null?void 0:n.y0)-(e==null?void 0:e.y0),xme=(n,e)=>{if(J(n.value))return null;const t=(e?n.targetLinks:n.sourceLinks).reduce((i,r)=>(J(r.value)?i.count+=1:i.sum+=r.value,i),{sum:0,count:0});return t.count>0?(n.value-t.sum)/t.count:null},Ytn={left:bme,right:Sme,justify:Utn,center:Gtn,start:bme,end:Sme},Ktn=AC(0,1);class oH{constructor(e){this._ascendingSourceBreadth=(r,s)=>WD(this._nodeMap[r.source],this._nodeMap[s.source])||r.index-s.index,this._ascendingTargetBreadth=(r,s)=>WD(this._nodeMap[r.target],this._nodeMap[s.target])||r.index-s.index,this.options=Object.assign({},oH.defaultOptions,e);const t=this.options.nodeKey,i=Re(t)?t:t?kC(t):null;this._getNodeKey=i,this._logger=yi.getInstance(),this._alignFunc=Re(this.options.setNodeLayer)?r=>this.options.setNodeLayer(r.datum):Ytn[this.options.nodeAlign]}layout(e,t){if(!e)return null;const i="width"in t?{x0:0,x1:t.width,y0:0,y1:t.height,width:t.width,height:t.height}:{x0:Math.min(t.x0,t.x1),x1:Math.max(t.x0,t.x1),y0:Math.min(t.y0,t.y1),y1:Math.max(t.y0,t.y1),width:Math.abs(t.x1-t.x0),height:Math.abs(t.y1-t.y0)};this.options.direction==="vertical"?this._viewBox={x0:i.y0,x1:i.y1,y0:i.x0,y1:i.x1,width:i.height,height:i.width}:this._viewBox=i;const r=this.computeNodeLinks(e),s=r.nodes;let a=r.links;if(this._nodeMap=r.nodeMap,this.computeNodeValues(s),this.computeNodeDepths(s),["right","end","justify"].includes(this.options.nodeAlign)&&this.computeNodeEndDepths(s),this._maxDepth<=0)return null;const o=this.computeNodeBreadths(s);if(this.computeLinkBreadths(s),s.forEach(l=>{l.sourceLinks=l.sourceLinks.filter(u=>!J(u.source)&&!J(u.target)),l.targetLinks=l.targetLinks.filter(u=>!J(u.source)&&!J(u.target))}),a=a.filter(l=>!J(l.source)&&!J(l.target)),this.options.direction==="vertical")if(this.options.inverse){const l=this._viewBox.x1;s.forEach(u=>{const{y0:c,y1:d,x0:h,x1:f}=u;u.y0=l-f,u.y1=l-h,u.x0=c,u.x1=d}),a.forEach(u=>{u.vertical=!0;const{x0:c,x1:d,y0:h,y1:f}=u;u.x0=h,u.x1=f,u.y0=l-c,u.y1=l-d})}else s.forEach(l=>{const{y0:u,y1:c}=l;l.y0=l.x0,l.y1=l.x1,l.x0=u,l.x1=c}),a.forEach(l=>{l.vertical=!0;const u=l.x0,c=l.x1;l.x0=l.y0,l.x1=l.y1,l.y0=u,l.y1=c});else this.options.inverse&&(s.forEach(l=>{const{x0:u,x1:c}=l;l.x0=i.x1-c,l.x1=i.x1-u}),a.forEach(l=>{l.x0=i.x1-l.x0,l.x1=i.x1-l.x1}));return a.forEach(l=>{const u=this._nodeMap[l.source],c=this._nodeMap[l.target];l.sourceRect={x0:u.x0,x1:u.x1,y0:u.y0,y1:u.y1},l.targetRect={x0:c.x0,x1:c.x1,y1:c.y1,y0:c.y0}}),{nodes:s,links:a,columns:o}}computeHierarchicNodeLinks(e){return Vtn(e,this._getNodeKey)}computeSourceTargetNodeLinks(e){const t=[],i=[],r={};e.nodes&&e.nodes.forEach((a,o)=>{const l={depth:-1,datum:a,index:o,key:this._getNodeKey?this._getNodeKey(a):o,value:a.value,sourceLinks:[],targetLinks:[]};r[l.key]=l,t.push(l)});const s=[];return e.links.forEach((a,o)=>{const l=!J(a.source),u=!J(a.target);if(e.nodes&&(!r[a.source]||!r[a.target]))return;e.nodes||!l||r[a.source]||(r[a.source]={value:void 0,depth:-1,index:t.length,key:a.source,datum:null,sourceLinks:[],targetLinks:[]},t.push(r[a.source])),e.nodes||!u||r[a.target]||(r[a.target]={value:void 0,depth:-1,index:t.length,key:a.target,datum:null,sourceLinks:[],targetLinks:[]},t.push(r[a.target]));const c={index:o,source:a.source,target:a.target,datum:a,value:a.value};this.options.divideNodeValueToLink&&J(a.value)&&s.push(c),i.push(c),l&&r[a.source].sourceLinks.push(c),u&&r[a.target].targetLinks.push(c)}),this.options.divideNodeValueToLink&&s.length&&s.forEach(a=>{const o=[xme(r[a.source]),xme(r[a.target],!0)].filter(l=>!J(l));o.length&&(a.value=Sa(o))}),{nodeMap:r,nodes:t,links:i}}computeNodeLinks(e){let t;"links"in e?t=this.computeSourceTargetNodeLinks(e):(this._isHierarchic=!0,t=this.computeHierarchicNodeLinks(e.nodes));let i=t.nodes;const r=t.links;if(this.options.linkSortBy)for(let s=0,a=i.length;s<a;s++)i[s].sourceLinks.sort(this.options.linkSortBy),i[s].targetLinks.sort(this.options.linkSortBy);return this.options.dropIsolatedNode&&(i=i.filter(s=>s.targetLinks.length||s.sourceLinks.length)),{nodes:i,links:r,nodeMap:t.nodeMap}}computeNodeValues(e){return Wtn(e)}computeNodeDepths(e){var t;const i=e.length;let r,s,a=e,o=0,l=-1;const u=Re(this.options.setNodeLayer)?this.options.setNodeLayer:null;for(;a.length&&o<i;){r=[],s={};for(let c=0,d=a.length;c<d;c++){const h=a[c];if(h&&(h.depth=u&&(t=u(h.datum))!==null&&t!==void 0?t:o,u&&(l=Math.max(h.depth,l)),h.sourceLinks&&h.sourceLinks.length))for(let f=0,p=h.sourceLinks.length;f<p;f++){const g=h.sourceLinks[f];s[g.target]||(r.push(this._nodeMap[g.target]),s[g.target]=!0)}}a=r,o+=1}o>i&&this._logger.warn("Error: there is a circular link"),this._maxDepth=u?l+1:o}computeNodeEndDepths(e){const t=e.length;let i,r,s=e,a=0;for(;s.length&&a<t;){i=[],r={};for(let o=0,l=s.length;o<l;o++){const u=s[o];if(u){u.endDepth=a;for(let c=0,d=u.targetLinks.length;c<d;c++){const h=u.targetLinks[c];r[h.source]||(i.push(this._nodeMap[h.source]),r[h.source]=!0)}}}s=i,a+=1}a>t&&this._logger.warn("Error: there is a circular link")}computeNodeLayers(e){const t=this.options.nodeWidth,i=this.options.linkWidth,r=this.options.minStepWidth,s=this._viewBox.width;let a=null,o=null,l=!1;if(Jt(t)){const c=ki(parseFloat(t.replace("%",""))/100,0,1);let d=s/(this._maxDepth-1+c);r>0&&(d=Math.max(r,d)),a=d*c,o=d*(1-c),l=!0}else if(st(t)){if(a=t,st(i))o=i;else if(J(i)){let c=(s-t)/(this._maxDepth-1);r>0&&(c=Math.max(r,c)),o=c-t}l=!0}else Re(t)&&st(i)&&(o=i);const u=[];for(let c=0,d=e.length;c<d;c++){const h=e[c];h.layer=this._isHierarchic?h.depth:ki(Math.floor(this._alignFunc(h,this._maxDepth,this._nodeMap)),0,this._maxDepth-1);const f=h.layer;f===this._maxDepth-1&&(h.isLastLayer=!0),l&&(h.x0=this._viewBox.x0+f*(a+o),h.x1=h.x0+a),u[f]?u[f].push(h):u[f]=[h]}if(this.options.nodeSortBy)for(let c=0,d=u.length;c<d;c++)u[c].sort(this.options.nodeSortBy);if(!l&&Re(t)){let c=this._viewBox.x0;for(let d=0;d<this._maxDepth;d++){const h=u[d];let f=0,p=0;for(let g=0,m=h&&h.length;g<m;g++){const v=h[g],_=t(v);v.x0=c,v.x1=c+_,f=Math.max(a,_);const y=v.sourceLinks;for(let x=0,w=y.length;x<w;x++){const T=y[x],E=Re(i)?i(T,this._viewBox):o;p=Math.max(p,E)}}c+=f+p}}return u}initializeNodeBreadths(e){var t,i,r;const s=(t=this.options.minLinkHeight)!==null&&t!==void 0?t:0;let a=(i=this.options.minNodeHeight)!==null&&i!==void 0?i:0;const o=(r=this.options.maxNodeHeight)!==null&&r!==void 0?r:1/0;let l=this.options.maxLinkHeight;(J(a)||a<s)&&(a=s),(J(l)||l>o)&&(l=o);let u=0,c=null,d=null;if(Re(this.options.nodeGap))c=this.options.nodeGap,u=e.reduce((m,v)=>{const _=v.reduce((x,w)=>x+w.value,0),y=v.reduce((x,w)=>x+this.options.nodeGap(w),0);return Math.min(m,(this._viewBox.height-y)/_)},1/0);else{const m=e.reduce((y,x)=>Math.max(y,x.length),0),v=this._viewBox.height/m;let _=Math.min(this.options.nodeGap,v);if(a+_>v&&(_=a>=v?v/2:(v-a)/2,a=Math.min(v-_,a)),c=()=>_,this._gapY=_,this.options.equalNodeHeight)d=this._viewBox.height/m-_;else{const y=a>0?Math.max(_,a):_;u=e.reduce((x,w)=>{const T=w.reduce((E,A)=>E+A.value,0);return Math.min(x,(this._viewBox.height-((w.length-1)*y+a))/T)},1/0)}}const h=this.options.gapPosition==="start",f=!h&&this.options.gapPosition!=="end",p=st(this.options.nodeHeight)?m=>this.options.nodeHeight:Re(this.options.nodeHeight)?this.options.nodeHeight:d>0?m=>d:m=>Math.max(m.value*u,0),g=st(this.options.linkHeight)?()=>this.options.linkHeight:Re(this.options.linkHeight)?this.options.linkHeight:(m,v,_)=>Math.min(Math.max(v.value?_*Ktn(m.value/v.value):0,s,0),l);for(let m=0,v=e.length;m<v;m++){const _=e[m];if(!_||!_.length)continue;let y=this._viewBox.y0,x=0,w=0,T=0;for(let A=0,k=_.length;A<k;A++){const P=_[A];x=c(P),h&&(y+=x),T=p(P),w=Math.min(Math.max(T,a),o),P.y0=y,P.y1=y+w,y=h?P.y1:P.y1+x;for(let I=0,D=P.sourceLinks.length;I<D;I++){const L=P.sourceLinks[I];L.thickness=g(L,P,T)}}let E=this._viewBox.y1-y+(f?x:0);if(E>0){if(this.options.crossNodeAlign!=="start")if(this.options.crossNodeAlign==="end")for(let A=0,k=_.length;A<k;++A){const P=_[A];P.y0+=E,P.y1+=E}else if(this.options.crossNodeAlign==="parent"){const A=_.reduce((k,P)=>(P.targetLinks&&P.targetLinks.length&&P.targetLinks.forEach(I=>{k[I.source]=!0}),k),{});if(Object.keys(A).length&&e[m-1]&&e[m-1].length){const k=e[m-1].filter(P=>A[P.key]);if(k&&k.length&&k[0].y0!==_[0].y0){const P=k[0].y0-_[0].y0;for(let I=0,D=_.length;I<D;++I){const L=_[I];L.y0+=P,L.y1+=P}}}}else{E/=_.length+1;for(let A=0,k=_.length;A<k;++A){const P=_[A];P.y0+=E*(A+1),P.y1+=E*(A+1)}}}else if(E<0&&_.length>1&&(E/=_.length-1,x+E>=0)){x+=E,this._gapY=Math.min(x);for(let A=1,k=_.length;A<k;++A){const P=_[A];P.y0+=E*A,P.y1+=E*A}}this.reorderLinks(_)}}computeNodeBreadths(e){const t=this.computeNodeLayers(e);this.initializeNodeBreadths(t);const i=this.options.iterations;if(!this._isHierarchic&&!Re(this.options.setNodeLayer)&&!Re(this.options.nodeGap))for(let r=0;r<i;++r){const s=Math.pow(.99,r),a=Math.max(1-s,(r+1)/i);this.relaxRightToLeft(t,s,a),this.relaxLeftToRight(t,s,a)}return t}relaxLeftToRight(e,t,i){for(let r=1,s=e.length;r<s;++r){const a=e[r];for(let o=0,l=a.length;o<l;o++){const u=a[o];let c=0,d=0;for(let f=0,p=u.targetLinks.length;f<p;f++){const g=u.targetLinks[f],m=g.value*(u.layer-this._nodeMap[g.source].layer);c+=this.targetTop(this._nodeMap[g.source],u)*m,d+=m}if(!(d>0))continue;const h=(c/d-u.y0)*t;u.y0+=h,u.y1+=h,this.reorderNodeLinks(u)}J(this.options.nodeSortBy)&&a.sort(WD),this.resolveCollisions(a,i)}}relaxRightToLeft(e,t,i){for(let r=e.length-2;r>=0;--r){const s=e[r];for(let a=0,o=s.length;a<o;a++){const l=s[a];let u=0,c=0;for(let h=0,f=l.sourceLinks.length;h<f;h++){const p=l.sourceLinks[h],g=p.value*(this._nodeMap[p.target].layer-l.layer);u+=this.sourceTop(l,this._nodeMap[p.target])*g,c+=g}if(!(c>0))continue;const d=(u/c-l.y0)*t;l.y0+=d,l.y1+=d,this.reorderNodeLinks(l)}this.options.nodeSortBy===void 0&&s.sort(WD),this.resolveCollisions(s,i)}}resolveCollisions(e,t){const i=e.length>>1,r=e[i];this.resolveCollisionsBottomToTop(e,r.y0-this._gapY,i-1,t),this.resolveCollisionsTopToBottom(e,r.y1+this._gapY,i+1,t),this.resolveCollisionsBottomToTop(e,this._viewBox.y1,e.length-1,t),this.resolveCollisionsTopToBottom(e,this._viewBox.y0,0,t)}resolveCollisionsTopToBottom(e,t,i,r){for(;i<e.length;++i){const s=e[i],a=(t-s.y0)*r;a>1e-6&&(s.y0+=a,s.y1+=a),t=s.y1+this._gapY}}resolveCollisionsBottomToTop(e,t,i,r){for(;i>=0;--i){const s=e[i],a=(s.y1-t)*r;a>1e-6&&(s.y0-=a,s.y1-=a),t=s.y0-this._gapY}}targetTop(e,t){let i,r,s,a=e.y0-(e.sourceLinks.length-1)*this._gapY/2;for(i=0,r=e.sourceLinks.length;i<r&&(s=e.sourceLinks[i],s.target!==t.key);i++)a+=s.thickness+this._gapY;for(i=0,r=t.targetLinks.length;i<r&&(s=t.targetLinks[i],s.source!==e.key);i++)a-=s.thickness;return a}sourceTop(e,t){let i,r,s,a=t.y0-(t.targetLinks.length-1)*this._gapY/2;for(i=0,r=t.targetLinks.length;i<r&&(s=t.targetLinks[i],s.source!==e.key);i++)a+=s.thickness+this._gapY;for(i=0,r=e.sourceLinks.length;i<r&&(s=e.sourceLinks[i],s.target!==t.key);i++)a-=s.thickness;return a}computeLinkBreadthsNoOverlap(e){for(let t=0,i=e.length;t<i;t++){const r=e[t];let s=r.y0,a=!1;for(let l=0,u=r.sourceLinks.length;l<u;l++){const c=r.sourceLinks[l];a||(c.y0=s+c.thickness/2),c.x0=r.x1,s+c.thickness>r.y1||a?(c.y0=r.y1-c.thickness/2,a=!0):s+=c.thickness}let o=r.y0;a=!1;for(let l=0,u=r.targetLinks.length;l<u;l++){const c=r.targetLinks[l];a||(c.y1=o+c.thickness/2),c.x1=r.x0,o+c.thickness>r.y1||a?(c.y1=r.y1-c.thickness/2,a=!0):o+=c.thickness}}}computeLinkBreadthsOverlap(e){const t=this.options.linkOverlap;for(let i=0,r=e.length;i<r;i++){const s=e[i],a=t==="start"?s.y0:t==="end"?s.y1:(s.y0+s.y1)/2,o=t==="start"?.5:t==="end"?-.5:0;for(let l=0,u=s.sourceLinks.length;l<u;l++){const c=s.sourceLinks[l];c.y0=a+o*c.thickness,c.x0=s.x1}for(let l=0,u=s.targetLinks.length;l<u;l++){const c=s.targetLinks[l];c.y1=a+o*c.thickness,c.x1=s.x0}}}computeLinkBreadths(e){this.options.linkOverlap?this.computeLinkBreadthsOverlap(e):this.computeLinkBreadthsNoOverlap(e)}reorderNodeLinks(e){if(J(this.options.linkSortBy)){const t=e.targetLinks,i=e.sourceLinks;for(let r=0,s=t.length;r<s;r++){const a=t[r];this._nodeMap[a.source].sourceLinks.sort(this._ascendingTargetBreadth)}for(let r=0,s=i.length;r<s;r++){const a=i[r];this._nodeMap[a.target].targetLinks.sort(this._ascendingSourceBreadth)}}}reorderLinks(e){if(J(this.options.linkSortBy))for(let t=0,i=e.length;t<i;t++){const r=e[t];r.sourceLinks.sort(this._ascendingTargetBreadth),r.targetLinks.sort(this._ascendingSourceBreadth)}}}oH.defaultOptions={iterations:6,nodeAlign:"justify",direction:"horizontal",nodeWidth:24,nodeGap:8,crossNodeAlign:"middle",dropIsolatedNode:!0};function lH(n,e,t,i,r,s={x0:"x0",x1:"x1",y0:"y0",y1:"y1"}){const a=n.children;let o,l=-1;const u=a.length,c=n.value&&(i-e)/n.value;for(;++l<u;)o=a[l],o[s.y0]=t,o[s.y1]=r,o[s.x0]=e,o[s.x1]=e+=o.value*c}const Xtn={x0:"startAngle",x1:"endAngle",y0:"innerRadius",y1:"outerRadius"};class rP{constructor(e){this._layoutNode=r=>{if(r.maxDepth=this._maxDepth,r.children){const s=this._parsedInnerRadius[r.depth+1],a=this._parsedOutterRadius[r.depth+1];lH(r,r.startAngle,Math.min(s,a),r.endAngle,Math.max(s,a),Xtn);const o=Oe(this.options.label)?this.options.label[r.depth+1]:this.options.label;r.children.forEach(l=>{if(l.x=this._parsedCenter[0],l.y=this._parsedCenter[1],o)return this._layoutLabel(l,Va(o)?{align:"center",rotate:"radial"}:o)})}},this.options=e?Object.assign({},rP.defaultOpionts,e):Object.assign({},rP.defaultOpionts);const t=this.options.nodeKey,i=Re(t)?t:t?kC(t):null;this._getNodeKey=i,this._maxDepth=-1}_parseRadius(e,t){const i=e.x0+nf(this.options.center[0],e.width),r=e.y0+nf(this.options.center[1],e.height),s=Math.min(e.width/2,e.height/2),a=this.options.innerRadius,o=this.options.outerRadius,l=Oe(a),u=l?a.map(p=>nf(p,s)):nf(a,s),c=Oe(o),d=this.options.gapRadius,h=c?o.map(p=>nf(p,s)):nf(o,s),f=zAe(0,t+1);if(l)this._parsedInnerRadius=f.map((p,g)=>{const m=u[g];return J(m)?s:m}),this._parsedOutterRadius=f.map((p,g)=>{var m,v;return c?(m=h[g])!==null&&m!==void 0?m:s:g<t?this._parsedInnerRadius[g+1]-(Oe(d)?(v=d[g])!==null&&v!==void 0?v:0:d):h});else if(c)this._parsedOutterRadius=f.map((p,g)=>J(h[g])?s:h[g]),this._parsedInnerRadius=f.map((p,g)=>{var m;return g===0?u:this._parsedOutterRadius[g-1]-(Oe(d)?(m=d[g])!==null&&m!==void 0?m:0:d)});else{const p=nf(a,s),g=(h-p)/(t+1);this._parsedInnerRadius=f.map((m,v)=>p+v*g),this._parsedOutterRadius=f.map((m,v)=>{var _;return this._parsedInnerRadius[v]+g-(Oe(d)?(_=d[v])!==null&&_!==void 0?_:0:d)})}this._parsedCenter=[i,r],this._maxRadius=s}layout(e,t){const i="width"in t?{x0:0,x1:t.width,y0:0,y1:t.height,width:t.width,height:t.height}:{x0:Math.min(t.x0,t.x1),x1:Math.max(t.x0,t.x1),y0:Math.min(t.y0,t.y1),y1:Math.max(t.y0,t.y1),width:Math.abs(t.x1-t.x0),height:Math.abs(t.y1-t.y0)};if(!e||!e.length)return[];const r=[],s=aH(e,r,0,-1,null,this._getNodeKey);return this._parseRadius(i,s.maxDepth),this._maxDepth=s.maxDepth,this._layout(r,{flattenIndex:-1,maxDepth:-1,key:"-1",depth:-1,index:-1,value:s.sum,datum:null,children:r,startAngle:this.options.startAngle,endAngle:this.options.endAngle}),r}_layout(e,t){this._layoutNode(t),e.forEach(i=>{var r;!((r=i==null?void 0:i.children)===null||r===void 0)&&r.length?this._layout(i.children,i):this._layoutNode(i)})}_layoutLabel(e,t){var i;const r=(e.startAngle+e.endAngle)/2,s=(t.align==="start"?e.innerRadius:t.align==="end"?e.outerRadius:(e.innerRadius+e.outerRadius)/2)+((i=t.offset)!==null&&i!==void 0?i:0),a=Sr({x:this._parsedCenter[0],y:this._parsedCenter[1]},s,r);if(e.label={x:a.x,y:a.y,textBaseline:"middle"},t.rotate==="tangential")e.label.angle=r-Math.PI/2,e.label.textAlign="center",e.label.maxLineWidth=Math.abs(e.endAngle-e.startAngle)*s;else{const o=r%(2*Math.PI),l=o<0?o+2*Math.PI:o;l>Math.PI/2&&l<1.5*Math.PI?(e.label.angle=l+Math.PI,e.label.textAlign=t.align==="start"?"end":t.align==="end"?"start":"center"):(e.label.angle=l,e.label.textAlign=t.align),e.label.maxLineWidth=e.isLeaf?void 0:Math.abs(e.outerRadius-e.innerRadius)}}}rP.defaultOpionts={startAngle:Math.PI/2,endAngle:-3*Math.PI/2,center:["50%","50%"],gapRadius:0,innerRadius:0,outerRadius:"70%"};function qtn(n,e,t,i,r){const s=n.children,a=s.length;let o=0;const l=new Array(a+1);l[0]=0;for(let c=0;c<a;++c)o+=s[c].value,l[c+1]=o;const u=(c,d,h,f,p,g,m)=>{if(c>=d-1){const E=s[c];return E.x0=f,E.y0=p,E.x1=g,void(E.y1=m)}const v=l[c],_=h/2+v;let y=c+1,x=d-1;for(;y<x;){const E=y+x>>>1;l[E]<_?y=E+1:x=E}_-l[y-1]<l[y]-_&&c+1<y&&--y;const w=l[y]-v,T=h-w;if(g-f>m-p){const E=h?(f*T+g*w)/h:g;u(c,y,w,f,p,E,m),u(y,d,T,E,p,g,m)}else{const E=h?(p*T+m*w)/h:m;u(c,y,w,f,p,g,E),u(y,d,T,f,E,g,m)}};u(0,a,n.value,e,t,i,r)}function IQ(n,e,t,i,r){const s=n.children;let a,o=-1;const l=s.length,u=n.value&&(r-t)/n.value;for(;++o<l;)a=s[o],a.x0=e,a.x1=i,a.y0=t,t+=a.value*u,a.y1=t}function Ztn(n,e,t,i,r){(n.depth%2==1?IQ:lH)(n,e,t,i,r)}function Qtn(n,e,t,i,r,s){const a=[],o=e.children;let l,u,c=0,d=0;const h=o.length;let f,p,g,m,v,_,y,x,w,T=e.value;for(;c<h;){f=r-t,p=s-i;do g=o[d++].value;while(!g&&d<h);for(m=g,v=g,x=Math.max(p/f,f/p)/(T*n),w=g*g*x,y=Math.max(v/w,w/m);d<h;++d){if(u=o[d].value,g+=u,u<m&&(m=u),u>v&&(v=u),w=g*g*x,_=Math.max(v/w,w/m),_>y){g-=u;break}y=_}l=Object.assign({},e,{value:g,children:o.slice(c,d)}),a.push(l),f<p?lH(l,t,i,r,T?i+=p*g/T:s):IQ(l,t,i,T?t+=f*g/T:r,s),T-=g,c=d}return a}const Jtn=n=>(e,t,i,r,s)=>{Qtn(n,e,t,i,r,s)},wme={binary:qtn,dice:lH,slice:IQ,sliceDice:Ztn};class uH{constructor(e){var t;this._filterByArea=(s,a)=>{var o;const l=this._getMinAreaByDepth(s.depth);if(l>0&&s.value*a<l)return!1;if(!((o=s.children)===null||o===void 0)&&o.length){const u=s.children.filter(c=>this._filterByArea(c,a));u.length?u.length!==s.children.length&&(s.children=u):(s.isLeaf=!0,s.children=null)}return!0},this._getMinAreaByDepth=s=>{var a;return s<0?0:(a=Oe(this.options.minVisibleArea)?this.options.minVisibleArea[s]:this.options.minVisibleArea)!==null&&a!==void 0?a:0},this._getGapWidthByDepth=s=>{var a;return s<0?0:(a=Oe(this.options.gapWidth)?this.options.gapWidth[s]:this.options.gapWidth)!==null&&a!==void 0?a:0},this._getPaddingByDepth=s=>{var a;return s<0?0:(a=Oe(this.options.padding)?this.options.padding[s]:this.options.padding)!==null&&a!==void 0?a:0},this._getLabelPaddingByDepth=s=>{var a;return s<0?0:(a=Oe(this.options.labelPadding)?this.options.labelPadding[s]:this.options.labelPadding)!==null&&a!==void 0?a:0},this._layoutNode=s=>{const a=this._getGapWidthByDepth(s.depth);let o=s.x0,l=s.y0,u=s.x1,c=s.y1;if(s.maxDepth=this._maxDepth,a>0&&(o+=a/2,u-=a/2,l+=a/2,c-=a/2,o>u&&(o=(o+u)/2,u=o),l>c&&(l=(l+c)/2,c=l),s.x0=o,s.x1=u,s.y0=l,s.y1=c),s.children){const d=this._getLabelPaddingByDepth(s.depth),h=this._getPaddingByDepth(s.depth);h>0&&h<Math.min(u-o,c-l)/2&&(l+=h,c-=h,o+=h,u-=h),d>0&&(this.options.labelPosition==="top"&&l+d<c?(s.labelRect={x0:o,y0:l,x1:u,y1:l+d},l+=d):this.options.labelPosition==="bottom"&&c-d>l?(s.labelRect={x0:o,y0:c-d,x1:u,y1:c},c-=d):this.options.labelPosition==="left"&&o+d<u?(s.labelRect={x0:o,y0:l,x1:o+d,y1:c},o+=d):this.options.labelPosition==="right"&&u-d>o&&(s.labelRect={x0:u-d,y0:l,x1:u,y1:c},u-=d));const f=this._getGapWidthByDepth(s.depth+1);f>0&&(o-=f/2,u+=f/2,l-=f/2,c+=f/2),this._splitNode(s,o,l,u,c)}},this.options=Object.assign({},uH.defaultOpionts,e);const i=this.options.nodeKey,r=Re(i)?i:i?kC(i):null;this._getNodeKey=r,this._splitNode=this.options.splitType==="squarify"?Jtn(this.options.aspectRatio):(t=wme[this.options.splitType])!==null&&t!==void 0?t:wme.binary,this._maxDepth=-1}layout(e,t){var i;if(!e||!e.length)return[];const r="width"in t?{x0:0,x1:t.width,y0:0,y1:t.height,width:t.width,height:t.height}:{x0:Math.min(t.x0,t.x1),x1:Math.max(t.x0,t.x1),y0:Math.min(t.y0,t.y1),y1:Math.max(t.y0,t.y1),width:Math.abs(t.x1-t.x0),height:Math.abs(t.y1-t.y0)},s=[],a=aH(e,s,0,-1,null,this._getNodeKey,this.options.valueField);if(this._maxDepth=a.maxDepth,a.sum<=0)return[];const o={flattenIndex:-1,maxDepth:-1,key:"-1",depth:-1,index:-1,value:a.sum,datum:null,x0:r.x0,x1:r.x1,y0:r.y0,y1:r.y1,children:s},l=r.width*r.height/a.sum;return this._filterByArea(o,l),this._layout(o),(i=o.children)!==null&&i!==void 0?i:[]}_filterChildren(e){const t=this.options.maxDepth;if(st(t)&&t>=0&&e.depth>=t)return!1;const i=this.options.minChildrenVisibleArea;if(st(i)&&Math.abs((e.x1-e.x0)*(e.y1-e.y0))<i)return!1;const r=this.options.minChildrenVisibleSize;return!st(r)||!(Math.abs(e.x1-e.x0)<r||Math.abs(e.y1-e.y0)<r)}_layout(e){var t;this._filterChildren(e)||(e.children=null,e.isLeaf=!0),this._layoutNode(e),!((t=e.children)===null||t===void 0)&&t.length&&e.children.forEach(i=>{var r;!((r=i==null?void 0:i.children)===null||r===void 0)&&r.length?this._layout(i):this._layoutNode(i)})}}uH.defaultOpionts={aspectRatio:(1+Math.sqrt(5))/2,gapWidth:0,labelPadding:0,labelPosition:"top",splitType:"binary",minVisibleArea:10};const _W={triangleForward:inn,triangleUpright:Cme,triangle:Cme,diamond:enn,square:nnn,star:tnn,cardioid:rnn,circle:snn,pentagon:ann};function enn(){return function(n){const e=n%(2*Math.PI/4);return 1/(Math.cos(e)+Math.sin(e))}}function tnn(){return function(n){const e=(n+.955)%(2*Math.PI/10);return(n+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-e)+3.07768*Math.sin(2*Math.PI/10-e)):1/(Math.cos(e)+3.07768*Math.sin(e))}}function nnn(){return function(n){return Math.min(1/Math.abs(Math.cos(n)),1/Math.abs(Math.sin(n)))}}function Cme(){return function(n){const e=(n+3*Math.PI/2)%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))}}function inn(){return function(n){const e=n%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))}}function rnn(){return function(n){return 1+Math.sin(n)}}function snn(){return function(){return 1}}function ann(){return function(n){const e=(n+.955)%(2*Math.PI/5);return 1/(Math.cos(e)+.726543*Math.sin(e))}}function RQ(n,e){const t=e[0],i=e[1];let r=1;const s=[e[0]>>1,e[1]>>1];switch(n){case"cardioid":s[1]=~~(i/2.7*.4),r=Math.floor(Math.min(t/2.3,i/2.6));break;case"triangleForward":r=i/Math.sqrt(.75)>t?Math.floor(t/2):Math.floor(i/(2*Math.sqrt(.75)));break;case"triangle":case"triangleUpright":s[1]=~~(i/1.5),r=Math.floor(Math.min(i/1.5,t/2));break;case"circle":case"diamond":case"square":case"star":case"pentagon":r=Math.floor(Math.min(t/2,i/2));break;default:r=Math.floor(Math.max(t/2,i/2))}return{maxRadius:r,center:s}}const jRe=n=>_W[n]?_W[n]():_W.circle(),Tme=(n,e)=>"hsl("+(360*Math.random()).toFixed()+","+(30*Math.random()+70).toFixed()+"%,"+(Math.random()*(e-n)+n).toFixed()+"%)";function ub(n){return Re(n)?n:function(){return n}}class Q1{constructor(e){var t,i;switch(this.options=We({},Q1.defaultOptions,e),Re(this.options.shape)?this.shape=this.options.shape:this.shape=jRe(this.options.shape),this.getText=(t=ub(this.options.text))!==null&&t!==void 0?t:r=>r,this.getTextFontWeight=ub(this.options.fontWeight),this.getTextFontSize=ub(this.options.fontSize),this.getTextFontStyle=ub(this.options.fontStyle),this.getTextFontFamily=ub(this.options.fontFamily),this.outputCallback=(i=this.options.outputCallback)!==null&&i!==void 0?i:r=>r,this.options.color){case"random-dark":this.getTextColor=()=>Tme(10,50);break;case"random-light":this.getTextColor=()=>Tme(50,90);break;default:this.getTextColor=ub(this.options.color)}if(J(this.options.rotate))if(this.options.useRandomRotate){const r=Math.abs(this.options.maxRotation-this.options.minRotation),s=Math.abs(Math.floor(this.options.rotationSteps)),a=Math.min(this.options.maxRotation,this.options.minRotation);this.getTextRotate=()=>this.options.rotateRatio===0||Math.random()>this.options.rotateRatio?0:r===0?a:s>0?a+Math.floor(Math.random()*s)*r/(s-1):a+Math.random()*r}else this.getTextRotate=()=>0;else this.getTextRotate=Re(this.options.rotate)?r=>{var s;return ar((s=this.options.rotate(r))!==null&&s!==void 0?s:0)}:(r,s)=>{const a=Ae(this.options.rotate),o=this.options.random?Math.random():NNt(s);return ar(a[Math.floor(o*a.length)])}}canRepeat(){return!1}exceedTime(){var e;return this.options.progressiveStep>0?this.progressiveIndex>=(((e=this.currentStepIndex)!==null&&e!==void 0?e:-1)+1)*this.options.progressiveStep:this.options.progressiveTime>0&&new Date().getTime()-this.escapeTime>this.options.progressiveTime}progressiveRun(){var e;if(this.options.progressiveStep>0?this.currentStepIndex=((e=this.currentStepIndex)!==null&&e!==void 0?e:-1)+1:this.options.progressiveTime>0&&(this.escapeTime=Date.now()),this.data&&this.progressiveIndex<this.data.length){this.progressiveResult=[];let t=this.progressiveIndex,i=0;const r=this.options.maxSingleWordTryCount,s=Math.min(this.options.maxFailCount,this.originalData.length);for(;t<this.data.length&&this.failCount<s;){const a=this.layoutWord(t);if(i++,(a||i>r)&&(t++,i=0,this.failCount=a?0:this.failCount+1),this.progressiveIndex=t,this.exceedTime())break;t===this.data.length&&this.failCount<s&&this.options.repeatFill&&this.canRepeat()&&(this.data=[...this.data,...this.originalData.map(o=>Object.assign(Object.assign({},o),{isFill:!0}))],this.isTryRepeatFill=!0)}return this.progressiveResult}return this.result}initProgressive(){this.failCount=0,this.progressiveIndex=0,this.options.progressiveStep>0?this.currentStepIndex=-1:this.options.progressiveTime>0&&(this.escapeTime=Date.now()),this.progressiveResult=[]}output(){return this.result?this.outputCallback(this.result):null}progressiveOutput(){return this.progressiveResult?this.outputCallback(this.progressiveResult):null}unfinished(){return this.data&&this.data.length&&!J(this.progressiveIndex)&&this.progressiveIndex<this.data.length}release(){this.data=null,this.result=null,this.progressiveIndex=null,this.progressiveResult=null}}Q1.defaultOptions={fontFamily:'"Trebuchet MS", "Heiti TC", "", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",fontStyle:"normal",minFontSize:12,drawOutOfBound:!1,shrink:!1,minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotationSteps:0,rotateRatio:.1,random:!1,shape:"circle",progressiveTime:0,progressiveStep:0,repeatFill:!1,fillTextFontSize:12,maxFailCount:20};const Eme={archimedean:onn,rectangular:lnn};function onn(n){const e=n[0]/n[1];return t=>[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}function lnn(n){const e=4*n[0]/n[1];let t=0,i=0;return r=>{const s=r<0?-1:1;switch(Math.sqrt(1+4*s*r)-s&3){case 0:t+=e;break;case 1:i+=4;break;case 2:t-=e;break;default:i-=4}return[t,i]}}class Kw extends Q1{constructor(e){var t;super(We({},Kw.defaultOptions,e)),this.cw=64,this.ch=2048,this._size=[256,256],this._isBoardExpandCompleted=!1,this._placeStatus=0,this._tTemp=null,this._dtTemp=null,this._dy=0,this.cacheMap=new Map,this.options.minFontSize<=Kw.defaultOptions.minFontSize&&(this.options.minFontSize=Kw.defaultOptions.minFontSize),this.spiral=Jt(this.options.spiral)?(t=Eme[this.options.spiral])!==null&&t!==void 0?t:Eme.archimedean:this.options.spiral,this.random=this.options.random?Math.random:()=>1,this.getTextPadding=ub(this.options.padding)}zoomRatio(){return this._originSize[0]/this._size[0]}dy(){return this._dy}layoutWord(e){const t=this.data[e];if((""+t.text).trim()==="")return!0;const{maxRadius:i,center:r}=RQ(this.options.shape,this._size);if(t.x=r[0],t.y=r[1],unn(this.contextAndRatio,t,this.data,e,this.cw,this.ch),this._placeStatus=0,t.hasText&&this.place(this._board,t,this._bounds,i))return this.result.push(t),this._bounds?dnn(this._bounds,t):this._bounds=[{x:t.x+t.x0,y:t.y+t.y0},{x:t.x+t.x1,y:t.y+t.y1}],t.x-=this._size[0]>>1,t.y-=this._size[1]>>1,this._tTemp=null,this._dtTemp=null,!0;if(this.updateBoardExpandStatus(t.fontSize),t.hasText&&this.shouldShrinkContinue()){if(this._placeStatus===1){const s=t.fontSize*this._originSize[0]/this.options.minFontSize,a=Math.max(t.width,t.height);if(a<=s)this._board=this.expandBoard(this._board,this._bounds,a/this._size[0]);else{if(!this.options.clip)return!0;this._board=this.expandBoard(this._board,this._bounds,s/this._size[0])}}else this._placeStatus,this._board=this.expandBoard(this._board,this._bounds);return this.updateBoardExpandStatus(t.fontSize),!1}return this._tTemp=null,this._dtTemp=null,!0}layout(e,t){this.initProgressive(),this.result=[],this._size=[t.width,t.height],this.clearCache(),this._originSize=[...this._size];const i=this.getContext(this.options.createCanvas({width:1,height:1}));this.contextAndRatio=i,this._board=new Uint32Array((this._size[0]>>5)*this._size[1]).fill(0),this._bounds=null,e.length,this.result=[];const r=e.map((s,a)=>({text:this.getText(s),fontFamily:this.getTextFontFamily(s),fontStyle:this.getTextFontStyle(s),fontWeight:this.getTextFontWeight(s),angle:this.getTextRotate(s,a),fontSize:~~this.getTextFontSize(s),padding:this.getTextPadding(s),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:s,x:0,y:0,width:0,height:0})).sort(function(s,a){return a.fontSize-s.fontSize});if(this.originalData=r,this.data=r,this.progressiveRun(),!this.options.clip&&this.options.enlarge&&this._bounds&&this.shrinkBoard(this._bounds),this._bounds&&["cardioid","triangle","triangle-upright"].includes(this.options.shape)){const s=(this._bounds[0].y+this._bounds[1].y)/2;this._dy=-(s-this._originSize[1]/2)}return this.result}formatTagItem(e){const t=this._size,i=this.zoomRatio(),r=this.dy(),s=t[0]>>1,a=t[1]>>1,o=e.length,l=[];let u,c;for(let d=0;d<o;++d)u=e[d],c={},c.datum=u.datum,c.x=(u.x+s)*i,c.y=(u.y+a+r)*i,c.fontFamily=u.fontFamily,c.fontSize=u.fontSize*i,c.fontStyle=u.fontStyle,c.fontWeight=u.fontWeight,c.angle=u.angle,l.push(c);return l}output(){return this.outputCallback?this.outputCallback(this.formatTagItem(this.result)):this.formatTagItem(this.result)}progressiveOutput(){return this.outputCallback?this.outputCallback(this.formatTagItem(this.progressiveResult)):this.formatTagItem(this.progressiveResult)}updateBoardExpandStatus(e){this._isBoardExpandCompleted=e*(this._originSize[0]/this._size[0])<this.options.minFontSize}shouldShrinkContinue(){return!this.options.clip&&this.options.shrink&&!this._isBoardExpandCompleted}shrinkBoard(e){const t=e[0],i=e[1];if(i.x>=this._size[0]||i.y>=this._size[1])return;const r=Math.min(t.x,this._size[0]-i.x),s=Math.min(t.y,this._size[1]-i.y),a=2*Math.min(r/this._size[0],s/this._size[1]);this._size=this._size.map(o=>o*(1-a))}expandBoard(e,t,i){const r=this._size[0],s=this._size[1],a=r>>5,o=r*(i||1.1)-r>>5;let l=2*o>2?o:2;l%2!=0&&l++;let u=Math.ceil(s*(l<<5)/r);u%2!=0&&u++;const c=r+(l<<5),d=s+u,h=c>>5,f=l/2,p=u/2,g=new Uint32Array(d*h).fill(0);for(let m=0;m<s;m++){const v=m*a,_=v+a,y=(m+p)*h+f,x=e.slice(v,_);g.set(x,y)}if(this._size=[c,d],t){const m=(l<<5)/2,v=u/2;t[0].x+=m,t[0].y+=v,t[1].x+=m,t[1].y+=v}return g}insertZerosToArray(e,t,i){if(this.options.customInsertZerosToArray)return this.options.customInsertZerosToArray(e,t,i);const r=Math.floor(i/6e4),s=i%6e4;for(let a=0;a<r;a++)e.splice(t+6e4*a,0,...new Array(6e4).fill(0));e.splice(t+6e4*r,0,...new Array(s).fill(0))}getContext(e){e.width=1,e.height=1;const t=e.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,1,1),i=Math.sqrt(t.data.length>>2);e.width=(this.cw<<5)/i,e.height=this.ch/i;const r=e.getContext("2d",{willReadFrequently:!0});return r.fillStyle=r.strokeStyle="red",r.textAlign="center",{context:r,ratio:i,canvas:e}}place(e,t,i,r){let s=!1;if(this.shouldShrinkContinue()&&(t.width>this._size[0]||t.height>this._size[1]))return this._placeStatus=1,!1;const a=this.random()<.5?1:-1;if(!this.shouldShrinkContinue()&&this.isSizeLargerThanMax(t,a))return null;const o=t.x,l=t.y,u=Math.sqrt(this._size[0]*this._size[0]+this._size[1]*this._size[1]),c=this.spiral(this._size);let d,h,f,p,g=-a;for(this._tTemp=null,this._dtTemp=null;d=c(g+=a);){h=d[0],f=d[1];const m=Math.sqrt(h**2+f**2);let v=Math.atan(f/h);h<0?v+=Math.PI:f<0&&(v=2*Math.PI+v);const _=this.shape(v);if(Math.min(Math.abs(h),Math.abs(f))>=u)break;if(m>=r)s&&this._tTemp===null&&(this._tTemp=g,this._dtTemp=a);else{if(t.x=o+~~(m*_*Math.cos(-v)),t.y=l+~~(m*_*Math.sin(-v)),p=t,this.options.clip)if(this.shouldShrinkContinue()){if(bW(p,this._size)){s&&this._tTemp===null&&(this._tTemp=g,this._dtTemp=a);continue}}else{if(fnn(p,this._size)){s&&this._tTemp===null&&(this._tTemp=g,this._dtTemp=a);continue}bW(p,this._size)&&(p=pnn(p,this._size))}else if(bW(p,this._size)){s&&this._tTemp===null&&(this._tTemp=g,this._dtTemp=a);continue}if(s=!0,(!i||hnn(p,i))&&(!i||!cnn(p,e,this._size))){const y=p.sprite,x=p.width>>5,w=this._size[0]>>5,T=p.x-(x<<4),E=127&T,A=32-E,k=p.y1-p.y0;let P,I=(p.y+p.y0)*w+(T>>5);for(let D=0;D<k;D++){P=0;for(let L=0;L<=x;L++)e[I+L]|=P<<A|(L<x?(P=y[D*x+L])>>>E:0);I+=w}return t.sprite=null,p.sprite=null,!0}}}return this._tTemp!==null&&(this._placeStatus=3),!this.shouldShrinkContinue()&&this.setCache(p,a),!1}clearCache(){this.cacheMap.clear()}setCache(e,t){const i=`${e.angle}-${t}`,r=e.x1-e.x0,s=e.y1-e.y0;if(!this.cacheMap.has(i))return void this.cacheMap.set(i,{width:r,height:s});const{width:a,height:o}=this.cacheMap.get(i);(r<a&&s<o||r<=a&&s<o)&&this.cacheMap.set(i,{width:r,height:s})}isSizeLargerThanMax(e,t){const i=`${e.angle}-${t}`;if(!this.cacheMap.has(i))return!1;const{width:r,height:s}=this.cacheMap.get(i),a=e.x1-e.x0,o=e.y1-e.y0;return a>=r&&o>=s}}function unn(n,e,t,i,r,s){if(e.sprite)return;const a=n.context,o=n.ratio;a.setTransform(o,0,0,o,0,0),a.clearRect(0,0,(r<<5)/o,s/o);let l=0,u=0,c=0;const d=t.length;let h,f,p,g,m;for(--i;++i<d;){if(e=t[i],a.save(),a.font=e.fontStyle+" "+e.fontWeight+" "+~~((e.fontSize+1)/o)+"px "+e.fontFamily,h=a.measureText(e.text+"m").width*o,p=e.fontSize<<1,e.angle){const y=Math.sin(e.angle),x=Math.cos(e.angle),w=h*x,T=h*y,E=p*x,A=p*y;h=Math.max(Math.abs(w+A),Math.abs(w-A))+31>>5<<5,p=~~Math.max(Math.abs(T+E),Math.abs(T-E))}else h=h+31>>5<<5;if(p>c&&(c=p),l+h>=r<<5&&(l=0,u+=c,c=0),u+p>=s)break;a.translate((l+(h>>1))/o,(u+(p>>1))/o),e.angle&&a.rotate(e.angle),a.fillText(e.text,0,0),e.padding&&(a.lineWidth=2*e.padding,a.strokeText(e.text,0,0)),a.restore(),e.width=h,e.height=p,e.xoff=l,e.yoff=u,e.x1=h>>1,e.y1=p>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,l+=h}const v=a.getImageData(0,0,(r<<5)/o,s/o).data,_=[];for(;--i>=0;){if(!(e=t[i]).hasText)continue;for(h=e.width,f=h>>5,p=e.y1-e.y0,g=0;g<p*f;g++)_[g]=0;if(l=e.xoff,l==null)return;u=e.yoff;let y=0,x=-1;for(m=0;m<p;m++){for(g=0;g<h;g++){const w=f*m+(g>>5),T=v[(u+m)*(r<<5)+(l+g)<<2]?1<<31-g%32:0;_[w]|=T,y|=T}y?x=m:(e.y0++,p--,m--,u++)}e.y1=e.y0+x,e.sprite=_.slice(0,(e.y1-e.y0)*f)}}function cnn(n,e,t){const i=t[0]>>5,r=n.sprite,s=n.width>>5,a=n.x-(s<<4),o=127&a,l=32-o,u=n.y1-n.y0;let c,d=(n.y+n.y0)*i+(a>>5);for(let h=0;h<u;h++){c=0;for(let f=0;f<=s;f++)if((c<<l|(f<s?(c=r[h*s+f])>>>o:0))&e[d+f])return!0;d+=i}return!1}function dnn(n,e){const t=n[0],i=n[1];e.x+e.x0<t.x&&(t.x=e.x+e.x0),e.y+e.y0<t.y&&(t.y=e.y+e.y0),e.x+e.x1>i.x&&(i.x=e.x+e.x1),e.y+e.y1>i.y&&(i.y=e.y+e.y1)}function hnn(n,e){return n.x+n.x1>e[0].x&&n.x+n.x0<e[1].x&&n.y+n.y1>e[0].y&&n.y+n.y0<e[1].y}Kw.defaultOptions={enlarge:!1,minFontSize:2,maxSingleWordTryCount:2};const fnn=(n,e)=>n.x+n.x0>e[0]||n.y+n.y0>e[0]||n.x+n.x1<0||n.y+n.y1<0,bW=(n,e)=>n.x+n.x0<0||n.y+n.y0<0||n.x+n.x1>e[0]||n.y+n.y1>e[1];function pnn(n,e){const t=n.sprite,i=n.y1-n.y0,r=n.width>>5;let s=0;const a=[],o=Math.max(-(n.y0+n.y),0),l=Math.min(i+(e[1]-(n.y1+n.y)),i),u=Math.max(-(n.x0+n.x),0)>>5,c=Math.min(r+(e[0]-(n.x1+n.x)>>5)+1,r);for(let g=0;g<i;g++){for(let m=0;m<r;m++)g<o||l<=g||m<u||c<=m||a.push(t[s+m]);s+=r}const d=u<<5,h=r-c<<5,f=o,p=i-l;return Object.assign(Object.assign({},n),{width:n.width-d-h,height:n.height-f-p,x0:n.x0+d,x1:n.x1-h,y0:n.y0+f,y1:n.y1-p,x:n.x+d/2-h/2,sprite:a})}const U7=(n,e,t)=>{const{threshold:i,invert:r=!1}={};if(!n||n==="#fff")return(o,l,u)=>{const c=o.width;if(o.data[l*c*4+4*u+3]===0)return!r;const d=o.data[l*c*4+4*u+0],h=o.data[l*c*4+4*u+1],f=o.data[l*c*4+4*u+2];if(d===255&&h===255&&f===255)return!r;if(Me(i)){const p=.3*d+.59*h+.11*f;return r?p<=i:p>=i}return!1};const s=t({width:1,height:1}).getContext("2d",{willReadFrequently:!0});s.fillStyle=n,s.fillRect(0,0,1,1);const a=s.getImageData(0,0,1,1).data;return(o,l,u)=>{const c=o.width;return[0,1,2,3].every(d=>r?o.data[4*(l*c+u)+d]!==a[d]:o.data[4*(l*c+u)+d]===a[d])}},zRe=(n,e,t,i,r=!1,s)=>{let{backgroundColor:a="#fff"}=n,{fill:o="#000"}=n;r&&([a,o]=[o,a]);const l=s({width:e,height:t,dpr:1}),u=l.getContext("2d",{willReadFrequently:!0});return u.fillStyle=a,u.fillRect(0,0,l.width,l.height),n.type==="text"?gnn(n,o,l.width,l.height,u):n.type==="geometric"&&ynn(n,o,l.width,l.height,u),l},gnn=(n,e,t,i,r)=>{const{fontFamily:s="sans-serif",fontWeight:a="normal",fontStyle:o="normal",fontVariant:l="normal",text:u,hollow:c}=n;let d=12;r.font=`${o} ${l} ${a} ${d}px ${s}`,r.textAlign="center",r.textBaseline="middle",r.fillStyle=e;const h=r.measureText(u),f=o!=="normal"?1.1:1,p=Y(h.actualBoundingBoxRight)&&Y(h.actualBoundingBoxLeft)?Math.ceil(f*(Math.abs(h.actualBoundingBoxRight)+Math.abs(h.actualBoundingBoxLeft))):0,g=Math.max(Math.ceil(h.width),p,d);if(c&&(r.globalCompositeOperation="xor"),g>t){const m=Math.min(t/g,i/d);r.fillText(u,t/2,i/2),r.scale(m,m)}else d=Math.floor(d*t/g),d=Math.min(d,i),r.font=`${o} ${l} ${a} ${d}px ${s}`,r.fillText(u,Math.floor(t/2),Math.floor(i/2))},Y_=(n,e,t=0,i)=>{const r=2*Math.PI/i;return new Array(i).fill(0).map((s,a)=>Sr(n,e,t+a*r))},mnn=(n,e,t=0,i)=>{const r=2*Math.PI/i,s=jRe("cardioid");return new Array(i).fill(0).map((a,o)=>{const l=t+o*r,u=e*s(l);return Sr(n,u,l)})},lx=(n,e)=>{n.beginPath(),e.forEach((t,i)=>{i===0?n.moveTo(t.x,t.y):n.lineTo(t.x,t.y)}),n.closePath(),n.fill()},vnn=(n,e)=>{let t;n.beginPath(),e.forEach((i,r)=>{r===0?n.moveTo(i.x,i.y):n.bezierCurveTo(i.x,i.y,t.x,t.y,i.x,i.y),t=i}),n.closePath(),n.fill()},ynn=(n,e,t,i,r)=>{const{hollow:s}=n,{center:a,maxRadius:o}=RQ(n.shape,[t,i]);r.fillStyle=e,s&&(r.globalCompositeOperation="xor");const l=a[0],u=a[1];if(n.shape==="cardioid")vnn(r,mnn({x:l,y:u},o,0,100));else if(n.shape==="circle")r.beginPath(),r.arc(l,u,o,0,2*Math.PI,!0),r.fill();else if(n.shape==="diamond")lx(r,Y_({x:l,y:u},o,-Math.PI/2,4));else if(n.shape==="square")lx(r,Y_({x:l,y:u},o,-Math.PI/4,4));else if(n.shape==="pentagon")lx(r,Y_({x:l,y:u},o,Math.PI/2,5));else if(n.shape==="triangle"||n.shape==="triangleUpright")lx(r,Y_({x:l,y:u},o,-Math.PI/2,3));else if(n.shape==="triangleForward")lx(r,Y_({x:l,y:u},o,0,3));else if(n.shape==="star"){const c=Y_({x:l,y:u},o,-Math.PI/2,5),d=Y_({x:l,y:u},o/(2*Math.cos(Math.PI/5)),-Math.PI/2+Math.PI/5,5),h=[];for(let f=0;f<5;f++)h.push(c[f]),h.push(d[f]);lx(r,h)}else r.fillRect(0,0,t,i)};function _nn(n){const{size:e,maskCanvas:t}=n,i=t.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,t.width,t.height),r=new Array(e[0]*e[1]).fill(0);let s=1;const a=[[0,1],[1,0],[-1,0],[0,-1]];let o=[];for(let k=0;k<e[1];k++)for(let P=0;P<e[0];P++)if(r[k*e[0]+P]===0&&!n.isEmptyPixel(i,k,P)){r[k*e[0]+P]=s,o.push([k,P]);for(let I=0;I<o.length;I++)for(let D=0;D<4;D++){let L=o[I][0]+a[D][0],B=o[I][1]+a[D][1];L=L<0?0:L>=e[1]?e[1]-1:L,B=B<0?0:B>=e[0]?e[0]-1:B,r[L*e[0]+B]!==0||n.isEmptyPixel(i,L,B)||(r[L*e[0]+B]=s,o.push([L,B]))}s++,o=[]}const l={},u={},c={},d={},h={},f={},p={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0,width:0,height:0},g=[];for(let k=0;k<e[1];k++)for(let P=0;P<e[0];P++){const I=r[k*e[0]+P];I!==0&&(A(k,P)&&(g.push([k,P]),l[I]=l[I]||[],l[I].push([P,k]),d[I]||(d[I]=[1/0,-1/0,1/0,-1/0]),k<d[I][0]&&(d[I][0]=k),k>d[I][1]&&(d[I][1]=k),P<d[I][2]&&(d[I][2]=P),P>d[I][3]&&(d[I][3]=P),P<p.x1&&(p.x1=P),P>p.x2&&(p.x2=P),k<p.y1&&(p.y1=k),k>p.y2&&(p.y2=k)),u[I]=(u[I]||0)+1)}const m=[];for(const k in l){const P=l[k],I=~~(P.reduce((z,N)=>z+N[0],0)/P.length),D=~~(P.reduce((z,N)=>z+N[1],0)/P.length);c[k]=[I,D],m.push(...P);const[L,B,F,$]=d[k];h[k]=~~Math.max(Math.sqrt((I-F)**2+(D-L)**2),Math.sqrt((I-$)**2+(D-B)**2),Math.sqrt((I-F)**2+(D-B)**2),Math.sqrt((I-$)**2+(D-L)**2)),f[k]=($-F)/(B-L)}const v=Object.keys(c).map(k=>({label:k-1,boundary:l[k],area:u[k],center:c[k],maxPoint:d[k],maxR:h[k],ratio:f[k]}));p.width=p.x2-p.x1+1,p.height=p.y2-p.y1+1;const _=~~(m.reduce((k,P)=>k+P[0],0)/m.length),y=~~(m.reduce((k,P)=>k+P[1],0)/m.length),x=~~Math.max(Math.sqrt((_-p.x1)**2+(y-p.y1)**2),Math.sqrt((_-p.x2)**2+(y-p.y2)**2),Math.sqrt((_-p.x1)**2+(y-p.y2)**2),Math.sqrt((_-p.x2)**2+(y-p.y1)**2)),w=p.width/p.height,T=Object.keys(u).reduce((k,P)=>k+u[P],0),E={regions:v,labels:r,labelNumber:s-1};if(n.blur){const k=n.blur,P=Snn(r,e[0],e[1],k);xnn(r,g,e[0],e[1],Math.ceil(k/2)).forEach((I,D)=>{I===1&&(r[D]=P[D])})}return Object.assign(n,{segmentation:E,shapeBounds:p,shapeMaxR:x,shapeRatio:w,shapeCenter:[_,y],shapeArea:T});function A(k,P){const I=[[0,1],[1,0],[-1,0],[0,-1]];if(k===0||P===0||k===e[1]-1||P===e[0]-1)return!0;for(let D=0;D<4;D++){let L=k+I[D][0],B=P+I[D][1];if(L=L<0?0:L>=e[1]?e[1]-1:L,B=B<0?0:B>=e[0]?e[0]-1:B,r[L*e[0]+B]===0)return!0}return!1}}function bnn(n,e){const t=new Array(2*n+1).fill(0),i=n;let r=0;for(let s=-n;s<=n;s++){const a=Math.exp(-s*s/(2*e*e));t[s+i]=a,r+=a}for(let s=0;s<t.length;s++)t[s]/=r;return t}function Snn(n,e,t,i){const r=i/3,s=Math.ceil(i/2),a=bnn(s,r),o=new Array(n.length).fill(0),l=new Array(n.length).fill(0);for(let u=0;u<t;u++)for(let c=0;c<e;c++){let d=0;for(let h=-s;h<=s;h++)d+=n[u*e+Math.min(Math.max(c+h,0),e-1)]*a[h+s];o[u*e+c]=d}for(let u=0;u<e;u++)for(let c=0;c<t;c++){let d=0;for(let h=-s;h<=s;h++)d+=o[Math.min(Math.max(c+h,0),t-1)*e+u]*a[h+s];l[c*e+u]=Math.max(0,Math.min(1,d))}return l}function xnn(n,e,t,i,r=1){const s=new Array(n.length).fill(0);for(const[a,o]of e)if(s[a*t+o]=1,r>1){for(let l=1-r;l<=r-1;l++)for(let u=1-r;u<=r-1;u++)if(Math.sqrt(l*l+u*u)<r){const c=a+l,d=o+u;c>=0&&c<i&&d>=0&&d<t&&(s[c*t+d]=1)}}return s}function wnn(n,e,t){e.width=n.width,e.height=n.height;const i=e.getContext("2d",{willReadFrequently:!0});i.clearRect(0,0,e.width,e.height),i.drawImage(n,0,0);const r=e.width,s=i.getImageData(0,0,e.width,e.height);let a=0,o=s.height,l=0,u=s.width;const c=(f,p)=>{for(let g=0;g<f;++g)if(!t(s,p,g))return!1;return!0},d=(f,p,g)=>{for(let m=p;m<g;++m)if(!t(s,m,f))return!1;return!0};for(;a<o&&c(r,a);)++a;for(;o-1>a&&c(r,o-1);)--o;for(;l<u&&d(l,a,o);)++l;for(;u-1>l&&d(u-1,a,o);)--u;const h=i.getImageData(l,a,u-l,o-a);return e.width=h.width,e.height=h.height,i.clearRect(0,0,e.width,e.height),i.putImageData(h,0,0),e}function Cnn(n,e){const t=n.width,i=n.height;let r=e[0]/t;i*r>e[1]&&(r=e[1]/i);const s=Math.floor(r*t),a=Math.floor(r*i);return{x:(e[0]-s)/2,y:(e[1]-a)/2,width:s,height:a,scale:r}}/*!
 * wordcloud2.js
 * http://timdream.org/wordcloud2.js/
 *
 * Copyright 2011 - 2019 Tim Guan-tin Chien and contributors.
 * Released under the MIT license
 */let HRe=class VRe extends Q1{constructor(e){super(We({},VRe.defaultOptions,e)),this.fillGridAt=(t,i)=>{t>=this.ngx||i>=this.ngy||t<0||i<0||(this.grid[t][i]=!1)},this.updateGrid=(t,i,r,s,a)=>{const o=a.occupied;let l=o.length;for(;l--;){const u=t+o[l][0],c=i+o[l][1];u>=this.ngx||c>=this.ngy||u<0||c<0||this.fillGridAt(u,c)}},this.gridSize=Math.max(Math.floor(this.options.gridSize),4)}getPointsAtRadius(e){if(this.pointsAtRadius[e])return this.pointsAtRadius[e];const t=8*e;let i=t;const r=[];for(e===0&&r.push([this.center[0],this.center[1],0]);i--;){const s=this.shape(i/t*2*Math.PI);r.push([this.center[0]+e*s*Math.cos(-i/t*2*Math.PI),this.center[1]+e*s*Math.sin(-i/t*2*Math.PI)*this.options.ellipticity,i/t*2*Math.PI])}return this.pointsAtRadius[e]=r,r}getTextInfo(e,t=1,i){var r;const s=this.options.clip?1:t,a=Math.max(Math.floor((this.isTryRepeatFill?this.options.fillTextFontSize:this.getTextFontSize(e))*s),this.options.minFontSize);let o=this.getText(e)+"";if(this.options.clip&&(o=o.slice(0,Math.ceil(o.length*t))),!o)return null;const l=this.getTextFontWeight(e),u=this.getTextFontStyle(e),c=this.getTextRotate&&(r=this.getTextRotate(e,i))!==null&&r!==void 0?r:0,d=this.getTextFontFamily(e),h=this.options.createCanvas({width:1,height:1}),f=h.getContext("2d",{willReadFrequently:!0});f.font=u+" "+l+" "+a.toString(10)+"px "+d;const p=f.measureText(o).width,g=Math.max(a,f.measureText("m").width,f.measureText("").width);let m=p+2*g,v=3*g;const _=Math.ceil(m/this.gridSize),y=Math.ceil(v/this.gridSize);m=_*this.gridSize,v=y*this.gridSize;const x=-p/2,w=.4*-g,T=Math.ceil((m*Math.abs(Math.sin(c))+v*Math.abs(Math.cos(c)))/this.gridSize),E=Math.ceil((m*Math.abs(Math.cos(c))+v*Math.abs(Math.sin(c)))/this.gridSize),A=E*this.gridSize,k=T*this.gridSize;h.setAttribute("width",""+A),h.setAttribute("height",""+k),f.scale(1,1),f.translate(A/2,k/2),f.rotate(-c),f.font=u+" "+l+" "+a.toString(10)+"px "+d,f.fillStyle="#000",f.textBaseline="middle",f.fillText(o,x,w);const P=f.getImageData(0,0,A,k).data;if(this.exceedTime())return null;const I=[];let D,L=E;const B=[T/2,E/2,T/2,E/2],F=($,z,N)=>{let V=this.gridSize;for(;V--;){let H=this.gridSize;for(;H--;)if(P[4*((z*this.gridSize+V)*A+($*this.gridSize+H))+3])return N.push([$,z]),$<B[3]&&(B[3]=$),$>B[1]&&(B[1]=$),z<B[0]&&(B[0]=z),void(z>B[2]&&(B[2]=z))}};for(;L--;)for(D=T;D--;)F(L,D,I);return{datum:e,occupied:I,bounds:B,gw:E,gh:T,fillTextOffsetX:x,fillTextOffsetY:w,fillTextWidth:p,fillTextHeight:g,fontSize:a,fontStyle:u,fontWeight:l,fontFamily:d,angle:c,text:o}}calculateEmptyRate(){const e=this.ngx*this.ngy;let t=0;for(let i=0;i<this.ngx;i++)for(let r=0;r<this.ngy;r++)this.grid[i][r]&&t++;return t/e}canFitText(e,t,i,r,s){let a=s.length;for(;a--;){const o=e+s[a][0],l=t+s[a][1];if(o>=this.ngx||l>=this.ngy||o<0||l<0){if(!this.options.drawOutOfBound)return!1}else if(!this.grid[o][l])return!1}return!0}layoutWord(e,t=1){const i=this.data[e],r=this.getTextInfo(i,t,e);if(!r||this.exceedTime())return!1;if(!this.options.drawOutOfBound&&(!this.options.shrink||r.fontSize<=this.options.minFontSize)&&!this.options.clip){const o=r.bounds;if(o[1]-o[3]+1>this.ngx||o[2]-o[0]+1>this.ngy)return!1}let s=this.maxRadius+1;const a=o=>{const l=Math.floor(o[0]-r.gw/2),u=Math.floor(o[1]-r.gh/2),c=r.gw,d=r.gh;return!!this.canFitText(l,u,c,d,r.occupied)&&(r.distance=this.maxRadius-s,r.theta=o[2],this.outputText(l,u,r),this.updateGrid(l,u,c,d,r),!0)};for(;s--;){let o=this.getPointsAtRadius(this.maxRadius-s);if(this.options.random&&(o=[].concat(o),jAe(o)),o.some(a))return!0}return(this.options.clip||!!(this.options.shrink&&r.fontSize>this.options.minFontSize))&&this.layoutWord(e,.75*t)}outputText(e,t,i){const r=this.getTextColor(i),s={text:i.text,datum:i.datum,color:r,fontStyle:i.fontStyle,fontWeight:i.fontWeight,fontFamily:i.fontFamily,angle:i.angle,width:i.fillTextWidth,height:i.fillTextHeight,x:(e+i.gw/2)*this.gridSize,y:(t+i.gh/2)*this.gridSize+i.fillTextOffsetY+.5*i.fontSize,fontSize:i.fontSize};this.result.push(s),this.progressiveResult&&this.progressiveResult.push(s)}initGrid(e){this.grid=[];const t=this.options.shape;if(pn(t)){const i=zRe(t,e.width,e.height,void 0,!1,this.options.createCanvas);let r=i.getContext("2d").getImageData(0,0,this.ngx*this.gridSize,this.ngy*this.gridSize);this.options.onUpdateMaskCanvas&&this.options.onUpdateMaskCanvas(i);let s=U7(t.backgroundColor,void 0,this.options.createCanvas);const a=(l,u)=>{let c=this.gridSize;for(;c--;){let d=this.gridSize;for(;d--;)if(!s(r,u*this.gridSize+c,l*this.gridSize+d))return void(this.grid[l][u]=!0)}this.grid[l][u]=!1};let o=this.ngx;for(;o--;){this.grid[o]=[];let l=this.ngy;for(;l--;)a(o,l),this.grid[o][l]!==!1&&(this.grid[o][l]=!0)}r=s=void 0}else{let i=this.ngx;for(;i--;){this.grid[i]=[];let r=this.ngy;for(;r--;)this.grid[i][r]=!0}}}canRepeat(){return this.calculateEmptyRate()>.001}layout(e,t){this.initProgressive(),this.drawnCount=0,this.isTryRepeatFill=!1,this.originalData=e,this.data=e,this.pointsAtRadius=[],this.ngx=Math.floor(t.width/this.gridSize),this.ngy=Math.floor(t.height/this.gridSize);const{center:i,maxRadius:r}=RQ(this.options.shape,[t.width,t.height]);return this.center=t.origin?[t.origin[0]/this.gridSize,t.origin[1]/this.gridSize]:[i[0]/this.gridSize,i[1]/this.gridSize],this.maxRadius=Math.floor(r/this.gridSize),this.initGrid(t),this.result=[],this.progressiveRun()}};HRe.defaultOptions={gridSize:8,ellipticity:1,maxSingleWordTryCount:1};class cH extends Q1{constructor(e){super(We({},cH.defaultOptions,e)),this.random=this.options.random?Math.random:()=>0,this.aspectRatio=1}fit(e){for(let t=0,i=this.result.length;t<i;t++)if(Tnn(e,this.result[t]))return!1;return!0}getTextInfo(e,t){const i={datum:e,fontSize:this.getTextFontSize(e),fontWeight:this.getTextFontWeight(e),fontStyle:this.getTextFontStyle(e),fontFamily:this.getTextFontFamily(e),angle:this.getTextRotate(e,t),text:this.getText(e)+"",x:this.center[0],y:this.center[1]},r=this.options.getTextBounds(i);return i.width=r.width(),i.height=r.height(),i.top=this.center[1]-i.height+.21*i.height,i.left=this.center[0]-i.width/2,i}layoutWord(e){const t=this.getTextInfo(this.data[e],e);let i=2*Math.PI,r=0,s=t.left,a=t.top;const o=t.width,l=t.height;let u=1,c=this.fit(t);for(;!c&&r<this.maxRadius;)r+=.5,u=this.shape(r/this.maxRadius*2*Math.PI),i+=.5*(this.options.random?this.random()>.5?1:-1:e%2==0?1:-1),s=this.center[0]-o/2+r*u*Math.cos(i)*this.aspectRatio,a=this.center[1]-l/2+r*u*Math.sin(i),t.left=s,t.top=a,t.x=s+o/2,t.y=a+l/2,c=this.fit(t);return!!c&&!!(this.options.clip||t.left>=0&&t.left+t.width<=this.width&&t.top>=0&&t.top+t.height<=this.height)&&(this.result.push(t),!0)}layout(e,t){if(!(e!=null&&e.length))return[];this.initProgressive(),this.result=[],this.maxRadius=Math.sqrt(t.width*t.width+t.height*t.height)/2,this.center=[t.width/2,t.height/2],this.width=t.width,this.height=t.height,this.data=e.sort((r,s)=>this.getTextFontSize(s)-this.getTextFontSize(r));let i=0;for(;i<e.length&&(this.layoutWord(i),i++,this.progressiveIndex=i,!this.exceedTime()););return this.result}}function Tnn(n,e){return!(n.left+n.width<e.left||n.top+n.height<e.top||n.left>e.left+e.width||n.top>e.top+e.height)}cH.defaultOptions={enlarge:!1};const Ame={x:"x",y:"y",z:"z",fontFamily:"fontFamily",fontSize:"fontSize",fontStyle:"fontStyle",fontWeight:"fontWeight",angle:"angle"},WRe=(n,e)=>{var t,i,r,s,a,o;if(n.size&&(n.size[0]<=0||n.size[1]<=0))return yi.getInstance().info("Wordcloud size dimensions must be greater than 0"),[];const l=e,u=((t=n.size)!==null&&t!==void 0?t:[500,500]).slice();u[0]=Math.floor(u[0]),u[1]=Math.floor(u[1]);const c=n.fontFamily?K_(n.fontFamily):"sans-serif",d=n.fontStyle?K_(n.fontStyle):"normal",h=n.fontWeight?K_(n.fontWeight):"normal",f=n.rotate?K_(n.rotate):0,p=K_(n.text),g=(i=n.spiral)!==null&&i!==void 0?i:"archimedean",m=n.padding?K_(n.padding):1,v=(r=n.shape)!==null&&r!==void 0?r:"square",_=(s=n.shrink)!==null&&s!==void 0&&s,y=(a=n.enlarge)!==null&&a!==void 0&&a,x=(o=n.clip)!==null&&o!==void 0&&o,w=n.minFontSize,T=n.randomVisible,E=n.as?Object.assign(Object.assign({},Ame),n.as):Ame,A=n.depth_3d,k=n.postProjection;let P=n.fontSize?K_(n.fontSize):14;const I=n.fontSizeRange;if(I&&!st(P)){const B=P,F=Enn(Ann(B,l),I);P=$=>F(B($))}let D=Kw;n.layoutType==="fast"?D=cH:n.layoutType==="grid"&&(D=HRe);const L=new D(Object.assign(Object.assign({},n),{text:p,padding:m,spiral:g,shape:v,rotate:f,fontFamily:c,fontStyle:d,fontWeight:h,fontSize:P,shrink:_,clip:x,enlarge:y,minFontSize:w,random:T,outputCallback:B=>{const F=[];let $,z;for(let N=0,V=B.length;N<V;N++)z=B[N],$=z.datum,$[E.x]=z.x,$[E.y]=z.y,$[E.fontFamily]=z.fontFamily,$[E.fontSize]=z.fontSize,$[E.fontStyle]=z.fontStyle,$[E.fontWeight]=z.fontWeight,$[E.angle]=z.angle,k==="StereographicProjection"&&knn(u,z,$,E,A),n.dataIndexKey&&($[n.dataIndexKey]=`${N}`),F.push($);return F}}));return L.layout(l,{width:u[0],height:u[1]}),n.progressiveStep>0||n.progressiveTime>0?{progressive:L}:L.output()},K_=n=>Jt(n)||st(n)||Re(n)||Oe(n)?n:e=>e[n.field],SW=n=>n<0?-Math.sqrt(-n):Math.sqrt(n),Enn=(n,e,t)=>{if(n[0]===n[1])return o=>e[0];const i=SW(n[0]),r=SW(n[1]),s=Math.min(i,r),a=Math.max(i,r);return o=>(SW(o)-s)/(a-s)*(e[1]-e[0])+e[0]},Ann=(n,e)=>{let t=1/0,i=-1/0;const r=e.length;let s;for(let a=0;a<r;++a)s=dy(n(e[a])),s<t&&(t=s),s>i&&(i=s);return e.length===1&&t===i&&(t-=1e4),[t,i]};function knn(n,e,t,i,r){const s=Math.max(n[0],n[1])/2,a=Onn(n[0],n[1],s,{x:s,y:s,z:r??s},e);t[i.x]=a.x,t[i.y]=a.y,t[i.z]=a.z}function Onn(n,e,t,i,r){const{x:s,y:a}=r,o=s/n*Math.PI*2;let l=Math.PI-a/e*Math.PI;return l+=(l<Math.PI/2?1:-1)*Math.pow(Math.min(l-Math.PI/2,1),2)/5,{x:t*Math.sin(l)*Math.cos(o)+i.x,y:t*Math.cos(l)+i.y,z:t*Math.sin(l)*Math.sin(o)+i.z}}var kme;(function(n){n.BEFORE_WORDCLOUD_SHAPE_LAYOUT="beforeWordcloudShapeLayout",n.AFTER_WORDCLOUD_SHAPE_LAYOUT="afterWordcloudShapeLayout",n.AFTER_WORDCLOUD_SHAPE_DRAW="afterWordcloudShapeDraw"})(kme||(kme={}));const Pnn=(n,e)=>{if(e.length===1&&e[0]==="#537EF5")return!0;if(!Array.isArray(n)||!Array.isArray(e)||n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0},Mnn=n=>/^[\u4e00-\u9fa5]+$/.test(n),URe=(n,e)=>{if(J(n))return 0;let t=0;for(const i of n)Mnn(i)?t+=1:t+=.53;return t};function Inn(n){return typeof n=="function"?n:function(){return n}}function Rnn(n,e){const{segmentation:{regions:t}}=e;let i=-1/0,r=0,s=0;t.forEach((u,c)=>{const d=u.area;d>i&&(i=d,s=c),r+=d});let a=0;t.forEach(u=>{const c=u.area,d=Math.ceil(c/r*n.length),h=c/i;u.words=[],u.regionNum=d,u.regionWeight=h,a+=d}),a<n.length&&(t[s].wordsNum+=n.length-a);let o=s;const l=t.map(u=>u.regionNum);n.forEach(u=>{let c=0,d=0;u.regionIndex=-1;do{if(l[o]>0&&u.weight<=t[o].regionWeight){u.regionIndex=o,t[o].words.push(u),l[o]--,o=(o+1)%t.length;break}o=(o+1)%t.length,c++,d++,d>t.length+1&&(t.forEach(h=>{h.regionWeight+=.15}),d=0)}while(u.regionIndex===-1&&c<3*t.length);u.regionIndex===-1&&(u.regionIndex=s,t[s].words.push(u),l[s]--)}),t.forEach(u=>{u.words.sort((c,d)=>d.weight-c.weight)})}function Dnn(n,e,t){const{size:i,stepFactor:r}=e,{segmentation:{regions:s},tempCanvas:a,boardSize:o,shapeCenter:l,shapeMaxR:u,shapeRatio:c}=t,d=DQ(t),h=a.getContext("2d",{willReadFrequently:!0});for(const f of s){const{words:p,center:g,maxR:m,ratio:v}=f;for(let _=0;_<p.length;_++){k0(a,h,n,_);const y=p[_];y.x=g[0],y.y=g[1],y.hasText&&y.sprite&&QC(d,y,m,v,i,o,r)&&(y.hasPlaced=!0)}}for(let f=0;f<e.textLayoutTimes;f++){const p=n.filter(g=>(g.hasPlaced||(g.hasText=!1,g.sprite=null,g.fontSize=Math.max(~~(g.fontSize*e.fontSizeShrinkFactor),e.minFontSize)),!g.hasPlaced));if(p.length===0)break;for(let g=0;g<p.length;g++){const m=p[g];k0(a,h,p,g),m.x=l[0],m.y=l[1],m.hasText&&QC(d,m,u,c,i,o,r)&&(m.hasPlaced=!0)}}e.board=d}function GRe(n,e,t){const{stepFactor:i,importantWordCount:r,globalShinkLimit:s}=e,{size:a,segmentation:{regions:o},tempCanvas:l,boardSize:u,shapeCenter:c,shapeMaxR:d,shapeRatio:h}=t,f=l.getContext("2d",{willReadFrequently:!0}),p=DQ(t);let g=p.slice(0);const m=e.fontSizeShrinkFactor;let v=null,_=1,y=1;const x=r;let w=0;n.length>x&&(w=n.sort((T,E)=>E.weight-T.weight)[x].weight);for(let T=0;T<o.length;T++){const E=o[T],{words:A,center:k,maxR:P,ratio:I}=E;let D=!1;for(let L=0;L<A.length;L++){k0(l,f,n,L);const B=A[L];if(B.x=k[0],B.y=k[1],!B.skip&&B.hasText&&B.sprite&&QC(g,B,P,I,a,u,i))B.hasPlaced=!0;else{if(!B.skip&&B.weight>w&&y>s){const F=B.datum[Symbol.for("vGrammar_id")];F!==v&&(v=F,_=y),y*=m,n.forEach($=>{$.hasText=!1,$.sprite=null,$.fontSize=$.fontSize*m}),g=p.slice(0),D=!0;break}if(!B.skip&&B.datum[Symbol.for("vGrammar_id")]===v){n.forEach(F=>{F.hasText=!1,F.sprite=null,F.fontSize=F.fontSize/y}),B.skip=!0,y=_,v=null,g=p.slice(0),D=!0;break}}}D&&(T=-1)}for(let T=0;T<e.textLayoutTimes;T++){const E=n.filter(A=>(A.hasPlaced||(A.hasText=!1,A.sprite=null,A.fontSize=Math.max(~~(A.fontSize*e.fontSizeShrinkFactor),e.minFontSize)),!A.hasPlaced));if(E.length===0)break;for(let A=0;A<E.length;A++){const k=E[A];k0(l,f,E,A),k.x=c[0],k.y=c[1],k.hasText&&QC(g,k,d,h,a,u,i)&&(k.hasPlaced=!0)}}e.board=g}function Lnn(n,e,t){const{size:i,stepFactor:r,importantWordCount:s}=e,{segmentation:{regions:a},tempCanvas:o,boardSize:l,shapeCenter:u,shapeMaxR:c,shapeRatio:d}=t,h=o.getContext("2d",{willReadFrequently:!0}),f=DQ(t);let p=f.slice(0);const g=e.fontSizeEnlargeFactor,m=Math.min(s,n.length);let v=0;n.length>m&&(v=n.sort((w,T)=>T.weight-w.weight)[m-1].weight);let _=0,y=1,x=!1;for(let w=0;w<a.length;w++){const T=a[w],{words:E,center:A,maxR:k,ratio:P}=T;let I=!1;for(let D=0;D<E.length;D++){k0(o,h,n,D);const L=E[D];if(L.x=A[0],L.y=A[1],L.hasText&&L.sprite&&QC(p,L,k,P,i,l,r)){if(L.hasPlaced=!0,L.weight>=v&&_++,_>=m&&!x){y*=g,n.forEach(B=>{B.hasText=!1,B.sprite=null,B.fontSize=B.fontSize*g}),p=f.slice(0),I=!0,_=0;break}}else{if(L.weight>=v&&y>1){n.forEach(B=>{B.hasText=!1,B.sprite=null,B.fontSize=B.fontSize/g}),y/=g,x=!0,p=f.slice(0),I=!0;break}if(L.weight>=v)return GRe(n,e,t)}}I&&(w=-1)}for(let w=0;w<e.textLayoutTimes;w++){const T=n.filter(E=>(E.hasPlaced||(E.hasText=!1,E.sprite=null,E.fontSize=Math.max(~~(E.fontSize*e.fontSizeShrinkFactor),e.minFontSize)),!E.hasPlaced));if(T.length===0)break;for(let E=0;E<T.length;E++){const A=T[E];k0(o,h,T,E),A.x=u[0],A.y=u[1],A.hasText&&QC(p,A,c,d,i,l,r)&&(A.hasPlaced=!0)}}e.board=p}function QC(n,e,t,i,r,s,a){const o=e.x,l=e.y,u=Fnn(i),c=1*a;let d,h,f,p=-c;for(;d=u(p+=c);){const{wordSize:g,bounds:{dTop:m,dBottom:v,dLeft:_,dRight:y}}=e;if(h=d[0],f=d[1],Math.min(Math.abs(h),Math.abs(f))>=t)break;if(e.x=~~(o+h),e.y=~~(l+f),!(e.x-_<0||e.x+y>r[0]||e.y-m<0||e.y+v>r[1]||KRe(e,n,s)))return YRe(e,n,s),!0}return!1}function YRe(n,e,t){const{wordSize:i}=n,r=n.sprite,s=i[0]>>5,a=t[0]>>5,o=n.x-(s<<4),l=o%32,u=32-l,c=i[1];let d,h=(n.y-(i[1]>>1))*a+(o>>5);if(l===0)for(let f=0;f<c;f++){for(let p=0;p<s;p++)e[h+p]|=r[f*s+p];h+=a}else for(let f=0;f<c;f++){d=0;for(let p=0;p<=s;p++)e[h+p]|=d<<u|(p<s?(d=r[f*s+p])>>>l:0);h+=a}}function KRe(n,e,t){const{sprite:i,wordSize:r}=n,s=t[0]>>5,a=r[0]>>5,o=n.x-(a<<4),l=o%32,u=32-l,c=r[1];let d,h=(n.y-(r[1]>>1))*s+(o>>5);if(l===0)for(let f=0;f<c;f++){for(let p=0;p<a;p++)if(e[h+p]&i[f*a+p])return!0;h+=s}else for(let f=0;f<c;f++){d=0;for(let p=0;p<=a;p++)if((d<<u|(p<a?(d=i[f*a+p])>>>l:0))&e[h+p])return!0;h+=s}return!1}function Fnn(n){return function(e){return[n*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function k0(n,e,t,i){if(t[i].sprite||t[i].fontSize===0)return;const r=2048,s=Math.PI/180,a=t.length;n.width=r,n.height=2048,e.clearRect(0,0,r,2048),e.textAlign="center";let o,l,u=0,c=0,d=0,h=0;const f=i;for(--i;++i<a;){const v=t[i],_=Math.max(v.fontSize,2);if(e.save(),e.font=v.fontStyle+" "+v.fontWeight+" "+_+"px "+v.fontFamily,o=e.measureText(v.text+"m").width+2*v.padding,l=2*_+2*v.padding,v.rotate!==0){const y=Math.sin(v.rotate*s),x=Math.cos(v.rotate*s),w=o*x,T=o*y,E=l*x,A=l*y;o=Math.max(Math.abs(w+A),Math.abs(w-A)),l=~~Math.max(Math.abs(T+E),Math.abs(T-E))}if(o=o+31>>5<<5,l=Math.ceil(l),l>d&&(d=l),u+o>=r&&(u=0,c+=d,d=l),c+l>=2048){if(c===0){v.hasText=!1;continue}break}c+l>=h&&(h=c+l),e.translate(u+(o>>1),c+(l>>1)),v.rotate!==0&&e.rotate(v.rotate*s),e.fillText(v.text,0,0),v.padding&&(e.lineWidth=2*v.padding,e.strokeText(v.text,0,0)),e.restore(),v.LT=[u,c],v.wordSize=[o,l],v.hasText=!0,u+=o}if(h===0)return;const p=e.getImageData(0,0,r,h).data;let g,m;for(;--i>=f;){const v=t[i];if(!v.hasText){v.bounds={dTop:1/0,dBottom:-1/0,dLeft:1/0,dRight:-1/0};break}const{LT:_=[0,0],wordSize:y}=v;[u,c]=_;const x=y[0]>>5,w=new Array(x*y[1]).fill(0);let[T,E,A,k]=[1/0,-1/0,1/0,-1/0];for(m=0;m<y[1];m++){let P;for(g=0;g<y[0];g++)if(p[4*((c+m)*r+(u+g))+3]>0){const I=1<<31-g%32;w[x*m+(g>>5)]|=I,g<A&&(A=g),g>k&&(k=g),P|=I}P&&(m<T&&(T=m),m>E&&(E=m))}v.bounds={dTop:(y[1]>>1)-T,dBottom:E-(y[1]>>1),dLeft:(y[0]>>1)-A,dRight:k-(y[0]>>1)},v.sprite=w,delete v.LT}}function DQ(n){const{segmentation:{labels:e},boardSize:t,size:i}=n,r=t[0]>>5,s=new Array(r*i[1]).fill(0);for(let a=0;a<i[1];a++)for(let o=0;o<i[0];o++)if(e[a*i[0]+o]===0){const l=1<<31-o%32;s[r*a+(o>>5)]|=l}if(t[0]>i[0]){const a=(1<<t[0]-i[0])-1;for(let o=0;o<i[1];o++)s[r*o+r-1]|=a}return s}function Bnn(n,e,t){const{size:i,fillingTimes:r,fillingXStep:s,fillingYStep:a,getFillingFontStyle:o,getFillingFontWeight:l,getFillingFontFamily:u,fillingInitialFontSize:c,fillingDeltaFontSize:d,fillingInitialOpacity:h,fillingDeltaOpacity:f,fillingRotateList:p,getFillingPadding:g,random:m,board:v,minFillFontSize:_}=e,{boardSize:y,shapeBounds:x,tempCanvas:w,randomGenerator:T}=t,E=w.getContext("2d",{willReadFrequently:!0});let A=c,k=h;const P=[];for(let L=0;L<r;L++)I(A,k),A=Math.max(A>d?A-d:d,_),k=k>f?k-f:f;return P;function I(L,B){const F=n.map(X=>{const{text:Z,color:Q,fillingColor:se,hasPlaced:ae,datum:ue}=X;return{x:0,y:0,weight:0,text:Z,fontFamily:u(ue),fontStyle:o(ue),fontWeight:l(ue),fontSize:L,rotate:p[~~(T()*p.length)],padding:g(ue),opacity:B,visible:!0,color:Q,fillingColor:se,hasPlaced:ae,datum:ue}});D(F);let $=0;const{x1:z,y1:N,x2:V,y2:H}=x,[K,U]=[z+~~(T()*s*2),N+~~(T()*a*2)];for(let X=U;X<=H;X+=a)for(let Z=K;Z<=V;Z+=s){k0(w,E,F,$);const Q=F[$];Q.x=Z,Q.y=X;const{wordSize:se,bounds:ae,hasPlaced:ue}=Q;if(!ue||!ae){++$===F.length&&($=0,m&&D(F));continue}const{dTop:oe,dBottom:re,dLeft:fe,dRight:ve}=ae;Q.x-fe<0||Q.x+ve>i[0]||Q.y-oe<0||Q.y+re>i[1]||Q.hasText&&Q.sprite&&!KRe(Q,v,y)&&(YRe(Q,v,y),P.push(Object.assign({},Q)),++$===F.length&&($=0,m&&D(F)))}}function D(L){return L.sort(()=>T()-.5)}}function $nn(n,e,t){Rnn(n,t),e.layoutMode==="ensureMapping"?GRe(n,e,t):e.layoutMode==="ensureMappingEnlarge"?Lnn(n,e,t):Dnn(n,e,t);const i=Bnn(n,e,t),r=[],s=[];for(let a=0;a<n.length;a++)n[a].hasPlaced?s.push(n[a]):r.push(n[a]);return r.forEach(a=>a.visible=!1),{fillingWords:i,successedWords:s,failedWords:r}}function Nnn(n,e){return n&&(BAe(n)||$Ae(n)||n.startsWith("<svg"))?new Promise((t,i)=>{var r;const s=e({image:n}),a=(r=s.resources)===null||r===void 0?void 0:r.get(n);a&&a.state==="success"&&a.data?t(a.data):(s.successCallback=()=>{var o;if(s){const l=(o=s.resources)===null||o===void 0?void 0:o.get(n);l&&l.state==="success"&&l.data?t(l.data):i(new Error("image load failed: "+n))}else i(new Error("image load failed: "+n))},s.failCallback=()=>{i(new Error("image load failed: "+n))})}):null}const Ome={x:"x",y:"y",fontFamily:"fontFamily",fontSize:"fontSize",fontStyle:"fontStyle",fontWeight:"fontWeight",angle:"angle",opacity:"opacity",visible:"visible",isFillingWord:"isFillingWord",color:"color"};class jnn{constructor(e){this.progressiveResult=[],this.options=e}layout(e){this.data=e;const t=this.options,i={shapeUrl:t.shape,size:t.size,ratio:t.ratio||.8,tempCanvas:void 0,boardSize:[0,0],random:!1,randomGenerator:void 0},r=this.options.createCanvas({width:t.size[0],height:t.size[1]}),s=r.getContext("2d",{willReadFrequently:!0});s.textAlign="center",s.textBaseline="middle",i.tempCanvas=r;const a=t.size[0]+31>>5<<5;if(i.boardSize=[a,t.size[1]],i.random?i.randomGenerator=Math.random:i.randomGenerator=VNt(),this.segmentationInput=i,Jt(i.shapeUrl)){i.isEmptyPixel=U7(void 0,void 0,this.options.createCanvas);const o=Nnn(i.shapeUrl,this.options.createImage);o?(this.isImageFinished=!1,this.isLayoutFinished=!1,o.then(l=>{this.isImageFinished=!0;const u=this.options.createCanvas({width:t.size[0],height:t.size[1],dpr:1});i.maskCanvas=u;const c=u.getContext("2d");t.removeWhiteBorder&&wnn(l,u,i.isEmptyPixel);const d=Cnn(l,t.size);c.clearRect(0,0,t.size[0],t.size[1]),c.drawImage(l,d.x,d.y,d.width,d.height),this.options.onUpdateMaskCanvas&&this.options.onUpdateMaskCanvas(i.maskCanvas)}).catch(l=>{this.isImageFinished=!0})):(this.isImageFinished=!0,this.isLayoutFinished=!0)}else if(i.shapeUrl&&(i.shapeUrl.type==="text"||i.shapeUrl.type==="geometric")){i.isEmptyPixel=U7(i.shapeUrl.backgroundColor,void 0,this.options.createCanvas);const o=zRe(i.shapeUrl,t.size[0],t.size[1],void 0,!1,this.options.createCanvas);i.maskCanvas=o,this.options.onUpdateMaskCanvas&&this.options.onUpdateMaskCanvas(o),this.doLayout(),this.isImageFinished=!0,this.isLayoutFinished=!0}}canAnimate(){return!0}unfinished(){return!this.isLayoutFinished}output(){return this.progressiveResult}progressiveRun(){this.isImageFinished&&!this.isLayoutFinished&&(this.segmentationInput.maskCanvas&&this.doLayout(),this.isLayoutFinished=!0)}progressiveOutput(){return this.progressiveResult}doLayout(){var e,t,i,r,s,a,o,l,u,c,d,h,f,p,g,m,v,_,y,x,w;const T=this.segmentationInput,E=_nn(T);if(!E.segmentation.regions.length)return;const A=this.options,k=this.data,P=A.colorMode||"ordinal",I={getText:fu(A.text),getFontSize:fu(A.fontSize),fontSizeRange:A.fontSizeRange,colorMode:P,getColor:A.colorField?fu(A.colorField):fu(A.text),getFillingColor:fu(A.fillingColorField),colorList:A.colorList||(P==="ordinal"?["#2E62F1"]:["#537EF5","#2E62F1","#2358D8","#184FBF","#0C45A6","#013B8E"]),getColorHex:fu(A.colorHexField),getFontFamily:fu(A.fontFamily||"sans-serif"),rotateList:A.rotateList||[0],getPadding:fu(A.padding||1),getFontStyle:fu(A.fontStyle||"normal"),getFontWeight:fu(A.fontWeight||"normal"),getFontOpacity:A.fontOpacity?fu(A.fontOpacity):()=>1};Hnn(k,I,E);const D={size:A.size,ratio:A.ratio||.8,shapeUrl:A.shape,random:A.random===void 0||A.random,textLayoutTimes:(e=A.textLayoutTimes)!==null&&e!==void 0?e:3,removeWhiteBorder:A.removeWhiteBorder,layoutMode:(t=A.layoutMode)!==null&&t!==void 0?t:"default",fontSizeShrinkFactor:(i=A.fontSizeShrinkFactor)!==null&&i!==void 0?i:.8,stepFactor:(r=A.stepFactor)!==null&&r!==void 0?r:1,importantWordCount:(s=A.importantWordCount)!==null&&s!==void 0?s:10,globalShinkLimit:A.globalShinkLimit||.2,fontSizeEnlargeFactor:(a=A.fontSizeEnlargeFactor)!==null&&a!==void 0?a:1.5,fillingRatio:(o=A.fillingRatio)!==null&&o!==void 0?o:.7,fillingTimes:(l=A.fillingTimes)!==null&&l!==void 0?l:4,fillingXStep:A.fillingXRatioStep?Math.max(Math.floor(A.size[0]*A.fillingXRatioStep),1):(u=A.fillingXStep)!==null&&u!==void 0?u:4,fillingYStep:A.fillingYRatioStep?Math.max(Math.floor(A.size[1]*A.fillingYRatioStep),1):(c=A.fillingYStep)!==null&&c!==void 0?c:4,fillingInitialFontSize:A.fillingInitialFontSize,fillingDeltaFontSize:A.fillingDeltaFontSize,fillingInitialOpacity:(d=A.fillingInitialOpacity)!==null&&d!==void 0?d:.8,fillingDeltaOpacity:(h=A.fillingDeltaOpacity)!==null&&h!==void 0?h:.05,getFillingFontFamily:fu(A.fillingFontFamily||"sans-serif"),getFillingFontStyle:fu(A.fillingFontStyle||"normal"),getFillingFontWeight:fu(A.fillingFontWeight||"normal"),getFillingPadding:fu((f=A.fillingPadding)!==null&&f!==void 0?f:.4),fillingRotateList:(p=A.fillingRotateList)!==null&&p!==void 0?p:[0,90],fillingDeltaFontSizeFactor:(g=A.fillingDeltaFontSizeFactor)!==null&&g!==void 0?g:.2,fillingColorList:A.fillingColorList||["#537EF5"],sameColorList:!1,minInitFontSize:(m=A.minInitFontSize)!==null&&m!==void 0?m:10,minFontSize:(v=A.minFontSize)!==null&&v!==void 0?v:4,minFillFontSize:(_=A.minFillFontSize)!==null&&_!==void 0?_:2},L=Pnn(I.colorList,D.fillingColorList);D.sameColorList=L,znn(k,I,D,A),Vnn(k,I,D,E);const{getText:B,getFontFamily:F,getFontStyle:$,getFontWeight:z,getPadding:N,getColor:V,getFillingColor:H,getColorHex:K,fontSizeScale:U,colorScale:X,fillingColorScale:Z,getFontOpacity:Q,rotateList:se}=I,ae=k.map(Pe=>{var je,qe;return{x:0,y:0,weight:0,text:B(Pe),fontFamily:F(Pe),fontWeight:z(Pe),fontStyle:$(Pe),rotate:se[~~(T.randomGenerator()*se.length)],fontSize:Math.max(D.minInitFontSize,~~U(Pe)),opacity:Q(Pe),padding:N(Pe),color:K&&K(Pe)||X&&X(V(Pe))||"black",fillingColor:!H||((je=A.colorField)===null||je===void 0?void 0:je.field)===((qe=A.fillingColorField)===null||qe===void 0?void 0:qe.field)&&L?void 0:K&&K(Pe)||Z&&Z(H(Pe))||"black",datum:Pe,visible:!0,hasPlaced:!1}}),ue=js(ae.map(Pe=>Pe.fontSize));ae.forEach(Pe=>Pe.weight=Pe.fontSize/ue),ae.sort((Pe,je)=>je.weight-Pe.weight);const{fillingWords:oe,successedWords:re,failedWords:fe}=$nn(ae,D,E),ve=(x=(y=A.text)===null||y===void 0?void 0:y.field)!==null&&x!==void 0?x:"textKey",xe=(w=A.dataIndexKey)!==null&&w!==void 0?w:"defaultDataIndexKey",ye=A.as?Object.assign(Object.assign({},Ome),A.as):Ome;let Ee,Se;const Fe=[];for(let Pe=0;Pe<ae.length;++Pe)Ee=ae[Pe],Se=Ee.datum,Se[ye.x]=Ee.x,Se[ye.y]=Ee.y,Se[ye.fontFamily]=Ee.fontFamily,Se[ye.fontSize]=Ee.fontSize,Se[ye.fontStyle]=Ee.fontStyle,Se[ye.fontWeight]=Ee.fontWeight,Se[ye.angle]=ar(Ee.rotate),Se[ye.opacity]=Ee.opacity,Se[ye.visible]=Ee.visible,Se[ye.isFillingWord]=!1,Se[ye.color]=Ee.color,Se[xe]=`${Ee.text}_${Pe}_keyword`,Fe.push(Se);const Ge=[];oe.forEach((Pe,je)=>{var qe,ot;const $e=Object.assign({},Pe.datum);$e[ye.x]=Pe.x,$e[ye.y]=Pe.y,$e[ye.fontFamily]=Pe.fontFamily,$e[ye.fontSize]=Pe.fontSize,$e[ye.fontStyle]=Pe.fontStyle,$e[ye.fontWeight]=Pe.fontWeight,$e[ye.angle]=ar(Pe.rotate),$e[ye.opacity]=Pe.opacity,$e[ye.visible]=Pe.visible,$e[ye.isFillingWord]=!0,$e[ye.color]=H?((qe=A.colorField)===null||qe===void 0?void 0:qe.field)===((ot=A.fillingColorField)===null||ot===void 0?void 0:ot.field)&&L?Pe.color:Pe.fillingColor:D.fillingColorList[~~(T.randomGenerator()*D.fillingColorList.length)],$e[ve]=Pe.text,$e[xe]=`${Pe.text}_${je}_fillingWords`,Ge.push($e)}),this.options.onLayoutFinished&&this.options.onLayoutFinished({successedWords:re,failedWords:fe}),this.progressiveResult=Fe.concat(Ge)}release(){this.segmentationInput=null,this.data=null,this.progressiveResult=null,this.options=null}}const znn=(n,e,t,i)=>{var r,s,a,o;const{colorMode:l,getColor:u,getFillingColor:c}=e,{sameColorList:d}=t;let h,f,p=e.colorList,g=t.fillingColorList;if(l==="ordinal"){const m=n.map(v=>u(v));if(h=v=>new x0().domain(m).range(p).scale(v),c&&(((r=i.colorField)===null||r===void 0?void 0:r.field)!==((s=i.fillingColorField)===null||s===void 0?void 0:s.field)||!d)){const v=n.map(_=>c(_));f=_=>new x0().domain(v).range(g).scale(_)}}else{p.length===1&&(p=[p[0],p[0]]);const m=new Ou().domain(RA(u,n)).range(p);if(h=v=>m.scale(v),c&&(((a=i.colorField)===null||a===void 0?void 0:a.field)!==((o=i.fillingColorField)===null||o===void 0?void 0:o.field)||!d)){g.length===1&&(g=[g[0],g[0]]);const v=new Ou().domain(RA(c,n)).range(g);f=_=>v.scale(_)}}Object.assign(e,{colorScale:h,fillingColorScale:f})},Hnn=(n,e,t)=>{let{fontSizeRange:i}=e;const{getFontSize:r,getText:s}=e;let a;if(r){if(r&&i){const o=new n$().domain(RA(r,n)).range(i);a=l=>o.scale(r(l))}else if(r&&Re(r)&&!i){const[l,u]=RA(r,n),c=n.map(f=>({text:s(f),value:r(f),weight:u===l?1:(r(f)-l)/(u-l)})),d=Pme(c,t,!0);i=[~~(.5*d),~~d];const h=new n$().domain(RA(r,n)).range(i);a=f=>h.scale(r(f))}}else{const o=n.map(u=>({text:s(u)})),l=Pme(o,t,!1);a=Inn(l)}Object.assign(e,{getFontSize:r,fontSizeRange:i,fontSizeScale:a})},Pme=(n,e,t)=>{const i=e.shapeArea,r=e.ratio,s=e.segmentation.regions,a=Math.ceil(Math.sqrt(i)/12),o=n.reduce((u,c)=>{const d=URe(c.text);return d<a?u+d*(t?(.5+.5*c.weight)**2:1):u},0);if(o===0)return 12;let l=20;if(s.length===1)l=Math.sqrt(r*(i/(1.7*o)));else{const u=[];for(let c=0;c<s.length;c++){const d=s[c].area,h=s[c].ratio,f=d/i;if(f<.1)continue;const p=f*(o*(h<1?2.7-h:1.7)),g=Math.sqrt(r*(d/p));u.push(g)}l=u.length?Math.min(...u):Math.sqrt(r*(i/(1.7*o)))}return l};function Vnn(n,e,t,i){const{getText:r}=e;let{fillingInitialFontSize:s,fillingDeltaFontSize:a}=t;const{fillingRatio:o}=t,l=Math.ceil(Math.sqrt(i.shapeArea)/4);if(!s||!a){const u=o/100,c=n.reduce((h,f)=>{const p=URe(r(f));return p>l?h:h+p},0)/n.length;let d;if(c===0)d=8;else{const h=.2*i.shapeArea;d=Math.sqrt(u*(h/c))}s=~~d,a=d*t.fillingDeltaFontSizeFactor,Object.assign(t,{fillingInitialFontSize:s,fillingDeltaFontSize:a})}}const RA=(n,e)=>{let t=1/0,i=-1/0;const r=e.length;let s;for(let a=0;a<r;++a)s=dy(n(e[a])),s<t&&(t=s),s>i&&(i=s);return e.length===1&&t===i&&(t-=1e4),[t,i]},Wnn=(n,e,t)=>{if(!n.size||J(n.size[0])||J(n.size[1])||n.size[0]<=0||n.size[1]<=0)return yi.getInstance().info("Wordcloud size dimensions must be greater than 0"),[];if(n.size=[Math.ceil(n.size[0]),Math.ceil(n.size[1])],n.shape||yi.getInstance().error("WordcloudShape shape must be specified."),n.text||yi.getInstance().error("WordcloudShape text must be specified."),n.onBeforeLayout&&n.onBeforeLayout(),!e||e.length===0)return[];const i=new jnn(n);return i.layout(e),i.unfinished()?{progressive:i}:i.output()};class sP extends ZC{constructor(){super(...arguments),this.type=Ye.wordCloud}}sP.type=Ye.wordCloud;const XRe=()=>{ne.registerGrammarTransform("wordcloud",{transform:WRe}),Dh(),FRe(),ne.registerSeries(sP.type,sP)},Unn=()=>{ne.registerGrammarTransform("wordcloudShape",{transform:Wnn}),ne.registerGrammarTransform("wordcloud",{transform:WRe}),Dh(),FRe(),ne.registerSeries(sP.type,sP)},Gnn=(n,e)=>{var t,i;const r=n.map(w=>Object.assign({},w));if(!r||r.length===0)return r;const{valueField:s,asTransformRatio:a,asReachRatio:o,asHeightRatio:l,asValueRatio:u,asNextValueRatio:c,asLastValueRatio:d,asLastValue:h,asCurrentValue:f,asNextValue:p,heightVisual:g=!1,isCone:m=!0,range:v}=e,_=r.reduce((w,T)=>Math.max(w,Number.parseFloat(T[s])||-1/0),-1/0),y=r.reduce((w,T)=>Math.min(w,Number.parseFloat(T[s])||1/0),1/0),x=[(t=v==null?void 0:v.min)!==null&&t!==void 0?t:y,(i=v==null?void 0:v.max)!==null&&i!==void 0?i:_];return r.forEach((w,T)=>{var E,A;const k=Number.parseFloat(w[s]),P=Number.parseFloat((E=r[T-1])===null||E===void 0?void 0:E[s]),I=Number.parseFloat((A=r[T+1])===null||A===void 0?void 0:A[s]),D=Me(I*k)&&k!==0?I/k:0,L=Me(k*P)&&P!==0?k/P:0;h&&(w[h]=P),p&&(w[p]=I),a&&(w[a]=D),o&&(w[o]=T===0?1:L),l&&(w[l]=g===!0?D:1/r.length),u&&(w[u]=k/x[1]),c&&(w[c]=T===r.length-1?m?0:w[u]:I/x[1]),d&&(w[d]=T===0?1:P/x[1]),f&&(w[f]=k)}),r},Ynn=(n,e)=>{var t,i;const r=(i=(t=n[0])===null||t===void 0?void 0:t.latestData)===null||i===void 0?void 0:i.map(s=>Object.assign({},s));return r&&r.length!==0&&(r.shift(),r.forEach(s=>{s[e.asIsTransformLevel]=!0})),r},Knn=`${Xt}_FUNNEL_TRANSFORM_RATIO`,G7=`${Xt}_FUNNEL_REACH_RATIO`,Xnn=`${Xt}_FUNNEL_HEIGHT_RATIO`,UD=`${Xt}_FUNNEL_VALUE_RATIO`,Mme=`${Xt}_FUNNEL_LAST_VALUE_RATIO`,Ime=`${Xt}_FUNNEL_NEXT_VALUE_RATIO`,qnn=`${Xt}_FUNNEL_LAST_VALUE`,Znn=`${Xt}_FUNNEL_CURRENT_VALUE`,Qnn=`${Xt}_FUNNEL_NEXT_VALUE`,Rme=`${Xt}_FUNNEL_TRANSFORM_LEVEL`,Jnn=20,X_=5,ein="80%",tin=0;class nin extends Jl{constructor(e){var t,i;super(e),this.dimensionTooltipTitleCallback=(r,s)=>{var a,o,l;const u=this.series;return((a=s==null?void 0:s.mark)===null||a===void 0?void 0:a.name)==="transform"?this._transformRatioText:(o=this._getDimensionData(r))!==null&&o!==void 0?o:(l=r.properties)===null||l===void 0?void 0:l[`${u.getCategoryField()}`]},this.markTooltipValueCallback=(r,s)=>{var a;return((a=s==null?void 0:s.mark)===null||a===void 0?void 0:a.name)==="transform"?`${(100*(r==null?void 0:r[G7])).toFixed(1)}%`:this._getMeasureData(r)},this.markTooltipKeyCallback=(r,s)=>{var a;if(((a=s==null?void 0:s.mark)===null||a===void 0?void 0:a.name)==="transform")return this._transformRatioText;const{dimensionFields:o,seriesFields:l}=this._seriesCacheInfo,u=o[o.length-1];return Y(l[0])?r==null?void 0:r[l[0]]:r==null?void 0:r[u]},this._transformRatioText=(i=(t=e.getSpec())===null||t===void 0?void 0:t.transformRatioText)!==null&&i!==void 0?i:""}}class iin extends Mu{_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{points:[]})}}class aP extends iin{constructor(){super(...arguments),this.type=aP.type}_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{lineWidth:0})}}aP.type="polygon";const qRe=()=>{ne.registerMark(aP.type,aP),pd(),yz(),Xqt(),ne.registerGraphicComponent("polygon",YOe)},rin=Object.assign(Object.assign({},oa),{funnel:{name:"funnel",type:"polygon"},transform:{name:"transform",type:"polygon"},transformLabel:{name:"transformLabel",type:"text"},outerLabel:{name:"outerLabel",type:"text"},outerLabelLine:{name:"outerLabelLine",type:"rule"}});class ZRe extends bl{_transformLabelSpec(e){this._addMarkLabelSpec(e,"funnel"),e.isTransform&&this._addMarkLabelSpec(e,"transform","transformLabel")}}class Sf extends A0{constructor(){super(...arguments),this.type=Ye.funnel,this._funnelMarkName="funnel",this._funnelMarkType="polygon",this._transformMarkName="transform",this._transformMarkType="polygon",this.transformerConstructor=ZRe,this._funnelMark=null,this._funnelTransformMark=null,this._labelMark=null,this._transformLabelMark=null,this._funnelOuterLabelMark={}}getCategoryField(){return this._categoryField}setCategoryField(e){return this._categoryField=e,this._categoryField}getValueField(){return this._valueField}setValueField(e){return this._valueField=e,this._valueField}setAttrFromSpec(){var e,t,i,r,s;super.setAttrFromSpec(),this.setCategoryField(this._spec.categoryField),this.setValueField(this._spec.valueField),this._funnelOrient=(e=this._spec.funnelOrient)!==null&&e!==void 0?e:"top",this._shape=(t=this._spec.shape)!==null&&t!==void 0?t:"trapezoid",this._minLabelLineWidth=(s=(r=(i=this._spec.outerLabel)===null||i===void 0?void 0:i.line)===null||r===void 0?void 0:r.minLength)!==null&&s!==void 0?s:Jnn,this._isHorizontal()?this._funnelAlign=["top","bottom"].includes(this._spec.funnelAlign)?this._spec.funnelAlign:"center":this._funnelAlign=["left","right"].includes(this._spec.funnelAlign)?this._spec.funnelAlign:"center",!this._seriesField&&this._spec.categoryField&&this.setSeriesField(this._spec.categoryField)}initData(){if(super.initData(),!this._data)return;rn(this._dataSet,"funnel",Gnn),rn(this._dataSet,"funnelTransform",Ynn);const e=new Pi(this._dataSet,{name:`${Xt}_series_${this.id}_viewDataTransform`});e.parse([this.getViewData()],{type:"dataview"}),this._viewDataTransform=new Zl(this._option,e)}compile(){var e,t;super.compile(),this._funnelOuterLabelMark&&((e=this._funnelOuterLabelMark.label)===null||e===void 0||e.compile({group:this._rootMark.getProduct()}),(t=this._funnelOuterLabelMark.line)===null||t===void 0||t.compile({group:this._rootMark.getProduct()}))}compileData(){var e;super.compileData(),(e=this._viewDataTransform)===null||e===void 0||e.compile()}getStatisticFields(){const e=[];return e.push({key:this._categoryField,operations:["values"]}),e.push({key:this._valueField,operations:["max","min"]}),e}_statisticViewData(){var e,t,i,r,s,a,o,l,u;super._statisticViewData(),this._data.getDataView().transform({type:"funnel",options:{valueField:this.getValueField(),isCone:this._spec.isCone,asCurrentValue:Znn,asTransformRatio:Knn,asReachRatio:G7,asHeightRatio:Xnn,asValueRatio:UD,asNextValueRatio:Ime,asLastValueRatio:Mme,asLastValue:qnn,asNextValue:Qnn,range:{min:(t=(e=this._spec.range)===null||e===void 0?void 0:e.min)!==null&&t!==void 0?t:(r=(i=this.getViewDataStatistics().latestData)===null||i===void 0?void 0:i[this.getValueField()])===null||r===void 0?void 0:r.min,max:(a=(s=this._spec.range)===null||s===void 0?void 0:s.max)!==null&&a!==void 0?a:(l=(o=this.getViewDataStatistics().latestData)===null||o===void 0?void 0:o[this.getValueField()])===null||l===void 0?void 0:l.max}}}),(u=this._viewDataTransform.getDataView())===null||u===void 0||u.transform({type:"funnelTransform",options:{asIsTransformLevel:Rme}})}initMark(){var e,t,i,r,s,a,o,l;if(this._funnelMark=this._createMark(Object.assign(Object.assign({},Sf.mark.funnel),{name:this._funnelMarkName,type:this._funnelMarkType}),{themeSpec:(e=this._theme)===null||e===void 0?void 0:e.funnel,groupKey:this._seriesField,isSeriesMark:!0,noSeparateStyle:!0},{morph:bg(this._spec,this._funnelMarkName),morphElementKey:this._seriesField}),this._spec.isTransform&&(this._funnelTransformMark=this._createMark(Object.assign(Object.assign({},Sf.mark.transform),{name:this._transformMarkName,type:this._transformMarkType}),{themeSpec:(t=this._theme)===null||t===void 0?void 0:t.transform,noSeparateStyle:!0}),this._funnelTransformMark&&this._funnelTransformMark.setData(this._viewDataTransform)),(r=(i=this._spec)===null||i===void 0?void 0:i.outerLabel)===null||r===void 0?void 0:r.visible){const{line:u}=(s=this._spec.outerLabel)!==null&&s!==void 0?s:{},{line:c}=(o=(a=this._theme)===null||a===void 0?void 0:a.outerLabel)!==null&&o!==void 0?o:{};this._funnelOuterLabelMark.label=this._createMark(Sf.mark.outerLabel,{themeSpec:(l=this._theme)===null||l===void 0?void 0:l.outerLabel,markSpec:this._spec.outerLabel,noSeparateStyle:!0,parent:!1}),this._funnelOuterLabelMark.line=this._createMark(Sf.mark.outerLabelLine,{themeSpec:c,markSpec:u,noSeparateStyle:!0,parent:!1})}}initTooltip(){this._tooltipHelper=new nin(this),this._funnelMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._funnelMark),this._funnelTransformMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._funnelTransformMark)}getDimensionField(){return this._seriesField?[this._seriesField]:[]}getMeasureField(){return[this._valueField]}getGroupFields(){return null}initMarkStyle(){var e,t,i,r;const s=this._funnelMark;s&&this.setMarkStyle(s,{points:u=>this.getPoints(u),visible:u=>Y(u[this._valueField]),fill:this.getColorAttribute()},"normal",Qe.Series);const a=this._funnelTransformMark;a&&this.setMarkStyle(a,{points:u=>this.getPoints(u)},"normal",Qe.Series);const o=this._funnelOuterLabelMark.label;o&&(this.setMarkStyle(o,{text:u=>`${u[this.getCategoryField()]}`,x:u=>this._computeOuterLabelPosition(u).x,y:u=>this._computeOuterLabelPosition(u).y,textAlign:u=>this._computeOuterLabelPosition(u).align,textBaseline:u=>this._computeOuterLabelPosition(u).textBaseline,maxLineWidth:u=>this._computeOuterLabelLimit(u),width:0,height:0},"normal",Qe.Series),Re(this._spec.outerLabel.formatMethod)&&this.setMarkStyle(o,{text:u=>this._spec.outerLabel.formatMethod(`${u[this.getCategoryField()]}`,u)},"normal",Qe.User_Mark));const l=this._funnelOuterLabelMark.line;if(l&&o){this.setMarkStyle(l,{x:c=>this._computeOuterLabelLinePosition(c).x1,y:c=>this._computeOuterLabelLinePosition(c).y1,x1:c=>this._computeOuterLabelLinePosition(c).x2,y1:c=>this._computeOuterLabelLinePosition(c).y2},"normal",Qe.Series);const u=(i=(t=(e=this._spec.outerLabel)===null||e===void 0?void 0:e.line)===null||t===void 0?void 0:t.visible)!==null&&i!==void 0?i:(r=this._spec.outerLabel)===null||r===void 0?void 0:r.visible;Y(u)&&l.setVisible(u)}}initLabelMarkStyle(e){var t;if(!e)return;const i=e.getTarget(),r=e.getComponent();if(i===this._funnelMark){this._labelMark=e,this.setMarkStyle(e,{text:a=>`${a[this.getCategoryField()]} ${a[this.getValueField()]}`,x:a=>this._computeLabelPosition(a).x,y:a=>this._computeLabelPosition(a).y,maxLineWidth:a=>this._computeLabelLimit(a,this._spec.label),stroke:this.getColorAttribute()},"normal",Qe.Series);const s=this.getCompiler().getRootMarks();this._funnelOuterLabelMark.label&&ufe(s,this._funnelOuterLabelMark.label,r),this._funnelOuterLabelMark.line&&ufe(s,this._funnelOuterLabelMark.line,(t=this._funnelOuterLabelMark.label)!==null&&t!==void 0?t:r)}else this._funnelTransformMark&&i===this._funnelTransformMark&&(this._transformLabelMark=e,this.setMarkStyle(e,{text:s=>`${(100*Z2(G7).bind(this)(s)).toFixed(1)}%`,x:s=>this._computeLabelPosition(s).x,y:s=>this._computeLabelPosition(s).y,maxLineWidth:s=>this._computeLabelLimit(s,this._spec.transformLabel)},"normal",Qe.Series))}initAnimation(){var e,t,i,r,s,a,o;const l=(i=(t=(e=this._spec)===null||e===void 0?void 0:e.animationAppear)===null||t===void 0?void 0:t.preset)!==null&&i!==void 0?i:"clipIn";l==="clipIn"&&this._rootMark&&this._rootMark.setAnimationConfig(ei((r=ne.getAnimationInKey("cartesianGroupClip"))===null||r===void 0?void 0:r({direction:()=>this._isHorizontal()?"x":"y",width:()=>{const u=this.getRootMark().getProduct();if(u){const{x1:c,x2:d}=u.AABBBounds;return Math.max(c,d)}return this.getLayoutRect().width},height:()=>{const u=this.getRootMark().getProduct();if(u){const{y1:c,y2:d}=u.AABBBounds;return Math.max(c,d)}return this.getLayoutRect().height},orient:()=>this._isReverse()?"negative":"positive"},l),_i("group",this._spec,this._markAttributeContext))),[(s=this._funnelOuterLabelMark)===null||s===void 0?void 0:s.label].forEach(u=>{u&&u.setAnimationConfig(ei(ne.getAnimationInKey("fadeInOut")(),_i(u.name,this._spec,this._markAttributeContext)))}),[this._funnelMark,this._funnelTransformMark].forEach(u=>{u&&u.setAnimationConfig(ei(ne.getAnimationInKey("funnel")({},l),_i(u.name,this._spec,this._markAttributeContext)))}),!((a=this._funnelOuterLabelMark)===null||a===void 0)&&a.line&&this._funnelOuterLabelMark.line.setAnimationConfig(ei((o=ne.getAnimationInKey("fadeInOut"))===null||o===void 0?void 0:o(),_i("outerLabelLine",this._spec,this._markAttributeContext)))}initGroups(){}getStackGroupFields(){return[]}getStackValueField(){return null}initEvent(){var e;super.initEvent(),(e=this._viewDataTransform.getDataView())===null||e===void 0||e.target.addListener("change",t=>{this._viewDataTransform.updateData()})}getPoints(e){const t=this.isTransformLevel(e),i=this._getMainAxisLength(t)/2;let r,s;t?(r=this._shape==="rect"?this._getSecondaryAxisLength(e[Mme])/2:this._getSecondaryAxisLength(e[UD])/2,s=this._getSecondaryAxisLength(e[UD])/2):(r=this._getSecondaryAxisLength(e[UD])/2,s=this._shape==="rect"?r:this._getSecondaryAxisLength(e[Ime])/2);const{x:a,y:o}=this._getPositionByData(e),l=this._getPolygonPoints([a,o],r,s,r,s,i);return this._funnelAlign!=="center"&&this._adjustPoints(l),l}isTransformLevel(e){return!!(e!=null&&e[Rme])}_buildMarkAttributeContext(){super._buildMarkAttributeContext(),this._markAttributeContext.valueToPosition=this.valueToPosition.bind(this),this._markAttributeContext.getPoints=this.getPoints.bind(this),this._markAttributeContext.isTransformLevel=this.isTransformLevel.bind(this)}valueToPosition(e){var t,i,r;const s=(r=(i=(t=this.getViewData())===null||t===void 0?void 0:t.latestData)===null||i===void 0?void 0:i.find)===null||r===void 0?void 0:r.call(i,a=>a[this._categoryField]===e);return Y(s)?this._getPolygonCenter(this.getPoints(s)):null}dataToPosition(e,t){return t&&!this.isDatumInViewData(e)?null:this.valueToPosition(e[this._categoryField])}dataToPositionX(e){var t;return(t=this.dataToPosition(e))===null||t===void 0?void 0:t.x}dataToPositionY(e){var t;return(t=this.dataToPosition(e))===null||t===void 0?void 0:t.y}dataToPositionZ(e){return 0}_getMainAxisLength(e=!1){var t;const i=this.getViewData().latestData.length,r=this._isHorizontal()?this.getLayoutRect().width:this.getLayoutRect().height,s=!!this._spec.isTransform,a=s?0:(t=this._spec.gap)!==null&&t!==void 0?t:0,o=s?Math.max(0,i-1):0,l=this._spec.heightRatio||.5,u=(r-a*Math.max(0,i-1))/(i+l*o);return e?s?u*l:0:u}_getSecondaryAxisLength(e){const t=Number.isNaN(e)||!Number.isFinite(e)?0:e,i=this._computeMaxSize(),r=this._computeMinSize();return r+(i-r)*t}_getPositionByData(e){var t;const i=(t=this.getViewData().latestData)===null||t===void 0?void 0:t.findIndex(h=>h[this._categoryField]===e[this._categoryField]&&h[yc]===e[yc]);if(!Y(i)||i<0)return{};const r=this.isTransformLevel(e),s=this._isHorizontal(),a=s?this.getLayoutRect().height:this.getLayoutRect().width,o=s?this.getLayoutRect().width:this.getLayoutRect().height,l=a/2;let u=0;const c=this._getMainAxisLength(),d=this._getMainAxisLength(!0);return u+=i*(c+d),u+=r?-d/2:c/2,!this._spec.isTransform&&this._spec.gap&&(u+=this._spec.gap*i),this._isReverse()&&(u=o-u),this._isHorizontal()?{x:u,y:l}:{x:l,y:u}}_getPolygonPoints(e,t,i,r,s,a){const o=e[0],l=e[1];switch(this._funnelOrient){case"left":return[{x:o-a,y:l+t},{x:o-a,y:l-r},{x:o+a,y:l-s},{x:o+a,y:l+i}];case"right":return[{x:o+a,y:l-r},{x:o+a,y:l+r},{x:o-a,y:l+i},{x:o-a,y:l-i}];case"bottom":return[{x:o+t,y:l+a},{x:o-r,y:l+a},{x:o-s,y:l-a},{x:o+i,y:l-a}];default:return[{x:o-t,y:l-a},{x:o+r,y:l-a},{x:o+s,y:l+a},{x:o-i,y:l+a}]}}_getPolygonCenter(e){if(this._isHorizontal()){const r=(e[0].x+e[3].x)/2,s=(e[0].y+e[3].y)/2;return{x:(r+(e[1].x+e[2].x)/2)/2,y:(s+(e[1].y+e[2].y)/2)/2}}const t=(e[0].x+e[3].x)/2,i=(e[0].y+e[3].y)/2;return{x:(t+(e[1].x+e[2].x)/2)/2,y:(i+(e[1].y+e[2].y)/2)/2}}_adjustPoints(e){let t,i,r;return this._isHorizontal()?(r="y",this._funnelOrient==="left"?(t=this._funnelAlign==="bottom"?-e[1].y:e[1].y,i=this._funnelAlign==="bottom"?-e[2].y:e[2].y):(t=this._funnelAlign==="bottom"?-e[0].y:e[0].y,i=this._funnelAlign==="bottom"?-e[3].y:e[3].y)):(r="x",this._funnelOrient==="top"?(t=this._funnelAlign==="left"?e[0].x:-e[0].x,i=this._funnelAlign==="left"?e[3].x:-e[3].x):(t=this._funnelAlign==="left"?e[1].x:-e[1].x,i=this._funnelAlign==="left"?e[2].x:-e[2].x)),e[0][r]-=t,e[1][r]-=t,e[2][r]-=i,e[3][r]-=i,e}_computeLabelPosition(e){const t=this.getPoints(e);return this._getPolygonCenter(t)}_computeLabelLimit(e,t){const i=t==null?void 0:t.limit;if(st(i))return i;const r=this.getPoints(e);return i==="shapeSize"?this._isHorizontal()?Math.abs(r[3].x-r[0].x):(Math.abs(r[0].x-r[1].x)+Math.abs(r[2].x-r[3].x))/2:this._isHorizontal()?Math.abs(r[3].x-r[0].x):void 0}_computeOuterLabelPosition(e){var t,i;let r,s,a=(t=this._spec.outerLabel)===null||t===void 0?void 0:t.position,o="center",l="middle";if(a=this._isHorizontal()?["top","bottom"].includes(a)?a:this._funnelAlign==="bottom"?"top":"bottom":["left","right"].includes(a)?a:this._funnelAlign==="left"?"right":"left",((i=this._spec.outerLabel)===null||i===void 0?void 0:i.alignLabel)!==!1)({x:r,y:s}=this._getPositionByData(e)),a==="left"?(r=0,o="left"):a==="right"?(r=this.getLayoutRect().width,o="right"):a==="top"?(s=0,l="top"):a==="bottom"&&(s=this.getLayoutRect().height,l="bottom");else{const{x2:u,y2:c}=this._computeOuterLabelLinePosition(e);r=u,s=c,a==="left"?(r-=X_,o="right"):a==="right"?(r+=X_,o="left"):a==="top"?(s-=X_,l="bottom"):a==="bottom"&&(s+=X_,l="top")}return{x:r,y:s,align:o,textBaseline:l}}_computeOuterLabelLimit(e){var t,i,r,s,a,o;if(this._isHorizontal())return this._getMainAxisLength(this.isTransformLevel(e));const l=this.getPoints(e),u=(Math.abs(l[0].x-l[1].x)+Math.abs(l[2].x-l[3].x))/2,c=this.getCategoryField(),d=(s=(r=(i=(t=this._labelMark)===null||t===void 0?void 0:t.getComponent())===null||i===void 0?void 0:i.getComponent())===null||r===void 0?void 0:r.find(({attribute:g,type:m})=>{var v;return m==="text"&&((v=g.data)===null||v===void 0?void 0:v[c])===e[c]},!0))===null||s===void 0?void 0:s.AABBBounds,h=d?d.x2-d.x1:0,f=this._funnelOuterLabelMark.line?this._minLabelLineWidth:0;let p=this.getLayoutRect().width-Math.max(u,h);return this._funnelAlign==="center"&&(p/=2),p-f-((o=(a=this._spec.outerLabel)===null||a===void 0?void 0:a.spaceWidth)!==null&&o!==void 0?o:X_)}_computeOuterLabelLinePosition(e){var t,i,r,s,a,o,l,u,c,d;const h=this.getCategoryField(),f=(s=(r=(i=(t=this._funnelOuterLabelMark)===null||t===void 0?void 0:t.label)===null||i===void 0?void 0:i.getGraphics())===null||r===void 0?void 0:r.find(k=>{var P;return((P=k.context.data[0])===null||P===void 0?void 0:P[h])===e[h]}))===null||s===void 0?void 0:s.AABBBounds,p=(o=(a=this._labelMark)===null||a===void 0?void 0:a.getComponent())===null||o===void 0?void 0:o.getComponent(),g=(l=p==null?void 0:p.find(({attribute:k,type:P})=>{var I;return P==="text"&&((I=k.data)===null||I===void 0?void 0:I[h])===e[h]},!0))===null||l===void 0?void 0:l.AABBBounds,m=(u=this._spec.outerLabel)!==null&&u!==void 0?u:{};let v,_,y,x;if(this._isHorizontal()){const k=(c=m.spaceWidth)!==null&&c!==void 0?c:X_,P=this.getPoints(e),I=(Math.abs(P[0].y-P[1].y)+Math.abs(P[2].y-P[3].y))/2;return this._spec.outerLabel.position==="top"||this._funnelAlign==="bottom"?(y=this._getPolygonCenter(P).y-I/2-k,x=m.alignLabel!==!1?(f==null?void 0:f.y2)+k:y-k,v=this._getPolygonCenter(P).x,y-x<this._minLabelLineWidth&&(x=y-this._minLabelLineWidth),_=v):(y=this._getPolygonCenter(P).y+I/2+k,x=m.alignLabel!==!1?(f==null?void 0:f.y1)-k:y+k,v=this._getPolygonCenter(P).x,x-y<this._minLabelLineWidth&&(x=y+this._minLabelLineWidth),_=v),{x1:v,x2:_,y1:y,y2:x}}const w=this.getPoints(e),T=(Math.abs(w[0].x-w[1].x)+Math.abs(w[2].x-w[3].x))/2,E=(g==null?void 0:g.x2)-(g==null?void 0:g.x1)||0,A=(d=m.spaceWidth)!==null&&d!==void 0?d:X_;return this._spec.outerLabel.position==="right"||this._funnelAlign==="left"?(v=this._getPolygonCenter(w).x+Math.max(E/2,T/2)+A,_=m.alignLabel!==!1?(f==null?void 0:f.x1)-A:v+A,y=this._getPolygonCenter(w).y,_-v<this._minLabelLineWidth&&(_=v+this._minLabelLineWidth),x=y):(v=this._getPolygonCenter(w).x-Math.max(E/2,T/2)-A,_=m.alignLabel!==!1?(f==null?void 0:f.x2)+A:v-A,y=this._getPolygonCenter(w).y,v-_<this._minLabelLineWidth&&(_=v-this._minLabelLineWidth),x=y),{x1:v,x2:_,y1:y,y2:x}}_computeMaxSize(){var e;const t=this._isHorizontal()?this.getLayoutRect().height:this.getLayoutRect().width,i=(e=this._spec.maxSize)!==null&&e!==void 0?e:ein;return Fs(i,t)}_computeMinSize(){var e;const t=this._isHorizontal()?this.getLayoutRect().height:this.getLayoutRect().width,i=(e=this._spec.minSize)!==null&&e!==void 0?e:tin;return Fs(i,t)}_isHorizontal(){return this._funnelOrient==="left"||this._funnelOrient==="right"}_isReverse(){return this._funnelOrient==="bottom"||this._funnelOrient==="right"}getDefaultShapeType(){return"square"}getActiveMarks(){return[this._funnelMark]}}Sf.type=Ye.funnel,Sf.mark=rin,Sf.builtInTheme={funnel:jXt},Sf.transformerConstructor=ZRe;const sin=()=>{qRe(),Dh(),jM(),ne.registerSeries(Sf.type,Sf),ne.registerAnimation("funnel",(n,e)=>Object.assign({appear:e==="clipIn"?void 0:{type:"fadeIn"}},Wz)),Wqt(),Zm()},C$=(n,e)=>{const t=(n-e[0])/(e[1]-e[0]||1);return Math.max(0,Math.min(1,t))},T$=n=>{const e=n.filter(i=>i.context.diffState===Qa.update),t=Sa(e.map(i=>{var r,s;return(s=(r=i==null?void 0:i.context)===null||r===void 0?void 0:r.data)===null||s===void 0?void 0:s[0].depth}));return e.filter(i=>{var r,s;return((s=(r=i==null?void 0:i.context)===null||r===void 0?void 0:r.data)===null||s===void 0?void 0:s[0].depth)===t})},Dme=(n,e,t)=>Lt(n)?[e,t]:[Sa(n.map(i=>1*i.getFinalAttribute().startAngle)),js(n.map(i=>1*i.getFinalAttribute().endAngle))],ain=n=>({channel:{startAngle:{from:(e,t)=>{const{startAngle:i,endAngle:r}=n.animationInfo(),s=T$(t.parent.children),a=Dme(s,i,r);return C$(t.getFinalAttribute().startAngle,a)*(r-i)+i},to:(e,t)=>t.getFinalAttribute().startAngle},endAngle:{from:(e,t)=>{const{startAngle:i,endAngle:r}=n.animationInfo(),s=T$(t.parent.children),a=Dme(s,i,r);return C$(t.getFinalAttribute().endAngle,a)*(r-i)+i},to:(e,t)=>t.getFinalAttribute().endAngle},outerRadius:{from:(e,t)=>t.getFinalAttribute().innerRadius,to:(e,t)=>t.getFinalAttribute().outerRadius},innerRadius:{from:(e,t)=>t.getFinalAttribute().innerRadius,to:(e,t)=>t.getFinalAttribute().innerRadius}}}),Lme=n=>[Sa(n.map(e=>1*e.getFinalAttribute().startAngle)),js(n.map(e=>1*e.getFinalAttribute().endAngle))],Fme=n=>({channel:{startAngle:{from:(e,t)=>t.getFinalAttribute().startAngle,to:(e,t)=>{const{startAngle:i,endAngle:r}=n.animationInfo(),s=T$(t.parent.children),a=Lme(s);return C$(t.getFinalAttribute().startAngle,a)*(r-i)+i}},endAngle:{from:(e,t)=>t.getFinalAttribute().endAngle,to:(e,t)=>{const{startAngle:i,endAngle:r}=n.animationInfo(),s=T$(t.parent.children),a=Lme(s);return C$(t.getFinalAttribute().endAngle,a)*(r-i)+i}},outerRadius:{from:(e,t)=>t.getFinalAttribute().outerRadius,to:()=>n.animationInfo().innerRadius},innerRadius:{from:(e,t)=>t.getFinalAttribute().innerRadius,to:()=>n.animationInfo().innerRadius}}}),oin=(n,e)=>{switch(e){case"fadeIn":return{type:"fadeIn"};case"growAngle":return{type:"growAngleIn"};default:return{type:"growRadiusIn"}}},lin=()=>{ne.registerAnimation("sunburst",(n,e)=>({appear:oin(n,e),enter:ain(n),exit:Fme(n),disappear:Fme(n)}))},VM=(n,e={})=>{if(!n)return[];const t=[];return MQ(n,t,e),t},uin=(n,e)=>{if(!n)return n;const t=e(),{width:i,height:r}=t;return new rP(t).layout(n,{width:i,height:r})},cin=10;class din extends Jl{constructor(){super(...arguments),this.markTooltipKeyCallback=e=>e==null?void 0:e[this.series.getDimensionField()[0]]}}var vy;(function(n){n.DrillDown="drillDown",n.DrillUp="drillUp"})(vy||(vy={}));const hin=(n,e)=>{const t=e.info(),i=e.keyField(),r=t==null?void 0:t.key;if(J(r))return n;if(t.type===vy.DrillDown){const s=dIe(n,r,i,"children");return Ae(s)}if(t.type===vy.DrillUp){const s=hIe(n,r,i,"children");if(s)return Ae(s)}return n};class LQ{_getDrillTriggerEvent(e){var t;const{mode:i}=this._drillParams;return(t=Vg(i))===null||t===void 0?void 0:t[e]}_hideTooltip(){const e=this.getChart().getComponentsByType(He.tooltip)[0];e&&e.hideTooltip()}initDrillable(e){this._drillParams=e}initDrillableData(e){const{getRawData:t}=this._drillParams;rn(e,"drillFilter",hin),t().transform({type:"drillFilter",options:{info:()=>this._drillInfo,keyField:()=>this._drillParams.drillField()}})}bindDrillEvent(){const{event:e,getRawData:t,drillField:i}=this._drillParams,r=i();this._getDrillTriggerEvent("start")&&e.on(this._getDrillTriggerEvent("start"),s=>{var a,o,l;if(J(s.datum)||J((a=s.datum)===null||a===void 0?void 0:a[r]))return void this.drillUp();this._hideTooltip();const u=s.datum[r],c=(l=(o=this._drillInfo)===null||o===void 0?void 0:o.path)!==null&&l!==void 0?l:[],d=QXt(t().rawData,u,r,"children");c[c.length-1]===d[d.length-1]?this.drillUp():this.drillDown(d)})}drillDown(e=[]){const{getRawData:t,event:i}=this._drillParams;if(!Oe(e)||Lt(e))return e;const r=e[e.length-1];return this._drillInfo={key:r,path:e,type:vy.DrillDown},t().reRunAllTransform(),i.emit(Et.drill,{value:{path:e,type:vy.DrillDown},model:this}),e}drillUp(){var e,t;const{getRawData:i,event:r}=this._drillParams,s=(t=(e=this._drillInfo)===null||e===void 0?void 0:e.path)!==null&&t!==void 0?t:[];if(!Oe(s)||Lt(s))return s;const a=s.pop();return this._drillInfo={key:a,path:s,type:vy.DrillUp},i().reRunAllTransform(),r.emit(Et.drill,{value:{path:s,type:vy.DrillUp},model:this}),s}}const fin=Object.assign(Object.assign({},oa),{sunburst:{name:"sunburst",type:"arc"}}),FQ=(n,e,t)=>(n.push({key:e,operations:["values"]}),n.push({key:t,operations:["max","min"]}),n.push({key:N7,operations:["max","min","values"]}),n.push({key:T0,operations:["values"]}),n),pin={innerRadius:0,outerRadius:1,startAngle:bQ,endAngle:HIe,gap:0,labelLayout:{align:"center",offset:0,rotate:"radial"},sunburst:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,cursor:"pointer"}},label:{visible:!0,style:{cursor:"pointer",fill:{type:"palette",key:"primaryFontColor"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}};class mm extends zM{constructor(){super(...arguments),this.type=Ye.sunburst}setCategoryField(e){return this._categoryField=e,this._categoryField}getCategoryField(){return this._categoryField}setValueField(e){return this._valueField=e,this._valueField}getValueField(){return this._valueField}getDimensionField(){return[this._categoryField]}getMeasureField(){return[this._valueField]}setAttrFromSpec(){var e;super.setAttrFromSpec(),this.setCategoryField(this._spec.categoryField),this.setValueField(this._spec.valueField),this.setSeriesField((e=this._spec.seriesField)!==null&&e!==void 0?e:T0),this._spec.drill&&this.initDrillable({event:this.event,mode:this._option.mode,drillField:()=>{var t;return(t=this._spec.drillField)!==null&&t!==void 0?t:yc},getRawData:()=>this.getRawData()}),this._startAngle=ar(this._spec.startAngle),this._endAngle=ar(this._spec.endAngle),this._centerX=this._spec.centerX,this._centerY=this._spec.centerY,this._offsetX=this._spec.offsetX,this._offsetY=this._spec.offsetY,this.__innerRadius=this._spec.innerRadius,this.__outerRadius=this._spec.outerRadius,this._gap=this._spec.gap,this._labelLayout=this._spec.labelLayout,this._sunburst=this._spec.sunburst,this._label=this._spec.label,this._labelAutoVisible=this._spec.labelAutoVisible}initData(){super.initData();const e=this.getRawData();e&&(this._spec.drill&&this.initDrillableData(this._dataSet),rn(this._dataSet,"sunburstLayout",uin),rn(this._dataSet,"flatten",VM),e.transform({type:"sunburstLayout",options:()=>{const{innerRadius:t,outerRadius:i,gap:r,label:s}=this._computeLevel();return{nodeKey:this._categoryField,width:this.getLayoutRect().width,height:this.getLayoutRect().height,center:[Y(this._centerX)?this._centerX:this.getLayoutRect().width/2,Y(this._centerY)?this._centerY:this.getLayoutRect().height/2],startAngle:this._startAngle,endAngle:this._endAngle,innerRadius:t,outerRadius:i,gapRadius:r,label:s}}}),e.transform({type:"flatten",options:{callback:t=>{if(t.datum){const i=t.datum[t.depth];return Object.assign(Object.assign({},t),i)}return t}}}))}getStatisticFields(){return FQ(super.getStatisticFields(),this._categoryField,this._valueField)}_addDataIndexAndKey(){const e=this.getRawData();J(e==null?void 0:e.dataSet)||(rn(e.dataSet,"addVChartProperty",X1),e.transform({type:"addVChartProperty",options:{beforeCall:gQ.bind(this),call:Gz}}))}initMark(){this._initArcMark(),this._initLabelMark()}initMarkStyle(){this._initArcMarkStyle(),this._initLabelMarkStyle()}_initArcMark(){if(this._sunburst.visible===!1)return;const e=this._createMark(mm.mark.sunburst,{isSeriesMark:!0});this._sunburstMark=e}_initArcMarkStyle(){J(this._sunburstMark)||this.setMarkStyle(this._sunburstMark,{x:e=>e.x+(Y(this._offsetX)?this._offsetX:0),y:e=>e.y+(Y(this._offsetY)?this._offsetY:0),outerRadius:e=>e.outerRadius,innerRadius:e=>e.innerRadius,startAngle:e=>e.startAngle,endAngle:e=>e.endAngle,fill:this.getColorAttribute()},pt.STATE_NORMAL,Qe.Series)}_initLabelMark(){if(this._label.visible!==!0)return;const e=this._createMark(mm.mark.label,{isSeriesMark:!1});this._labelMark=e}_initLabelMarkStyle(){J(this._labelMark)||this.setMarkStyle(this._labelMark,{visible:e=>{var t;const i=this._labelAutoVisible;return pn(i)&&i.enable===!0?(e.endAngle-e.startAngle)*(e.outerRadius-e.innerRadius)>((t=i==null?void 0:i.circumference)!==null&&t!==void 0?t:cin):this._spec.label.visible},x:e=>{var t;return((t=e.label)===null||t===void 0?void 0:t.x)+(Y(this._offsetX)?this._offsetX:0)},y:e=>{var t;return((t=e.label)===null||t===void 0?void 0:t.y)+(Y(this._offsetY)?this._offsetY:0)},textBaseline:e=>{var t;return(t=e.label)===null||t===void 0?void 0:t.textBaseline},textAlign:e=>{var t;return(t=e.label)===null||t===void 0?void 0:t.textAlign},angle:e=>{var t,i;return(i=(t=e.label)===null||t===void 0?void 0:t.angle)!==null&&i!==void 0?i:0},fontSize:10,text:e=>e.name},pt.STATE_NORMAL,Qe.Series)}initTooltip(){this._tooltipHelper=new din(this),this._sunburstMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._sunburstMark),this._labelMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._labelMark)}initAnimation(){var e,t;const i={animationInfo:()=>({innerRadius:this._computeRadius(Ae(this.__innerRadius))[0],outerRadius:this._computeRadius(Ae(this.__outerRadius))[0],startAngle:Ae(this._startAngle)[0],endAngle:Ae(this._endAngle)[0]})},r=(t=(e=this._spec)===null||e===void 0?void 0:e.animationAppear)===null||t===void 0?void 0:t.preset;this.getMarksInType("arc").forEach(s=>{var a;s.setAnimationConfig(ei((a=ne.getAnimationInKey("sunburst"))===null||a===void 0?void 0:a(i,r),_i(s.name,this._spec,this._markAttributeContext)))}),this.getMarksInType("text").forEach(s=>{var a;s.setAnimationConfig(ei((a=ne.getAnimationInKey("fadeInOut"))===null||a===void 0?void 0:a(),_i(s.name,this._spec,this._markAttributeContext)))})}initEvent(){super.initEvent(),this._spec.drill&&this.bindDrillEvent()}onLayoutEnd(){super.onLayoutEnd(),this._rawData.reRunAllTransform()}_computeRadius(e){return Oe(e)?e.map(t=>this._computeLayoutRadius()*t):this._computeLayoutRadius()*e}_computeLevel(){return{innerRadius:this._computeRadius(this.__innerRadius),outerRadius:this._computeRadius(this.__outerRadius),gap:this._gap,label:this._labelLayout}}getGroupFields(){return[]}getStackGroupFields(){return[]}getStackValueField(){return""}_noAnimationDataKey(e,t){}getActiveMarks(){return[this._sunburstMark]}getMarkData(e){return e!=null&&e.datum?e.datum[e.datum.length-1]:e}}mm.type=Ye.sunburst,mm.mark=fin,mm.builtInTheme={sunburst:pin},Li(mm,LQ);const gin=()=>{ne.registerSeries(mm.type,mm),tS(),Dh(),Zm(),lin()},min=(n,e)=>{if(!n)return n;const t=e(),{width:i,height:r}=t;return i===0||r===0?n:new iP(t).layout(n,{width:i,height:r})};class vin extends Jl{constructor(){super(...arguments),this.markTooltipKeyCallback=e=>e==null?void 0:e[this.series.getDimensionField()[0]]}}const yin=n=>n==="fadeIn"?{type:"fadeIn"}:{type:"growRadiusIn"},_in=()=>{ne.registerAnimation("circlePacking",(n,e)=>({appear:yin(e),enter:{type:"growRadiusIn"},exit:{type:"growRadiusOut"},disappear:{type:"growRadiusOut"}}))},bin=Object.assign(Object.assign({},oa),{circlePacking:{name:"circlePacking",type:"arc"}}),Sin={layoutPadding:5,circlePacking:{visible:!0,style:{cursor:"pointer",lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},label:{visible:!0,style:{cursor:"pointer",fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}};class vm extends Oh{constructor(){super(...arguments),this.type=Ye.circlePacking}setCategoryField(e){return this._categoryField=e,this._categoryField}getCategoryField(){return this._categoryField}setValueField(e){return this._valueField=e,this._valueField}getValueField(){return this._valueField}getDimensionField(){return[this._categoryField]}getMeasureField(){return[this._valueField]}setAttrFromSpec(){var e;super.setAttrFromSpec(),this.setCategoryField(this._spec.categoryField),this.setValueField(this._spec.valueField),this.setSeriesField((e=this._spec.seriesField)!==null&&e!==void 0?e:T0),this._spec.drill&&this.initDrillable({event:this.event,mode:this._option.mode,drillField:()=>{var t;return(t=this._spec.drillField)!==null&&t!==void 0?t:yc},getRawData:()=>this.getRawData()}),this._circlePacking=this._spec.circlePacking,this._label=this._spec.label,this._layoutPadding=this._spec.layoutPadding}initData(){super.initData();const e=this.getRawData();J(e)||(this._spec.drill&&this.initDrillableData(this._dataSet),rn(this._dataSet,"circlePackingLayout",min),rn(this._dataSet,"flatten",VM),e.transform({type:"circlePackingLayout",options:()=>({nodeKey:this._categoryField,padding:this._layoutPadding,includeRoot:!1,width:this.getLayoutRect().width||1,height:this.getLayoutRect().height||1})}),e.transform({type:"flatten",options:{callback:t=>{if(t.datum){const i=t.datum[t.depth];return Object.assign(Object.assign({},t),i)}return t}}}))}_addDataIndexAndKey(){const e=this.getRawData();J(e==null?void 0:e.dataSet)||(rn(e.dataSet,"addVChartProperty",X1),e.transform({type:"addVChartProperty",options:{beforeCall:gQ.bind(this),call:Gz}}))}initMark(){this._initCirclePackingMark(),this._initLabelMark()}initMarkStyle(){this._initCirclePackingMarkStyle(),this._initLabelMarkStyle()}_initCirclePackingMark(){var e;if(((e=this._circlePacking)===null||e===void 0?void 0:e.visible)===!1)return;const t=this._createMark(vm.mark.circlePacking,{isSeriesMark:!0});this._circlePackingMark=t}_initCirclePackingMarkStyle(){J(this._circlePackingMark)||this.setMarkStyle(this._circlePackingMark,{x:e=>e.x,y:e=>e.y,outerRadius:e=>e.radius,innerRadius:0,startAngle:0,endAngle:2*Math.PI,fill:this.getColorAttribute(),zIndex:e=>e.depth},pt.STATE_NORMAL,Qe.Series)}_initLabelMark(){var e;if(((e=this._label)===null||e===void 0?void 0:e.visible)===!1)return;const t=this._createMark(vm.mark.label,{isSeriesMark:!1});this._labelMark=t}_initLabelMarkStyle(){J(this._labelMark)||this.setMarkStyle(this._labelMark,{x:e=>e.x,y:e=>e.y,text:e=>e.key,cursor:"pointer"},pt.STATE_NORMAL,Qe.Series)}getStatisticFields(){return FQ(super.getStatisticFields(),this._categoryField,this._valueField)}initTooltip(){this._tooltipHelper=new vin(this),this._circlePackingMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._circlePackingMark),this._labelMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._labelMark)}initAnimation(){var e;const t=(e=this._spec.animationAppear)===null||e===void 0?void 0:e.preset;this.getMarksInType("arc").forEach(i=>{var r;i.setAnimationConfig(ei((r=ne.getAnimationInKey("circlePacking"))===null||r===void 0?void 0:r(void 0,t),_i(i.name,this._spec,this._markAttributeContext)))}),this.getMarksInType("text").forEach(i=>{var r;i.setAnimationConfig(ei((r=ne.getAnimationInKey("scaleInOut"))===null||r===void 0?void 0:r(),_i(i.name,this._spec,this._markAttributeContext)))})}initEvent(){super.initEvent(),this._spec.drill&&this.bindDrillEvent()}onLayoutEnd(){super.onLayoutEnd(),this._rawData.reRunAllTransform()}_noAnimationDataKey(e,t){}getActiveMarks(){return[this._circlePackingMark]}getMarkData(e){return e!=null&&e.datum?e.datum[e.datum.length-1]:e}}vm.type=Ye.circlePacking,vm.mark=bin,vm.builtInTheme={circlePacking:Sin},Li(vm,LQ);const xin=()=>{ne.registerSeries(vm.type,vm),tS(),Dh(),Uz(),_in()},QRe=(n,e,t)=>{e.forEach(i=>{J(i[t])||n.add(i[t]),i.children&&i.children.length>0&&QRe(n,i.children,t)})},win=n=>{var e;if(!n||!Oe(n))return[];if(n.length>1){const t={links:[],nodes:[]};return n.forEach(i=>{i.id!=="links"&&i.id!=="nodes"||(t[i.id]=i.values)}),[t]}return!((e=n[0])===null||e===void 0)&&e.latestData?n[0].latestData:n},Cin=(n,e)=>{if(!n||!(e!=null&&e.view)||!n.length)return[];const t=e.view();if(t.x1-t.x0==0||t.y1-t.y0==0||t.x1-t.x0==-1/0||t.x1-t.x0==1/0||t.y1-t.y0==-1/0||t.y1-t.y0==1/0)return[];const i=n[0];if((e.sourceField!=="source"||e.targetField!=="target"||e.valueField!=="value")&&i.links){const a=[];i.links.forEach(o=>{const l={};for(const u in o)u===e.sourceField?l.source=o[e.sourceField]:u===e.targetField?l.target=o[e.targetField]:u===e.valueField?l.value=o[e.valueField]:l[u]=o[u];a.push(l)}),i.links=a}const r=new oH(e),s=[];return s.push(r.layout(i,t)),s},Tin=n=>{var e,t;return n&&Oe(n)&&(!((e=n[0])===null||e===void 0)&&e.latestData)&&n[0].latestData.length&&n[0].latestData[0]&&(t=n[0].latestData[0].nodes)!==null&&t!==void 0?t:[]},Ein=n=>{var e,t;return n&&Oe(n)&&(!((e=n[0])===null||e===void 0)&&e.latestData)&&n[0].latestData.length&&n[0].latestData[0]&&(t=n[0].latestData[0].links)!==null&&t!==void 0?t:[]};class Ain extends Jl{constructor(){super(...arguments),this._getDimensionData=e=>{if(e.source){if(st(e.source)){const t=this.series.getSeriesKeys();return t[e.source]+" => "+t[e.target]}return e.source+" => "+e.target}return e.datum?e.datum[this.series.getSpec().categoryField]:e.key},this.markTooltipValueCallback=e=>e.value}}const kin=(n,e=!0)=>({type:n.direction==="horizontal"?"growWidthIn":"growHeightIn",options:{overall:e&&n.growFrom(),orient:"positive"}}),Oin=(n,e)=>e==="fadeIn"?{type:"fadeIn"}:kin(n),Pin=n=>n==="fadeIn"?{type:"fadeIn"}:{type:"linkPathGrowIn"},Min=(n,e,t)=>{const i={x0:n.getFinalAttribute().x0,x1:n.getFinalAttribute().x1,y0:n.getFinalAttribute().y0,y1:n.getFinalAttribute().y1,thickness:n.getFinalAttribute().thickness};return{from:Object.assign({},i,{x1:i.x0,y1:i.y0}),to:i}},Iin=(n,e,t)=>{const i={x0:n.getFinalAttribute().x0,x1:n.getFinalAttribute().x1,y0:n.getFinalAttribute().y0,y1:n.getFinalAttribute().y1,thickness:n.getFinalAttribute().thickness};return{from:i,to:Object.assign({},i,{x1:i.x0,y1:i.y0})}};class Rin extends Dr{onBind(){var e,t,i;super.onBind(),!((e=this.params)===null||e===void 0)&&e.diffAttrs&&this.target.setAttributes(this.params.diffAttrs);const{from:r,to:s}=Min(this.target,this.params.options,this.params),a=(i=(t=this.target.context)===null||t===void 0?void 0:t.lastAttrs)!==null&&i!==void 0?i:r,o=this.target.getFinalAttribute();o&&Object.assign(this.target.attribute,o),this.props=s,this.propKeys=Object.keys(s).filter(l=>s[l]!=null),this.animate.reSyncProps(),this.from=a,this.to=s,this.target.setAttributes(a)}onUpdate(e,t,i){const r=this.target.attribute;this.propKeys.forEach(s=>{r[s]=this.from[s]+(this.to[s]-this.from[s])*t}),this.target.setAttributes(r)}}class Din extends Dr{onBind(){var e,t,i;super.onBind(),!((e=this.params)===null||e===void 0)&&e.diffAttrs&&this.target.setAttributes(this.params.diffAttrs);const{from:r,to:s}=Iin(this.target,this.params.options,this.params),a=(i=(t=this.target.context)===null||t===void 0?void 0:t.lastAttrs)!==null&&i!==void 0?i:r;this.props=s,this.propKeys=Object.keys(s).filter(o=>s[o]!=null),this.animate.reSyncProps(),this.from=a,this.to=s,this.target.setAttributes(a)}onUpdate(e,t,i){const r=this.target.attribute;this.propKeys.forEach(s=>{r[s]=this.from[s]+(this.to[s]-this.from[s])*t}),this.target.setAttributes(r)}}const Lin=()=>{ne.registerAnimation("sankeyNode",(n,e)=>Object.assign({appear:Oin(n,e)},Wz)),ne.registerAnimation("sankeyLinkPath",(n,e)=>({appear:Pin(e),enter:{type:"linkPathGrowIn"},exit:{type:"linkPathGrowOut"},disappear:{type:"linkPathGrowOut"}})),_n.registerBuiltInAnimate("linkPathGrowOut",Din),_n.registerBuiltInAnimate("linkPathGrowIn",Rin)},Fin=(n,e)=>{var t;const i=(t=n.curvature)!==null&&t!==void 0?t:.5,r=typeof e=="number"?n.thickness*e:n.thickness;let s=n.x0,a=n.x1,o=n.y0,l=n.y1,u=s+i*(a-s),c=a+i*(s-a),d=v=>v;n.round!==!1&&(s=Math.round(s),a=Math.round(a),o=Math.round(o),l=Math.round(l),u=Math.round(u),c=Math.round(c),d=Math.round),n.pathType==="line"||n.pathType,n.align==="center"?(o=d(n.y0-r/2),l=d(n.y1-r/2)):n.align==="end"?(o=d(n.y0+n.thickness/2-r),l=d(n.y1+n.thickness/2-r)):(o=d(n.y0-n.thickness/2),l=d(n.y1-n.thickness/2));const h=d(o+r),f=d(l+r),p=Math.abs(a-s)>1e-6,g=n.endArrow&&p?`L${a},${d(l-r/2)}L${d(a+r)},${d((l+f)/2)}L${a},${d(f+r/2)}`:"",m=n.startArrow&&p?`L${s},${d(h+r/2)}L${d(s-r)},${d((o+h)/2)}L${s},${d(o-r/2)}`:"";return n.pathType==="line"?`M${s},${o}L${a},${l}${g}L${a},${f}L${s},${h}${m}Z`:n.pathType==="polyline"?`M${s},${o}L${u},${o}L${u},${l}L${a},${l}
    ${g}L${a},${f}L${u},${f}L${u},${h}L${s},${h}${m}Z`:`M${s},${o}C${u},${o},${c},${l},${a},${l}
  ${g}L${a},${f}C${c},${f},${u},${h},${s},${h}${m}Z`},Bin=(n,e)=>{var t;const i=(t=n.curvature)!==null&&t!==void 0?t:.5,r=typeof e=="number"?n.thickness*e:n.thickness;let s=n.y0,a=n.y1,o=n.x0,l=n.x1,u=s+i*(a-s),c=a+i*(s-a),d=v=>v;n.round!==!1&&(d=Math.round,s=Math.round(s),a=Math.round(a),o=Math.round(o),l=Math.round(l),u=Math.round(u),c=Math.round(c)),n.pathType==="line"||n.pathType,n.align==="center"?(o=d(n.x0-r/2),l=d(n.x1-r/2)):n.align==="end"?(o=d(n.x0+n.thickness/2-r),l=d(n.x1+n.thickness/2-r)):(o=d(n.x0-n.thickness/2),l=d(n.x1-n.thickness/2));const h=d(o+r),f=d(l+r),p=Math.abs(a-s)>1e-6,g=n.endArrow&&p?`L${d(l-r/2)},${a}L${d((l+f)/2)},${d(a+r)}L${d(f+r/2)},${a}`:"",m=n.startArrow&&p?`L${d(h+r/2)},${s}L${d((h+o)/2)},${d(s-r)}L${d(o-r/2)},${s}`:"";return n.pathType==="line"?`M${o},${s}L${l},${a}${g}L${f},${a}L${h},${s}${m}Z`:n.pathType==="polyline"?`M${o},${s}L${o},${u}L${l},${u}L${l},${a}
    ${g}L${f},${a}L${f},${u}L${h},${u}L${h},${s}${m}Z`:`M${o},${s}C${o},${u},${l},${c},${l},${a}
  ${g}L${f},${a}C${f},${c},${h},${u},${h},${s}${m}Z`};class oP extends kQ{constructor(){super(...arguments),this.type=oP.type,this._subMarks={back:{type:"path",defaultAttributes:{zIndex:0}},front:{type:"path",defaultAttributes:{zIndex:1}}},this._positionChannels=["x0","y0","x1","y1","thickness","round","curvature","ratio","pathType","align","endArrow","startArrow","ratio"],this._channelEncoder={backgroundStyle:e=>({back:e})},this._positionEncoder=(e,t,i)=>{var r,s;const a=Object.assign(Object.assign({},i.attribute),e),o=(r=a.direction)!==null&&r!==void 0?r:(s=this._glyphConfig)===null||s===void 0?void 0:s.direction,l=["vertical","TB","BT"].includes(o)?Bin:Fin,u=typeof a.ratio=="number"&&a.ratio>=0&&a.ratio<=1;return{back:{path:u?l(a,1):""},front:{path:l(a,u?a.ratio:1)}}}}_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{x:0,y:0,x0:0,y0:0,x1:100,y1:100,thickness:1,round:!0})}}oP.type="linkPath";const $in=()=>{OQ(),G1(),ne.registerGraphicComponent("path",n=>AZ(n)),ne.registerMark(oP.type,oP)},Nin=Object.assign(Object.assign({},oa),{node:{name:"node",type:"rect"},link:{name:"link",type:"linkPath"}});class JRe extends bl{_transformLabelSpec(e){this._addMarkLabelSpec(e,"node")}}const ux=(n,e,t,i=!0,r)=>{n.runtimeStateCache||(n.runtimeStateCache={}),n.runtimeStateCache[e]=t,n.hasState(e)&&n.removeState(e),n.addState(e,i,r)},jin={link:{style:{fillOpacity:.15,round:!0}}};class ym extends Oh{constructor(){super(...arguments),this.type=Ye.sankey,this.transformerConstructor=JRe,this._nodeLayoutZIndex=ji.Node,this._labelLayoutZIndex=ji.Label,this._viewBox=new Xo,this._fillByNode=e=>{var t,i,r,s,a;if(e&&e.sourceRect&&e.targetRect)return this._fillByLink(e);const o=(i=(t=this._spec.node)===null||t===void 0?void 0:t.style)===null||i===void 0?void 0:i.fill;if(Y(o))return o;if(Y(this._spec.seriesField)){const l=(s=(r=this._option)===null||r===void 0?void 0:r.globalScale)===null||s===void 0?void 0:s.getScale("color"),u=e!=null&&e.datum?e.datum:e;return l==null?void 0:l.scale(u==null?void 0:u[this._spec.seriesField])}return(a=this._colorScale)===null||a===void 0?void 0:a.scale(this._getNodeNameFromData(e))},this._fillByLink=e=>{var t,i,r,s,a,o;const l=(i=(t=this._spec.link)===null||t===void 0?void 0:t.style)===null||i===void 0?void 0:i.fill;if(l)return l;if(Y(this._spec.seriesField)){const c=(r=this._nodesSeriesData.latestData)===null||r===void 0?void 0:r.find(f=>e.source===f.key),d=c==null?void 0:c.datum,h=(a=(s=this._option)===null||s===void 0?void 0:s.globalScale)===null||a===void 0?void 0:a.getScale("color");return h==null?void 0:h.scale(d==null?void 0:d[this._spec.seriesField])}const u=st(e.source)?this.getNodeList()[e.source]:e.source;return(o=this._colorScale)===null||o===void 0?void 0:o.scale(u)},this._handleEmphasisElement=e=>{var t;const i=(t=this._spec.emphasis)!==null&&t!==void 0?t:{},r=e.item;i.effect==="adjacency"?r&&e.mark===this._nodeMark?this._handleNodeAdjacencyClick(r):r&&e.mark===this._linkMark?this._handleLinkAdjacencyClick(r):this._handleClearEmpty():i.effect==="related"&&(r&&e.mark===this._nodeMark?this._handleNodeRelatedClick(r):r&&e.mark===this._linkMark?this._handleLinkRelatedClick(r):this._handleClearEmpty())},this._handleClearEmpty=()=>{var e,t;if(!this._needClear)return;const i=(e=this._nodeMark)===null||e===void 0?void 0:e.getGraphics();if(!i||!i.length)return;const r=(t=this._linkMark)===null||t===void 0?void 0:t.getGraphics();r&&r.length&&(i.forEach(s=>{s.removeState(pt.STATE_SANKEY_EMPHASIS),s.removeState(pt.STATE_SANKEY_EMPHASIS_REVERSE)}),r.forEach(s=>{s.removeState(pt.STATE_SANKEY_EMPHASIS),s.removeState(pt.STATE_SANKEY_EMPHASIS_REVERSE)}),this._needClear=!1)},this._handleNodeAdjacencyClick=e=>{const t=ka(e),i=[t.key];if(this._linkMark){const r=this._linkMark.getGraphics();if(!r||!r.length)return;r.forEach((s,a)=>{const o=ka(s);o.source===t.key?(i.includes(o.target)||i.push(o.target),s.removeState(pt.STATE_SANKEY_EMPHASIS_REVERSE),s.addState(pt.STATE_SANKEY_EMPHASIS,!0)):o.target===t.key?(i.includes(o.source)||i.push(o.source),s.removeState(pt.STATE_SANKEY_EMPHASIS_REVERSE),s.addState(pt.STATE_SANKEY_EMPHASIS,!0)):(s.removeState(pt.STATE_SANKEY_EMPHASIS),s.addState(pt.STATE_SANKEY_EMPHASIS_REVERSE,!0))})}this._nodeMark&&this._highLightElements(this._nodeMark.getGraphics(),i),this._needClear=!0},this._handleLinkAdjacencyClick=e=>{const t=ka(e),i=[t.source,t.target];if(this._linkMark){const r=this._linkMark.getGraphics();if(!r||!r.length)return;r.forEach(s=>{s===e?(s.removeState(pt.STATE_SANKEY_EMPHASIS_REVERSE),ux(s,pt.STATE_SANKEY_EMPHASIS,{ratio:1})):(s.removeState(pt.STATE_SANKEY_EMPHASIS),s.addState(pt.STATE_SANKEY_EMPHASIS_REVERSE,!0))})}this._nodeMark&&this._highLightElements(this._nodeMark.getGraphics(),i),this._needClear=!0},this._handleNodeRelatedClick=e=>{var t;const i=ka(e),r=this._nodeMark.getGraphics();if(!r||!r.length)return;const s=this._linkMark.getGraphics();if(!s||!s.length)return;const a=!((t=ka(s[0]))===null||t===void 0)&&t.parents?"parents":"source";if(a==="source"){const o=[i.key],l=[];if(s.forEach((u,c)=>{var d,h,f,p;const g=ka(u),m=g!=null&&g.parents?"parents":"source";if(Ae(g[m]).includes(i.key)){if(l.includes((d=g.key)!==null&&d!==void 0?d:g.index)||l.push((h=g.key)!==null&&h!==void 0?h:g.index),o.includes(g.source)||o.push(g.source),!o.includes(g.target)){o.push(g.target);let v=r.find(_=>_.data[0].key===g.target).data[0].sourceLinks;for(;(v==null?void 0:v.length)>0;){const _=[];return v.forEach(y=>{var x,w;if(!l.includes((x=y.key)!==null&&x!==void 0?x:y.index)&&(l.push((w=y.key)!==null&&w!==void 0?w:y.index),!o.includes(y.target))){o.push(y.target);const T=r.find(E=>E.data[0].key===y.target);_.push(T.data[0].targetLinks)}}),void(v=_)}}}else if(g.target===i.key&&(l.includes((f=g.key)!==null&&f!==void 0?f:g.index)||l.push((p=g.key)!==null&&p!==void 0?p:g.index),!o.includes(g.source))){o.push(g.source);let v=r.find(_=>_.data[0].key===g.source).data[0].targetLinks;for(;(v==null?void 0:v.length)>0;){const _=[];return v.forEach(y=>{var x,w;if(!l.includes((x=y.key)!==null&&x!==void 0?x:y.index)&&(l.push((w=y.key)!==null&&w!==void 0?w:y.index),!o.includes(y.source))){o.push(y.source);const T=r.find(E=>E.data[0].key===y.source);_.push(T.data[0].targetLinks)}}),void(v=_)}}}),this._linkMark){const u=this._linkMark.getGraphics();if(!u||!u.length)return;u.forEach((c,d)=>{var h;const f=ka(c);l.includes((h=f.key)!==null&&h!==void 0?h:f.index)?(c.removeState(pt.STATE_SANKEY_EMPHASIS_REVERSE),c.addState(pt.STATE_SANKEY_EMPHASIS,!0)):(c.removeState(pt.STATE_SANKEY_EMPHASIS),c.addState(pt.STATE_SANKEY_EMPHASIS_REVERSE,!0))})}this._nodeMark&&this._highLightElements(this._nodeMark.getGraphics(),o)}else{const o=[i.key],l=i.targetLinks.reduce((u,c)=>(Ae(c.datum).forEach(d=>{const h=d.parents,f=h.length;for(let p=0;p<f;p++){const g=h[p].key,m=h[p+1]?h[p+1].key:i.key,v=d.value,_=u.find(y=>y.source===g&&y.target===m);_?_.value+=v:u.push({source:g,target:m,value:v})}}),u),[]);s.forEach((u,c)=>{const d=ka(u),h=d.datum,f=h?h.filter(g=>g[a].some(m=>m.key===i.key)):null,p=l.find(g=>g.source===d.source&&g.target===d.target);if(f&&f.length){o.includes(d.source)||o.push(d.source),o.includes(d.target)||o.push(d.target);const g=f.reduce((m,v)=>m+v.value,0)/d.value;return u.removeState(pt.STATE_SANKEY_EMPHASIS_REVERSE),void ux(u,pt.STATE_SANKEY_EMPHASIS,{ratio:g})}if(p)return o.includes(d.source)||o.push(d.source),o.includes(d.target)||o.push(d.target),u.removeState(pt.STATE_SANKEY_EMPHASIS_REVERSE),void ux(u,pt.STATE_SANKEY_EMPHASIS,{ratio:p.value/d.value});u.removeState(pt.STATE_SANKEY_EMPHASIS),u.addState(pt.STATE_SANKEY_EMPHASIS_REVERSE,!0)}),this._nodeMark&&this._highLightElements(this._nodeMark.getGraphics(),o)}this._needClear=!0},this._handleLinkRelatedClick=e=>{const t=this._nodeMark.getGraphics();if(!t||!t.length)return;const i=this._linkMark.getGraphics();if(!(!i||!i.length)){if((ka(e)?"parents":"source")=="source")this._linkMark&&i.forEach(r=>{r.removeState(pt.STATE_SANKEY_EMPHASIS),r.removeState(pt.STATE_SANKEY_EMPHASIS_REVERSE)}),this._nodeMark&&t.forEach(r=>{r.removeState(pt.STATE_SANKEY_EMPHASIS),r.removeState(pt.STATE_SANKEY_EMPHASIS_REVERSE)});else{const r=ka(e),s=[r.source,r.target],a=[];Ae(r.datum).forEach(o=>{const l=o.parents,u=l.length;for(let c=0;c<u-1;c++){const d=l[c].key,h=l[c+1].key,f=o.value,p=a.find(g=>g.source===d&&g.target===h);a.push({source:l[c].key,target:l[c+1].key,value:o.value}),p?p.value+=f:a.push({source:d,target:h,value:f})}}),i.forEach(o=>{const l=ka(o),u=l.datum;if(l.source===r.source&&l.target===r.target)return o.removeState(pt.STATE_SANKEY_EMPHASIS_REVERSE),void ux(o,pt.STATE_SANKEY_EMPHASIS,{ratio:1});const c=u?u.filter(h=>{const f=h.parents.map(p=>p.key);return f.includes(r.source)&&f.includes(r.target)}):null;if(c&&c.length){s.includes(l.source)||s.push(l.source),s.includes(l.target)||s.push(l.target);const h=c.filter(f=>f.parents.some((p,g)=>{var m;return p.key===r.source&&((m=f.parents[g+1])===null||m===void 0?void 0:m.key)===r.target})).reduce((f,p)=>f+p.value,0)/l.value;return o.removeState(pt.STATE_SANKEY_EMPHASIS_REVERSE),void ux(o,pt.STATE_SANKEY_EMPHASIS,{ratio:h})}const d=a.find(h=>h.source===l.source&&h.target===l.target);if(d)return s.includes(l.source)||s.push(l.source),s.includes(l.target)||s.push(l.target),o.removeState(pt.STATE_SANKEY_EMPHASIS_REVERSE),void ux(o,pt.STATE_SANKEY_EMPHASIS,{ratio:d.value/l.value});o.removeState(pt.STATE_SANKEY_EMPHASIS),o.addState(pt.STATE_SANKEY_EMPHASIS_REVERSE,!0)}),this._highLightElements(t,s)}this._needClear=!0}}}get direction(){var e;return(e=this._spec.direction)!==null&&e!==void 0?e:"horizontal"}getCategoryField(){return this._categoryField}setCategoryField(e){return this._categoryField=e,this._categoryField}getValueField(){return this._valueField}setValueField(e){return this._valueField=e,this._valueField}setAttrFromSpec(){var e;super.setAttrFromSpec(),this.setCategoryField(this._spec.categoryField),this.setValueField(this._spec.valueField),this.setSeriesField((e=this._spec.seriesField)!==null&&e!==void 0?e:this._spec.categoryField)}initData(){var e,t,i,r;super.initData();const s=this.getViewData(),a=this.getRawData();if(a&&s){rn(this._dataSet,"sankeyLayout",Cin),rn(this._dataSet,"sankeyFormat",win),a.transform({type:"sankeyFormat"},!1),s.transform({type:"sankeyLayout",options:{view:()=>({x0:this._viewBox.x1,x1:this._viewBox.x2,y0:this._viewBox.y1,y1:this._viewBox.y2}),sourceField:this._spec.sourceField,targetField:this._spec.targetField,valueField:this._spec.valueField,direction:this.direction,crossNodeAlign:this._spec.crossNodeAlign,nodeAlign:(e=this._spec.nodeAlign)!==null&&e!==void 0?e:"justify",nodeGap:(t=this._spec.nodeGap)!==null&&t!==void 0?t:8,nodeWidth:(i=this._spec.nodeWidth)!==null&&i!==void 0?i:10,linkWidth:this._spec.linkWidth,minStepWidth:this._spec.minStepWidth,minNodeHeight:(r=this._spec.minNodeHeight)!==null&&r!==void 0?r:4,maxNodeHeight:this._spec.maxNodeHeight,minLinkHeight:this._spec.minLinkHeight,maxLinkHeight:this._spec.maxLinkHeight,iterations:this._spec.iterations,nodeKey:this._spec.nodeKey,linkSortBy:this._spec.linkSortBy,nodeSortBy:this._spec.nodeSortBy,setNodeLayer:this._spec.setNodeLayer,dropIsolatedNode:this._spec.dropIsolatedNode,nodeHeight:this._spec.nodeHeight,linkHeight:this._spec.linkHeight,equalNodeHeight:this._spec.equalNodeHeight,linkOverlap:this._spec.linkOverlap,inverse:this._spec.inverse},level:og.sankeyLayout});const{dataSet:o}=this._option;rn(o,"sankeyNodes",Tin),rn(o,"flatten",VM);const l=new Pi(o,{name:`sankey-node-${this.id}-data`});l.parse([this.getViewData()],{type:"dataview"}),l.transform({type:"sankeyNodes"}),l.transform({type:"flatten",options:{callback:c=>{if(c.datum){const d=c.datum[c.depth];return Object.assign(Object.assign({},c),d)}return c}}},!1),l.transform({type:"addVChartProperty",options:{beforeCall:UC.bind(this),call:E0}},!1),this._nodesSeriesData=l,rn(o,"sankeyLinks",Ein);const u=new Pi(o,{name:`sankey-link-${this.id}-data`});u.parse([this.getViewData()],{type:"dataview"}),u.transform({type:"sankeyLinks"}),u.transform({type:"addVChartProperty",options:{beforeCall:UC.bind(this),call:E0}},!1),this._linksSeriesData=u}}compileData(){var e,t;super.compileData(),(e=this._linkMark)===null||e===void 0||e.compileData(),(t=this._nodeMark)===null||t===void 0||t.compileData()}initMark(){this._rootMark.setMarkConfig({overflow:this._spec.overflow,interactive:!!this._spec.overflow});const e=this._createMark(ym.mark.node,{isSeriesMark:!0,dataView:this._nodesSeriesData});e&&(e.setMarkConfig({zIndex:this._nodeLayoutZIndex}),this._nodeMark=e);const t=this._createMark(ym.mark.link,{dataView:this._linksSeriesData});t&&(this._linkMark=t)}_buildMarkAttributeContext(){super._buildMarkAttributeContext(),this._markAttributeContext.valueToNode=this.valueToNode.bind(this),this._markAttributeContext.valueToLink=this.valueToLink.bind(this)}valueToNode(e){const t=this._nodesSeriesData.latestData,i=Ae(e)[0];return t&&t.find(r=>r.key===i)}valueToLink(e){const t=this._linksSeriesData.latestData,i=Ae(e);return t&&t.find(r=>r&&r.source===i[0]&&r.target===i[1])}valueToPositionX(e){const t=this.valueToNode(e);return t==null?void 0:t.x0}valueToPositionY(e){const t=this.valueToNode(e);return t==null?void 0:t.y0}initMarkStyle(){this._initNodeMarkStyle(),this._initLinkMarkStyle()}_initNodeMarkStyle(){var e,t;const i=this._nodeMark;i&&(this.setMarkStyle(i,{x:r=>r.x0,x1:r=>r.x1,y:r=>r.y0,y1:r=>r.y1},pt.STATE_NORMAL,Qe.Mark),this.setMarkStyle(i,{fill:(t=(e=this._spec.node.style)===null||e===void 0?void 0:e.fill)!==null&&t!==void 0?t:this._fillByNode},"normal",Qe.User_Mark))}_initLinkMarkStyle(){var e,t;const i=this._linkMark;i&&(i.setGlyphConfig({direction:this.direction}),this.setMarkStyle(i,{x0:r=>r.x0,x1:r=>r.x1,y0:r=>r.y0,y1:r=>r.y1,thickness:r=>r.thickness},pt.STATE_NORMAL,Qe.Series),this.setMarkStyle(i,{fill:(t=(e=this._spec.link.style)===null||e===void 0?void 0:e.fill)!==null&&t!==void 0?t:this._fillByLink},"normal",Qe.User_Mark))}initLabelMarkStyle(e,t){if(!e)return;const i=t.position;i&&i.includes("inside")?this.setMarkStyle(e,{fill:"#ffffff",text:r=>this._createText(r,t),maxLineWidth:r=>{var s;return(s=t.limit)!==null&&s!==void 0?s:r.x1-r.x0}}):this.setMarkStyle(e,{fill:this._fillByNode,text:r=>this._createText(r,t),maxLineWidth:t.limit}),e.setMarkConfig({zIndex:this._labelLayoutZIndex})}_createText(e,t){if(J(e)||J(e.datum))return"";let i=e.datum[this._spec.categoryField]||"";const{formatMethod:r,formatter:s}=t||{},{formatFunc:a,args:o}=zm(r,s,i,e.datum);return a&&(i=a(...o,{series:this})),i}initAnimation(){var e,t,i,r;const s={direction:this.direction,growFrom:()=>{var o,l;return this.direction==="horizontal"?(o=this._xAxisHelper)===null||o===void 0?void 0:o.getScale(0).scale(0):(l=this._yAxisHelper)===null||l===void 0?void 0:l.getScale(0).scale(0)}},a=(t=(e=this._spec)===null||e===void 0?void 0:e.animationAppear)===null||t===void 0?void 0:t.preset;this._nodeMark&&this._nodeMark.setAnimationConfig(ei((i=ne.getAnimationInKey("sankeyNode"))===null||i===void 0?void 0:i(s,a),_i("node",this._spec,this._markAttributeContext))),this._linkMark&&this._linkMark.setAnimationConfig(ei((r=ne.getAnimationInKey("sankeyLinkPath"))===null||r===void 0?void 0:r(s,a),_i("link",this._spec,this._markAttributeContext)))}initEvent(){var e,t,i;super.initEvent(),(e=this._nodesSeriesData)===null||e===void 0||e.target.addListener("change",this.nodesSeriesDataUpdate.bind(this)),(t=this._linksSeriesData)===null||t===void 0||t.target.addListener("change",this.linksSeriesDataUpdate.bind(this));const r=(i=this._spec.emphasis)!==null&&i!==void 0?i:{};if(this._option.disableTriggerEvent!==!0&&r.enable&&(r.effect==="adjacency"||r.effect==="related")){const s=r.trigger==="hover"?"pointerover":"pointerdown";this.event.on(s,{level:yr.chart},this._handleEmphasisElement)}}nodesSeriesDataUpdate(){this._nodeMark.getData().updateData(),this._nodeList=null,this._setNodeOrdinalColorScale()}linksSeriesDataUpdate(){this._linkMark.getData().updateData()}_highLightElements(e,t){e&&e.length&&e.forEach(i=>{i.removeState([pt.STATE_SANKEY_EMPHASIS_REVERSE,pt.STATE_SANKEY_EMPHASIS]),t.includes(ka(i).key)?i.addState(pt.STATE_SANKEY_EMPHASIS,!0):i.addState(pt.STATE_SANKEY_EMPHASIS_REVERSE,!0)})}initTooltip(){this._tooltipHelper=new Ain(this),this._nodeMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._nodeMark),this._linkMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._linkMark)}_setNodeOrdinalColorScale(){var e,t,i,r,s;const a=(t=(e=this._option)===null||e===void 0?void 0:e.globalScale)===null||t===void 0?void 0:t.getScale("color");if(a!=null&&a._specified)return void(this._colorScale=a);let o,l;a&&(o=a.domain(),l=a.range()),l||(l=this._getDataScheme()),o&&!J(o[0])||(o=this.getNodeList(),o&&o.length>10&&(l=(i=this._getDataScheme()[1])===null||i===void 0?void 0:i.scheme));const u=new RM;(s=(r=u.domain(o)).range)===null||s===void 0||s.call(r,l),this._colorScale=u}getNodeList(){var e,t;if(this._nodeList)return this._nodeList;const i=this._rawData.latestData[0],r=i!=null&&i.nodes?!((e=i.nodes[0])===null||e===void 0)&&e.children?Array.from(this.extractNamesFromTree(i.nodes,this._spec.categoryField)):i.nodes.map((s,a)=>s[this._spec.categoryField]):i!=null&&i.links?Array.from(this.extractNamesFromLink(i.links)):(t=i==null?void 0:i.values)===null||t===void 0?void 0:t.map((s,a)=>s[this._spec.categoryField]);return this._nodeList=r,r}_getNodeNameFromData(e){var t;return e!=null&&e.datum?e.datum[this._spec.categoryField]:(t=e.key)!==null&&t!==void 0?t:e[this._spec.categoryField]}extractNamesFromTree(e,t){const i=new Set;return e.forEach(r=>{i.add(r[t]),r.children&&this.extractNamesFromTree(r.children,t).forEach(s=>i.add(s))}),i}extractNamesFromLink(e){const t=new Set,{sourceField:i,targetField:r}=this._spec;return e.forEach(s=>{Y(s[i])&&t.add(s[i]),Y(s[r])&&t.add(s[r])}),t}getDimensionField(){return[this._spec.categoryField]}getMeasureField(){return[this._valueField]}getRawDataStatisticsByField(e,t){var i;return this._rawStatisticsCache||(this._rawStatisticsCache={}),!this._rawStatisticsCache[e]&&(this._viewDataStatistics&&this.getViewData().transformsArr.length<=1&&(!((i=this._viewDataStatistics.latestData)===null||i===void 0)&&i[e])?this._rawStatisticsCache[e]=this._viewDataStatistics.latestData[e]:this._rawData&&(this._rawStatisticsCache[e]={values:this._collectByField(e)})),this._rawStatisticsCache[e]}_collectByField(e){var t,i,r;const s=[],a=(i=(t=this.getRawData())===null||t===void 0?void 0:t.latestData)===null||i===void 0?void 0:i[0];if(!a)return[];if(a.links)!((r=a.nodes)===null||r===void 0)&&r.length&&a.nodes.forEach(o=>{o[this._seriesField]&&s.push(o[this._seriesField])});else if(a.nodes){const o=new Set;return QRe(o,a.nodes,this._seriesField),Array.from(o)}return s}onLayoutEnd(){super.onLayoutEnd(),this._viewBox.set(0,0,this._region.getLayoutRect().width,this._region.getLayoutRect().height),this.getViewData().reRunAllTransform()}getDefaultShapeType(){return"square"}_noAnimationDataKey(e,t){}getActiveMarks(){return[this._nodeMark,this._linkMark]}getMarkData(e){return e.datum?Oe(e.datum)?e.datum[e.datum.length-1]:e.datum:e}}ym.type=Ye.sankey,ym.transformerConstructor=JRe,ym.mark=Nin,ym.builtInTheme={sankey:jin};const zin=()=>{Jm(),$in(),Dh(),Lin(),Zm(),ne.registerSeries(ym.type,ym)},Bme=(n,e)=>{let t={},i=e.fields;if(Re(i)&&(i=i()),!(i!=null&&i.length)||!(n!=null&&n.length)||!n[0].latestData)return t;const r=n[0].latestData,s=VM(r);return t=$7([{latestData:s}],e),t};class Hin extends Jl{constructor(){super(...arguments),this.markTooltipKeyCallback=e=>{var t,i;return(i=(t=this.series)===null||t===void 0?void 0:t.getMarkData(e))===null||i===void 0?void 0:i[this.series.getDimensionField()[0]]},this.markTooltipValueCallback=e=>{var t,i;const{measureFields:r}=this._seriesCacheInfo,s=(t=this.series)===null||t===void 0?void 0:t.getMarkData(e);if(r[0]&&s)return(i=s[r[0]])!==null&&i!==void 0?i:e.value},this.dimensionTooltipTitleCallback=e=>{var t;const{dimensionFields:i}=this._seriesCacheInfo,r=(t=this.series)===null||t===void 0?void 0:t.getMarkData(e);if(i[0]&&r)return r[i[0]]}}get defaultShapeType(){return"square"}}const Vin=Object.assign(Object.assign({},oa),{nonLeaf:{name:"nonLeaf",type:"rect"},leaf:{name:"leaf",type:"rect"},nonLeafLabel:{name:"nonLeafLabel",type:"text"}}),Win=n=>n==="fadeIn"?{type:"fadeIn"}:{type:"growCenterIn"},Uin=()=>{ne.registerAnimation("treemap",(n,e)=>({appear:Win(e),enter:{type:"growCenterIn"},exit:{type:"growCenterOut"},disappear:{type:"growCenterOut"}}))};class eDe extends bl{_transformLabelSpec(e){this._addMarkLabelSpec(e,"nonLeaf","nonLeafLabel","initNonLeafLabelMarkStyle"),this._addMarkLabelSpec(e,"leaf")}}const Gin=()=>{ne.registerGrammarTransform("filter",{transform:(n,e)=>e==null?void 0:e.filter(n.callback)})},Yin=()=>{ne.registerGrammarTransform("map",{transform:(n,e)=>(e==null||e.forEach((t,i)=>{n.callback(t)}),e)})},Kin=(n,e)=>{if(e.getViewBox()){const t=new uH(e).layout(n,e.getViewBox()),i=[];return MQ(t,i,{maxDepth:e==null?void 0:e.maxDepth}),i.forEach((r,s)=>{r&&[T0,"name"].forEach(a=>{r[a]=r.datum[r.depth][e.nameField]})}),i}return[]},Xin={gapWidth:1,nodePadding:[5],nonLeaf:{visible:!1,style:{fillOpacity:.5}},label:{style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},nonLeafLabel:{padding:24,style:{fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},textBaseline:"middle",textAlign:"center"}}};class of extends Oh{constructor(){super(...arguments),this.type=Ye.treemap,this.transformerConstructor=eDe,this._categoryField="name",this._valueField="value",this._viewBox=new Xo,this._enableAnimationHook=this.enableMarkAnimation.bind(this),this.isHierarchyData=()=>!0}getCategoryField(){return this._categoryField}setCategoryField(e){return this._categoryField=e,this._categoryField}getValueField(){return this._valueField}setValueField(e){return this._valueField=e,this._valueField}setAttrFromSpec(){var e;super.setAttrFromSpec(),this.setCategoryField(this._spec.categoryField),this.setValueField(this._spec.valueField),this.setSeriesField((e=this._spec.seriesField)!==null&&e!==void 0?e:T0),this._spec.roam&&(this.initZoomable(this.event,this._option.mode),this._matrix=new Rr),this._spec.drill&&this.initDrillable({event:this.event,mode:this._option.mode,drillField:()=>{var t,i;return(i=(t=this._spec.drillField)!==null&&t!==void 0?t:this._categoryField)!==null&&i!==void 0?i:yc},getRawData:()=>this.getRawData()}),Me(this._spec.maxDepth)&&(this._maxDepth=this._spec.maxDepth-1)}initData(){var e,t,i,r,s;super.initData(),rn(this._dataSet,"treemap",Kin),(e=this._data.getDataView())===null||e===void 0||e.transform({type:"treemap",options:{nameField:this._categoryField,valueField:this._valueField,getViewBox:()=>this._viewBox.empty()?null:{x0:this._viewBox.x1,x1:this._viewBox.x2,y0:this._viewBox.y1,y1:this._viewBox.y2},maxDepth:this._maxDepth,gapWidth:this._spec.gapWidth,padding:this._spec.nodePadding,splitType:this._spec.splitType,aspectRatio:this._spec.aspectRatio,labelPadding:!((t=this._spec.nonLeafLabel)===null||t===void 0)&&t.visible?(i=this._spec.nonLeafLabel)===null||i===void 0?void 0:i.padding:0,labelPosition:(r=this._spec.nonLeafLabel)===null||r===void 0?void 0:r.position,minVisibleArea:(s=this._spec.minVisibleArea)!==null&&s!==void 0?s:10,minChildrenVisibleArea:this._spec.minChildrenVisibleArea,minChildrenVisibleSize:this._spec.minChildrenVisibleSize}}),this.getViewData()&&this._spec.drill&&this.initDrillableData(this._dataSet)}_runTreemapTransform(e=!1){this._data.getDataView().reRunAllTransform(),e&&this.getCompiler().renderNextTick()}_addDataIndexAndKey(){var e;!((e=this._rawData)===null||e===void 0)&&e.dataSet&&(rn(this._rawData.dataSet,"addVChartProperty",X1),this._rawData.transform({type:"addVChartProperty",options:{beforeCall:gQ.bind(this),call:Gz}}))}getRawDataStatisticsByField(e,t){var i;if(this._rawStatisticsCache||(this._rawStatisticsCache={}),!this._rawStatisticsCache[e]&&this._rawData){const r=Bme([this._rawData],{fields:[{key:e,operations:t?["min","max"]:["values"]}]})[e];this._rawStatisticsCache[e]=We((i=this._rawStatisticsCache[e])!==null&&i!==void 0?i:{},r)}return this._rawStatisticsCache[e]}_createHierarchyDataStatistics(e,t){rn(this._dataSet,"hierarchyDimensionStatistics",Bme),rn(this._dataSet,"flatten",VM);const i=new Pi(this._dataSet,{name:e});return i.parse(t,{type:"dataview"}),i.transform({type:"hierarchyDimensionStatistics",options:{fields:()=>{const r=this.getStatisticFields();return this._seriesField&&this._seriesField!==this._categoryField&&r.push({key:this._seriesField,operations:["values"]}),r}}},!1),i}getStatisticFields(){return FQ(super.getStatisticFields(),this._categoryField,this._valueField)}initMark(){const e=this._createMark(of.mark.nonLeaf,{isSeriesMark:!0});e&&(e.setTransform([{type:"filter",callback:i=>!this._shouldFilterElement(i,"nonLeaf")}]),this._nonLeafMark=e);const t=this._createMark(of.mark.leaf,{isSeriesMark:!0});t&&(t.setTransform([{type:"filter",callback:i=>!this._shouldFilterElement(i,"leaf")}]),this._leafMark=t)}initMarkStyle(){this._initLeafMarkStyle(),this._initNonLeafMarkStyle()}_initLeafMarkStyle(){this._leafMark&&this.setMarkStyle(this._leafMark,{x:e=>e.x0,y:e=>e.y0,x1:e=>e.x1,y1:e=>e.y1,fill:this.getColorAttribute()},pt.STATE_NORMAL,Qe.Series)}_initNonLeafMarkStyle(){this._nonLeafMark&&this.setMarkStyle(this._nonLeafMark,{x:e=>e.x0,y:e=>e.y0,x1:e=>e.x1,y1:e=>e.y1,fill:this.getColorAttribute()},pt.STATE_NORMAL,Qe.Series)}_initRichStyleOfLabelMark(e){e.getTextType()==="rich"&&this.setMarkStyle(e,{maxWidth:t=>Math.abs(t.x0-t.x1),maxHeight:t=>Math.abs(t.y0-t.y1),ellipsis:!0},pt.STATE_NORMAL,Qe.Series)}initLabelMarkStyle(e){e&&(this._labelMark=e,e.setRule("treemap"),this.setMarkStyle(e,{x:t=>(t.x0+t.x1)/2,y:t=>(t.y0+t.y1)/2,text:t=>{var i;return(i=t.datum[t.depth])===null||i===void 0?void 0:i[this.getDimensionField()[0]]},maxLineWidth:t=>t.x1===t.x0?Number.MIN_VALUE:t.x1-t.x0},pt.STATE_NORMAL,Qe.Series),this._initRichStyleOfLabelMark(e))}initNonLeafLabelMarkStyle(e){e&&(this._nonLeafLabelMark=e,e.setRule("treemap"),this.setMarkStyle(e,{x:t=>t.labelRect?(t.labelRect.x0+t.labelRect.x1)/2:(t.x0+t.x1)/2,y:t=>t.labelRect?(t.labelRect.y0+t.labelRect.y1)/2:(t.y0+t.y1)/2,text:t=>{var i;return(i=t.datum[t.depth])===null||i===void 0?void 0:i[this.getDimensionField()[0]]},maxLineWidth:t=>t.x1===t.x0?Number.MIN_VALUE:t.x1-t.x0},pt.STATE_NORMAL,Qe.Series),this._initRichStyleOfLabelMark(e))}initAnimation(){this.getMarksInType("rect").forEach(e=>{var t;e.setAnimationConfig(ei((t=ne.getAnimationInKey("treemap"))===null||t===void 0?void 0:t(),_i(e.name,this._spec,this._markAttributeContext)))})}initEvent(){super.initEvent(),this._spec.roam&&(this.initDragEventOfSeries(this),this.event.on("panmove",e=>{this.handlePan(e)}),this.initZoomEventOfSeries(this),this.event.on("zoom",e=>{this.handleZoom(e)})),this._spec.drill&&this.bindDrillEvent()}_getDataIdKey(){return"key"}initTooltip(){this._tooltipHelper=new Hin(this),this._leafMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._leafMark),this._nonLeafMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._nonLeafMark)}_shouldFilterElement(e,t){const i=e.isLeaf;return t==="leaf"?!i:i}handlePan(e){const{delta:t}=e;if(t[0]===0&&t[1]===0)return;this._matrix.reset(),this._matrix.translate(t[0],t[1]);const{a:i,b:r,c:s,d:a,e:o,f:l}=this._matrix;this._matrix.multiply(i,r,s,a,o,l),this._viewBox.transformWithMatrix(this._matrix),this._runTreemapTransform(!0)}handleZoom(e){const{scale:t,scaleCenter:i}=e;if(t===1)return;this._matrix.reset();const{x:r,y:s}=i;this._matrix.translate(r,s),this._matrix.scale(t,t),this._matrix.translate(-r,-s);const{a,b:o,c:l,d:u,e:c,f:d}=this._matrix;this._matrix.multiply(a,o,l,u,c,d),this.disableMarkAnimation(),this.event.on(Rf.AFTER_DO_RENDER,this._enableAnimationHook),this._viewBox.transformWithMatrix(this._matrix),this._runTreemapTransform(!0)}getDimensionField(){return[this._categoryField]}getMeasureField(){return[this._valueField]}onLayoutEnd(){super.onLayoutEnd(),this._viewBox.set(0,0,this.getLayoutRect().width,this.getLayoutRect().height),this._runTreemapTransform()}enableMarkAnimation(){this.getMarks().forEach(e=>{}),[this._labelMark,this._nonLeafLabelMark].forEach(e=>{e&&e.getComponent()&&e.getComponent().getProduct().enableAnimation()}),this.event.off(Rf.AFTER_DO_RENDER,this._enableAnimationHook)}disableMarkAnimation(){this.getMarks().forEach(e=>{}),[this._labelMark,this._nonLeafLabelMark].forEach(e=>{e&&e.getComponent()&&e.getComponent().getProduct().disableAnimation()})}getDefaultShapeType(){return"square"}getActiveMarks(){return[this._nonLeafMark,this._leafMark]}getMarkData(e){return e!=null&&e.datum?e.datum[e.datum.length-1]:e}}of.type=Ye.treemap,of.mark=Vin,of.builtInTheme={treemap:Xin},of.transformerConstructor=eDe,Li(of,LQ),Li(of,iH);const qin=()=>{Gin(),Yin(),Jm(),Dh(),Uin(),Zm(),ne.registerSeries(of.type,of)},Zin=Object.assign(Object.assign({},PQ),{segment:{name:"segment",type:"arc"},track:{name:"track",type:"arc"}}),Qin=Object.assign(Object.assign({},oa),{pin:{name:"pin",type:"path"},pinBackground:{name:"pinBackground",type:"path"},pointer:{name:"pointer",type:["path","rect"]}}),Jin=n=>({channel:{angle:{from:n.startAngle+Math.PI/2}}}),ern={type:"fadeIn"};function trn(n,e){return e==="fadeIn"?ern:Jin(n)}const nrn=()=>{ne.registerAnimation("gaugePointer",(n,e)=>{const t=trn(n,e);return{appear:t,enter:t,disappear:{type:"fadeOut"}}})};class tDe extends bl{constructor(){super(...arguments),this._supportStack=!1}}class irn extends Jl{enableByType(e){return e!=="dimension"}}const rrn="M-0.020059 -0.978425 C-0.018029 -0.9888053 -0.013378 -1 0 -1 C0.01342 -1 0.01812 -0.989146 0.0201 -0.978425 C0.02161 -0.9702819 0.0692 -0.459505 0.09486 -0.184807 C0.10298 -0.097849 0.1089 -0.034548 0.11047 -0.018339 C0.11698 0.04908 0.07373 0.11111 0.00002 0.11111 C-0.07369 0.11111 -0.117184 0.04991 -0.110423 -0.018339 C-0.103662 -0.086591 -0.022089 -0.9680447 -0.020059 -0.978425Z",$me="M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",srn={pointer:{type:"path",width:.4,height:.4,style:{path:rrn}},pin:{width:.025,height:.025,style:{path:$me,fill:"#888"}},pinBackground:{width:.06,height:.06,style:{path:$me,fill:"#ddd"}}};class Yp extends Z1{constructor(){super(...arguments),this.type=Ye.gaugePointer,this.transformerConstructor=tDe,this._pinMark=null,this._pointerMark=null,this._pinBackgroundMark=null}setAttrFromSpec(){var e;super.setAttrFromSpec(),this.setRadiusField(this._spec.radiusField),this._pointerType=((e=this._spec.pointer)===null||e===void 0?void 0:e.type)==="rect"?"rect":"path"}initMark(){this._pinBackgroundMark=this._createMark(Yp.mark.pinBackground),this._pointerMark=this._createMark(Object.assign(Object.assign({},Yp.mark.pointer),{type:this._pointerType}),{isSeriesMark:!0}),this._pinMark=this._createMark(Yp.mark.pin)}initMarkStyle(){this.initPinBackgroundMarkStyle(),this.initPointerMarkStyle(),this.initPinMarkStyle()}initGroups(){}initPointerMarkStyle(){const e=this._pointerMark,t=this._spec.pointer;e&&(this.setMarkStyle(e,{x:i=>{var r,s;const{x:a}=this._getPointerAnchor(i,t);return a-this._getPointerWidth()*((s=(r=t==null?void 0:t.center)===null||r===void 0?void 0:r[0])!==null&&s!==void 0?s:0)},y:i=>{var r,s;const{y:a}=this._getPointerAnchor(i,t);return a-this._getPointerHeight(i)*((s=(r=t==null?void 0:t.center)===null||r===void 0?void 0:r[1])!==null&&s!==void 0?s:0)},anchor:i=>{const{x:r,y:s}=this._getPointerAnchor(i,t);return[r,s]},fill:this.getColorAttribute(),zIndex:200}),this._pointerType==="path"?this.setMarkStyle(e,{scaleX:this._getPointerWidth.bind(this),scaleY:this._getPointerHeight.bind(this),angle:i=>this._getPointerAngle(i)+Math.PI/2}):this.setMarkStyle(e,{width:this._getPointerWidth.bind(this),height:this._getPointerHeight.bind(this),angle:i=>this._getPointerAngle(i)-Math.PI/2}))}initTooltip(){this._tooltipHelper=new irn(this),this._pointerMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._pointerMark)}_getPointerAnchor(e,t){var i;return(i=t.isOnCenter)===null||i===void 0||i?this.angleAxisHelper.center():this.radiusAxisHelper.coordToPoint({radius:this._innerRadius*this._computeLayoutRadius(),angle:this.angleAxisHelper.dataToPosition([e[this._angleField[0]]])})}_getPointerWidth(){return this._spec.pointer.width*this._computeLayoutRadius()}_getPointerHeight(e){var t,i;const r=this._spec.pointer,s=this._radiusField[0];return Y(this.radiusAxisHelper)&&Y(s)?this.radiusAxisHelper.dataToPosition([e[s]])-((t=r==null?void 0:r.innerPadding)!==null&&t!==void 0?t:0)-((i=r==null?void 0:r.outerPadding)!==null&&i!==void 0?i:10):r.height*this._computeLayoutRadius()}_getPointerAngle(e){const t=this.angleAxisHelper.getScale().domain(),i=js(t),r=Sa(t),s=ki(e[this._angleField[0]],r,i);return this.angleAxisHelper.dataToPosition([s])}_getRotatedPointerCenterOffset(e){var t,i,r,s;const a=this._spec.pointer,o=this._getPointerWidth()*((i=(t=a==null?void 0:a.center)===null||t===void 0?void 0:t[0])!==null&&i!==void 0?i:0),l=-this._getPointerHeight(e)*((s=(r=a==null?void 0:a.center)===null||r===void 0?void 0:r[1])!==null&&s!==void 0?s:0),u=this._getPointerAngle(e)-Math.PI/2,c=Math.cos(u),d=Math.sin(u);return{x:o*c+l*d,y:-(l*c-o*d)}}initPinBackgroundMarkStyle(){const e=this._pinBackgroundMark,t=this._spec.pinBackground;e&&this.setMarkStyle(e,{x:i=>this._getPointerAnchor(i,t).x,y:i=>this._getPointerAnchor(i,t).y,scaleX:()=>t.width*this._computeLayoutRadius(),scaleY:()=>t.height*this._computeLayoutRadius(),fill:this.getColorAttribute(),zIndex:100})}initPinMarkStyle(){const e=this._pinMark,t=this._spec.pin;e&&this.setMarkStyle(e,{x:i=>this._getPointerAnchor(i,t).x,y:i=>this._getPointerAnchor(i,t).y,scaleX:()=>t.width*this._computeLayoutRadius(),scaleY:()=>t.height*this._computeLayoutRadius(),fill:this.getColorAttribute(),zIndex:300})}getInteractionTriggers(){return this._parseInteractionConfig(this._pointerMark?[this._pointerMark]:[])}initAnimation(){var e,t,i;const r=(t=(e=this._spec)===null||e===void 0?void 0:e.animationAppear)===null||t===void 0?void 0:t.preset;this._pointerMark.setAnimationConfig(ei((i=ne.getAnimationInKey("gaugePointer"))===null||i===void 0?void 0:i({startAngle:this._startAngle},r),_i("pointer",this._spec,this._markAttributeContext)))}getDefaultShapeType(){return"circle"}getActiveMarks(){return[]}}Yp.type=Ye.gaugePointer,Yp.mark=Qin,Yp.builtInTheme={gaugePointer:srn},Yp.transformerConstructor=tDe;const arn=()=>{ne.registerSeries(Yp.type,Yp),EQ(),Jm(),nrn(),HM(),q1()};class nDe extends bl{constructor(){super(...arguments),this._supportStack=!1}_transformLabelSpec(e){this._addMarkLabelSpec(e,"segment")}}const orn={outerRadius:.8,innerRadius:.6,padAngle:1.146,segment:{style:{fillOpacity:1}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}};class _m extends Z1{constructor(){super(...arguments),this.type=Ye.gauge,this.transformerConstructor=nDe,this._segmentMark=null,this._trackMark=null,this._padAngle=0}setAttrFromSpec(){var e;super.setAttrFromSpec(),this._padAngle=ar((e=this._spec.padAngle)!==null&&e!==void 0?e:0)}initData(){var e;super.initData(),rn(this._option.dataSet,"spiltSegment",(t,i)=>{const r=t.slice();return r.sort((s,a)=>s[this._angleField[0]]-a[this._angleField[0]]),r.forEach((s,a)=>{s[dW]=s[this._angleField[0]],s[J2]=a>0?r[a-1][dW]:void 0}),r}),(e=this.getViewData())===null||e===void 0||e.transform({type:"spiltSegment"},!1)}initMark(){super.initMark(),this._trackMark=this._createMark(_m.mark.track,{parent:this._arcGroupMark,dataView:!1}),this._segmentMark=this._createMark(_m.mark.segment,{parent:this._arcGroupMark,isSeriesMark:!0})}initMarkStyle(){super.initMarkStyle(),this.initTrackMarkStyle(),this.initSegmentMarkStyle()}initSegmentMarkStyle(){var e;const t=this._segmentMark;t&&this.setMarkStyle(t,{x:()=>this.angleAxisHelper.center().x,y:()=>this.angleAxisHelper.center().y,startAngle:this._getAngleValueStart.bind(this),endAngle:this._getAngleValueEnd.bind(this),innerRadius:()=>{var i;return this._computeLayoutRadius()*((i=this._spec.innerRadius)!==null&&i!==void 0?i:0)},outerRadius:()=>{var i,r;return this._computeLayoutRadius()*((r=(i=this._spec.radius)!==null&&i!==void 0?i:this._spec.outerRadius)!==null&&r!==void 0?r:1)},cap:(e=this._spec.roundCap)!==null&&e!==void 0&&e,boundsMode:"imprecise",cornerRadius:this._spec.cornerRadius,fill:this.getColorAttribute(),zIndex:200,forceShowCap:!0})}generateRadiusStyle(e){if(!e)return;const t={};return e.outerRadius&&(t.outerRadius=()=>this._computeLayoutRadius()*e.outerRadius),e.innerRadius&&(t.innerRadius=()=>this._computeLayoutRadius()*e.innerRadius),t}initMarkStyleWithSpec(e,t){if(super.initMarkStyleWithSpec(e,t),e&&e.name==="segment"){const i=this.getSpec().segment;if(i)for(const r in i.state||{})this.setMarkStyle(e,this.generateRadiusStyle(i.state[r]),r,Qe.User_Mark)}}initTooltip(){super.initTooltip(),this._segmentMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._segmentMark)}initTrackMarkStyle(){var e;const t=this._trackMark;t&&this.setMarkStyle(t,{x:()=>this.angleAxisHelper.center().x,y:()=>this.angleAxisHelper.center().y,startAngle:this._startAngle,endAngle:this._endAngle,innerRadius:()=>{var i;return this._computeLayoutRadius()*((i=this._spec.innerRadius)!==null&&i!==void 0?i:0)},outerRadius:()=>{var i,r;return this._computeLayoutRadius()*((r=(i=this._spec.radius)!==null&&i!==void 0?i:this._spec.outerRadius)!==null&&r!==void 0?r:1)},cap:(e=this._spec.roundCap)!==null&&e!==void 0&&e,boundsMode:"imprecise",cornerRadius:this._spec.cornerRadius,zIndex:100})}_getAngleValueStartWithoutMask(e){const t=this._getAngleValueStartWithoutPadAngle(e),i=this._getAngleValueEndWithoutPadAngle(e),r=AC(t,(t+i)/2)(t+(i>t?1:-1)*Math.abs(this._padAngle/2));return this._spec.clamp?xi(r,this.angleAxisHelper.getScale(0)):r}_getAngleValueEndWithoutMask(e){const t=this._getAngleValueStartWithoutPadAngle(e),i=this._getAngleValueEndWithoutPadAngle(e),r=AC(i,(t+i)/2)(i-(i>t?1:-1)*Math.abs(this._padAngle/2));return this._spec.clamp?xi(r,this.angleAxisHelper.getScale(0)):r}_getAngleValueStartWithoutPadAngle(e){return Y(e[J2])?this.angleAxisHelper.dataToPosition([e[J2]]):this._startAngle}_getAngleValueEndWithoutPadAngle(e){return this.angleAxisHelper.dataToPosition([e[dW]])}initAnimation(){var e,t,i;const r=(t=(e=this._spec)===null||e===void 0?void 0:e.animationAppear)===null||t===void 0?void 0:t.preset;this._segmentMark.setAnimationConfig(ei((i=ne.getAnimationInKey("circularProgress"))===null||i===void 0?void 0:i({startAngle:this._startAngle},r),_i("segment",this._spec,this._markAttributeContext)))}getDefaultShapeType(){return"circle"}getActiveMarks(){return[]}}_m.type=Ye.gauge,_m.mark=Zin,_m.builtInTheme={gauge:orn},_m.transformerConstructor=nDe;const lrn=()=>{ne.registerSeries(_m.type,_m),tS(),IRe(),q1()};class lP extends Mu{constructor(){super(...arguments),this.type=lP.type}_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{fill:void 0,lineWidth:0,padding:0})}_createGraphic(e={}){return H1(e)}_transformGraphicAttributes(e,t,i){var r,s,a;const o=super._transformGraphicAttributes(e,t,i),l=(s=(r=o.shape)!==null&&r!==void 0?r:o.symbolType)!==null&&s!==void 0?s:(a=e.attribute)===null||a===void 0?void 0:a.symbolType;return J(l)?o.symbolType="rect":o.symbolType=l,o}}lP.type="cell";const urn=()=>{ne.registerMark(lP.type,lP),ne.registerGraphicComponent("symbol",H1),pd(),gd(),Pz()};function crn(n){return n===!1?{}:{type:"fadeIn"}}const drn=()=>{ne.registerAnimation("heatmap",(n,e)=>Object.assign(Object.assign({},Wz),{appear:crn(e)}))};class hrn extends Jl{enableByType(e){return e!=="dimension"}}const frn=Object.assign(Object.assign({},oa),{cell:{name:"cell",type:"cell"},cellBackground:{name:"cellBackground",type:"cell"}});class iDe extends bl{_transformLabelSpec(e){this._addMarkLabelSpec(e,"cell")}}const prn={cell:{style:{shape:"square",fillOpacity:1}},cellBackground:{visible:!1}};class Kp extends Oh{constructor(){super(...arguments),this.type=Ye.heatmap,this.transformerConstructor=iDe}getFieldValue(){return this._fieldValue}setFieldValue(e){this._fieldValue=Ae(e)}setAttrFromSpec(){super.setAttrFromSpec(),this.setFieldValue(this._spec.valueField)}initMark(){this._cellMark=this._createMark(Kp.mark.cell,{isSeriesMark:!0},{morph:bg(this._spec,Kp.mark.cell.name),morphElementKey:this.getDimensionField()[0]}),this._backgroundMark=this._createMark(Kp.mark.cellBackground)}initMarkStyle(){this.initCellMarkStyle(),this.initCellBackgroundMarkStyle()}initLabelMarkStyle(e){e&&this.setMarkStyle(e,{fill:this.getColorAttribute(),text:t=>t[this.getMeasureField()[0]]})}initCellMarkStyle(){this.setMarkStyle(this._cellMark,{x:e=>this.dataToPositionX(e),y:e=>this.dataToPositionY(e),size:()=>[this.getCellSize(this._xAxisHelper),this.getCellSize(this._yAxisHelper)],fill:this.getColorAttribute()},"normal",Qe.Series)}initCellBackgroundMarkStyle(){var e,t,i;const r=gl((i=(t=(e=this._spec.cellBackground)===null||e===void 0?void 0:e.style)===null||t===void 0?void 0:t.padding)!==null&&i!==void 0?i:0);this.setMarkStyle(this._backgroundMark,{x:s=>{const a=this.getCellSize(this._xAxisHelper);return this.dataToPositionX(s)-a/2+r[3]},y:s=>{const a=this.getCellSize(this._yAxisHelper);return this.dataToPositionY(s)-a/2+r[0]},width:()=>this.getCellSize(this._xAxisHelper)-r[1]-r[3],height:()=>this.getCellSize(this._yAxisHelper)-r[0]-r[2]},"normal",Qe.Series)}getColorAttribute(){var e;return{scale:(e=this._option.globalScale.getScale("color"))!==null&&e!==void 0?e:this._getDefaultColorScale(),field:this.getFieldValue[0]}}getInteractionTriggers(){return this._parseInteractionConfig(this._cellMark?[this._cellMark]:[])}initAnimation(){var e,t,i;const r=(t=(e=this._spec)===null||e===void 0?void 0:e.animationAppear)===null||t===void 0?void 0:t.preset,s=c_(this);this._cellMark.setAnimationConfig(ei((i=ne.getAnimationInKey("heatmap"))===null||i===void 0?void 0:i(r),_i("cell",this._spec,this._markAttributeContext),s))}getCellSize(e){var t,i;return(i=(t=e.getBandwidth)===null||t===void 0?void 0:t.call(e,0))!==null&&i!==void 0?i:6}initTooltip(){this._tooltipHelper=new hrn(this),this._cellMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._cellMark)}getDefaultShapeType(){return"square"}getDimensionField(){return[].concat(this.fieldX,this.fieldY)}getMeasureField(){return this.getFieldValue()}getActiveMarks(){return[this._cellMark]}}Kp.type=Ye.heatmap,Kp.mark=frn,Kp.builtInTheme={heatmap:prn},Kp.transformerConstructor=iDe;const grn=()=>{Dh(),urn(),drn(),Mh(),Ph(),ne.registerSeries(Kp.type,Kp)},mrn=Object.assign(Object.assign({},oa),{nodePoint:{name:"nodePoint",type:"symbol"},ripplePoint:{name:"ripplePoint",type:"ripple"},centerPoint:{name:"centerPoint",type:"symbol"},centerLabel:{name:"centerLabel",type:"text"}}),rDe=`${Xt}_CORRELATION_X`,sDe=`${Xt}_CORRELATION_Y`,aDe=`${Xt}_CORRELATION_SIZE`,vrn=(n,e)=>{var t,i,r,s,a,o,l,u,c,d,h,f,p,g,m;if(!n||!(e!=null&&e.view)||!Oe(n))return n;const v=e.view();if(v.x1-v.x0==0||v.y1-v.y0==0||v.x1-v.x0==-1/0||v.x1-v.x0==1/0||v.y1-v.y0==-1/0||v.y1-v.y0==1/0)return n;const _=ar((t=e.startAngle)!==null&&t!==void 0?t:-90),y=ar((i=e.endAngle)!==null&&i!==void 0?i:270),x=Math.max((v.x1-v.x0)/2,(v.y1-v.y0)/2),w=nf((r=e.innerRadius)!==null&&r!==void 0?r:0,x),T=nf(e.outerRadius,x),E=[st((s=e.center)===null||s===void 0?void 0:s[0])?e.center[0]:v.x0+nf((o=(a=e.center)===null||a===void 0?void 0:a[0])!==null&&o!==void 0?o:"50%",v.x1-v.x0),st((l=e.center)===null||l===void 0?void 0:l[1])?e.center[1]:v.y0+nf((c=(u=e.center)===null||u===void 0?void 0:u[1])!==null&&c!==void 0?c:"50%",v.y1-v.y0)],A=kC(e.field),k=n.map(A),[P,I]=Tce(k),D=P===I?K=>(w+T)/2:K=>w+(T-w)*(K-P)/(I-P),L=J(e.radiusField)?A:kC(e.radiusField),B=(h=(d=e==null?void 0:e.radiusRange)===null||d===void 0?void 0:d[1])!==null&&h!==void 0?h:5;let F=K=>B;if(L){const[K,U]=L!==A?Tce(n.map(L)):[P,I],X=(p=(f=e.radiusRange)===null||f===void 0?void 0:f[0])!==null&&p!==void 0?p:5,Z=(m=(g=e.radiusRange)===null||g===void 0?void 0:g[1])!==null&&m!==void 0?m:5;K!==U&&(F=Q=>X+(Z-X)*(L(Q)-K)/(U-K))}const $=Math.min(_,y),z=Math.max(_,y),N=yrn($,z,n.length),V=[],H=(z-$)/60;return n.forEach((K,U)=>{const X=D(k[U]),Z=F(K);let Q,se,ae=N[U];for(let ue=0;ue<60&&(Q=E[0]+X*Math.cos(ae),se=E[1]+X*Math.sin(ae),_rn({x:Q,y:se,size:Z},V)||Q-Z<v.x0||Q+Z>v.x1||se-Z<v.y0||se+Z>v.y1);ue++)ue<59&&(ae+=H,ae>z?ae=$:ae<$&&(ae=z));V.push(Object.assign({[rDe]:Q,[sDe]:se,[aDe]:Z},K))}),V},yrn=(n,e,t)=>{let i=0,r=Math.max(Math.ceil(2*(e-n)/Math.PI),2),s=(e-n)/r,a=0,o=1,l=0,u=0;const c=[];let d=n;for(;l<t;)u<r&&(c.push(d+(u%2?Math.floor(u/2)+Math.floor(r/2):u/2)*s*o),u++),l++,u===r&&(u=0,a+=1,o*=-1,i===0?i=s/2:i/=2,d=o===-1?e-i:n+i,a>=2&&(s/=2,r*=2));return c},_rn=(n,e)=>!(!e||!e.length)&&e.some(t=>Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2)<Math.pow(n.size+t.size,2)),brn=(n,e)=>{if(!n||!Oe(n))return[];const{keyword:t,categoryField:i}=e,r=n[0].latestData[0];return{[i]:t,[Go]:r==null?void 0:r[Go],[Cu]:r==null?void 0:r[Cu]}};class uP extends kQ{constructor(){super(...arguments),this.type=uP.type,this._subMarks={ripple0:{type:"symbol",defaultAttributes:{fillOpacity:.75}},ripple1:{type:"symbol",defaultAttributes:{fillOpacity:.5}},ripple2:{type:"symbol",defaultAttributes:{fillOpacity:.25}}},this._positionChannels=["ripple","size"],this._positionEncoder=(e,t,i)=>{const{ripple:r=i.attribute.ripple,size:s=i.attribute.size}=e,a=ki(r,0,1),o=.5*s;return{ripple0:{size:s+o*a,fillOpacity:.75-.25*a},ripple1:{size:s+o*(1+a),fillOpacity:.5-.25*a},ripple2:{size:s+o*(2+a),fillOpacity:.25-.25*a}}}}_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{x:0,y:0,ripple:0})}}uP.type="ripple";const oDe=()=>{OQ(),gd(),ne.registerMark(uP.type,uP),ne.registerGraphicComponent("symbol",n=>H1(n))},Srn=(n,e)=>e==="fadeIn"?{type:"fadeIn"}:{type:"scaleIn"},xrn=()=>{ne.registerAnimation("correlation",(n,e)=>Object.assign({appear:Srn(0,e)},hQ))};class lDe extends bl{_transformLabelSpec(e){this._addMarkLabelSpec(e,"nodePoint"),this._addMarkLabelSpec(e,"centerPoint","centerLabel")}}const wrn={centerLabel:{visible:!0,position:"center",style:{fill:"#fff",text:""}},label:{visible:!0,position:"bottom",style:{fill:"#000"}}};class Xp extends zM{constructor(){super(...arguments),this.type=Ye.correlation,this.transformerConstructor=lDe,this._viewBox=new Xo}getCategoryField(){return this._categoryField}setCategoryField(e){return this._categoryField=e,this._categoryField}getValueField(){return this._valueField}setValueField(e){return this._valueField=e,this._valueField}getSeriesField(){return this._seriesField}setSeriesField(e){Y(e)&&(this._seriesField=e)}getSizeField(){return this._sizeField}setSizeField(e){Y(e)&&(this._sizeField=e)}getSizeRange(){return this._sizeRange}setSizeRange(e){Y(e)&&(this._sizeRange=e)}setAttrFromSpec(){super.setAttrFromSpec(),this.setCategoryField(this._spec.categoryField),this.setValueField(this._spec.valueField),this.setSeriesField(this._spec.seriesField),this.setSizeField(this._spec.sizeField),this.setSizeRange(this._spec.sizeRange)}initData(){var e,t,i;if(super.initData(),!this._data)return;rn(this._dataSet,"correlation",vrn);const r=new y0;Am(r,"dataview",Qj),rn(r,"correlationCenter",brn);const s=new Pi(r,{name:`${this.type}_${this.id}_center`});s.parse([this.getViewData()],{type:"dataview"}),s.transform({type:"correlationCenter",options:{keyword:(i=(t=(e=this._spec.centerLabel)===null||e===void 0?void 0:e.style)===null||t===void 0?void 0:t.text)!==null&&i!==void 0?i:"",categoryField:this._spec.categoryField}}),this._centerSeriesData=new Zl(this._option,s)}compileData(){var e;super.compileData(),(e=this._centerSeriesData)===null||e===void 0||e.compile()}_statisticViewData(){super._statisticViewData(),this._data.getDataView().transform({type:"correlation",options:{view:()=>({x0:this._viewBox.x1,x1:this._viewBox.x2,y0:this._viewBox.y1,y1:this._viewBox.y2}),field:this._spec.valueField,radiusRange:this._spec.sizeRange,radiusField:this._spec.sizeField,center:[this._spec.centerX,this._spec.centerY],innerRadius:this._spec.innerRadius,outerRadius:this._spec.outerRadius,startAngle:this._spec.startAngle,endAngle:this._spec.endAngle}})}initMark(){const e=this._createMark(Xp.mark.nodePoint,{groupKey:this._seriesField,isSeriesMark:!0,key:Go});e&&(e.setMarkConfig({zIndex:ji.Node}),this._nodePointMark=e);const t=this._createMark(Xp.mark.ripplePoint,{key:Go,dataView:this._centerSeriesData.getDataView(),dataProductId:this._centerSeriesData.getProductId()});t&&(this._ripplePointMark=t);const i=this._createMark(Xp.mark.centerPoint,{key:Go,dataView:this._centerSeriesData.getDataView(),dataProductId:this._centerSeriesData.getProductId()});i&&(i.setMarkConfig({zIndex:ji.Node}),this._centerPointMark=i)}initMarkStyle(){this._initNodePointMarkStyle(),this._initRipplePointMarkStyle(),this._initCenterPointMarkStyle()}_initNodePointMarkStyle(){var e,t,i,r;const s=this._nodePointMark;if(!s)return;const a=(t=(e=this._spec.nodePoint)===null||e===void 0?void 0:e.style)!==null&&t!==void 0?t:{};this.setMarkStyle(s,{x:o=>o[rDe],y:o=>o[sDe],size:o=>o[aDe],fill:(i=a.fill)!==null&&i!==void 0?i:this.getColorAttribute(),fillOpacity:(r=a.fillOpacity)!==null&&r!==void 0?r:1,lineWidth:0},pt.STATE_NORMAL,Qe.Series)}_initRipplePointMarkStyle(){var e,t,i,r,s;const a=this._ripplePointMark;if(!a)return;const o=(t=(e=this._spec.ripplePoint)===null||e===void 0?void 0:e.style)!==null&&t!==void 0?t:{};this.setMarkStyle(a,{x:()=>{var l;return(l=this._spec.centerX)!==null&&l!==void 0?l:(this._viewBox.x1+this._viewBox.x2)/2},y:()=>{var l;return(l=this._spec.centerY)!==null&&l!==void 0?l:(this._viewBox.y1+this._viewBox.y2)/2},size:()=>Math.max(this._viewBox.x2-this._viewBox.x1,this._viewBox.y2-this._viewBox.y1)/2,fill:(i=o.fill)!==null&&i!==void 0?i:this.getColorAttribute(),opacity:(r=o.fillOpacity)!==null&&r!==void 0?r:.2,ripple:(s=o.ripple)!==null&&s!==void 0?s:0},pt.STATE_NORMAL,Qe.Series)}_initCenterPointMarkStyle(){var e,t,i,r,s,a;const o=this._centerPointMark;o&&this.setMarkStyle(o,{x:()=>{var l;return(l=this._spec.centerX)!==null&&l!==void 0?l:(this._viewBox.x1+this._viewBox.x2)/2},y:()=>{var l;return(l=this._spec.centerY)!==null&&l!==void 0?l:(this._viewBox.y1+this._viewBox.y2)/2},size:()=>.2*Math.max(this._viewBox.x2-this._viewBox.x1,this._viewBox.y2-this._viewBox.y1)/2,fill:(i=(t=(e=this._spec.centerPoint)===null||e===void 0?void 0:e.style)===null||t===void 0?void 0:t.fill)!==null&&i!==void 0?i:this.getColorAttribute(),fillOpacity:(a=(s=(r=this._spec.centerPoint)===null||r===void 0?void 0:r.style)===null||s===void 0?void 0:s.fillOpacity)!==null&&a!==void 0?a:1},pt.STATE_NORMAL,Qe.Series)}initTooltip(){super.initTooltip(),this._nodePointMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._nodePointMark)}initLabelMarkStyle(e){e&&this.setMarkStyle(e,{fill:this.getColorAttribute(),text:t=>t[this._categoryField],z:this.dataToPositionZ.bind(this)},pt.STATE_NORMAL,Qe.Series)}initAnimation(){var e,t;const i=(e=this._spec.animationAppear)===null||e===void 0?void 0:e.preset;this._nodePointMark.setAnimationConfig(ei((t=ne.getAnimationInKey("correlation"))===null||t===void 0?void 0:t({},i),_i("nodePoint",this._spec,this._markAttributeContext)))}getGroupFields(){return[]}getStackGroupFields(){return[]}getStackValueField(){return""}getActiveMarks(){return[this._nodePointMark,this._centerPointMark]}getDimensionField(){return[this._categoryField]}getMeasureField(){return[this._valueField]}onLayoutEnd(){super.onLayoutEnd(),this._viewBox.set(0,0,this._region.getLayoutRect().width,this._region.getLayoutRect().height),this._rawData.reRunAllTransform(),this.getViewData().reRunAllTransform()}}Xp.type=Ye.correlation,Xp.mark=mrn,Xp.builtInTheme={correlation:wrn},Xp.transformerConstructor=lDe;const Crn=()=>{Qm(),oDe(),ne.registerSeries(Xp.type,Xp),xrn()};class uDe extends Ih{_isValidSeries(e){return e===Ye.map}_getDefaultSeriesSpec(e){return super._getDefaultSeriesSpec(e,["type","nameField","valueField","map","nameProperty","centroidProperty","nameMap","area","defaultFillColor","showDefaultName"])}transformSpec(e){super.transformSpec(e),e.region.forEach(t=>{t.coordinate="geo"}),super.transformSeriesSpec(e)}}class DA extends As{constructor(){super(...arguments),this.transformerConstructor=uDe,this.type="map",this.seriesType=Ye.map}}DA.type="map",DA.seriesType=Ye.map,DA.transformerConstructor=uDe;const Trn=()=>{ss(),wJt(),ne.registerChart(DA.type,DA)};class BQ extends Ih{_isValidSeries(e){return!this.seriesType||e===this.seriesType}getIndicatorSpec(e){var t,i,r;const s=Ae(e.indicator),a=(t=e.innerRadius)!==null&&t!==void 0?t:(r=(i=e.series)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.innerRadius;return Y(a)&&s.forEach(o=>{J(o.limitRatio)&&(o.limitRatio=a)}),s}_getDefaultSeriesSpec(e,t){return super._getDefaultSeriesSpec(e,["radius","outerRadius","innerRadius","startAngle","endAngle","sortDataByAxis"],t)}transformSpec(e){super.transformSpec(e),Oe(e.dataZoom)&&e.dataZoom.length>0&&e.dataZoom.forEach(t=>{t.filterMode==="axis"&&(t.filterMode="filter")}),this.transformSeriesSpec(e),Y(e.indicator)&&(e.indicator=this.getIndicatorSpec(e))}}class cDe extends BQ{needAxes(){return!1}_getDefaultSeriesSpec(e){const t=super._getDefaultSeriesSpec(e,["startAngle","endAngle","centerX","centerY"]);return t.categoryField=e.categoryField||e.radiusField,t.valueField=e.valueField||e.angleField,t}_transformProgressAxisSpec(e,t,i,r,s){var a,o;e.axes||(e.axes=[]);let l=((a=e.axes)!==null&&a!==void 0?a:[]).find(d=>d.orient==="radius"),u=((o=e.axes)!==null&&o!==void 0?o:[]).find(d=>d.orient==="angle");u||(u=t,e.axes.push(u)),l||(l=i,e.axes.push(l)),J(u.type)&&(u.type="linear"),J(l.type)&&(l.type="band");const c=XO(u,{min:0,max:1});J(u.min)&&(u.min=c.min),J(u.max)&&(u.max=c.max),r&&Object.assign(u,qt({},r,u)),s&&Object.assign(l,qt({},s,l))}}class dDe extends BQ{needAxes(){return!0}_getDefaultSeriesSpec(e){const t=super._getDefaultSeriesSpec(e);return t.categoryField=e.categoryField||e.angleField,t.valueField=e.valueField||e.radiusField,t}transformSpec(e){var t;if(super.transformSpec(e),this.needAxes()){e.axes||(e.axes=[]);const i={radius:!1,angle:!1};((t=e.axes)!==null&&t!==void 0?t:[]).forEach(r=>{const{orient:s}=r;s==="radius"&&(i.radius=!0),s==="angle"&&(i.angle=!0)}),i.angle||e.axes.push({orient:"angle"}),i.radius||e.axes.push({orient:"radius"})}}}class dH extends BQ{needAxes(){return!1}_getDefaultSeriesSpec(e){var t;const i=super._getDefaultSeriesSpec(e,["center","centerOffset","cornerRadius","padAngle","minAngle","emptyPlaceholder","showAllZero","supportNegative","useSequentialAnimation","layoutRadius"]);return i.categoryField=e.categoryField||e.seriesField,i.valueField=e.valueField||e.angleField,i.emptyCircle=(t=e.emptyPlaceholder)===null||t===void 0?void 0:t.emptyCircle,i}}class hDe extends As{constructor(){super(...arguments),this.transformerConstructor=dH}}hDe.transformerConstructor=dH;class LA extends hDe{constructor(){super(...arguments),this.transformerConstructor=dH,this.type="pie",this.seriesType=Ye.pie}}LA.type="pie",LA.seriesType=Ye.pie,LA.transformerConstructor=dH;const Ern=()=>{ss(),Fen(),ne.registerChart(LA.type,LA)};class fDe extends dDe{_getDefaultSeriesSpec(e){var t,i,r;const s=super._getDefaultSeriesSpec(e);return s.radius=(t=e.radius)!==null&&t!==void 0?t:m$,s.outerRadius=(i=e.outerRadius)!==null&&i!==void 0?i:m$,s.innerRadius=(r=e.innerRadius)!==null&&r!==void 0?r:0,s.stack=e.stack,s.percent=e.percent,s}transformSpec(e){var t;super.transformSpec(e),((t=e.axes)!==null&&t!==void 0?t:[]).forEach(i=>{["domainLine","grid","label","tick"].forEach(r=>{i[r]||(i[r]={visible:!1})}),i.orient==="angle"&&J(i.bandPosition)&&(i.bandPosition=.5)}),e.crosshair=Ae(e.crosshair||{}).map(i=>qt({categoryField:{visible:!0,line:{visible:!0,type:"rect"}}},i))}}const Arn=(n,e)=>{const t=2*Math.PI,i=Sa(e),r=js(e);return n<i?n+=Math.ceil((i-n)/t)*t:n>r&&(n-=Math.ceil((n-r)/t)*t),n},hH=(n,e)=>{if(!n)return null;const t=g$(n,l=>l.getOrient()==="angle",e),i=g$(n,l=>l.getOrient()==="radius",e);if(!(t&&t.length||i&&i.length))return null;const r=[],s=l=>l.getDimensionField()[0],{x:a,y:o}=e;return t&&t.forEach(l=>{var u;const c=l.getScale();if(c&&ml(c.type)){const d=c.domain(),h=c.range(),f=l.getCenter(),p={x:a-l.getLayoutStartPoint().x-f.x,y:o-l.getLayoutStartPoint().y-f.y};let g=tge({x:1,y:0},p);g=Arn(g,h);const m=a$(p),v=(u=i[0])===null||u===void 0?void 0:u.getScale(),_=v==null?void 0:v.range();if((g-(h==null?void 0:h[0]))*(g-(h==null?void 0:h[1]))>0||(m-(_==null?void 0:_[0]))*(m-(_==null?void 0:_[1]))>0)return;const y=l.invert(g);if(J(y))return;let x=d.findIndex(T=>(T==null?void 0:T.toString())===y.toString());x<0&&(x=void 0);const w=z7(y,l,"polar",s);r.push({index:x,value:y,position:c.scale(y),axis:l,data:w})}}),i&&i.forEach(l=>{var u;const c=l.getScale(),d=c==null?void 0:c.range();if(c&&ml(c.type)){const h=l.getCenter(),f={x:a-l.getLayoutStartPoint().x-h.x,y:o-l.getLayoutStartPoint().y-h.y};let p=tge({x:1,y:0},f);p<-Math.PI/2&&(p=2*Math.PI+p);const g=a$(f),m=(u=t[0])===null||u===void 0?void 0:u.getScale(),v=m==null?void 0:m.range();if((p-(v==null?void 0:v[0]))*(p-(v==null?void 0:v[1]))>0||(g-(d==null?void 0:d[0]))*(g-(d==null?void 0:d[1]))>0)return;const _=c.invert(g);if(J(_))return;let y=c.domain().findIndex(w=>(w==null?void 0:w.toString())===_.toString());y<0&&(y=void 0);const x=z7(_,l,"polar",s);r.push({index:y,value:_,position:c.scale(_),axis:l,data:x})}}),r.length?r:null};class fw extends As{constructor(){super(...arguments),this.transformerConstructor=fDe,this.type="rose",this.seriesType=Ye.rose}_setModelOption(){this._modelOption.getDimensionInfo=hH}}fw.type="rose",fw.seriesType=Ye.rose,fw.transformerConstructor=fDe,Li(fw,xg);const krn=()=>{Bu(),ss(),wc(),xc(),Uen(),ne.registerChart(fw.type,fw)};class pDe extends dDe{_getDefaultSeriesSpec(e){var t;const i=super._getDefaultSeriesSpec(e);return i.line=e.line,i.point=e.point,i.stack=e.stack,i.percent=e.percent,i.area=qt({visible:!1},e.area),i.seriesMark=(t=e.seriesMark)!==null&&t!==void 0?t:"area",i.activePoint=e.activePoint,i.pointDis=e.pointDis,i.pointDisMul=e.pointDisMul,i.markOverlap=e.markOverlap,i}transformSpec(e){var t;super.transformSpec(e),((t=e.axes)!==null&&t!==void 0?t:[]).forEach(i=>{i.orient==="radius"&&(["domainLine","label","tick"].forEach(r=>{i[r]||(i[r]={visible:!1})}),i.grid||(i.grid={visible:!0}))}),e.crosshair=Ae(e.crosshair||{}).map(i=>qt({categoryField:{visible:!0,line:{visible:!0,type:"line"}}},i))}}class pw extends As{constructor(){super(...arguments),this.transformerConstructor=pDe,this.type="radar",this.seriesType=Ye.radar}_setModelOption(){this._modelOption.getDimensionInfo=hH}}pw.type="radar",pw.seriesType=Ye.radar,pw.transformerConstructor=pDe,Li(pw,xg);const Orn=()=>{Bu(),ss(),d_(),wc(),xc(),Jen(),ne.registerChart(pw.type,pw)};class gDe extends Ih{_getDefaultSeriesSpec(e){const t=super._getDefaultSeriesSpec(e);return delete t.data,t}_transformAxisSpec(e){e.axes&&e.autoBandSize&&e.series.forEach((t,i)=>{var r;if(t.type==="bar"){const s=this._findBandAxisBySeries(t,i,e.axes);if(s&&!s.bandSize&&!s.maxBandSize&&!s.minBandSize){const a=pn(t.autoBandSize)&&(r=t.autoBandSize.extend)!==null&&r!==void 0?r:0,{barMaxWidth:o,barMinWidth:l,barWidth:u,barGapInGroup:c}=t;this._applyAxisBandSize(s,a,{barMaxWidth:o,barMinWidth:l,barWidth:u,barGapInGroup:c})}}})}transformSpec(e){if(super.transformSpec(e),e.series&&e.series.length){const t=this._getDefaultSeriesSpec(e);e.series.forEach(i=>{this._isValidSeries(i.type)&&Object.keys(t).forEach(r=>{r in i||(i[r]=t[r])})})}e.axes&&e.axes.length&&e.axes.forEach(t=>{Hn(t,"trimPadding")&&qt(t,mIe(this.type,e))}),this._transformAxisSpec(e)}}class FA extends As{constructor(){super(...arguments),this.transformerConstructor=gDe,this.type="common"}_setModelOption(){this._modelOption.getDimensionInfo=(e,t,i)=>{var r,s;return[...(r=Nf(e,t,i))!==null&&r!==void 0?r:[],...(s=hH(e,t))!==null&&s!==void 0?s:[]]},this._modelOption.getDimensionInfoByValue=Rh,this._modelOption.getRectByDimensionData=jf}}FA.type="common",FA.transformerConstructor=gDe,Li(FA,xg);const Prn=()=>{Bu(),ss(),d_(),wc(),ne.registerChart(FA.type,FA),xc()},Y7=12;class mDe extends Ih{_getSeriesDataLength(e,t){var i,r;if(t.data){const a=Ae(t.data)[0];return a instanceof Pi?(i=a.latestData)===null||i===void 0?void 0:i.length:(r=a.values)===null||r===void 0?void 0:r.length}const s=Ae(e.data).find((a,o)=>t.dataId?a instanceof Pi?a.name===t.dataId:a.id===t.dataId:t.dataIndex===o);return s?s instanceof Pi?s.latestData.length:s.values.length:0}addAttrToComponentSpec(e,t,i){return Array.isArray(e)?e[0][t]=i:e[t]=i,e}addPaddingRow(e,t,i){e.push({index:t,size:i})}addOrientAxes(e,t,i,r){e.push({id:`regionAxesRow${i}`}),t.push({modelId:`axesRow${i}`,col:1,row:i}),r.axes[0].id=`axesRow${i}`,r.axes[0].regionIndex=Array.from(Array(r.series.length),(s,a)=>r.axes[0].orient==="top"?a+1:a)}transformSpec(e){var t,i,r,s,a,o,l,u,c,d,h,f,p,g,m;super.transformSpec(e);let v=0;const _=[],y=[],x=[],w=[],T=[],E=this._option.getCompiler().getStage(),A=(E.viewWidth,E.viewHeight);let k=0;if(e!=null&&e.legends){_.push({modelId:`legendRow${v}`,col:1,row:v}),this.addAttrToComponentSpec(e.legends,"id",`legendRow${v}`);const F=Ae(e.legends);let $=(t=F[0].height)!==null&&t!==void 0?t:40;if(F[0].padding){const z=HC(F[0].padding);$+=Number((i=z==null?void 0:z.bottom)!==null&&i!==void 0?i:0),$+=Number((r=z==null?void 0:z.top)!==null&&r!==void 0?r:0),F[0].offsetY=Number((a=(s=F[0])===null||s===void 0?void 0:s.offsetY)!==null&&a!==void 0?a:0)+Number((o=z==null?void 0:z.top)!==null&&o!==void 0?o:0)}T.push({index:v,size:$}),k+=$,v++}e!=null&&e.dataZoom&&(_.push({modelId:`dataZoomRow${v}`,col:1,row:v}),this.addAttrToComponentSpec(e.dataZoom,"id",`dataZoomRow${v}`),k+=60,v++,this.addPaddingRow(T,v,10),k+=10,v++),k+=60,e.axes!==null&&((u=(l=e==null?void 0:e.axes)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.orient)!=="top"||(this.addOrientAxes(y,_,v,e),v++);const P=e.series.filter(F=>F.type!==Ye.link).length,I=(A-k-20*P)/P,D=((c=e==null?void 0:e.appendPadding)===null||c===void 0?void 0:c.left)||0,L=((d=e==null?void 0:e.appendPadding)===null||d===void 0?void 0:d.right)||0;(h=e==null?void 0:e.series)===null||h===void 0||h.forEach(F=>{var $,z;if([Ye.bar,Ye.line,Ye.area,Ye.dot].includes(F.type)){if(_.push({modelId:`${F.type}Row${v}`,col:1,row:v}),_.push({modelId:`axesLeftRow${v}`,col:0,row:v}),y.push({id:`${F.type}Row${v}`,clip:!1}),T.push({index:v,size:(F==null?void 0:F.height)||I}),x.push({orient:"left",id:`axesLeftRow${v}`,type:F.type===Ye.dot?"band":"linear",visible:F.type!==Ye.dot,title:{visible:!0,autoRotate:!1,style:{text:F==null?void 0:F.barTitle,dx:-20,textBaseline:"middle",textAlign:"end"}},grid:{visible:typeof(($=F==null?void 0:F.grid)===null||$===void 0?void 0:$.visible)!="boolean"||((z=F==null?void 0:F.grid)===null||z===void 0?void 0:z.visible),style:(N,V)=>{var H,K,U,X,Z;let Q=0;if(V===0){const se=(H=F==null?void 0:F.grid)===null||H===void 0?void 0:H.style;Q=(U=(K=se==null?void 0:se.lineWidth)!==null&&K!==void 0?K:se==null?void 0:se.strokeWidth)!==null&&U!==void 0?U:1}return{lineWidth:Q,stroke:((Z=(X=F==null?void 0:F.grid)===null||X===void 0?void 0:X.style)===null||Z===void 0?void 0:Z.stroke)||"#dfdfdf",lineDash:[0,0]}}},domainLine:{visible:!1},tick:{visible:!1},label:{visible:!1},regionIndex:y.length-1}),F.type===Ye.dot){_.push({modelId:`scrollBarRightRow${v}`,col:2,row:v});const N=this._getSeriesDataLength(e,F);let V=0;N&&(V=((F==null?void 0:F.height)||I)/(30*N)),w.push(Object.assign({orient:"right",visible:F.type===Ye.dot&&V<1,id:`scrollBarRightRow${v}`,start:0,end:Math.min(V,1),filterMode:"axis",regionIndex:y.length-1,axisId:`axesLeftRow${v}`},Ae(e==null?void 0:e.scrollBar)[0]))}F.regionIndex=y.length-1,v++,this.addPaddingRow(T,v,(F==null?void 0:F.padding)||20),v++,F.leftAppendPadding=D,F.type===Ye.dot&&(F.title.style.dx=-D,F.subTitle.style.dx=-D)}}),this.addPaddingRow(T,v,20),v++,(f=e==null?void 0:e.series)===null||f===void 0||f.forEach(F=>{if(F.type===Ye.link){const $=F.dotSeriesIndex+1;_.push({modelId:`${F.type}Row${$}`,col:1,row:$-1}),F.regionIndex=e.series[F.dotSeriesIndex].regionIndex,F.leftAppendPadding=D,F.height=e.series[F.dotSeriesIndex].height,F.clipHeight=e.series[F.dotSeriesIndex].clipHeight}}),e!=null&&e.legends&&this.addAttrToComponentSpec(e.legends,"regionIndex",[y.length-1]),((g=(p=e==null?void 0:e.axes)===null||p===void 0?void 0:p[0])===null||g===void 0?void 0:g.orient)==="bottom"&&(this.addOrientAxes(y,_,v,e),v++);const B={type:"grid",col:4,row:v,colWidth:[{index:0,size:D},{index:2,size:Y7},{index:3,size:L}],rowHeight:T,elements:_};e.layout=B,e.region=y,(m=e.axes)===null||m===void 0||m.push(...x),e.scrollBar=w}}var Mrn=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};class E$ extends As{constructor(){super(...arguments),this.transformerConstructor=mDe,this.type="sequence"}_createSeries(e,t){if(!e)return;const{spec:i}=t,r=Mrn(t,["spec"]);let s;if(i.type===Ye.link&&(i.dotSeriesSpec=this._spec.series[i.dotSeriesIndex]),i.regionId&&(s=this.getRegionsInUserId(i.regionId)),s||(s=this.getRegionsInIndex(i.regionIndex?[i.regionIndex]:void 0)[0]),!s)return;const a=new e(i,Object.assign(Object.assign(Object.assign({},this._modelOption),r),{region:s,specKey:"series",globalScale:this._globalScale}));a&&(a.created(),this._series.push(a),s.addSeries(a))}}E$.type="sequence",E$.transformerConstructor=mDe;const Irn=()=>{Bu(),ss(),stn(),ctn(),Mh(),Ph(),ne.registerChart(E$.type,E$)};class $Q extends Sg{transformSpec(e){super.transformSpec(e),e.axes.forEach(t=>t.type="linear")}_getDefaultSeriesSpec(e){return super._getDefaultSeriesSpec(e,["x2Field","y2Field","barMinHeight","barBackground","barGap"])}}class K7 extends As{constructor(){super(...arguments),this.transformerConstructor=$Q}}K7.transformerConstructor=$Q,Li(K7,xg);class vDe extends $Q{transformSpec(e){super.transformSpec(e),l_(e)}}class BA extends K7{constructor(){super(...arguments),this.transformerConstructor=vDe,this.type="histogram",this.seriesType=Ye.bar}_setModelOption(){this._modelOption.getDimensionInfo=Nf,this._modelOption.getDimensionInfoByValue=Rh,this._modelOption.getRectByDimensionData=jf}}BA.type="histogram",BA.seriesType=Ye.bar,BA.transformerConstructor=vDe;const Rrn=()=>{Bu(),ss(),d_(),wc(),xc(),iRe(),ne.registerTransform("bin",$zt),ne.registerChart(BA.type,BA)};class yDe extends cDe{_getDefaultSeriesSpec(e){var t,i;const r=super._getDefaultSeriesSpec(e);return r.progress=e.progress,r.track=e.track,r.tickMask=e.tickMask,r.cornerRadius=(t=e.cornerRadius)!==null&&t!==void 0?t:0,r.roundCap=(i=e.roundCap)!==null&&i!==void 0&&i,r}transformSpec(e){super.transformSpec(e),this._transformProgressAxisSpec(e,{orient:"angle",visible:!1},{orient:"radius",visible:!1},{forceInitTick:e.tickMask&&e.tickMask.visible!==!1})}}class gw extends As{constructor(){super(...arguments),this.transformerConstructor=yDe,this.type="circularProgress",this.seriesType=Ye.circularProgress}_setModelOption(){this._modelOption.getDimensionInfo=hH}}gw.type="circularProgress",gw.seriesType=Ye.circularProgress,gw.transformerConstructor=yDe,Li(gw,xg);const Drn=()=>{Bu(),ss(),wc(),xc(),DRe(),ne.registerChart(gw.type,gw)};class _De extends cDe{_getDefaultSeriesSpec(e){const t=super._getDefaultSeriesSpec(e);return t.radiusField=e.radiusField,t.pin=e.pin,t.pinBackground=e.pinBackground,t.pointer=e.pointer,t}_getDefaultCircularProgressSeriesSpec(e){const t=super._getDefaultSeriesSpec(e);return t.type=Ye.circularProgress,t}transformSpec(e){var t,i,r,s,a;super.transformSpec(e);let o=(t=e.series)===null||t===void 0?void 0:t.find(l=>l.type===Ye.gauge||l.type===Ye.circularProgress);J(o)&&(o=(i=e.gauge)!==null&&i!==void 0?i:this._getDefaultCircularProgressSeriesSpec(e),o.type==="circularProgress"&&(J(o.radiusField)&&J(o.categoryField)&&(o.radiusField=(s=(r=e.radiusField)!==null&&r!==void 0?r:e.categoryField)!==null&&s!==void 0?s:e.seriesField),J(o.valueField)&&J(o.angleField)&&(o.valueField=(a=e.valueField)!==null&&a!==void 0?a:e.angleField)),e.series.length===1?e.series.push(o):e.series.forEach(l=>{l.type===o.type&&Object.keys(o).forEach(u=>{u in l||(l[u]=o[u])})})),o.type===Ye.circularProgress?this._transformProgressAxisSpec(e,{orient:"angle",visible:!0,domainLine:{visible:!1},grid:{visible:!1}},{orient:"radius",visible:!1},{zIndex:ji.Region+50}):this._transformGaugeAxisSpec(e)}_transformGaugeAxisSpec(e){var t;e.axes||(e.axes=[]);const i={radius:null,angle:null};((t=e.axes)!==null&&t!==void 0?t:[]).forEach(r=>{const{orient:s}=r;s==="radius"&&(i.radius=r),s==="angle"&&(i.angle=r)}),i.angle||(i.angle={orient:"angle",visible:!0},e.axes.push(i.angle)),i.radius||(i.radius={orient:"radius",visible:!1},e.axes.push(i.radius)),J(i.angle.type)&&(i.angle.type="linear"),J(i.radius.type)&&(i.radius.type="linear"),J(i.angle.zIndex)&&(i.angle.zIndex=ji.Region+50)}}class $A extends As{constructor(){super(...arguments),this.transformerConstructor=_De,this.type="gauge",this.seriesType=Ye.gaugePointer}}$A.type="gauge",$A.seriesType=Ye.gaugePointer,$A.transformerConstructor=_De;const Lrn=()=>{ss(),arn(),lrn(),DRe(),ne.registerChart($A.type,$A)};class fH extends Ih{transformSpec(e){super.transformSpec(e),this.transformSeriesSpec(e)}_getDefaultSeriesSpec(e){return super._getDefaultSeriesSpec(e,["nameField","valueField","fontFamilyField","fontWeightField","fontStyleField","colorHexField","colorMode","colorList","rotateAngles","fontWeightRange","fontSizeRange","maskShape","keepAspect","random","wordCloudConfig","wordCloudShapeConfig","word","fillingWord","wordMask"])}}class bDe extends As{constructor(){super(...arguments),this.transformerConstructor=fH,this.type="wordCloud",this.seriesType=Ye.wordCloud}}bDe.transformerConstructor=fH;class Qb extends bDe{constructor(){super(...arguments),this.transformerConstructor=fH,this.type="wordCloud",this.seriesType=Ye.wordCloud}}Qb.type="wordCloud",Qb.seriesType=Ye.wordCloud,Qb.transformerConstructor=fH;const Frn=()=>{ss(),XRe(),ne.registerChart(Qb.type,Qb)},Brn=()=>{Unn(),ss(),XRe(),ne.registerChart(Qb.type,Qb)};class SDe extends Ih{needAxes(){return!1}_getDefaultSeriesSpec(e){return super._getDefaultSeriesSpec(e,["categoryField","valueField","funnelAlign","funnelOrient","heightRatio","shape","funnel","transform","outerLabel","transformLabel","isTransform","maxSize","minSize","gap","isCone","range","transformRatioText"])}transformSpec(e){super.transformSpec(e),super.transformSeriesSpec(e)}}class NA extends As{constructor(){super(...arguments),this.transformerConstructor=SDe,this.type="funnel",this.seriesType=Ye.funnel}}NA.type="funnel",NA.seriesType=Ye.funnel,NA.transformerConstructor=SDe;const $rn=()=>{ss(),sin(),ne.registerChart(NA.type,NA)};class xDe extends Sg{needAxes(){return!1}_getDefaultSeriesSpec(e){var t,i;const r=super._getDefaultSeriesSpec(e,["bandWidth","progress","track","clamp"]);return r.direction=(t=e.direction)!==null&&t!==void 0?t:"horizontal",r.cornerRadius=(i=e.cornerRadius)!==null&&i!==void 0?i:0,r}transformSpec(e){var t,i;if(super.transformSpec(e),e.axes||(e.axes=[]),e.direction==="vertical"){let r=null,s=null;((t=e.axes)!==null&&t!==void 0?t:[]).forEach(o=>{const{orient:l}=o;l==="left"&&(r=o),l==="bottom"&&(s=o)}),r||(r={orient:"left",visible:!1},e.axes.push(r)),s||(s={orient:"bottom",visible:!1},e.axes.push(s)),J(s.type)&&(s.type="band"),J(r.type)&&(r.type="linear");const a=XO(r,{min:0,max:1});J(r.min)&&(r.min=a.min),J(r.max)&&(r.max=a.max)}else{let r=null,s=null;((i=e.axes)!==null&&i!==void 0?i:[]).forEach(o=>{const{orient:l}=o;l==="left"&&(r=o),l==="bottom"&&(s=o)}),r||(r={type:"band",orient:"left",visible:!1},e.axes.push(r)),s||(s={orient:"bottom",visible:!1},e.axes.push(s)),J(s.type)&&(s.type="linear"),J(r.type)&&(r.type="band");const a=XO(s,{min:0,max:1});J(s.min)&&(s.min=a.min),J(s.max)&&(s.max=a.max)}}}class mw extends As{constructor(){super(...arguments),this.transformerConstructor=xDe,this.type="linearProgress",this.seriesType=Ye.linearProgress}_setModelOption(){this._modelOption.getDimensionInfo=Nf,this._modelOption.getDimensionInfoByValue=Rh,this._modelOption.getRectByDimensionData=jf}}mw.type="linearProgress",mw.seriesType=Ye.linearProgress,mw.transformerConstructor=xDe,Li(mw,xg);const Nrn=()=>{Bu(),ss(),wc(),xc(),wtn(),ne.registerChart(mw.type,mw)};class wDe extends Sg{_getDefaultSeriesSpec(e){var t,i;const r=super._getDefaultSeriesSpec(e,["barWidth","barMaxWidth","barMinWidth","barGapInGroup","barBackground","barMinHeight","stackCornerRadius","bar"]);return e.direction==="horizontal"?r.xField=(t=e.xField)!==null&&t!==void 0?t:[e.minField,e.maxField]:r.yField=(i=e.yField)!==null&&i!==void 0?i:[e.minField,e.maxField],r}transformSpec(e){super.transformSpec(e),l_(e)}}class jA extends As{constructor(){super(...arguments),this.transformerConstructor=wDe,this.type="rangeColumn",this.seriesType=Ye.rangeColumn}_setModelOption(){this._modelOption.getDimensionInfo=Nf,this._modelOption.getDimensionInfoByValue=Rh,this._modelOption.getRectByDimensionData=jf}}jA.type="rangeColumn",jA.seriesType=Ye.rangeColumn,jA.transformerConstructor=wDe;const jrn=()=>{Bu(),ss(),wc(),xc(),_en(),ne.registerChart(jA.type,jA)};class CDe extends Ih{_getDefaultSeriesSpec(e){const t=Y(e.startAngle)?e.startAngle:bQ,i=Y(e.endAngle)?e.endAngle:t+Uq(2*Math.PI),r=super._getDefaultSeriesSpec(e,["categoryField","valueField","centerX","centerY","offsetX","offsetY","innerRadius","outerRadius","gap","labelLayout","label","labelAutoVisible","drill","drillField"]);return r.startAngle=t,r.endAngle=i,r}transformSpec(e){super.transformSpec(e),this.transformSeriesSpec(e)}}class zA extends As{constructor(){super(...arguments),this.transformerConstructor=CDe,this.type="sunburst",this.seriesType=Ye.sunburst}}zA.type="sunburst",zA.seriesType=Ye.sunburst,zA.transformerConstructor=CDe;const zrn=()=>{ss(),gin(),ne.registerChart(zA.type,zA)};class TDe extends Ih{_getDefaultSeriesSpec(e){return super._getDefaultSeriesSpec(e,["categoryField","valueField","layoutPadding","circlePacking","drill","drillField"])}transformSpec(e){super.transformSpec(e),this.transformSeriesSpec(e)}}class HA extends As{constructor(){super(...arguments),this.transformerConstructor=TDe,this.type="circlePacking",this.seriesType=Ye.circlePacking}}HA.type="circlePacking",HA.seriesType=Ye.circlePacking,HA.transformerConstructor=TDe;const Hrn=()=>{ss(),xin(),ne.registerChart(HA.type,HA)};class EDe extends Ih{_getDefaultSeriesSpec(e){return super._getDefaultSeriesSpec(e,["categoryField","valueField","aspectRatio","splitType","maxDepth","gapWidth","nodePadding","minVisibleArea","minChildrenVisibleArea","minChildrenVisibleSize","roam","drill","drillField","leaf","nonLeaf","nonLeafLabel"])}transformSpec(e){super.transformSpec(e),this.transformSeriesSpec(e)}}class VA extends As{constructor(){super(...arguments),this.transformerConstructor=EDe,this.type="treemap",this.seriesType=Ye.treemap}}VA.type="treemap",VA.seriesType=Ye.treemap,VA.transformerConstructor=EDe;const Vrn=()=>{ss(),qin(),ne.registerChart(VA.type,VA)};class ADe extends TQ{transformSpec(e){super.transformSpec(e),e.legends&&Ae(e.legends).forEach(t=>{t.select=!1,t.hover=!1,t.filter=!1}),l_(e)}_getDefaultSeriesSpec(e){const t=super._getDefaultSeriesSpec(e);return t.bar=e.bar,t.stackLabel=e.stackLabel,t.leaderLine=e.leaderLine,t.total=e.total,t.calculationMode=e.calculationMode,t}}let WA=class extends Bb{constructor(){super(...arguments),this.transformerConstructor=ADe,this.type="waterfall",this.seriesType=Ye.waterfall}_setModelOption(){this._modelOption.getDimensionInfo=Nf,this._modelOption.getDimensionInfoByValue=Rh,this._modelOption.getRectByDimensionData=jf}};WA.type="waterfall",WA.seriesType=Ye.waterfall,WA.transformerConstructor=ADe;const Wrn=()=>{Bu(),ss(),d_(),wc(),xc(),een(),ne.registerChart(WA.type,WA)};class kDe extends Sg{_getDefaultSeriesSpec(e){var t;const i=[e.maxField,e.medianField,e.q1Field,e.q3Field,e.minField,e.outliersField],r=super._getDefaultSeriesSpec(e,["boxPlot","outlier","minField","maxField","q1Field","medianField","q3Field","outliersField","outliersStyle","boxWidth","boxMaxWidth","boxMinWidth","boxGapInGroup"]);return r.direction=(t=e.direction)!==null&&t!==void 0?t:"vertical",r[r.direction==="horizontal"?"xField":"yField"]=i,r}transformSpec(e){super.transformSpec(e),e.axes||(e.axes=[{orient:"bottom"},{orient:"left"}]),l_(e)}}class UA extends As{constructor(){super(...arguments),this.transformerConstructor=kDe,this.type="boxPlot",this.seriesType=Ye.boxPlot}_setModelOption(){this._modelOption.getDimensionInfo=Nf,this._modelOption.getDimensionInfoByValue=Rh,this._modelOption.getRectByDimensionData=jf}}UA.type="boxPlot",UA.seriesType=Ye.boxPlot,UA.transformerConstructor=kDe;const Urn=()=>{Bu(),ss(),wc(),xc(),den(),ne.registerTransform("boxplot",Nzt),ne.registerChart(UA.type,UA)};class ODe extends Ih{_getDefaultSeriesSpec(e){return super._getDefaultSeriesSpec(e,["categoryField","valueField","sourceField","targetField","direction","nodeAlign","crossNodeAlign","nodeGap","nodeWidth","linkWidth","minStepWidth","minNodeHeight","maxNodeHeight","minLinkHeight","maxLinkHeight","dropIsolatedNode","nodeHeight","linkHeight","equalNodeHeight","linkOverlap","iterations","nodeKey","linkSortBy","nodeSortBy","setNodeLayer","node","link","emphasis","inverse","overflow"])}transformSpec(e){super.transformSpec(e),this.transformSeriesSpec(e)}}class GA extends As{constructor(){super(...arguments),this.transformerConstructor=ODe,this.type="sankey",this.seriesType=Ye.sankey}_setStateInDatum(e,t,i,r){const s=Oe(t)?t[0]:t;if(!s)return void this._interaction.clearByState(e);let a=null;this.filterGraphicsByDatum(s,{filter:(o,l)=>l.type!=="text"&&l.getProduct()&&(!i||i(o,l)),region:r,getDatum:o=>{var l;let u=(l=ka(o))===null||l===void 0?void 0:l.datum;return Oe(u)&&(u=u[0]),u},callback:(o,l,u,c)=>{var d,h;const f=l.getProductId();f&&(f.includes("node")||f.includes("link"))&&((h=(d=u)._handleEmphasisElement)===null||h===void 0||h.call(d,{item:o,mark:l}))},regionCallback:(o,l)=>{s&&o.length&&(a=o[0])}}),a&&this._interaction.updateStateOfGraphics(e,[a])}}GA.type="sankey",GA.seriesType=Ye.sankey,GA.transformerConstructor=ODe;const Grn=()=>{ss(),C8t(),zin(),ne.registerChart(GA.type,GA)};class PDe extends Sg{_getDefaultSeriesSpec(e){var t,i;const r=super._getDefaultSeriesSpec(e);return r.area=e.area,r.point=e.point,r.line=e.line,e.direction==="horizontal"?r.xField=(t=e.xField)!==null&&t!==void 0?t:[e.minField,e.maxField]:r.yField=(i=e.yField)!==null&&i!==void 0?i:[e.minField,e.maxField],r.stack=!1,r}transformSpec(e){super.transformSpec(e),l_(e)}}class YA extends As{constructor(){super(...arguments),this.transformerConstructor=PDe,this.type="rangeArea",this.seriesType=Ye.rangeArea}_setModelOption(){this._modelOption.getDimensionInfo=Nf,this._modelOption.getDimensionInfoByValue=Rh,this._modelOption.getRectByDimensionData=jf}}YA.type="rangeArea",YA.seriesType=Ye.rangeArea,YA.transformerConstructor=PDe;const Yrn=()=>{Bu(),ss(),d_(),wc(),xc(),xen(),ne.registerChart(YA.type,YA)};class MDe extends Sg{_getDefaultSeriesSpec(e){return super._getDefaultSeriesSpec(e,["valueField","cell"])}}class KA extends As{constructor(){super(...arguments),this.transformerConstructor=MDe,this.type="heatmap",this.seriesType=Ye.heatmap}}KA.type="heatmap",KA.seriesType=Ye.heatmap,KA.transformerConstructor=MDe;const Krn=()=>{ss(),grn(),ne.registerChart(KA.type,KA)};class IDe extends Ih{_getDefaultSeriesSpec(e){return super._getDefaultSeriesSpec(e,["categoryField","valueField","sizeField","sizeRange","centerX","centerY","innerRadius","outerRadius","startAngle","endAngle","ripplePoint","centerPoint","centerLabel","nodePoint"])}transformSpec(e){super.transformSpec(e),this.transformSeriesSpec(e)}}class XA extends As{constructor(){super(...arguments),this.transformerConstructor=IDe,this.type="correlation",this.seriesType=Ye.correlation}}XA.type="correlation",XA.seriesType=Ye.correlation,XA.transformerConstructor=IDe;const Xrn=()=>{ss(),Crn(),ne.registerChart(XA.type,XA)};function RDe(n){var e,t;const i=Object.assign({},n);return Lt(n.style)||(i.textStyle=ln(n.style)),Lt(n.textStyle)||qt(i.textStyle,ln(n.textStyle)),!((e=n.shape)===null||e===void 0)&&e.style&&ln(i.shape.style),!((t=n.background)===null||t===void 0)&&t.style&&ln(i.background.style),i}var qrn=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};function Zrn(n,e){const{title:t={},item:i={},pager:r={},background:s={},type:a,id:o,visible:l,orient:u,position:c,data:d,filter:h,regionId:f,regionIndex:p,seriesIndex:g,seriesId:m,padding:v}=n,_=qrn(n,["title","item","pager","background","type","id","visible","orient","position","data","filter","regionId","regionIndex","seriesIndex","seriesId","padding"]);let{title:y={},item:x={},pager:w={},background:T={}}=n;y=Ul(y),x=Ul(x),w=Ul(w),T=Ul(T);const E=_;return y.visible?E.title=RDe(y):E.title={visible:!1},Lt(x.focusIconStyle)||ln(x.focusIconStyle),x.shape&&(x.shape=hf(x.shape)),x.label&&(x.label=hf(x.label)),x.value&&(x.value=hf(x.value)),x.background&&(x.background=hf(x.background)),Jc(x.maxWidth)&&(x.maxWidth=Number(x.maxWidth.substring(0,x.maxWidth.length-1))*e.width/100),Jc(x.width)&&(x.width=Number(x.width.substring(0,x.width.length-1))*e.width/100),Jc(x.height)&&(x.height=Number(x.height.substring(0,x.height.length-1))*e.width/100),E.item=x,w.type==="scrollbar"?(Lt(w.railStyle)||ln(w.railStyle),Lt(w.sliderStyle)||ln(w.sliderStyle)):(Lt(w.textStyle)||ln(w.textStyle),w.handler&&hf(w.handler)),E.pager=w,T.visible&&!Lt(T.style)&&(qt(E,T.style),Y(T.padding)&&(E.padding=T.padding)),E}const Qrn=(n,e)=>{const t=[],i={},{series:r,seriesField:s}=e;return r().forEach(a=>{const o=s(a);let l;l=o===a.getSeriesField()?a.getSeriesInfoList():a.getSeriesInfoInField(o),l.forEach(u=>{i[u.key]||(i[u.key]=!0,t.push(u))})}),t},Jrn=(n,e)=>{var t,i,r;const{series:s,selected:a,field:o,data:l,customFilter:u}=e,c=a(),d=l();if(c.length===0&&d.length)return[];if(c.length===d.length)return n;const h={};c.forEach(p=>{h[p]=!0});const f=(t=o())!==null&&t!==void 0?t:Cu;return u?u(n,c,f):(Oe(n)&&(!((i=n[0])===null||i===void 0)&&i.nodes)?(n[0].nodes=n[0].nodes.filter(p=>h[p.key]===!0),!((r=n[0])===null||r===void 0)&&r.links&&(n[0].links=n[0].links.filter(p=>h[p.source]===!0&&h[p.target]===!0))):Y(f)&&(n=n.filter(p=>h[s.getSeriesFieldValue(p,f)]===!0)),n)};class NQ extends Sc{constructor(){super(...arguments),this.layoutType="normal",this.layoutZIndex=ji.Legend,this.layoutLevel=Df.Legend,this.specKey="legends",this._orient="left",this._visible=!0,this._position="middle",this._preSelectedData=[],this._selectedData=[],this.effect={onSelectedDataChange:()=>{ts(this._regions,e=>{var t;(t=e.getViewData())===null||t===void 0||t.markRunning()},{userId:this._seriesUserId,specIndex:this._seriesIndex}),ts(this._regions,e=>{e.reFilterViewData()},{userId:this._seriesUserId,specIndex:this._seriesIndex})}}}get orient(){return this._orient}get visible(){return this._visible}get position(){return this._position}getLegendData(){return this._legendData.getLatestData()}getSelectedData(){return this._selectedData}setAttrFromSpec(){var e;super.setAttrFromSpec(),this._orient=iQ(this._spec.orient)?this._spec.orient:"left",this._position=(e=this._spec.position)!==null&&e!==void 0?e:"middle",this._visible=this._spec.visible!==!1;const{regionId:t,regionIndex:i,seriesId:r,seriesIndex:s}=this._spec;Y(r)&&(this._seriesUserId=Ae(r)),Y(t)&&(this._regionUserId=Ae(t)),Y(s)&&(this._seriesIndex=Ae(s)),Y(i)&&(this._regionUserIndex=Ae(i)),this._regions=this._option.getRegionsInUserIdOrIndex(this._regionUserId,this._regionUserIndex)}created(){super.created(),this.initData()}_compareSpec(e,t){const i=super._compareSpec(e,t);return i.reRender=!0,(e==null?void 0:e.orient)!==(t==null?void 0:t.orient)?(i.reMake=!0,i):(Oi(t,e)||(i.reCompile=!0),i)}_bindLegendDataChange(){this._preSelectedData=this._selectedData.slice(),this._initSelectedData(),this._forceLayout()}initData(){const e=this._initLegendData();e.target.addListener("change",this._bindLegendDataChange.bind(this)),this._legendData=new Zl(this._option,e),this._initSelectedData(),ts(this._regions,t=>{t.event.on(Et.rawDataUpdate,{filter:({model:i})=>(i==null?void 0:i.id)===t.id},()=>{this._legendData.getDataView().reRunAllTransform({skipEqual:!0})})},{userId:this._seriesUserId,specIndex:this._seriesIndex})}setSelectedData(e){var t,i,r;const s=this._selectedData;J(e)||JSON.stringify(s)===JSON.stringify(e)||(ts(this._regions,a=>{a.legendSelectedFilter&&(e=a.legendSelectedFilter(this,e))},{userId:this._seriesUserId,specIndex:this._seriesIndex}),this._selectedData=[...e],(i=(t=this.effect).onSelectedDataChange)===null||i===void 0||i.call(t),this.event.emit(Et.legendSelectedDataChange,{model:this}),(r=this._legendComponent)===null||r===void 0||r.setSelected(this._selectedData))}afterSetLayoutStartPoint(e){if(super.afterSetLayoutStartPoint(e),this._legendComponent){const{x:t,y:i}=e;Me(t*i)&&this._legendComponent.setAttributes({x:t,y:i})}}getBoundsInRect(e,t){if(!this._visible)return this._legendComponent&&this._legendComponent.parent&&(this._legendComponent.parent.removeChild(this._legendComponent),this._legendComponent=null),{x1:0,y1:0,x2:0,y2:0};const i={x1:this.getLayoutStartPoint().x,y1:this.getLayoutStartPoint().y,x2:0,y2:0},r=this._getLegendAttributes(e);if(r.disableTriggerEvent=this._option.disableTriggerEvent,this._legendComponent)Oi(r,this._cacheAttrs)||this._legendComponent.setAttributes(qt({},r,{defaultSelected:this._selectedData}));else{const o=new(this._getLegendConstructor())(qt({},r,{defaultSelected:this._selectedData}));o.name="legend",this._legendComponent=o,this.getContainer().add(o),this._option.disableTriggerEvent||this._initEvent(),o.on("*",(l,u)=>this._delegateEvent(this._legendComponent,l,u))}this._cacheAttrs=r;const s=isFinite(this._legendComponent.AABBBounds.width())?this._legendComponent.AABBBounds.width():0,a=isFinite(this._legendComponent.AABBBounds.height())?this._legendComponent.AABBBounds.height():0;if(this.layoutType!=="normal-inline"){const o=this.layoutOrient==="bottom"||this.layoutOrient==="top"?"horizontal":"vertical",l=this._position,{width:u,height:c}=t;let d=0,h=0;o==="horizontal"?l==="middle"?d=(u-s)/2:l==="end"&&(d=u-s):l==="middle"?h=(c-a)/2:l==="end"&&(h=c-a),this._legendComponent.setAttributes({dx:d,dy:h})}return i.x2=i.x1+s,i.y2=i.y1+a,i}onDataUpdate(){var e,t;if(JSON.stringify(this._preSelectedData)!==JSON.stringify(this._selectedData)){if(this._legendComponent){const i=this._getLegendAttributes(this.getLayoutRect());Oi(i,this._cacheAttrs)||this._legendComponent.setAttributes(qt({},i,{defaultSelected:this._selectedData}))}(t=(e=this.effect).onSelectedDataChange)===null||t===void 0||t.call(e),this.event.emit(Et.legendSelectedDataChange,{model:this})}}_getNeedClearVRenderComponents(){return[this._legendComponent]}clear(){super.clear(),this._cacheAttrs=null,this._preSelectedData=null}}NQ.specKey="legends";const esn={orient:"bottom",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal"},space:12},pager:{textStyle:{fill:{type:"palette",key:"discreteLegendPagerTextColor"}},handler:{style:{fill:{type:"palette",key:"discreteLegendPagerHandlerColor"}},state:{disable:{fill:{type:"palette",key:"discreteLegendPagerHandlerDisableColor"}}}}},item:{visible:!0,spaceCol:10,spaceRow:6,padding:2,background:{state:{selectedHover:{fill:{type:"palette",key:"hoverBackgroundColor"}},unSelectedHover:{fill:{type:"palette",key:"hoverBackgroundColor"}}}},shape:{space:6,style:{lineWidth:0,fillOpacity:1,opacity:1},state:{unSelected:{fillOpacity:.2,opacity:1}}},label:{space:6,style:{fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},opacity:1},state:{unSelected:{fill:{type:"palette",key:"disableFontColor"},opacity:1}}}},allowAllCanceled:!1};class qA extends NQ{constructor(){super(...arguments),this.type=He.discreteLegend,this.name=He.discreteLegend}static getSpecInfo(e){return lg(e,this.specKey,this.type,t=>!t.type||t.type==="discrete")}init(e){super.init(e),ts(this._regions,t=>{t.addViewDataFilter({type:"discreteLegendFilter",options:{series:t,selected:()=>this._selectedData,field:()=>this._getSeriesLegendField(t),data:()=>this.getLegendDefaultData(),customFilter:this._spec.customFilter},level:og.legendFilter})},{userId:this._seriesUserId,specIndex:this._seriesIndex})}_initLegendData(){rn(this._option.dataSet,"discreteLegendFilter",Jrn),rn(this._option.dataSet,"discreteLegendDataMake",Qrn);const e=new Pi(this._option.dataSet,{name:`${this.type}_${this.id}_data`});return e.transform({type:"discreteLegendDataMake",options:{series:()=>{const t=[];return ts(this._regions,i=>{t.push(i)},{specIndex:this._spec.seriesIndex,userId:this._spec.seriesId}),t},seriesField:t=>this._getSeriesLegendField(t)}}),e}_getSeriesLegendField(e){var t,i,r;const s=e.getSeriesField(),a=(t=this._spec.scaleName)!==null&&t!==void 0?t:this._spec.scale;if(J(a)||!e.getRawData())return s;const o=this._option.globalScale.getScaleSpec(a);if(!o)return s;if(this._spec.field)return this._spec.field;if(!Qx(o.domain))return s;const l=o.domain.find(u=>u.dataId===e.getRawData().name);return l&&(r=(i=l.fields)===null||i===void 0?void 0:i[0])!==null&&r!==void 0?r:s}_initSelectedData(){const e=this.getLegendDefaultData();if(this._unselectedData){const t=[],i=[];e.forEach(r=>{this._unselectedData.includes(r)?i.push(r):t.push(r)}),this._selectedData=t,this._unselectedData=i}else this._spec.defaultSelected?this._selectedData=[...this._spec.defaultSelected]:this._selectedData=e}getLegendDefaultData(e){return Re(this._spec.data)?this._getLegendItems().map(t=>t.label):this._legendData.getLatestData().map(e?t=>t.originalKey:t=>t.key)}_addDefaultTitleText(e){var t,i,r,s;if(!((t=e.title)===null||t===void 0)&&t.visible&&J(e.title.text)&&J((i=e.title.style)===null||i===void 0?void 0:i.text)){const a=(s=(r=this._regions)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.getSeries()[0];if(!a)return;e.title.text=c$(a.getRawData(),a.getSeriesField())}}_getLegendAttributes(e){const t=this.layoutOrient==="bottom"||this.layoutOrient==="top"?"horizontal":"vertical",i=Object.assign(Object.assign({layout:t,items:this._getLegendItems(),zIndex:this.layoutZIndex},Zrn(this._spec,e)),{maxWidth:e.width,maxHeight:e.height});return this._addDefaultTitleText(i),this._addLegendItemFormatMethods(i),i}_getLegendConstructor(){return zMe}setSelectedData(e){e&&(this._unselectedData=this.getLegendDefaultData().filter(t=>!e.includes(t))),super.setSelectedData(e)}_initEvent(){if(this._legendComponent){const e=this._spec.filter!==!1;this._legendComponent.addEventListener(Gd.legendItemClick,t=>{const i=Hn(t,"detail.currentSelected");e&&this.setSelectedData(i),this.event.emit(Et.legendItemClick,{model:this,value:i,event:t})}),this._legendComponent.addEventListener(Gd.legendItemHover,t=>{const i=Hn(t,"detail");this.event.emit(Et.legendItemHover,{model:this,value:i,event:t})}),this._legendComponent.addEventListener(Gd.legendItemUnHover,t=>{const i=Hn(t,"detail");this.event.emit(Et.legendItemUnHover,{model:this,value:i,event:t})})}}_getLegendItems(){const e=(this._legendData.getLatestData()||[]).map(t=>{var i,r;const s=t.style("fillOpacity"),a=t.style("strokeOpacity"),o=t.style("opacity"),l=t.style("texture");return{label:t.key,shape:{symbolType:(r=(i=t.style("symbolType"))!==null&&i!==void 0?i:t.shapeType)!==null&&r!==void 0?r:"circle",fillOpacity:Me(s)?s:1,strokeOpacity:Me(a)?a:1,opacity:Me(o)?o:1,texturePadding:l?1:null,textureSize:l?4:null,texture:l,fill:t.style("fill"),stroke:t.style("stroke"),textureColor:t.style("textureColor"),innerBorder:t.style("innerBorder"),outerBorder:t.style("outerBorder"),lineDash:t.style("lineDash"),lineDashOffset:t.style("lineDashOffset"),lineWidth:t.style("lineWidth")}}});return Re(this._spec.data)?this._spec.data(e,this._option.globalScale.getScale("color"),this._option.globalScale):e}_addLegendItemFormatMethods(e){var t,i,r,s;const{formatMethod:a,formatter:o}=(i=(t=this._spec.item)===null||t===void 0?void 0:t.label)!==null&&i!==void 0?i:{},{formatMethod:l,formatter:u}=(s=(r=this._spec.item)===null||r===void 0?void 0:r.value)!==null&&s!==void 0?s:{},{formatFunc:c}=zm(a,o);o&&!a&&c&&(e.item.label.formatMethod=(h,f)=>c(h,f,o));const{formatFunc:d}=zm(l,u);u&&!l&&d&&(e.item.value.formatMethod=(h,f)=>d(u,h,f,o))}}qA.specKey="legends",qA.builtInTheme={discreteLegend:esn},qA.type=He.discreteLegend;const tsn=()=>{ne.registerComponent(qA.type,qA)},nsn=(n,e)=>{const{series:t,field:i,scale:r}=e,s=i();if(i&&s){let a=1/0,o=-1/0;return t().forEach(l=>{const u=l.getRawDataStatisticsByField(s,!0),c=u==null?void 0:u.min,d=u==null?void 0:u.max;Me(c)&&(a=Math.min(c,a)),Me(d)&&(o=Math.max(d,o))}),[a,o]}if(r){const a=r();return a?a.domain():[]}return[]},isn=(n,e)=>{const{selected:t,field:i,data:r,isHierarchyData:s,customFilter:a}=e,o=t(),l=i(),u=s||(c=>c&&c.some(d=>d&&JXt(d)));if(o===r())return n;if(l&&!Lt(o)){const[c,d]=o;return a?a(n,o,l):u(n)?fIe(n,+c,+d,l):n.filter(h=>h[l]>=c&&h[l]<=d)}return n};var rsn=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};function ssn(n){const e=qt({},n),{title:t={},handler:i={},rail:r={},track:s={},startText:a,endText:o,handlerText:l,sizeBackground:u,background:c={},type:d,id:h,visible:f,orient:p,position:g,data:m,defaultSelected:v,field:_,filter:y,regionId:x,regionIndex:w,seriesIndex:T,seriesId:E,padding:A}=e,k=rsn(e,["title","handler","rail","track","startText","endText","handlerText","sizeBackground","background","type","id","visible","orient","position","data","defaultSelected","field","filter","regionId","regionIndex","seriesIndex","seriesId","padding"]);return t.visible?k.title=RDe(t):k.title={visible:!1},k.showHandler=i.visible!==!1,Lt(i.style)||(k.handlerStyle=ln(i.style)),Y(r.width)&&(k.railWidth=r.width),Y(r.height)&&(k.railHeight=r.height),Lt(r.style)||(k.railStyle=ln(r.style)),Lt(s.style)||(k.trackStyle=ln(s.style)),k.startText=hf(a),k.endText=hf(o),k.handlerText=hf(l),Lt(u)||(k.sizeBackground=ln(u)),c.visible&&!Lt(c.style)&&(qt(k,c.style),Y(c.padding)&&(k.padding=c.padding)),k}function asn(n){return n==="color"||n==="size"}const osn={color:Bz,size:$z},DDe={orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{visible:!0},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6}},Nme=n=>{const e={width:200,height:8,style:{fill:{type:"palette",key:"sliderRailColor"}}};return n?(e.width=200,e.height=8):(e.width=8,e.height=200),Object.assign(Object.assign({},DDe),{rail:e,handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}}})},lsn={horizontal:Nme(!0),vertical:Nme(!1)},jme=n=>{const e={style:{fill:{type:"palette",key:"sliderRailColor"}}};return n?(e.width=200,e.height=4):(e.height=200,e.width=4),Object.assign(Object.assign({},DDe),{sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:e,handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}}})},usn={horizontal:jme(!0),vertical:jme(!1)},csn=["#C4E7FF","#98CAFF","#75ACFF","#518FF9","#2775DC","#005CBE","#00429F","#00287E"],dsn=[2,10];class ZA extends NQ{static getSpecInfo(e){const t=lg(e,this.specKey,this.type,i=>asn(i.type));return t&&t.forEach(i=>{i.type=i.spec.type==="color"?He.colorLegend:He.sizeLegend}),t}constructor(e,t){super(e,t),this.type=He.colorLegend,this.name=He.colorLegend;const i=this._spec.type==="color"?He.colorLegend:He.sizeLegend;this.type=i,this.name=i}setAttrFromSpec(){super.setAttrFromSpec(),this._field=this._spec.field,this._legendType=this._spec.type}init(e){super.init(e),ts(this._regions,t=>{t.addViewDataFilter({type:"continuousLegendFilter",options:{selected:()=>this._selectedData,field:()=>this._field,data:()=>this._legendData.getLatestData(),isHierarchyData:t.isHierarchyData,customFilter:this._spec.customFilter},level:og.legendFilter})},{userId:this._seriesUserId,specIndex:this._seriesIndex})}_getScaleInGlobal(){const e=this._option.globalScale;let t=this._spec.scale;return t||(t=this._legendType),e.getScale(t)}_initLegendData(){rn(this._option.dataSet,"continuousLegendFilter",isn),rn(this._option.dataSet,"continuousLegendDataMake",nsn);const e=new Pi(this._option.dataSet,{name:`${this.type}_${this.id}_data`});return e.transform({type:"continuousLegendDataMake",options:{series:()=>ZMe(this._regions,{userId:this._seriesUserId,specIndex:this._seriesIndex}),field:()=>this._field,scale:this._getScaleInGlobal.bind(this)}}),e}_initSelectedData(){this._spec.defaultSelected?this._selectedData=this._spec.defaultSelected.slice():this._selectedData=this._legendData.getLatestData()}_addDefaultTitleText(e){var t,i,r,s;if(!((t=e.title)===null||t===void 0)&&t.visible&&J(e.title.text)&&J((i=e.title.style)===null||i===void 0?void 0:i.text)){const a=this._field;if(a){const c=(s=(r=this._regions)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.getSeries()[0];return c?void(e.title.text=c$(c.getRawData(),a)):void 0}let o=this._spec.scale;o||(o=this._legendType);const l=this._option.globalScale.getScaleSpec(o);if(!Qx(l==null?void 0:l.domain))return;const u=l.domain[0];if(u.fields.length===0)return;e.title.text=c$(this._option.dataSet.getDataView(u.dataId),u.fields[0])}}_getLegendAttributes(e){var t,i;const r=this.layoutOrient==="bottom"||this.layoutOrient==="top"?"horizontal":"vertical",s=r==="horizontal"?"bottom":this.layoutOrient;let a=[];const o=this._getScaleInGlobal();o&&o.type==="linear"&&(a=o.range()),Lt(a)&&(a=this._legendType==="color"?csn:dsn);let l=(t=this._legendData.getLatestData()[0])!==null&&t!==void 0?t:0,u=(i=this._legendData.getLatestData()[1])!==null&&i!==void 0?i:1;this._legendData.getLatestData()[0]===this._legendData.getLatestData()[1]&&(l=Math.min(0,this._legendData.getLatestData()[0]),u=this._legendData.getLatestData()[0]===0?1:Math.max(0,this._legendData.getLatestData()[0]));const c=Object.assign({layout:r,align:s,zIndex:this.layoutZIndex,min:l,max:u,value:this._spec.defaultSelected,[this._legendType==="color"?"colors":"sizeRange"]:a},ssn(this._spec));return this._addDefaultTitleText(c),c}_getLegendConstructor(){return osn[this._legendType]}_initEvent(){if(this._legendComponent){const e=this._spec.filter!==!1;this._legendComponent.addEventListener("change",Y0(t=>{const i=Hn(t,"detail.value");e&&this.setSelectedData(i),this.event.emit(Et.legendFilter,{model:this,value:i,event:t})},30))}}}ZA.specKey="legends",ZA.builtInTheme={colorLegend:lsn,sizeLegend:usn},ZA.type=He.continuousLegend;const hsn=()=>{ne.registerComponent(ZA.type,ZA)},cx=(n,e)=>Y(e)?n.map(t=>e[t]):void 0,$b=(n,e)=>t=>n.every((i,r)=>t[i]===(e==null?void 0:e[r])),mE=n=>!J(n)&&(Oe(n)?n.length>0&&n.every(Y):Object.keys(n).length>0);function fsn(n,e,t){var i,r,s,a,o,l;const u=Object.assign({regionIndex:0},e),c=t.getOption(),d=c.getRegionsInUserIdOrIndex(Y(u.regionId)?[u.regionId]:void 0,Y(u.regionIndex)?[u.regionIndex]:void 0)[0];if(!d)return"none";const h=psn(n,d),f=(i=u.activeType)!==null&&i!==void 0?i:h.length>1?"dimension":"mark",p=d.getLayoutStartPoint(),g=d.getLayoutRect(),m=c.globalInstance.getContainer(),v=Object.assign({x:0,y:0},m?mjt(m):{}),_=x=>{var w;const{dimensionFields:T,dimensionData:E,measureFields:A,measureData:k,groupField:P,groupData:I}=x.data;return(w=x.series.getViewData())===null||w===void 0?void 0:w.latestData.find(L=>$b(T,E)(L)&&$b(A,k)(L)&&(J(P)||$b([P],[I])(L)))},y=x=>{var w,T;const E=(P=>({x:Math.min(Math.max(P.x,0),g.width),y:Math.min(Math.max(P.y,0),g.height)}))(x),A=(w=u.x)!==null&&w!==void 0?w:p.x+E.x,k=(T=u.y)!==null&&T!==void 0?T:p.y+E.y;return{canvasX:A,canvasY:k,clientX:v.x+A,clientY:v.y+k}};if(f==="dimension"){const x=h[0];if(!x)return"none";const w=new Map;h.forEach(k=>{var P;w.has(k.series)||w.set(k.series,[]),(P=w.get(k.series))===null||P===void 0||P.push(k)});const T=[{value:n[x.data.dimensionFields[0]],data:[...w.keys()].map(k=>{var P,I;return{series:k,datum:(I=(P=w.get(k))===null||P===void 0?void 0:P.map(D=>_(D)))!==null&&I!==void 0?I:[]}})}];Y(x.dimType)&&(T[0].position=x.pos[x.dimType],T[0].dimType=x.dimType);const E={changePositionOnly:!1,action:"enter",tooltip:null,dimensionInfo:T,chart:(r=c.globalInstance.getChart())!==null&&r!==void 0?r:void 0,datum:void 0,model:void 0,source:vi.chart,event:y({x:h.reduce((k,P)=>k+P.pos.x,0)/h.length,y:h.reduce((k,P)=>k+P.pos.y,0)/h.length}),item:void 0};(o=(a=(s=t.processor)===null||s===void 0?void 0:s.dimension)===null||a===void 0?void 0:a.showTooltip)===null||o===void 0||o.call(a,T,E,!1);const A=c.globalInstance;return cl.globalConfig.uniqueTooltip&&cl.hideTooltip(A.id),f}if(f==="mark"){const x=h[0];if(!x)return"none";const w=Object.assign(Object.assign({},_(x)),n),T=[{datum:[w],series:x.series}],E={changePositionOnly:!1,tooltip:null,dimensionInfo:[{value:w[x.data.dimensionFields[0]],data:T}],chart:(l=c.globalInstance.getChart())!==null&&l!==void 0?l:void 0,datum:w,model:x.series,source:vi.chart,event:y(x.pos),item:void 0};t.processor.mark.showTooltip({datum:w,mark:null,series:x.series},E,!1);const A=c.globalInstance;return cl.globalConfig.uniqueTooltip&&cl.hideTooltip(A.id),f}return"none"}const psn=(n,e)=>{const t=e.getSeries(),i=[];return t.forEach(r=>{var s,a,o,l,u,c,d;const h=r.getDimensionField(),f=r.getMeasureField(),p=r.getSeriesField(),g=Y(p)?n[p]:void 0,m=Y(p)&&(l=(o=(a=(s=r.getViewDataStatistics)===null||s===void 0?void 0:s.call(r))===null||a===void 0?void 0:a.latestData[p])===null||o===void 0?void 0:o.values)!==null&&l!==void 0?l:[],v=cx(h,n);let _=cx(f,n);const y=mE(_),x=!y&&Y(p)&&J(g)&&m.length>0,w=()=>{var T;const E=(T=r.getViewData())===null||T===void 0?void 0:T.latestData.find($b(h,v));if(!y&&(_=cx(f,E),!mE(_)))return;const A=r.type===Ye.pie?r.dataToCentralPosition(E):r.dataToPosition(E);J(A)||isNaN(A.x)||isNaN(A.y)||i.push({pos:A,data:{dimensionFields:h,dimensionData:v,measureFields:f,measureData:_,hasMeasureData:y,groupField:p,groupData:g},series:r})};if(r.coordinate==="cartesian"){const T=r,E=ml((c=(u=r.getYAxisHelper())===null||u===void 0?void 0:u.getScale(0))===null||c===void 0?void 0:c.type)?"y":"x",A=h.map((P,I)=>[P,I]).filter(([,P])=>J(v==null?void 0:v[P]));let k=[v??[]];A.length>0&&A.forEach(([P,I])=>{var D,L,B,F;const $=(F=(B=(L=(D=r.getViewDataStatistics)===null||D===void 0?void 0:D.call(r))===null||L===void 0?void 0:L.latestData[P])===null||B===void 0?void 0:B.values)!==null&&F!==void 0?F:[],z=[];k.forEach(N=>{$.forEach(V=>{var H;const K=(H=N==null?void 0:N.slice())!==null&&H!==void 0?H:[];K[I]=V,z.push(K)})}),k=z}),k.forEach(P=>{var I,D;if(x){const L=(I=T.getViewData())===null||I===void 0?void 0:I.latestData.filter($b(h,P));m.forEach(B=>{const F=L.find(z=>z[p]===B);if(_=cx(f,F),!mE(_))return;const $=T.dataToPosition(F);J($)||isNaN($.x)||isNaN($.y)||i.push({pos:$,data:{dimensionFields:h,dimensionData:P,measureFields:f,measureData:_,hasMeasureData:y,groupField:p,groupData:B},series:r,dimType:E})})}else{const L=(D=T.getViewData())===null||D===void 0?void 0:D.latestData.find($b(h,P));if(!y&&(_=cx(f,L),!mE(_)))return;const B=T.dataToPosition(L);if(J(B)||isNaN(B.x)||isNaN(B.y))return;i.push({pos:B,data:{dimensionFields:h,dimensionData:P,measureFields:f,measureData:_,hasMeasureData:y,groupField:p,groupData:g},dimType:E,series:r})}})}else if(r.coordinate==="polar")if(r.type===Ye.pie)w();else{const T=r;if(x){const E=((d=T.getViewData())===null||d===void 0?void 0:d.latestData.filter($b(h,v))).find(A=>A[p]===g);m.forEach(A=>{if(_=cx(f,E),!mE(_))return;const k=T.dataToPosition(E);J(k)||isNaN(k.x)||isNaN(k.y)||i.push({pos:k,data:{dimensionFields:h,dimensionData:v,measureFields:f,measureData:_,hasMeasureData:y,groupField:p,groupData:A},series:r})})}else w()}else r.coordinate==="geo"&&w()}),i},zme=n=>Y(n)&&!Oe(n),Hme=n=>Y(n)&&Oe(n);class LDe extends BM{_shouldMergeThemeToSpec(){return!1}_initTheme(e,t){var i,r,s;const{spec:a,theme:o}=super._initTheme(e,t);return a.style=qt({},this._theme,a.style),a.offset=qt({},o.offset,e.offset),a.transitionDuration=(i=e.transitionDuration)!==null&&i!==void 0?i:o.transitionDuration,a.trigger=(r=e.trigger)!==null&&r!==void 0?r:o.trigger,a.triggerOff=(s=e.triggerOff)!==null&&s!==void 0?s:o.triggerOff,{spec:a,theme:o}}_transformSpecAfterMergingTheme(e,t,i){var r,s,a,o,l,u,c;super._transformSpecAfterMergingTheme(e,t,i),e.visible=(r=e.visible)===null||r===void 0||r,e.activeType=uZt(e),e.renderMode=(s=e.renderMode)!==null&&s!==void 0?s:s_(this._option.mode)||!ng(this._option.mode)?"canvas":"html",e.trigger=(a=e.trigger)!==null&&a!==void 0?a:"hover",e.className=(o=e.className)!==null&&o!==void 0?o:jQt,e.enterable=(l=e.enterable)!==null&&l!==void 0&&l,e.transitionDuration=(u=e.transitionDuration)!==null&&u!==void 0?u:150,e.confine=(c=e.confine)!==null&&c!==void 0?c:e.renderMode==="canvas",Y(e.parentElement)?Jt(e.parentElement)&&(e.parentElement=un.getElementById(e.parentElement)):ng(this._option.mode)&&(e.parentElement=Zx==null?void 0:Zx.body)}}const gsn={offset:{x:10,y:10},panel:{padding:{top:10,left:10,right:10,bottom:10},backgroundColor:{type:"palette",key:"popupBackgroundColor"},border:{color:{type:"palette",key:"popupBackgroundColor"},width:0,radius:3},shadow:{x:0,y:4,blur:12,spread:0,color:{type:"palette",key:"shadowColor"}}},spaceRow:6,titleLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:{type:"palette",key:"primaryFontColor"},fontWeight:"bold",textBaseline:"middle",spacing:0},shape:{size:8,spacing:6},keyLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle",spacing:26},valueLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:{type:"palette",key:"primaryFontColor"},fontWeight:"bold",textBaseline:"middle",spacing:0}};class vw extends Sc{constructor(){super(...arguments),this.layoutZIndex=1,this.type=He.tooltip,this.name=He.tooltip,this.transformerConstructor=LDe,this.specKey="tooltip",this.layoutType="none",this._isReleased=!1,this._alwaysShow=!1,this._eventList=[],this._isTooltipShown=!1,this._clickLock=!1,this._mountEvent=(e,t,i)=>{this.event.on(e,t,i),this._eventList.push({eventType:e,handler:i})},this._handleClickToLock=e=>{var t,i;if(this._clickLock)this._handleChartMouseOut(e),this._clickLock=!1;else{if(!this._isTooltipShown&&!(!((i=(t=this.tooltipHandler)===null||t===void 0?void 0:t.isTooltipShown)===null||i===void 0)&&i.call(t)))return;this._clickLock=!0}},this._getMouseOutHandler=e=>t=>{var i,r,s,a,o;if(this._isReleased||this._alwaysShow||this._clickLock||!this._isTooltipShown&&!(!((r=(i=this.tooltipHandler)===null||i===void 0?void 0:i.isTooltipShown)===null||r===void 0)&&r.call(i)))return;const l=ng((s=this._option)===null||s===void 0?void 0:s.mode),{clientX:u,clientY:c}=t.event;l&&e&&this._isPointerInChart({x:u,y:c})||(this._enterable?this._outTimer=setTimeout(()=>{this._handleChartMouseOut(t)},(o=(a=this._spec)===null||a===void 0?void 0:a.showDelay)!==null&&o!==void 0?o:mW):this._handleChartMouseOut(t))},this._handleChartMouseOut=e=>{var t;this._cacheActiveType&&(!((t=this._option)===null||t===void 0)&&t.componentShowContent)&&(this._option.componentShowContent.tooltip===!1||pn(this._option.componentShowContent.tooltip)&&this._option.componentShowContent.tooltip[this._cacheActiveType]===!1)||this._alwaysShow||this._isReleased||this._isEnterTooltip||this._spec.triggerOff!=="none"&&(this._hideTooltipByHandler(Object.assign(Object.assign({},e),{tooltip:this})),this._handleMouseMove&&this._handleMouseMove.cancel&&this._handleMouseMove.cancel(),this._cacheEnterableRect=null,this._cacheInfo=void 0,this._cacheParams=void 0,this._cacheActiveType=void 0)},this._getMouseMoveHandler=e=>t=>{var i,r,s,a;this._isReleased||this._isEnterTooltip||(this._outTimer&&(clearTimeout(this._outTimer),this._outTimer=null),this.tooltipHandler||this._initHandler(),this.processor||this._initProcessor(),this._alwaysShow||(this._clickLock?e&&(this._handleChartMouseOut(t),this._clickLock=!1):!e&&this._enterable&&(!((r=(i=this.tooltipHandler)===null||i===void 0?void 0:i.isTooltipShown)===null||r===void 0)&&r.call(i))?(this._showTimer&&clearTimeout(this._showTimer),this._showTimer=setTimeout(()=>{this._handleChartMouseMove(t,e)},(a=(s=this._spec)===null||s===void 0?void 0:s.showDelay)!==null&&a!==void 0?a:mW)):this._handleChartMouseMove(t,e)))},this._handleChartMouseMove=(e,t)=>{if(this._isReleased)return;const i=this._getMouseEventData(e),{tooltipInfo:{dimension:r},ignore:{mark:s}}=i,a={mark:!1,dimension:!1,group:!1},o=["group","mark","dimension"];for(let l=0,u=o.length;l<u;l++){const c=o[l],d=!!this.processor[c]&&this._showTooltipByMouseEvent(c,i,e,t);if(d==="unShowByOption")a[c]="unShowByOption";else if(d){a[c]=!0;break}}Object.values(a).every(l=>!l)&&!cZt(e)&&(s&&zme(this._cacheInfo)?a.mark=this._showTooltipByMouseEvent("mark",i,e,t,!0):Y(r)&&(a.dimension=this._showTooltipByMouseEvent("dimension",i,e,t))),a.mark===!0||a.group===!0||a.dimension===!0&&!J(r)?this._initEventOfTooltipContent():this._cacheActiveType&&a[this._cacheActiveType]==="unShowByOption"||this._handleChartMouseOut(e)},this._showTooltipByMouseEvent=(e,t,i,r,s)=>{var a;if(!this._showContentByEvent(e))return"unShowByOption";const o=this.processor[e];if(!o.shouldHandleTooltip(i,t.tooltipInfo[e]))return!1;let l;if(this._hideTimer&&clearTimeout(this._hideTimer),s)l=!o.showTooltip(this._cacheInfo,i,!0);else{const c=t.tooltipInfo[e],d=this._isSameAsCache(c,i,e);l=!o.showTooltip(c,i,d),l&&(this._cacheInfo=c,this._cacheParams=i,this._cacheActiveType=e)}l&&(this._isTooltipShown=!0,r&&this._spec.lockAfterClick&&!this._clickLock?this._clickLock=!0:Number.isFinite(this._spec.hideTimer)&&(this._hideTimer=setTimeout(()=>{this._handleChartMouseOut()},this._spec.hideTimer)));const u=(a=this._option)===null||a===void 0?void 0:a.globalInstance;return l&&cl.globalConfig.uniqueTooltip&&u&&cl.hideTooltip(u.id),l},this._getMouseEventData=e=>{const t={tooltipInfo:{},ignore:{}};return Object.keys(this.processor).forEach(i=>{const{tooltipInfo:r,ignore:s}=this.processor[i].getMouseEventData(e);t.tooltipInfo[i]=r,t.ignore[i]=s}),t},this._hideTooltipByHandler=e=>{var t,i,r;if(!this._isTooltipShown&&!(!((i=(t=this.tooltipHandler)===null||t===void 0?void 0:t.isTooltipShown)===null||i===void 0)&&i.call(t)))return 0;this.event.emit(Et.tooltipHide,Object.assign(Object.assign({},e),{source:vi.chart,tooltip:this})),Object.values(this.processor).forEach(a=>{a.clearCache()});const s=(r=this._spec.handler)!==null&&r!==void 0?r:this.tooltipHandler;if(s.hideTooltip){const a=s.hideTooltip.call(s,e);return a||(this._isTooltipShown=!1),a}return 1},this.hideTooltip=()=>{if(this._isReleased)return!1;const e={changePositionOnly:!1,tooltip:this,item:void 0,datum:void 0,source:vi.chart};return this._alwaysShow=!1,!this._hideTooltipByHandler(e)}}isTooltipShown(){return this._isTooltipShown}_registerEvent(){}_releaseEvent(){}onLayoutEnd(){}created(){super.created(),this._regions=this._option.getAllRegions(),this._initEvent()}release(){var e,t;super.release(),this._isReleased=!0,this._hideTimer&&clearTimeout(this._hideTimer),this._eventList.forEach(({eventType:i,handler:r})=>{this.event.off(i,r)}),this._eventList=[],(t=(e=this.tooltipHandler)===null||e===void 0?void 0:e.release)===null||t===void 0||t.call(e),this._isTooltipShown=!1}beforeRelease(){this.event.emit(Et.tooltipHide,{tooltip:this,chart:this.getChart()}),this.event.emit(Et.tooltipRelease,{tooltip:this,chart:this.getChart()})}_initHandler(){var e,t,i;const r=(e=this._spec.renderMode)!==null&&e!==void 0?e:"html",s=this._option.globalInstance.getTooltipHandlerByUser();if(s)this.tooltipHandler=s,this._enterable=!1;else{const a=r==="canvas"?YC.canvas:YC.dom,o=ne.getComponentPluginInType(a);o||LO("Can not find tooltip handler: "+a);const l=new o;l.name=`${this._spec.className}-${(t=this._option.globalInstance.id)!==null&&t!==void 0?t:0}-${this.getSpecIndex()}`,(i=this.pluginService)===null||i===void 0||i.load([l]),this.tooltipHandler=l,this._spec.enterable&&r==="html"&&this.tooltipHandler?(this._enterable=!0,this._needInitEventOfTooltip=!0):this._enterable=!1}}_initEventOfTooltipContent(){var e,t;if(!this._needInitEventOfTooltip)return;const i=(t=(e=this.tooltipHandler).getRootDom)===null||t===void 0?void 0:t.call(e);i&&(i.addEventListener("pointerenter",()=>{var r;if(!this._enterable)return;this._isEnterTooltip=!0;const s=(r=i.getBoundingClientRect)===null||r===void 0?void 0:r.call(i);s&&(this._cacheEnterableRect={width:s.width,height:s.height}),this._outTimer&&(clearTimeout(this._outTimer),this._outTimer=null),this._showTimer&&(clearTimeout(this._showTimer),this._showTimer=null)}),i.addEventListener("pointerleave",()=>{var r,s,a;if(this._enterable&&(this._isEnterTooltip=!1,this._spec.triggerOff!=="none"&&this._cacheEnterableRect)){const o=(r=i.getBoundingClientRect)===null||r===void 0?void 0:r.call(i);o&&Object.keys(this._cacheEnterableRect).every(l=>this._cacheEnterableRect[l]===o[l])&&(this._cacheEnterableRect=null,this._outTimer=setTimeout(this.hideTooltip,(a=(s=this._spec)===null||s===void 0?void 0:s.showDelay)!==null&&a!==void 0?a:mW))}}),this._needInitEventOfTooltip=!1)}_initProcessor(){const e=this._spec.activeType;this.processor={},e.forEach(t=>{const i=ne.createTooltipProcessor(t,this);i&&(this.processor[t]=i)})}_initEvent(){var e;if(this._option.disableTriggerEvent)return;const t=Ae((e=this._spec.trigger)!==null&&e!==void 0?e:"hover"),i=Ae(this._spec.triggerOff),r=this._option.mode;t.forEach(s=>{var a;s==="hover"?(this._handleMouseMove=this._throttle(this._getMouseMoveHandler(!1)),this._mountEvent("pointermove",{source:"chart"},this._handleMouseMove),(Ny(r)||s_(r))&&(this._mountEvent("pointerdown",{source:"chart"},this._getMouseMoveHandler(!1)),this._mountEvent("pointerup",{source:"window"},this._getMouseOutHandler(!0))),this._mountEvent("pointerleave",{source:"chart"},this._getMouseOutHandler(!1))):s==="click"?(this._mountEvent("pointertap",{source:"chart"},this._getMouseMoveHandler(!0)),this._mountEvent("pointerup",{source:"window"},this._getMouseOutHandler(!0))):pn(s)&&this._mountEvent(s.eventType,{source:(a=s.source)!==null&&a!==void 0?a:"chart",consume:s.consume},this._getMouseMoveHandler(!0))}),i.filter(s=>pn(s)).forEach(s=>{var a,o;this._mountEvent(s.eventType,{source:(a=s.source)!==null&&a!==void 0?a:"chart",consume:s.consume},this._getMouseOutHandler((o=s.checkOutside)!==null&&o!==void 0&&o))}),!t.includes("click")&&this._spec.lockAfterClick&&this._mountEvent("pointertap",{source:"chart"},this._handleClickToLock)}_throttle(e){let t;return t=st(this._spec.throttleInterval)?this._spec.throttleInterval:this._spec.renderMode==="html"&&this._spec.transitionDuration?50:10,Km(e,t)}_showContentByEvent(e){var t;return!(!((t=this._option)===null||t===void 0)&&t.componentShowContent&&(this._option.componentShowContent.tooltip===!1||pn(this._option.componentShowContent.tooltip)&&this._option.componentShowContent.tooltip[e]===!1))}reInit(e){var t,i,r;if(super.reInit(e),this.tooltipHandler){const s=(t=this._spec.renderMode)!==null&&t!==void 0?t:"html",a=this._spec.enterable&&s==="html";a&&!this._enterable&&(this._needInitEventOfTooltip=!0),this._enterable=a,(r=(i=this.tooltipHandler).reInit)===null||r===void 0||r.call(i)}else this._initHandler()}showTooltip(e,t){var i;if(this.tooltipHandler||this._initHandler(),this.processor||this._initProcessor(),!(!((i=this.tooltipHandler)===null||i===void 0)&&i.showTooltip))return!1;const r=fsn(e,t,this);return r!=="none"&&(this._alwaysShow=!!(t!=null&&t.alwaysShow),this._cacheActiveType=r),r}_isSameAsCache(e,t,i){if(i!==this._cacheActiveType)return!1;if(e===this._cacheInfo)return!0;if(J(this._cacheInfo)||J(e))return!1;if(Hme(e)){if(zme(this._cacheInfo))return!1;const a=this._cacheInfo;return a.length===e.length&&e.every((o,l)=>BIe(o,a[l]))}if(Hme(this._cacheInfo))return!1;const r=this._cacheInfo;if(!((e==null?void 0:e.datum)===r.datum&&(e==null?void 0:e.mark)===r.mark&&(e==null?void 0:e.series)===r.series))return!1;const s=this._cacheParams;return!J(s)&&!J(t)&&s.mark===t.mark&&s.model===t.model&&s.datum===t.datum}_isPointerInChart(e){var t;const i=(t=this._option)===null||t===void 0?void 0:t.globalInstance;if(!i||!i.getChart())return!1;const{x:r,y:s}=e,a=i.getCanvas(),{x:o,y:l,width:u,height:c}=a.getBoundingClientRect();return r>=o&&r<=o+u&&s>=l&&s<=l+c}getVisible(){return this._spec.visible!==!1}}vw.type=He.tooltip,vw.transformerConstructor=LDe,vw.builtInTheme={tooltip:gsn},vw.specKey="tooltip";const msn=()=>{ne.registerComponent(vw.type,vw)};function vsn(n){return n===ha["desktop-browser"]||n===ha["desktop-miniApp"]?{click:"pointertap",hover:"pointermove",hoverOut:"pointerleave",clickOut:"pointerleave"}:Ny(n)||s_(n)?{click:"tap",hover:["pointerdown","pointermove"],hoverOut:"pointerleave",clickOut:"pointerleave"}:null}var Vme;(function(n){n[n.ALL=3]="ALL",n[n.HORIZONTAL=2]="HORIZONTAL",n[n.VERTICAL=1]="VERTICAL"})(Vme||(Vme={}));var Wme=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};const ysn={x:["top","bottom"],y:["left","right"],category:["angle"],value:["radius"]};class jQ extends Sc{get enableRemain(){return this.triggerOff==="none"}constructor(e,t){super(e,t),this.specKey="crosshair",this.layoutType="none",this.gridZIndex=ji.CrossHair_Grid,this.labelZIndex=ji.CrossHair,this.trigger="hover",this._handleIn=i=>{if(!this._option)return;const{x:r,y:s}=this.calculateTriggerPoint(i);this.showDefault=!1,this._layoutCrosshair(r,s);const a=this._getNeedClearVRenderComponents();this._hasActive=a.some(o=>o&&o.attribute.visible!==!1)},this._handleClickInEvent=i=>{if(!this._hasActive||!this._spec.lockAfterClick||this._clickLock)return this._clickLock?(this._clickLock=!1,void this._handleOutEvent()):void(this._onlyLockClick||(this._handleIn(i),st(this.triggerOff)&&(this._timer&&clearTimeout(this._timer),this._timer=setTimeout(()=>{this._handleOutEvent()},this.triggerOff))));this._clickLock=!0},this._handleHoverInEvent=Km(i=>{this._clickLock||this._handleIn(i)},10),this._handleOutEvent=()=>{this.enableRemain||this._clickLock||!this._hasActive||(this.clearOutEvent(),this.hideCrosshair())},this._handleTooltipShow=i=>{const r=i.tooltipData;if(i.isEmptyTooltip||!r||!r.length)return void this._handleTooltipHideOrRelease();if(pn(this._spec.followTooltip)&&this._spec.followTooltip[i.activeType]===!1)return void this._handleTooltipHideOrRelease();const{x:s,y:a}=this.calculateTriggerPoint(i);this.showDefault=!1,this._layoutCrosshair(s,a,r,i.activeType);const o=this._getNeedClearVRenderComponents();this._hasActive=o.some(l=>l&&l.attribute.visible!==!1)},this._handleTooltipHideOrRelease=()=>{this.clearOutEvent(),this.hideCrosshair()},this.enable=!0,this.showDefault=!0}_setAllAxisValues(e,t,i){let r=!1;if(e.forEach(a=>{ml(a.axis.getScale().type)&&(r?this.enable=!1:r=!0)}),!this.enable)return!1;const{currentValue:s}=this._stateByField[i];return e.forEach((a,o)=>{const l=a.axis;s.set(o,{datum:this._getDatumAtPoint(l,t),axis:l})}),!0}clearAxisValue(){Object.keys(this._stateByField).forEach(e=>{this._stateByField[e].currentValue.clear()})}hideCrosshair(){this.clearAxisValue(),this.hide()}showCrosshair(e){e&&e.length&&(this.showDefault=!1,this.clearAxisValue(),e.forEach(t=>{const{axis:i,value:r}=t;this.setAxisValue(r,i)}),this.layoutByValue(!1))}_getLimitBounds(){var e,t;if(!this._limitBounds){const{width:i,height:r}=(t=(e=this._option.globalInstance.getChart())===null||e===void 0?void 0:e.getViewRect())!==null&&t!==void 0?t:{width:0,height:0};this._limitBounds={x1:0,y1:0,x2:i,y2:r}}return this._limitBounds}_showDefaultCrosshairBySpec(){let e=!1;return Object.keys(this._stateByField).forEach(t=>{const i=this._spec[t];if(i&&i.visible&&i.defaultSelect){const{axisIndex:r=0,datum:s}=i.defaultSelect,a=this._option.getComponentsByKey("axes").find(o=>o.getSpecIndex()===r);a&&(e=!0,this._stateByField[t].currentValue.clear(),this._stateByField[t].currentValue.set(r,{axis:a,datum:s}))}}),e}_updateVisibleCrosshair(){let e=!1;Object.keys(this._stateByField).forEach(t=>{const i=this._spec[t];i&&i.visible&&this._stateByField[t].currentValue.size?e=!0:this._hideByField(t)}),e&&this.layoutByValue(!1)}_showDefaultCrosshair(){this.showDefault?this._showDefaultCrosshairBySpec()&&this.layoutByValue(!1):this._updateVisibleCrosshair()}setAttrFromSpec(){super.setAttrFromSpec(),this._parseCrosshairSpec()}created(){super.created(),this._initEvent()}_compareSpec(e,t){const i=super._compareSpec(e,t);return i.reMake||Oi(t,e)||(i.reRender=!0,i.reMake=!0),i}_initEvent(){if(!this._option.disableTriggerEvent)if(this._spec.followTooltip)this._registerTooltipEvent();else{const e=this._getTriggerEvent();e&&e.forEach(t=>{this._registerEvent(t.in,!1,t.click),t.out&&this._registerEvent(t.out,!0)})}}_registerEvent(e,t,i){var r;if(((r=this._option.componentShowContent)===null||r===void 0?void 0:r.crosshair)===!1)return;const s=t?this._handleOutEvent:i?this._handleClickInEvent:this._handleHoverInEvent,a=t?{level:yr.chart}:{source:vi.chart};Oe(e)?e.forEach(o=>{this.event.on(o,a,s)}):this.event.on(e,a,s)}_eventOff(e,t,i){const r=t?this._handleOutEvent:i?this._handleClickInEvent:this._handleHoverInEvent;Oe(e)?e.forEach(s=>{this.event.off(s,r)}):this.event.off(e,r)}onBeforeRender(){this._limitBounds=null,this._showDefaultCrosshair()}calculateTriggerPoint(e){const{event:t}=e,i=this._option.getCompiler().getStage().getLayer(void 0),r={x:t.viewX,y:t.viewY};return i.globalTransMatrix.transformPoint({x:t.viewX,y:t.viewY},r),{x:r.x-this.getLayoutStartPoint().x,y:r.y-this.getLayoutStartPoint().y}}_getTriggerEvent(){const{mode:e=ha["desktop-browser"]}=this._option,t=vsn(e);if(t){const i=Ae(this.trigger||"hover"),r=a=>a==="click"?this.triggerOff==="none"?null:t.clickOut:t.hoverOut;this._spec.lockAfterClick&&!i.includes("click")?(i.push("click"),this._onlyLockClick=!0):this._onlyLockClick=!1;const s=[];return i.forEach(a=>{s.push({click:a==="click",in:t[a],out:r(a)})}),s}return null}_registerTooltipEvent(){this.event.on(Et.tooltipHide,{source:vi.chart},this._handleTooltipHideOrRelease),this.event.on(Et.tooltipShow,{source:vi.chart},this._handleTooltipShow),this.event.on(Et.tooltipRelease,{source:vi.chart},this._handleTooltipHideOrRelease)}_getAxisInfoByField(e){var t,i;const r=(i=(t=this._option).getComponentsByKey)===null||i===void 0?void 0:i.call(t,"axes");if(!(r!=null&&r.length))return null;let s=Hn(this._spec,`${e}Field.bindingAxesIndex`);if(s||(s=[],r.forEach((f,p)=>{ysn[e].includes(f.getOrient())&&s.push(p)})),!s.length)return null;const a=new Map;let o=1/0,l=1/0,u=-1/0,c=-1/0;const{x:d,y:h}=this.getLayoutStartPoint();return s.forEach(f=>{var p,g;o=1/0,l=1/0,u=-1/0,c=-1/0;const m=r.find(_=>_.getSpecIndex()===f);if(!m)return;const v=((g=(p=m).getInnerOffset)===null||g===void 0?void 0:g.call(p))||{left:0,right:0,top:0,bottom:0};m.getRegions().forEach(_=>{const{x:y,y:x}=_.getLayoutStartPoint();o=Math.min(o,y-d+v.left),l=Math.min(l,x-h+v.top),u=Math.max(u,y+_.getLayoutRect().width-d-v.right),c=Math.max(c,x+_.getLayoutRect().height-h-v.bottom)}),a.set(f,{x1:o,y1:l,x2:u,y2:c,axis:m})}),a}onLayoutEnd(){const e=this._regions[0];this.setLayoutRect(e.getLayoutRect()),this.setLayoutStartPosition(e.getLayoutStartPoint()),super.onLayoutEnd()}_releaseEvent(){this.clearOutEvent();const e=this._getTriggerEvent();e&&e.forEach(t=>{this._eventOff(t.in,!1,t.click),t.out&&this._eventOff(t.out,!0)})}_parseFieldInfo(){Object.keys(this._stateByField).forEach(e=>{const t=this._spec[e],{crosshairComp:i}=this._stateByField[e];if(t&&t.visible){if(this._stateByField[e].attributes=this._parseField(t,e),i){const{style:r,type:s}=this._stateByField[e].attributes,a=s==="rect"?"rectStyle":"lineStyle";i.setAttributes({[a]:r})}}else i&&i.parent&&i.parent.removeChild(i)})}_parseCrosshairSpec(){this._parseFieldInfo();const{trigger:e,triggerOff:t,labelZIndex:i,gridZIndex:r}=this._spec;e&&(this.trigger=e),(t==="none"||st(t)&&t>0)&&(this.triggerOff=t),i!==void 0&&(this.labelZIndex=i),r!==void 0&&(this.gridZIndex=r)}_parseField(e,t){var i,r,s;const a={},{line:o={},label:l={},visible:u}=e;if(a.visible=u,a.type=o.type||"line",o.visible===!1)a.style={visible:!1};else{const c=o.style||{},{stroke:d,fill:h,lineWidth:f}=c,p=c,{strokeOpacity:g,fillOpacity:m,opacity:v}=p,_=Wme(p,["strokeOpacity","fillOpacity","opacity"]),y=a.type==="line";let x=y?g:m;if(st(v)&&(x=(x??1)*v),a.style=Object.assign({opacity:x,pickable:!1,visible:!0},_),y)a.style.stroke=d||h,a.style.lineWidth=Hn(o,"width",f||2);else{a.style.fill=h||d,!((r=(i=e==null?void 0:e.line)===null||i===void 0?void 0:i.style)===null||r===void 0)&&r.stroke&&(a.style.stroke=e.line.style.stroke);const w=Hn(o,"width");if(typeof w=="string"){const T=parseInt(w.substring(0,w.length-1),10)/100;a.style.sizePercent=T}else typeof w!="number"&&typeof w!="function"||(a.style.size=w)}}if(l.visible){const c=l.labelBackground||{},d=(s=l.syncAxisLabelAngle)!==null&&s!==void 0&&s,h=l.style||{},f=c.style||{},{fill:p="rgba(47, 59, 82, 0.9)",stroke:g,outerBorder:m}=f,v=Wme(f,["fill","stroke","outerBorder"]);a.label={visible:!0,formatMethod:l.formatMethod,formatter:l.formatter,minWidth:c.minWidth,maxWidth:c.maxWidth,padding:c.padding,syncAxisLabelAngle:d,textStyle:Object.assign(Object.assign({fontSize:14,pickable:!1},h),{fill:h.fill||"#fff",stroke:Hn(h,"stroke")}),panel:(Va(c.visible)?c.visible:c)?Object.assign({visible:!0,pickable:!1,fill:p,stroke:g,outerBorder:Object.assign({stroke:p,distance:0,lineWidth:3},m)},v):{visible:!1},zIndex:this.labelZIndex,childrenPickable:!1,pickable:!1}}else a.label={visible:!1};return a}_filterAxisByPoint(e,t,i){return e&&e.forEach(r=>{const s=r.axis;if(fXt(r,t,i)&&e.delete(s.getSpecIndex()),s.type.startsWith("polarAxis")){const a=s.getCenter(),o=s.getInnerRadius(),l=s.getOuterRadius(),u=Fa.distancePP({x:t,y:i},a);(u>l||u<o)&&e.delete(s.getSpecIndex())}}),e}_updateCrosshairLabel(e,t,i){const r=this.getContainer();e?e.setAttributes(t):(e=new If(t),r==null||r.add(e),i(e)),WZt(e,this._getLimitBounds())}clearOutEvent(){this._timer&&(clearTimeout(this._timer),this._timer=null),this._clickLock&&(this._clickLock=null),this._hasActive&&(this._hasActive=null)}_hideByField(e){const{crosshairComp:t,labelsComp:i}=this._stateByField[e];t&&t.hideAll(),i&&Object.keys(i).forEach(r=>{i[r]&&i[r].hideAll()})}hide(){Object.keys(this._stateByField).forEach(e=>{this._hideByField(e)})}_getNeedClearVRenderComponents(){return Object.keys(this._stateByField).reduce((e,t)=>{const{crosshairComp:i,labelsComp:r}=this._stateByField[t];return i&&e.push(i),r&&Object.keys(r).forEach(s=>{r[s]&&e.push(r[s])}),e},[])}}jQ.specKey="crosshair";const FDe={trigger:"hover",bandField:{visible:!1,line:{type:"rect",visible:!0,style:{fill:{type:"palette",key:"axisGridColor"},opacity:.7,lineWidth:0,stroke:{type:"palette",key:"markLineStrokeColor"},lineDash:[2,3]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}},linearField:{visible:!1,line:{type:"line",visible:!0,style:{stroke:{type:"palette",key:"markLineStrokeColor"},fill:"transparent",opacity:.7,lineDash:[2,3]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}}};class QA extends jQ{static getSpecInfo(e){return lg(e,this.specKey,this.type,t=>t.xField&&t.xField.visible!==!1||t.yField&&t.yField.visible!==!1)}constructor(e,t){super(e,t),this.type=He.cartesianCrosshair,this.name=He.cartesianCrosshair,this._stateByField={xField:{coordKey:"x",anotherAxisKey:"y",currentValue:new Map,labelsComp:{top:null,bottom:null}},yField:{coordKey:"y",anotherAxisKey:"x",currentValue:new Map,labelsComp:{left:null,right:null}}}}_findAllAxisContains(e,t){const i=this._getAxisInfoByField("x"),r=this._getAxisInfoByField("y");return{xAxisMap:this._filterAxisByPoint(i,e,t),yAxisMap:this._filterAxisByPoint(r,e,t)}}_getDatumAtPoint(e,t){const i=Kr(e.getOrient())?"x":"y",r=t[i]-(e.getLayoutStartPoint()[i]-this.getLayoutStartPoint()[i]);return e.getScale().invert(r)}setAxisValue(e,t){Kr(t.getOrient())?this._stateByField.xField.currentValue.set(t.getSpecIndex(),{datum:e,axis:t}):this._stateByField.yField.currentValue.set(t.getSpecIndex(),{datum:e,axis:t})}_layoutCrosshair(e,t,i,r){var s;let a=e,o=t;if(i&&i.length){if(r==="dimension"){const c=i[0],d=c.data.findIndex(f=>f.datum.length>0);let h;if(d>-1){const f=c.data[d];h=f.series.dataToPosition(f.datum[0])}(Y(c.dimType)?c.dimType==="y":sm((s=c==null?void 0:c.axis)===null||s===void 0?void 0:s.getOrient()))?o=h==null?void 0:h.y:a=h==null?void 0:h.x}else if(r==="mark"){const c=i[0],d=c.series.dataToPosition(c.datum[0]);a=d==null?void 0:d.x,o=d==null?void 0:d.y}}this.clearAxisValue();const{xAxisMap:l,yAxisMap:u}=this._findAllAxisContains(a,o);if(l&&l.size===0||u&&u.size===0){if(this.enableRemain)return;this.hide()}else l&&l.size&&this._setAllAxisValues(l,{x:a,y:o},"xField"),u&&u.size&&this._setAllAxisValues(u,{x:a,y:o},"yField"),this.layoutByValue()}layoutByValue(e){if(!this.enable)return;const t=eQ(this._regions,"cartesian");t&&(ZIe(this._stateByField,t,this.getLayoutStartPoint(),e??this.enableRemain),Object.keys(this._stateByField).forEach(i=>{this._layoutByField(i)}))}_layoutByField(e){const{cacheInfo:t,attributes:i,labelsComp:r,bandSize:s,coordKey:a}=this._stateByField[e];if(!i||!t||t._isCache&&this.enableRemain)return;const{coord:o,labels:l,visible:u,labelsTextStyle:c}=t;if(u){const d=V7(this._stateByField[e]);this._updateCrosshairByField(e,d),Object.keys(l).forEach(h=>{var f,p,g;if(l[h].visible){const m=Object.assign(Object.assign(Object.assign({[a]:o+s/2},l[h]),i.label),{angle:i.label.syncAxisLabelAngle&&(p=(f=t.axisLabel)===null||f===void 0?void 0:f.attribute.angle)!==null&&p!==void 0?p:0,textStyle:Object.assign(Object.assign({},(g=i.label)===null||g===void 0?void 0:g.textStyle),c[h]),zIndex:this.labelZIndex,visible:!0});this._updateCrosshairLabel(r[h],m,v=>{v.name=`crosshair-${e.replace("Field","")}-${h}-label`,r[h]=v})}else r[h]&&r[h].hideAll()})}else this._hideByField(e)}_updateCrosshairByField(e,t){const i=this.getContainer(),{attributes:r}=this._stateByField[e];let{crosshairComp:s}=this._stateByField[e];if(s)s.setAttributes(t);else{const a=r.style;r.type==="line"?s=new EM(Object.assign(Object.assign({},t),{lineStyle:a,zIndex:this.gridZIndex+1,disableTriggerEvent:this._option.disableTriggerEvent,pickable:!1})):r.type==="rect"&&(s=new Sz(Object.assign(Object.assign({},t),{rectStyle:a,zIndex:this.gridZIndex,disableTriggerEvent:this._option.disableTriggerEvent,pickable:!1}))),i==null||i.add(s),this._stateByField[e].crosshairComp=s}}}QA.specKey="crosshair",QA.builtInTheme={crosshair:FDe},QA.type=He.cartesianCrosshair;const _sn=()=>{ne.registerComponent(QA.type,QA)},bsn=(n,e,t=!1)=>{Object.keys(n).forEach(i=>{const{attributes:r,currentValue:s,cacheInfo:a,coordKey:o}=n[i];if(r){const l=!!s.size,u=t&&!l&&Y(a),c=u?a:{coord:0,axis:null,visible:l,coordRange:[0,0],sizeRange:[0,0],labels:{all:{visible:!1,text:"",offset:0}}};if(a&&(a._isCache=u),i==="valueField"&&(c.sides=e.angleAxisHelper.getScale(0).domain().length),s.forEach(({axis:d,datum:h=""})=>{var f;const p=d.niceLabelFormatter;if(!((f=r.label)===null||f===void 0)&&f.visible&&(c.labels.all.visible=!0,c.labels.all.defaultFormatter=p,c.labels.all.text=h,c.labels.all.offset=yQ(d.getSpec())),i==="categoryField"){const g=e.angleAxisHelper.dataToPosition([h]),m=e.angleAxisHelper.getBandwidth(0),v=d.getOuterRadius();c.coord=g,c.coordRange=[g-m/2,g+m/2],c.sizeRange=[v,v]}else{const g=d.startAngle,m=e.radiusAxisHelper.dataToPosition([h]);c.coord=m,c.coordRange=[m,m],c.sizeRange=[g,g]}c.axis=d}),c&&!u&&c.labels.all.visible&&r&&r.label){const d=c.labels.all,{formatMethod:h,formatter:f}=r.label,{formatFunc:p,args:g}=zm(h,f,d.text,{label:d.text,orient:o});p?d.text=p(...g):d.defaultFormatter&&(d.text=d.defaultFormatter(d.text))}n[i].cacheInfo=c}})},Ssn=(n,e,t)=>{const{cacheInfo:i,coordKey:r,attributes:s}=n,{axis:a,coord:o,sizeRange:l,coordRange:u}=i,c=a.getCenter(),d={x:c.x+e.x,y:c.y+e.y};if(r==="angle")return(s.type==="rect"?"sector":"line")=="sector"?{center:d,innerRadius:a.getInnerRadius(),radius:a.getOuterRadius(),startAngle:u[0],endAngle:u[1]}:{start:Sr(d,a.getInnerRadius(),o),end:Sr(d,a.getOuterRadius(),o)};const h=a.startAngle,f=a.endAngle,p=i.sides;let g=o;if(!t){const m=a.getCenter(),v=a.coordToPoint({angle:l[0],radius:o}),_=GAe(m,v),y=(f-h)/p,x=Math.floor((_-h)/y),w=x*y+h,T=Math.min((x+1)*y+h,f),E=Sr(m,o,w),A=Sr(m,o,T),k=XAe([A.x,A.y],[E.x,E.y],[m.x,m.y],[v.x,v.y]);k&&(g=ki(Fa.distancePN(v,k[0],k[1])+o,a.getInnerRadius(),a.getOuterRadius()))}return{center:d,startAngle:h,endAngle:f,radius:g,sides:p}};class JA extends jQ{static getSpecInfo(e){return lg(e,this.specKey,this.type,t=>t.categoryField&&t.categoryField.visible!==!1||t.valueField&&t.valueField.visible!==!1)}constructor(e,t){super(e,t),this.type=He.polarCrosshair,this.name=He.polarCrosshair,this._stateByField={categoryField:{coordKey:"angle",anotherAxisKey:"radius",currentValue:new Map,labelsComp:{all:null}},valueField:{coordKey:"radius",anotherAxisKey:"angle",currentValue:new Map,labelsComp:{all:null}}}}setAxisValue(e,t){t.getOrient()==="radius"?this._stateByField.valueField.currentValue.set(t.getSpecIndex(),{datum:e,axis:t}):this._stateByField.categoryField.currentValue.set(t.getSpecIndex(),{datum:e,axis:t})}_findAllAxisContains(e,t){const i=this._getAxisInfoByField("category"),r=this._getAxisInfoByField("value");return{angleAxisMap:this._filterAxisByPoint(i,e,t),radiusAxisMap:this._filterAxisByPoint(r,e,t)}}_getDatumAtPoint(e,t){const{x:i,y:r}=e.getLayoutStartPoint(),{x:s,y:a}=this.getLayoutStartPoint();return e.positionToData({x:t.x-(i-s),y:t.y-(r-a)})}_layoutCrosshair(e,t,i,r){let s=e,a=t;if(i&&i.length){if(r==="dimension"){const u=i[0];if(u.axis){const c=u.axis.pointToCoord({x:s,y:a}),d=u.axis.getOrient()==="radius"?{radius:u.position,angle:c.angle}:{radius:c.radius,angle:u.position},h=u.axis.coordToPoint(d);s=h.x,a=h.y}}else if(r==="mark"){const u=i[0],c=u.series.dataToPosition(u.datum[0]);s=c.x,a=c.y}}this.clearAxisValue();const{angleAxisMap:o,radiusAxisMap:l}=this._findAllAxisContains(s,a);if(o.size!==0||l.size!==0)o&&this._setAllAxisValues(o,{x:s,y:a},"categoryField"),l&&this._setAllAxisValues(l,{x:s,y:a},"valueField"),this.layoutByValue();else{if(this.enableRemain)return;this.hide()}}layoutByValue(e){if(!this.enable)return;const t=eQ(this._regions,"polar");t&&(bsn(this._stateByField,t,e??this.enableRemain),Object.keys(this._stateByField).forEach(i=>{this._layoutByField(i)}))}_layoutByField(e){var t,i,r;const{cacheInfo:s,attributes:a,crosshairComp:o,labelsComp:l,coordKey:u}=this._stateByField[e];if(!s||s._isCache&&this.enableRemain)return;const c=this.getContainer(),{visible:d,labels:h,coord:f,sizeRange:p,axis:g}=s;if(d){const m=this.getLayoutStartPoint(),v=(i=(t=this._spec.valueField)===null||t===void 0?void 0:t.line)===null||i===void 0?void 0:i.smooth,_=Ssn(this._stateByField[e],m,v);if(o)o.setAttributes(_);else{let x;if(u==="angle"){const w=a.type==="rect"?"sector":"line";w==="line"?x=new EM(Object.assign(Object.assign({},_),{lineStyle:a.style,zIndex:this.gridZIndex,pickable:!1})):w==="sector"&&(x=new wz(Object.assign(Object.assign({},_),{sectorStyle:a.style,zIndex:this.gridZIndex,pickable:!1})))}else x=(v?"circle":"polygon")=="polygon"?new Cz(Object.assign(Object.assign({},_),{lineStyle:a.style,zIndex:this.gridZIndex+1})):new xz(Object.assign(Object.assign({},_),{lineStyle:a.style,zIndex:this.gridZIndex}));this._stateByField[e].crosshairComp=x,c.add(x)}const y=h.all;if(y.visible){const x=g.getCenter(),w={x:x.x+m.x,y:x.y+m.y},T=u==="angle"?eYt(f):vXt(g.startAngle),E=u==="angle"?Sr(w,p[1]+y.offset,f):Sr(w,_.radius,g.startAngle),A=Object.assign(Object.assign(Object.assign(Object.assign({},E),a.label),y),{textStyle:Object.assign(Object.assign({},(r=a.label)===null||r===void 0?void 0:r.textStyle),{textAlign:T.align,textBaseline:T.baseline}),zIndex:this.labelZIndex});this._updateCrosshairLabel(l.all,A,k=>{k.name=`crosshair-${u}-label`,l.all=k})}else l.all&&l.all.hideAll()}}}JA.specKey="crosshair",JA.builtInTheme={crosshair:FDe},JA.type=He.polarCrosshair;const xsn=()=>{ne.registerComponent(JA.type,JA)},wsn=(n,e)=>{const{getNewDomain:t,isContinuous:i,field:r,originalFields:s}=e,a=r(),o=t();if(J(o)||J(a))return n;const l=s(),u=Oe(a)?a[0]:a;return n[u]&&l&&l[u]&&l[u].lockStatisticsByDomain&&!i()&&(n[u].values=o),n},Csn=(n,e)=>{const{getNewDomain:t,isContinuous:i,field:r}=e,s=r(),a=t();if(J(a)||J(s))return n;if(a.length===0)return[];const o={};a.forEach(u=>{o[u]||(o[u]=1)});let l=null;return l=i()?u=>{let c=!1;return Ae(s).every(d=>{u[d]>=a[0]&&u[d]<=Xn(a)&&(c=!0)}),c}:u=>{let c=!1;return Ae(s).every(d=>{(o[u[d]+""]||o[u[d]])&&(c=!0)}),c},n.filter(l)},Tsn=(n,e)=>{const{stateFields:t,valueFields:i,dataCollection:r,isCategoryState:s,seriesCollection:a}=e.input,{stateField:o,valueField:l}=e.output,u={},c=[],d=[],h=[];let f=!1,p=!1;return r.forEach((g,m)=>{var v;if(J(t[m]))return;const _=a[m];if(_){const x=_.getRawDataStatisticsByField(t[m]);Y(x==null?void 0:x.max)&&Y(x==null?void 0:x.min)&&(p=!0)}const y=(v=g.getFields())===null||v===void 0?void 0:v[t[m]];y&&y.lockStatisticsByDomain&&(f=!0,y.domain.forEach(x=>{J(u[x])&&(h.push(x),u[x]=0,c.push(x))})),g.latestData.forEach(x=>{Ae(t[m]).forEach(w=>{J(x[w])||(J(u[x[w]])&&(h.push(x[w]),u[x[w]]=0,c.push(x[w])),J(i[m])||(u[x[w]]+=isNaN(parseFloat(x[i[m]]))?1:parseFloat(x[i[m]])))})})}),(f?h:s===!1||p?h.sort((g,m)=>g-m):c).forEach(g=>{const m={[o]:g};l&&(m[l]=u[g]),d.push(m)}),d},qp=(n,e,t)=>{const i=e.domain();if(Ei(e.type))return t?i[0]+(Xn(i)-i[0])*(1-n):i[0]+(Xn(i)-i[0])*n;let r=e.range();t&&(r=r.slice().reverse());const s=r[0]+(Xn(r)-r[0])*n;return e.invert(s)},dx=(n,e,t)=>{const i=e.scale(n);let r=e.range();return!t&&Ei(e.type)&&(r=r.slice().reverse()),Math.max(0,Math.min(1,(i-r[0])/(Xn(r)-r[0])))},ec=(n,e)=>{const t=n;if(!t)return!1;const i=t.getScale();return i.range()[0]>i.range()[1]&&(!t.getInverse()||e)},Ume=n=>{const e=n==null?void 0:n.bandSize,t=n==null?void 0:n.maxBandSize,i=n==null?void 0:n.minBandSize;if(e||i||t)return{bandSize:e,maxBandSize:t,minBandSize:i}},Gme=(n,e,t)=>n==="start"?e==="percent"&&Y(t.start)||e==="value"&&Y(t.startValue):e==="percent"&&Y(t.end)||e==="value"&&Y(t.endValue),Yme=(n,e,t)=>{if(Ei(t.type))return[Math.min(e,n),Math.max(e,n)];const i=t.domain(),r=i.indexOf(n),s=i.indexOf(e);return i.slice(Math.min(r,s),Math.max(r,s)+1)},Esn=(n,e,t,i,r)=>{if(Ei(r.type)){const c=r.domain(),d=c[0],h=Xn(c)-d,f=Y(n)?d+h*n:+e,p=Y(t)?d+h*t:+i;return[Math.min(p,f),Math.max(p,f)]}const s=r.domain(),a=r.range(),o=a[a.length-1]-a[0],l=Y(n)?s.indexOf(r.invert(o*n+a[0])):s.indexOf(e),u=Y(t)?s.indexOf(r.invert(o*t+a[0])):s.indexOf(i);return s.slice(Math.min(l,u),Math.max(l,u)+1)};class BDe{enableInteraction(){this._activeRoam=!0}disableInteraction(){this._activeRoam=!1}zoomIn(e){this.handleChartZoom({zoomDelta:1.2,zoomX:e==null?void 0:e.x,zoomY:e==null?void 0:e.y})}zoomOut(e){this.handleChartZoom({zoomDelta:.8,zoomX:e==null?void 0:e.x,zoomY:e==null?void 0:e.y})}constructor(e,t,i,r,s,a,o,l){this._activeRoam=!0,this._zoomAttr={enable:!0,rate:1,focus:!0},this._dragAttr={enable:!0,rate:1,reverse:!0},this._scrollAttr={enable:!0,rate:1,reverse:!0},this.initZoomEvent=()=>{var u,c,d,h,f,p,g;const m={delayType:(c=(u=this._spec)===null||u===void 0?void 0:u.delayType)!==null&&c!==void 0?c:"throttle",delayTime:Y((d=this._spec)===null||d===void 0?void 0:d.delayType)?(f=(h=this._spec)===null||h===void 0?void 0:h.delayTime)!==null&&f!==void 0?f:30:0,realTime:(g=(p=this._spec)===null||p===void 0?void 0:p.realTime)===null||g===void 0||g,allowComponentZoom:!0};this._zoomAttr.enable&&this.initZoomEventOfRegions(this.getRegions(),null,this.handleChartZoom,m),this._scrollAttr.enable&&this.initScrollEventOfRegions(this.getRegions(),null,this.handleChartScroll,m),this._dragAttr.enable&&this.initDragEventOfRegions(this.getRegions(),null,this.handleChartDrag,m)},this.handleChartZoom=(u,c)=>{var d,h;if(!this._activeRoam||this._zoomAttr.filter&&!this._zoomAttr.filter(u,c))return;const{zoomDelta:f,zoomX:p,zoomY:g}=u,{x:m,y:v}=this.getRegions()[0].getLayoutStartPoint(),{width:_,height:y}=this.getRegions()[0].getLayoutRect(),x=Math.abs(this.getState().start-this.getState().end),w=(h=(d=this._spec.roamZoom)===null||d===void 0?void 0:d.rate)!==null&&h!==void 0?h:1;if(x>=1&&f<1||x<=.01&&f>1)return;const T=this._isHorizontal?p:g,E=x*(f-1)*w;let A=E/2,k=E/2;if(T){const D=this._isHorizontal?m:v,L=this._isHorizontal?_:y;A=Math.abs(D-T)/Math.abs(L-D)*E,k=Math.abs(L-T)/Math.abs(L-D)*E}const P=ki(this.getState().start+A,0,1),I=ki(this.getState().end-k,0,1);this._handleChange(Math.min(P,I),Math.max(P,I),!0)},this.handleChartScroll=(u,c)=>{var d;if(!this._activeRoam||this._scrollAttr.filter&&!this._scrollAttr.filter(u,c))return!1;const{scrollX:h,scrollY:f}=u;let p=this._isHorizontal?h:f;const g=this._isHorizontal?qn(h/f)>=.5:qn(f/h)>=.5;this._scrollAttr.reverse||(p=-p),g&&this.handleChartMove(p,(d=this._scrollAttr.rate)!==null&&d!==void 0?d:1);const m=this.getState().start!==0&&this.getState().end!==1;return g&&m},this.handleChartDrag=(u,c)=>{var d;if(!this._activeRoam||this._dragAttr.filter&&!this._dragAttr.filter(u,c))return;const[h,f]=u;let p=this._isHorizontal?h:f;this._dragAttr.reverse&&(p=-p),this.handleChartMove(p,(d=this._dragAttr.rate)!==null&&d!==void 0?d:1)},this.handleChartMove=(u,c)=>{const d=this._isHorizontal?this.getLayoutRect().width:this.getLayoutRect().height;if(Math.abs(u)>=1e-6){if(u>0&&this.getState().end<1){const h=Math.min(1-this.getState().end,u/d)*c;this._handleChange(this.getState().start+h,this.getState().end+h,!0)}else if(u<0&&this.getState().start>0){const h=Math.max(-this.getState().start,u/d)*c;this._handleChange(this.getState().start+h,this.getState().end+h,!0)}}return!1},this._type=e,this._spec=t,this._handleChange=i,this.getLayoutRect=r,this.getState=s,this.getRegions=a,this._regions=a(),this.getOption=o,this._option=o(),this.getEvent=l,this._isHorizontal=MA(Jv(t))==="horizontal"}setEventAttrFromSpec(){this._spec.roamZoom===!0||this._spec.roamZoom?this._zoomAttr=We({},this._zoomAttr,this._spec.roamZoom):this._zoomAttr.enable=!1,this._spec.roamDrag===!0||this._spec.roamDrag?this._dragAttr=We({},this._dragAttr,this._spec.roamDrag):this._dragAttr.enable=!1,this._spec.roamScroll===!0||this._spec.roamScroll?this._scrollAttr=We({},this._scrollAttr,this._spec.roamScroll):this._scrollAttr.enable=!1,Va(this._spec.roam)&&(this._zoomAttr.enable=this._type!=="scrollBar"&&this._spec.roam,this._dragAttr.enable=this._spec.roam,this._scrollAttr.enable=this._spec.roam),(this._zoomAttr.enable||this._dragAttr.enable||this._scrollAttr.enable)&&this.initZoomable(this.getEvent(),this._option.mode)}}Li(BDe,iH);class zQ extends Sc{get isHorizontal(){return this._isHorizontal}get stateScale(){return this._stateScale}get relatedAxisComponent(){return this._relatedAxisComponent}setStartAndEnd(e,t,i=["percent","percent"]){const[r="percent",s="percent"]=i,a=r==="percent"?e:dx(e,this._stateScale,this._isHorizontal),o=s==="percent"?t:dx(t,this._stateScale,this._isHorizontal);this._handleChange(a,o,!0)}enableInteraction(){this._dataFilterEvent.enableInteraction()}disableInteraction(){this._dataFilterEvent.disableInteraction()}zoomIn(e){this._dataFilterEvent.zoomIn(e)}zoomOut(e){this._dataFilterEvent.zoomOut(e)}_initEvent(){var e;this._dataFilterEvent.initZoomEvent(),(e=this._relatedAxisComponent)===null||e===void 0||e.event.on(Et.scaleRawDomainUpdate,({model:t})=>{console.log("scaleRawDomainUpdate",t.getRawDomain())})}_handleChange(e,t,i){var r,s;(s=(r=this._spec)===null||r===void 0?void 0:r.zoomLock)!==null&&s!==void 0&&s||t-e!==this._spanCache&&(t-e<this._minSpan||t-e>this._maxSpan)?this._shouldChange=!1:(this._shouldChange=!0,this._spanCache=t-e)}_updateRangeFactor(e){const t=this._relatedAxisComponent,i=t.getScale(),r=ec(t,this._isHorizontal),s=r?[1-this._end,1-this._start]:[this._start,this._end];if(r)switch(e){case"startHandler":t.scaleRangeFactorEnd(s[1]);break;case"endHandler":t.scaleRangeFactorStart(s[0]);break;default:t.scaleRangeFactorStart(s[0],!0),t.scaleRangeFactorEnd(s[1])}else switch(e){case"startHandler":t.scaleRangeFactorStart(s[0]);break;case"endHandler":t.scaleRangeFactorEnd(s[1]);break;default:t.scaleRangeFactorEnd(s[1],!0),t.scaleRangeFactorStart(s[0])}const a=i.rangeFactor();a?(this._start=r?1-a[1]:a[0],this._end=r?1-a[0]:a[1]):(this._start=0,this._end=1)}get visible(){return this._visible}constructor(e,t){super(e,t),this.layoutType="none",this._orient="left",this._cacheVisibility=void 0,this._dataUpdating=!1,this._hasInitStateScale=!1,this._shouldChange=!0,this._stateField="x",this._handleStateChange=(i,r,s)=>{var a,o;return this._startValue=i,this._endValue=r,this._newDomain=Yme(this._startValue,this._endValue,this._stateScale),(o=(a=this.effect).onZoomChange)===null||o===void 0||o.call(a,s),!0},this.effect={onZoomChange:i=>{var r,s;const a=this._relatedAxisComponent;if(a&&this._filterMode==="axis"){const o=a.getScale(),l=a.getSpec();this._auto&&Ume(l)&&this._spec.ignoreBandSize&&(o.bandwidth("auto"),o.maxBandwidth("auto"),o.minBandwidth("auto")),this._updateRangeFactor(i),this._auto&&((s=(r=this._component)===null||r===void 0?void 0:r.setStartAndEnd)===null||s===void 0||s.call(r,this._start,this._end)),a.effect.scaleUpdate({value:"force"})}else ts(this._regions,o=>{var l;(l=o.getViewData())===null||l===void 0||l.markRunning()},{userId:this._seriesUserId,specIndex:this._seriesIndex}),ts(this._regions,o=>{o.reFilterViewData()},{userId:this._seriesUserId,specIndex:this._seriesIndex})}},this._visible=!0,this._orient=Jv(e),this._isHorizontal=MA(this._orient)==="horizontal",this._dataFilterEvent=new BDe(this.type,this._spec,this._handleChange.bind(this),this.getLayoutRect.bind(this),()=>({start:this._start,end:this._end}),()=>this._regions,(()=>this._option).bind(this),()=>this.event)}created(){super.created(),this._setAxisFromSpec(),this._setRegionsFromSpec(),this._initEvent(),this._initData(),this._initStateScale(),this._setStateFromSpec()}initLayout(){super.initLayout(),this._layout&&(this._layout.layoutOrient=this._orient)}init(e){super.init(e),this._addTransformToSeries(),this._start===0&&this._end===1||this.effect.onZoomChange()}_compareSpec(e,t){const i=super._compareSpec(e,t);return i.reMake||Oi(t,e)||(i.reRender=!0,i.reMake=!0),i}reInit(e){super.reInit(e),this._marks.forEach(t=>{t.getMarks().forEach(i=>{this.initMarkStyleWithSpec(i,this._spec[i.name])})})}onLayoutStart(e,t){super.onLayoutStart(e,t);const i=this._autoUpdate(e);this._autoVisible(i),this._dataUpdating=!1}updateLayoutAttribute(){this._visible&&this._createOrUpdateComponent(),this._hasInitStateScale||(this._start===0&&this._end===1||(this._newDomain=Esn(this._spec.start,this._startValue,this._spec.end,this._endValue,this._stateScale),this.effect.onZoomChange()),this._hasInitStateScale=!0)}_initAfterLayout(){this._stateScale=null,this._initStateScale(),this._updateScaleRange(),this._setStateFromAxis()}_beforeLayoutEnd(){this._hasInitStateScale?this._updateScaleRange():this._initAfterLayout()}onLayoutEnd(){var e;this._beforeLayoutEnd();const t=!(this._start===0&&this._end===1);this._autoVisible(t),super.onLayoutEnd(),(e=this._relatedAxisComponent)===null||e===void 0||e.updateScaleRange()}getBoundsInRect(e){const t={x1:this.getLayoutStartPoint().x,y1:this.getLayoutStartPoint().y,x2:0,y2:0};return this._isHorizontal?(t.y2=t.y1+this._height,t.x2=t.x1+e.width):(t.x2=t.x1+this._width,t.y2=t.y1+e.height),t}setAttrFromSpec(){var e;super.setAttrFromSpec(),this._dataFilterEvent.setEventAttrFromSpec(),this._field=this._spec.field,this._width=this._computeWidth(),this._height=this._computeHeight(),this._visible=(e=this._spec.visible)===null||e===void 0||e}_setAxisFromSpec(){if(Y(this._spec.axisId)?this._relatedAxisComponent=this._option.getComponentByUserId(this._spec.axisId):Y(this._spec.axisIndex)&&(this._relatedAxisComponent=this._option.getComponentByIndex("axes",this._spec.axisIndex)),J(this._spec.field)&&!this._relatedAxisComponent){const e=this._option.getComponentsByKey("axes"),t=e.find(i=>MA(i._orient)===MA(this._orient));if(t)this._relatedAxisComponent=t;else{const i=e.find(r=>!Ei(r.getScale().type));this._relatedAxisComponent=i}}this._relatedAxisComponent&&this._filterMode==="axis"&&(this._relatedAxisComponent.autoIndentOnce=!0)}_setRegionsFromSpec(){var e,t;this._regions=this._relatedAxisComponent?this._relatedAxisComponent.getRegions():this._option.getAllRegions();const i=this._relatedAxisComponent?(t=(e=this._relatedAxisComponent).getBindSeriesFilter)===null||t===void 0?void 0:t.call(e):null;if(Y(i)&&(Y(i.userId)&&(this._seriesUserId=Ae(i.userId)),Y(i.specIndex)&&(this._seriesIndex=Ae(i.specIndex))),Y(this._spec.seriesId)){const r=Ae(this._spec.seriesId);this._seriesUserId?this._seriesUserId=this._seriesUserId.filter(s=>r.includes(s)):this._seriesUserId=r}if(Y(this._spec.seriesIndex)){const r=Ae(this._spec.seriesIndex);this._seriesIndex?this._seriesIndex=this._seriesIndex.filter(s=>r.includes(s)):this._seriesIndex=r}if(Y(this._spec.regionIndex)){const r=this._option.getRegionsInIndex(Ae(this._spec.regionIndex));this._regions=this._regions.filter(s=>r.includes(s))}else if(Y(this._spec.regionId)){const r=Ae(this._spec.regionId);this._regions=r.length?this._regions.filter(s=>r.includes(s.id)):[]}}_initData(){const e=[],t=[],i=[],r=[];let s;if(this._relatedAxisComponent){const l={};ts(this._regions,u=>{var c,d;const h=u.coordinate==="cartesian"?u.getXAxisHelper():u.coordinate==="polar"?u.angleAxisHelper:null,f=u.coordinate==="cartesian"?u.getYAxisHelper():u.coordinate==="polar"?u.radiusAxisHelper:null;if(!h||!f)return;const p=h.getAxisId()===this._relatedAxisComponent.id?h:f.getAxisId()===this._relatedAxisComponent.id?f:this._isHorizontal?h:f,g=p===h?f:h,m=Ei(g.getScale(0).type),v=Ei(p.getScale(0).type);e.push(u.getRawData());const _=u.getSpec(),y=u.coordinate==="cartesian"?Ae(_.xField):Ae((c=_.angleField)!==null&&c!==void 0?c:_.categoryField),x=u.coordinate==="cartesian"?Ae(_.yField):Ae((d=_.radiusField)!==null&&d!==void 0?d:_.valueField);if(l[u.id]=u.type==="link"?["from_xField"]:p===h?y:x,v?(s=!1,i.push(l[u.id])):(s=!0,i.push(l[u.id][0])),this._valueField){const w=u.type==="link"?["from_yField"]:g===h?y:x;m&&r.push(...w)}},{userId:this._seriesUserId,specIndex:this._seriesIndex}),this._originalStateFields=l}else ts(this._regions,l=>{e.push(l.getRawData()),t.push(l),i.push(this._field),this._valueField&&r.push(this._spec.valueField)},{userId:this._seriesUserId,specIndex:this._seriesIndex});const{dataSet:a}=this._option;Am(a,"dataview",Qj),rn(a,"dataFilterComputeDomain",Tsn);const o=new Pi(a,{name:`${this.type}_${this.id}_data`});o.transform({type:"dataFilterComputeDomain",options:{input:{dataCollection:e,seriesCollection:t,stateFields:i,valueFields:r,isCategoryState:s},output:{stateField:this._stateField,valueField:this._valueField}}},!1),this._data=new Zl(this._option,o),o.reRunAllTransform(),a.multipleDataViewAddListener(e,"change",this._handleDataCollectionChange.bind(this))}_addTransformToSeries(){this._relatedAxisComponent&&this._filterMode==="axis"||(rn(this._option.dataSet,"dataFilterWithNewDomain",Csn),rn(this._option.dataSet,"lockStatisticsFilter",wsn),ts(this._regions,e=>{e.getViewDataStatistics().transform({type:"lockStatisticsFilter",options:{originalFields:()=>e.getViewDataStatistics().getFields(),getNewDomain:()=>this._newDomain,field:()=>{var t;return(t=this._field)!==null&&t!==void 0?t:this._parseFieldOfSeries(e)},isContinuous:()=>Ei(this._stateScale.type)},level:1},!1),e.addViewDataFilter({type:"dataFilterWithNewDomain",options:{getNewDomain:()=>this._newDomain,field:()=>{var t;return(t=this._field)!==null&&t!==void 0?t:this._parseFieldOfSeries(e)},isContinuous:()=>Ei(this._stateScale.type)},level:og.dataZoomFilter})},{userId:this._seriesUserId,specIndex:this._seriesIndex}))}onDataUpdate(){var e;const t=this._computeDomainOfStateScale(Ei(this._stateScale.type));this._stateScale.domain(t,!1),this._handleChange(this._start,this._end,!0),this._spec.auto&&!Oi(this._domainCache,t)&&(this._domainCache=t,this._dataUpdating=!0,(e=this.getChart())===null||e===void 0||e.setLayoutTag(!0,null,!1))}_parseFieldOfSeries(e){var t;return(t=this._originalStateFields)===null||t===void 0?void 0:t[e.id]}_setStateFromSpec(){let e,t;if(this._auto=!!this._spec.auto,this._spec.rangeMode){const[i,r]=this._spec.rangeMode;Gme("start",i,this._spec)&&Gme("end",r,this._spec)&&(e=i==="percent"?this._spec.start:dx(this._spec.startValue,this._stateScale,this._isHorizontal),t=r==="percent"?this._spec.end:dx(this._spec.endValue,this._stateScale,this._isHorizontal))}else e=this._spec.start?this._spec.start:this._spec.startValue?dx(this._spec.startValue,this._stateScale,this._isHorizontal):0,t=this._spec.end?this._spec.end:this._spec.endValue?dx(this._spec.endValue,this._stateScale,this._isHorizontal):1;this._start=Math.max(0,Math.min(1,e)),this._end=Math.max(0,Math.min(1,t))}_setStateFromAxis(){var e,t;this._setStateFromSpec();const i=this._relatedAxisComponent;this._startValue=qp(this._start,this._stateScale,ec(i,this._isHorizontal)),this._endValue=qp(this._end,this._stateScale,ec(i,this._isHorizontal)),this._minSpan=(e=this._spec.minSpan)!==null&&e!==void 0?e:0,this._maxSpan=(t=this._spec.maxSpan)!==null&&t!==void 0?t:1,Ei(this._stateScale.type)&&this._stateScale.domain()[0]!==Xn(this._stateScale.domain())&&(this._spec.minValueSpan&&(this._minSpan=this._spec.minValueSpan/(Xn(this._stateScale.domain())-this._stateScale.domain()[0])),this._spec.maxValueSpan&&(this._maxSpan=this._spec.maxValueSpan/(Xn(this._stateScale.domain())-this._stateScale.domain()[0]))),this._minSpan=Math.max(0,this._minSpan),this._maxSpan=Math.min(this._maxSpan,1),i&&(i&&this._filterMode==="axis"||this._start===0&&this._end===1||(this._newDomain=Yme(this._startValue,this._endValue,this._stateScale)))}_initStateScale(){var e,t,i,r,s,a;const o=[0,1];if(this._relatedAxisComponent){const l=this._relatedAxisComponent.getScale().clone();this._stateScale=l,(t=(e=l).maxBandwidth)===null||t===void 0||t.call(e,"auto",!0),(r=(i=l).minBandwidth)===null||r===void 0||r.call(i,"auto",!0),(a=(s=l).bandwidth)===null||a===void 0||a.call(s,"auto",!0),l.rangeFactor(o,!0).range(o)}else{let l=!0;this._field&&ts(this._regions,u=>{const c=u.getRawDataStatisticsByField(this._field);Me(c==null?void 0:c.min)&&Me(c==null?void 0:c.max)||(l=!1)},{userId:this._seriesUserId,specIndex:this._seriesIndex}),this._stateScale=l?new Ou:new Q0,this._stateScale.domain(this._computeDomainOfStateScale(l),!0).range(o)}}_computeDomainOfStateScale(e){if(this._spec.customDomain)return this._spec.customDomain;const t=this._data.getLatestData().map(i=>i[this._stateField]);if(e){const i=t.map(r=>1*r);return t.length?[Sa(i),js(i)]:[-1/0,1/0]}return t}_autoVisible(e){if(!this._auto)return;e?this.show():this.hide();const t=this._isHorizontal?"height":"width";this.layout.setLayoutRect({[t]:e?this[`_${t}`]:0},{[t]:Qe.Built_In})}hide(){var e;(e=this._component)===null||e===void 0||e.hideAll()}show(){var e;(e=this._component)===null||e===void 0||e.showAll()}_autoUpdate(e){var t,i,r,s,a,o;if(!this._auto)return this._cacheVisibility=void 0,!0;const l=this._relatedAxisComponent,u=l==null?void 0:l.getSpec(),c=l==null?void 0:l.getScale(),d=Ume(u);if(!this._dataUpdating&&ml(c.type)&&(e==null?void 0:e.height)===((t=this._cacheRect)===null||t===void 0?void 0:t.height)&&(e==null?void 0:e.width)===((i=this._cacheRect)===null||i===void 0?void 0:i.width)&&this._fixedBandSize===(d==null?void 0:d.bandSize))return this._cacheVisibility;let h=!0;if(this._isHorizontal&&(e==null?void 0:e.width)!==((r=this._cacheRect)===null||r===void 0?void 0:r.width)?c.range(l.getInverse()?[e.width,0]:[0,e.width]):(e==null?void 0:e.height)!==((s=this._cacheRect)===null||s===void 0?void 0:s.height)&&c.range(l.getInverse()?[0,e.height]:[e.height,0]),this._cacheRect={width:e==null?void 0:e.width,height:e==null?void 0:e.height},this._fixedBandSize=d==null?void 0:d.bandSize,ml(c.type)){d&&(this._start||this._end)&&(this.type===He.scrollBar&&(this._start=0,this._end=1),this._updateRangeFactor());const[f,p]=(a=c.rangeFactor())!==null&&a!==void 0?a:[];h=(!J(f)||!J(p))&&!(f===0&&p===1)}else{const[f,p]=(o=c.rangeFactor())!==null&&o!==void 0?o:[this._start,this._end];h=!(f===0&&p===1)}return this.setStartAndEnd(this._start,this._end),this._cacheVisibility=h,h}_getNeedClearVRenderComponents(){return[this._component]}}Li(zQ,iH);class $De extends BM{_mergeThemeToSpec(e,t){const i=this._theme;let r=e;if(this._shouldMergeThemeToSpec()){const s=o=>{const l=qt({selectedBackgroundChart:{line:{},area:{}}},this._theme,o),{selectedBackgroundChart:u={}}=o,{line:c,area:d}=u;return c&&c.visible!==!1&&(l.selectedBackgroundChart.line.style=Object.assign(Object.assign({},l.selectedBackgroundChart.line.style),{visible:!0})),d&&d.visible!==!1&&(l.selectedBackgroundChart.area.style=Object.assign(Object.assign({},l.selectedBackgroundChart.area.style),{visible:!0})),l},a=e;r=Oe(a)?a.map(o=>s(o)):s(a)}return this._adjustPadding(r),{spec:r,theme:i}}}const Asn=`M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3
C-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6
C-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6
C0.3-1.4,0.3-1.4,0.3-1.4z;`,Kme=()=>({style:{symbolType:Asn,fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}}),Xme=n=>({area:{style:{visible:n,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:n,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}}),ksn={padding:[12,0],showDetail:"auto",brushSelect:!1,middleHandler:{visible:!1,background:{size:6,style:{stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},cornerRadius:2}},icon:{style:{size:4,fill:{type:"palette",key:"sliderHandleColor"},stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},symbolType:"M 0.3 -0.5 C 0.41 -0.5 0.5 -0.41 0.5 -0.3 C 0.5 -0.3 0.5 0.3 0.5 0.3 C 0.5 0.41 0.41 0.5 0.3 0.5 C 0.3 0.5 -0.3 0.5 -0.3 0.5 C -0.41 0.5 -0.5 0.41 -0.5 0.3 C -0.5 0.3 -0.5 -0.3 -0.5 -0.3 C -0.5 -0.41 -0.41 -0.5 -0.3 -0.5 C -0.3 -0.5 0.3 -0.5 0.3 -0.5 Z",lineWidth:.5}}},background:{size:20,style:{fill:{type:"palette",key:"sliderRailColor"},lineWidth:0}},selectedBackground:{style:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.1,outerBorder:{stroke:{type:"palette",key:"sliderTrackColor"},strokeOpacity:.2,distance:-.5,lineWidth:1}}},selectedBackgroundChart:Xme(!1),startHandler:Kme(),endHandler:Kme(),startText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},endText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},backgroundChart:Xme(!0)};class yw extends zQ{constructor(e,t){var i;super(e,t),this.type=He.dataZoom,this.name=He.dataZoom,this.transformerConstructor=$De,this.specKey="dataZoom",this.layoutZIndex=ji.DataZoom,this.layoutLevel=Df.DataZoom,this.layoutType="region-relative",this._isReverseCache=!1,this._dataToPositionX=r=>{const s=this._isHorizontal?0:this._middleHandlerSize,a=this._isHorizontal?this._startHandlerSize/2:0,o=this._isHorizontal?this._stateScale:this._valueScale,l=this._isHorizontal?this._stateField:this._valueField;return o.scale(r[l])+this.getLayoutStartPoint().x+s+a},this._dataToPositionX2=r=>{const s=this._isHorizontal?0:this._middleHandlerSize,a=this._isHorizontal?this._startHandlerSize/2:0,o=this._isHorizontal?this._stateScale:this._valueScale,l=o.domain()[0];return o.scale(l)+this.getLayoutStartPoint().x+s+a},this._dataToPositionY=r=>{const s=this._isHorizontal?this._middleHandlerSize:0,a=this._isHorizontal?0:this._startHandlerSize/2,o=this._isHorizontal?this._valueScale:this._getPreviewStateScale(),l=this._isHorizontal?this._valueField:this._stateField;return o.scale(r[l])+this.getLayoutStartPoint().y+s+a},this._dataToPositionY2=r=>{const s=this._isHorizontal?this._middleHandlerSize:0,a=this._isHorizontal?0:this._startHandlerSize/2,o=this._isHorizontal?this._valueScale:this._getPreviewStateScale(),l=o.domain()[0];return o.scale(l)+this.getLayoutStartPoint().y+s+a},this._valueField="y",this._filterMode=(i=e.filterMode)!==null&&i!==void 0?i:"filter"}_handleChange(e,t,i,r){if(super._handleChange(e,t,i),this._shouldChange)if(i&&this._component)this._component.setStartAndEnd(e,t);else{const s=this._relatedAxisComponent,a=qp(e,this._stateScale,ec(s,this._isHorizontal)),o=qp(t,this._stateScale,ec(s,this._isHorizontal));if(!Y(a)||!Y(o))return;this._start=e,this._end=t,(Re(this._spec.updateDataAfterChange)?this._spec.updateDataAfterChange(e,t,a,o):this._handleStateChange(a,o,r))&&this.event.emit(Et.dataZoomChange,{model:this,value:{filterData:this._filterMode!=="axis",start:e,end:t,startValue:this._startValue,endValue:this._endValue,newDomain:this._newDomain}})}}_handleDataCollectionChange(){this._data.getDataView().reRunAllTransform();const e=this._computeDomainOfValueScale();e&&(this._valueScale||(this._valueScale=new Ou),this._valueScale.domain(e),this._updateValueScaleRange(),this._component&&this._createOrUpdateComponent(!0))}created(){super.created(),this._initValueScale()}updateLayoutAttribute(){this._cacheVisibility!==!1&&super.updateLayoutAttribute()}_beforeLayoutEnd(){super._beforeLayoutEnd();const e=this._relatedAxisComponent;(ec(e,this._isHorizontal)&&!this._isReverseCache||this._auto)&&(this._isReverseCache=ec(e,this._isHorizontal),this.effect.onZoomChange())}clear(){if(this._component){const e=this.getContainer();this._component.removeAllChild(),e&&e.removeChild(this._component),this._component=null}super.clear()}getBoundsInRect(e){var t,i,r,s;const a={x1:this.getLayoutStartPoint().x,y1:this.getLayoutStartPoint().y,x2:0,y2:0},o=this._startHandlerSize*((t=this._spec.startHandler.style.scaleX)!==null&&t!==void 0?t:1),l=this._startHandlerSize*((i=this._spec.startHandler.style.scaleY)!==null&&i!==void 0?i:1),u=this._endHandlerSize*((r=this._spec.endHandler.style.scaleX)!==null&&r!==void 0?r:1),c=this._endHandlerSize*((s=this._spec.endHandler.style.scaleY)!==null&&s!==void 0?s:1),d=this._visible?this._isHorizontal?(o-this._startHandlerSize)/2+(u-this._endHandlerSize)/2:(Math.max(o,u)-this._width)/2:0,h=this._visible?this._isHorizontal?(Math.max(l,c)-this._height)/2:(l-this._startHandlerSize)/2+(c-this._endHandlerSize)/2:0;return this._isHorizontal?(a.y2=a.y1+this._height+h,a.x2=a.x1+e.width+d):(a.x2=a.x1+this._width+d,a.y2=a.y1+e.height+h),a}setAttrFromSpec(){var e,t,i,r,s,a,o,l,u,c;super.setAttrFromSpec();const d=this._isHorizontal?Number(this._spec.height):Number(this._spec.width);this._backgroundSize=(t=(e=this._spec.background)===null||e===void 0?void 0:e.size)!==null&&t!==void 0?t:30,this._middleHandlerSize=this._computeMiddleHandlerSize(),J((s=(r=(i=this._spec)===null||i===void 0?void 0:i.startHandler)===null||r===void 0?void 0:r.style)===null||s===void 0?void 0:s.size)&&(this._spec.startHandler.style.size=isNaN(d)?this._backgroundSize:d-this._middleHandlerSize),J((l=(o=(a=this._spec)===null||a===void 0?void 0:a.endHandler)===null||o===void 0?void 0:o.style)===null||l===void 0?void 0:l.size)&&(this._spec.endHandler.style.size=isNaN(d)?this._backgroundSize:d-this._middleHandlerSize);const h=(u=this._spec.startHandler.style.visible)===null||u===void 0||u,f=(c=this._spec.endHandler.style.visible)===null||c===void 0||c;this._startHandlerSize=h?this._spec.startHandler.style.size:0,this._endHandlerSize=f?this._spec.endHandler.style.size:0,this._width=this._computeWidth(),this._height=this._computeHeight()}_initValueScale(){const e=this._computeDomainOfValueScale();if(e){const t=new Ou;t.domain(e),this._valueScale=t}}_updateScaleRange(){this._updateStateScaleRange(),this._updateValueScaleRange()}_updateStateScaleRange(){var e,t,i;const r=this._startHandlerSize+this._endHandlerSize;if(!this._stateScale)return;let s;const a=this._isHorizontal?this.getLayoutRect().width-r:this.getLayoutRect().height-r,o=(t=(e=this._relatedAxisComponent)===null||e===void 0?void 0:e.getScale().range())!==null&&t!==void 0?t:[this._startHandlerSize/2,a+this._startHandlerSize/2],l=this._computeWidth(),u=this._computeHeight();s=this._isHorizontal?this._visible?[this._startHandlerSize/2,l-r+this._startHandlerSize/2]:o:this._visible?[this._startHandlerSize/2,u-r+this._startHandlerSize/2]:o,this._stateScale.range(s),(i=this._previewStateScale)===null||i===void 0||i.range(ec(this._relatedAxisComponent,this._isHorizontal)?s.reverse():s)}_updateValueScaleRange(){if(!this._valueScale)return;const e=this._computeWidth(),t=this._computeHeight();this._isHorizontal?this._valueScale.range([t-this._middleHandlerSize,0]):this.layoutOrient==="left"?this._valueScale.range([e-this._middleHandlerSize,0]):this._valueScale.range([0,e-this._middleHandlerSize])}_computeDomainOfValueScale(){const e=this._data.getLatestData().map(i=>i[this._valueField]),t=e.map(i=>1*i);return e.length?[Sa(t),js(t)]:null}_isScaleValid(e){if(!e||!e.domain())return!1;const t=e.domain();return(!Ei(e.type)||t[0]!==Xn(t))&&(!ml(e.type)||INt(t).length!==1)}_getXScale(){return this._relatedAxisComponent.getScale().type===this.stateScale.type&&this._isHorizontal?this.stateScale:this._isHorizontal?this._stateScale:this._valueScale}_getYScale(){return this._isHorizontal?this._valueScale:this._stateScale}_computeMiddleHandlerSize(){var e,t,i,r;let s=0;if(!((t=(e=this._spec)===null||e===void 0?void 0:e.middleHandler)===null||t===void 0)&&t.visible){const a=(i=this._spec.middleHandler.icon.style.size)!==null&&i!==void 0?i:8,o=(r=this._spec.middleHandler.background.size)!==null&&r!==void 0?r:40;s+=Math.max(a,o)}return s}_computeWidth(){return this._visible===!1?0:st(this._spec.width)?this._spec.width:this._isHorizontal?this.getLayoutRect().width:Math.max(this._startHandlerSize||0,this._endHandlerSize||0,this._backgroundSize||0)+this._middleHandlerSize}_computeHeight(){return this._visible===!1?0:st(this._spec.height)?this._spec.height:this._isHorizontal?Math.max(this._startHandlerSize||0,this._endHandlerSize||0,this._backgroundSize||0)+this._middleHandlerSize:this.getLayoutRect().height}_getAttrs(e){var t,i,r,s,a;const o=(t=this._spec)!==null&&t!==void 0?t:{};return Object.assign({zIndex:this.layoutZIndex,start:this._start,end:this._end,position:{x:this.getLayoutStartPoint().x,y:this.getLayoutStartPoint().y},orient:this._orient,size:{width:this._computeWidth(),height:this._computeHeight()},showDetail:o.showDetail,brushSelect:(i=o.brushSelect)!==null&&i!==void 0&&i,zoomLock:(r=o.zoomLock)!==null&&r!==void 0&&r,minSpan:this._minSpan,maxSpan:this._maxSpan,delayType:o.delayType,delayTime:Y(o.delayType)?(s=o.delayTime)!==null&&s!==void 0?s:30:0,realTime:(a=o.realTime)===null||a===void 0||a,previewData:e&&this._data.getLatestData(),previewPointsX:e&&this._dataToPositionX,previewPointsY:e&&this._dataToPositionY,tolerance:this._spec.tolerance,isReverse:ec(this._relatedAxisComponent,this._isHorizontal)},this._getComponentAttrs(e))}_getLayoutAttrs(){return{position:{x:this.getLayoutStartPoint().x,y:this.getLayoutStartPoint().y},size:{width:this._computeWidth(),height:this._computeHeight()}}}_createOrUpdateComponent(e){if(this._visible){const t=this._isHorizontal?this._stateScale:this._valueScale,i=this._isHorizontal?this._valueScale:this._stateScale,r=this._isScaleValid(t)&&this._isScaleValid(i)&&this._spec.showBackgroundChart!==!1,s=this._getAttrs(r),a=this._relatedAxisComponent;if(this._component)this._component.setAttributes(s),e&&(this._component.setPreviewData(this._data.getDataView().latestData),r&&(this._isHorizontal?this._component.setPreviewPointsY1(this._dataToPositionY2):this._component.setPreviewPointsX1(this._dataToPositionX2),this._component.setStatePointToData(o=>qp(o,this._stateScale,ec(a,this._isHorizontal)))));else{const o=this.getContainer();this._component=new kMe(s),this._component.setPreviewData(this._data.getDataView().latestData),this._isHorizontal?r&&this._component.setPreviewPointsY1(this._dataToPositionY2):r&&this._component.setPreviewPointsX1(this._dataToPositionX2),this._component.setStatePointToData(l=>qp(l,this._stateScale,ec(a,this._isHorizontal))),this._component.addEventListener("dataZoomChange",l=>{const{start:u,end:c,tag:d}=l.detail;this._handleChange(u,c,void 0,d)}),o.add(this._component)}}}_getComponentAttrs(e){var t,i,r,s,a,o,l,u,c,d,h;const{middleHandler:f={},startText:p={},endText:g={},backgroundChart:m={},selectedBackgroundChart:v={}}=this._spec;return{backgroundStyle:ln((t=this._spec.background)===null||t===void 0?void 0:t.style),startHandlerStyle:ln((i=this._spec.startHandler)===null||i===void 0?void 0:i.style),middleHandlerStyle:f.visible?{visible:!0,icon:ln((r=f.icon)===null||r===void 0?void 0:r.style),background:{size:(s=f.background)===null||s===void 0?void 0:s.size,style:ln((a=f.background)===null||a===void 0?void 0:a.style)}}:{visible:!1},endHandlerStyle:ln((o=this._spec.endHandler)===null||o===void 0?void 0:o.style),startTextStyle:{padding:p.padding,formatMethod:this._getHandlerTextFormatMethod(p),textStyle:ln(p.style)},endTextStyle:{padding:g.padding,formatMethod:this._getHandlerTextFormatMethod(g),textStyle:ln(g.style)},selectedBackgroundStyle:ln(this._spec.selectedBackground.style),dragMaskStyle:ln((l=this._spec.dragMask)===null||l===void 0?void 0:l.style),backgroundChartStyle:e?{line:qt(ln((u=m.line)===null||u===void 0?void 0:u.style),{fill:!1}),area:Object.assign({curveType:"basis",visible:!0},ln((c=m.area)===null||c===void 0?void 0:c.style))}:{line:{visible:!1},area:{visible:!1}},selectedBackgroundChartStyle:e?{line:qt(ln((d=v.line)===null||d===void 0?void 0:d.style),{fill:!1}),area:Object.assign({curveType:"basis",visible:!0},ln((h=v.area)===null||h===void 0?void 0:h.style))}:{line:{visible:!1},area:{visible:!1}},disableTriggerEvent:this._option.disableTriggerEvent}}_getHandlerTextFormatMethod(e){const{formatMethod:t,formatter:i}=e,{formatFunc:r}=zm(t,i);return r?s=>r(s,{label:s},i):void 0}_getNeedClearVRenderComponents(){return[this._component]}onDataUpdate(){super.onDataUpdate(),this._previewStateScale!==this._stateScale&&(this._previewStateScale=null)}_getPreviewStateScale(){return this._previewStateScale||(ec(this._relatedAxisComponent,this._isHorizontal)?(this._previewStateScale=this._stateScale.clone(),this._previewStateScale.range(this._stateScale.range().reverse())):this._previewStateScale=this._stateScale),this._previewStateScale}}yw.type=He.dataZoom,yw.transformerConstructor=$De,yw.builtInTheme={dataZoom:ksn},yw.specKey="dataZoom";const Osn=()=>{ne.registerComponent(yw.type,yw)},Psn={horizontal:{height:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}},vertical:{width:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}}};class ek extends zQ{constructor(e,t){var i;super(e,t),this.type=He.scrollBar,this.name=He.scrollBar,this.specKey="scrollBar",this.layoutZIndex=ji.DataZoom,this.layoutLevel=Df.DataZoom,this.layoutType="region-relative",this._filterMode=(i=e.filterMode)!==null&&i!==void 0?i:"axis"}_handleChange(e,t,i){super._handleChange(e,t,i);const r=s$(this._start,e)&&s$(this._end,t);if(this._shouldChange&&(!r||this._spec.realTime===!1)){i&&this._component&&this._component.setAttribute("range",[e,t]),this._start=e,this._end=t;const s=qp(e,this._stateScale,!1),a=qp(t,this._stateScale,!1);(Re(this._spec.updateDataAfterChange)?this._spec.updateDataAfterChange(e,t,s,a):this._handleStateChange(s,a))&&this.event.emit(Et.scrollBarChange,{model:this,value:{filterData:this._filterMode!=="axis",start:this._start,end:this._end,startValue:this._startValue,endValue:this._endValue,newDomain:this._newDomain}})}}_handleDataCollectionChange(){this._spec.auto&&this._data.getDataView().reRunAllTransform()}_beforeLayoutEnd(){var e,t;super._beforeLayoutEnd(),(t=(e=this.effect).onZoomChange)===null||t===void 0||t.call(e)}onLayoutEnd(){this._updateComponentBounds(),super.onLayoutEnd()}_updateScaleRange(){}_updateComponentBounds(){this._component&&this._component.setAttributes({x:this.getLayoutStartPoint().x,y:this.getLayoutStartPoint().y,width:this.getLayoutRect().width,height:this.getLayoutRect().height})}_computeWidth(){return this._visible===!1?0:st(this._spec.width)?this._spec.width:this._isHorizontal?this.getLayoutRect().width:Y7}_computeHeight(){return this._visible===!1?0:st(this._spec.height)?this._spec.height:this._isHorizontal?Y7:this.getLayoutRect().height}_getAttrs(){var e,t,i,r,s,a;return Object.assign({zIndex:this.layoutZIndex,x:this.getLayoutStartPoint().x,y:this.getLayoutStartPoint().y,width:this.getLayoutRect().width,height:this.getLayoutRect().height,range:[this._start,this._end],direction:this._isHorizontal?"horizontal":"vertical",delayType:(e=this._spec)===null||e===void 0?void 0:e.delayType,delayTime:Y((t=this._spec)===null||t===void 0?void 0:t.delayType)?(r=(i=this._spec)===null||i===void 0?void 0:i.delayTime)!==null&&r!==void 0?r:30:0,realTime:(a=(s=this._spec)===null||s===void 0?void 0:s.realTime)===null||a===void 0||a},this._getComponentAttrs())}_createOrUpdateComponent(){const e=this._getAttrs();if(this._component)this._component.setAttributes(e);else{const t=this.getContainer();this._component=new FO(e),this._component.addEventListener("scrollDrag",i=>{const r=i.detail.value;this._handleChange(r[0],r[1])}),this._component.addEventListener("scrollUp",i=>{const r=i.detail.value;this._handleChange(r[0],r[1])}),t.add(this._component)}}_getComponentAttrs(){const{rail:e,slider:t,innerPadding:i}=this._spec,r={};return J(i)||(r.padding=i),Lt(e==null?void 0:e.style)||(r.railStyle=ln(e.style)),Lt(t==null?void 0:t.style)||(r.sliderStyle=ln(t.style)),r.disableTriggerEvent=this._option.disableTriggerEvent,r}_getNeedClearVRenderComponents(){return[this._component]}}ek.type=He.scrollBar,ek.builtInTheme={scrollBar:Psn},ek.specKey="scrollBar";const Msn=()=>{ne.registerComponent(ek.type,ek)},Isn=(n,e)=>{const{datum:t,title:i,content:r}=e,s=[],a=t.call(null);return i.visible&&s.push({type:"title",index:0,datum:a,spec:i}),Ae(r).forEach((o,l)=>{o.visible&&s.push({type:"content",index:l,datum:a,spec:o})}),s},qme=(n,e)=>({fontSize:{type:"token",key:n},fill:{type:"palette",key:e},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}),Rsn={title:{visible:!0,autoLimit:!1,autoFit:!1,style:qme("l1FontSize","primaryFontColor")},content:{visible:!0,style:qme("l2FontSize","tertiaryFontColor")}};var Dsn=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};class tk extends Sc{constructor(){super(...arguments),this.type=He.indicator,this.name=He.indicator,this.specKey="indicator",this.layoutType="none",this.layoutZIndex=ji.Indicator,this.layoutLevel=Df.Indicator,this._gap=0,this._activeDatum=null}static getSpecInfo(e){return lg(e,this.specKey,this.type,t=>t&&t.visible!==!1)}created(){super.created(),this.initData(),this.initEvent()}setAttrFromSpec(){super.setAttrFromSpec(),this._gap=this._spec.gap||0,this._title=this._spec.title,this._content=Ae(this._spec.content),this._regions=this._option.getRegionsInUserIdOrIndex(Ae(this._spec.regionId),Ae(this._spec.regionIndex))}initEvent(){this._option.disableTriggerEvent||this._spec.trigger!=="none"&&(this._spec.trigger==="hover"?(this.event.on("element-highlight:start",e=>{const t=e.graphics[0];this.isRelativeModel(t)&&this.updateDatum(ka(t))}),this.event.on("element-highlight:reset",e=>{this._activeDatum&&this.updateDatum(null)})):(this.event.on("element-select:start",e=>{const t=e.graphics[0];this.isRelativeModel(t)&&this.updateDatum(ka(t))}),this.event.on("element-select:reset",e=>{this._activeDatum&&this.updateDatum(null)})))}updateDatum(e){this._activeDatum=e,this._displayData.updateData();const t=this._getIndicatorAttrs();this._createOrUpdateIndicatorComponent(t)}initData(){rn(this._option.dataSet,"indicatorFilter",Isn);const e=new Pi(this._option.dataSet,{name:`${this.type}_${this.id}_data`});e.transform({type:"indicatorFilter",options:{title:this._title,content:this._content,datum:()=>this._activeDatum}}),e.target.addListener("change",this.updateDatum.bind(this)),this._displayData=new Zl(this._option,e)}updateLayoutAttribute(){const e=this._getIndicatorAttrs();this._createOrUpdateIndicatorComponent(e),super.updateLayoutAttribute()}_getIndicatorAttrs(){if(this._spec.visible===!1||this._spec.fixed===!1&&this._activeDatum===null)return{visible:!1};const e=this._regions[0],{width:t,height:i}=e.getLayoutRect(),{x:r,y:s}=e.getLayoutStartPoint(),a=this._spec,{content:o,offsetX:l,offsetY:u,limitRatio:c,title:d}=a,h=Dsn(a,["content","offsetX","offsetY","limitRatio","title"]),f=[];return Ae(o).forEach(p=>{const g=qt({},this._theme.content,p);f.push({visible:g.visible!==!1&&(!g.field||this._activeDatum!==null),space:g.space||this._gap,autoLimit:g.autoLimit,autoFit:g.autoFit,fitPercent:g.fitPercent,fitStrategy:g.fitStrategy,style:Object.assign(Object.assign({},cge(By(g.style,["text"]),this._activeDatum)),{text:this._createText(g.field,g.style.text)})})}),Object.assign({visible:!0,size:{width:t,height:i},zIndex:this.layoutZIndex,x:r,y:s,dx:l?mo(l,this._computeLayoutRadius()):0,dy:u?mo(u,this._computeLayoutRadius()):0,limitRatio:c||1/0,title:{visible:d.visible!==!1&&(!Y(d.field)||this._activeDatum!==null),space:d.space||this._gap,autoLimit:d.autoLimit,autoFit:d.autoFit,fitPercent:d.fitPercent,fitStrategy:d.fitStrategy,style:Object.assign(Object.assign({},cge(By(d.style,["text"]),this._activeDatum)),{text:this._createText(d.field,d.style.text)})},content:f},h)}_createOrUpdateIndicatorComponent(e){if(e.visible===!1)return this._indicatorComponent&&this._indicatorComponent.parent&&this._indicatorComponent.parent.removeChild(this._indicatorComponent),void(this._indicatorComponent=null);if(this._indicatorComponent)Oi(e,this._cacheAttrs)||this._indicatorComponent.setAttributes(e);else{const t=this.getContainer(),i=new H9t(e);i.name="indicator",t.add(i),this._indicatorComponent=i,this._indicatorComponent.on("*",(r,s)=>this._delegateEvent(this._indicatorComponent,r,s))}this._cacheAttrs=e}_createText(e,t){var i;return e?this._activeDatum?this._activeDatum[e]:"":Re(t)?(i=t(this._activeDatum,void 0))!==null&&i!==void 0?i:"":t??""}_computeLayoutRadius(){const e=this._regions[0],{width:t,height:i}=e.getLayoutRect();return Math.min(t/2,i/2)}isRelativeModel(e){return this._regions.some(t=>!!t.getSeriesInId(e.context.modelId))}_getNeedClearVRenderComponents(){return[this._indicatorComponent]}clear(){this._cacheAttrs=null,super.clear()}getIndicatorComponent(){return this._indicatorComponent}}tk.type=He.indicator,tk.builtInTheme={indicator:Rsn},tk.specKey="indicator";const Lsn=()=>{ne.registerComponent(tk.type,tk)},Fsn=["sum","average","min","max","variance","standardDeviation","median"];var Bsn=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};function Vy(n,e,t){if(!t)return!1;const i=n.map(a=>1*a),r=Sa(i),s=js(i);return e<r||e>s}function Zme(n,e,t,i,r,s){var a,o;const{relativeSeries:l}=i;let u;return st(n.x)&&Vy(e,n.x,t)&&((o=l==null?void 0:(a=l.getXAxisHelper()).setExtendDomain)===null||o===void 0||o.call(a,"marker_xAxis_extend",n.x)),u=Jc(n.x)?A$(n.x,r)+s.x:Wy(l.getXAxisHelper(),[n.x])+s.x,u}function Qme(n,e,t,i,r,s){var a,o;const{relativeSeries:l}=i;let u;return st(n.y)&&Vy(e,n.y,t)&&((o=(a=l.getYAxisHelper())===null||a===void 0?void 0:a.setExtendDomain)===null||o===void 0||o.call(a,"marker_yAxis_extend",n.y)),u=Jc(n.y)?A$(n.y,r)+s.y:Wy(l.getYAxisHelper(),[n.y])+s.y,u}function Jme(n,e,t,i){var r,s;const{relativeSeries:a}=i;return st(n.angle)&&Vy(e,n.angle,t)&&((s=(r=a.angleAxisHelper)===null||r===void 0?void 0:r.setExtendDomain)===null||s===void 0||s.call(r,"marker_angleAxis_extend",n.angle)),Wy(a.angleAxisHelper,[n.angle])}function eve(n,e,t,i){var r,s;const{relativeSeries:a}=i;return st(n.radius)&&Vy(e,n.radius,t)&&((s=(r=a.radiusAxisHelper)===null||r===void 0?void 0:r.setExtendDomain)===null||s===void 0||s.call(r,"marker_radiusAxis_extend",n.radius)),Wy(a.radiusAxisHelper,[n.radius])}function A$(n,e){return Number(n.substring(0,n.length-1))*e/100}function Wy(n,e){const t=n.getScale(0);return Ei(t.type)&&t.domain()[0]===t.domain()[1]&&e[0]!==t.domain()[0]?NaN:n.dataToPosition(e)}function GE(n){return Fsn.includes(n)}function k$(n,e,t,i,r,s=!1){const a=e.getRegion(),o=a.getLayoutStartPoint(),l=t.getRegion(),u=l.getLayoutStartPoint(),c=Math.abs(Math.min(o.x,u.x)-Math.max(o.x+a.getLayoutRect().width,u.x+l.getLayoutRect().width)),d=Math.abs(Math.min(o.y,u.y)-Math.max(o.y+a.getLayoutRect().height,u.y+l.getLayoutRect().height)),h={relativeSeries:i},f=[],p=n.latestData[0]&&n.latestData[0].latestData?n.latestData[0].latestData:n.latestData,g=i.getXAxisHelper(),m=i.getYAxisHelper(),v=g.getScale(0).domain(),_=m.getScale(0).domain(),y=s&&!g.isContinuous&&!!g.getBandwidth,x=s&&!m.isContinuous&&!!m.getBandwidth,w={min:null,max:null},T={min:null,max:null};return p.forEach(E=>{const A=Y(E.x),k=Y(E.y);let P,I;if(A&&k)P=Zme(E,v,r,h,c,o),I=Qme(E,_,r,h,d,o),GD(P,y,w,f.length),GD(I,x,T,f.length),f.push([{x:P,y:I}]);else if(A){P=Zme(E,v,r,h,c,o),I=Math.max(o.y+a.getLayoutRect().height,u.y+l.getLayoutRect().height);const D=Math.min(o.y,u.y);GD(P,y,w,f.length),f.push([{x:P,y:I},{x:P,y:D}])}else if(k){P=Math.min(o.x,u.x),I=Qme(E,_,r,h,d,o);const D=Math.max(o.x+a.getLayoutRect().width,u.x+l.getLayoutRect().width);GD(I,x,T,f.length),f.push([{x:P,y:I},{x:D,y:I}])}}),$sn(f,g,m,w,T),f}function $sn(n,e,t,i,r){if(i.min||i.max){const s=e.getBandwidth(0)*(1+e.getScale(0).paddingInner());i.min&&n[i.min.index].forEach(a=>a.x-=s/2),i.max&&n[i.max.index].forEach(a=>a.x+=s/2)}if(r.min||r.max){const s=t.getBandwidth(0)*(1+t.getScale(0).paddingInner());r.min&&n[r.min.index].forEach(a=>a.y-=s/2),r.max&&n[r.max.index].forEach(a=>a.y+=s/2)}}function GD(n,e,t,i){return e&&((t.min===null||t.min.value>n)&&(t.min={value:n,index:i}),(t.max===null||t.max.value<n)&&(t.max={value:n,index:i})),n}function HQ(n,e,t,i,r){const s={relativeSeries:i},a=[],o=n.latestData[0]&&n.latestData[0].latestData?n.latestData[0].latestData:n.latestData,l=i.angleAxisHelper.getScale(0).domain(),u=i.radiusAxisHelper.getScale(0).domain(),c=Math.min(i.getRegion().getLayoutRect().width/2,i.getRegion().getLayoutRect().height/2);return o.forEach(d=>{const h=Y(d.angle),f=Y(d.radius);if(h&&f){const p=Jme(d,l,r,s),g=eve(d,u,r,s);a.push([{angle:p,radius:g}])}else if(h){const p=Jme(d,l,r,s);a.push([{angle:p,radius:-c},{angle:p,radius:c}])}else if(f){const p=eve(d,u,r,s);a.push([{radius:p,angle:0},{radius:p,angle:2*Math.PI}])}}),a}function Nsn(n,e){const t=[];return(n.latestData[0]&&n.latestData[0].latestData?n.latestData[0].latestData:n.latestData).forEach(i=>{Y(i.areaName)&&t.push([{x:e.nameValueToPosition(i.areaName).x+e.getRegion().getLayoutStartPoint().x,y:e.nameValueToPosition(i.areaName).y+e.getRegion().getLayoutStartPoint().y}])}),t}function VQ(n,e,t,i){const r=[],s=n.latestData[0]&&n.latestData[0].latestData?n.latestData[0].latestData:n.latestData,a=Oe(i);return s.forEach((o,l)=>{var u,c,d,h;const f=o!=null&&o.getRefRelativeSeries?o.getRefRelativeSeries():e,p=f.getRegion(),g=p.getLayoutStartPoint(),{width:m,height:v}=p.getLayoutRect();let _=0,y=0;if(i){const A=a?i[l]:i,k=A.x,P=A.y;k&&(_=Jc(k)?Number(k.substring(0,k.length-1))*m/100:k),P&&(y=Jc(P)?Number(P.substring(0,P.length-1))*v/100:P)}const x=f.getXAxisHelper().getScale(0).domain(),w=f.getYAxisHelper().getScale(0).domain(),T=Ae(o.x),E=Ae(o.y);T.length===1&&st(T[0])&&Vy(x,T[0],t)&&((c=(u=f.getXAxisHelper())===null||u===void 0?void 0:u.setExtendDomain)===null||c===void 0||c.call(u,"marker_xAxis_extend",T[0])),E.length===1&&st(E[0])&&Vy(w,E[0],t)&&((h=(d=f.getYAxisHelper())===null||d===void 0?void 0:d.setExtendDomain)===null||h===void 0||h.call(d,"marker_yAxis_extend",E[0])),r.push({x:Wy(f.getXAxisHelper(),T)+g.x+_,y:Wy(f.getYAxisHelper(),E)+g.y+y})}),r}function NDe(n,e,t){const i=[];return(n.latestData[0]&&n.latestData[0].latestData?n.latestData[0].latestData:n.latestData).forEach(r=>{var s,a,o,l;const u=r!=null&&r.getRefRelativeSeries?r.getRefRelativeSeries():e,c=u.angleAxisHelper.getScale(0).domain(),d=u.radiusAxisHelper.getScale(0).domain(),h=Ae(r.angle),f=Ae(r.radius);h.length===1&&st(h[0])&&Vy(c,h[0],t)&&((a=(s=u.angleAxisHelper)===null||s===void 0?void 0:s.setExtendDomain)===null||a===void 0||a.call(s,"marker_xAxis_extend",h[0])),f.length===1&&st(f[0])&&Vy(d,f[0],t)&&((l=(o=u.radiusAxisHelper)===null||o===void 0?void 0:o.setExtendDomain)===null||l===void 0||l.call(o,"marker_yAxis_extend",f[0])),i.push({angle:Wy(u.angleAxisHelper,h),radius:Wy(u.radiusAxisHelper,f)})}),i}function tve(n,e,t){let{x:i,y:r}=n;return Jc(i)&&(i=A$(i,e)),Jc(r)&&(r=A$(r,t)),{x:i,y:r}}function WQ(n,e,t){let i;if(i=Re(n)?Ae(n(e.getData().getLatestData(),e)):Ae(n),t){const a=e.getRegion(),{x:o,y:l}=a.getLayoutStartPoint(),{width:u,height:c}=a.getLayoutRect();return i.map(d=>{let{x:h,y:f}=tve(d,u,c);return h+=o,f+=l,{x:h,y:f}})}const{width:r,height:s}=e.getOption().getChart().getViewRect();return i.map(a=>tve(a,r,s))}function UQ(n){let e=1/0,t=-1/0,i=1/0,r=-1/0;return n.forEach(s=>{const a=s.getLayoutStartPoint(),o=s.getLayoutRect();a.x<e&&(e=a.x),a.x+o.width>t&&(t=a.x+o.width),a.y<i&&(i=a.y),a.y+o.height>r&&(r=a.y+o.height)}),{minX:e,maxX:t,minY:i,maxY:r}}function GQ(n,e,t){const{labelBackground:i={},style:r,shape:s}=n,a=Bsn(n,["labelBackground","style","shape"]);if(n.visible!==!1){const o=a;return s!=null&&s.visible?o.shape=Object.assign({visible:!0},ln(s.style)):o.shape={visible:!1},i.visible!==!1?(o.panel=Object.assign({visible:!0,customShape:i.customShape},Zd(ln(i.style),e,t)),Y(i.padding)&&(o.padding=gl(i.padding))):(o.panel={visible:!1},o.padding=0),r&&(o.textStyle=Zd(ln(r),e,t)),o}return{visible:!1}}function ac(n,e,t){for(const i in n)Re(n[i])&&(n[i]=n[i](e,t));return n}function Zd(n,e,t){return Re(n)?n(e,t):n}function nve(n,e){return Re(n)?n(e):n}function ive(n,e,t){return Y(n)?e==="regionLeft"?t.getLayoutStartPoint().x-n.x:e==="regionRight"?t.getLayoutStartPoint().x+t.getLayoutRect().width-n.x:e==="regionTop"?t.getLayoutStartPoint().y-n.y:e==="regionBottom"?t.getLayoutStartPoint().y+t.getLayoutRect().height-n.y:e:e}function jDe(n){return{isXProcess:Y(n.x),isYProcess:Y(n.y),isX1Process:Y(n.x1),isY1Process:Y(n.y1),isAngleProcess:Y(n.angle),isRadiusProcess:Y(n.radius),isAngle1Process:Y(n.angle1),isRadius1Process:Y(n.radius1),isCoordinatesProcess:Y(n.coordinates),isValidProcess:Y(n.process)}}function Jb(n){const{isXProcess:e,isYProcess:t,isX1Process:i,isY1Process:r,isAngleProcess:s,isRadiusProcess:a,isAngle1Process:o,isRadius1Process:l,isCoordinatesProcess:u,isValidProcess:c}=jDe(n);return{doXProcess:e&&!t&&!r,doXYY1Process:e&&t&&r,doYProcess:t&&!e&&!i,doYXX1Process:t&&e&&i,doXYProcess:e&&t&&i&&r,doAngleProcess:s&&!o&&!a&&!l,doRadiusProcess:a&&!l&&!s&&!o,doAngRadRad1Process:s&&!o&&a&&l,doRadAngAng1Process:a&&s&&o&&!l,doRadAngProcess:s&&a&&o&&l,doCoordinatesProcess:u&&(!c||"process"in n&&"xy"in n.process)}}function e0(n){const{isXProcess:e,isYProcess:t,isX1Process:i,isY1Process:r,isAngleProcess:s,isRadiusProcess:a,isAngle1Process:o,isRadius1Process:l,isCoordinatesProcess:u}=jDe(n);return{doXProcess:e&&i&&!t&&!r,doYProcess:t&&r&&!e&&!i,doXYProcess:e&&i&&t&&r,doAngleProcess:s&&o&&!a&&!l,doRadiusProcess:a&&l&&!s&&!o,doRadAngProcess:s&&a&&o&&l,doCoordinatesProcess:u}}function X7(n){return{doXYProcess:Y(n.x)&&Y(n.y),doPolarProcess:Y(n.angle)&&Y(n.radius),doGeoProcess:Y(n.areaName)}}function jsn(n,e,t,i=0){const r=[],s=n.y-e.y,a=n.x-e.x;switch(t){case"top":r.push(n),r.push({x:n.x,y:s>0?n.y-i-Math.abs(s):n.y-i}),r.push({x:e.x,y:s>0?e.y-i:e.y-i-Math.abs(s)}),r.push(e);break;case"bottom":r.push(n),r.push({x:n.x,y:s<0?n.y+i+Math.abs(s):n.y+i}),r.push({x:e.x,y:s<0?e.y+i:e.y+i+Math.abs(s)}),r.push(e);break;case"left":r.push(n),r.push({x:a>0?n.x-i-Math.abs(a):n.x-i,y:n.y}),r.push({x:a>0?e.x-i:e.x-i-Math.abs(a),y:e.y}),r.push(e);break;case"right":r.push(n),r.push({x:a>0?n.x+i:n.x+i+Math.abs(a),y:n.y}),r.push({x:a>0?e.x+i+Math.abs(a):e.x+i,y:e.y}),r.push(e)}return r}function zsn(n,e,t,i=0){const r=n.y-e.y,s=n.x-e.x;return t==="bottom"?{dx:s>0?-s/2:Math.abs(s/2),dy:r>0?i:Math.abs(r)+i}:t==="top"?{dx:s>0?-Math.abs(s/2):+Math.abs(s/2),dy:r>0?-(Math.abs(r)+i):-i}:t==="left"?{dx:s>0?-s-i:-i,dy:r>0?-r/2:Math.abs(r/2)}:t==="right"?{dx:s>0?i:Math.abs(s)+i,dy:r>0?-r/2:Math.abs(r/2)}:{}}var Hsn=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};const Vsn=(n,e)=>{const t=n[0].latestData;return XMe(t,e.field)},Wsn=(n,e)=>{const t=n[0].latestData;return ZZ(t,e.field)};function Usn(n,e){const t=n[0].latestData;return QZ(t,e.field)}function Gsn(n,e){const t=n[0].latestData;return JZ(t,e.field)}function Ysn(n,e){const t=n[0].latestData;return qMe(t,e.field)}function Ksn(n,e){const t=n[0].latestData;return pXt(t,e.field)}function Xsn(n,e){const t=n[0].latestData;return gXt(t,e.field)}function zDe(n,e){let t;if(e.coordinates){const r=e,{coordinates:s,coordinateType:a,getSeriesByIdOrIndex:o}=r,l=Hsn(r,["coordinates","coordinateType","getSeriesByIdOrIndex"]);let u,c;if(Re(s)){const d=e.getRelativeSeries();u=s(d.getData().getLatestData(),d)}else u=s;u=Ae(u),t=u.map(d=>{const h=o(d.refRelativeSeriesId,d.refRelativeSeriesIndex);if(a==="cartesian"){const{xField:f,yField:p}=h.getSpec(),{xFieldDim:g,xFieldIndex:m,yFieldDim:v,yFieldIndex:_}=d;let y=f;Y(m)&&(y=Ae(f)[m]),g&&Ae(f).includes(g)&&(y=g);let x=p;Y(_)&&(x=Ae(p)[_]),v&&Ae(p).includes(v)&&(x=v),c=Object.assign({x:void 0,y:void 0},l),Jt(d[y])&&GE(d[y])?c.x={field:y,aggrType:d[y]}:c.x=Ae(y).map(w=>d[w]),Jt(d[x])&&GE(d[x])?c.y={field:x,aggrType:d[x]}:c.y=Ae(x).map(w=>d[w])}else if(a==="polar"){const{valueField:f,categoryField:p}=h.getSpec(),{angleFieldDim:g,angleFieldIndex:m}=d;let v=p;Y(m)&&(v=Ae(p)[m]),g&&Ae(p).includes(g)&&(v=g);const _=f;c=Object.assign({angle:void 0,radius:void 0},l),Jt(d[v])&&GE(d[v])?c.angle={field:v,aggrType:d[v]}:c.angle=Ae(v).map(y=>d[y]),Jt(d[_])&&GE(d[_])?c.radius={field:_,aggrType:d[_]}:c.radius=Ae(_).map(y=>d[y])}return c.getRefRelativeSeries=()=>h,c})}else t=e;const i=[];return t.forEach(r=>{const s={x:null,y:null,angle:null,radius:null,areaName:null};if(Y(r.x)){const a=r.x;Oe(a)?s.x=a.map(o=>Ng(o,n,r)):s.x=Ng(a,n,r)}if(Y(r.y)){const a=r.y;Oe(a)?s.y=a.map(o=>Ng(o,n,r)):s.y=Ng(a,n,r)}if(Y(r.angle)){const a=r.angle;Oe(a)?s.angle=a.map(o=>Ng(o,n,r)):s.angle=Ng(a,n,r)}if(Y(r.radius)){const a=r.radius;Oe(a)?s.radius=a.map(o=>Ng(o,n,r)):s.radius=Ng(a,n,r)}if(Y(r.areaName)){const a=r.areaName;s.areaName=Ng(a,n,r)}r.getRefRelativeSeries&&(s.getRefRelativeSeries=r.getRefRelativeSeries),i.push(s)}),i}const qsn={min:Vsn,max:Wsn,sum:Usn,average:Gsn,variance:Ysn,standardDeviation:Ksn,median:Xsn};function Ng(n,e,t){const i=t.getRelativeSeries(),r=t.getStartRelativeSeries(),s=t.getEndRelativeSeries(),a=i.getData().getLatestData(),o=r.getData().getLatestData(),l=s.getData().getLatestData();if(Re(n))return n(a,o,l,i,r,s);if(gh(n)){const{aggrType:u,field:c}=n;return qsn[u](e,{field:c})}return n}function HDe(n,e){if(e&&e.getRelativeSeries){const t=e.getRelativeSeries();if(t){const i=t.getViewData();return i&&i.latestData&&i.latestData.length?n:[]}}return n}class YQ extends Sc{constructor(){super(...arguments),this.layoutType="none",this._layoutOffsetX=0,this._layoutOffsetY=0}getRelativeSeries(){return this._relativeSeries}getMarkerData(){return this._markerData}static _getMarkerCoordinateType(e){return"cartesian"}static getSpecInfo(e){return lg(e,this.specKey,this.type,t=>t.visible!==!1&&this._getMarkerCoordinateType(t)===this.coordinateType)}getMarkAttributeContext(){return this._markAttributeContext}_buildMarkerAttributeContext(){this._markAttributeContext={relativeSeries:this._relativeSeries,startRelativeSeries:this._startRelativeSeries,endRelativeSeries:this._endRelativeSeries,vchart:this._option.globalInstance}}created(){super.created(),this._bindSeries(),this._initDataView(),this.initEvent(),this._buildMarkerAttributeContext()}_getAllRelativeSeries(){return{getRelativeSeries:()=>this._relativeSeries,getStartRelativeSeries:()=>this._startRelativeSeries,getEndRelativeSeries:()=>this._endRelativeSeries}}_getFieldInfoFromSpec(e,t,i){const r={x:"xField",y:"yField",radius:"valueField",angle:"categoryField",areaName:"nameField"};return Jt(t)&&GE(t)?{field:i.getSpec()[r[e]],aggrType:t}:t}_processSpecByDims(e){const t=this._relativeSeries,i={};return e.forEach(r=>i[r.dim]=this._getFieldInfoFromSpec(r.dim,r.specValue,t)),Object.assign(Object.assign({},i),this._getAllRelativeSeries())}_processSpecCoo(e){return Object.assign(Object.assign({coordinates:e.coordinates||e.coordinate},this._getAllRelativeSeries()),{getSeriesByIdOrIndex:(t,i)=>this._getSeriesByIdOrIndex(t,i),coordinateType:this.coordinateType})}_getRelativeDataView(){if(this._specifiedDataSeries){let e=[];Ae(this._specifiedDataSeries).forEach(i=>{e=e.concat(i.getViewData().latestData)});const t=new y0;return t.registerParser("array",LAe),new Pi(t).parse(e,{type:"array"})}return this._relativeSeries.getViewData()}updateLayoutAttribute(){var e,t,i;if((e=this._spec.visible)===null||e===void 0||e){if(!this._markerComponent){const r=this._createMarkerComponent();r.name=(t=this._spec.name)!==null&&t!==void 0?t:this.type,r.id=(i=this._spec.id)!==null&&i!==void 0?i:`${this.type}-${this.id}`,this._markerComponent=r,this.getContainer().add(this._markerComponent),this._markerComponent.on("*",(s,a)=>{this._delegateEvent(this._markerComponent,s,a,null,this.getMarkerData.bind(this))})}this._markerLayout()}super.updateLayoutAttribute()}_getSeriesByIdOrIndex(e,t){var i,r;let s;return s=(i=this._option.getSeriesInUserIdOrIndex(Y(e)?[e]:[],[t]))===null||i===void 0?void 0:i[0],s||(s=(r=this._relativeSeries)!==null&&r!==void 0?r:this._getFirstSeries()),s}_bindSeries(){const e=this._spec;this._relativeSeries=this._getSeriesByIdOrIndex(e.relativeSeriesId,e.relativeSeriesIndex),this._startRelativeSeries=this._getSeriesByIdOrIndex(e.startRelativeSeriesId,e.startRelativeSeriesIndex),this._endRelativeSeries=this._getSeriesByIdOrIndex(e.endRelativeSeriesId,e.endRelativeSeriesIndex),e.specifiedDataSeriesIndex&&e.specifiedDataSeriesIndex==="all"||e.specifiedDataSeriesId&&e.specifiedDataSeriesId==="all"?this._specifiedDataSeries=this._option.getAllSeries():(e.specifiedDataSeriesIndex||e.specifiedDataSeriesId)&&(this._specifiedDataSeries=this._getSeriesByIdOrIndex(e.specifiedDataSeriesId,e.specifiedDataSeriesIndex))}initEvent(){this._relativeSeries.coordinate!=="cartesian"&&(this._relativeSeries.event.on("zoom",this._markerLayout.bind(this)),this._relativeSeries.event.on("panmove",this._markerLayout.bind(this)),this._relativeSeries.event.on("scroll",this._markerLayout.bind(this)))}clear(){super.clear(),this._firstSeries=null}_getFirstSeries(){var e;if(this._firstSeries)return this._firstSeries;const t=eQ(this._regions);return t?(this._firstSeries=t,t):((e=this._option)===null||e===void 0||e.onError("need at least one series"),null)}_getNeedClearVRenderComponents(){return[this._markerComponent]}onLayoutStart(e,t){J(this._spec.offsetX)||(this._layoutOffsetX=Fs(this._spec.offsetX,t.width,t)),J(this._spec.offsetY)||(this._layoutOffsetY=Fs(this._spec.offsetY,t.height,t)),super.onLayoutStart(e,t)}_compareSpec(e,t){const i=super._compareSpec(e,t);return Oi(t,e)||(i.reRender=!0,i.reMake=!0,i.change=!0),i}_initCommonDataView(){const{options:e}=this._computeOptions(),t=this._getRelativeDataView();rn(this._option.dataSet,"markerAggregation",zDe),rn(this._option.dataSet,"markerFilter",HDe);const i=new Pi(this._option.dataSet,{name:`${this.type}_${this.id}_data`});i.parse([t],{type:"dataview"}),i.transform({type:"markerAggregation",options:e}),i.transform({type:"markerFilter",options:this._getAllRelativeSeries()}),i.target.on("change",()=>{this._markerLayout()}),this._markerData=i}}function Zsn(n,e){const t=n[0].latestData;return mXt(t,e.fieldX,e.fieldY)}class KQ extends YQ{constructor(){super(...arguments),this.specKey="markLine",this.layoutZIndex=ji.MarkLine}static _getMarkerCoordinateType(e){const{doAngleProcess:t,doRadiusProcess:i,doAngRadRad1Process:r,doRadAngAng1Process:s,doRadAngProcess:a}=Jb(e);return e.coordinateType==="polar"||t||i||r||s||a?"polar":"cartesian"}_createMarkerComponent(){var e,t,i,r,s,a,o,l,u,c,d,h,f;const{startSymbol:p={},endSymbol:g={}}=this._spec,m=Ae((e=this._spec.label)!==null&&e!==void 0?e:{}),v={zIndex:this.layoutZIndex,interactive:(t=this._spec.interactive)===null||t===void 0||t,hover:(i=this._spec.interactive)===null||i===void 0||i,select:(r=this._spec.interactive)===null||r===void 0||r,points:[{x:0,y:0},{x:0,y:0}],center:{x:0,y:0},radius:0,startAngle:0,endAngle:0,lineStyle:Zd(ln((s=this._spec.line)===null||s===void 0?void 0:s.style),this._markerData,this._markAttributeContext),clipInRange:(a=this._spec.clip)!==null&&a!==void 0&&a,label:m.map(_=>GQ(_,this._markerData,this._markAttributeContext)),state:{line:ac((l=(o=this._spec.line)===null||o===void 0?void 0:o.state)!==null&&l!==void 0?l:{},this._markerData,this._markAttributeContext),lineStartSymbol:ac((c=(u=this._spec.startSymbol)===null||u===void 0?void 0:u.state)!==null&&c!==void 0?c:{},this._markerData,this._markAttributeContext),lineEndSymbol:ac((h=(d=this._spec.endSymbol)===null||d===void 0?void 0:d.state)!==null&&h!==void 0?h:{},this._markerData,this._markAttributeContext),label:m.map(_=>{var y;return ac((y=_.state)!==null&&y!==void 0?y:{},this._markerData,this._markAttributeContext)}),labelBackground:m.map(_=>{var y,x;return ac((x=(y=_.labelBackground)===null||y===void 0?void 0:y.state)!==null&&x!==void 0?x:{},this._markerData,this._markAttributeContext)})},animation:(f=this._spec.animation)!==null&&f!==void 0&&f,animationEnter:this._spec.animationEnter,animationExit:this._spec.animationExit,animationUpdate:this._spec.animationUpdate};return p.visible?v.startSymbol=Object.assign(Object.assign({},p),{visible:!0,style:Zd(ln(p.style),this._markerData,this._markAttributeContext)}):v.startSymbol={visible:!1},g.visible?v.endSymbol=Object.assign(Object.assign({},g),{visible:!0,style:Zd(ln(g.style),this._markerData,this._markAttributeContext)}):v.endSymbol={visible:!1},this._newMarkLineComponent(v)}_getUpdateMarkerAttrs(){var e,t;const i=this._spec,r=this._markerData,s=this._startRelativeSeries,a=this._endRelativeSeries,o=this._relativeSeries,l=this._computePointsAttr(),u=o.getViewData().latestData,c=r.latestData[0]&&r.latestData[0].latestData?r.latestData[0].latestData:r.latestData;let d;if(i.clip||Ae(i.label).some(m=>m==null?void 0:m.confine)){const{minX:m,maxX:v,minY:_,maxY:y}=UQ([s.getRegion(),a.getRegion(),o.getRegion()]);d={x:m,y:_,width:v-m,height:y-_}}const h=(t=(e=this._markerComponent)===null||e===void 0?void 0:e.attribute)!==null&&t!==void 0?t:{},f=Ae(h.label),p=Ae(this._spec.label),g=f.map((m,v)=>{const _=p[v]||{};return Object.assign(Object.assign({},m),{text:_.formatMethod?_.formatMethod(c,u):m==null?void 0:m.text})});return Object.assign(Object.assign({},l),{label:g,limitRect:d,dx:this._layoutOffsetX,dy:this._layoutOffsetY})}_markerLayout(){var e;const t=this._getUpdateMarkerAttrs();(e=this._markerComponent)===null||e===void 0||e.setAttributes(t)}_initDataView(){const e=this._spec,t="coordinates"in e,{doXProcess:i,doYProcess:r,doXYY1Process:s,doYXX1Process:a,doXYProcess:o,doAngleProcess:l,doRadiusProcess:u,doAngRadRad1Process:c,doRadAngAng1Process:d,doRadAngProcess:h}=Jb(e);if(this._markerData=this._getRelativeDataView(),!(i||r||s||a||o||l||u||c||d||h||t))return;rn(this._option.dataSet,"markerAggregation",zDe),rn(this._option.dataSet,"markerRegression",Zsn),rn(this._option.dataSet,"markerFilter",HDe);const{options:f,needAggr:p,needRegr:g,processData:m}=this._computeOptions(),v=new Pi(this._option.dataSet);v.parse([m],{type:"dataview"}),p&&v.transform({type:"markerAggregation",options:f}),g&&v.transform({type:"markerRegression",options:f}),v.transform({type:"markerFilter",options:this._getAllRelativeSeries()}),v.target.on("change",()=>{this._markerLayout()}),this._markerData=v}}KQ.specKey="markLine";const VDe=()=>({style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}),rve=n=>({visible:n,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}}),WDe=VDe();WDe.refY=5;const UDe={line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:rve(!1),endSymbol:rve(!0),label:WDe};class nk extends KQ{constructor(){super(...arguments),this.type=He.markLine,this.name=He.markLine,this.coordinateType="cartesian"}_newMarkLineComponent(e){return new Fp(e)}_computePointsAttr(){var e;const t=this._spec,i=this._markerData,r=this._startRelativeSeries,s=this._endRelativeSeries,a=this._relativeSeries,o=Y(t.coordinates),l=Y(t.process),u=l&&Y(t.process.x),c=l&&Y(t.process.y),d=Y(t.positions),h=(e=t.autoRange)!==null&&e!==void 0&&e,{doXProcess:f,doYProcess:p,doXYY1Process:g,doYXX1Process:m,doXYProcess:v,doCoordinatesProcess:_}=Jb(t);let y=[];if(f||g||p||m||v||o&&u||o&&c){const x=k$(i,r,s,a,h);y=x.length===1?x[0]:x.map(w=>w[0])}else _?y=VQ(i,a,h,t.coordinatesOffset):d&&(y=WQ(t.positions,a,t.regionRelative));return{points:y}}_markerLayout(){var e,t,i,r,s;const a=this._getUpdateMarkerAttrs();if(this._spec.type==="type-step"){const o=this._startRelativeSeries,l=this._endRelativeSeries,{multiSegment:u,mainSegmentIndex:c}=this._spec.line||{},{connectDirection:d,expandDistance:h=0}=this._spec;let f;if(Jc(h)){const T=o.getRegion(),E=T.getLayoutStartPoint(),A=l.getRegion(),k=A.getLayoutStartPoint();if(d==="bottom"||d==="top"){const P=Math.abs(Math.min(E.y,k.y)-Math.max(E.y+T.getLayoutRect().height,k.y+A.getLayoutRect().height));f=Number(h.substring(0,h.length-1))*P/100}else{const P=Math.abs(Math.min(E.x,k.x)-Math.max(E.x+T.getLayoutRect().width,k.x+A.getLayoutRect().width));f=Number(h.substring(0,h.length-1))*P/100}}else f=h;const{points:p,limitRect:g}=a;if(!p||p.length<2)return void((e=this._markerComponent)===null||e===void 0||e.setAttributes(a));const m=jsn(p[0],p[1],d,f);let v;v=u&&Y(c)?{position:"middle",autoRotate:!1}:Object.assign({position:"start",autoRotate:!1},zsn(p[0],p[1],d,f));const _=(i=(t=this._markerComponent)===null||t===void 0?void 0:t.attribute)!==null&&i!==void 0?i:{},y=Ae(_.label),x=Ae(a.label),w=Ae(this._spec.label);(r=this._markerComponent)===null||r===void 0||r.setAttributes({points:u?[[m[0],m[1]],[m[1],m[2]],[m[2],m[3]]]:m,label:x.map((T,E)=>{var A,k,P,I;let D=0,L=0,B=(A=v.dx)!==null&&A!==void 0?A:0,F=(k=v.dy)!==null&&k!==void 0?k:0;const $=(P=w[E])!==null&&P!==void 0?P:w[0];return Me($==null?void 0:$.refX)&&(D+=$.refX),Me($==null?void 0:$.refY)&&(L+=$.refY),Me($==null?void 0:$.dx)&&(B+=$.dx),Me($==null?void 0:$.dy)&&(F+=$.dy),Object.assign(Object.assign(Object.assign({},T),v),{refX:D,refY:L,dx:B,dy:F,textStyle:Object.assign(Object.assign({},(I=y[E])===null||I===void 0?void 0:I.textStyle),{textAlign:"center",textBaseline:"middle"})})}),limitRect:g,multiSegment:u,mainSegmentIndex:c,dx:this._layoutOffsetX,dy:this._layoutOffsetY})}else(s=this._markerComponent)===null||s===void 0||s.setAttributes(a)}_computeOptions(){let e,t=this._getRelativeDataView(),i=!0,r=!1;const s=this._spec,a=this._relativeSeries,{doXProcess:o,doYProcess:l,doXYY1Process:u,doYXX1Process:c,doXYProcess:d,doCoordinatesProcess:h}=Jb(s);if(d)e=[this._processSpecByDims([{dim:"x",specValue:s.x},{dim:"y",specValue:s.y}]),this._processSpecByDims([{dim:"x",specValue:s.x1},{dim:"y",specValue:s.y1}])];else if(o)e=[this._processSpecByDims([{dim:"x",specValue:s.x}])];else if(l)e=[this._processSpecByDims([{dim:"y",specValue:s.y}])];else if(u)e=[this._processSpecByDims([{dim:"x",specValue:s.x},{dim:"y",specValue:s.y}]),this._processSpecByDims([{dim:"x",specValue:s.x},{dim:"y",specValue:s.y1}])];else if(c)e=[this._processSpecByDims([{dim:"x",specValue:s.x},{dim:"y",specValue:s.y}]),this._processSpecByDims([{dim:"x",specValue:s.x1},{dim:"y",specValue:s.y}])];else if(h){if(e=this._processSpecCoo(s),i=!1,t=new Pi(this._option.dataSet,{name:`${this.type}_${this.id}_data`}).parse([a.getViewData()],{type:"dataview"}).transform({type:"markerAggregation",options:e}),s.process&&Y(s.process.x)&&(e=[this._processSpecByDims([{dim:"x",specValue:s.process.x}])],i=!0),s.process&&Y(s.process.y)&&(e=e=[this._processSpecByDims([{dim:"y",specValue:s.process.y}])],i=!0),s.process&&Y(s.process.xy)){const{xField:f,yField:p}=a.getSpec();e={fieldX:f,fieldY:p},r=!0}}else i=!1;return{options:e,needAggr:i,needRegr:r,processData:t}}}nk.type=He.markLine,nk.coordinateType="cartesian",nk.builtInTheme={markLine:UDe};const Qsn=()=>{ne.registerComponent(nk.type,nk),LMe()};class ik extends KQ{constructor(){super(...arguments),this.type=He.polarMarkLine,this.name=He.polarMarkLine,this.coordinateType="polar"}_newMarkLineComponent(e){const{doRadiusProcess:t,doRadAngAng1Process:i}=Jb(this._spec);return t||i?new im(e):new Fp(e)}_computePointsAttr(){var e;const t=this._spec,i=this._markerData,r=this._startRelativeSeries,s=this._endRelativeSeries,a=this._relativeSeries,o=(e=t.autoRange)!==null&&e!==void 0&&e,{doAngleProcess:l,doRadiusProcess:u,doAngRadRad1Process:c,doRadAngAng1Process:d,doRadAngProcess:h,doCoordinatesProcess:f}=Jb(t);let p=[],g={};const m={x:this._relativeSeries.getRegion().getLayoutStartPoint().x+this._relativeSeries.angleAxisHelper.center().x,y:this._relativeSeries.getRegion().getLayoutStartPoint().y+this._relativeSeries.angleAxisHelper.center().y};if(l||u||c||d||h){const v=HQ(i,r,s,a,o);p=v.length===1?v[0]:v.map(_=>_[0]),g=p[0].radius===p[1].radius?{radius:p[0].radius,startAngle:p[0].angle,endAngle:p[1].angle,center:m}:{points:p.map(_=>Sr(m,_.radius,_.angle))}}else f&&(p=NDe(i,a,o),g={points:p.map(v=>Sr(m,v.radius,v.angle))});return g}_computeOptions(){const e=this._spec,{doAngleProcess:t,doRadiusProcess:i,doAngRadRad1Process:r,doRadAngAng1Process:s,doRadAngProcess:a,doCoordinatesProcess:o}=Jb(e);let l;const u=this._getRelativeDataView();return a?l=[this._processSpecByDims([{dim:"angle",specValue:e.angle},{dim:"radius",specValue:e.radius}]),this._processSpecByDims([{dim:"angle",specValue:e.angle1},{dim:"radius",specValue:e.radius1}])]:t?l=[this._processSpecByDims([{dim:"angle",specValue:e.angle}])]:i?l=[this._processSpecByDims([{dim:"radius",specValue:e.radius}])]:r?l=[this._processSpecByDims([{dim:"angle",specValue:e.angle},{dim:"radius",specValue:e.radius}]),this._processSpecByDims([{dim:"angle",specValue:e.angle},{dim:"radius",specValue:e.radius1}])]:s?l=[this._processSpecByDims([{dim:"angle",specValue:e.angle},{dim:"radius",specValue:e.radius}]),this._processSpecByDims([{dim:"angle",specValue:e.angle1},{dim:"radius",specValue:e.radius}])]:o&&(l=this._processSpecCoo(e)),{options:l,needAggr:!0,needRegr:!1,processData:u}}}ik.type=He.polarMarkLine,ik.coordinateType="polar",ik.builtInTheme={polarMarkLine:UDe};const Jsn=()=>{ne.registerComponent(ik.type,ik),M9t(),LMe()},ean={padding:{top:4,bottom:20},textStyle:{fontSize:{type:"token",key:"l3FontSize"},lineHeight:{type:"token",key:"l3LineHeight"},fill:{type:"palette",key:"primaryFontColor"}},subtextStyle:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fill:{type:"palette",key:"tertiaryFontColor"}}};class rk extends Sc{get orient(){return this._orient}constructor(e,t){super(e,t),this.type=He.title,this.specKey=He.title,this.layoutType="normal",this.layoutZIndex=ji.Title,this.layoutLevel=Df.Title,this._orient="top",this._orient=iQ(e.orient)?e.orient:"top"}initLayout(){super.initLayout(),this._layout&&(this._layout.layoutOrient=this._orient)}static getSpecInfo(e){return lg(e,this.specKey,He.title,t=>t.visible!==!1)}_compareSpec(e,t){const i=super._compareSpec(e,t);return(t==null?void 0:t.orient)===(e==null?void 0:e.orient)&&(t==null?void 0:t.visible)===e.visible||(i.reMake=!0),i.change=!0,i.reRender=!0,i}afterSetLayoutStartPoint(e){Me(e.x)&&this._titleComponent&&this._titleComponent.setAttribute("x",e.x),Me(e.y)&&this._titleComponent&&this._titleComponent.setAttribute("y",e.y),super.afterSetLayoutStartPoint(e)}getBoundsInRect(e){let t={};this.setLayoutRect(e);const i=this._getTitleAttrs();this._createOrUpdateTitleComponent(i),t=this._getTitleLayoutRect();const{x:r,y:s}=this.getLayoutStartPoint();return{x1:r,y1:s,x2:r+t.width,y2:s+t.height}}_getTitleLayoutRect(){const e=this._titleComponent.AABBBounds;return{width:this._spec.width?this._spec.width:Me(e.width())?e.width():0,height:this._spec.height?this._spec.height:Me(e.height())?e.height():0}}_getTitleAttrs(){var e,t,i,r,s,a,o,l;if(this._spec.visible===!1)return{visible:!1};const u=this.getLayoutRect(),c=Fs(this._spec.width,u.width,null,u.width),d=Fs(this._spec.maxWidth,u.width,null,u.width),h=Math.max(Math.min(c,d,u.width),0),f=Object.assign(Object.assign({},By(this._spec,["padding"])),{textType:(e=this._spec.textType)!==null&&e!==void 0?e:"text",text:(t=this._spec.text)!==null&&t!==void 0?t:"",subtextType:(i=this._spec.subtextType)!==null&&i!==void 0?i:"text",subtext:(r=this._spec.subtext)!==null&&r!==void 0?r:"",x:(s=this._spec.x)!==null&&s!==void 0?s:0,y:(a=this._spec.y)!==null&&a!==void 0?a:0,height:this._spec.height,minWidth:this._spec.minWidth,maxWidth:h,minHeight:this._spec.minHeight,maxHeight:this._spec.maxHeight,padding:this._spec.innerPadding,align:(o=this._spec.align)!==null&&o!==void 0?o:"left",verticalAlign:(l=this._spec.verticalAlign)!==null&&l!==void 0?l:"top",textStyle:Object.assign({width:h,maxLineWidth:h},this._spec.textStyle),subtextStyle:Object.assign({maxLineWidth:h},this._spec.subtextStyle)});return Y(this._spec.width)&&(f.textStyle.width=Math.max(c,u.width),f.subtextStyle.width=f.textStyle.width),f}_createOrUpdateTitleComponent(e){if(this._titleComponent)Oi(e,this._cacheAttrs)||this._titleComponent.setAttributes(e);else{const t=this.getContainer(),i=new VMe(e);i.name="title",t.add(i),this._titleComponent=i,i.on("*",(r,s)=>this._delegateEvent(i,r,s))}return this._cacheAttrs=e,this._titleComponent}_getNeedClearVRenderComponents(){return[this._titleComponent]}clear(){super.clear(),this._cacheAttrs=null}}rk.type=He.title,rk.specKey=He.title,rk.builtInTheme={title:ean};const tan=()=>{ne.registerComponent(rk.type,rk)};class XQ extends YQ{constructor(){super(...arguments),this.specKey="markArea",this.layoutZIndex=ji.MarkArea}static _getMarkerCoordinateType(e){const{doAngleProcess:t,doRadiusProcess:i,doRadAngProcess:r}=e0(e);return e.coordinateType==="polar"||t||i||r?"polar":"cartesian"}_createMarkerComponent(){var e,t,i,r,s,a,o,l;const u=Ae((e=this._spec.label)!==null&&e!==void 0?e:{}),c={zIndex:this.layoutZIndex,interactive:(t=this._spec.interactive)===null||t===void 0||t,hover:(i=this._spec.interactive)===null||i===void 0||i,select:(r=this._spec.interactive)===null||r===void 0||r,points:[{x:0,y:0}],center:{x:0,y:0},innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,areaStyle:Zd(ln((s=this._spec.area)===null||s===void 0?void 0:s.style),this._markerData,this._markAttributeContext),clipInRange:(a=this._spec.clip)!==null&&a!==void 0&&a,label:u.map(d=>GQ(d,this._markerData,this._markAttributeContext)),state:{area:ac((o=this._spec.area)===null||o===void 0?void 0:o.state,this._markerData,this._markAttributeContext),label:u.map(d=>ac(d.state,this._markerData,this._markAttributeContext)),labelBackground:u.map(d=>{var h;return ac((h=d.labelBackground)===null||h===void 0?void 0:h.state,this._markerData,this._markAttributeContext)})},animation:(l=this._spec.animation)!==null&&l!==void 0&&l,animationEnter:this._spec.animationEnter,animationExit:this._spec.animationExit,animationUpdate:this._spec.animationUpdate};return this._newMarkAreaComponent(c)}_markerLayout(){var e;const t=this._spec,i=this._markerData,r=this._startRelativeSeries,s=this._endRelativeSeries,a=this._relativeSeries,o=this._computePointsAttr(),l=this._getRelativeDataView().latestData,u=i?i.latestData[0]&&i.latestData[0].latestData?i.latestData[0].latestData:i.latestData:l;let c;if(t.clip||Ae(t.label).some(d=>d==null?void 0:d.confine)){const{minX:d,maxX:h,minY:f,maxY:p}=UQ([r.getRegion(),s.getRegion(),a.getRegion()]);c={x:d,y:f,width:h-d,height:p-f}}if(this._markerComponent){const d=Ae((e=this._markerComponent.attribute)===null||e===void 0?void 0:e.label),h=Ae(this._spec.label);this._markerComponent.setAttributes(Object.assign(Object.assign({},o),{label:d.map((f,p)=>{const g=h[p]||{};return Object.assign(Object.assign({},f),{text:g.formatMethod?g.formatMethod(u,l):f==null?void 0:f.text})}),limitRect:c,dx:this._layoutOffsetX,dy:this._layoutOffsetY}))}}_initDataView(){const e=this._spec,{doXProcess:t,doYProcess:i,doXYProcess:r,doAngleProcess:s,doRadiusProcess:a,doRadAngProcess:o,doCoordinatesProcess:l}=e0(e);if(!(t||i||r||s||a||o||l))return null;this._initCommonDataView()}}XQ.specKey="markArea";const GDe={area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:VDe()};class sk extends XQ{constructor(){super(...arguments),this.type=He.markArea,this.name=He.markArea,this.coordinateType="cartesian"}_newMarkAreaComponent(e){return new df(e)}_computePointsAttr(){var e,t;const i=this._spec,r=this._markerData,s=this._startRelativeSeries,a=this._endRelativeSeries,o=this._relativeSeries,{doXProcess:l,doYProcess:u,doXYProcess:c,doCoordinatesProcess:d}=e0(i),h=Y(i.positions),f=(e=i.autoRange)!==null&&e!==void 0&&e,p=(t=i.includeFullBand)!==null&&t!==void 0&&t;let g=[],m=[];if(c){m=k$(r,s,a,o,f,p);const[v,_]=m;v&&v.length&&_&&_.length&&(g=[{x:v[0].x,y:_[0].y},v[0],{x:_[0].x,y:v[0].y},_[0]])}else if(l||u){m=k$(r,s,a,o,f,p);const[v,_]=m;v&&v.length&&_&&_.length&&(g=[...v,_[1],_[0]])}else d?g=VQ(r,o,f,i.coordinatesOffset):h&&(g=WQ(i.positions,o,i.regionRelative));return{points:g}}_computeOptions(){const e=this._spec,{doXProcess:t,doYProcess:i,doXYProcess:r,doCoordinatesProcess:s}=e0(e);let a;return r?a=[this._processSpecByDims([{dim:"x",specValue:e.x},{dim:"y",specValue:e.y}]),this._processSpecByDims([{dim:"x",specValue:e.x1},{dim:"y",specValue:e.y1}])]:t?a=[this._processSpecByDims([{dim:"x",specValue:e.x}]),this._processSpecByDims([{dim:"x",specValue:e.x1}])]:i?a=[this._processSpecByDims([{dim:"y",specValue:e.y}]),this._processSpecByDims([{dim:"y",specValue:e.y1}])]:s&&(a=this._processSpecCoo(e)),{options:a}}}sk.type=He.markArea,sk.coordinateType="cartesian",sk.builtInTheme={markArea:GDe};const nan=()=>{ne.registerComponent(sk.type,sk),FMe()};class ak extends XQ{constructor(){super(...arguments),this.type=He.polarMarkArea,this.name=He.polarMarkArea,this.coordinateType="polar"}_newMarkAreaComponent(e){const{doRadiusProcess:t,doAngleProcess:i,doRadAngProcess:r}=e0(this._spec);return i||t||r?new Bp(e):new df(e)}_computePointsAttr(){var e;const t=this._spec,i=this._markerData,r=this._startRelativeSeries,s=this._endRelativeSeries,a=this._relativeSeries,{doAngleProcess:o,doRadiusProcess:l,doRadAngProcess:u,doCoordinatesProcess:c}=e0(t),d=(e=t.autoRange)!==null&&e!==void 0&&e;let h,f={};const p={x:this._relativeSeries.getRegion().getLayoutStartPoint().x+this._relativeSeries.angleAxisHelper.center().x,y:this._relativeSeries.getRegion().getLayoutStartPoint().y+this._relativeSeries.angleAxisHelper.center().y};if(o||l||u){const g=HQ(i,r,s,a,d);u?f={innerRadius:g[0][0].radius,outerRadius:g[1][0].radius,startAngle:g[0][0].angle,endAngle:g[1][0].angle,center:p}:o?f={innerRadius:0,outerRadius:Math.abs(g[0][0].radius),startAngle:g[0][1].angle,endAngle:g[1][1].angle,center:p}:l&&(f={innerRadius:g[0][0].radius,outerRadius:g[1][0].radius,startAngle:g[0][0].angle,endAngle:g[1][1].angle,center:p})}else c&&(h=NDe(i,a,d),f={points:h.map(g=>Sr(p,g.radius,g.angle))});return f}_computeOptions(){const e=this._spec,{doAngleProcess:t,doRadiusProcess:i,doRadAngProcess:r,doCoordinatesProcess:s}=e0(e);let a;return r?a=[this._processSpecByDims([{dim:"angle",specValue:e.angle},{dim:"radius",specValue:e.radius}]),this._processSpecByDims([{dim:"angle",specValue:e.angle1},{dim:"radius",specValue:e.radius1}])]:t?a=[this._processSpecByDims([{dim:"angle",specValue:e.angle},{dim:"radius",specValue:e.radius}]),this._processSpecByDims([{dim:"angle",specValue:e.angle1},{dim:"radius",specValue:e.radius}])]:i?a=[this._processSpecByDims([{dim:"radius",specValue:e.radius}]),this._processSpecByDims([{dim:"radius",specValue:e.radius1}])]:s&&(a=this._processSpecCoo(e)),{options:a}}}ak.type=He.polarMarkArea,ak.coordinateType="polar",ak.builtInTheme={polarMarkArea:GDe};const ian=()=>{ne.registerComponent(ak.type,ak),I9t(),FMe()},sve=n=>{const e=Object.assign({},n);return ln(e)},ran=n=>{const e=Object.assign({},n);return ln(e)},YD=n=>Object.assign(Object.assign({},n),{style:Object.assign({},ln(n.style))}),YDe=n=>{var e,t,i,r,s,a,o,l,u,c,d,h,f,p,g;const m=sve((t=(e=n==null?void 0:n.slider)===null||e===void 0?void 0:e.trackStyle)!==null&&t!==void 0?t:{}),v=sve((r=(i=n==null?void 0:n.slider)===null||i===void 0?void 0:i.railStyle)!==null&&r!==void 0?r:{}),_=ran((a=(s=n==null?void 0:n.slider)===null||s===void 0?void 0:s.handlerStyle)!==null&&a!==void 0?a:{}),y=YD((l=(o=n==null?void 0:n.controller)===null||o===void 0?void 0:o.start)!==null&&l!==void 0?l:{}),x=YD((c=(u=n==null?void 0:n.controller)===null||u===void 0?void 0:u.pause)!==null&&c!==void 0?c:{}),w=YD((h=(d=n==null?void 0:n.controller)===null||d===void 0?void 0:d.backward)!==null&&h!==void 0?h:{}),T=YD((p=(f=n==null?void 0:n.controller)===null||f===void 0?void 0:f.forward)!==null&&p!==void 0?p:{}),E=Object.assign(Object.assign({},n),{direction:n.direction,interval:n.interval,visible:n.visible,orient:(g=n.orient)!==null&&g!==void 0?g:"bottom",slider:Object.assign(Object.assign({},n.slider),{trackStyle:m,railStyle:v,handlerStyle:_}),controller:Object.assign(Object.assign({},n.controller),{start:y,pause:x,backward:w,forward:T})});return n.visible||(E.controller.visible=!1,E.slider.visible=!1),E},san=(n,e)=>Object.assign(Object.assign({},YDe(n)),{data:e,type:"continuous"}),aan=(n,e)=>Object.assign(Object.assign({},YDe(n)),{data:e,type:"discrete"}),vE=n=>n==="left"||n==="right",xW=n=>n==="top"||n==="bottom",oan={visible:!0,position:"start",padding:{top:20,bottom:20},slider:{space:10,trackStyle:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.8},railStyle:{fill:{type:"palette",key:"sliderRailColor"}},handlerStyle:{size:15,stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"playerControllerColor"}}},controller:{start:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},pause:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},backward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},forward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}}}};class ok extends Sc{constructor(){super(...arguments),this.layoutZIndex=ji.Player,this.layoutLevel=Df.Player,this.specKey="player",this.type=He.player,this._orient="bottom",this._getPlayerAttrs=()=>{var e,t,i,r,s,a;const o=this._spec.type,l={size:{width:this._width,height:this._height},dx:(e=this._spec.dx)!==null&&e!==void 0?e:0+this._dx,dy:(t=this._spec.dy)!==null&&t!==void 0?t:0+this._dy};return o==="discrete"?Object.assign(Object.assign(Object.assign({},aan(this._spec,this._specs)),l),{disableTriggerEvent:this._option.disableTriggerEvent,loop:(r=(i=this._spec)===null||i===void 0?void 0:i.loop)===null||r===void 0||r}):Object.assign(Object.assign(Object.assign({},san(this._spec,this._specs)),l),{disableTriggerEvent:this._option.disableTriggerEvent,loop:(a=(s=this._spec)===null||s===void 0?void 0:s.loop)===null||a===void 0||a})},this._createOrUpdatePlayerComponent=()=>{const e=Object.assign({},this._getPlayerAttrs()),t=this.getContainer();this._playerComponent?Oi(e,this._cacheAttrs)||(this._cacheAttrs=e,this._playerComponent.setAttributes(e),this._playerComponent._initAttributes(),this._playerComponent.render()):(e.type==="discrete"?this._playerComponent=new rXt(e):this._playerComponent=new aXt(e),this._cacheAttrs=e,this._playerComponent.name="player",t.add(this._playerComponent),this._initEvent())},this._maxSize=()=>{var e,t,i,r,s,a,o,l,u;return Math.max(...Ae((t=(e=this._spec.controller.start)===null||e===void 0?void 0:e.style)===null||t===void 0?void 0:t.size),...Ae((r=(i=this._spec.controller.pause)===null||i===void 0?void 0:i.style)===null||r===void 0?void 0:r.size),...Ae((a=(s=this._spec.controller.backward)===null||s===void 0?void 0:s.style)===null||a===void 0?void 0:a.size),...Ae((l=(o=this._spec.controller.forward)===null||o===void 0?void 0:o.style)===null||l===void 0?void 0:l.size),(u=vE(this._orient)?this._spec.slider.railStyle.width:this._spec.slider.railStyle.height)!==null&&u!==void 0?u:10)},this._sliderExceededSize=()=>{var e,t,i,r,s,a,o,l,u;const c=(e=vE(this._orient)?this._spec.slider.railStyle.width:this._spec.slider.railStyle.height)!==null&&e!==void 0?e:10,d=Math.max(...Ae((i=(t=this._spec.controller.start)===null||t===void 0?void 0:t.style)===null||i===void 0?void 0:i.size),...Ae((s=(r=this._spec.controller.pause)===null||r===void 0?void 0:r.style)===null||s===void 0?void 0:s.size),...Ae((o=(a=this._spec.controller.backward)===null||a===void 0?void 0:a.style)===null||o===void 0?void 0:o.size),...Ae((u=(l=this._spec.controller.forward)===null||l===void 0?void 0:l.style)===null||u===void 0?void 0:u.size));return c>=d?c-d:0},this._initEvent=()=>{this._option.disableTriggerEvent||(this._option.globalInstance.on(Et.rendered,()=>{var e;!((e=this._spec)===null||e===void 0)&&e.auto&&(this._playerComponent.pause(),this._playerComponent.play())}),this._playerComponent.addEventListener(Ls.end,()=>{var e;this.event.emit(Et.playerEnd,{model:this}),this._alternate&&this._spec.type==="discrete"&&(this._direction=this._direction==="default"?"reverse":"default",this._playerComponent.setAttributes({direction:this._direction,dataIndex:this._direction==="reverse"?this._specs.length-2:1})),!((e=this._spec)===null||e===void 0)&&e.loop&&this._playerComponent.play()}),this._playerComponent.addEventListener(Ls.change,e=>{const{index:t}=e.detail;this.changePlayerIndex(t)}),this._playerComponent.addEventListener(Ls.backward,e=>{const{index:t}=e.detail,i=this._specs[t];this.event.emit(Et.playerBackward,{model:this,value:{spec:i,index:t,specs:this._specs}})}),this._playerComponent.addEventListener(Ls.forward,e=>{const{index:t}=e.detail,i=this._specs[t];this.event.emit(Et.playerForward,{model:this,value:{spec:i,index:t,specs:this._specs}})}),this._playerComponent.addEventListener(Ls.play,e=>{const{index:t}=e.detail,i=this._specs[t];this.event.emit(Et.playerPlay,{model:this,value:{spec:i,index:t,specs:this._specs}})}),this._playerComponent.addEventListener(Ls.pause,e=>{const{index:t}=e.detail,i=this._specs[t];this.event.emit(Et.playerPause,{model:this,value:{spec:i,index:t,specs:this._specs}})}))}}get orient(){return this._orient}set layoutOrient(e){this._orient=e}setAttrFromSpec(){var e,t,i,r,s,a,o,l;super.setAttrFromSpec(),this._orient=(e=this._spec.orient)!==null&&e!==void 0?e:"bottom",this._specs=(t=this._spec.specs)!==null&&t!==void 0?t:[],this._direction=(i=this._spec.direction)!==null&&i!==void 0?i:"default",this._alternate=(r=this._spec.alternate)!==null&&r!==void 0&&r,this._dx=(s=this._spec.dx)!==null&&s!==void 0?s:0,this._dy=(a=this._spec.dy)!==null&&a!==void 0?a:0,this._position=(o=this._spec.position)!==null&&o!==void 0?o:"middle",this._visible=(l=this._spec.visible)===null||l===void 0||l}afterSetLayoutStartPoint(e){if(super.afterSetLayoutStartPoint(e),Me(e.x)){const t=vE(this._orient)?e.x+this._sliderExceededSize()/2:e.x;this._playerComponent&&this._playerComponent.setAttribute("x",t)}if(Me(e.y)){const t=xW(this._orient)?e.y+this._sliderExceededSize()/2:e.y;this._playerComponent&&this._playerComponent.setAttribute("y",t)}}getBoundsInRect(e,t){this._width=this._computeWidth(e),this._height=this._computeHeight(e),this._dx=this._computeDx(t),this._dy=this._computeDy(t);const i=this._computeLayoutRect(e,this._width,this._height);return this._createOrUpdatePlayerComponent(),i}_getNeedClearVRenderComponents(){return[this._playerComponent]}_computeLayoutRect(e,t,i){if(this._visible===!1)return{x1:0,x2:0,y1:0,y2:0};switch(this._orient){case"top":case"left":return{x1:0,y1:0,x2:t,y2:i};case"right":return{x1:e.width-t,y1:0,x2:e.width,y2:e.height};default:return{x1:0,y1:e.height-i,x2:e.width,y2:e.height}}}_computeWidth(e){return st(this._spec.width)?Math.min(e.width,Number(this._spec.width)):vE(this._orient)?this._maxSize():e.width}_computeHeight(e){return st(this._spec.height)?(this._height=this._spec.height,Math.min(e.height,Number(this._spec.height))):xW(this._orient)?this._maxSize():e.height}_computeDx(e){return vE(this._orient)||this._position==="start"?0:this._position==="middle"?(e.width-this._width)/2:e.width-this._width}_computeDy(e){return xW(this._orient)||this._position==="start"?0:this._position==="middle"?(e.height-this._height)/2:e.height-this._height}changePlayerIndex(e){const t=this._specs[e];this._option.globalInstance.updateFullData(t.data),this.event.emit(Et.playerChange,{model:this,value:{spec:t,index:e,specs:this._specs}})}}ok.builtInTheme={player:oan},ok.specKey="player",ok.type=He.player;const lan=()=>{ne.registerComponent(ok.type,ok)};class qQ extends Sc{constructor(e,t){super(e,t),this.type=He.label,this.name=He.label,this.layoutType="none",this.layoutZIndex=ji.Label,this._regions=t.getRegionsInIndex(t.regionIndexes)}_interactiveConfig(e){const{interactive:t}=e,i={hover:!1,select:!1,state:e.state};if(t!==!0)return i;const{hover:r,select:s}=this._option.getChart().getSpec();return r===!1&&r.enable===!1||(i.hover=!0),s===!1&&s.enable===!1||(i.select=!0),i}_compareSpec(e,t){const i=super._compareSpec(e,t);return i.reRender=!0,Oi(t,e)||(i.reMake=!0),i}_getDataLabelType(e,t){const i=e.type;return i==="line"||i==="area"?t??"line-data":i==="rect"?"rect":i==="arc"?"arc":i==="symbol"||i==="cell"?"symbol":e.setDataLabelType?e.setDataLabelType():""}_setTransformOfComponent(e,t){e.setAttributeTransform(({labelStyle:i,size:r,itemEncoder:s})=>{const a=r(),o=eIe({type:"palette",key:"secondaryFontColor"},this.getColorScheme());return{dataLabels:Ae(t).map((l,u)=>{const c=i(u),d=[],h=l.getGraphics();if(h)return c.data&&c.data.length?c.data.forEach((f,p)=>{if(h[p]){const g=s(f,{labelIndex:u});J(g.fill)&&(g.fill=o),J(g.data)&&(g.data=f),d.push(g)}}):h.forEach(f=>{const{data:p,diffState:g}=f.context;g!==Qa.exit&&p.forEach((m,{})=>{const v=s(m,{labelIndex:u});J(v.fill)&&(v.fill=o),J(v.data)&&(v.data=m),d.push(v)})}),gh(c.overlap)&&J(c.overlap.size)&&(c.overlap.size=Object.assign({},a)),Object.assign(Object.assign({smartInvert:!1,baseMarkGroupName:l.getProductId(),getBaseMarks:()=>h},c),{type:this._getDataLabelType(l,c.type),data:d})}),size:a}})}getVRenderComponents(){const e=[];return this.getMarks().forEach(t=>{const i=t.getComponent();i&&e.push(i)}),e}clear(){super.clear(),this.getMarks().forEach(e=>{e&&e.clearComponent()})}}qQ.type=He.label;class O$ extends KC{constructor(){super(...arguments),this.skipEncode=!1}getRule(){return this._rule}setRule(e){this._rule=e}getTarget(){return this._target}setTarget(e){this._target=e,this._rule||this.setRule(e.type)}getComponent(){return this._component}setComponent(e){this._component=e}render(){}}O$.type="text",O$.constructorType="label";const KDe=()=>{Dh(),ne.registerMark(O$.constructorType,O$)};class XDe extends BM{_initTheme(e,t){return{spec:e,theme:this._theme}}}class Xw extends qQ{constructor(e,t){super(e,t),this.type=He.label,this.name=He.label,this.specKey="label",this.transformerConstructor=XDe,this.layoutZIndex=ji.Label,this._layoutRule=e.labelLayout||"series"}static getSpecInfo(e,t){const i=[];return((t==null?void 0:t.region)||[]).forEach((s,a)=>{(s.seriesIndexes||[]).some(o=>{const l=t.series[o],{markLabelSpec:u={}}=l;return Object.values(u).some(c=>Array.isArray(c)&&(d=>d.some(h=>h.visible))(c))})&&i.push({spec:e,type:He.label,specInfoPath:["component",this.specKey,a],regionIndexes:[a]})}),i}init(e){super.init(e),this.initEvent(),this._initTextMark(),this._initLabelComponent(),this._initTextMarkStyle()}reInit(e){super.reInit(e),this._labelInfoMap&&(this._labelInfoMap.forEach(t=>{t.forEach(({labelMark:i})=>{i.release()})}),this._labelInfoMap.clear()),this._labelInfoMap&&this._labelInfoMap.clear(),this._initTextMark(),this._initLabelComponent(),this._initTextMarkStyle()}initEvent(){this.event.on(Et.dataZoomChange,()=>{this._labelComponentMap.forEach((t,i)=>{const r=i.getComponent();r&&r.disableAnimation()}),this.event.on(Rf.AFTER_MARK_RENDER_END,e)});const e=()=>{this._labelComponentMap.forEach((t,i)=>{const r=i.getComponent();r&&r.enableAnimation()}),this.event.off(Rf.AFTER_MARK_RENDER_END,e)}}_initTextMark(){this._labelInfoMap||(this._labelInfoMap=new Map),this._labelComponentMap||(this._labelComponentMap=new Map),ts(this._regions,e=>{const{markLabelSpec:t={}}=e.getSpecInfo(),i=Object.keys(t),r=e.getRegion();this._labelInfoMap.get(r)||this._labelInfoMap.set(r,[]);for(let s=0;s<i.length;s++){const a=i[s],o=e.getMarkInName(a);o&&t[a].forEach((l,u)=>{var c,d,h;if(l.visible){const f=this._labelInfoMap.get(r),p=this._createMark({type:"label",name:`${(c=e.userId)!==null&&c!==void 0?c:e.id}-${a}-label-${u}`},{attributeContext:e.getMarkAttributeContext()});l.showRelatedMarkTooltip&&((h=(d=e.tooltipHelper)===null||d===void 0?void 0:d.activeTriggerSet.mark)===null||h===void 0||h.add(p)),p.setTarget(o),f.push({labelMark:p,baseMark:o,series:e,labelSpec:l})}})}})}_initLabelComponent(){const e={};this._labelComponentMap.forEach((t,i)=>{e[i.name]=i}),this._labelInfoMap.forEach((t,i)=>{if(this._layoutRule==="region"){let r=!1;const s=`${i.getGroupMark().name}-label-component`;let a=e[s];a||(r=!0,a=this._createMark({type:"component",name:s},{componentType:"label"},{support3d:this._spec.support3d})),a&&(r&&(a.setSkipBeforeLayouted(!0),this._marks.addMark(a),t.forEach(o=>{var l;(l=o.baseMark.getData())===null||l===void 0||l.addRelatedMark(a)})),t[0]&&Y(t[0].labelSpec.zIndex)&&a.setMarkConfig({zIndex:t[0].labelSpec.zIndex}),this._labelComponentMap.set(a,()=>this._labelInfoMap.get(i)),e[s]=null)}else t.forEach((r,s)=>{var a;let o=!1;const l=`${r.labelMark.name}-component`;let u=e[l];u||(o=!0,u=this._createMark({type:"component",name:l},{componentType:"label",noSeparateStyle:!0},{support3d:r.baseMark.getMarkConfig().support3d})),u&&(Y(r.labelSpec.zIndex)&&u.setMarkConfig({zIndex:r.labelSpec.zIndex}),o&&(u.setSkipBeforeLayouted(!0),this._marks.addMark(u),(a=r.baseMark.getData())===null||a===void 0||a.addRelatedMark(u)),this._labelComponentMap.set(u,()=>this._labelInfoMap.get(i)[s]),e[l]=null)})}),Object.keys(e).forEach(t=>{const i=e[t];i&&(i.release(),this._labelComponentMap.delete(i))})}_initTextMarkStyle(){this._labelComponentMap.forEach((e,t)=>{Ae(e()).forEach(({labelMark:i})=>{i.setComponent(t)})}),this._labelInfoMap.forEach(e=>{e.forEach(t=>{var i,r;const{labelMark:s,labelSpec:a,series:o}=t;if(this.initMarkStyleWithSpec(s,a),Re(a==null?void 0:a.getStyleHandler)){const l=a.getStyleHandler(o);l==null||l.call(o,s,a)}!((r=(i=s.stateStyle)===null||i===void 0?void 0:i.normal)===null||r===void 0)&&r.lineWidth&&s.setAttribute("stroke",o.getColorAttribute(),"normal",Qe.Base_Series)})})}updateLayoutAttribute(){super.updateLayoutAttribute(),this._labelComponentMap.forEach((e,t)=>{const i=e();Oe(i)?this._updateMultiLabelAttribute(i,t):this._updateSingleLabelAttribute(i,t)})}_updateMultiLabelAttribute(e,t){this._updateLabelComponentAttribute(t,e.map(({baseMark:i})=>i),e)}_updateSingleLabelAttribute(e,t){const{baseMark:i}=e;this._updateLabelComponentAttribute(t,i,[e])}_updateLabelComponentAttribute(e,t,i){const r=this._option.getComponentsByType("totalLabel");e.setMarkConfig({interactive:!1}),e.setSimpleStyle({labelStyle:s=>{var a,o;const l=i[s],{labelSpec:u,labelMark:c,series:d}=l,h=c.getRule(),f=this._interactiveConfig(u),p=(o=(a=this._spec)===null||a===void 0?void 0:a.centerOffset)!==null&&o!==void 0?o:0;let g=qt({textStyle:Object.assign({pickable:u.interactive===!0},u.style),overlap:{avoidMarks:r.map(m=>m.getMarks()[0].getProductId())}},zJt(h,l),Object.assign(Object.assign(Object.assign({},By(u,["position","style","state","type","stackDataFilterType","getStyleHandler"])),f),{centerOffset:p}),u.stackDataFilterType?{dataFilter:u.stackDataFilterType==="min"?m=>m.filter(v=>v.data[sQ]):m=>m.filter(v=>v.data[WO])}:{});return d&&d.parseLabelStyle&&(g=d.parseLabelStyle(g,u,c)),h!=="line"&&h!=="area"||(g.type=h),g},size:()=>{var s;return Object.assign({padding:(s=i[0].labelSpec.overlap)===null||s===void 0?void 0:s.padding},i[0].series.getRegion().getLayoutRect())},itemEncoder:(s,{labelIndex:a})=>i[a]&&!i[a].labelMark.skipEncode?AQ(i[a],s,i[a].labelSpec.formatMethod,i[a].labelSpec.formatter):{data:s}}),this._setTransformOfComponent(e,t)}compileMarks(){this.getMarks().forEach(e=>{const t=this._labelComponentMap.get(e)();let i;i=Oe(t)?t[0].series.getRegion().getGroupMark().getProduct():t.series.getRegion().getGroupMark().getProduct(),e.compile({group:i})})}getLabelInfoByTextGraphic(e){let t;const i=e==null?void 0:e.parent,r=i==null?void 0:i.parent;if(r){const s=r.getChildren().indexOf(i);this._labelComponentMap.forEach((a,o)=>{o.getComponent()===r&&(t=Ae(a())[s])})}return t}}Xw.type=He.label,Xw.specKey="label",Xw.transformerConstructor=XDe;const uan=()=>{ne.registerGraphicComponent(Xw.type,n=>new OM(n)),KDe(),Xz(),ne.registerComponent(Xw.type,Xw,!0,1/0)},can={visible:!1,offset:5,overlap:{clampForce:!0,strategy:[]},smartInvert:!1,animation:!1,style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"primaryFontColor"}}};class qw extends qQ{constructor(){super(...arguments),this.type=He.totalLabel,this.name=He.totalLabel,this.specKey="totalLabel",this.layoutZIndex=ji.Label}static getSpecInfo(e,t){var i;const r=[];return(i=t==null?void 0:t.region)===null||i===void 0||i.forEach((s,a)=>{var o;(o=s.seriesIndexes)===null||o===void 0||o.forEach(l=>{const{spec:u}=t.series[l],c=u[this.specKey];c!=null&&c.visible&&r.push({spec:c,type:He.totalLabel,specPath:["series",l,this.specKey],specInfoPath:["component",this.specKey,l],regionIndexes:[a],seriesIndexes:[l]})})}),r}init(e){super.init(e),this._initTextMark(),this._initLabelComponent()}reInit(e){super.reInit(e),this._initTextMark()}_initTextMark(){var e;const t=this._getSeries();if(!((e=t.getSpec().totalLabel)===null||e===void 0)&&e.visible){const i=t.getSeriesMark();if(i){const r=this._createMark({type:"label",name:`${i.name}-total-label`});this._baseMark=i,this._textMark=r,this._initTextMarkStyle()}}}_initTextMarkStyle(){var e;super.initMarkStyleWithSpec(this._textMark,this._spec),this.setMarkStyle(this._textMark,{text:i=>i[aIe]},"normal",Qe.Default);const t=this._getSeries();(e=t.initTotalLabelMarkStyle)===null||e===void 0||e.call(t,this._textMark)}_initLabelComponent(){var e;const t=this._getSeries(),i=this._createMark({type:"component",name:`${(e=t.name)!==null&&e!==void 0?e:t.type}-total-label-component`},{componentType:"label"},{support3d:this._spec.support3d});i&&(this._marks.addMark(i),t.getData().addRelatedMark(i))}updateLayoutAttribute(){super.updateLayoutAttribute();const e=this._getSeries();this._marks.forEach((t,i)=>{t.setMarkConfig({interactive:!1}),t.setSimpleStyle({labelStyle:()=>{var r,s;if(this._baseMark){const{offset:a,animation:o,overlap:l,position:u="top"}=this._spec,c=this._interactiveConfig(this._spec);return qt({textStyle:{pickable:this._spec.interactive===!0},position:dan(e,this._baseMark.type,u),x:0,y:0},(s=(r=e.getTotalLabelComponentStyle)===null||r===void 0?void 0:r.call(e,{baseMark:this._baseMark,labelMark:this._textMark}))!==null&&s!==void 0?s:{},Object.assign({offset:a,animation:o,overlap:l,dataFilter:d=>d.filter(h=>u==="bottom"?h.data[sQ]:h.data[WO])},c))}},size:()=>{var r;return Object.assign({padding:(r=this._spec.overlap)===null||r===void 0?void 0:r.padding},this._regions[0].getLayoutRect())},itemEncoder:r=>AQ({baseMark:this._baseMark,labelMark:this._textMark,series:e,labelSpec:e.getSpec().totalLabel},r,this._spec.formatMethod)}),this._setTransformOfComponent(t,this._baseMark)})}compileMarks(){this.getMarks().forEach(e=>{const t=this._regions[0].getGroupMark().getProduct();e.compile({group:t,context:{model:this}})})}_getSeries(){return this._option.getSeriesInIndex([this.getSpecPath()[1]])[0]}}qw.type=He.totalLabel,qw.builtInTheme={totalLabel:can},qw.specKey="totalLabel";function dan(n,e,t="top"){var i,r;let s;const{direction:a}=n;let o;o=t==="bottom"?{vertical:["bottom","top"],horizontal:["left","right"]}:{vertical:["top","bottom"],horizontal:["right","left"]};const l=(a==="horizontal"?!((i=n.getXAxisHelper())===null||i===void 0)&&i.isInverse():!((r=n.getYAxisHelper())===null||r===void 0)&&r.isInverse())?1:0;switch(e){case"rect":case"symbol":s=o[a][l];break;default:s="top"}return s}const han=()=>{ne.registerGraphicComponent(qw.type,n=>new OM(n)),KDe(),Xz(),ne.registerComponent(qw.type,qw,!0)};var ave=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};class pH extends YQ{constructor(){super(...arguments),this.specKey="markPoint",this.layoutZIndex=ji.MarkPoint}static _getMarkerCoordinateType(e){const{doPolarProcess:t,doGeoProcess:i}=X7(e);return e.coordinateType==="polar"||t?"polar":e.coordinateType==="geo"||i?"geo":"cartesian"}_createMarkerComponent(){var e,t,i,r,s,a,o,l,u,c,d,h,f,p,g,m,v,_,y,x,w,T,E,A,k,P,I,D,L,B,F,$;const{itemContent:z={},itemLine:N={},targetSymbol:V={}}=this._spec,H=z,{type:K="text",text:U,symbol:X,image:Z,richText:Q,customMark:se,textStyle:ae,symbolStyle:ue,imageStyle:oe,richTextStyle:re,customMarkStyle:fe,style:ve={},state:xe={}}=H,ye=ave(H,["type","text","symbol","image","richText","customMark","textStyle","symbolStyle","imageStyle","richTextStyle","customMarkStyle","style","state"]);let Ee=null,Se=null,Fe={};K==="text"?(Ee=(e=U==null?void 0:U.state)!==null&&e!==void 0?e:xe,Fe={dx:0,dy:0},Se=GQ(We(Fe,(t=U??ae)!==null&&t!==void 0?t:ve),this._markerData,this._markAttributeContext)):K==="richText"?(Ee=(i=Q==null?void 0:Q.state)!==null&&i!==void 0?i:xe,Fe={width:100,height:100},Se=Zd(We(Fe,(s=(r=Q==null?void 0:Q.style)!==null&&r!==void 0?r:re)!==null&&s!==void 0?s:ve),this._markerData,this._markAttributeContext)):K==="symbol"?(Ee=(a=X==null?void 0:X.state)!==null&&a!==void 0?a:xe,Fe={symbolType:"star",fill:"rgb(48, 115, 242)",fillOpacity:.8,size:20},Se=ln(Zd(We(Fe,(l=(o=X==null?void 0:X.style)!==null&&o!==void 0?o:ue)!==null&&l!==void 0?l:ve),this._markerData,this._markAttributeContext))):K==="image"?(Ee=(u=Z==null?void 0:Z.state)!==null&&u!==void 0?u:xe,Fe={width:80,height:80},Se=Zd(We(Fe,(d=(c=Z==null?void 0:Z.style)!==null&&c!==void 0?c:oe)!==null&&d!==void 0?d:ve),this._markerData,this._markAttributeContext)):K==="custom"&&(Ee=(h=se==null?void 0:se.state)!==null&&h!==void 0?h:xe,Se=Zd((p=(f=se==null?void 0:se.style)!==null&&f!==void 0?f:fe)!==null&&p!==void 0?p:ve,this._markerData,this._markAttributeContext));const Ge={zIndex:this.layoutZIndex,interactive:(g=this._spec.interactive)===null||g===void 0||g,hover:(m=this._spec.interactive)===null||m===void 0||m,select:(v=this._spec.interactive)===null||v===void 0||v,position:{x:0,y:0},clipInRange:(_=this._spec.clip)!==null&&_!==void 0&&_,itemContent:Object.assign(Object.assign({type:K,offsetX:nve(z.offsetX,this._relativeSeries.getRegion()),offsetY:nve(z.offsetX,this._relativeSeries.getRegion())},ye),{style:Zd(Se,this._markerData,this._markAttributeContext)}),targetSymbol:{offset:(y=V.offset)!==null&&y!==void 0?y:0,visible:(x=V.visible)!==null&&x!==void 0&&x,size:(w=V.size)!==null&&w!==void 0?w:20,style:Zd(V.style,this._markerData,this._markAttributeContext)},state:{line:ac((E=(T=this._spec.itemLine.line)===null||T===void 0?void 0:T.state)!==null&&E!==void 0?E:{},this._markerData,this._markAttributeContext),lineStartSymbol:ac((k=(A=this._spec.itemLine.startSymbol)===null||A===void 0?void 0:A.state)!==null&&k!==void 0?k:{},this._markerData,this._markAttributeContext),lineEndSymbol:ac((I=(P=this._spec.itemLine.endSymbol)===null||P===void 0?void 0:P.state)!==null&&I!==void 0?I:{},this._markerData,this._markAttributeContext),itemContent:ac(Ee,this._markerData,this._markAttributeContext),textBackground:ac((L=(D=this._spec.itemContent.text)===null||D===void 0?void 0:D.labelBackground)===null||L===void 0?void 0:L.state,this._markerData,this._markAttributeContext),targetItem:ac((F=(B=this._spec.targetSymbol)===null||B===void 0?void 0:B.state)!==null&&F!==void 0?F:{},this._markerData,this._markAttributeContext)},animation:($=this._spec.animation)!==null&&$!==void 0&&$,animationEnter:this._spec.animationEnter,animationExit:this._spec.animationExit,animationUpdate:this._spec.animationUpdate},{visible:Pe,line:je={}}=N,qe=ave(N,["visible","line"]);return Ge.itemLine=Pe!==!1?Object.assign(Object.assign({},qe),{visible:!0,lineStyle:ln(je.style)}):{visible:!1},new qb(Ge)}_markerLayout(){var e,t,i,r,s;const a=this._spec,o=this._markerData,l=this._relativeSeries,{point:u}=this._computePointsAttr(),c=this._getRelativeDataView().latestData,d=o?o.latestData[0]&&o.latestData[0].latestData?o.latestData[0].latestData:o.latestData:c;let h;if(a.clip||!((e=a.itemContent)===null||e===void 0)&&e.confine){const{minX:f,maxX:p,minY:g,maxY:m}=UQ([l.getRegion()]);h={x:f,y:g,width:p-f,height:m-g}}if(this._markerComponent){const f=(t=this._markerComponent.attribute)!==null&&t!==void 0?t:{},p=(r=(i=f.itemContent)===null||i===void 0?void 0:i.textStyle)!==null&&r!==void 0?r:{};this._markerComponent.setAttributes({position:u===void 0?{x:null,y:null}:u,itemContent:Object.assign(Object.assign({},f.itemContent),{textStyle:Object.assign(Object.assign({},p),{text:!((s=this._spec.itemContent.text)===null||s===void 0)&&s.formatMethod?this._spec.itemContent.text.formatMethod(d,c):p.text}),offsetX:ive(u,f.itemContent.offsetX,this._relativeSeries.getRegion()),offsetY:ive(u,f.itemContent.offsetY,this._relativeSeries.getRegion())}),limitRect:h,dx:this._layoutOffsetX,dy:this._layoutOffsetY})}}_initDataView(){const e=this._spec,{doXYProcess:t,doPolarProcess:i,doGeoProcess:r}=X7(e);(Y(e.coordinate)||t||i||r)&&this._initCommonDataView()}}pH.specKey="markPoint";const ZQ={itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}};class lk extends pH{constructor(){super(...arguments),this.type=He.markPoint,this.name=He.markPoint,this.coordinateType="cartesian"}_computePointsAttr(){var e,t,i;const r=this._spec,s=this._markerData,a=this._relativeSeries,o=Y(r.x)&&Y(r.y),l=Y(r.coordinate),u=Y(r.position),c=(e=r==null?void 0:r.autoRange)!==null&&e!==void 0&&e;let d;return o?d=(i=(t=k$(s,a,a,a,c))===null||t===void 0?void 0:t[0])===null||i===void 0?void 0:i[0]:l?d=VQ(s,a,c,r.coordinatesOffset)[0]:u&&(d=WQ(r.position,a,r.regionRelative)[0]),{point:d}}_computeOptions(){const e=this._spec,{doXYProcess:t}=X7(e),i=Y(e.coordinate);let r;return t?r=[this._processSpecByDims([{dim:"x",specValue:e.x},{dim:"y",specValue:e.y}])]:i&&(r=this._processSpecCoo(e)),{options:r}}}lk.type=He.markPoint,lk.coordinateType="cartesian",lk.builtInTheme={markPoint:ZQ};const fan=()=>{ne.registerComponent(lk.type,lk),KZ()};class uk extends pH{constructor(){super(...arguments),this.type=He.polarMarkPoint,this.name=He.polarMarkPoint,this.coordinateType="polar"}_computePointsAttr(){var e,t;const i=this._markerData,r=this._relativeSeries,s=(t=(e=this._spec)===null||e===void 0?void 0:e.autoRange)!==null&&t!==void 0&&t,a=HQ(i,r,r,r,s)[0][0],o={x:this._relativeSeries.getRegion().getLayoutStartPoint().x+this._relativeSeries.angleAxisHelper.center().x,y:this._relativeSeries.getRegion().getLayoutStartPoint().y+this._relativeSeries.angleAxisHelper.center().y};return{point:Sr(o,a.radius,a.angle)}}_computeOptions(){const e=this._spec;return{options:[this._processSpecByDims([{dim:"radius",specValue:e.radius},{dim:"angle",specValue:e.angle}])]}}}uk.type=He.polarMarkPoint,uk.coordinateType="polar",uk.builtInTheme={polarMarkPoint:ZQ};const pan=()=>{ne.registerComponent(uk.type,uk),KZ()};class ck extends pH{constructor(){super(...arguments),this.type=He.geoMarkPoint,this.name=He.geoMarkPoint,this.coordinateType="geo"}_computePointsAttr(){const e=this._markerData,t=this._relativeSeries;return{point:Nsn(e,t)[0][0]}}_computeOptions(){const e=this._spec;return{options:[this._processSpecByDims([{dim:"areaName",specValue:e.areaName}])]}}}ck.type=He.geoMarkPoint,ck.coordinateType="geo",ck.builtInTheme={geoMarkPoint:ZQ};const gan=()=>{ne.registerComponent(ck.type,ck),KZ()},man={style:{fill:"#B0C8F9",fillOpacity:.2,stroke:"#B0C8F9",lineWidth:2},brushMode:"single",brushType:"rect",brushMoved:!0,removeOnClick:!0,delayType:"throttle",delayTime:0};class dk extends Sc{constructor(){super(...arguments),this.layoutType="none",this.type=He.brush,this.name=He.brush,this.specKey="brush",this.layoutZIndex=ji.Brush,this._linkedSeries=[],this._itemMap={},this._linkedItemMap={},this._inBrushElementsMap={},this._outOfBrushElementsMap={},this._linkedInBrushElementsMap={},this._linkedOutOfBrushElementsMap={},this._cacheInteractiveRangeAttrs=[],this._releatedAxes=[],this._regionAxisMap={},this._axisDataZoomMap={},this._zoomRecord=[]}static getSpecInfo(e){return lg(e,this.specKey,this.type,t=>t.visible!==!1)}init(){const e=this._transformBrushedMarkAttr(this._spec.inBrush),t=this._transformBrushedMarkAttr(this._spec.outOfBrush);this._option.getAllSeries().forEach(i=>{i.getActiveMarks().forEach(r=>{r&&(i.setMarkStyle(r,Object.assign({},e),"inBrush",Qe.Series),i.setMarkStyle(r,Object.assign({},t),"outOfBrush",Qe.Series))})})}_initNeedOperatedItem(){const e=this._spec.seriesId,t=this._spec.seriesIndex;this._relativeRegions.forEach(i=>{const r=[];i.getSeries().forEach(s=>{(e&&Ae(e).includes(s.userId.toString())||t&&Ae(t).includes(s.getSpecIndex())||!t&&!e)&&r.push(...s.getMarksWithoutRoot()),this._itemMap[i.id]=r})}),this._linkedSeries.forEach(i=>{this._linkedItemMap[i.id]=i.getMarksWithoutRoot()})}created(){super.created(),this.initEvent(),this._bindRegions(),this._bindLinkedSeries(),this._initRegionAxisMap(),this._initAxisDataZoomMap(),this._initNeedOperatedItem()}_bindRegions(){Y(this._spec.regionId)||Y(this._spec.regionIndex)?this._relativeRegions=this._option.getRegionsInUserIdOrIndex(Ae(this._spec.regionId),Ae(this._spec.regionIndex)):this._relativeRegions=this._option.getAllRegions()}_bindLinkedSeries(){(Y(this._spec.brushLinkSeriesId)||Y(this._spec.brushLinkSeriesIndex))&&(this._linkedSeries=this._option.getSeriesInUserIdOrIndex(Ae(this._spec.brushLinkSeriesId),Ae(this._spec.brushLinkSeriesIndex)))}_initRegionAxisMap(){Y(this._spec.axisId)?Ae(this._spec.axisId).forEach(e=>{this._releatedAxes.push(this._option.getComponentByUserId(e))}):Y(this._spec.axisIndex)?Ae(this._spec.axisIndex).forEach(e=>{this._releatedAxes.push(this._option.getComponentByIndex("axes",e))}):this._releatedAxes=this._option.getComponentsByKey("axes"),this._releatedAxes.forEach(e=>{e==null||e.getRegions().forEach(t=>{this._regionAxisMap["region_"+t.id]?this._regionAxisMap["region_"+t.id].push(e):this._regionAxisMap["region_"+t.id]=[e]})})}_initAxisDataZoomMap(){this._option.getComponentsByKey("dataZoom").forEach(e=>{e.relatedAxisComponent&&(this._axisDataZoomMap[e.relatedAxisComponent.id]=e)})}initEvent(){}_compareSpec(e,t){this._brushComponents&&this._relativeRegions.forEach((r,s)=>{this._updateBrushComponent(r,s)});const i=super._compareSpec(e,t);return Oi(t,e)||(i.reRender=!0,i.reMake=!0),i}onLayoutEnd(){var e;super.onLayoutEnd(),!this._option.disableTriggerEvent&&((e=this._spec.visible)===null||e===void 0||e)&&(this._brushComponents?this._relativeRegions.forEach((t,i)=>{this._updateBrushComponent(t,i)}):(this._brushComponents=[],this._relativeRegions.forEach((t,i)=>{this._createBrushComponent(t,i)})))}_updateBrushComponent(e,t){const i=this._getBrushInteractiveAttr(e),r=this._brushComponents[t];r.setAttributes(i),this._initMarkBrushState(t,""),r.children[0].removeAllChild()}_createBrushComponent(e,t){var i,r;const s=this._getBrushInteractiveAttr(e),a=new GMe(Object.assign(Object.assign(Object.assign({zIndex:this.layoutZIndex,brushStyle:ln((i=this._spec)===null||i===void 0?void 0:i.style)},s),this._spec),{disableTriggerEvent:this._option.disableTriggerEvent}));a.id=(r=this._spec.id)!==null&&r!==void 0?r:`brush-${this.id}`,this.getContainer().add(a),this._brushComponents.push(a),this._cacheInteractiveRangeAttrs.push(s),a.addEventListener(Oa.brushActive,o=>{this._initMarkBrushState(t,"outOfBrush"),this._emitEvent(Et.brushActive,e)}),a.addEventListener(Oa.drawStart,o=>{this._setRegionMarkPickable(e,!0),this._emitEvent(Et.brushStart,e)}),a.addEventListener(Oa.moveStart,o=>{this._setRegionMarkPickable(e,!0),this._emitEvent(Et.brushStart,e)}),a.addEventListener(Oa.drawing,o=>{this._setRegionMarkPickable(e,!1),this._handleBrushChange(e,o),this._emitEvent(Et.brushChange,e)}),a.addEventListener(Oa.moving,o=>{this._setRegionMarkPickable(e,!1),this._handleBrushChange(e,o),this._emitEvent(Et.brushChange,e)}),a.addEventListener(Oa.brushClear,o=>{this._setRegionMarkPickable(e,!0),this._initMarkBrushState(t,""),this._emitEvent(Et.brushClear,e)}),a.addEventListener(Oa.drawEnd,o=>{var l;this._setRegionMarkPickable(e,!0);const{operateMask:u}=o.detail,{updateElementsState:c=!0}=this._spec;if(!((l=this._spec)===null||l===void 0)&&l.onBrushEnd)this._spec.onBrushEnd(o)===!0?(this.clearGraphic(),this._initMarkBrushState(t,""),this._emitEvent(Et.brushClear,e)):(this._spec.onBrushEnd(o),this._emitEvent(Et.brushEnd,e));else{const d=this._extendDataInBrush(this._inBrushElementsMap);(!this._spec.zoomWhenEmpty&&d.length>0||!c)&&this._setAxisAndDataZoom(u,e),this._emitEvent(Et.brushEnd,e)}}),a.addEventListener(Oa.moveEnd,o=>{this._setRegionMarkPickable(e,!0);const{operateMask:l}=o.detail,{updateElementsState:u=!0}=this._spec,c=this._extendDataInBrush(this._inBrushElementsMap);(!this._spec.zoomWhenEmpty&&c.length>0||u)&&this._setAxisAndDataZoom(l,e),this._emitEvent(Et.brushEnd,e)})}_getBrushInteractiveAttr(e){const t=e.getLayoutStartPoint(),i=e.getLayoutRect(),r=t.x,s=r+i.width,a=t.y,o=a+i.height;return{interactiveRange:{minY:a,maxY:o,minX:r,maxX:s},xRange:[r,s],yRange:[a,o]}}_transformBrushedMarkAttr(e){const t={};return e!=null&&e.symbol&&(t.symbolType=e.symbol),e!=null&&e.symbolSize&&(t.size=e.symbolSize),e!=null&&e.color&&(t.fill=e.color),e!=null&&e.colorAlpha&&(t.fillOpacity=e.colorAlpha),Object.assign(Object.assign({},ln(e)),t)}_handleBrushChange(e,t){const{operateMask:i}=t.detail,{updateElementsState:r=!0}=this._spec;r&&(this._reconfigItem(i,e),this._reconfigLinkedItem(i,e))}_extendDataInBrush(e){var t,i;const r=[];for(const s in e)for(const a in e[s])r.push(Object.assign({},(i=(t=e[s][a].context)===null||t===void 0?void 0:t.data)===null||i===void 0?void 0:i[0]));return r}_extendDatumOutOfBrush(e){var t,i;const r=[];for(const s in e)r.push((i=(t=e[s].context)===null||t===void 0?void 0:t.data)===null||i===void 0?void 0:i[0]);return r}_emitEvent(e,t){var i;this.event.emit(e,{model:this,value:{operateType:e,operateRegion:t,inBrushData:this._extendDataInBrush(this._inBrushElementsMap),outOfBrushData:this._extendDatumOutOfBrush(this._outOfBrushElementsMap),linkInBrushData:this._extendDataInBrush(this._linkedInBrushElementsMap),linkOutOfBrushData:this._extendDatumOutOfBrush(this._linkedOutOfBrushElementsMap),inBrushElementsMap:this._inBrushElementsMap,outOfBrushElementsMap:this._outOfBrushElementsMap,linkedInBrushElementsMap:this._linkedInBrushElementsMap,linkedOutOfBrushElementsMap:this._linkedOutOfBrushElementsMap,zoomRecord:this._zoomRecord},vchart:(i=this._option)===null||i===void 0?void 0:i.globalInstance})}_reconfigItem(e,t){var i,r,s;if(!(e!=null&&e.globalTransMatrix)||!(!((i=e==null?void 0:e.attribute)===null||i===void 0)&&i.points))return;const a=(s=(r=e==null?void 0:e.attribute)===null||r===void 0?void 0:r.points)!==null&&s!==void 0?s:[],{a:o,b:l,c:u,d:c,e:d,f:h}=e.globalTransMatrix,f=a.map(g=>({x:o*g.x+u*g.y+d,y:l*g.x+c*g.y+h})),{markTypeFilter:p=[]}=this._spec;this._itemMap[t.id].forEach(g=>{if(p.includes(g.type))return;const m=g.getGraphics();m&&m.length&&m.forEach(v=>{var _,y,x;const w=g.id+"_"+v.context.key,T=this._isBrushContainItem(e.globalAABBBounds,f,v);!((_=this._outOfBrushElementsMap)===null||_===void 0)&&_[w]&&T?(v.addState("inBrush",!0),this._inBrushElementsMap[e==null?void 0:e.name]||(this._inBrushElementsMap[e==null?void 0:e.name]={}),this._inBrushElementsMap[e==null?void 0:e.name][w]=v,delete this._outOfBrushElementsMap[w]):!((x=(y=this._inBrushElementsMap)===null||y===void 0?void 0:y[e==null?void 0:e.name])===null||x===void 0)&&x[w]&&!T&&(v.removeState("inBrush"),v.addState("outOfBrush",!0),this._outOfBrushElementsMap[w]=v,delete this._inBrushElementsMap[e.name][w])})})}_reconfigLinkedItem(e,t){var i;if(!(e!=null&&e.globalTransMatrix)||!(!((i=e==null?void 0:e.attribute)===null||i===void 0)&&i.points))return;const r=t.getLayoutStartPoint(),s=t.getSeries().map(a=>a.id);this._linkedSeries.forEach(a=>{var o,l;if(!s.includes(a.id)){const u=a.getRegion().getLayoutStartPoint(),c=u.x-r.x,d=u.y-r.y,h=(l=(o=e==null?void 0:e.attribute)===null||o===void 0?void 0:o.points)!==null&&l!==void 0?l:[],{a:f,b:p,c:g,d:m,e:v,f:_}=e.globalTransMatrix,y=c||0,x=d||0,w=h.map(E=>({x:f*E.x+g*E.y+v+y,y:p*E.x+m*E.y+_+x}));e.globalAABBBounds.clone().set(e.globalAABBBounds.x1+y,e.globalAABBBounds.y1+x,e.globalAABBBounds.x2+y,e.globalAABBBounds.y2+x);const{markTypeFilter:T=[]}=this._spec;this._linkedItemMap[a.id].forEach(E=>{if(T.includes(E.type))return;const A=E.getGraphics();A&&A.length&&A.forEach(k=>{var P,I,D;const{key:L}=k.context,B=E.id+"_"+k.context.key;!((P=this._linkedOutOfBrushElementsMap)===null||P===void 0)&&P[B]&&this._isBrushContainItem(e.globalAABBBounds,w,k)?(k.addState("inBrush",!0),this._linkedInBrushElementsMap[e==null?void 0:e.name]||(this._linkedInBrushElementsMap[e==null?void 0:e.name]={}),this._linkedInBrushElementsMap[e==null?void 0:e.name][B]=k,delete this._linkedOutOfBrushElementsMap[B]):!((D=(I=this._linkedInBrushElementsMap)===null||I===void 0?void 0:I[e==null?void 0:e.name])===null||D===void 0)&&D[B]&&!this._isBrushContainItem(e.globalAABBBounds,w,k)&&(k.removeState("inBrush"),k.addState("outOfBrush",!0),this._linkedOutOfBrushElementsMap[B]=k)})})}})}_isBrushContainItem(e,t,i){let r=[];if(["symbol","rect"].includes(i.type)){const{x1:s,x2:a,y1:o,y2:l}=i==null?void 0:i.globalAABBBounds;return r=[{x:s,y:o},{x:a,y:o},{x:a,y:l},{x:s,y:l}],ojt(t,r)}return e.intersects(i.globalAABBBounds)}_initItemMap(e,t,i){const{markTypeFilter:r=[]}=this._spec;Object.entries(e).forEach(([s,a])=>{a.forEach(o=>{if(r.includes(o.type))return;const l=o.getGraphics();l&&l.length&&l.forEach(u=>{const c=o.id+"_"+u.context.key;u.removeState("inBrush"),u.removeState("outOfBrush"),i&&u.addState(i,!0),t[c]=u})})})}_initMarkBrushState(e,t){this._brushComponents.forEach((i,r)=>{r!==e&&i.children[0].removeAllChild()}),this._inBrushElementsMap={},this._outOfBrushElementsMap={},this._linkedInBrushElementsMap={},this._linkedOutOfBrushElementsMap={},this._initItemMap(this._itemMap,this._outOfBrushElementsMap,t),this._initItemMap(this._linkedItemMap,this._linkedOutOfBrushElementsMap,t)}_setRegionMarkPickable(e,t){e.getGroupMark().getGraphics().forEach(i=>i.setAttribute("childrenPickable",t))}_stateClamp(e){return Math.min(Math.max(0,e),1)}_setAxisAndDataZoom(e,t){var i;if(this._zoomRecord=[],this._spec.zoomAfterBrush){const r=e.AABBBounds;(i=this._regionAxisMap["region_"+t.id])===null||i===void 0||i.forEach(s=>{var a,o;const l=s.layoutOrient==="bottom"||s.layoutOrient==="top",u=(a=this._spec.axisRangeExpand)!==null&&a!==void 0?a:0,{x1:c,x2:d,y1:h,y2:f}=r,p=l?"x":"y",g=l?"width":"height",m=l?c:h,v=l?d:f;if(this._axisDataZoomMap[s.id]){const _=this._axisDataZoomMap[s.id],y=(m-t.getLayoutStartPoint()[p])/t.getLayoutRect()[g],x=(v-t.getLayoutStartPoint()[p])/t.getLayoutRect()[g],w=this._stateClamp(y-u),T=this._stateClamp(x+u);_.setStartAndEnd(Math.min(w,T),Math.max(w,T),["percent","percent"]),this._zoomRecord.push({operateComponent:_,start:w,end:T,startValue:qp(w,_.stateScale,ec(_.relatedAxisComponent,_.isHorizontal)),endValue:qp(T,_.stateScale,ec(_.relatedAxisComponent,_.isHorizontal))})}else{const _=s.getScale().range(),y=(o=s.scaleRangeFactor())!==null&&o!==void 0?o:[0,1],x=Xn(_)<_[0],w=m-t.getLayoutStartPoint()[p],T=v-t.getLayoutStartPoint()[p],E=x?Math.min(w,T):Math.max(w,T),A=x?Math.max(w,T):Math.min(w,T),k=(A-_[0])/(Xn(_)-_[0])*(y[1]-y[0])+y[0],P=(E-_[0])/(Xn(_)-_[0])*(y[1]-y[0])+y[0],I=this._stateClamp(k-u),D=this._stateClamp(P+u);s.scaleRangeFactor([I,D]),s.effect.scaleUpdate(),this._zoomRecord.push({operateComponent:s,start:I,end:D,startValue:s.getScale().invert(A),endValue:s.getScale().invert(E)})}})}}_getNeedClearVRenderComponents(){return this._brushComponents}clearGraphic(){this._brushComponents&&this._brushComponents.forEach(e=>{e._container.incrementalClearChild()})}clear(){if(this._brushComponents){const e=this.getContainer();this._brushComponents.forEach((t,i)=>{this._initMarkBrushState(i,""),t.removeAllChild(),t.releaseBrushEvents(),e&&e.removeChild(t)}),this._brushComponents=null}}}dk.type=He.brush,dk.builtInTheme={brush:man},dk.specKey="brush";const van=()=>{ne.registerComponent(dk.type,dk)};class P$ extends Sc{constructor(){super(...arguments),this.type=He.customMark,this.specKey="customMark",this.layoutType="none",this.layoutZIndex=ji.CustomMark,this.layoutLevel=Df.CustomMark}created(){super.created(),this.initMarks(),this.initEvent()}getMarkAttributeContext(){return this._markAttributeContext}_buildMarkAttributeContext(){this._markAttributeContext={vchart:this._option.globalInstance,globalScale:(e,t)=>{var i;return(i=this._option.globalScale.getScale(e))===null||i===void 0?void 0:i.scale(t)}}}initMarks(){if(!this._spec)return;let e=null;if(this._spec.parent){const t=this.getChart().getAllMarks().find(i=>i.getUserId()===this._spec.parent);t.type==="group"&&(e=t)}this._createExtensionMark(this._spec,e,`${Xt}_series_${this.id}_extensionMark`,0)}_createExtensionMark(e,t,i,r=0){var s,a;const o=this._createMark({type:e.type,name:Y(e.name)?`${e.name}`:`${i}_${r}`},{skipBeforeLayouted:!0,attributeContext:this._getMarkAttributeContext(),componentType:e.componentType,key:e.dataKey});if(o){if(Y(e.id)&&o.setUserId(e.id),((s=this._option.globalInstance)===null||s===void 0?void 0:s.isAnimationEnable())&&e.animation){const l=ei({},_i(e.type,e,this._markAttributeContext));o.setAnimationConfig(l)}if(J(t)?this._marks.addMark(o):t&&t.addMark(o),this.initMarkStyleWithSpec(o,e),e.type==="group"&&(i=`${i}_${r}`,(a=e.children)===null||a===void 0||a.forEach((l,u)=>{this._createExtensionMark(l,o,i,u)})),Y(e.dataId)||Me(e.dataIndex)){const l=this.getChart().getSeriesData(e.dataId,e.dataIndex);l&&(o.setDataView(l),l.target.addListener("change",()=>{o.getData().updateData()}))}}}initEvent(){}_compareSpec(e,t){const i=super._compareSpec(e,t);return Oi(t,e)||(i.reMake=!0),i.change=!0,i.reRender=!0,i}_getMarkAttributeContext(){return{vchart:this._option.globalInstance,chart:this.getChart(),globalScale:(e,t)=>{var i;return(i=this._option.globalScale.getScale(e))===null||i===void 0?void 0:i.scale(t)},getLayoutBounds:()=>{const{x:e,y:t}=this.getLayoutStartPoint(),{width:i,height:r}=this.getLayoutRect();return new Xo().set(e,t,e+i,t+r)}}}_getLayoutRect(){const e=new Xo;return this.getMarks().forEach(t=>{const i=t.getProduct();i&&e.union(i.AABBBounds)}),e.empty()?{width:0,height:0}:{width:e.width(),height:e.height()}}getBoundsInRect(e){this.setLayoutRect(e);const t=this._getLayoutRect(),{x:i,y:r}=this.getLayoutStartPoint();return{x1:i,y1:r,x2:i+t.width,y2:r+t.height}}getVRenderComponents(){const e=[],t=i=>{if(i&&i.type==="group")i.getMarks().forEach(r=>{t(r)});else if(i.type==="component"){const r=i==null?void 0:i.getComponent();r&&e.push(r)}};return this.getMarks().forEach(i=>{t(i)}),e}}P$.type=He.customMark,P$.specKey="customMark";const yan=()=>{ne.registerComponent(P$.type,P$)};class q7{constructor(e,t){this._chartLayoutRect={x:0,y:0,width:1,height:1},this._col=1,this._row=1,this._elementMap=new Map,this.standardizationSpec(e),this._gridInfo=e,this._col=e.col,this._row=e.row,this._colSize=new Array(this._col).fill(null),this._rowSize=new Array(this._row).fill(null),this._colElements=new Array(this._col).fill([]),this._rowElements=new Array(this._row).fill([]),this._onError=t==null?void 0:t.onError,this.initUserSetting()}standardizationSpec(e){var t,i,r;e.col=(t=e.col)!==null&&t!==void 0?t:1,e.row=(i=e.row)!==null&&i!==void 0?i:1,e.elements=(r=e.elements)!==null&&r!==void 0?r:[]}initUserSetting(){this._gridInfo.colWidth&&this.setSizeFromUserSetting(this._gridInfo.colWidth,this._colSize,this._col,this._chartLayoutRect.width),this._gridInfo.rowHeight&&this.setSizeFromUserSetting(this._gridInfo.rowHeight,this._rowSize,this._row,this._chartLayoutRect.height),this._colSize.forEach((e,t)=>{e||(this._colSize[t]={value:0,isUserSetting:!1,isLayoutSetting:!1})}),this._rowSize.forEach((e,t)=>{e||(this._rowSize[t]={value:0,isUserSetting:!1,isLayoutSetting:!1})})}setSizeFromUserSetting(e,t,i,r){e.forEach(s=>{s.index<0&&s.index>=i||(Me(s.size)?t[s.index]={value:+s.size,isUserSetting:!0,isLayoutSetting:!1}:Re(s.size)&&(t[s.index]={value:s.size(r),isUserSetting:!0,isLayoutSetting:!1}))})}clearLayoutSize(){this._gridInfo.colWidth&&this.setSizeFromUserSetting(this._gridInfo.colWidth,this._colSize,this._col,this._chartLayoutRect.width),this._gridInfo.rowHeight&&this.setSizeFromUserSetting(this._gridInfo.rowHeight,this._rowSize,this._row,this._chartLayoutRect.height),this._colSize.forEach(e=>{e.isLayoutSetting=!1,e.isUserSetting||(e.value=0)}),this._rowSize.forEach(e=>{e.isLayoutSetting=!1,e.isUserSetting||(e.value=0)})}getItemGridInfo(e){var t;const i=this._elementMap.get(e);if(i)return i;let r;return r=(t=this._gridInfo.elements)===null||t===void 0?void 0:t.find(s=>{var a;if("modelId"in s&&Y(s.modelId)){if(Y(e.model.userId)&&e.model.userId===s.modelId)return!0}else if("modelKey"in s&&Y(s.modelKey)&&"modelIndex"in s&&Y(s.modelIndex)&&((a=e.model.specKey)!==null&&a!==void 0?a:e.model.type)===s.modelKey&&e.model.getSpecIndex()===s.modelIndex)return!0;return!1}),r||(r={col:0,colSpan:1,row:0,rowSpan:1}),this._elementMap.set(e,r),r}getSizeFromGrid(e,t){var i;const r=t==="col"?this._colSize:this._rowSize;let s=0;for(let a=e[t];a<e[t]+((i=e[`${t}Span`])!==null&&i!==void 0?i:1);a++)s+=r[a].value;return s}getSizeFromUser(e,t){var i,r;const s=t==="col"?this._colSize:this._rowSize;if(!(!((i=s[e[t]])===null||i===void 0)&&i.isUserSetting))return;let a=0;for(let o=e[t];o<e[t]+((r=e[`${t}Span`])!==null&&r!==void 0?r:1);o++){if(!s[o].isUserSetting)return;a+=s[o].value}return a}setItemLayoutSizeToGrid(e,t){if(yE(e)){if(t.colSpan&&t.colSpan>1||this._colSize[t.col].isUserSetting)return;this._colSize[t.col].value=Math.max(this._colSize[t.col].value,e.getLayoutRect().width+e.layoutPaddingLeft+e.layoutPaddingRight),this._colSize[t.col].isLayoutSetting=!0}else{if(t.rowSpan&&t.rowSpan>1||this._rowSize[t.row].isUserSetting)return;this._rowSize[t.row].value=Math.max(this._rowSize[t.row].value,e.getLayoutRect().height+e.layoutPaddingTop+e.layoutPaddingBottom),this._rowSize[t.row].isLayoutSetting=!0}}layoutGrid(e){const t=e==="col"?this._colSize:this._rowSize;let i=e==="col"?this._chartLayoutRect.width:this._chartLayoutRect.height;const r=[];t.forEach(s=>{s.isUserSetting||s.isLayoutSetting?i-=s.value:r.push(s)}),i<0&&console.warn(`layout content ${e} size bigger than chart`),r.forEach(s=>s.value=i/r.length)}getItemPosition(e){const t=this.getItemGridInfo(e),i={x:this._chartLayoutRect.x,y:this._chartLayoutRect.y};for(let r=0;r<t.col;r++)i.x+=this._colSize[r].value;for(let r=0;r<t.row;r++)i.y+=this._rowSize[r].value;return i.x+=e.layoutPaddingLeft+e.layoutOffsetX,i.y+=e.layoutPaddingTop+e.layoutOffsetY,i}getItemLayoutRect(e){var t,i;const r=this.getItemGridInfo(e);return{width:((t=this.getSizeFromGrid(r,"col"))!==null&&t!==void 0?t:this._chartLayoutRect.width)-e.layoutPaddingLeft-e.layoutPaddingRight,height:((i=this.getSizeFromGrid(r,"row"))!==null&&i!==void 0?i:this._chartLayoutRect.height)-e.layoutPaddingTop-e.layoutPaddingBottom}}layoutItems(e,t,i,r){this._chartLayoutRect=i,this._chartViewBox=r,this.clearLayoutSize(),t.sort((d,h)=>h.layoutLevel-d.layoutLevel);const s=t.filter(d=>d.layoutType==="normal"&&d.getModelVisible()!==!1),a=s.filter(d=>yE(d)),o=s.filter(d=>!yE(d));s.forEach(d=>{this.layoutOneItem(d,"user",!1)});const l=t.filter(d=>d.layoutType==="region-relative"),u=l.filter(d=>yE(d)),c=l.filter(d=>!yE(d));u.forEach(d=>this.layoutOneItem(d,"user",!1)),this.layoutGrid("col"),o.forEach(d=>this.layoutOneItem(d,"colGrid",!1)),c.forEach(d=>{this.layoutOneItem(d,"colGrid",!1)}),this.layoutGrid("row"),c.forEach(d=>{this.layoutOneItem(d,"grid",!1)}),a.forEach(d=>this.layoutOneItem(d,"grid",!1)),u.forEach(d=>{this.layoutOneItem(d,"grid",!0)}),this.layoutGrid("col"),t.filter(d=>d.layoutType==="region").forEach(d=>this.layoutOneItem(d,"grid",!1)),this.layoutAbsoluteItems(t.filter(d=>d.layoutType==="absolute")),t.filter(d=>d.layoutType!=="absolute").forEach(d=>{d.setLayoutStartPosition(this.getItemPosition(d))})}layoutAbsoluteItems(e){e.forEach(t=>{t.absoluteLayoutInRect(this._chartLayoutRect)})}layoutOneItem(e,t,i){var r,s;const a=t==="rowGrid"||t==="grid"?this.getSizeFromGrid.bind(this):this.getSizeFromUser.bind(this),o=t==="colGrid"||t==="grid"?this.getSizeFromGrid.bind(this):this.getSizeFromUser.bind(this),l=this.getItemGridInfo(e),u={width:((r=o(l,"col"))!==null&&r!==void 0?r:this._chartLayoutRect.width)-e.layoutPaddingLeft-e.layoutPaddingRight,height:((s=a(l,"row"))!==null&&s!==void 0?s:this._chartLayoutRect.height)-e.layoutPaddingTop-e.layoutPaddingBottom},c=e.computeBoundsInRect(u);Me(c.width)||(c.width=u.width),Me(c.height)||(c.height=u.height),e.setLayoutRect(t!=="grid"?c:u),this.setItemLayoutSizeToGrid(e,l)}}function yE(n){return n.layoutOrient==="left"||n.layoutOrient==="right"}q7.type="grid";const _an=()=>{ne.registerLayout(q7.type,q7)},ban=()=>{H8t()},Zw="vchart-tooltip",ove=`${Zw}-container`,KD=`${Zw}-title`,wW=`${Zw}-content-box`,San="",CW={offsetX:10,offsetY:10},lve="99999999999999";function Ex(n){return String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\(/g,"&#40;").replace(/  /g," &nbsp;")}const uve=(n,e)=>n?(e||(e=n.getBoundingClientRect()),n.offsetWidth>0?e.width/n.offsetWidth:n.offsetHeight>0?e.height/n.offsetHeight:1):1,cve=n=>Jt(n)&&(n==null?void 0:n.trim())!==""||st(n)?Ex(n):San,_E=(n,e)=>{let t;if(Y(n)){if(st(n))t=n;else if(Re(n)){const i=n(e);st(i)&&(t=i)}}return t},xan={left:[-2,0],right:[2,0],top:[0,-2],bottom:[0,2],insideTop:[0,-1.5],insideBottom:[0,1.5],insideLeft:[-1.5,0],insideRight:[1.5,0],insideTopLeft:[-1.5,-1.5],insideTopRight:[1.5,-1.5],insideBottomLeft:[-1.5,1.5],insideBottomRight:[1.5,1.5],lt:[-2,-2],tl:[-2,-2],rt:[2,-2],tr:[2,-2],bl:[-2,2],lb:[-2,2],br:[2,2],rb:[2,2],inside:[0,0],center:[0,0],centerBottom:[0,1],centerTop:[0,-1],centerLeft:[-1,0],centerRight:[1,0]},dve=(n,e,t=2)=>{var i,r;return(r=(i=xan[n])===null||i===void 0?void 0:i[e==="x"?0:1])!==null&&r!==void 0?r:t},wan=n=>pn(n)&&(Y(n.left)||Y(n.right)||Y(n.top)||Y(n.bottom)),Can=n=>pn(n)&&(Y(n.x)||Y(n.y));class QQ extends vQ{constructor(){super(...arguments),this._visible=!0,this._isReleased=!1,this.showTooltip=(e,t,i)=>{const{changePositionOnly:r}=i;return r?this.changeTooltipPosition(i,t):this.changeTooltip(!0,i,t)},this.changeTooltip=(e,t,i)=>this._isReleased?1:e?this.changeTooltipPosition(t,i):(this._updateTooltip(!1,t),0),this.changeTooltipPosition=(e,t)=>{var i,r,s,a,o;if(this._isReleased)return 1;const l=e.event,{tooltipSpec:u,activeTooltipSpec:c,changePositionOnly:d}=e;if(!c)return 1;const h=c.activeType;if(c.handler)return(s=(r=(i=c.handler).showTooltip)===null||r===void 0?void 0:r.call(i,h,t,e))!==null&&s!==void 0?s:0;const f=c,p=this._getActualTooltipPosition(c,e,this._getTooltipBoxSize(c,d));c.position=p;const g=(a=c.updatePosition)!==null&&a!==void 0?a:(o=u[h])===null||o===void 0?void 0:o.updatePosition;g&&(c.position=g(c.position,t,e));let m=(f==null?void 0:f.visible)!==!1;return t&&l.type!=="pointerout"&&c.visible&&(c.title||c.content)||(m=!1),this._updateTooltip(m,Object.assign(Object.assign({},e),{changePositionOnly:d})),0},this._getActualTooltipPosition=(e,t,i)=>{var r,s,a,o,l,u,c,d,h;const f=this._chartOption.getRectByDimensionData,{tooltipSpec:p}=t,g={x:1/0,y:1/0};if(!p)return g;const m=t.event,{activeType:v,data:_}=e,y=v==="dimension"?(s=(r=_[0])===null||r===void 0?void 0:r.data)===null||s===void 0?void 0:s[0]:_==null?void 0:_[0],{offsetX:x,offsetY:w}=this._option,T=p[v],E=xge(T==null?void 0:T.position,_,t),A=(a=xge(T==null?void 0:T.positionMode,_,t))!==null&&a!==void 0?a:v==="mark"?"mark":"pointer",{width:k=0,height:P=0}=i??{},I=p.renderMode==="canvas",D=(o=t==null?void 0:t.chart)===null||o===void 0?void 0:o.getCanvasRect(),L=(l=D==null?void 0:D.width)!==null&&l!==void 0?l:iw,B=(u=D==null?void 0:D.height)!==null&&u!==void 0?u:rw;let F=!1;const $={width:0,height:0};let z,N={x:0,y:0},V={x:0,y:0},H=1,K=1;const U=ng(this._env);if(U&&!p.confine?($.width=window.innerWidth,$.height=window.innerHeight):($.width=L,$.height=B),U&&!I){const re=this._getParentElement(p);V=(d=(c=re==null?void 0:re.getBoundingClientRect)===null||c===void 0?void 0:c.call(re))!==null&&d!==void 0?d:g;const fe=(h=this._compiler.getCanvas())!==null&&h!==void 0?h:this._chartContainer;z=fe==null?void 0:fe.getBoundingClientRect(),N={x:z.x-V.x,y:z.y-V.y},H=uve(fe,z),K=uve(re,V)}const X=K/H,Z={},Q={x:E,y:E},se={x:["left","right"],y:["top","bottom"]},ae=({orient:re,mode:fe,offset:ve},xe)=>{var ye;let Ee,Se;const Fe=t.model,Ge=Fe==null?void 0:Fe.getLayoutStartPoint(),Pe=ve??(xe==="x"?x:w);if(fe==="mark"){F=!0;const je=t.item,qe=je==null?void 0:je.AABBBounds;qe&&Ge&&(Ee=(xe==="x"?qe.x1:qe.y1)+Ge[xe],Se=(xe==="x"?qe.x2:qe.y2)+Ge[xe])}else if(f&&fe==="crosshair"&&((ye=y==null?void 0:y.series)===null||ye===void 0?void 0:ye.coordinate)==="cartesian"&&y.datum&&y.datum.length){F=!0;const je=f(y,Ge);je&&(Ee=je.start[xe],Se=je.end[xe])}else Q[xe]=re;if(F){const je=se[xe][0],qe=xe==="x"?k:P;switch(dve(re,xe)){case-2:Z[je]=Ee-qe*X-Pe;break;case-1.5:Z[je]=Ee+Pe;break;case 0:Z[je]=(Ee+Se)/2-qe*X/2;break;case-1:Z[je]=(Ee+Se)/2-qe*X-Pe;break;case 1:Z[je]=(Ee+Se)/2+Pe;break;case 1.5:Z[je]=Se-qe*X-Pe;break;case 2:Z[je]=Se+Pe}}},ue=["x","y"];if(pn(E))if(wan(E)){const{left:re,right:fe,top:ve,bottom:xe}=E;Z.left=_E(re,m),Z.top=_E(ve,m),Z.right=_E(fe,m),Z.bottom=_E(xe,m)}else Can(E)&&ue.forEach(re=>{const fe=E[re];st(fe)||Re(fe)?Z[se[re][0]]=_E(fe,m):ae(fe,re)});else Y(E)&&(ae({orient:E,mode:A},"x"),ae({orient:E,mode:A},"y"));const oe={x:null,y:null};return ue.forEach(re=>{var fe;const ve=re==="x"?k:P,xe=re==="x"?L:B,ye=re==="x"?x:w,Ee=dve(Q[re],re);if(Me(Z[se[re][0]]))oe[re]=Z[se[re][0]];else if(Me(Z[se[re][1]]))oe[re]=xe-ve*X-Z[se[re][1]];else{const Pe=re==="x"?m.canvasX:m.canvasY;oe[re]=Ee>0?Pe+ye:Ee===0?Pe-ve*X/2:Pe-ve*X-ye}oe[re]*=H,U&&(oe[re]+=N[re]),oe[re]/=K;const Se=re==="x"?$.width:$.height,Fe=p.confine?-(V[re]-((fe=z==null?void 0:z[re])!==null&&fe!==void 0?fe:0)/H)/K:-V[re]/K,Ge=Se/K+Fe-ve;Ee!==2&&oe[re]<Fe?F?oe[re]=Fe:(oe[re]+=Ee===0?ye+ve/2:2*ye+ve,oe[re]>Ge&&(oe[re]=Ge)):Ee!==-2&&oe[re]>Ge&&(F?oe[re]=Ge:(oe[re]-=Ee===0?ye+ve/2:2*ye+ve,oe[re]<Fe&&(oe[re]=Fe)))}),oe}}get env(){return this._env}onAdd(e){super.onAdd(e);const t=e.component;this._component=t,this._chartOption=t.getOption(),this._env=this._chartOption.mode,this._chartContainer=this._chartOption.globalInstance.getContainer(),this._compiler=t.getCompiler(),this._initFromSpec()}hideTooltip(e){return this.changeTooltip(!1,e)}release(){var e,t,i,r;const s=(t=(e=this._component)===null||e===void 0?void 0:e.getSpec())!==null&&t!==void 0?t:{};s.handler?(r=(i=s.handler).release)===null||r===void 0||r.call(i):(this._removeTooltip(),this._isReleased=!0,this._chartOption=null,this._component=null)}_getDefaultOption(){var e,t;const{offset:i}=this._component.getSpec();return i?{offsetX:(e=i.x)!==null&&e!==void 0?e:CW.offsetX,offsetY:(t=i.y)!==null&&t!==void 0?t:CW.offsetY}:CW}_getParentElement(e){return e.parentElement}getTooltipContainer(){return this._container}_initFromSpec(){this._option=this._getDefaultOption()}reInit(){this._initFromSpec()}}QQ.specKey="tooltip";const Nb=(n,e)=>Y(n)?Oe(n)?n.map(t=>`${t}px`).join(" "):`${n}px`:e??"initial",hk=(n={},e={})=>{var t,i;Y(n.fontFamily)&&(e.fontFamily=n.fontFamily);const r=(t=n.fill)!==null&&t!==void 0?t:n.fontColor;return Y(r)&&(e.color=r),Y(n.fontWeight)&&(e.fontWeight=n.fontWeight),Y(n.textAlign)&&(e.textAlign=n.textAlign),Y(n.fontSize)&&(e.fontSize=Nb(n.fontSize)),Y(n.maxWidth)&&(e.maxWidth=Nb(n.maxWidth)),n.multiLine||Y(n.maxWidth)&&n.multiLine!==!1?(e.whiteSpace="initial",e.wordBreak=(i=n.wordBreak)!==null&&i!==void 0?i:"break-word"):(e.wordBreak="normal",e.whiteSpace="nowrap"),e},hve=(n={})=>{const{lineHeight:e}=n;return n.fontSize?Fs(e,n.fontSize):0},Tan=(n={})=>{var e,t,i,r;const{style:s={},enterable:a,transitionDuration:o}=n,{panel:l={},titleLabel:u,shape:c,keyLabel:d,valueLabel:h,spaceRow:f,align:p}=s,{panelStyle:g,panelPadding:m}=Ean(l),v={marginTop:"0px",marginBottom:"0px"};g.pointerEvents=a?"auto":"none",o&&(g.transitionDuration=o?`${o}ms`:"initial",g.transitionProperty=o?"transform":"initial",g.transitionTimingFunction=o?"ease-out":"initial"),Me(f)&&(v.marginBottom=`${f}px`);const _={width:Nb((e=c==null?void 0:c.size)!==null&&e!==void 0?e:8)},y=hk(u),x=hk(d),w=hk(h),T=p==="right"?"marginLeft":"marginRight";p==="right"&&(g.direction="rtl"),J(y.textAlign)&&(y.textAlign=p==="right"?"right":"left"),J(x.textAlign)&&(x.textAlign=p==="right"?"right":"left"),J(w.textAlign)&&(w.textAlign=p==="right"?"left":"right"),_[T]=Nb((t=c.spacing)!==null&&t!==void 0?t:8),x[T]=Nb((i=d.spacing)!==null&&i!==void 0?i:26),w[T]=Nb((r=h.spacing)!==null&&r!==void 0?r:0);const E=Math.max(hve(h),hve(d));return v.lineHeight=E>0?`${E}px`:"20px",{panelPadding:m,row:v,panel:g,title:y,shape:_,key:x,value:w}},Ean=n=>{var e;const{backgroundColor:t,border:i,shadow:r,padding:s}=n,a={borderWidth:`${(e=i==null?void 0:i.width)!==null&&e!==void 0?e:0}px`};let o=null;i!=null&&i.color&&(a.borderColor=i.color),t&&(a.backgroundColor=t),a.boxShadow=r?`${r.x}px ${r.y}px ${r.blur}px ${r.spread}px ${r.color}`:"initial";const{radius:l}=i??{};return Y(l)&&(a.borderRadius=Me(l)?`${l}px`:`${l}`),s&&(o=gl(s),a.padding=Nb(o)),{panelStyle:a,panelPadding:o}};function q_(n,e){n&&n.style&&e&&Object.keys(e).forEach(t=>{n.style[t]=e[t]})}const qDe=n=>{ne.registerComponentPlugin(n.type,n)};function Aan(n,e){var t,i,r,s,a,o;if(!n||!n.hasShape||!n.shapeType)return"";const l='style="display:inline-block;vertical-align:middle;"',{shapeType:u,shapeStroke:c,shapeHollow:d=!1,shapeFill:h}=n,f=(t=n.shapeSize)!==null&&t!==void 0?t:8,p=n.shapeLineWidth?Ex(n.shapeLineWidth)+"px":"0px";let g="currentColor";const m=()=>c?Ex(c):g,v=f,_=P=>new pz({symbolType:P,size:v,fill:!0});let y=_(u);const x=y.getParsedPath();let w,T;if(!x.path&&x.pathStr&&(y=_(x.pathStr)),y.getParsedPath().path){const P=y.getParsedPath().path;T=P.toString(),w=P.bounds}else x.isSvg&&x.svgCache&&(T=x.svgCache.map(P=>P.path.toString()).join(),w=x.svgCache.reduce((P,I)=>P.union(I.path.bounds),new Xo));let E=`${w.x1} ${w.y1} ${w.width()} ${w.height()}`;if(p!=="0px"){const[P,I,D,L]=E.split(" ").map(F=>Number(F)),B=Number(p.slice(0,-2));E=`${P-B/2} ${I-B/2} ${D+B} ${L+B}`}const A=rf.IsGradientStr(h);if(!h||Jt(h)&&!A||d)return g=d?"none":h?Ex(h):"currentColor",`
    <svg ${l} width="${f}" height="${f}" viewBox="${E}">
      <path
        d="${T}"
        style="fill: ${g}; stroke: ${m()}; stroke-width: ${p}"
      >
      </path>
    </svg>`;const k=A?rf.Parse(h):pn(h)?h:null;if(k){g="gradientColor"+(e??"");let P="";const I=((i=k.stops)!==null&&i!==void 0?i:[]).map(D=>`<stop offset="${Ex(D.offset.toString())}" stop-color="${Ex(D.color)}"/>`).join("");return k.gradient==="radial"?P=`<radialGradient id="${g}" cx="50%" cy="50%" r="50%" fx="0%" fy="0%">
      ${I}
      </radialGradient>`:k.gradient==="linear"&&(P=`<linearGradient id="${g}" x1="${100*((r=k.x0)!==null&&r!==void 0?r:0)}%" y1="${100*((s=k.y0)!==null&&s!==void 0?s:0)}%" x2="${100*((a=k.x1)!==null&&a!==void 0?a:0)}%" y2="${100*((o=k.y1)!==null&&o!==void 0?o:0)}%">
      ${I}
      </linearGradient>`),`
    <svg ${l} width="${f}" height="${f}" viewBox="-0.5 -0.5 1 1">
      ${P}
      <path
        d="${T}"
        style="fill: url(#${g}); stroke: ${m()}; stroke-width: ${p}"
      >
      </path>
    </svg>`}return""}class gH extends QQ{getVisibility(){return!!this._rootDom&&this._rootDom.style.visibility==="visible"}setVisibility(e){e!==this.getVisibility()&&this._rootDom&&(this._rootDom.style.visibility=e?"visible":"hidden")}getRootDom(){return this._rootDom}constructor(){super(gH.type),this.type=YC.dom,this._tooltipContainer=Zx==null?void 0:Zx.body}onAdd(e){super.onAdd(e),this._initStyle(),this.initEl()}initEl(){const e=this._component.getSpec().parentElement;if(Zx&&e&&e.children&&e.children.length){for(let t=0;t<e.children.length;t++)if(e.children[t].classList.contains(ove)){this._container=e.children[t];break}this._container||(this._container=Zx.createElement("div"),this._container.style.position="relative",this._container.style.zIndex=lve,this._container.classList.add(ove),e.appendChild(this._container))}}initRootDom(){var e;const t=this._component.getSpec(),i=document.createElement("div"),r=(e=this._chartOption)===null||e===void 0?void 0:e.getTheme("fontFamily");q_(i,Object.assign({left:"0",top:"0",pointerEvents:"none",padding:"12px",position:"absolute",zIndex:lve,fontFamily:r??VO.fontFamily,fontSize:"11px",borderRadius:"3px",borderStyle:"solid",lineHeight:"initial",background:"#fff",boxShadow:"2px 2px 4px rgba(0, 0, 0, 0.1)",maxWidth:"100wh",maxHeight:"100vh",visibility:"hidden"},this._domStyle.panel)),i.classList.add(t.className),i.setAttribute("vchart-tooltip-id",`${this.id}`),this._container.appendChild(i),this._rootDom=i}_getTooltipBoxSize(e,t){var i;this._rootDom||this.initRootDom(),t||this._updateDomStringByCol(e),this._updateDomStyle("height",t);const r=(i=this._rootDom)===null||i===void 0?void 0:i.getBoundingClientRect();return{width:r==null?void 0:r.width,height:r==null?void 0:r.height}}_removeTooltip(){this._rootDom&&this._rootDom.parentNode&&(this._rootDom.parentNode.removeChild(this._rootDom),this._rootDom=null),this._container=null}_updateTooltip(e,t){var i,r;if(e&&this._rootDom){const{tooltipSpec:s,activeTooltipSpec:a}=t;t.changePositionOnly||(this._tooltipActual=a);const o=this._rootDom;if(o){const{x:l=0,y:u=0}=(i=a.position)!==null&&i!==void 0?i:{};let c={x:l,y:u};const d=this.getVisibility();s.updateElement&&(this._updatePosition((r=this._cacheCustomTooltipPosition)!==null&&r!==void 0?r:{x:l,y:u}),s.updateElement(o,a,t),c=this._getActualTooltipPosition(a,t,{width:o.offsetWidth,height:o.offsetHeight}),this._cacheCustomTooltipPosition=c),!d&&e&&(this._rootDom.style.transition="none",this._updatePosition(c,!1),this._rootDom.getBoundingClientRect()),this._updatePosition(c)}this.setVisibility(e)}else this.setVisibility(e),this._cacheCustomTooltipPosition=void 0}_initStyle(){const e=this._component.getSpec();this._domStyle=Tan(e)}_updateDomStringByCol(e){var t;const{title:i={},content:r}=e,s=r&&r.length,a=this._domStyle.row,o=[...this._rootDom.children];let l=o.find(d=>d.className.includes(KD)),u=o.find(d=>d.className.includes(wW));if(!l&&i.visible!==!1){l=document.createElement("h2");const d=document.createElement("span");l.appendChild(d),l.classList.add(KD),this._rootDom.firstChild?this._rootDom.insertBefore(l,this._rootDom.firstChild):this._rootDom.appendChild(l)}l&&i.visible!==!1?(q_(l,Object.assign(Object.assign(Object.assign({},this._domStyle.title),s?a:{marginBottom:"0px"}),{marginTop:"0px"})),l.firstChild.innerHTML=`${(t=i.value)!==null&&t!==void 0?t:""}`):l&&i.visible===!1&&l.parentNode.removeChild(l);const c=["shape","key","value"];if(!u&&s&&(u=document.createElement("div"),c.forEach(d=>{const h=document.createElement("div");h.classList.add(`${Zw}-column`),h.classList.add(`${Zw}-${d}-column`),h.setAttribute("data-col",d),u.appendChild(h)}),u.classList.add(wW),this._rootDom.appendChild(u)),u&&s){const d=[...u.children];q_(u,{whiteSpace:"nowrap"}),d.forEach((h,f)=>{const p=h.getAttribute("data-col");if(p&&c.includes(p)){const g=p==="shape"&&r.every(v=>!v.hasShape||!v.shapeType);q_(h,Object.assign(Object.assign({},this._domStyle[p]),{display:g?"none":"inline-block",verticalAlign:"top"}));const m=[...h.children];m.slice(r.length).forEach(v=>{v.parentNode.removeChild(v)}),r.forEach((v,_)=>{let y=m[_];y||(y=document.createElement("div"),y.classList.add(`${Zw}-${p}`),h.appendChild(y));const x=Object.assign({},a);_===r.length-1&&(x.marginBottom="0px"),x.display=v.visible===!1?"none":"block",x.height="initial",p==="key"?(y.innerHTML=cve(v.key),v.keyStyle&&hk(v.keyStyle,x)):p==="value"?(y.innerHTML=cve(v.value),v.valueStyle&&hk(v.valueStyle,x)):p==="shape"&&(y.innerHTML=Aan(v,`${this.id}_${_}`)),q_(y,x)})}})}else u&&!s&&u.parentNode.removeChild(u)}_updateDomStyle(e="width",t){var i,r,s,a,o;const l=this._rootDom,u=[...l.children].find(d=>d.className.includes(wW)),c=[...l.children].find(d=>d.className.includes(KD));if(u){const d=this._component.getSpec(),h={},f=(i=d.style)===null||i===void 0?void 0:i.titleLabel;if(f&&f.autoWidth&&f.multiLine!==!1&&c){const m=[...u.children].reduce((v,_)=>e==="height"?v+_.getBoundingClientRect().width:Math.max(v,_.getBoundingClientRect().width),0);m>0&&(c.style.maxWidth=`${m}px`,c.style.maxWidth=`${Math.ceil(u.getBoundingClientRect().width)}px`)}if(Y((r=d==null?void 0:d.style)===null||r===void 0?void 0:r.maxContentHeight)){const m=c&&c.className.includes(KD)?c.getBoundingClientRect().height+((s=d.style.spaceRow)!==null&&s!==void 0?s:0):0,v=this._chartOption.getChartViewRect(),_=Fs(d.style.maxContentHeight,Math.min(v.height,document.body.clientHeight)-m-(this._domStyle.panelPadding?this._domStyle.panelPadding[0]+this._domStyle.panelPadding[1]:0));_>0&&(h.maxHeight=`${_}px`,h.overflowY="auto",h.width=`calc(100% + ${this._domStyle.panelPadding?this._domStyle.panelPadding[1]+"px":"10px"})`,q_(u,h))}const p=u.children,g=[];if(p){for(let m=0;m<p.length;m++){const v=(a=p[m].children)!==null&&a!==void 0?a:[];for(let _=0;_<v.length;_++){t&&(v[_].style[e]="initial");const y=v[_].getBoundingClientRect()[e];(g[_]===void 0||g[_]<y)&&(g[_]=y)}}for(let m=0;m<p.length;m++){const v=(o=p[m].children)!==null&&o!==void 0?o:[];for(let _=0;_<v.length;_++)v[_].style[e]=`${g[_]}px`}}}}_getParentElement(e){var t;return(t=this._container)!==null&&t!==void 0?t:super._getParentElement(e)}isTooltipShown(){return this.getVisibility()}reInit(){super.reInit(),this._initStyle(),this._rootDom&&q_(this._rootDom,this._domStyle.panel),this.getVisibility()&&(this._updateDomStringByCol(this._tooltipActual),this._updateDomStyle("height",!1))}_updatePosition({x:e,y:t},i=!0){this._rootDom&&(this._rootDom.style.transform=`translate3d(${e}px, ${t}px, 0)`,i&&this._rootDom.style.transition!==""&&(this._rootDom.style.transition="",Object.assign(this._rootDom.style,this._domStyle.panel)))}}gH.type=YC.dom;const kan=()=>{qDe(gH)},Oan={fontFamily:VO.fontFamily,spacing:10,wordBreak:"break-word"},TW=(n,e)=>{var t;let i,r;(n==null?void 0:n.type)!=="rich"&&(n==null?void 0:n.type)!=="html"?(n=(n??"").toString(),e.multiLine?(i=n.split(`
`),i=i.map((a,o)=>o<i.length-1?a+`
`:a)):i=[n],r=i.map(a=>Object.assign(Object.assign({},e),{text:a}))):(r=n.text,i=n);const s=r4t({wordBreak:(t=e.wordBreak)!==null&&t!==void 0?t:"break-word",maxWidth:e.maxWidth?e.maxWidth:void 0,width:0,height:0,textConfig:r});return{width:s.width(),height:s.height(),text:i}};function hx(n={},e,t){var i,r;return Object.assign(Object.assign({},t??Oan),{fill:(i=n.fill)!==null&&i!==void 0?i:n.fontColor,textAlign:n.textAlign,textBaseline:n.textBaseline,fontFamily:(r=n.fontFamily)!==null&&r!==void 0?r:e,fontSize:n.fontSize,fontWeight:n.fontWeight,lineHeight:n.lineHeight,spacing:n.spacing,multiLine:Y(n.maxWidth)?n.multiLine!==!1:n.multiLine,maxWidth:n.maxWidth,wordBreak:n.wordBreak,autoWidth:n.autoWidth})}const Pan=n=>{var e;const{backgroundColor:t,border:i,shadow:r}=n,s={lineWidth:(e=i==null?void 0:i.width)!==null&&e!==void 0?e:0,shadow:!!r};i!=null&&i.color&&(s.stroke=i.color),t&&(s.fill=t),r&&(s.shadowColor=r.color,s.shadowBlur=r.blur,s.shadowOffsetX=r.x,s.shadowOffsetY=r.y,s.shadowSpread=r.spread);const{radius:a}=i??{};return Y(a)&&(s.cornerRadius=[a,a,a,a]),s},Man=(n,e,t)=>{var i,r,s,a,o;const{style:l={},enterable:u,transitionDuration:c}=e,{panel:d={},titleLabel:h,shape:f,keyLabel:p,valueLabel:g,spaceRow:m,align:v}=l,_=gl(d.padding),y=HC(d.padding),x=hx(Object.assign({textAlign:v==="right"?"right":"left"},h),t),w=hx(Object.assign({textAlign:v==="right"?"right":"left"},p),t),T=hx(g,t),E={fill:!0,size:(i=f==null?void 0:f.size)!==null&&i!==void 0?i:8,spacing:(r=f==null?void 0:f.spacing)!==null&&r!==void 0?r:6},A={panel:Pan(d),padding:_,title:{},content:[],titleStyle:{value:x,spaceRow:m},contentStyle:{shape:E,key:w,value:T,spaceRow:m},hasContentShape:!1,keyWidth:0,valueWidth:0,enterable:u,transitionDuration:c,align:v},{title:k={},content:P=[]}=n;let I=y.left+y.right,D=y.top+y.bottom,L=0;const B=!!P.length;let F=0,$=0,z=0,N=0;if(B){const ue=[],oe=[],re=[],fe=[];let ve=0;A.content=P.map((xe,ye)=>{let Ee=0;const{hasShape:Se,key:Fe,shapeType:Ge="",shapeFill:Pe,shapeStroke:je,shapeLineWidth:qe,shapeSize:ot,value:$e,isKeyAdaptive:et,spaceRow:Mt,keyStyle:Ct,valueStyle:tt,shapeHollow:xt}=xe,dt={height:0,spaceRow:Mt??m};if(Y(Fe)){const bt=qt({},w,hx(Ct,void 0,{})),{width:rt,height:Dt,text:Je}=TW(Fe,bt);dt.key=Object.assign(Object.assign({width:rt,height:Dt},bt),{text:Je}),et?oe.push(rt):ue.push(rt),Ee=Math.max(Ee,Dt)}if(Y($e)){const bt=qt({},T,hx(tt,void 0,{})),{width:rt,height:Dt,text:Je}=TW($e,bt);dt.value=Object.assign(Object.assign({width:rt,height:Dt},bt),{text:Je}),re.push(rt),Ee=Math.max(Ee,Dt)}if(Se){const bt={visible:!0,symbolType:Ge};xt?bt.stroke=Pe:bt.fill=Pe,bt.stroke=je??Pe,bt.lineWidth=qe,dt.shape=bt;const rt=ot??E.size;Ee=Math.max(rt,Ee),fe.push(rt)}else dt.shape={visible:!1};return dt.height=Ee,ve+=Ee,ye<P.length-1&&(ve+=dt.spaceRow),dt}),D+=ve,F=ue.length?js(ue):0,$=oe.length?js(oe):0,z=re.length?js(re):0,N=fe.length?js(fe)+E.spacing:0,L=Math.max(N+F+w.spacing+z+T.spacing,N+$,L),A.hasContentShape=!!fe.length,A.keyWidth=F,A.valueWidth=z}let V=0,H=0,K=0;const{visible:U=!0,value:X="",valueStyle:Z,spaceRow:Q}=k;A.title.visible=U,A.title.spaceRow=Q??m;let se={};const ae=()=>se.autoWidth&&se.multiLine!==!1;if(U){se=qt({},x,hx(Z,void 0,{})),ae()&&(se.multiLine=(s=se.multiLine)===null||s===void 0||s,se.maxWidth=(a=se.maxWidth)!==null&&a!==void 0?a:B?Math.ceil(L):void 0);const{text:ue,width:oe,height:re}=TW(X,se);A.title.value=Object.assign(Object.assign({width:ae()?Math.min(oe,(o=se.maxWidth)!==null&&o!==void 0?o:Number.MAX_VALUE):oe,height:re},se),{text:ue}),V=A.title.value.width,H=A.title.value.height,K=H+(B?A.title.spaceRow:0)}return D+=K,A.title.width=V,A.title.height=H,ae()?I+=L||V:I+=Math.max(V,L),B&&A.content.forEach(ue=>{var oe;const re=ue.value;re&&((oe=re.autoWidth)===null||oe===void 0||oe)&&(re.width=I-y.left-y.right-N-F-w.spacing-T.spacing,re.maxWidth||(re.maxWidth=Math.ceil(re.width)),A.valueWidth=Math.max(A.valueWidth,re.width))}),A.panel.width=I,A.panel.height=D,A};class mH extends QQ{constructor(){super(mH.type),this.type=YC.canvas,this._attributes=null}onAdd(e){var t;super.onAdd(e),this._tooltipCanvasId=(t=this._chartOption.modeParams)===null||t===void 0?void 0:t.tooltipCanvasId}_initTooltipComponent(e){const t=this._getLayer(e);this._tooltipComponent=new KMe({autoCalculatePosition:!1,autoMeasure:!1}),t.add(this._tooltipComponent)}_getLayer(e){if(this._layer)return this._layer;this._layer=e.createLayer(this._tooltipCanvasId);const t=this._layer.layerHandler.canvas.nativeCanvas;return t&&t.style&&(t.style.touchAction="none",t.style.pointerEvents="none"),this._layer}_getTooltipBoxSize(e,t){var i,r;if(!t||J(this._attributes)){const a=(i=this._chartOption)===null||i===void 0?void 0:i.getTheme("fontFamily");this._attributes=Man(e,this._component.getSpec(),a)}const{panel:s}=(r=this._attributes)!==null&&r!==void 0?r:{};return{width:s.width+s.lineWidth,height:s.height+s.lineWidth}}_removeTooltip(){this._layer&&this._layer.removeAllChild(),this._attributes=null}_updateTooltip(e,t){this._visible=e;const i=this._compiler.getStage();if(!i)return;if(!e)return void(this._tooltipComponent&&this._tooltipComponent.attribute.visible&&(this._tooltipComponent.hideAll(),this._tooltipComponent.setAttributes({visibleAll:!1})));this._tooltipComponent||this._initTooltipComponent(i);const{activeTooltipSpec:r}=t,s=r.position;t.changePositionOnly?Y(s)&&this._tooltipComponent.setAttributes(s):this._tooltipComponent.setAttributes(Object.assign(Object.assign({},this._attributes),s)),this._tooltipComponent.attribute.visible||(this._tooltipComponent.showAll(),this._tooltipComponent.setAttributes({visibleAll:!0}))}isTooltipShown(){var e;return(e=this._tooltipComponent)===null||e===void 0?void 0:e.attribute.visibleAll}release(){var e;super.release(),(e=this._layer)===null||e===void 0||e.release()}}mH.type=YC.canvas;const Ian=()=>{qDe(mH)},Ran=n=>{ne.registerChartPlugin(n.type,n)},Dan=/\{([^}]+)\}/,Lan=/\{([^}]+)\}/g,Fan=/:/;class t0 extends vQ{constructor(){super(t0.type),this.type="formatterPlugin",this._timeModeFormat={utc:mf.getInstance().timeUTCFormat,local:mf.getInstance().timeFormat},this._formatter=this._format,this._timeFormatter=this._timeModeFormat.local,this._numericFormatter=Ob.getInstance().format,this._numericSpecifier=Ob.getInstance().formatter,this._numericFormatterCache=new Map,this._isNumericFormatterCache=new Map}onInit(e,t){var i;const{globalInstance:r}=e;if(!r)return;this._spec=(i=t==null?void 0:t[t0.specKey])!==null&&i!==void 0?i:{};const{timeMode:s,customFormatter:a,numericFormatter:o,timeFormatter:l}=this._spec;Re(a)?this._formatter=a:(this._formatter=this._format.bind(this),Re(l)?this._timeFormatter=l:s&&this._timeModeFormat[s]&&(this._timeFormatter=this._timeModeFormat[s]),o&&(this._numericFormatter=o,this._numericSpecifier=null,this._numericFormatterCache=null)),ne.registerFormatter(this._formatter)}_format(e,t,i){return Oe(e)?e.map((r,s)=>{const a=Oe(i)?i[s]:i;return a?this._formatSingleLine(r,t,a):r}):Oe(i)?i.map(r=>this._formatSingleLine(e,t,r)):this._formatSingleLine(e,t,i)}_formatSingleLine(e,t,i){let r;return this._isNumericFormatterCache&&(this._isNumericFormatterCache.get(i)?r=this._isNumericFormatterCache.get(i):(r=Dan.test(i),this._isNumericFormatterCache.set(i,r))),r?i.replace(Lan,(s,a)=>{if(!Fan.test(a)){const c=t[a.trim()];return c!==void 0?c:s}const o=a.split(":"),l=t[o.shift()],u=o.join(":");return this._formatSingleText(l,u)}):this._formatSingleText(e,i)}_formatSingleText(e,t){if(rke.test(t)&&this._numericFormatter){let i;return this._numericFormatterCache&&this._numericSpecifier?(this._numericFormatterCache.get(t)?i=this._numericFormatterCache.get(t):(i=this._numericSpecifier(t),this._numericFormatterCache.set(t,i)),i(Number(e))):this._numericFormatter(t,Number(e))}return t.includes("%")&&this._timeFormatter?this._timeFormatter(t,e):t.startsWith("calc(")?this._calcFormatter(t,e):e}_calcFormatter(e,t){try{const i=e.slice(5,-1).replace(/v/g,String(t));return this._calculateMathExpression(i,t)}catch{return t}}_calculateMathExpression(e,t){const i=e.replace(/\s+/g,"");if(!this._isValidMathExpression(i))return t;try{const r=new Function("return ("+i+")")();if(typeof r!="number"||isNaN(r)||!isFinite(r))throw new Error("Invalid calculation result");return r}catch{return t}}_isValidMathExpression(e){return/^[0-9+\-*/().]+$/.test(e)}release(){super.release(),this._format=null,this._timeFormatter=null,this._numericFormatter=null,this._numericSpecifier=null,this._numericFormatterCache=null,this._isNumericFormatterCache=null}}t0.pluginType="chart",t0.specKey="formatter",t0.type="formatterPlugin";const Ban=()=>{Ran(t0)},ZDe={state:pt.STATE_ACTIVE,trigger:"pointerover",triggerOff:"pointerout"};class M$ extends u_{constructor(e){super(e),this.type="element-active",this.handleStart=t=>{this.start(t.item)},this.handleReset=t=>{this.reset(t.item)},this.options=Object.assign({},ZDe,e),this.updateMarkIdByState([this.options.state])}getEvents(){return[{type:this.options.trigger,handler:this.handleStart},{type:this.options.triggerOff,handler:this.handleReset}]}getStartState(){return this.options.state}start(e){if(e){const{state:t,interaction:i}=this.options;this.isGraphicInStateMark(e,t)&&(e.addState(t,!0),i.setStatedGraphics(this,[e]))}}reset(e){const{interaction:t,state:i}=this.options,r=t.getStatedGraphics(this),s=e??(r==null?void 0:r[0]);s&&r.includes(s)&&(s.removeState(i),t.setStatedGraphics(this,r.filter(a=>a!==s)))}}M$.type="element-active",M$.defaultOptions=ZDe;const $an=()=>{ne.registerInteractionTrigger(M$.type,M$)},JQ="element-active-by-legend",QDe={state:pt.STATE_ACTIVE,filterType:"groupKey"};class Z7 extends u_{constructor(e){super(e),this.type=JQ,this.handleStart=t=>{var i,r;const s=t.event;s&&this.start((r=(i=s.detail)===null||i===void 0?void 0:i.data)===null||r===void 0?void 0:r.id)},this.handleReset=t=>{this.resetAll()},this.options=Object.assign({},QDe,e),this.updateMarkIdByState([this.options.state])}getEvents(){return[{type:Et.legendItemHover,handler:this.handleStart},{type:Et.legendItemUnHover,handler:this.handleReset}]}getStartState(){return this.options.state}start(e){if(J(e))return;const{interaction:t,state:i}=this.options,r=fQ(this.options),s=t.getStatedGraphics(this),a=[];this.getMarks().forEach(o=>{var l;(l=o.getGraphics())===null||l===void 0||l.forEach(u=>{r(u)===e&&a.push(u)})}),t.updateStates(this,a,s,i),t.setStatedGraphics(this,a)}resetAll(){const{interaction:e,state:t}=this.options;e.clearAllStatesOfTrigger(this,t),e.setStatedGraphics(this,[])}reset(e){const{state:t,interaction:i}=this.options;if(e){const r=i.getStatedGraphics(this);r&&r.includes(e)&&(e.removeState(t),i.setStatedGraphics(this,r.filter(s=>s!==e)))}else this.resetAll()}}Z7.type=JQ,Z7.defaultOptions=QDe;const Nan=()=>{ne.registerInteractionTrigger(JQ,Z7)},eJ="element-highlight-by-group";class I$ extends u_{constructor(e){super(e),this.type=eJ,this.handleStart=t=>{this.start(t.item)},this.handleReset=t=>{const i=t.item;i&&this.isGraphicInMark(i)&&this.resetAll()},this.options=Object.assign({},OIe,e),this.updateMarkIdByState([this.options.highlightState,this.options.blurState])}getStartState(){return this.options.highlightState}getResetState(){return this.options.blurState}getEvents(){return[{type:this.options.trigger,handler:this.handleStart},{type:this.options.triggerOff,handler:this.handleReset}]}resetAll(){const{interaction:e,highlightState:t,blurState:i}=this.options;e.clearAllStatesOfTrigger(this,t,i),e.setStatedGraphics(this,[])}_getHightlightKey(e){var t;return(t=e.context)===null||t===void 0?void 0:t.groupKey}start(e){if(e&&this.isGraphicInMark(e)){const t=this._getHightlightKey(e);if(J(t))return;const{interaction:i,highlightState:r,blurState:s}=this.options,a=i.getStatedGraphics(this),o=[];this.getMarks().forEach(l=>{var u;(u=l.getGraphics())===null||u===void 0||u.forEach(c=>{this._getHightlightKey(c)===t&&o.push(c)})}),i.updateStates(this,o,a,r,s),i.setStatedGraphics(this,o)}}reset(e){if(e){if(this.isGraphicInMark(e)){const{interaction:t}=this.options,i=t.getStatedGraphics(this);e.removeState([this.options.highlightState,this.options.blurState]),t.setStatedGraphics(this,i.filter(r=>r!==e))}}else this.resetAll()}}I$.type=eJ,I$.defaultOptions=OIe;const jan=()=>{ne.registerInteractionTrigger(eJ,I$)},tJ="element-highlight-by-key";class JDe extends I${constructor(){super(...arguments),this.type=tJ}_getHightlightKey(e){var t;return(t=e.context)===null||t===void 0?void 0:t.key}}JDe.type=tJ;const zan=()=>{ne.registerInteractionTrigger(tJ,JDe)},nJ="element-highlight-by-legend",e2e={highlightState:pt.STATE_HIGHLIGHT,blurState:pt.STATE_BLUR,filterType:"groupKey"};class Q7 extends u_{constructor(e){super(e),this.type=nJ,this.handleStart=t=>{var i,r;const s=t.event;s&&this.start((r=(i=s.detail)===null||i===void 0?void 0:i.data)===null||r===void 0?void 0:r.id)},this.handleReset=t=>{this.resetAll()},this.options=Object.assign({},e2e,e),this.updateMarkIdByState([this.options.highlightState,this.options.blurState])}getStartState(){return this.options.highlightState}getResetState(){return this.options.blurState}getEvents(){return[{type:Et.legendItemHover,handler:this.handleStart},{type:Et.legendItemUnHover,handler:this.handleReset}]}start(e){if(e){const t=fQ(this.options),{interaction:i,highlightState:r,blurState:s}=this.options,a=i.getStatedGraphics(this),o=[];this.getMarks().forEach(l=>{var u;(u=l.getGraphics())===null||u===void 0||u.forEach(c=>{t(c)===e&&o.push(c)})}),i.updateStates(this,o,a,r,s),i.setStatedGraphics(this,o)}}resetAll(){const{interaction:e,highlightState:t,blurState:i}=this.options;e.clearAllStatesOfTrigger(this,t,i),e.setStatedGraphics(this,[])}reset(e){const{highlightState:t,blurState:i,interaction:r}=this.options;if(e){const s=r.getStatedGraphics(this);s&&s.includes(e)&&(e.removeState([t,i]),r.setStatedGraphics(this,s.filter(a=>a!==e)))}else this.resetAll()}}Q7.type=nJ,Q7.defaultOptions=e2e;const Han=()=>{ne.registerInteractionTrigger(nJ,Q7)},iJ="element-highlight-by-name",t2e={highlightState:pt.STATE_HIGHLIGHT,blurState:pt.STATE_BLUR,filterType:"groupKey"};class J7 extends u_{constructor(e){super(e),this.type=iJ,this.handleStart=t=>{if(this.options.shouldStart?this.options.shouldStart(t):this._filterByName(t)){const i=this._parseTargetKey(t);this.start(i)}},this.handleReset=t=>{(this.options.shouldReset?this.options.shouldReset(t):this._filterByName(t))&&this.resetAll()},this.options=Object.assign({},t2e,e),this.updateMarkIdByState([this.options.highlightState,this.options.blurState])}getStartState(){return this.options.highlightState}getResetState(){return this.options.blurState}getEvents(){return[{type:this.options.trigger,handler:this.handleStart},{type:this.options.triggerOff,handler:this.handleReset}]}_filterByName(e){var t;const i=Ae(this.options.graphicName);return((t=e==null?void 0:e.node)===null||t===void 0?void 0:t.name)&&i.includes(e.node.name)}_parseTargetKey(e){return this.options.parseData?this.options.parseData(e):e.node.type==="text"?e.node.attribute.text:null}start(e){if(e){const t=fQ(this.options),{interaction:i,highlightState:r,blurState:s}=this.options,a=i.getStatedGraphics(this),o=[];this.getMarks().forEach(l=>{var u;(u=l.getGraphics())===null||u===void 0||u.forEach(c=>{t(c)===e&&o.push(c)})}),i.updateStates(this,o,a,r,s),i.setStatedGraphics(this,o)}}resetAll(){const{interaction:e,highlightState:t,blurState:i}=this.options;e.clearAllStatesOfTrigger(this,t,i),e.setStatedGraphics(this,[])}reset(e){const{highlightState:t,blurState:i,interaction:r}=this.options;if(e){const s=r.getStatedGraphics(this);s&&s.includes(e)&&(e.removeState([t,i]),r.setStatedGraphics(this,s.filter(a=>a!==e)))}else this.resetAll()}}J7.type=iJ,J7.defaultOptions=t2e;const Van=()=>{ne.registerInteractionTrigger(iJ,J7)};class cP extends Mu{constructor(){super(...arguments),this.type=cP.type}_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{width:void 0,height:void 0,lineWidth:0})}}cP.type="image";const Wan=()=>{ne.registerMark(cP.type,cP),pd(),hPe(),ne.registerGraphicComponent("image",TZ)},Uan=()=>{TIe(),Yz(),Qm(),jM(),Dh(),eH(),Jm(),EQ(),tS(),qRe(),Wan(),oDe(),Xz()};cl.useRegisters([UQt,ZQt,iJt,fJt,Ern,krn,Orn,Rrn,Trn,Lrn,Frn,Brn,$rn,Wrn,Urn,Drn,Nrn,jrn,Yrn,zrn,Hrn,Vrn,Grn,Krn,Irn,Xrn,Prn,Ph,Mh,uQt,cQt,dQt,HM,q1,tsn,hsn,msn,_sn,xsn,Osn,Msn,Lsn,aRe,Qsn,nan,fan,Jsn,ian,pan,gan,tan,lan,uan,han,van,yan,ban,_an,Uan,kan,Ian,Ban,$an,Nan,Han,Van,jan,zan,Zqt,i6t,t6t]);const Gan="Basic Settings",Yan="Custom Settings",Kan="Data Source",Xan="Data Range",qan="Select Data Table",Zan="All Data (or Select View)",Qan="Decimal Precision",Jan="Decimal places for axis and labels (0-6)",eon="Y-axis Title",ton="X-axis Title",non="Enter Y-axis title, leave empty to hide",ion="Enter X-axis title, leave empty to hide",ron="Theme Color Customization",son="Waterfall Chart Type",aon="Standard",oon="Decomposition",lon="Stacked",uon="X-axis (Category)",con="Select category field",don="Y-axis (Value)",hon="Select value field",fon="Group Field",pon="Select grouping field",gon="Series Field (Stacked)",mon="Select series field",von="Sort Basis",yon="Category",_on="Value",bon="Record",Son="Sort Order",xon="Show Total",won="Subtotal Type",Con="Group Subtotal",Ton="Cumulative",Eon="Label Display",Aon="Label Type",kon="Cumulative Value",Oon="Current Value",Pon="MoM",Mon="Number",Ion="Percentage",Ron="Total",Don="Subtotal",Lon="Increase",Fon="Decrease",Bon="Unknown Chart Type",$on="Please select a valid chart type",Non="No Data",jon="Loading data or no matching data",zon="Please configure data source on the right",Hon="Please configure plugin to display chart",Von="Chart Configuration",Won="Confirm",Uon="Record Name",Gon="Waterfall Chart",Yon={basicSettings:Gan,customSettings:Yan,dataSource:Kan,dataRange:Xan,selectDataTable:qan,allDataOrView:Zan,decimalPrecision:Qan,decimalPrecisionHelp:Jan,yAxisTitle:eon,xAxisTitle:ton,enterYAxisTitle:non,enterXAxisTitle:ion,themeColorCustomization:ron,waterfallType:son,standard:aon,decomposition:oon,stacked:lon,xAxisCategory:uon,selectCategoryField:con,yAxisValue:don,selectValueField:hon,groupField:fon,selectGroupField:pon,seriesField:gon,selectSeriesField:mon,sortBasis:von,category:yon,value:_on,record:bon,sortOrder:Son,showTotal:xon,subtotalType:won,groupSubtotal:Con,cumulative:Ton,labelDisplay:Eon,labelType:Aon,absoluteValue:kon,currentValue:Oon,mom:Pon,number:Mon,percentage:Ion,total:Ron,subtotal:Don,increase:Lon,decrease:Fon,unknownChartType:Bon,selectValidChartType:$on,noData:Non,loadingOrNoMatch:jon,configureDataSource:zon,configurePlugin:Hon,chartConfiguration:Von,confirm:Won,recordName:Uon,waterfallChart:Gon},Kon="",Xon="",qon="",Zon="",Qon="",Jon=" ()",eln="",tln=" (0-6)",nln="Y ",iln="X ",rln=" Y ",sln=" X ",aln="",oln="",lln="",uln="",cln="",dln=" ()",hln="",fln=" ()",pln="",gln="",mln="",vln=" ()",yln="",_ln="",bln="",Sln="",xln="",wln="",Cln="",Tln="",Eln="",Aln="",kln="",Oln="",Pln="",Mln="",Iln="",Rln="",Dln="",Lln="",Fln="",Bln="",$ln="",Nln="",jln="",zln="",Hln="",Vln="",Wln="",Uln="",Gln="",Yln="",Kln="",Xln={basicSettings:Kon,customSettings:Xon,dataSource:qon,dataRange:Zon,selectDataTable:Qon,allDataOrView:Jon,decimalPrecision:eln,decimalPrecisionHelp:tln,yAxisTitle:nln,xAxisTitle:iln,enterYAxisTitle:rln,enterXAxisTitle:sln,themeColorCustomization:aln,waterfallType:oln,standard:lln,decomposition:uln,stacked:cln,xAxisCategory:dln,selectCategoryField:hln,yAxisValue:fln,selectValueField:pln,groupField:gln,selectGroupField:mln,seriesField:vln,selectSeriesField:yln,sortBasis:_ln,category:bln,value:Sln,record:xln,sortOrder:wln,showTotal:Cln,subtotalType:Tln,groupSubtotal:Eln,cumulative:Aln,labelDisplay:kln,labelType:Oln,absoluteValue:Pln,currentValue:Mln,mom:Iln,number:Rln,percentage:Dln,total:Lln,subtotal:Fln,increase:Bln,decrease:$ln,unknownChartType:Nln,selectValidChartType:jln,noData:zln,loadingOrNoMatch:Hln,configureDataSource:Vln,configurePlugin:Wln,chartConfiguration:Uln,confirm:Gln,recordName:Yln,waterfallChart:Kln},qln="",Zln="",Qln="",Jln="",eun="",tun="",nun="",iun=" (0-6)",run="Y",sun="X",aun="Y",oun="X",lun="",uun="",cun="",dun="",hun="",fun=" ()",pun="",gun=" ()",mun="",vun="",yun="",_un=" ()",bun="",Sun="",xun="",wun="",Cun="",Tun="",Eun="",Aun="",kun="",Oun="",Pun="",Mun="",Iun="",Run="",Dun="",Lun="",Fun="",Bun="",$un="",Nun="",jun="",zun="",Hun="",Vun="",Wun="",Uun="",Gun="",Yun="",Kun="",Xun="",qun="",Zun={basicSettings:qln,customSettings:Zln,dataSource:Qln,dataRange:Jln,selectDataTable:eun,allDataOrView:tun,decimalPrecision:nun,decimalPrecisionHelp:iun,yAxisTitle:run,xAxisTitle:sun,enterYAxisTitle:aun,enterXAxisTitle:oun,themeColorCustomization:lun,waterfallType:uun,standard:cun,decomposition:dun,stacked:hun,xAxisCategory:fun,selectCategoryField:pun,yAxisValue:gun,selectValueField:mun,groupField:vun,selectGroupField:yun,seriesField:_un,selectSeriesField:bun,sortBasis:Sun,category:xun,value:wun,record:Cun,sortOrder:Tun,showTotal:Eun,subtotalType:Aun,groupSubtotal:kun,cumulative:Oun,labelDisplay:Pun,labelType:Mun,absoluteValue:Iun,currentValue:Run,mom:Dun,number:Lun,percentage:Fun,total:Bun,subtotal:$un,increase:Nun,decrease:jun,unknownChartType:zun,selectValidChartType:Hun,noData:Vun,loadingOrNoMatch:Wun,configureDataSource:Uun,configurePlugin:Gun,chartConfiguration:Yun,confirm:Kun,recordName:Xun,waterfallChart:qun};function Qun(n){let e="en";n.startsWith("zh")?e="zh":(n.startsWith("ja")||n==="jp")&&(e="jp"),is.use(cNt).init({resources:{en:{translation:Yon},zh:{translation:Xln},jp:{translation:Zun}},lng:e,fallbackLng:"en",interpolation:{escapeValue:!1}})}function uh(n,e){if(n==null||Number.isNaN(n))return"";if(!e){const o=String(n),l=o.indexOf(".");if(l===-1)return new Intl.NumberFormat("en-US",{maximumFractionDigits:0,useGrouping:!0}).format(n);const u=o.substring(l+1);return u.length>6?new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2,useGrouping:!0}).format(n):new Intl.NumberFormat("en-US",{maximumFractionDigits:Math.min(u.length,6),useGrouping:!0}).format(n)}const t=e.includes("%"),i=e.includes(",");let r=0;const s=e.lastIndexOf(".");if(s!==-1){const l=e.substring(s+1).match(/[0#]+/);l&&(r=l[0].length)}let a=n;t&&(a=n*100);try{let o=new Intl.NumberFormat("en-US",{minimumFractionDigits:r,maximumFractionDigits:r,useGrouping:i}).format(a);return t&&(o+="%"),o}catch{return n.toFixed(r)}}function fve(n,e=2){if(n.length===0)return[];const t=n.reduce((l,u)=>l+Math.abs(u),0);if(t===0)return n.map(()=>0);const i=Math.pow(10,e),r=100*i,s=n.map((l,u)=>{const c=Math.abs(l)/t*r,d=Math.floor(c);return{originalValue:l,rawShare:c,flooredShare:d,remainder:c-d,idx:u}});let a=s.reduce((l,u)=>l+u.flooredShare,0),o=r-a;if(o>0){s.sort((l,u)=>u.remainder!==l.remainder?u.remainder-l.remainder:l.idx-u.idx);for(let l=0;l<o;l++)s[l].flooredShare+=1}return s.sort((l,u)=>l.idx-u.idx),s.map(l=>{const u=l.flooredShare/i;return l.originalValue>=0?u:-u})}function Jun(n,e,t,i,r="absolute",s="number",a=2,o,l,u,c){const d=n.map(y=>y.isTotal?{x:y.name,total:!0,value:y.value}:{x:y.name,y:y.value}),h=t?"#fff":"#333",f=i||`0.${"0".repeat(a)}`,p=y=>{const x=typeof y=="string"?parseFloat(y):y;return isNaN(x)?"":uh(x,f)},g=(y,x)=>{if(!o)return p(y);const w=x==null?void 0:x.index;if(!w)return p(y);const T=o.get(w);return T===void 0?p(y):isNaN(T)?"--":`${T.toFixed(a)}`},m=(y,x)=>{if(!l)return p(y);const w=x==null?void 0:x.index;if(!w)return p(y);const T=l.get(w);return T===void 0?p(y):isNaN(T)?"--":uh(T,f)},v=r==="mom"?"change":r;let _;return r==="mom"&&s==="number"?_={valueType:v,formatMethod:m,style:{fill:h}}:s==="percent"?_={valueType:v,formatMethod:g,style:{fill:h}}:_={valueType:v,formatMethod:p,style:{fill:h}},{type:"waterfall",data:{id:"waterfallData",values:d},xField:"x",yField:"y",total:{type:"field",tagField:"total",valueField:"value"},theme:{series:{waterfall:{seriesFieldName:{total:is.t("total"),increase:is.t("increase"),decrease:is.t("decrease")}}}},stackLabel:_,bar:{style:{cornerRadius:[4,4,0,0]}},color:[e.positive,e.negative,e.total],title:{visible:!1},axes:[{orient:"bottom",type:"band",paddingInner:.4,sampling:!1,autoLimit:!1,title:c?{visible:!0,text:c,style:{fill:h}}:{visible:!1},label:{autoRotate:!0,autoHide:!1,style:{fill:h},formatMethod:y=>y},domainLine:{style:{stroke:t?"#555":"#ccc"}}},{orient:"left",type:"linear",title:u?{visible:!0,text:u,style:{fill:h}}:{visible:!1},label:{style:{fill:h},formatMethod:p},domainLine:{visible:!0,style:{stroke:t?"#555":"#ccc"}},grid:{style:{stroke:t?"#333":"#eee"}}}],legends:{visible:!0,orient:"top",item:{label:{style:{fill:h}}}},tooltip:{mark:{content:[{key:y=>(y==null?void 0:y.x)||"",value:y=>{const x=(y==null?void 0:y.y)??(y==null?void 0:y.value);return uh(x,f)}}]},dimension:{content:[{key:y=>(y==null?void 0:y.x)||"",value:y=>{const x=(y==null?void 0:y.y)??(y==null?void 0:y.value);return uh(x,f)}}]}},background:"transparent",animation:!0}}function ecn(n){return n.filter(e=>!e.isTotal).reduce((e,t)=>e+t.value,0)}function tcn(n,e=is.t("total")){const t=ecn(n);return[...n,{name:e,value:t,isTotal:!0}]}function ncn(n,e,t,i,r="absolute",s="number",a=2,o,l,u,c){const d=n.map(y=>{const x={x:y.name,y:y.value};return y.collect!==void 0&&y.collect>0&&(x.collect=y.collect),y.isTotal&&(x.total=!0,x.collect?delete x.y:y.value!==void 0&&(x.value=y.value,delete x.y)),x}),h=t?"#fff":"#333",f=i||`0.${"0".repeat(a)}`,p=y=>{const x=typeof y=="string"?parseFloat(y):y;return isNaN(x)?"":uh(x,f)},g=(y,x)=>{if(!o)return p(y);const w=x==null?void 0:x.index;if(!w)return p(y);const T=o.get(w);return T===void 0?p(y):isNaN(T)?"--":`${T.toFixed(a)}`},m=(y,x)=>{if(!l)return p(y);const w=x==null?void 0:x.index;if(!w)return p(y);const T=l.get(w);return T===void 0?p(y):isNaN(T)?"--":uh(T,f)},v=r==="mom"?"change":r;let _;return r==="mom"&&s==="number"?_={valueType:v,formatMethod:m,style:{fill:h}}:s==="percent"?_={valueType:v,formatMethod:g,style:{fill:h}}:_={valueType:v,formatMethod:p,style:{fill:h}},{type:"waterfall",data:{id:"waterfallData",values:d},xField:"x",yField:"y",total:{type:"field",tagField:"total",valueField:"value",collectCountField:"collect"},theme:{series:{waterfall:{seriesFieldName:{total:is.t("subtotal"),increase:is.t("increase"),decrease:is.t("decrease")}}}},stackLabel:_,bar:{style:{cornerRadius:[4,4,0,0]}},color:[e.positive,e.negative,e.total],title:{visible:!1},axes:[{orient:"bottom",type:"band",paddingInner:.4,sampling:!1,title:c?{visible:!0,text:c,style:{fill:h}}:{visible:!1},label:{autoRotate:!0,autoHide:!1,style:{fill:h},formatMethod:y=>{const x=y.indexOf("");return x>=0?y.substring(x+1):y}},domainLine:{style:{stroke:t?"#555":"#ccc"}}},{orient:"left",type:"linear",title:u?{visible:!0,text:u,style:{fill:h}}:{visible:!1},label:{style:{fill:h},formatMethod:p},domainLine:{visible:!0,style:{stroke:t?"#555":"#ccc"}},grid:{style:{stroke:t?"#333":"#eee"}}}],legends:{visible:!0,orient:"top",item:{label:{style:{fill:h}}}},tooltip:{mark:{title:{value:y=>{const x=(y==null?void 0:y.x)||"",w=x.indexOf("");return w>=0?x.substring(w+1):x}},content:[{key:y=>{const x=(y==null?void 0:y.type)||(y==null?void 0:y.x)||"",w=x.indexOf("");return w>=0?x.substring(w+1):x},value:y=>{const x=(y==null?void 0:y.y)??(y==null?void 0:y.value);return uh(x,f)}}]},dimension:{title:{value:y=>{const x=(y==null?void 0:y.x)||"",w=x.indexOf("");return w>=0?x.substring(w+1):x}},content:[{key:y=>{const x=(y==null?void 0:y.type)||(y==null?void 0:y.x)||"",w=x.indexOf("");return w>=0?x.substring(w+1):x},value:y=>{const x=(y==null?void 0:y.y)??(y==null?void 0:y.value);return uh(x,f)}}]}},background:"transparent",animation:!0}}function icn(n,e,t=!0,i="group"){if(n.length===0)return n;const r=[];let s=e(n[0]),a=[],o=0;for(let l=0;l<n.length;l++){const u=n[l],c=e(u);if(c!==s&&a.length>0){const d=a.reduce((f,p)=>f+p.value,0);o+=d,a.forEach(f=>{r.push({...f})});const h=i==="cumulative"?o:d;r.push({name:s,value:h,collect:i==="cumulative"?Number.MAX_SAFE_INTEGER:a.length,isTotal:!0,group:s}),s=c,a=[]}a.push(u)}if(a.length>0){const l=a.reduce((c,d)=>c+d.value,0);o+=l,a.forEach(c=>{r.push({...c})});const u=i==="cumulative"?o:l;r.push({name:s,value:u,collect:i==="cumulative"?Number.MAX_SAFE_INTEGER:a.length,isTotal:!0,group:s})}return t&&r.push({name:is.t("total"),value:o,isTotal:!0}),r}function rcn(n,e,t,i,r="change",s="number",a=2,o=!0,l,u,c,d){let h=[...n];o&&n.length>0&&(n.some(A=>A.total)||h.push({x:is.t("total"),y:0,type:"",total:!0}));const f=t?"#fff":"#333",p=i||`0.${"0".repeat(a)}`,g=E=>{const A=typeof E=="string"?parseFloat(E):E;return isNaN(A)?"":uh(A,p)},m=(E,A)=>{if(!l)return g(E);const k=A==null?void 0:A.index;if(!k)return g(E);const P=l.get(k);return P===void 0?g(E):isNaN(P)?"--":`${P.toFixed(a)}`},v=(E,A)=>{if(!u)return g(E);const k=A==null?void 0:A.index;if(!k)return g(E);const P=u.get(k);return P===void 0?g(E):isNaN(P)?"--":uh(P,p)},_=r==="mom"?"change":r;let y;r==="mom"&&s==="number"?y={valueType:_,formatMethod:v,style:{fill:f}}:s==="percent"?y={valueType:_,formatMethod:m,style:{fill:f}}:y={valueType:_,formatMethod:g,style:{fill:f}};const x=["#7FAEDC","#F2B179","#81C784","#BB8FCE","#E57373","#C6DBEF","#FDE0C8","#C8E6C9","#E8DAEF","#F5B7B1","#3F7FBF","#E67E22","#4CAF50","#8E44AD","#C0392B","#2E5E8C","#B85C00","#2E7D32","#6C3483","#922B21","#1F3A5F","#7A3E00","#1E4D2B","#4A235A","#641E16"],w=[...new Set(h.filter(E=>E.type&&!E.total).map(E=>E.type))],T=new Map;return w.forEach((E,A)=>{T.set(E,x[A%x.length])}),{type:"waterfall",data:{id:"stackedWaterfallData",values:h},xField:"x",yField:"y",seriesField:"type",total:{type:"field",tagField:"total"},theme:{series:{waterfall:{seriesFieldName:{total:is.t("total"),increase:is.t("increase"),decrease:is.t("decrease")}}}},stackLabel:y,bar:{style:{cornerRadius:[2,2,0,0],fill:E=>E.total?e.total:T.get(E.type)||x[0]}},color:x,title:{visible:!1},axes:[{orient:"bottom",type:"band",paddingInner:.4,sampling:!1,label:{visible:!0,autoRotate:!0,autoHide:!1,style:{fill:f}},domainLine:{style:{stroke:t?"#555":"#ccc"}},title:d?{visible:!0,text:d,style:{fill:f}}:{visible:!1}},{orient:"left",type:"linear",title:c?{visible:!0,text:c,style:{fill:f}}:{visible:!1},label:{style:{fill:f},formatMethod:g},domainLine:{visible:!0,style:{stroke:t?"#555":"#ccc"}},grid:{style:{stroke:t?"#333":"#eee"}}}],legends:{visible:!0,orient:"top",item:{label:{style:{fill:f}}}},tooltip:{mark:{content:[{key:E=>(E==null?void 0:E.type)||(E==null?void 0:E.x)||"",value:E=>{const A=(E==null?void 0:E.y)??(E==null?void 0:E.value);return uh(A,p)}}]},dimension:{content:[{key:E=>(E==null?void 0:E.type)||(E==null?void 0:E.x)||"",value:E=>{const A=(E==null?void 0:E.y)??(E==null?void 0:E.value);return uh(A,p)}}]}},background:"transparent",animation:!0}}const scn=({data:n,stackedData:e,positiveColor:t,negativeColor:i,totalColor:r,showTotal:s,isDark:a,formatter:o,chartType:l="standard",labelValueType:u="absolute",labelFormatType:c="number",decimalPrecision:d=2,yAxisTitle:h="",xAxisTitle:f="",onClick:p})=>{const g=q.useRef(null),m=q.useRef(null),v=q.useRef(p);return q.useEffect(()=>{v.current=p},[p]),q.useEffect(()=>{if(!g.current)return;let _=n;l==="standard"&&s&&n.length>0&&(_=tcn(n));let y;if(c==="percent")if(l==="stacked"&&e){const E=new Map;for(const k of e){const P=E.get(k.x)||0;E.set(k.x,P+k.y)}const A=[...E.keys()];if(u==="absolute"){const k=[...E.values()].reduce((I,D)=>I+D,0);y=new Map;let P=0;A.forEach(I=>{P+=E.get(I)||0;const D=k!==0?P/Math.abs(k)*100:0;y.set(I,D)})}else if(u==="mom"){y=new Map;let k=!0,P=0;A.forEach(I=>{const D=E.get(I)||0,L=k?NaN:P!==0?(D-P)/Math.abs(P)*100:0;y.set(I,L),P=D,k=!1})}else{const k=A.map(I=>E.get(I)),P=fve(k,d);y=new Map,A.forEach((I,D)=>{y.set(I,P[D])})}}else{const E=n.filter(k=>!k.isTotal),A=n.filter(k=>k.isTotal&&k.collect!==void 0&&k.collect>0);if(y=new Map,u==="absolute"){const k=E.reduce((I,D)=>I+D.value,0);let P=0;E.forEach(I=>{P+=I.value;const D=k!==0?P/Math.abs(k)*100:0;y.set(I.name,D)}),A.length>0&&k!==0&&A.forEach(I=>{const D=Math.abs(I.value)/Math.abs(k)*100;y.set(I.name,D)})}else if(u==="mom"){let k=!0,P=0;E.forEach(I=>{const D=k?NaN:P!==0?(I.value-P)/Math.abs(P)*100:0;y.set(I.name,D),P=I.value,k=!1})}else{if(E.length>0){const k=E.map(I=>I.value),P=fve(k,d);E.forEach((I,D)=>{y.set(I.name,P[D])})}if(A.length>0){const k=E.reduce((P,I)=>P+Math.abs(I.value),0);k>0&&A.forEach(P=>{const I=Math.abs(P.value)/k*100;y.set(P.name,I)})}}}let x;if(u==="mom"&&c==="number")if(x=new Map,l==="stacked"&&e){const E=new Map;for(const I of e){const D=E.get(I.x)||0;E.set(I.x,D+I.y)}const A=[...E.keys()];let k=!0,P=0;A.forEach(I=>{const D=E.get(I)||0;x.set(I,k?NaN:D-P),P=D,k=!1})}else{const E=n.filter(P=>!P.isTotal);let A=!0,k=0;E.forEach(P=>{x.set(P.name,A?NaN:P.value-k),k=P.value,A=!1})}let w;l==="stacked"&&e&&e.length>0?w=rcn(e,{total:r},a,o,u,c,d,s,y,x,h,f):l==="decomposition"?w=ncn(_,{positive:t,negative:i,total:r},a,o,u,c,d,y,x,h,f):w=Jun(_,{positive:t,negative:i,total:r},a,o,u,c,d,y,x,h,f),m.current=new cl(w,{dom:g.current}),m.current.on("click",{level:"mark"},E=>{v.current&&E.datum&&v.current({name:E.datum.x,value:E.datum.y??E.datum.value,data:E.datum})}),m.current.renderSync();const T=()=>{var E;if(g.current){const{clientWidth:A,clientHeight:k}=g.current;(E=m.current)==null||E.resize(A,k)}};return window.addEventListener("resize",T),()=>{window.removeEventListener("resize",T),m.current&&(m.current.release(),m.current=null)}},[n,e,t,i,r,s,a,o,l,u,c,d,h,f]),_e.jsx("div",{ref:g,style:{width:"100%",height:"100%",minHeight:"300px"}})},acn=({config:n,onChange:e})=>{const[t,i]=q.useState([]),[r,s]=q.useState([]),[a,o]=q.useState([]);q.useEffect(()=>{(async()=>{try{const h=await Ef.base.getTableList(),f=[];for(const p of h){const g=await p.getName();f.push({id:p.id,name:g})}i(f)}catch(h){console.error(":",h)}})()},[]),q.useEffect(()=>{if(!n.tableId){s([]);return}(async()=>{try{const f=await(await Ef.base.getTableById(n.tableId)).getViewList(),p=[];for(const g of f){const m=await g.getName();p.push({id:g.id,name:m})}s(p)}catch(h){console.error(":",h)}})()},[n.tableId]),q.useEffect(()=>{if(!n.tableId){o([]);return}(async()=>{try{const f=await(await Ef.base.getTableById(n.tableId)).getFieldList(),p=[];for(const g of f){const m=await g.getName(),v=await g.getType();p.push({id:g.id,name:m,type:v})}o(p)}catch(h){console.error(":",h)}})()},[n.tableId]);const l=a.filter(d=>d.type===ay.Number||d.type===ay.Currency||d.type===ay.Formula),[u,c]=q.useState(null);return q.useEffect(()=>{u&&n&&u.setValues(n)},[n,u]),_e.jsx("div",{className:"config-panel",children:_e.jsx(Fn,{labelPosition:"top",getFormApi:d=>c(d),initValues:n,style:{paddingBottom:20},children:_e.jsxs(Fy,{type:"line",defaultActiveKey:"basic",children:[_e.jsx(Tm,{tab:"",itemKey:"basic",children:_e.jsxs("div",{style:{paddingTop:16},children:[_e.jsxs(Fn.Select,{field:"diagramType",label:"",placeholder:"",style:{width:"100%"},onChange:d=>e({diagramType:d}),children:[_e.jsx(vr.Option,{value:"waterfall",children:""}),_e.jsx(vr.Option,{value:"box",children:""}),_e.jsx(vr.Option,{value:"bar",disabled:!0,children:" ()"}),_e.jsx(vr.Option,{value:"line",disabled:!0,children:" ()"}),_e.jsx(vr.Option,{value:"pie",disabled:!0,children:" ()"})]}),_e.jsx(Kg,{margin:"16px"}),_e.jsx(Fn.Input,{field:"chartTitle",label:"",placeholder:"",onChange:d=>e({chartTitle:d})}),_e.jsx(Kg,{margin:"16px"}),_e.jsx(Fn.Select,{field:"tableId",label:"",prefix:_e.jsx(y1e,{}),placeholder:"",style:{width:"100%"},onChange:d=>{e({tableId:d,viewId:"",categoryFieldId:"",valueFieldId:""})},children:t.map(d=>_e.jsx(vr.Option,{value:d.id,children:d.name},d.id))}),_e.jsx(Fn.Select,{field:"viewId",label:"",prefix:_e.jsx(dA,{}),placeholder:" ()",disabled:!n.tableId,style:{width:"100%"},onChange:d=>e({viewId:d}),children:r.map(d=>_e.jsx(vr.Option,{value:d.id,children:d.name},d.id))}),n.diagramType==="waterfall"&&_e.jsxs("div",{style:{marginBottom:16},children:[_e.jsx("div",{className:"semi-form-field-label",style:{marginBottom:4},children:""}),_e.jsxs(Uc,{type:"button",value:n.chartType||"standard",onChange:d=>e({chartType:d.target.value}),style:{width:"100%",display:"flex"},children:[_e.jsx(Ds,{value:"standard",style:{flex:1,justifyContent:"center"},children:""}),_e.jsx(Ds,{value:"decomposition",style:{flex:1,justifyContent:"center"},children:""}),_e.jsx(Ds,{value:"stacked",style:{flex:1,justifyContent:"center"},children:""})]})]}),n.chartType==="decomposition"&&_e.jsx(Fn.Select,{field:"groupFieldId",label:"",prefix:_e.jsx(dA,{}),placeholder:" ()",disabled:!n.tableId,style:{width:"100%"},onChange:d=>e({groupFieldId:d}),children:a.map(d=>_e.jsx(vr.Option,{value:d.id,children:d.name},d.id))}),n.chartType==="stacked"&&_e.jsx(Fn.Select,{field:"seriesFieldId",label:"",prefix:_e.jsx(dA,{}),placeholder:" ()",disabled:!n.tableId,style:{width:"100%"},onChange:d=>e({seriesFieldId:d}),children:a.map(d=>_e.jsx(vr.Option,{value:d.id,children:d.name},d.id))}),_e.jsx(Kg,{margin:"16px"}),_e.jsx(Fn.Select,{field:"categoryFieldId",label:" ()",prefix:_e.jsx(A2,{}),placeholder:"",disabled:!n.tableId,style:{width:"100%"},onChange:d=>e({categoryFieldId:d}),children:a.map(d=>_e.jsx(vr.Option,{value:d.id,children:d.name},d.id))}),_e.jsx("div",{className:"semi-form-field",style:{display:"flex",alignItems:"center"},children:_e.jsx(Zk,{checked:!0,disabled:!0,children:""})}),_e.jsxs("div",{style:{marginBottom:16},children:[_e.jsx("div",{className:"semi-form-field-label",style:{marginBottom:4},children:""}),_e.jsxs(Uc,{type:"button",className:"sort-radio-group",value:n.sortType||"category",onChange:d=>e({sortType:d.target.value}),style:{width:"100%",display:"flex"},children:[_e.jsx(Ds,{value:"category",style:{flex:1,justifyContent:"center"},children:""}),_e.jsx(Ds,{value:"value",style:{flex:1,justifyContent:"center"},children:""}),_e.jsx(Ds,{value:"record",style:{flex:1,justifyContent:"center"},children:""})]})]}),_e.jsxs("div",{style:{marginBottom:16},children:[_e.jsx("div",{className:"semi-form-field-label",style:{marginBottom:4},children:""}),_e.jsxs(Uc,{type:"button",className:"sort-radio-group",value:n.sortOrder||"asc",onChange:d=>e({sortOrder:d.target.value}),style:{width:"100%",display:"flex"},children:[_e.jsxs(Ds,{value:"asc",style:{flex:1,justifyContent:"center"},children:[_e.jsx(f1e,{style:{marginRight:4}}),""]}),_e.jsxs(Ds,{value:"desc",style:{flex:1,justifyContent:"center"},children:[_e.jsx(m1e,{style:{marginRight:4}}),""]})]})]}),_e.jsx(Kg,{margin:"16px"}),_e.jsx(Fn.Select,{field:"valueFieldId",label:" ()",prefix:_e.jsx(v1e,{}),placeholder:"",disabled:!n.tableId,style:{width:"100%"},onChange:d=>e({valueFieldId:d}),children:l.map(d=>_e.jsx(vr.Option,{value:d.id,children:d.name},d.id))}),_e.jsxs("div",{style:{marginTop:24,paddingTop:16,borderTop:"1px solid var(--semi-color-border)"},children:[_e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[_e.jsx("span",{style:{color:"var(--semi-color-text-2)",fontSize:13},children:"/"}),_e.jsx(Pj,{size:"small",disabled:!0})]}),_e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[_e.jsx("span",{style:{color:"var(--semi-color-text-2)",fontSize:13},children:""}),_e.jsxs(vr,{defaultValue:"empty",size:"small",style:{width:100},disabled:!0,children:[_e.jsx(vr.Option,{value:"empty",children:""}),_e.jsx(vr.Option,{value:"zero",children:"0"})]})]})]})]})}),_e.jsx(Tm,{tab:"",itemKey:"custom",children:_e.jsxs("div",{style:{paddingTop:16},children:[_e.jsx(Fn.Switch,{field:"showTotal",label:"",onChange:d=>e({showTotal:d})}),_e.jsx(Kg,{margin:"12px"}),_e.jsxs(Fn.RadioGroup,{field:"labelValueType",label:"",type:"button",onChange:d=>e({labelValueType:d.target.value}),children:[_e.jsx(Fn.Radio,{value:"absolute",children:""}),_e.jsx(Fn.Radio,{value:"change",children:""})]}),n.chartType==="decomposition"&&_e.jsxs(_e.Fragment,{children:[_e.jsx(Kg,{margin:"12px"}),_e.jsxs(Fn.RadioGroup,{field:"subtotalType",label:"",type:"button",onChange:d=>e({subtotalType:d.target.value}),children:[_e.jsx(Fn.Radio,{value:"group",children:""}),_e.jsx(Fn.Radio,{value:"cumulative",children:""})]})]}),_e.jsx(Kg,{margin:"12px"}),_e.jsxs("div",{style:{marginBottom:16},children:[_e.jsx("div",{className:"semi-form-field-label",style:{marginBottom:4},children:""}),_e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[_e.jsx(Tj,{value:n.decimalPrecision??2,min:0,max:6,step:1,style:{width:100},onChange:d=>e({decimalPrecision:d})}),_e.jsx("span",{style:{fontSize:12,color:"var(--semi-color-text-2)"},children:" (0-6)"})]})]}),_e.jsxs("div",{className:"color-config",children:[_e.jsx(Fn.Label,{children:""}),_e.jsx("div",{style:{marginTop:8},children:_e.jsxs(D1,{gutter:[16,16],children:[_e.jsx(so,{span:24,children:_e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[_e.jsx("span",{style:{fontSize:13,color:"var(--semi-color-text-1)"},children:""}),_e.jsx("input",{type:"color",value:n.positiveColor,onChange:d=>e({positiveColor:d.target.value}),style:{border:"none",background:"none",padding:0,width:24,height:24,cursor:"pointer"}})]})}),_e.jsx(so,{span:24,children:_e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[_e.jsx("span",{style:{fontSize:13,color:"var(--semi-color-text-1)"},children:""}),_e.jsx("input",{type:"color",value:n.negativeColor,onChange:d=>e({negativeColor:d.target.value}),style:{border:"none",background:"none",padding:0,width:24,height:24,cursor:"pointer"}})]})}),_e.jsx(so,{span:24,children:_e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[_e.jsx("span",{style:{fontSize:13,color:"var(--semi-color-text-1)"},children:""}),_e.jsx("input",{type:"color",value:n.totalColor,onChange:d=>e({totalColor:d.target.value}),style:{border:"none",background:"none",padding:0,width:24,height:24,cursor:"pointer"}})]})})]})})]})]})}),_e.jsx(Tm,{tab:"",itemKey:"analysis",disabled:!0,children:_e.jsx("div",{style:{padding:16,color:"var(--semi-color-text-2)"},children:""})})]})})})},rJ={diagramType:"waterfall",chartType:"standard",tableId:"",viewId:"",categoryFieldId:"",valueFieldId:"",groupFieldId:"",showTotal:!0,positiveColor:"#52c41a",negativeColor:"#ff4d4f",totalColor:"#1890ff",chartTitle:"",sortType:"category",sortOrder:"asc",labelValueType:"absolute",labelFormatType:"number",subtotalType:"group",decimalPrecision:2,yAxisTitle:"",xAxisTitle:"",seriesFieldId:""},ocn=({config:n,onChange:e,fields:t})=>{const{t:i}=Uj(),r=t.filter(s=>s.isNumericValue);return _e.jsxs(_e.Fragment,{children:[_e.jsxs("div",{style:{marginBottom:16},children:[_e.jsx("div",{className:"semi-form-field-label",style:{marginBottom:4},children:i("waterfallType")}),_e.jsxs(Uc,{type:"button",value:n.chartType||"standard",onChange:s=>e({chartType:s.target.value}),style:{width:"100%",display:"flex"},children:[_e.jsx(Ds,{value:"standard",style:{flex:1,justifyContent:"center"},children:i("standard")}),_e.jsx(Ds,{value:"decomposition",style:{flex:1,justifyContent:"center"},children:i("decomposition")}),_e.jsx(Ds,{value:"stacked",style:{flex:1,justifyContent:"center"},children:i("stacked")})]})]}),_e.jsx(Fn.Select,{field:"categoryFieldId",label:i("xAxisCategory"),prefix:_e.jsx(A2,{}),placeholder:i("selectCategoryField"),disabled:!n.tableId,style:{width:"100%"},onChange:s=>e({categoryFieldId:s}),children:t.map(s=>_e.jsx(vr.Option,{value:s.id,children:s.name},s.id))}),_e.jsx(Fn.Select,{field:"valueFieldId",label:i("yAxisValue"),prefix:_e.jsx(v1e,{}),placeholder:i("selectValueField"),disabled:!n.tableId,style:{width:"100%"},onChange:s=>e({valueFieldId:s}),children:r.map(s=>_e.jsx(vr.Option,{value:s.id,children:s.name},s.id))}),n.chartType==="decomposition"&&_e.jsx(Fn.Select,{field:"groupFieldId",label:i("groupField"),prefix:_e.jsx(A2,{}),placeholder:i("selectGroupField"),disabled:!n.tableId,style:{width:"100%"},onChange:s=>e({groupFieldId:s}),children:t.map(s=>_e.jsx(vr.Option,{value:s.id,children:s.name},s.id))}),n.chartType==="stacked"&&_e.jsx(Fn.Select,{field:"seriesFieldId",label:i("seriesField"),prefix:_e.jsx(A2,{}),placeholder:i("selectSeriesField"),disabled:!n.tableId,style:{width:"100%"},onChange:s=>e({seriesFieldId:s}),children:t.map(s=>_e.jsx(vr.Option,{value:s.id,children:s.name},s.id))}),_e.jsxs("div",{style:{marginTop:16},children:[_e.jsx("div",{className:"semi-form-field-label",style:{marginBottom:4},children:i("sortBasis")}),_e.jsxs(Uc,{type:"button",value:n.sortType||"category",onChange:s=>e({sortType:s.target.value}),style:{width:"100%",display:"flex"},children:[_e.jsx(Ds,{value:"category",style:{flex:1,justifyContent:"center"},children:i("category")}),_e.jsx(Ds,{value:"value",style:{flex:1,justifyContent:"center"},children:i("value")}),_e.jsx(Ds,{value:"record",style:{flex:1,justifyContent:"center"},children:i("record")})]})]}),_e.jsxs("div",{style:{marginTop:16},children:[_e.jsx("div",{className:"semi-form-field-label",style:{marginBottom:4},children:i("sortOrder")}),_e.jsxs(Uc,{type:"button",value:n.sortOrder||"asc",onChange:s=>e({sortOrder:s.target.value}),style:{width:"100%",display:"flex"},children:[_e.jsx(Ds,{value:"asc",style:{flex:1,justifyContent:"center"},children:_e.jsx(f1e,{})}),_e.jsx(Ds,{value:"desc",style:{flex:1,justifyContent:"center"},children:_e.jsx(m1e,{})})]})]}),_e.jsx("div",{style:{marginTop:16},children:_e.jsx(Zk,{checked:n.showTotal!==!1,onChange:s=>e({showTotal:s.target.checked}),children:i("showTotal")})}),n.chartType==="decomposition"&&_e.jsxs("div",{style:{marginTop:16},children:[_e.jsx("div",{className:"semi-form-field-label",style:{marginBottom:4},children:i("subtotalType")}),_e.jsxs(Uc,{type:"button",value:n.subtotalType||"group",onChange:s=>e({subtotalType:s.target.value}),style:{width:"100%"},children:[_e.jsx(Ds,{value:"group",style:{flex:1,justifyContent:"center"},children:i("groupSubtotal")}),_e.jsx(Ds,{value:"cumulative",style:{flex:1,justifyContent:"center"},children:i("cumulative")})]})]}),_e.jsxs("div",{style:{marginTop:16},children:[_e.jsx("div",{className:"semi-form-field-label",style:{marginBottom:4},children:i("labelDisplay")}),_e.jsxs(Uc,{type:"button",value:n.labelValueType||"absolute",onChange:s=>e({labelValueType:s.target.value}),style:{width:"100%"},children:[_e.jsx(Ds,{value:"absolute",style:{flex:1,justifyContent:"center"},children:i("absoluteValue")}),_e.jsx(Ds,{value:"change",style:{flex:1,justifyContent:"center"},children:i("currentValue")}),_e.jsx(Ds,{value:"mom",style:{flex:1,justifyContent:"center"},children:i("mom")})]})]}),_e.jsxs("div",{style:{marginTop:16},children:[_e.jsx("div",{className:"semi-form-field-label",style:{marginBottom:4},children:i("labelType")}),_e.jsxs(Uc,{type:"button",value:n.labelFormatType||"number",onChange:s=>e({labelFormatType:s.target.value}),style:{width:"100%"},children:[_e.jsx(Ds,{value:"number",style:{flex:1,justifyContent:"center"},children:i("number")}),_e.jsx(Ds,{value:"percent",style:{flex:1,justifyContent:"center"},children:i("percentage")})]})]})]})},lcn=({config:n,onChange:e})=>{const{t}=Uj();return _e.jsxs("div",{className:"color-config",children:[_e.jsx(Fn.Label,{children:t("themeColorCustomization")}),_e.jsx("div",{style:{marginTop:8},children:_e.jsxs(D1,{gutter:[16,16],children:[_e.jsx(so,{span:24,children:_e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[_e.jsx("span",{style:{fontSize:13,color:"var(--semi-color-text-1)"},children:t("increase")}),_e.jsx("input",{type:"color",value:n.positiveColor,onChange:i=>e({positiveColor:i.target.value}),style:{border:"none",background:"none",padding:0,width:24,height:24,cursor:"pointer"}})]})}),_e.jsx(so,{span:24,children:_e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[_e.jsx("span",{style:{fontSize:13,color:"var(--semi-color-text-1)"},children:t("decrease")}),_e.jsx("input",{type:"color",value:n.negativeColor,onChange:i=>e({negativeColor:i.target.value}),style:{border:"none",background:"none",padding:0,width:24,height:24,cursor:"pointer"}})]})}),_e.jsx(so,{span:24,children:_e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[_e.jsx("span",{style:{fontSize:13,color:"var(--semi-color-text-1)"},children:t("total")}),_e.jsx("input",{type:"color",value:n.totalColor,onChange:i=>e({totalColor:i.target.value}),style:{border:"none",background:"none",padding:0,width:24,height:24,cursor:"pointer"}})]})})]})})]})},ucn=n=>{var f;const{config:e,context:t,onDataReady:i}=n,[r,s]=q.useState([]),[a,o]=q.useState([]),[l,u]=q.useState(!0),c=M.useRef(null),d=M.useRef(0);q.useEffect(()=>{c.current&&(clearTimeout(c.current),c.current=null);const p=++d.current;if(u(!0),!e.tableId||!e.categoryFieldId||!e.valueFieldId){s([]),o([]),u(!1),i(!1);return}const g=async w=>{var T,E,A;try{const k=e.sortOrder==="desc"?2:1,P=e.sortType==="value"?"VALUE":e.sortType==="record"?"VIEW":"GROUP",I=e.chartType==="decomposition"&&e.groupFieldId,D=t.dashboardState===Yk.View;let L={type:U6.ALL};if(e.viewId)try{const V=await(await(await Ef.base.getTableById(e.tableId)).getViewById(e.viewId)).getName();L={type:U6.VIEW,viewId:e.viewId,viewName:V}}catch(z){console.error("Failed to get view info",z)}let B=[],F=[];if(e.chartType==="stacked"&&e.seriesFieldId){const z={tableId:e.tableId,dataRange:L,groups:[{fieldId:e.categoryFieldId,sort:{order:k,sortType:P}},{fieldId:e.seriesFieldId,sort:{order:1,sortType:"GROUP"}}],series:[{fieldId:e.valueFieldId,rollup:"SUM"}]};let N;D?(N=await Pa.getPreviewData(z),(!N||Array.isArray(N)&&N.length===0)&&(N=await Pa.getPreviewData(z))):N=await Pa.getPreviewData(z);let V=Array.isArray(N)?N:[];if(!Array.isArray(N)){let H=N.rangeData||((T=N.data)==null?void 0:T.rangeData);H&&(V=typeof H=="string"?JSON.parse(H):H)}if(V.length>1){const H=V[0],K=[];for(let U=1;U<H.length;U++){const X=H[U];K.push(String((X==null?void 0:X.text)||(X==null?void 0:X.value)||""))}for(let U=1;U<V.length;U++){const X=V[U];if(!Array.isArray(X)||X.length<2)continue;const Z=X[0],Q=(Z==null?void 0:Z.text)||String((Z==null?void 0:Z.value)||"");for(let se=1;se<X.length&&se<=K.length;se++){const ae=X[se];if((ae==null?void 0:ae.value)!==null&&(ae==null?void 0:ae.value)!==void 0){const ue=K[se-1],oe=Number(ae.value);Q&&ue&&!isNaN(oe)&&F.push({x:Q,y:oe,type:ue})}}}}}else if(I){const z={tableId:e.tableId,dataRange:L,groups:[{fieldId:e.groupFieldId,sort:{order:1,sortType:"GROUP"}},{fieldId:e.categoryFieldId,sort:{order:k,sortType:P}}],series:[{fieldId:e.valueFieldId,rollup:"SUM"}]};let N;D?(N=await Pa.getPreviewData(z),(!N||Array.isArray(N)&&N.length===0)&&(N=await Pa.getPreviewData(z))):N=await Pa.getPreviewData(z);let V=Array.isArray(N)?N:[];if(!Array.isArray(N)){let H=N.rangeData||((E=N.data)==null?void 0:E.rangeData);H&&(V=typeof H=="string"?JSON.parse(H):H)}if(V.length>1){const H=V[0],K=[];for(let U=1;U<H.length;U++){const X=H[U];K.push(String((X==null?void 0:X.text)||(X==null?void 0:X.value)||""))}for(let U=1;U<V.length;U++){const X=V[U];if(!Array.isArray(X)||X.length<2)continue;const Z=X[0],Q=(Z==null?void 0:Z.text)||String((Z==null?void 0:Z.value)||"");for(let se=1;se<X.length&&se<=K.length;se++){const ae=X[se];if((ae==null?void 0:ae.value)!==null&&(ae==null?void 0:ae.value)!==void 0){const ue=K[se-1],oe=Number(ae.value);ue&&!isNaN(oe)&&B.push({name:`${Q}${ue}`,value:oe,group:Q,labelString:ae.text,formatString:ae.formatString})}}}}if(B.length>0){const H=e.sortOrder==="desc";if(e.sortType!=="record"){const K=e.sortType==="value",U=new Map,X=[];for(const Z of B){const Q=Z.group||"";U.has(Q)||(U.set(Q,[]),X.push(Q)),U.get(Q).push(Z)}for(const[,Z]of U)Z.sort((Q,se)=>{if(K){const ae=Q.value-se.value;return H?-ae:ae}else{const ae=Q.name.includes("")?Q.name.split("")[1]:Q.name,ue=se.name.includes("")?se.name.split("")[1]:se.name,oe=ae.localeCompare(ue,"zh-Hans-CN");return H?-oe:oe}});B=[];for(const Z of X)B.push(...U.get(Z))}}B.length>0&&(B=icn(B,H=>H.group||"",e.showTotal,e.subtotalType))}else{const z={tableId:e.tableId,dataRange:L,groups:[{fieldId:e.categoryFieldId,sort:{order:k,sortType:P}}],series:[{fieldId:e.valueFieldId,rollup:"SUM"}]};let N;D?(N=await Pa.getPreviewData(z),(!N||Array.isArray(N)&&N.length===0)&&(N=await Pa.getPreviewData(z))):N=await Pa.getPreviewData(z);let V=Array.isArray(N)?N:[];if(!Array.isArray(N)){let H=N.rangeData||((A=N.data)==null?void 0:A.rangeData);H&&(V=typeof H=="string"?JSON.parse(H):H)}if(V.length>1)for(let H=1;H<V.length;H++){const K=V[H];if(Array.isArray(K)&&K.length>=2){const U=K[0],X=K[1],Z=U.text||String(U.value||"");let Q=0;X.value!==null&&X.value!==void 0?Q=Number(X.value):X.text&&(Q=Number(X.text)),Z&&B.push({name:Z,value:isNaN(Q)?0:Q,labelString:X.text,formatString:X.formatString})}}}if(!I){const z=e.sortOrder==="desc";if(e.sortType==="record"){if(z&&(B.length>0&&B.reverse(),F.length>0)){const N=[...new Set(F.map(H=>H.x))];N.reverse();const V=new Map(N.map((H,K)=>[H,K]));F.sort((H,K)=>(V.get(H.x)||0)-(V.get(K.x)||0))}}else{const N=e.sortType==="value";if(B.length>0&&B.sort((V,H)=>{if(N){const K=V.value-H.value;return z?-K:K}else{const K=V.name.localeCompare(H.name,"zh-Hans-CN");return z?-K:K}}),F.length>0)if(N){const V=new Map;for(const U of F){const X=V.get(U.x)||0;V.set(U.x,X+U.y)}const H=[...V.entries()].sort((U,X)=>z?X[1]-U[1]:U[1]-X[1]).map(U=>U[0]),K=new Map(H.map((U,X)=>[U,X]));F.sort((U,X)=>(K.get(U.x)||0)-(K.get(X.x)||0))}else{const V=[...new Set(F.map(K=>K.x))];V.sort((K,U)=>{const X=K.localeCompare(U,"zh-Hans-CN");return z?-X:X});const H=new Map(V.map((K,U)=>[K,U]));F.sort((K,U)=>(H.get(K.x)||0)-(H.get(U.x)||0))}}}if(p!==d.current)return;s(B),o(F),u(!1),i(B.length>0||F.length>0)}catch(k){if(console.error(":",k),p!==d.current)return;s([]),o([]),u(!1),i(!1)}};let m=!0,v=0;const _=w=>{c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{m&&(v=Date.now(),g())},500)};c.current=setTimeout(()=>{m&&(v=Date.now(),g())},100);const x=(async()=>{const w=Pa.onDataChange(()=>{Date.now()-v<2e3||_()});let T=()=>{};try{const E=await Ef.base.getTableById(e.tableId),A=E.onRecordAdd(()=>_("onRecordAdd")),k=E.onRecordModify(()=>_("onRecordModify")),P=E.onRecordDelete(()=>_("onRecordDelete"));T=()=>{A(),k(),P()}}catch(E){console.warn("Failed to setup table listeners:",E)}return()=>{w(),T()}})();return()=>{m=!1,c.current&&clearTimeout(c.current),x.then(w=>w())}},[e.tableId,e.viewId,e.categoryFieldId,e.valueFieldId,e.sortType,e.sortOrder,e.chartType,e.groupFieldId,e.showTotal,e.subtotalType,e.seriesFieldId,t.dashboardState,i]);const h=q.useCallback(p=>{console.log("Chart clicked:",p)},[]);return l||r.length===0&&a.length===0?null:_e.jsx(scn,{data:r,stackedData:a,positiveColor:e.positiveColor,negativeColor:e.negativeColor,totalColor:e.totalColor,showTotal:e.showTotal,isDark:t.isDark,chartType:e.chartType,labelValueType:e.labelValueType,labelFormatType:e.labelFormatType,decimalPrecision:e.decimalPrecision,yAxisTitle:e.yAxisTitle,xAxisTitle:e.xAxisTitle,formatter:(f=r[0])==null?void 0:f.formatString,onClick:h})},ccn=({config:n,onChange:e})=>_e.jsx(acn,{config:n,onChange:e}),dcn={type:"waterfall",displayName:"waterfallChart",defaultConfig:rJ,isConfigComplete:n=>!!(n.tableId&&n.categoryFieldId&&n.valueFieldId),buildDataConditions:n=>{const e=n.sortOrder==="desc"?2:1,t=n.sortType==="value"?"VALUE":n.sortType==="record"?"VIEW":"GROUP",i=n.chartType==="decomposition"&&n.groupFieldId;return n.chartType==="stacked"&&n.seriesFieldId?[{tableId:n.tableId,groups:[{fieldId:n.categoryFieldId,sort:{order:e,sortType:t}},{fieldId:n.seriesFieldId,sort:{order:1,sortType:"GROUP"}}],series:[{fieldId:n.valueFieldId,rollup:"SUM"}]}]:i?[{tableId:n.tableId,groups:[{fieldId:n.groupFieldId,sort:{order:1,sortType:"GROUP"}},{fieldId:n.categoryFieldId,sort:{order:e,sortType:t}}],series:[{fieldId:n.valueFieldId,rollup:"SUM"}]}]:[{tableId:n.tableId,groups:[{fieldId:n.categoryFieldId,sort:{order:e,sortType:t}}],series:[{fieldId:n.valueFieldId,rollup:"SUM"}]}]},ChartComponent:ucn,OptionsComponent:ocn,ColorOptionsComponent:lcn,ConfigPanelComponent:ccn},EW={waterfall:dcn},sJ={get(n){return EW[n]},getRegisteredTypes(){return Object.keys(EW)},getDefaultType(){return"waterfall"},isRegistered(n){return n in EW}};async function n2e(n,e,t=new Set){var i;if(n===ay.Number||n===ay.Currency)return!0;if(n===ay.Formula){const r=(i=e==null?void 0:e.property.dataType)==null?void 0:i.UIType;return r==="Number"||r==="Currency"}if(n===ay.Lookup){const r=e==null?void 0:e.property,s=r.refTableId,a=r.refFieldId;if(!s||!a)return!1;const o=`${s}:${a}`;if(t.has(o))return!1;t.add(o);try{const c=await(await(await Ef.base.getTableById(s)).getFieldById(a)).getMeta();return n2e(c.type,c,t)}catch(l){return console.warn("Failed to check lookup source field:",l),!1}}return!1}const hcn=({config:n,onChange:e})=>{const{t}=Uj(),[i,r]=q.useState([]),[s,a]=q.useState([]),[o,l]=q.useState([]),[u,c]=q.useState(n.yAxisTitle||""),d=q.useRef(null),[h,f]=q.useState(n.xAxisTitle||""),p=q.useRef(null);q.useEffect(()=>{c(n.yAxisTitle||""),f(n.xAxisTitle||"")},[n.yAxisTitle,n.xAxisTitle]);const g=q.useCallback(w=>{c(w),d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{e({yAxisTitle:w})},500)},[e]),m=q.useCallback(w=>{f(w),p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{e({xAxisTitle:w})},500)},[e]);q.useEffect(()=>{(async()=>{try{const T=await Ef.base.getTableList(),E=[];for(const A of T){const k=await A.getName();E.push({id:A.id,name:k})}r(E)}catch(T){console.error(":",T)}})()},[]),q.useEffect(()=>{if(!n.tableId){a([]);return}(async()=>{try{const E=await(await Ef.base.getTableById(n.tableId)).getViewList(),A=[];for(const k of E){const P=await k.getName();A.push({id:k.id,name:P})}a(A)}catch(T){console.error(":",T)}})()},[n.tableId]),q.useEffect(()=>{if(!n.tableId){l([]);return}(async()=>{try{const E=await(await Ef.base.getTableById(n.tableId)).getFieldList(),A=[];for(const k of E){const P=await k.getName(),I=await k.getType(),D=await k.getMeta(),L=await n2e(I,D);A.push({id:k.id,name:P,type:I,isNumericValue:L})}l(A)}catch(T){console.error(":",T)}})()},[n.tableId]);const[v,_]=q.useState(null);q.useEffect(()=>{v&&n&&v.setValues(n)},[n,v]);const y=sJ.get("waterfall"),x=()=>{if(!y)return null;const w=y.OptionsComponent;return w?_e.jsx(w,{config:n,onChange:e,fields:o}):null};return _e.jsx("div",{className:"config-panel",children:_e.jsx(Fn,{labelPosition:"top",getFormApi:w=>_(w),initValues:n,style:{paddingBottom:20},children:_e.jsxs(Fy,{type:"line",defaultActiveKey:"basic",children:[_e.jsx(Tm,{tab:t("basicSettings"),itemKey:"basic",children:_e.jsxs("div",{style:{paddingTop:16},children:[_e.jsx(Fn.Select,{field:"tableId",label:t("dataSource"),prefix:_e.jsx(y1e,{}),placeholder:t("selectDataTable"),style:{width:"100%"},onChange:w=>{e({tableId:w,viewId:"",categoryFieldId:"",valueFieldId:"",groupFieldId:"",seriesFieldId:""})},children:i.map(w=>_e.jsx(vr.Option,{value:w.id,children:w.name},w.id))}),_e.jsx(Fn.Select,{field:"viewId",label:t("dataRange"),prefix:_e.jsx(dA,{}),placeholder:t("allDataOrView"),disabled:!n.tableId,style:{width:"100%"},onChange:w=>e({viewId:w}),children:s.map(w=>_e.jsx(vr.Option,{value:w.id,children:w.name},w.id))}),_e.jsx(Kg,{margin:"16px"}),x()]})}),_e.jsx(Tm,{tab:t("customSettings"),itemKey:"custom",children:_e.jsxs("div",{style:{paddingTop:16},children:[_e.jsxs("div",{style:{marginBottom:16},children:[_e.jsx("div",{className:"semi-form-field-label",style:{marginBottom:4},children:t("decimalPrecision")}),_e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[_e.jsx(Tj,{value:n.decimalPrecision??2,min:0,max:6,step:1,style:{width:100},onChange:w=>e({decimalPrecision:w})}),_e.jsx("span",{style:{fontSize:12,color:"var(--semi-color-text-2)"},children:t("decimalPrecisionHelp")})]})]}),_e.jsxs("div",{style:{marginBottom:16},children:[_e.jsx("div",{className:"semi-form-field-label",style:{marginBottom:4},children:t("yAxisTitle")}),_e.jsx(Gl,{value:u,placeholder:t("enterYAxisTitle"),style:{width:"100%"},onChange:g})]}),_e.jsxs("div",{style:{marginBottom:16},children:[_e.jsx("div",{className:"semi-form-field-label",style:{marginBottom:4},children:t("xAxisTitle")}),_e.jsx(Gl,{value:h,placeholder:t("enterXAxisTitle"),style:{width:"100%"},onChange:m})]}),_e.jsx(Kg,{margin:"12px"}),(y==null?void 0:y.ColorOptionsComponent)&&_e.jsx(y.ColorOptionsComponent,{config:n,onChange:e})]})})]})})})};function fcn(n){const e=sJ.get(n);return(e==null?void 0:e.defaultConfig)||rJ}function pcn(){const{bgColor:n,isDark:e}=mNt(),{t}=Uj(),[i,r]=q.useState(()=>({...rJ,chartTitle:t("waterfallChart")})),[s,a]=q.useState(!1);q.useEffect(()=>{Ef.bridge.getLanguage().then(A=>{Qun(A)})},[]);const[o,l]=q.useState(!1),[u,c]=q.useState(""),[d,h]=q.useState([]),f=Pa.state===Yk.Create,p=Pa.state===Yk.Config||f,g=sJ.get("waterfall"),m={isDark:e,isConfig:p,dashboardState:Pa.state},v=q.useCallback(A=>{const{customConfig:k}=A;k&&r(P=>({...P,...k})),setTimeout(()=>{Pa.setRendered()},1e3)},[]);vNt(v);const _=q.useCallback(A=>{r(k=>{if(A.diagramType&&A.diagramType!==k.diagramType){const P=fcn(A.diagramType);return A.diagramType==="waterfall"&&(P.chartTitle=t("waterfallChart")),{...P,...A}}return{...k,...A}})},[t]),y=q.useCallback(A=>{a(A)},[]),x=async()=>{if(!g)return;const A=g.buildDataConditions(i),k={customConfig:i,dataConditions:A};try{await Pa.saveConfig(k),console.log("saveConfig ")}catch(P){console.error("saveConfig :",P)}},w=(g==null?void 0:g.isConfigComplete(i))||!1,T=[{title:t("recordName"),dataIndex:"name",key:"name"},{title:t("value"),dataIndex:"value",key:"value"}],E=()=>{if(!g)return _e.jsx(F2,{image:_e.jsx(PV,{size:"extra-large"}),title:t("unknownChartType"),description:t("selectValidChartType")});const A=g.ChartComponent;return _e.jsx(A,{config:i,context:m,onConfigChange:_,onDataReady:y})};return _e.jsxs("main",{className:`main ${p?"main-config":""}`,style:{backgroundColor:n},children:[_e.jsx("div",{className:"chart-container",children:w?_e.jsxs("div",{className:"chart-wrapper",children:[E(),!s&&_e.jsx(F2,{image:_e.jsx(PV,{size:"extra-large"}),title:t("noData"),description:t("loadingOrNoMatch")})]}):_e.jsx(F2,{image:_e.jsx(PV,{size:"extra-large"}),title:t("noData"),description:t(p?"configureDataSource":"configurePlugin")})}),p&&_e.jsxs("div",{className:"config-sidebar",children:[_e.jsx("div",{className:"config-header",children:_e.jsx("h3",{children:g!=null&&g.displayName?t(g.displayName):t("chartConfiguration")})}),_e.jsx("div",{className:"config-body",children:_e.jsx(hcn,{config:i,onChange:_})}),_e.jsx("div",{className:"config-footer",children:_e.jsx(Xl,{type:"primary",theme:"solid",block:!0,onClick:x,disabled:!w,children:t("confirm")})})]}),_e.jsx(id,{title:u,visible:o,onOk:()=>l(!1),onCancel:()=>l(!1),footer:null,width:600,style:{top:"10%"},children:_e.jsx(G0,{dataSource:d,columns:T,pagination:{pageSize:10},onRow:A=>({onClick:async()=>{if(A)try{await Ef.ui.showRecordDetailDialog({tableId:i.tableId,recordId:A.recordId})}catch(k){console.error("",k)}},style:{cursor:"pointer"}})})})]})}AW.createRoot(document.getElementById("root")).render(_e.jsx(M.StrictMode,{children:_e.jsx(pcn,{})}));export{Wn as A,nje as D,de as I,pi as M,On as T,oje as W,sje as q,ie as z};
